<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>html/OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="generator" content="pdftohtml 0.36"/>
<meta name="date" content="2008-08-19T13:22:58+00:00"/>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<!-- Page 1 -->
<a name="1"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft10{font-size:27px;font-family:BOJGFJ+BitstreamVeraSans;color:#000000;}
	.ft11{font-size:16px;font-family:BOJGFJ+BitstreamVeraSans;color:#000000;}
	.ft12{font-size:16px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
	.ft13{font-size:10px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
	.ft14{font-size:16px;line-height:19px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
	.ft15{font-size:16px;line-height:28px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
	.ft16{font-size:16px;line-height:19px;font-family:BOJGFJ+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page1-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2001.png" alt="background image"/>
<p style="position:absolute;top:188px;left:154px;white-space:nowrap" class="ft10"><b>D03.2: Collected internal deliverables&#160;</b></p>
<p style="position:absolute;top:219px;left:347px;white-space:nowrap" class="ft10"><b>for year 1+2&#160;</b></p>
<p style="position:absolute;top:278px;left:91px;white-space:nowrap" class="ft11"><b>Project&#160;number</b></p>
<p style="position:absolute;top:278px;left:425px;white-space:nowrap" class="ft12">IST-027635</p>
<p style="position:absolute;top:303px;left:91px;white-space:nowrap" class="ft11"><b>Project&#160;acronym</b></p>
<p style="position:absolute;top:303px;left:425px;white-space:nowrap" class="ft12">Open_TC</p>
<p style="position:absolute;top:329px;left:91px;white-space:nowrap" class="ft11"><b>Project&#160;title</b></p>
<p style="position:absolute;top:329px;left:425px;white-space:nowrap" class="ft12">Open Trusted Computing</p>
<p style="position:absolute;top:354px;left:91px;white-space:nowrap" class="ft11"><b>Deliverable&#160;type</b></p>
<p style="position:absolute;top:354px;left:425px;white-space:nowrap" class="ft12">Main&#160;Deliverable</p>
<p style="position:absolute;top:397px;left:91px;white-space:nowrap" class="ft11"><b>Deliverable&#160;reference&#160;number</b></p>
<p style="position:absolute;top:397px;left:425px;white-space:nowrap" class="ft12">IST-027635/D03.2/PUBLIC |&#160;1.00</p>
<p style="position:absolute;top:423px;left:91px;white-space:nowrap" class="ft11"><b>Deliverable&#160;title</b></p>
<p style="position:absolute;top:423px;left:425px;white-space:nowrap" class="ft12">Collected internal&#160;deliverables&#160;for year 1+2</p>
<p style="position:absolute;top:448px;left:91px;white-space:nowrap" class="ft11"><b>WP&#160;contributing&#160;to&#160;the&#160;deliverable</b></p>
<p style="position:absolute;top:448px;left:425px;white-space:nowrap" class="ft12">WP3</p>
<p style="position:absolute;top:474px;left:91px;white-space:nowrap" class="ft11"><b>Due&#160;date</b></p>
<p style="position:absolute;top:474px;left:425px;white-space:nowrap" class="ft12">Jun&#160;2008</p>
<p style="position:absolute;top:499px;left:91px;white-space:nowrap" class="ft11"><b>Actual&#160;submission&#160;date</b></p>
<p style="position:absolute;top:499px;left:425px;white-space:nowrap" class="ft12">Jun&#160;2008</p>
<p style="position:absolute;top:544px;left:91px;white-space:nowrap" class="ft11"><b>Responsible&#160;Organisation</b></p>
<p style="position:absolute;top:544px;left:424px;white-space:nowrap" class="ft12">IFX</p>
<p style="position:absolute;top:580px;left:91px;white-space:nowrap" class="ft11"><b>Authors</b></p>
<p style="position:absolute;top:570px;left:424px;white-space:nowrap" class="ft14">See the cover page&#160;of&#160;each&#160;included&#160;internal<br/>deliverable</p>
<p style="position:absolute;top:611px;left:91px;white-space:nowrap" class="ft11"><b>Abstract</b></p>
<p style="position:absolute;top:611px;left:424px;white-space:nowrap" class="ft14">Collection&#160;of following&#160;internal&#160;documents<br/>produced&#160;during&#160;years&#160;1&#160;and&#160;2:<br/>WP03a&#160;(WP03a&#160;Overview;&#160;D03a.1;&#160;D03a.2)<br/>WP03b&#160;(WP03b&#160;Overview;&#160;D03b.1)<br/>WP03c&#160;(D03c.2;&#160;D03c.3;&#160;D03c.4;&#160;D03c.5;<br/>D03c.6)<br/>WP03d&#160;(D03d.1;&#160;D03d.2&#160;&amp; D03d.3;&#160;D03d.4;<br/>D03d.5)</p>
<p style="position:absolute;top:813px;left:91px;white-space:nowrap" class="ft11"><b>Keywords</b></p>
<p style="position:absolute;top:856px;left:92px;white-space:nowrap" class="ft11"><b>Dissemination&#160;level</b></p>
<p style="position:absolute;top:856px;left:423px;white-space:nowrap" class="ft12">Public</p>
<p style="position:absolute;top:882px;left:92px;white-space:nowrap" class="ft11"><b>Revision</b></p>
<p style="position:absolute;top:882px;left:423px;white-space:nowrap" class="ft12">PUBLIC&#160;| 1.00</p>
<p style="position:absolute;top:933px;left:90px;white-space:nowrap" class="ft11"><b>Instrument</b></p>
<p style="position:absolute;top:933px;left:271px;white-space:nowrap" class="ft12">IP</p>
<p style="position:absolute;top:923px;left:452px;white-space:nowrap" class="ft16"><b>Start&#160;date&#160;of the<br/>project</b></p>
<p style="position:absolute;top:933px;left:632px;white-space:nowrap" class="ft12">1</p>
<p style="position:absolute;top:933px;left:643px;white-space:nowrap" class="ft13">st</p>
<p style="position:absolute;top:933px;left:652px;white-space:nowrap" class="ft12">&#160;November&#160;2005</p>
<p style="position:absolute;top:962px;left:90px;white-space:nowrap" class="ft11"><b>Thematic&#160;Priority</b></p>
<p style="position:absolute;top:962px;left:271px;white-space:nowrap" class="ft12">IST</p>
<p style="position:absolute;top:962px;left:452px;white-space:nowrap" class="ft11"><b>Duration</b></p>
<p style="position:absolute;top:962px;left:632px;white-space:nowrap" class="ft12">42 months</p>
</div>
<!-- Page 2 -->
<a name="2"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft27{font-size:15px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
	.ft28{font-size:14px;font-family:BOJHIF+OpenSymbol;color:#000000;}
-->
</style>
<div id="page2-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2002.png" alt="background image"/>
<p style="position:absolute;top:92px;left:278px;white-space:nowrap" class="ft27">MFA Intermediate System&#160;Specification</p>
<p style="position:absolute;top:92px;left:664px;white-space:nowrap" class="ft27">PUBLIC | 1.00</p>
<p style="position:absolute;top:179px;left:85px;white-space:nowrap" class="ft24">The Deliverable&#160;D03.2&#160;provides&#160;you&#160;a&#160;collection&#160;of following&#160;internal&#160;documents<br/>produced&#160;from&#160;M1&#160;to M24:&#160;</p>
<p style="position:absolute;top:255px;left:85px;white-space:nowrap" class="ft21"><b>WP03a:&#160;</b></p>
<p style="position:absolute;top:286px;left:112px;white-space:nowrap" class="ft28">●</p>
<p style="position:absolute;top:283px;left:139px;white-space:nowrap" class="ft22">WP03a&#160;Overview&#160;</p>
<p style="position:absolute;top:315px;left:112px;white-space:nowrap" class="ft28">●</p>
<p style="position:absolute;top:312px;left:139px;white-space:nowrap" class="ft22">D03a.1&#160;Functionality&#160;and&#160;Interface&#160;Specification&#160;</p>
<p style="position:absolute;top:343px;left:112px;white-space:nowrap" class="ft28">●</p>
<p style="position:absolute;top:340px;left:139px;white-space:nowrap" class="ft22">D03a.2&#160;Test&#160;Plan&#160;and&#160;Report</p>
<p style="position:absolute;top:397px;left:85px;white-space:nowrap" class="ft21"><b>WP03b:</b></p>
<p style="position:absolute;top:428px;left:112px;white-space:nowrap" class="ft28">●</p>
<p style="position:absolute;top:425px;left:139px;white-space:nowrap" class="ft22">WP03b&#160;Overview&#160;</p>
<p style="position:absolute;top:456px;left:112px;white-space:nowrap" class="ft28">●</p>
<p style="position:absolute;top:453px;left:139px;white-space:nowrap" class="ft22">D03b.1&#160;TPM Software&#160;Stack Implementation&#160;and&#160;Test&#160;Report</p>
<p style="position:absolute;top:510px;left:85px;white-space:nowrap" class="ft21"><b>WP03c:</b></p>
<p style="position:absolute;top:510px;left:155px;white-space:nowrap" class="ft22">&#160;</p>
<p style="position:absolute;top:541px;left:112px;white-space:nowrap" class="ft28">●</p>
<p style="position:absolute;top:538px;left:139px;white-space:nowrap" class="ft22">D03c.2&#160;High-level key&#160;manager&#160;service design&#160;specification</p>
<p style="position:absolute;top:570px;left:112px;white-space:nowrap" class="ft28">●</p>
<p style="position:absolute;top:567px;left:139px;white-space:nowrap" class="ft22">D03c.3&#160;SSL/TLS&#160;DAA-enhancement specification</p>
<p style="position:absolute;top:598px;left:112px;white-space:nowrap" class="ft28">●</p>
<p style="position:absolute;top:595px;left:139px;white-space:nowrap" class="ft22">D03c.4&#160;Key&#160;Management&#160;Adaption&#160;service code&#160;and&#160;documentation</p>
<p style="position:absolute;top:627px;left:112px;white-space:nowrap" class="ft28">●</p>
<p style="position:absolute;top:624px;left:139px;white-space:nowrap" class="ft22">D03c.5&#160;OpenSSH&#160;adaption&#160;service&#160;source&#160;code&#160;and&#160;documentation</p>
<p style="position:absolute;top:655px;left:112px;white-space:nowrap" class="ft28">●</p>
<p style="position:absolute;top:652px;left:139px;white-space:nowrap" class="ft22">D03c.6&#160;OpenSSL&#160;engine/DAA enhancement design specification</p>
<p style="position:absolute;top:718px;left:85px;white-space:nowrap" class="ft21"><b>WP03d:</b></p>
<p style="position:absolute;top:749px;left:112px;white-space:nowrap" class="ft28">●</p>
<p style="position:absolute;top:746px;left:139px;white-space:nowrap" class="ft22">D03d.1&#160;JAVA High&#160;level&#160;overview&#160;</p>
<p style="position:absolute;top:777px;left:112px;white-space:nowrap" class="ft28">●</p>
<p style="position:absolute;top:775px;left:139px;white-space:nowrap" class="ft24">D03d.2&#160;&amp;&#160;D03d.3&#160;Integrated&#160;Trusted&#160;Computing&#160;into&#160;the&#160;Java&#160;Programming<br/>Language&#160;</p>
<p style="position:absolute;top:825px;left:112px;white-space:nowrap" class="ft28">●</p>
<p style="position:absolute;top:822px;left:139px;white-space:nowrap" class="ft22">D03d.4&#160;Java&#160;VM&#160;for&#160;TC&#160;implementations&#160;</p>
<p style="position:absolute;top:854px;left:112px;white-space:nowrap" class="ft28">●</p>
<p style="position:absolute;top:851px;left:139px;white-space:nowrap" class="ft22">D03d.5&#160;Java&#160;API&#160;and&#160;Library&#160;implementation</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft27">Open_TC&#160;Deliverable&#160;3.2</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft27">2/2</p>
</div>
<!-- Page 3 -->
<a name="3"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page3-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2003.png" alt="background image"/>
<p style="position:absolute;top:242px;left:274px;white-space:nowrap" class="ft30"><b>D03a WP03a&#160;Overview</b></p>
<p style="position:absolute;top:319px;left:91px;white-space:nowrap" class="ft31"><b>Project&#160;number</b></p>
<p style="position:absolute;top:319px;left:425px;white-space:nowrap" class="ft32">IST-027635</p>
<p style="position:absolute;top:345px;left:91px;white-space:nowrap" class="ft31"><b>Project&#160;acronym</b></p>
<p style="position:absolute;top:345px;left:425px;white-space:nowrap" class="ft32">Open_TC</p>
<p style="position:absolute;top:370px;left:91px;white-space:nowrap" class="ft31"><b>Project&#160;title</b></p>
<p style="position:absolute;top:370px;left:425px;white-space:nowrap" class="ft32">Open Trusted Computing</p>
<p style="position:absolute;top:396px;left:91px;white-space:nowrap" class="ft31"><b>Deliverable&#160;type</b></p>
<p style="position:absolute;top:396px;left:425px;white-space:nowrap" class="ft32">Report&#160;(see&#160;p&#160;84/85&#160;Annex&#160;1 -&#160;Nature)</p>
<p style="position:absolute;top:439px;left:91px;white-space:nowrap" class="ft31"><b>Deliverable&#160;reference&#160;number</b></p>
<p style="position:absolute;top:439px;left:425px;white-space:nowrap" class="ft32">IST-027635/D03a/RC|1.01</p>
<p style="position:absolute;top:464px;left:91px;white-space:nowrap" class="ft31"><b>Deliverable&#160;title</b></p>
<p style="position:absolute;top:464px;left:425px;white-space:nowrap" class="ft32">WP03a&#160;Overview</p>
<p style="position:absolute;top:490px;left:91px;white-space:nowrap" class="ft31"><b>WP&#160;contributing&#160;to&#160;the&#160;deliverable</b></p>
<p style="position:absolute;top:490px;left:425px;white-space:nowrap" class="ft32">WP03a</p>
<p style="position:absolute;top:515px;left:91px;white-space:nowrap" class="ft31"><b>Due&#160;date</b></p>
<p style="position:absolute;top:515px;left:425px;white-space:nowrap" class="ft32">Apr&#160;2006&#160;-&#160;M06</p>
<p style="position:absolute;top:541px;left:91px;white-space:nowrap" class="ft31"><b>Actual&#160;submission&#160;date</b></p>
<p style="position:absolute;top:584px;left:91px;white-space:nowrap" class="ft31"><b>Responsible&#160;Organisation</b></p>
<p style="position:absolute;top:584px;left:424px;white-space:nowrap" class="ft32">AMD</p>
<p style="position:absolute;top:609px;left:91px;white-space:nowrap" class="ft31"><b>Authors</b></p>
<p style="position:absolute;top:609px;left:424px;white-space:nowrap" class="ft32">AMD (Matthias&#160;Lenk)</p>
<p style="position:absolute;top:632px;left:91px;white-space:nowrap" class="ft31"><b>Abstract</b></p>
<p style="position:absolute;top:632px;left:424px;white-space:nowrap" class="ft34">Virtualization&#160;refers&#160;to the&#160;creation&#160;of one or<br/>more&#160;execution&#160;environments&#160;on&#160;the&#160;same<br/>machine&#160;each of&#160;which mirrors&#160;the original<br/>platform&#160;in&#160;order&#160;to&#160;make&#160;the respective<br/>operating&#160;system believe&#160;it was&#160;exclusively<br/>running&#160;on&#160;a real platform.&#160;This&#160;approach<br/>has several&#160;advantages&#160;over the&#160;traditional<br/>way&#160;to&#160;share&#160;the&#160;resources&#160;of&#160;a&#160;platform&#160;and<br/>enables&#160;a variety&#160;of valuable&#160;applications<br/>such&#160;as&#160;the simultaneous&#160;execution of<br/>multiple&#160;operating&#160;systems&#160;or&#160;server&#160;sharing.</p>
<p style="position:absolute;top:872px;left:91px;white-space:nowrap" class="ft31"><b>Keywords</b></p>
<p style="position:absolute;top:862px;left:424px;white-space:nowrap" class="ft34">para&#160;virtualization,&#160;hardware&#160;virtualization,<br/>trusted&#160;computing&#160;base,&#160;TCB,&#160;TPM</p>
<p style="position:absolute;top:921px;left:92px;white-space:nowrap" class="ft31"><b>Dissemination&#160;level</b></p>
<p style="position:absolute;top:921px;left:423px;white-space:nowrap" class="ft32">Public | Confidential</p>
<p style="position:absolute;top:947px;left:92px;white-space:nowrap" class="ft31"><b>Revision</b></p>
<p style="position:absolute;top:947px;left:423px;white-space:nowrap" class="ft32">RC|1.01</p>
<p style="position:absolute;top:998px;left:90px;white-space:nowrap" class="ft31"><b>Instrument</b></p>
<p style="position:absolute;top:998px;left:271px;white-space:nowrap" class="ft32">IP</p>
<p style="position:absolute;top:988px;left:452px;white-space:nowrap" class="ft36"><b>Start&#160;date&#160;of the<br/>project</b></p>
<p style="position:absolute;top:998px;left:632px;white-space:nowrap" class="ft32">1</p>
<p style="position:absolute;top:998px;left:643px;white-space:nowrap" class="ft33">st</p>
<p style="position:absolute;top:998px;left:652px;white-space:nowrap" class="ft32">&#160;November&#160;2005</p>
<p style="position:absolute;top:1027px;left:90px;white-space:nowrap" class="ft31"><b>Thematic&#160;Priority</b></p>
<p style="position:absolute;top:1027px;left:271px;white-space:nowrap" class="ft32">IST</p>
<p style="position:absolute;top:1027px;left:452px;white-space:nowrap" class="ft31"><b>Duration</b></p>
<p style="position:absolute;top:1027px;left:632px;white-space:nowrap" class="ft32">42 months</p>
</div>
<!-- Page 4 -->
<a name="4"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft49{font-size:24px;font-family:BOJGFJ+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page4-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2004.png" alt="background image"/>
<p style="position:absolute;top:92px;left:362px;white-space:nowrap" class="ft47">WP03a Overview</p>
<p style="position:absolute;top:92px;left:706px;white-space:nowrap" class="ft47">RC|1.01</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft49"><b>Table of&#160;Contents</b></p>
<p style="position:absolute;top:206px;left:85px;white-space:nowrap" class="ft42">1&#160;&#160;Secure&#160;Virtualization&#160;Introduction..............................................................................5</p>
<p style="position:absolute;top:225px;left:94px;white-space:nowrap" class="ft44">1.1&#160;Para&#160;Virtualization&#160;vs.&#160;full Virtualization.................................................................5<br/>1.2&#160;Hardware&#160;Virtualization..........................................................................................5</p>
<p style="position:absolute;top:264px;left:85px;white-space:nowrap" class="ft42">2&#160;&#160;AMDs&#160;Secure&#160;Virtual&#160;Machine&#160;Technology.................................................................6</p>
<p style="position:absolute;top:283px;left:94px;white-space:nowrap" class="ft44">2.1&#160;Guest Execution Environment................................................................................6<br/>2.2&#160;Security&#160;Enhancements..........................................................................................6<br/>2.3&#160;Secure Initialization of&#160;the&#160;TCB..............................................................................6</p>
<p style="position:absolute;top:340px;left:85px;white-space:nowrap" class="ft42">3&#160;&#160;List of Abbreviations&#160;.................................................................................................8</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft47">Open_TC&#160;Deliverable&#160;03a</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft47">2/6</p>
</div>
<!-- Page 5 -->
<a name="5"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft510{font-size:15px;font-family:KKCEAA+BitstreamVeraSerif;color:#000000;}
	.ft511{font-size:18px;font-family:BOJGFJ+BitstreamVeraSans;color:#000000;}
	.ft512{font-size:15px;font-family:BOJGFJ+BitstreamVeraSans;color:#000000;}
	.ft513{font-size:12px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
	.ft514{font-size:16px;font-family:KKCECB+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page5-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2005.png" alt="background image"/>
<p style="position:absolute;top:92px;left:362px;white-space:nowrap" class="ft57">WP03a Overview</p>
<p style="position:absolute;top:92px;left:706px;white-space:nowrap" class="ft57">RC|1.01</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft510"><b>1&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft511"><b>Secure Virtualization&#160;and Initialization&#160;Introduction</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft54">Virtualization&#160;refers&#160;to&#160;the creation&#160;of one or&#160;more&#160;execution&#160;environments&#160;on&#160;the<br/>same&#160;machine&#160;each&#160;of&#160;which&#160;mirrors&#160;the&#160;original&#160;platform&#160;in&#160;order&#160;to&#160;make&#160;the<br/>respective&#160;operating&#160;system&#160;believe&#160;it was&#160;exclusively&#160;running&#160;on a&#160;real&#160;platform.&#160;This<br/>approach&#160;has&#160;several&#160;advantages&#160;over the traditional&#160;way to share&#160;the&#160;resources&#160;of a<br/>platform&#160;and enables&#160;a variety&#160;of valuable&#160;applications&#160;such&#160;as&#160;the&#160;simultaneous<br/>execution&#160;of multiple&#160;operating&#160;systems&#160;or&#160;server&#160;sharing.</p>
<p style="position:absolute;top:333px;left:85px;white-space:nowrap" class="ft54">Together&#160;with hardware&#160;security&#160;features&#160;such&#160;as&#160;secure&#160;initialization&#160;this&#160;can&#160;address<br/>the&#160;vast&#160;challenge&#160;of computer&#160;security&#160;present&#160;in todays computer&#160;platforms.<br/>Potentially&#160;untrusted&#160;software&#160;or operating&#160;systems&#160;can&#160;run&#160;in a sandbox&#160;like<br/>environment&#160;with complete separation&#160;from&#160;the&#160;rest&#160;of the system.</p>
<p style="position:absolute;top:447px;left:85px;white-space:nowrap" class="ft51"><b>1.1&#160;Para&#160;Virtualization&#160;vs. full&#160;Virtualization</b></p>
<p style="position:absolute;top:476px;left:85px;white-space:nowrap" class="ft54">Without hardware&#160;support&#160;for&#160;virtualization&#160;the&#160;implementation&#160;of&#160;full&#160;virtualization,<br/>which&#160;allows unmodified&#160;operating&#160;systems&#160;to run&#160;seamlessly,&#160;proves&#160;to&#160;be complex<br/>and&#160;rather&#160;inefficient.&#160;Thus&#160;a large&#160;portion&#160;of&#160;the resources&#160;of&#160;the&#160;system&#160;are&#160;wasted<br/>for&#160;managing&#160;virtual&#160;machines.&#160;</p>
<p style="position:absolute;top:572px;left:85px;white-space:nowrap" class="ft54">The alternative&#160;lies&#160;in&#160;modifying&#160;the&#160;operating&#160;system&#160;for&#160;the virtual&#160;machine&#160;to&#160;reuse<br/>infrastructure&#160;of&#160;the management&#160;software&#160;called&#160;virtual&#160;machine&#160;monitor&#160;(VMM)&#160;or<br/>hypervisor.&#160;This para-virtualization&#160;leads&#160;to a&#160;significant&#160;performance&#160;improvement<br/>but&#160;incorporates&#160;the disadvantage&#160;of needing&#160;to&#160;modify&#160;the&#160;requested&#160;operating<br/>system.&#160;This is especially&#160;a&#160;problem&#160;for&#160;proprietary&#160;operating&#160;systems.</p>
<p style="position:absolute;top:705px;left:85px;white-space:nowrap" class="ft51"><b>1.2&#160;Hardware&#160;Virtualization</b></p>
<p style="position:absolute;top:733px;left:85px;white-space:nowrap" class="ft54">The traditional&#160;approach&#160;to&#160;implement&#160;virtualization&#160;are based&#160;on&#160;a complicated<br/>virtual&#160;machine&#160;monitor&#160;running&#160;on top of the&#160;operating&#160;system.&#160;In&#160;contrast&#160;to&#160;that<br/>more&#160;modern para-virtualization&#160;introduces&#160;a&#160;very&#160;thin hypervisor&#160;layer which<br/>manages&#160;the virtual&#160;machines&#160;and&#160;provides&#160;most&#160;basic&#160;operating&#160;system<br/>functionalities&#160;and&#160;an&#160;interface&#160;for the&#160;guest&#160;operating&#160;systems&#160;running&#160;inside&#160;the<br/>virtual&#160;machine.</p>
<p style="position:absolute;top:1100px;left:85px;white-space:nowrap" class="ft54">Hardware&#160;virtualization&#160;features&#160;can extend&#160;the&#160;hypervisor&#160;based&#160;solution&#160;by<br/>supporting&#160;unmodified&#160;operating&#160;systems&#160;and&#160;further&#160;improving&#160;performance&#160;. Thus</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft57">Open_TC&#160;Deliverable&#160;03a</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft57">3/6</p>
<p style="position:absolute;top:1063px;left:85px;white-space:nowrap" class="ft512"><b>Figure 1:&#160;Traditional vs.&#160;Modern&#160;Virtualization</b></p>
<p style="position:absolute;top:978px;left:153px;white-space:nowrap" class="ft52">Hardware</p>
<p style="position:absolute;top:934px;left:181px;white-space:nowrap" class="ft52">OS</p>
<p style="position:absolute;top:886px;left:167px;white-space:nowrap" class="ft52">&#160;&#160;VMM</p>
<p style="position:absolute;top:888px;left:105px;white-space:nowrap" class="ft513">VM1&#160;VM2</p>
<p style="position:absolute;top:888px;left:256px;white-space:nowrap" class="ft513">VMn</p>
<p style="position:absolute;top:978px;left:444px;white-space:nowrap" class="ft52">Hardware</p>
<p style="position:absolute;top:934px;left:464px;white-space:nowrap" class="ft52">VMM</p>
<p style="position:absolute;top:886px;left:391px;white-space:nowrap" class="ft52">VM1&#160;VM2</p>
<p style="position:absolute;top:886px;left:542px;white-space:nowrap" class="ft52">VMn</p>
<p style="position:absolute;top:1020px;left:96px;white-space:nowrap" class="ft514"><i>Traditional&#160;Virtualization</i></p>
<p style="position:absolute;top:1020px;left:398px;white-space:nowrap" class="ft514"><i>Modern&#160;Virtualization</i></p>
</div>
<!-- Page 6 -->
<a name="6"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft615{font-size:14px;font-family:KKCEEB+OpenSymbol;color:#000000;}
-->
</style>
<div id="page6-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2006.png" alt="background image"/>
<p style="position:absolute;top:92px;left:362px;white-space:nowrap" class="ft67">WP03a Overview</p>
<p style="position:absolute;top:92px;left:706px;white-space:nowrap" class="ft67">RC|1.01</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft64">the disadvantages&#160;of traditional&#160;and hypervisor&#160;based software&#160;virtualization&#160;can&#160;be<br/>overcome&#160;with special&#160;hardware&#160;features&#160;of the&#160;processor.</p>
<p style="position:absolute;top:229px;left:85px;white-space:nowrap" class="ft610"><b>2&#160;</b></p>
<p style="position:absolute;top:227px;left:117px;white-space:nowrap" class="ft611"><b>AMDs Secure Virtual&#160;Machine Technology</b></p>
<p style="position:absolute;top:257px;left:85px;white-space:nowrap" class="ft64">In&#160;order&#160;to&#160;support&#160;unmodified&#160;guest operating&#160;systems&#160;the&#160;AMD&#160;SVM&#160;enhanced CPU<br/>supports&#160;the new&#160;host&#160;and guest execution&#160;environments.&#160;The VMM runs&#160;in&#160;a&#160;higher<br/>privileged&#160;host&#160;mode&#160;and&#160;the virtual&#160;machines&#160;operate&#160;in a special&#160;guest&#160;mode.&#160;</p>
<p style="position:absolute;top:351px;left:85px;white-space:nowrap" class="ft61"><b>2.1&#160;Guest&#160;Execution&#160;Environment</b></p>
<p style="position:absolute;top:380px;left:85px;white-space:nowrap" class="ft64">The SVM&#160;technology&#160;provides&#160;a new CPU instruction&#160;called VMRUN&#160;which&#160;executes<br/>guest&#160;code&#160;in&#160;a&#160;secure execution environment.&#160;Whenever&#160;the&#160;guest executes an<br/>operation which requires&#160;the attention of the VMM the&#160;guest&#160;gets intercepted.</p>
<p style="position:absolute;top:456px;left:85px;white-space:nowrap" class="ft64">This&#160;enables&#160;secure&#160;memory&#160;partitioning&#160;by&#160;allowing&#160;the&#160;VMM&#160;to monitor&#160;the page<br/>table&#160;of&#160;the&#160;guest&#160;and&#160;to ensure&#160;strong&#160;isolation&#160;between&#160;the individual&#160;guests&#160;and<br/>host.&#160;Another&#160;cause&#160;for&#160;an intercept&#160;are&#160;interrupts&#160;and exceptions&#160;which&#160;will&#160;then&#160;be<br/>handled&#160;by&#160;the&#160;VMM.&#160;In order&#160;to&#160;let&#160;a&#160;guest&#160;handle&#160;interrupts&#160;or&#160;exceptions&#160;these<br/>events can be injected&#160;into&#160;the&#160;guest.&#160;</p>
<p style="position:absolute;top:572px;left:85px;white-space:nowrap" class="ft64">On each intercept&#160;the&#160;state of the guest is&#160;automatically&#160;stored&#160;in a&#160;special&#160;memory<br/>structure&#160;and&#160;recovered&#160;at&#160;the&#160;next&#160;execution.</p>
<p style="position:absolute;top:628px;left:85px;white-space:nowrap" class="ft61"><b>2.2&#160;Security&#160;Enhancements</b></p>
<p style="position:absolute;top:656px;left:85px;white-space:nowrap" class="ft64">Additional&#160;to&#160;virtualization&#160;functions the SVM&#160;technology&#160;also provides&#160;security<br/>enhancements&#160;which&#160;can&#160;be used&#160;to&#160;establish&#160;a&#160;trusted&#160;computing base&#160;(TCB). The<br/>following&#160;elements&#160;comprise&#160;the SVMs&#160;support&#160;for&#160;a&#160;TCB:</p>
<p style="position:absolute;top:736px;left:112px;white-space:nowrap" class="ft615">•</p>
<p style="position:absolute;top:733px;left:139px;white-space:nowrap" class="ft62">Hardware&#160;enforced&#160;privilege levels</p>
<p style="position:absolute;top:756px;left:112px;white-space:nowrap" class="ft615">•</p>
<p style="position:absolute;top:753px;left:139px;white-space:nowrap" class="ft62">Strong&#160;domain&#160;separation</p>
<p style="position:absolute;top:775px;left:112px;white-space:nowrap" class="ft615">•</p>
<p style="position:absolute;top:772px;left:139px;white-space:nowrap" class="ft62">I/O protection</p>
<p style="position:absolute;top:794px;left:112px;white-space:nowrap" class="ft615">•</p>
<p style="position:absolute;top:792px;left:139px;white-space:nowrap" class="ft62">Device protection</p>
<p style="position:absolute;top:814px;left:112px;white-space:nowrap" class="ft615">•</p>
<p style="position:absolute;top:811px;left:139px;white-space:nowrap" class="ft62">Attestable&#160;initialization of the&#160;TCB&#160;software&#160;elements</p>
<p style="position:absolute;top:833px;left:112px;white-space:nowrap" class="ft615">•</p>
<p style="position:absolute;top:831px;left:139px;white-space:nowrap" class="ft62">TPM&#160;support</p>
<p style="position:absolute;top:869px;left:85px;white-space:nowrap" class="ft64">The&#160;first four&#160;of&#160;these elements&#160;are directly&#160;provided&#160;by&#160;the SVM guest execution<br/>environment.&#160;For I/O&#160;port&#160;and MSR&#160;protection&#160;special&#160;bitmaps&#160;specify&#160;the&#160;privileges&#160;of<br/>each&#160;guest.&#160;Furthermore&#160;bus-master&#160;peripheral&#160;devices are&#160;prevented&#160;from&#160;accessing<br/>arbitrary&#160;memory&#160;by a&#160;mechanism&#160;called&#160;multi-domain&#160;device exclusion&#160;vector (DEV).</p>
<p style="position:absolute;top:983px;left:85px;white-space:nowrap" class="ft61"><b>2.3&#160;Secure Initialization&#160;of the&#160;TCB</b></p>
<p style="position:absolute;top:1011px;left:85px;white-space:nowrap" class="ft64">Secure&#160;initialization&#160;requires&#160;immutable&#160;hardware&#160;components&#160;in order to&#160;prevent<br/>software&#160;based&#160;attacks.&#160;The new&#160;SKINIT&#160;instruction provides&#160;this immutability&#160;while<br/>retaining&#160;the ability&#160;to use&#160;traditional&#160;platform&#160;boot&#160;mechanisms.&#160;This&#160;can be&#160;achieved<br/>since uncontrolled&#160;software&#160;triggers&#160;the&#160;secure&#160;initialization process&#160;which comprises<br/>of loading&#160;a&#160;so&#160;called&#160;secure&#160;loader&#160;(SL) and&#160;TCB code&#160;into&#160;memory&#160;and&#160;executing&#160;the<br/>SKINIT&#160;instruction.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft67">Open_TC&#160;Deliverable&#160;03a</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft67">4/6</p>
</div>
<!-- Page 7 -->
<a name="7"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page7-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2007.png" alt="background image"/>
<p style="position:absolute;top:92px;left:362px;white-space:nowrap" class="ft77">WP03a Overview</p>
<p style="position:absolute;top:92px;left:706px;white-space:nowrap" class="ft77">RC|1.01</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft74">This&#160;instruction&#160;will&#160;then&#160;securely&#160;measure&#160;and&#160;start&#160;the&#160;secure&#160;loader.&#160;This<br/>measurement&#160;is extended&#160;to&#160;the TPM.&#160;It is&#160;made&#160;sure&#160;that&#160;no&#160;external&#160;hardware&#160;event<br/>can&#160;tamper with&#160;or interrupt&#160;the secure&#160;initialization process.&#160;</p>
<p style="position:absolute;top:228px;left:85px;white-space:nowrap" class="ft74">In the&#160;secure&#160;initialization process,&#160;the&#160;platform&#160;configuration&#160;is&#160;verified&#160;and<br/>measured.&#160;Measurements&#160;are&#160;extended&#160;to a TPM. The&#160;platform&#160;configuration&#160;includes<br/>hardware&#160;and&#160;software&#160;aspects.&#160;This allows the TCB to&#160;start&#160;in&#160;a known-good<br/>environment and&#160;to&#160;check later,&#160;if&#160;the desired&#160;configuration&#160;options&#160;are available.&#160;</p>
<p style="position:absolute;top:324px;left:85px;white-space:nowrap" class="ft74">The secure&#160;loader&#160;is&#160;then&#160;responsible&#160;for measuring&#160;and&#160;initializing&#160;the&#160;trusted<br/>computing&#160;base software.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft77">Open_TC&#160;Deliverable&#160;03a</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft77">5/6</p>
</div>
<!-- Page 8 -->
<a name="8"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page8-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2008.png" alt="background image"/>
<p style="position:absolute;top:92px;left:362px;white-space:nowrap" class="ft87">WP03a Overview</p>
<p style="position:absolute;top:92px;left:706px;white-space:nowrap" class="ft87">RC|1.01</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft810"><b>3&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft811"><b>List&#160;of&#160;Abbreviations&#160;</b></p>
<p style="position:absolute;top:274px;left:91px;white-space:nowrap" class="ft82">CPU</p>
<p style="position:absolute;top:274px;left:220px;white-space:nowrap" class="ft82">Central&#160;Processing&#160;Unit</p>
<p style="position:absolute;top:293px;left:91px;white-space:nowrap" class="ft82">DEV</p>
<p style="position:absolute;top:293px;left:220px;white-space:nowrap" class="ft82">Device&#160;Exclusion&#160;Vector</p>
<p style="position:absolute;top:313px;left:91px;white-space:nowrap" class="ft82">MSR</p>
<p style="position:absolute;top:313px;left:220px;white-space:nowrap" class="ft82">Machine Specific&#160;Register</p>
<p style="position:absolute;top:332px;left:91px;white-space:nowrap" class="ft82">OS</p>
<p style="position:absolute;top:332px;left:220px;white-space:nowrap" class="ft82">Operating System</p>
<p style="position:absolute;top:351px;left:91px;white-space:nowrap" class="ft82">SL</p>
<p style="position:absolute;top:351px;left:220px;white-space:nowrap" class="ft82">Secure&#160;Loader</p>
<p style="position:absolute;top:370px;left:91px;white-space:nowrap" class="ft82">SVM</p>
<p style="position:absolute;top:370px;left:220px;white-space:nowrap" class="ft82">Secure Virtual&#160;Machine technology&#160;by&#160;AMD</p>
<p style="position:absolute;top:389px;left:91px;white-space:nowrap" class="ft82">TCB</p>
<p style="position:absolute;top:389px;left:220px;white-space:nowrap" class="ft82">Trusted Computing&#160;Base</p>
<p style="position:absolute;top:409px;left:91px;white-space:nowrap" class="ft82">VM</p>
<p style="position:absolute;top:409px;left:220px;white-space:nowrap" class="ft82">Virtual&#160;Machine</p>
<p style="position:absolute;top:428px;left:91px;white-space:nowrap" class="ft82">VMM</p>
<p style="position:absolute;top:428px;left:220px;white-space:nowrap" class="ft82">Virtual&#160;Machine&#160;Monitor&#160;also&#160;known&#160;as&#160;hypervisor</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft87">Open_TC&#160;Deliverable&#160;03a</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft87">6/6</p>
</div>
<!-- Page 9 -->
<a name="9"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page9-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2009.png" alt="background image"/>
<p style="position:absolute;top:242px;left:182px;white-space:nowrap" class="ft90"><b>D03a.1 Functionality and Interface</b></p>
<p style="position:absolute;top:273px;left:348px;white-space:nowrap" class="ft90"><b>Specification</b></p>
<p style="position:absolute;top:351px;left:91px;white-space:nowrap" class="ft91"><b>Project&#160;number</b></p>
<p style="position:absolute;top:351px;left:425px;white-space:nowrap" class="ft92">IST-027635</p>
<p style="position:absolute;top:376px;left:91px;white-space:nowrap" class="ft91"><b>Project&#160;acronym</b></p>
<p style="position:absolute;top:376px;left:425px;white-space:nowrap" class="ft92">Open_TC</p>
<p style="position:absolute;top:402px;left:91px;white-space:nowrap" class="ft91"><b>Project&#160;title</b></p>
<p style="position:absolute;top:402px;left:425px;white-space:nowrap" class="ft92">Open Trusted Computing</p>
<p style="position:absolute;top:427px;left:91px;white-space:nowrap" class="ft91"><b>Deliverable&#160;type</b></p>
<p style="position:absolute;top:427px;left:425px;white-space:nowrap" class="ft92">Report&#160;(see&#160;p&#160;84/85&#160;Annex&#160;1 -&#160;Nature)</p>
<p style="position:absolute;top:470px;left:91px;white-space:nowrap" class="ft91"><b>Deliverable&#160;reference&#160;number</b></p>
<p style="position:absolute;top:470px;left:425px;white-space:nowrap" class="ft92">IST-027635/D03a.1/RC|1.0</p>
<p style="position:absolute;top:496px;left:91px;white-space:nowrap" class="ft91"><b>Deliverable&#160;title</b></p>
<p style="position:absolute;top:496px;left:425px;white-space:nowrap" class="ft92">Functionality&#160;and Interface&#160;Specification</p>
<p style="position:absolute;top:521px;left:91px;white-space:nowrap" class="ft91"><b>WP&#160;contributing&#160;to&#160;the&#160;deliverable</b></p>
<p style="position:absolute;top:521px;left:425px;white-space:nowrap" class="ft92">WP03a</p>
<p style="position:absolute;top:547px;left:91px;white-space:nowrap" class="ft91"><b>Due&#160;date</b></p>
<p style="position:absolute;top:547px;left:425px;white-space:nowrap" class="ft92">Apr&#160;2006&#160;-&#160;M06</p>
<p style="position:absolute;top:572px;left:91px;white-space:nowrap" class="ft91"><b>Actual&#160;submission&#160;date</b></p>
<p style="position:absolute;top:615px;left:91px;white-space:nowrap" class="ft91"><b>Responsible&#160;Organisation</b></p>
<p style="position:absolute;top:615px;left:424px;white-space:nowrap" class="ft92">AMD</p>
<p style="position:absolute;top:641px;left:91px;white-space:nowrap" class="ft91"><b>Authors</b></p>
<p style="position:absolute;top:641px;left:424px;white-space:nowrap" class="ft92">AMD (Ralf Findeisen,&#160;Matthias&#160;Lenk)</p>
<p style="position:absolute;top:663px;left:91px;white-space:nowrap" class="ft91"><b>Abstract</b></p>
<p style="position:absolute;top:663px;left:424px;white-space:nowrap" class="ft94">his document&#160;specifies&#160;the architecture&#160;and<br/>interfaces&#160;for&#160;work&#160;package&#160;03a&#160;of&#160;the<br/>OpenTC&#160;project. It&#160;is&#160;based&#160;on&#160;AMD's<br/>hardware&#160;extensions&#160;for virtualization&#160;and<br/>secure&#160;initialization.&#160;&#160;</p>
<p style="position:absolute;top:895px;left:91px;white-space:nowrap" class="ft91"><b>Keywords</b></p>
<p style="position:absolute;top:876px;left:424px;white-space:nowrap" class="ft94">hardware,&#160;virtualisation,&#160;hypervisor,&#160;AMD,<br/>PCR,&#160;TPM,&#160;secure&#160;loader,&#160;configuration<br/>verifier</p>
<p style="position:absolute;top:954px;left:92px;white-space:nowrap" class="ft91"><b>Dissemination&#160;level</b></p>
<p style="position:absolute;top:954px;left:423px;white-space:nowrap" class="ft92">Public | Confidential</p>
<p style="position:absolute;top:980px;left:92px;white-space:nowrap" class="ft91"><b>Revision</b></p>
<p style="position:absolute;top:980px;left:423px;white-space:nowrap" class="ft92">RC1</p>
<p style="position:absolute;top:1031px;left:90px;white-space:nowrap" class="ft91"><b>Instrument</b></p>
<p style="position:absolute;top:1031px;left:271px;white-space:nowrap" class="ft92">IP</p>
<p style="position:absolute;top:1021px;left:452px;white-space:nowrap" class="ft96"><b>Start&#160;date&#160;of the<br/>project</b></p>
<p style="position:absolute;top:1031px;left:632px;white-space:nowrap" class="ft92">1</p>
<p style="position:absolute;top:1031px;left:643px;white-space:nowrap" class="ft93">st</p>
<p style="position:absolute;top:1031px;left:652px;white-space:nowrap" class="ft92">&#160;November&#160;2005</p>
<p style="position:absolute;top:1060px;left:90px;white-space:nowrap" class="ft91"><b>Thematic&#160;Priority</b></p>
<p style="position:absolute;top:1060px;left:271px;white-space:nowrap" class="ft92">IST</p>
<p style="position:absolute;top:1060px;left:452px;white-space:nowrap" class="ft91"><b>Duration</b></p>
<p style="position:absolute;top:1060px;left:632px;white-space:nowrap" class="ft92">42 months</p>
</div>
<!-- Page 10 -->
<a name="10"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page10-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2010.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft107">Functionality&#160;and&#160;Interface&#160;Specification</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft107">RC|1.0</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft109"><b>Table of&#160;Contents</b></p>
<p style="position:absolute;top:206px;left:85px;white-space:nowrap" class="ft104">1&#160;&#160;Scope.........................................................................................................................5<br/>2&#160;&#160;Introduction...............................................................................................................5<br/>3&#160;&#160;Hardware&#160;Virtualization&#160;Abstraction&#160;Interface...........................................................5</p>
<p style="position:absolute;top:264px;left:94px;white-space:nowrap" class="ft104">3.1&#160;Overview................................................................................................................6<br/>3.2&#160;Interface&#160;Usage......................................................................................................6<br/>3.3&#160;HVM operation........................................................................................................7</p>
<p style="position:absolute;top:321px;left:102px;white-space:nowrap" class="ft104">3.3.1&#160;Running&#160;Guests.................................................................................................7<br/>3.3.2&#160;Handling&#160;of&#160;Intercepts.......................................................................................7<br/>3.3.3&#160;Interrupt&#160;Injection..............................................................................................8<br/>3.3.4&#160;Soft&#160;IRQs............................................................................................................8</p>
<p style="position:absolute;top:398px;left:85px;white-space:nowrap" class="ft104">4&#160;&#160;Secure&#160;Initialization&#160;Architecture...............................................................................8<br/>5&#160;&#160;Secure&#160;Loader..........................................................................................................10</p>
<p style="position:absolute;top:436px;left:94px;white-space:nowrap" class="ft104">5.1&#160;First Stage&#160;– SL1...................................................................................................10<br/>5.2&#160;Second Stage&#160;– SL2..............................................................................................11</p>
<p style="position:absolute;top:475px;left:85px;white-space:nowrap" class="ft102">6&#160;&#160;Configuration&#160;Verifier...............................................................................................11</p>
<p style="position:absolute;top:494px;left:94px;white-space:nowrap" class="ft104">6.1&#160;CV Core................................................................................................................11<br/>6.2&#160;CV Tables.............................................................................................................12</p>
<p style="position:absolute;top:532px;left:85px;white-space:nowrap" class="ft102">7&#160;&#160;Memory&#160;Organization...............................................................................................13</p>
<p style="position:absolute;top:552px;left:94px;white-space:nowrap" class="ft104">7.1&#160;Code Modules Memory&#160;Layout.............................................................................13<br/>7.2&#160;SL1 runtime&#160;Memory............................................................................................14<br/>7.3&#160;Table Format........................................................................................................16<br/>7.4&#160;PCR Usage............................................................................................................18</p>
<p style="position:absolute;top:628px;left:85px;white-space:nowrap" class="ft102">8&#160;&#160;List of Abbreviations&#160;...............................................................................................19</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft107">Open_TC&#160;Deliverable&#160;03a.1</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft107">2/17</p>
</div>
<!-- Page 11 -->
<a name="11"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page11-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2011.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft117">Functionality&#160;and&#160;Interface&#160;Specification</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft117">RC|1.0</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft119"><b>List&#160;of&#160;figures</b></p>
<p style="position:absolute;top:206px;left:85px;white-space:nowrap" class="ft114">Figure&#160;1: HVM interface overview...................................................................................6<br/>Figure&#160;2:&#160;HVM&#160;operation.................................................................................................7<br/>Figure&#160;3:&#160;Secure&#160;Initialization Software&#160;Modules............................................................9<br/>Figure&#160;4:&#160;Initialization Sequence...................................................................................10<br/>Figure&#160;5:&#160;Memory&#160;structure of SL1 (left), SL2&#160;and CV&#160;(right)........................................13<br/>Figure&#160;6:&#160;Platform&#160;Table Structure................................................................................16<br/>Figure&#160;7:&#160;Vendor&#160;Table&#160;Structure..................................................................................17<br/>Figure&#160;8:&#160;PCR Usage&#160;for Secure&#160;Initialization................................................................18</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft117">Open_TC&#160;Deliverable&#160;03a.1</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft117">3/17</p>
</div>
<!-- Page 12 -->
<a name="12"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page12-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2012.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft127">Functionality&#160;and&#160;Interface&#160;Specification</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft127">RC|1.0</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft129"><b>List&#160;of&#160;Tables</b></p>
<p style="position:absolute;top:206px;left:85px;white-space:nowrap" class="ft122">Table 1:&#160;SL1 runtime&#160;data contents..............................................................................14</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft127">Open_TC&#160;Deliverable&#160;03a.1</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft127">4/17</p>
</div>
<!-- Page 13 -->
<a name="13"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page13-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2013.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft137">Functionality&#160;and&#160;Interface&#160;Specification</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft137">RC|1.0</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft1310"><b>1&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft1311"><b>Scope</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft134">This&#160;document&#160;specifies&#160;the architecture&#160;and&#160;interfaces&#160;for&#160;work&#160;package&#160;03a&#160;of&#160;the<br/>OpenTC&#160;project. It&#160;is based&#160;on&#160;AMD's&#160;hardware&#160;extensions&#160;for&#160;virtualization&#160;and secure<br/>initialization.&#160;&#160;</p>
<p style="position:absolute;top:277px;left:85px;white-space:nowrap" class="ft1310"><b>2&#160;</b></p>
<p style="position:absolute;top:275px;left:117px;white-space:nowrap" class="ft1311"><b>Introduction</b></p>
<p style="position:absolute;top:305px;left:85px;white-space:nowrap" class="ft134">Virtualization&#160;refers&#160;to&#160;the creation&#160;of one or&#160;more&#160;execution&#160;environments&#160;on&#160;the<br/>same&#160;machine,&#160;each of which&#160;mirrors&#160;the&#160;original&#160;platform&#160;in&#160;order&#160;to make&#160;the<br/>respective&#160;operating&#160;system&#160;believe&#160;it was&#160;exclusively&#160;running&#160;on a&#160;real&#160;platform.&#160;This<br/>approach&#160;has&#160;several&#160;advantages&#160;over the traditional&#160;way to share&#160;the&#160;resources&#160;of a<br/>platform&#160;and enables&#160;a variety&#160;of valuable&#160;applications&#160;such&#160;as&#160;the&#160;simultaneous<br/>execution&#160;of multiple&#160;operating&#160;systems&#160;or&#160;server&#160;sharing.</p>
<p style="position:absolute;top:439px;left:85px;white-space:nowrap" class="ft134">Together&#160;with hardware&#160;security&#160;features&#160;such&#160;as&#160;secure&#160;initialization&#160;this&#160;can&#160;address<br/>the&#160;vast&#160;challenge&#160;of computer&#160;security&#160;present&#160;in todays computer&#160;platforms.<br/>Potentially&#160;untrusted&#160;software&#160;or operating&#160;systems&#160;can&#160;run&#160;in a sandbox&#160;like<br/>environment&#160;with complete isolation&#160;from&#160;the&#160;trustworthy&#160;part&#160;of&#160;the&#160;system.</p>
<p style="position:absolute;top:535px;left:85px;white-space:nowrap" class="ft134">AMDs&#160;secure&#160;virtual&#160;machine&#160;(SVM)&#160;technology&#160;consists&#160;of&#160;hardware&#160;extensions&#160;for<br/>virtual&#160;machine&#160;monitors&#160;(VMM)&#160;and security&#160;enhancements&#160;of the overall&#160;x86<br/>platform.&#160;</p>
<p style="position:absolute;top:612px;left:85px;white-space:nowrap" class="ft134">For&#160;support&#160;of unmodified&#160;operating&#160;systems&#160;inside&#160;a&#160;virtual&#160;machine&#160;SVM&#160;provides&#160;a<br/>new&#160;guest&#160;execution environment&#160;that&#160;enforces strong&#160;isolation&#160;between&#160;the&#160;virtual<br/>machines&#160;and&#160;the VMM.&#160;All&#160;actions&#160;of&#160;the&#160;guest&#160;OS&#160;that&#160;might&#160;comprise&#160;this isolation<br/>cause&#160;the&#160;control&#160;of the&#160;machine to be transfered&#160;back to&#160;the&#160;VMM.</p>
<p style="position:absolute;top:708px;left:85px;white-space:nowrap" class="ft134">In&#160;order to&#160;ensure&#160;the&#160;trustworthiness&#160;of&#160;the&#160;VMM&#160;the&#160;SVM extension&#160;provides means<br/>to establish a&#160;Trusted Computing&#160;Base (TCB)&#160;with&#160;a&#160;new&#160;instruction&#160;called&#160;SKINIT<br/>(secure&#160;kernel initialization).&#160;This&#160;instruction&#160;protects,&#160;measures&#160;using&#160;a TPM and<br/>executes&#160;a&#160;so&#160;called&#160;secure&#160;loader&#160;(SL).&#160;</p>
<p style="position:absolute;top:805px;left:85px;white-space:nowrap" class="ft1310"><b>3&#160;</b></p>
<p style="position:absolute;top:803px;left:117px;white-space:nowrap" class="ft1311"><b>Hardware Virtualization&#160;Abstraction Interface</b></p>
<p style="position:absolute;top:833px;left:85px;white-space:nowrap" class="ft134">The SVM&#160;technology&#160;by&#160;AMD&#160;comprises&#160;several&#160;hardware&#160;mechanisms&#160;for&#160;virtual<br/>machine&#160;monitors&#160;or&#160;hypervisors&#160;to&#160;be able&#160;to&#160;run unmodified&#160;guest operating<br/>systems.&#160;In&#160;order&#160;to&#160;reduce&#160;the effort&#160;to adapt the&#160;VMM&#160;to the new&#160;technology an<br/>abstraction&#160;layer is&#160;required&#160;which&#160;hides&#160;the&#160;complexity&#160;of&#160;new&#160;CPU&#160;instructions&#160;and<br/>structures&#160;from&#160;the VMM code.</p>
<p style="position:absolute;top:957px;left:85px;white-space:nowrap" class="ft134">On&#160;the&#160;other hand&#160;existing&#160;code&#160;for&#160;virtualizing&#160;components&#160;of&#160;an&#160;x86&#160;CPU&#160;and<br/>platform&#160;should&#160;be&#160;leveraged&#160;as&#160;much&#160;as&#160;possible&#160;if&#160;they&#160;are not&#160;explicitly replaced&#160;by<br/>hardware&#160;support.&#160;Therefore&#160;this new&#160;software&#160;entity&#160;called&#160;Hardware&#160;Virtual&#160;Machine<br/>(HVM)&#160;not only&#160;provides&#160;several&#160;C&#160;functions&#160;and&#160;structures&#160;but&#160;also&#160;requires&#160;a&#160;number<br/>of C&#160;functions&#160;and&#160;structures&#160;to be&#160;exported&#160;by&#160;the&#160;VMM.</p>
<p style="position:absolute;top:1081px;left:85px;white-space:nowrap" class="ft134">The HVM&#160;shall&#160;be&#160;responsible&#160;for running&#160;a&#160;guest&#160;inside&#160;a virtual&#160;machine,&#160;save&#160;and<br/>restore&#160;its&#160;state,&#160;handle&#160;intercepts&#160;and&#160;interrupt&#160;injection&#160;whereas the VMM remains<br/>accountable&#160;for&#160;initializing&#160;and managing&#160;guests&#160;in terms&#160;of&#160;interrupt&#160;and exception</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft137">Open_TC&#160;Deliverable&#160;03a.1</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft137">5/17</p>
</div>
<!-- Page 14 -->
<a name="14"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1416{font-size:16px;font-family:CourierNewPSMT;color:#000000;}
	.ft1417{font-size:18px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page14-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2014.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft147">Functionality&#160;and&#160;Interface&#160;Specification</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft147">RC|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft142">handling,&#160;shadow&#160;page&#160;table maintenance&#160;and&#160;other system&#160;services.</p>
<p style="position:absolute;top:197px;left:85px;white-space:nowrap" class="ft141"><b>3.1&#160;Overview</b></p>
<p style="position:absolute;top:225px;left:85px;white-space:nowrap" class="ft144">The HVM&#160;interface&#160;is organized&#160;as depicted&#160;in&#160;figure&#160;1. The&#160;central&#160;element&#160;is&#160;the HVM<br/>function&#160;pointer table&#160;which&#160;contains&#160;the&#160;operations&#160;the VMM uses&#160;to&#160;access&#160;HVM<br/>functionality.</p>
<p style="position:absolute;top:670px;left:85px;white-space:nowrap" class="ft141"><b>3.2&#160;Interface&#160;Usage</b></p>
<p style="position:absolute;top:699px;left:85px;white-space:nowrap" class="ft142">The function&#160;pointer&#160;table is initialized&#160;by the&#160;only&#160;exported&#160;global&#160;function</p>
<p style="position:absolute;top:723px;left:85px;white-space:nowrap" class="ft1416">start_svm()</p>
<p style="position:absolute;top:718px;left:194px;white-space:nowrap" class="ft142">&#160;which&#160;is&#160;supposed&#160;to&#160;be&#160;called&#160;during initialization of the&#160;VMM.&#160;This&#160;has</p>
<p style="position:absolute;top:738px;left:85px;white-space:nowrap" class="ft144">the advantage&#160;of&#160;potentially supporting&#160;multiple&#160;different&#160;virtualization&#160;hardware<br/>extensions&#160;of&#160;different&#160;CPU vendors&#160;at compile&#160;time&#160;while&#160;retaining the&#160;original<br/>interface.</p>
<p style="position:absolute;top:824px;left:85px;white-space:nowrap" class="ft144">The contents&#160;of the table&#160;do&#160;not&#160;change&#160;after&#160;initialization&#160;and&#160;are&#160;valid&#160;for all&#160;virtual<br/>machines.&#160;One&#160;of&#160;the&#160;main&#160;functionalities of&#160;the&#160;HVM&#160;is running&#160;and&#160;resuming&#160;virtual<br/>machines&#160;after&#160;an&#160;intercept.&#160;Depending&#160;on the state&#160;of&#160;the&#160;guest&#160;this requires<br/>different&#160;operations&#160;when&#160;starting&#160;a virtual&#160;machine&#160;or resuming&#160;it&#160;after&#160;an&#160;intercept.<br/>Thus each&#160;virtual machine,&#160;or&#160;to&#160;be&#160;precise virtual&#160;CPU,&#160;needs its&#160;own function&#160;pointer<br/>for&#160;this operation in order to&#160;avoid&#160;too&#160;many&#160;cascaded function&#160;calls. Therefore&#160;a<br/>function&#160;pointer is added to a&#160;structure&#160;called&#160;</p>
<p style="position:absolute;top:944px;left:469px;white-space:nowrap" class="ft1416">vcpu</p>
<p style="position:absolute;top:939px;left:509px;white-space:nowrap" class="ft142">&#160;which is called&#160;in&#160;case of</p>
<p style="position:absolute;top:959px;left:85px;white-space:nowrap" class="ft142">scheduling&#160;the execution&#160;of&#160;the&#160;respective&#160;virtual&#160;CPU.</p>
<p style="position:absolute;top:1007px;left:85px;white-space:nowrap" class="ft142">The&#160;</p>
<p style="position:absolute;top:1012px;left:121px;white-space:nowrap" class="ft1416">vcpu</p>
<p style="position:absolute;top:1007px;left:161px;white-space:nowrap" class="ft142">&#160;structure&#160;contains&#160;VMM&#160;internal&#160;information&#160;about&#160;the&#160;virtual&#160;CPU&#160;such as</p>
<p style="position:absolute;top:1027px;left:85px;white-space:nowrap" class="ft144">scheduling&#160;information&#160;and&#160;in&#160;its architecture&#160;dependent&#160;part&#160;page&#160;tables,&#160;I/O-port<br/>access&#160;bitmaps,&#160;hardware&#160;dependent&#160;structures&#160;such&#160;as the VMCB and&#160;the&#160;mentioned<br/>function pointer&#160;for the&#160;scheduling operation.&#160;This&#160;structure&#160;is&#160;supplied&#160;to all&#160;calls to<br/>the&#160;HVM layer&#160;from&#160;VMM software.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft147">Open_TC&#160;Deliverable&#160;03a.1</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft147">6/17</p>
<p style="position:absolute;top:597px;left:87px;white-space:nowrap" class="ft1412"><b>Figure&#160;1: HVM interface&#160;overview</b></p>
<p style="position:absolute;top:333px;left:133px;white-space:nowrap" class="ft1417">VMM&#160;Code</p>
<p style="position:absolute;top:477px;left:196px;white-space:nowrap" class="ft147">exported</p>
<p style="position:absolute;top:494px;left:195px;white-space:nowrap" class="ft147">functions</p>
<p style="position:absolute;top:316px;left:397px;white-space:nowrap" class="ft147">start_svm()</p>
<p style="position:absolute;top:452px;left:559px;white-space:nowrap" class="ft1417">SVM</p>
<p style="position:absolute;top:473px;left:546px;white-space:nowrap" class="ft1417">specific</p>
<p style="position:absolute;top:495px;left:557px;white-space:nowrap" class="ft1417">code</p>
<p style="position:absolute;top:434px;left:421px;white-space:nowrap" class="ft147">HVM</p>
<p style="position:absolute;top:451px;left:410px;white-space:nowrap" class="ft147">function</p>
<p style="position:absolute;top:468px;left:413px;white-space:nowrap" class="ft147">pointer</p>
<p style="position:absolute;top:484px;left:420px;white-space:nowrap" class="ft147">table</p>
<p style="position:absolute;top:362px;left:446px;white-space:nowrap" class="ft1413">s&#160;etup</p>
</div>
<!-- Page 15 -->
<a name="15"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1518{font-size:14px;font-family:LOOJBH+OpenSymbol;color:#000000;}
	.ft1519{font-size:12px;font-family:BOJGFJ+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page15-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2015.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft157">Functionality&#160;and&#160;Interface&#160;Specification</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft157">RC|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft151"><b>3.3&#160;HVM&#160;operation</b></p>
<p style="position:absolute;top:179px;left:85px;white-space:nowrap" class="ft154">The HVM&#160;layer&#160;replaces&#160;several&#160;functions&#160;usually&#160;found&#160;in&#160;the&#160;VMM.&#160;Figure&#160;2 depicts<br/>how the devision&#160;of&#160;work&#160;between&#160;VMM&#160;and&#160;HVM code&#160;is organized.</p>
<p style="position:absolute;top:706px;left:92px;white-space:nowrap" class="ft1512"><b>3.3.1&#160;Running Guests</b></p>
<p style="position:absolute;top:733px;left:85px;white-space:nowrap" class="ft152">Since&#160;the actual&#160;execution of guest&#160;code&#160;is&#160;carried&#160;out in&#160;the&#160;HVM&#160;code&#160;utilizing&#160;SVMs</p>
<p style="position:absolute;top:757px;left:85px;white-space:nowrap" class="ft1516">VMRUN</p>
<p style="position:absolute;top:752px;left:135px;white-space:nowrap" class="ft152">&#160;instruction&#160;the&#160;main loop&#160;of the VMM moves&#160;to the&#160;HVM&#160;code.&#160;This means&#160;the</p>
<p style="position:absolute;top:772px;left:85px;white-space:nowrap" class="ft155">HVM saves&#160;the&#160;host&#160;(VMM)&#160;state, loads&#160;the&#160;guest&#160;state and&#160;executes&#160;the&#160;guest until&#160;an<br/>intercept occurs.&#160;&#160;After that&#160;it&#160;saves&#160;the&#160;guest&#160;state&#160;and&#160;restores&#160;the&#160;host&#160;state.&#160;It&#160;then<br/>handles&#160;the&#160;intercept and resumes&#160;the&#160;same&#160;guest&#160;again.&#160;<br/>There&#160;are&#160;three mechanisms&#160;to&#160;interact&#160;with the VMM:</p>
<p style="position:absolute;top:870px;left:117px;white-space:nowrap" class="ft1518">•</p>
<p style="position:absolute;top:867px;left:144px;white-space:nowrap" class="ft152">Interrupts</p>
<p style="position:absolute;top:899px;left:117px;white-space:nowrap" class="ft1518">•</p>
<p style="position:absolute;top:896px;left:144px;white-space:nowrap" class="ft152">Soft&#160;interrupts</p>
<p style="position:absolute;top:927px;left:117px;white-space:nowrap" class="ft1518">•</p>
<p style="position:absolute;top:924px;left:144px;white-space:nowrap" class="ft152">exported&#160;functions&#160;from&#160;VMM&#160;for intercept&#160;handling</p>
<p style="position:absolute;top:971px;left:92px;white-space:nowrap" class="ft1512"><b>3.3.2&#160;Handling of Intercepts</b></p>
<p style="position:absolute;top:997px;left:85px;white-space:nowrap" class="ft154">There&#160;are&#160;number&#160;of&#160;events&#160;causing&#160;an&#160;intercept&#160;of&#160;the&#160;guest&#160;that&#160;is&#160;currently&#160;running,<br/>some&#160;of which&#160;require VMM&#160;functionality.&#160;One&#160;of these&#160;are&#160;external&#160;interrupts.&#160;AMDs<br/>SVM&#160;keeps the&#160;interrupt&#160;asserted&#160;during&#160;the&#160;intercept.&#160;After&#160;the global&#160;interrupt&#160;flag<br/>has&#160;been&#160;enabled again&#160;the&#160;interrupt&#160;handler&#160;of the VMM will execute and service the<br/>interrupt.&#160;It&#160;is&#160;then up to&#160;the&#160;VMM to decide whether&#160;an virtual&#160;interrupt&#160;should&#160;be<br/>injected&#160;into&#160;the guest&#160;by programming&#160;the&#160;virtual&#160;(A)PIC&#160;accordingly.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft157">Open_TC&#160;Deliverable&#160;03a.1</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft157">7/17</p>
<p style="position:absolute;top:633px;left:88px;white-space:nowrap" class="ft1512"><b>Figure 2:&#160;HVM operation</b></p>
<p style="position:absolute;top:249px;left:132px;white-space:nowrap" class="ft152">HVM&#160;main&#160;loop</p>
<p style="position:absolute;top:428px;left:147px;white-space:nowrap" class="ft1513">s&#160;ave&#160;&#160;hos&#160;t&#160;&#160;s&#160;tate</p>
<p style="position:absolute;top:443px;left:145px;white-space:nowrap" class="ft1513">load&#160;gues&#160;t&#160;s&#160;tate</p>
<p style="position:absolute;top:484px;left:162px;white-space:nowrap" class="ft1519"><b>run guest</b></p>
<p style="position:absolute;top:542px;left:144px;white-space:nowrap" class="ft1513">s&#160;ave&#160;&#160;gues&#160;t&#160;&#160;s&#160;tate</p>
<p style="position:absolute;top:556px;left:149px;white-space:nowrap" class="ft1513">load&#160;&#160;hos&#160;t&#160;&#160;s&#160;tate</p>
<p style="position:absolute;top:387px;left:163px;white-space:nowrap" class="ft1513">inject&#160;IRQs</p>
<p style="position:absolute;top:598px;left:145px;white-space:nowrap" class="ft1513">handle&#160;intercept</p>
<p style="position:absolute;top:518px;left:202px;white-space:nowrap" class="ft1513">intercept</p>
<p style="position:absolute;top:311px;left:168px;white-space:nowrap" class="ft1513">s&#160;oft&#160;&#160;IRQ?</p>
<p style="position:absolute;top:356px;left:202px;white-space:nowrap" class="ft1513">no</p>
<p style="position:absolute;top:249px;left:416px;white-space:nowrap" class="ft152">VMM&#160;code</p>
<p style="position:absolute;top:590px;left:405px;white-space:nowrap" class="ft1513">s&#160;hadow&#160;page</p>
<p style="position:absolute;top:605px;left:403px;white-space:nowrap" class="ft1513">table&#160;handling</p>
<p style="position:absolute;top:311px;left:416px;white-space:nowrap" class="ft1513">s&#160;cheduler</p>
<p style="position:absolute;top:321px;left:261px;white-space:nowrap" class="ft1513">yes</p>
<p style="position:absolute;top:347px;left:403px;white-space:nowrap" class="ft1513">other&#160;s&#160;oft&#160;IRQ&#160;</p>
<p style="position:absolute;top:362px;left:423px;white-space:nowrap" class="ft1513">handler</p>
<p style="position:absolute;top:547px;left:412px;white-space:nowrap" class="ft1513">MMIO&#160;/&#160;IOIO</p>
<p style="position:absolute;top:562px;left:423px;white-space:nowrap" class="ft1513">handler</p>
<p style="position:absolute;top:511px;left:411px;white-space:nowrap" class="ft1513">IRQ&#160;handler</p>
<p style="position:absolute;top:468px;left:408px;white-space:nowrap" class="ft1513">virtual&#160;(A)PIC</p>
</div>
<!-- Page 16 -->
<a name="16"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page16-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2016.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft167">Functionality&#160;and&#160;Interface&#160;Specification</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft167">RC|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft164">Another&#160;important&#160;intercept&#160;is a page&#160;fault.&#160;Page&#160;faults&#160;will happen&#160;if the guest&#160;tries to<br/>modify&#160;its page&#160;table&#160;or&#160;if it&#160;tries to access MMIO&#160;address&#160;ranges&#160;that are&#160;not mapped<br/>into&#160;its&#160;address&#160;space.&#160;The HVM code has&#160;to&#160;call&#160;VMM functions&#160;to&#160;update&#160;the&#160;shadow<br/>page&#160;table and&#160;handle&#160;MMIO&#160;accesses&#160;to virtual&#160;devices such&#160;as&#160;the local&#160;APIC.&#160;</p>
<p style="position:absolute;top:246px;left:92px;white-space:nowrap" class="ft1612"><b>3.3.3&#160;Interrupt Injection</b></p>
<p style="position:absolute;top:272px;left:85px;white-space:nowrap" class="ft164">Before&#160;guest&#160;code&#160;is executed&#160;the HVM&#160;has&#160;to check whether an&#160;interrupt&#160;or&#160;exception<br/>is due&#160;to be&#160;injected.&#160;In order&#160;to determine&#160;whether&#160;there&#160;is&#160;an&#160;interrupt&#160;pending&#160;it<br/>calls&#160;functions&#160;provided&#160;by the virtual&#160;(A)PIC.&#160;</p>
<p style="position:absolute;top:348px;left:92px;white-space:nowrap" class="ft1612"><b>3.3.4&#160;Soft IRQs</b></p>
<p style="position:absolute;top:374px;left:85px;white-space:nowrap" class="ft164">The so&#160;far mentioned&#160;interactions&#160;between&#160;HVM&#160;and&#160;VMM&#160;are&#160;very&#160;specific&#160;and&#160;in one<br/>direction only&#160;–&#160;the HVM&#160;using&#160;VMM&#160;services.&#160;In&#160;order&#160;to&#160;provide&#160;a&#160;generic&#160;interface<br/>for&#160;executing VMM code&#160;the&#160;concept of&#160;soft&#160;IRQs&#160;has&#160;been introduced.&#160;</p>
<p style="position:absolute;top:451px;left:85px;white-space:nowrap" class="ft162">A special field in the&#160;</p>
<p style="position:absolute;top:456px;left:258px;white-space:nowrap" class="ft1616">vcpu&#160;</p>
<p style="position:absolute;top:451px;left:308px;white-space:nowrap" class="ft162">structure&#160;points&#160;to&#160;a&#160;global&#160;structure&#160;indicating&#160;a&#160;pending</p>
<p style="position:absolute;top:471px;left:85px;white-space:nowrap" class="ft162">soft&#160;IRQ. The HVM then calls a function&#160;</p>
<p style="position:absolute;top:476px;left:413px;white-space:nowrap" class="ft1616">do_softirq</p>
<p style="position:absolute;top:471px;left:512px;white-space:nowrap" class="ft162">&#160;which&#160;can&#160;execute&#160;VMM&#160;code,&#160;e.g.</p>
<p style="position:absolute;top:492px;left:85px;white-space:nowrap" class="ft162">for&#160;scheduling&#160;to the&#160;next&#160;guest.</p>
<p style="position:absolute;top:551px;left:85px;white-space:nowrap" class="ft1610"><b>4&#160;</b></p>
<p style="position:absolute;top:548px;left:117px;white-space:nowrap" class="ft1611"><b>Secure Initialization Architecture</b></p>
<p style="position:absolute;top:578px;left:85px;white-space:nowrap" class="ft164">Additional&#160;to&#160;virtualization&#160;functions the SVM&#160;technology&#160;also provides&#160;security<br/>enhancements&#160;which&#160;can&#160;be used&#160;to&#160;establish&#160;a&#160;trusted&#160;computing base&#160;(TCB). The<br/>following&#160;elements&#160;comprise&#160;the SVMs&#160;support&#160;for&#160;a&#160;TCB:</p>
<p style="position:absolute;top:658px;left:112px;white-space:nowrap" class="ft1618">•</p>
<p style="position:absolute;top:655px;left:139px;white-space:nowrap" class="ft162">Hardware&#160;enforced&#160;privilege levels</p>
<p style="position:absolute;top:677px;left:112px;white-space:nowrap" class="ft1618">•</p>
<p style="position:absolute;top:674px;left:139px;white-space:nowrap" class="ft162">Strong&#160;domain&#160;separation</p>
<p style="position:absolute;top:697px;left:112px;white-space:nowrap" class="ft1618">•</p>
<p style="position:absolute;top:694px;left:139px;white-space:nowrap" class="ft162">I/O protection</p>
<p style="position:absolute;top:716px;left:112px;white-space:nowrap" class="ft1618">•</p>
<p style="position:absolute;top:713px;left:139px;white-space:nowrap" class="ft162">Device protection</p>
<p style="position:absolute;top:736px;left:112px;white-space:nowrap" class="ft1618">•</p>
<p style="position:absolute;top:733px;left:139px;white-space:nowrap" class="ft162">Attestable&#160;initialization of the&#160;TCB&#160;software&#160;elements</p>
<p style="position:absolute;top:755px;left:112px;white-space:nowrap" class="ft1618">•</p>
<p style="position:absolute;top:752px;left:139px;white-space:nowrap" class="ft162">TPM&#160;support</p>
<p style="position:absolute;top:791px;left:85px;white-space:nowrap" class="ft164">The&#160;first four&#160;of&#160;these elements&#160;are directly&#160;provided&#160;by&#160;the SVM guest execution<br/>environment.&#160;For I/O&#160;port&#160;and MSR&#160;protection&#160;special&#160;bitmaps&#160;specify&#160;the&#160;privileges&#160;of<br/>each&#160;guest.&#160;Furthermore&#160;bus-master&#160;peripheral&#160;devices are&#160;prevented&#160;from&#160;accessing<br/>arbitrary&#160;memory&#160;by a&#160;mechanism&#160;called&#160;multi-domain&#160;device exclusion&#160;vector (DEV).</p>
<p style="position:absolute;top:887px;left:85px;white-space:nowrap" class="ft164">Secure&#160;initialization&#160;requires&#160;immutable&#160;hardware&#160;components&#160;in order to&#160;prevent<br/>software&#160;based&#160;attacks.&#160;The new&#160;SKINIT&#160;instruction provides&#160;this immutability&#160;while<br/>retaining&#160;the ability&#160;to use&#160;traditional&#160;platform&#160;boot&#160;mechanisms.&#160;This&#160;can be&#160;achieved<br/>since uncontrolled&#160;software&#160;triggers&#160;the&#160;secure&#160;initialization process&#160;which comprises<br/>of loading&#160;a&#160;secure&#160;loader&#160;(SL)&#160;and&#160;TCB&#160;code&#160;into&#160;memory&#160;and&#160;executing&#160;the SKINIT<br/>instruction.</p>
<p style="position:absolute;top:1022px;left:85px;white-space:nowrap" class="ft164">This&#160;instruction&#160;will&#160;then&#160;securely&#160;measure&#160;and&#160;start&#160;the&#160;secure&#160;loader&#160;with&#160;the&#160;help&#160;of<br/>the TPM.&#160;It is made&#160;sure&#160;that&#160;no external&#160;hardware&#160;event can&#160;tamper&#160;with&#160;or&#160;interrupt<br/>the secure&#160;initialization&#160;process.&#160;</p>
<p style="position:absolute;top:1098px;left:85px;white-space:nowrap" class="ft164">The software&#160;components&#160;involved&#160;in establishing&#160;a TCB are&#160;the&#160;following&#160;and<br/>depicted&#160;in&#160;figure&#160;3:</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft167">Open_TC&#160;Deliverable&#160;03a.1</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft167">8/17</p>
</div>
<!-- Page 17 -->
<a name="17"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page17-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2017.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft177">Functionality&#160;and&#160;Interface&#160;Specification</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft177">RC|1.0</p>
<p style="position:absolute;top:173px;left:112px;white-space:nowrap" class="ft1718">•</p>
<p style="position:absolute;top:170px;left:139px;white-space:nowrap" class="ft172">SL1,&#160;the 64&#160;KB&#160;part&#160;of the secure&#160;loader&#160;executed&#160;by SKINIT</p>
<p style="position:absolute;top:193px;left:112px;white-space:nowrap" class="ft1718">•</p>
<p style="position:absolute;top:190px;left:139px;white-space:nowrap" class="ft172">SL2,&#160;the rest&#160;of&#160;the secure&#160;loader,&#160;measured&#160;and executed by SL1</p>
<p style="position:absolute;top:212px;left:112px;white-space:nowrap" class="ft1718">•</p>
<p style="position:absolute;top:209px;left:139px;white-space:nowrap" class="ft174">Configuration&#160;verification&#160;makes&#160;sure&#160;the platform&#160;configuration&#160;is in a known<br/>state&#160;by using&#160;tables&#160;which contain platform&#160;information&#160;and platform&#160;specific<br/>code</p>
<p style="position:absolute;top:702px;left:85px;white-space:nowrap" class="ft174">The SL1/2,&#160;CV&#160;and&#160;the secure&#160;kernel&#160;have&#160;to&#160;be&#160;loaded&#160;in&#160;the untrusted&#160;portion&#160;of&#160;the<br/>boot&#160;process.&#160;After&#160;all&#160;I/O operations&#160;have&#160;been stopped&#160;SKINIT&#160;instruction&#160;is executed<br/>which&#160;then&#160;measures&#160;the&#160;SL1 using&#160;the&#160;TPM&#160;and executes it.&#160;SL1 itself only&#160;measures<br/>and executes SL2.&#160;</p>
<p style="position:absolute;top:798px;left:85px;white-space:nowrap" class="ft174">SL2&#160;then measures&#160;and verifies&#160;the configuration&#160;verification&#160;core and&#160;the&#160;associated<br/>tables&#160;and executes&#160;the&#160;CV&#160;core. After the&#160;configuration&#160;has&#160;been verified&#160;the secure<br/>kernel&#160;is measured,&#160;verified&#160;and initialized.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft177">Open_TC&#160;Deliverable&#160;03a.1</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft177">9/17</p>
</div>
<!-- Page 18 -->
<a name="18"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1820{font-size:12px;font-family:BOJGJJ+BitstreamVeraSans;color:#ff9a65;}
	.ft1821{font-size:12px;font-family:BOJGJJ+BitstreamVeraSans;color:#808080;}
	.ft1822{font-size:12px;line-height:14px;font-family:BOJGJJ+BitstreamVeraSans;color:#ff9a65;}
	.ft1823{font-size:12px;line-height:14px;font-family:BOJGJJ+BitstreamVeraSans;color:#808080;}
-->
</style>
<div id="page18-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2018.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft187">Functionality&#160;and&#160;Interface&#160;Specification</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft187">RC|1.0</p>
<p style="position:absolute;top:505px;left:85px;white-space:nowrap" class="ft1810"><b>5&#160;</b></p>
<p style="position:absolute;top:503px;left:117px;white-space:nowrap" class="ft1811"><b>Secure Loader</b></p>
<p style="position:absolute;top:533px;left:85px;white-space:nowrap" class="ft184">The first&#160;part&#160;of&#160;the secure&#160;loader&#160;is part&#160;of&#160;a&#160;64 KB&#160;large&#160;structure&#160;expected by&#160;the<br/>SKINIT&#160;instruction.&#160;The&#160;so called&#160;secure loader&#160;block&#160;(SLB)&#160;contains&#160;the&#160;relative offset<br/>and size of the&#160;secure loader&#160;with&#160;its&#160;static&#160;data.&#160;The&#160;rest&#160;of the&#160;64&#160;KB can&#160;be&#160;used&#160;for<br/>dynamic&#160;data&#160;and&#160;stack.&#160;This&#160;memory&#160;area&#160;is automatically&#160;protected&#160;by the device<br/>exclusion vector.</p>
<p style="position:absolute;top:648px;left:85px;white-space:nowrap" class="ft184">Due to&#160;the&#160;limitation&#160;of&#160;64 KB for code and&#160;data&#160;the&#160;secure loader&#160;has&#160;been split into<br/>two&#160;parts,&#160;one&#160;which&#160;resides&#160;in&#160;the SLB&#160;whereas&#160;the&#160;other is&#160;located&#160;outside&#160;the&#160;SLB.</p>
<p style="position:absolute;top:704px;left:85px;white-space:nowrap" class="ft181"><b>5.1&#160;First&#160;Stage&#160;–&#160;SL1</b></p>
<p style="position:absolute;top:733px;left:85px;white-space:nowrap" class="ft184">Due&#160;to the size&#160;limitation&#160;the responsibilities&#160;for&#160;SL1&#160;are minimal.&#160;The&#160;following&#160;steps<br/>need&#160;to be&#160;carried&#160;out&#160;by SL1:</p>
<p style="position:absolute;top:793px;left:112px;white-space:nowrap" class="ft1818">•</p>
<p style="position:absolute;top:790px;left:139px;white-space:nowrap" class="ft182">Setup&#160;DEVs&#160;for&#160;SL2,&#160;CV&#160;and&#160;tables&#160;and&#160;secure kernel</p>
<p style="position:absolute;top:813px;left:112px;white-space:nowrap" class="ft1818">•</p>
<p style="position:absolute;top:810px;left:139px;white-space:nowrap" class="ft182">Measure&#160;SL2</p>
<p style="position:absolute;top:832px;left:112px;white-space:nowrap" class="ft1818">•</p>
<p style="position:absolute;top:829px;left:139px;white-space:nowrap" class="ft182">Extend to&#160;TPM</p>
<p style="position:absolute;top:852px;left:112px;white-space:nowrap" class="ft1818">•</p>
<p style="position:absolute;top:849px;left:139px;white-space:nowrap" class="ft182">Jump to&#160;SL2.&#160;The address&#160;of&#160;SL1 is supplied&#160;as&#160;argument</p>
<p style="position:absolute;top:887px;left:85px;white-space:nowrap" class="ft184">The SL&#160;is executed&#160;in&#160;32-bit flat&#160;memory&#160;model&#160;with&#160;paging&#160;disabled.&#160;The&#160;processor&#160;is<br/>in a state equivalent&#160;to the&#160;state&#160;usually&#160;caused&#160;by&#160;INIT&#160;signal.&#160;All&#160;interrupts&#160;including<br/>non&#160;maskable&#160;interrupts&#160;and&#160;exceptions&#160;are&#160;disabled&#160;by clearing&#160;the&#160;global&#160;interrupt<br/>flag introduced&#160;with SVM.&#160;</p>
<p style="position:absolute;top:983px;left:85px;white-space:nowrap" class="ft184">The dynamic&#160;data&#160;section at the&#160;top&#160;of&#160;the&#160;SLB&#160;contains&#160;the&#160;following&#160;information&#160;prior<br/>to the&#160;execution of SKINIT:</p>
<p style="position:absolute;top:1044px;left:112px;white-space:nowrap" class="ft1818">•</p>
<p style="position:absolute;top:1041px;left:139px;white-space:nowrap" class="ft182">The saved&#160;state&#160;of&#160;the&#160;boot&#160;loader&#160;which executed SKINIT&#160;(optional)</p>
<p style="position:absolute;top:1063px;left:112px;white-space:nowrap" class="ft1818">•</p>
<p style="position:absolute;top:1060px;left:139px;white-space:nowrap" class="ft182">The addresses&#160;and&#160;sizes&#160;of&#160;the&#160;other&#160;code blocks,&#160;SL2,&#160;CV,&#160;secure&#160;kernel</p>
<p style="position:absolute;top:1083px;left:112px;white-space:nowrap" class="ft1818">•</p>
<p style="position:absolute;top:1080px;left:139px;white-space:nowrap" class="ft182">Pointers&#160;to&#160;the&#160;CV&#160;and&#160;platform&#160;tables</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft187">Open_TC&#160;Deliverable&#160;03a.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft187">10/17</p>
<p style="position:absolute;top:448px;left:85px;white-space:nowrap" class="ft1812"><b>Figure 4:&#160;Initialization&#160;Sequence</b></p>
<p style="position:absolute;top:237px;left:96px;white-space:nowrap" class="ft187">Power&#160;on</p>
<p style="position:absolute;top:167px;left:166px;white-space:nowrap" class="ft187">SL, CV&#160;and&#160;</p>
<p style="position:absolute;top:184px;left:166px;white-space:nowrap" class="ft187">secure&#160;kernel&#160;put&#160;</p>
<p style="position:absolute;top:201px;left:166px;white-space:nowrap" class="ft187">into&#160;memory&#160;</p>
<p style="position:absolute;top:377px;left:204px;white-space:nowrap" class="ft187">Stop&#160;active&#160;I/O</p>
<p style="position:absolute;top:394px;left:204px;white-space:nowrap" class="ft187">and&#160;stop&#160;other&#160;</p>
<p style="position:absolute;top:411px;left:204px;white-space:nowrap" class="ft187">CPUs&#160;</p>
<p style="position:absolute;top:221px;left:295px;white-space:nowrap" class="ft187">Save&#160;</p>
<p style="position:absolute;top:238px;left:295px;white-space:nowrap" class="ft187">state as&#160;</p>
<p style="position:absolute;top:255px;left:295px;white-space:nowrap" class="ft187">needed</p>
<p style="position:absolute;top:359px;left:344px;white-space:nowrap" class="ft187">SKINIT&#160;</p>
<p style="position:absolute;top:376px;left:344px;white-space:nowrap" class="ft187">instruction</p>
<p style="position:absolute;top:404px;left:420px;white-space:nowrap" class="ft187">SL1/2 validates&#160;</p>
<p style="position:absolute;top:421px;left:420px;white-space:nowrap" class="ft187">and&#160;loads&#160;CV</p>
<p style="position:absolute;top:356px;left:511px;white-space:nowrap" class="ft187">CV&#160;validates&#160;</p>
<p style="position:absolute;top:373px;left:511px;white-space:nowrap" class="ft187">configuration</p>
<p style="position:absolute;top:404px;left:598px;white-space:nowrap" class="ft187">SL2&#160;validates&#160;</p>
<p style="position:absolute;top:421px;left:598px;white-space:nowrap" class="ft187">secure&#160;kernel</p>
<p style="position:absolute;top:356px;left:684px;white-space:nowrap" class="ft187">init&#160;secure&#160;</p>
<p style="position:absolute;top:373px;left:684px;white-space:nowrap" class="ft187">kernel</p>
<p style="position:absolute;top:157px;left:382px;white-space:nowrap" class="ft1822">S&#160;L&#160;copied&#160;to&#160;TPM&#160;<br/>by&#160;HW,&#160;has&#160;hed&#160;<br/>and&#160;s&#160;tored&#160;in&#160;<br/>PCR</p>
<p style="position:absolute;top:270px;left:544px;white-space:nowrap" class="ft1823">TPM&#160;PCR&#160;<br/>updates</p>
</div>
<!-- Page 19 -->
<a name="19"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page19-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2019.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft197">Functionality&#160;and&#160;Interface&#160;Specification</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft197">RC|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft191"><b>5.2&#160;Second&#160;Stage&#160;–&#160;SL2</b></p>
<p style="position:absolute;top:179px;left:85px;white-space:nowrap" class="ft194">Since&#160;there&#160;is&#160;no&#160;64 KB&#160;limitation&#160;on&#160;the&#160;size&#160;of the&#160;SL2 more&#160;code,&#160;e.g.&#160;for&#160;verifying<br/>signatures,&#160;can&#160;be&#160;included.&#160;The&#160;following&#160;tasks&#160;need&#160;to be&#160;carried&#160;out&#160;by SL2:</p>
<p style="position:absolute;top:240px;left:112px;white-space:nowrap" class="ft1918">•</p>
<p style="position:absolute;top:237px;left:139px;white-space:nowrap" class="ft192">Measure&#160;CV&#160;core&#160;and&#160;extend to&#160;TPM</p>
<p style="position:absolute;top:259px;left:112px;white-space:nowrap" class="ft1918">•</p>
<p style="position:absolute;top:256px;left:139px;white-space:nowrap" class="ft192">Verify&#160;CV core signature</p>
<p style="position:absolute;top:279px;left:112px;white-space:nowrap" class="ft1918">•</p>
<p style="position:absolute;top:276px;left:139px;white-space:nowrap" class="ft192">Measure&#160;platform&#160;table and&#160;extend&#160;to&#160;TPM</p>
<p style="position:absolute;top:298px;left:112px;white-space:nowrap" class="ft1918">•</p>
<p style="position:absolute;top:295px;left:139px;white-space:nowrap" class="ft192">Verify platform&#160;table signature</p>
<p style="position:absolute;top:318px;left:112px;white-space:nowrap" class="ft1918">•</p>
<p style="position:absolute;top:315px;left:139px;white-space:nowrap" class="ft192">Retrieve&#160;UUIDs&#160;and&#160;keys&#160;from&#160;platform&#160;table</p>
<p style="position:absolute;top:337px;left:112px;white-space:nowrap" class="ft1918">•</p>
<p style="position:absolute;top:334px;left:139px;white-space:nowrap" class="ft192">Find&#160;AMD&#160;and vendor&#160;tables</p>
<p style="position:absolute;top:357px;left:112px;white-space:nowrap" class="ft1918">•</p>
<p style="position:absolute;top:354px;left:139px;white-space:nowrap" class="ft192">Measure&#160;tables and&#160;extend&#160;to&#160;TPM</p>
<p style="position:absolute;top:376px;left:112px;white-space:nowrap" class="ft1918">•</p>
<p style="position:absolute;top:373px;left:139px;white-space:nowrap" class="ft192">Verify table&#160;signatures</p>
<p style="position:absolute;top:396px;left:112px;white-space:nowrap" class="ft1918">•</p>
<p style="position:absolute;top:393px;left:139px;white-space:nowrap" class="ft192">Invoke&#160;CV and&#160;pass&#160;pointers&#160;to verified&#160;tables</p>
<p style="position:absolute;top:415px;left:112px;white-space:nowrap" class="ft1918">•</p>
<p style="position:absolute;top:412px;left:139px;white-space:nowrap" class="ft192">Measure&#160;secure&#160;kernel&#160;and&#160;extend&#160;to TPM</p>
<p style="position:absolute;top:454px;left:112px;white-space:nowrap" class="ft1918">•</p>
<p style="position:absolute;top:451px;left:139px;white-space:nowrap" class="ft192">Optionally&#160;verify&#160;kernel&#160;signature</p>
<p style="position:absolute;top:473px;left:112px;white-space:nowrap" class="ft1918">•</p>
<p style="position:absolute;top:471px;left:139px;white-space:nowrap" class="ft192">Jump&#160;to secure&#160;kernel&#160;entry&#160;point</p>
<p style="position:absolute;top:509px;left:85px;white-space:nowrap" class="ft194">The&#160;addresses&#160;and&#160;sizes&#160;of the code&#160;blocks&#160;and&#160;tables are&#160;retrieved&#160;from&#160;SL1&#160;runtime<br/>data&#160;area.</p>
<p style="position:absolute;top:587px;left:85px;white-space:nowrap" class="ft1910"><b>6&#160;</b></p>
<p style="position:absolute;top:585px;left:117px;white-space:nowrap" class="ft1911"><b>Configuration&#160;Verifier</b></p>
<p style="position:absolute;top:615px;left:85px;white-space:nowrap" class="ft194">The Configuration&#160;Verifier&#160;(CV)&#160;engine&#160;measures&#160;and&#160;verifies&#160;components&#160;of a<br/>platform.&#160;These&#160;parts&#160;can&#160;be&#160;software&#160;or&#160;hardware&#160;components.&#160;<br/>CV&#160;is composed&#160;of&#160;a&#160;CV&#160;core,&#160;which&#160;contains&#160;the&#160;operation&#160;code&#160;and&#160;the some&#160;tables<br/>with&#160;data&#160;to&#160;describe&#160;platform,&#160;vendor&#160;and&#160;AMD&#160;components.&#160;<br/>This&#160;section&#160;describes&#160;the&#160;architecture&#160;and&#160;gives&#160;an&#160;implementation&#160;overview&#160;of both.&#160;</p>
<p style="position:absolute;top:729px;left:85px;white-space:nowrap" class="ft191"><b>6.1&#160;CV Core</b></p>
<p style="position:absolute;top:757px;left:85px;white-space:nowrap" class="ft194">The CV&#160;core&#160;is the operation&#160;engine&#160;for&#160;the&#160;tables.&#160;CV&#160;core&#160;is measured&#160;and&#160;verified<br/>by&#160;SL2 before&#160;it&#160;is executed.&#160;Therefore&#160;it&#160;is&#160;trusted&#160;code. SL2&#160;has already&#160;setup&#160;DEVs<br/>for&#160;the core and&#160;its&#160;tables.</p>
<p style="position:absolute;top:834px;left:85px;white-space:nowrap" class="ft194">CV&#160;core&#160;gets the&#160;information,&#160;where&#160;to&#160;find&#160;all tables passed&#160;from&#160;SL2 in a&#160;list&#160;of<br/>pointers.&#160;Each table&#160;can&#160;be uniquely&#160;identified&#160;by&#160;a UUID.&#160;The&#160;Platform-Table&#160;contains<br/>identification information&#160;for all&#160;other tables.</p>
<p style="position:absolute;top:911px;left:85px;white-space:nowrap" class="ft194">After&#160;reading&#160;the&#160;platform&#160;information,&#160;the core takes the&#160;Vendor-Tables in&#160;the order<br/>they&#160;are&#160;listed in&#160;the&#160;Platform-Table&#160;and executes&#160;the&#160;measurement&#160;operations listed<br/>there&#160;(top&#160;to bottom).&#160;Each measurement&#160;operations&#160;produces&#160;a&#160;measurement&#160;of<br/>some&#160;platform&#160;aspect,&#160;which is passed&#160;back&#160;to&#160;the&#160;core.&#160;The&#160;tables also&#160;contain<br/>expected&#160;answers,&#160;so&#160;that&#160;the&#160;result&#160;can be&#160;compared&#160;for correctness.&#160;</p>
<p style="position:absolute;top:1026px;left:85px;white-space:nowrap" class="ft194">If an&#160;incorrect&#160;result&#160;is found,&#160;the processing&#160;of&#160;tables in&#160;the&#160;core stops&#160;immediately<br/>and&#160;execution&#160;is&#160;passed&#160;back&#160;to&#160;SL2 with&#160;an&#160;error&#160;indication.&#160;It&#160;is&#160;expected, that&#160;the<br/>secure&#160;startup&#160;is&#160;ended&#160;then&#160;and&#160;the secure&#160;kernel&#160;will not&#160;be&#160;loaded.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft197">Open_TC&#160;Deliverable&#160;03a.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft197">11/17</p>
</div>
<!-- Page 20 -->
<a name="20"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page20-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2020.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft207">Functionality&#160;and&#160;Interface&#160;Specification</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft207">RC|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft201"><b>6.2&#160;CV Tables</b></p>
<p style="position:absolute;top:179px;left:85px;white-space:nowrap" class="ft204">The CV&#160;core&#160;operates&#160;on&#160;different&#160;classes&#160;of&#160;tables. From each&#160;at&#160;least one is available<br/>on&#160;a&#160;system.&#160;The&#160;tables&#160;classes&#160;are:</p>
<p style="position:absolute;top:240px;left:112px;white-space:nowrap" class="ft2018">•</p>
<p style="position:absolute;top:237px;left:139px;white-space:nowrap" class="ft202">Platform&#160;tables</p>
<p style="position:absolute;top:259px;left:112px;white-space:nowrap" class="ft2018">•</p>
<p style="position:absolute;top:256px;left:139px;white-space:nowrap" class="ft202">Vendor&#160;tables</p>
<p style="position:absolute;top:279px;left:112px;white-space:nowrap" class="ft2018">•</p>
<p style="position:absolute;top:276px;left:139px;white-space:nowrap" class="ft202">AMD tables</p>
<p style="position:absolute;top:315px;left:85px;white-space:nowrap" class="ft204">The&#160;format&#160;of&#160;configuration&#160;tables&#160;is&#160;defined&#160;in figures&#160;6 and&#160;7.&#160;Tables are&#160;compiled<br/>using&#160;preparation&#160;tools in&#160;user&#160;mode&#160;on&#160;a&#160;platform&#160;and&#160;delivered&#160;on&#160;regular&#160;software<br/>distribution&#160;ways&#160;(e.g.&#160;system&#160;delivery,&#160;online&#160;update,&#160;disks).&#160;</p>
<p style="position:absolute;top:391px;left:85px;white-space:nowrap" class="ft204">To&#160;ensure&#160;the integrity&#160;of&#160;a&#160;table&#160;and&#160;to&#160;authenticate&#160;it,&#160;tables are&#160;signed&#160;by&#160;either&#160;the<br/>platform&#160;authority&#160;or one&#160;of the vendors&#160;(including&#160;AMD).&#160;When&#160;CV&#160;is called,&#160;SL2 has<br/>already&#160;done the verification&#160;and&#160;authentication&#160;and has extended&#160;the PCRs&#160;for the<br/>tables.&#160;CV core assumes&#160;</p>
<p style="position:absolute;top:449px;left:293px;white-space:nowrap" class="ft2014"><i>good</i></p>
<p style="position:absolute;top:449px;left:335px;white-space:nowrap" class="ft202">&#160;tables!</p>
<p style="position:absolute;top:468px;left:85px;white-space:nowrap" class="ft204">CV&#160;tables are&#160;standalone.&#160;They are not&#160;linked.&#160;Tables&#160;are&#160;identified&#160;using&#160;UUIDs as<br/>specified&#160;in RFC&#160;4122.&#160;The information&#160;to find&#160;the&#160;tables&#160;is&#160;passed&#160;to&#160;SL1 at&#160;start&#160;time.<br/>The platform&#160;table&#160;identifies the&#160;other&#160;tables.</p>
<p style="position:absolute;top:545px;left:85px;white-space:nowrap" class="ft201"><b>Platform&#160;Table</b></p>
<p style="position:absolute;top:564px;left:85px;white-space:nowrap" class="ft204">The&#160;platform&#160;table is the&#160;master&#160;table. It&#160;contains&#160;the&#160;description&#160;of&#160;a&#160;whole&#160;setup,<br/>e.g.&#160;a server&#160;configuration.</p>
<p style="position:absolute;top:622px;left:85px;white-space:nowrap" class="ft204">The platform&#160;table&#160;holds&#160;the&#160;UUIDs and&#160;respective&#160;public&#160;keys for&#160;all&#160;vendor&#160;tables.<br/>This includes&#160;AMD&#160;and other&#160;hardware&#160;vendors.&#160;The table&#160;can also&#160;have&#160;information<br/>about&#160;the software&#160;environment&#160;starting&#160;on the&#160;platform.&#160;</p>
<p style="position:absolute;top:699px;left:85px;white-space:nowrap" class="ft204">There is only one platform&#160;table.&#160;The&#160;platform&#160;table&#160;can be&#160;identified&#160;by&#160;reading&#160;the<br/>platform&#160;model&#160;number&#160;field.&#160;This&#160;field&#160;needs&#160;to&#160;be zero&#160;in&#160;all&#160;other tables.</p>
<p style="position:absolute;top:756px;left:85px;white-space:nowrap" class="ft201"><b>AMD and Vendor&#160;Tables</b></p>
<p style="position:absolute;top:775px;left:85px;white-space:nowrap" class="ft204">Vendor tables are associated&#160;with a certain&#160;component&#160;vendor for&#160;a&#160;platform.&#160;It<br/>contains&#160;code and&#160;verification&#160;information&#160;for&#160;the vendor's&#160;parts&#160;on&#160;a&#160;platform.<br/>The verification&#160;process&#160;uses&#160;vendor&#160;specific&#160;measurement&#160;operations&#160;to&#160;measure<br/>hardware.&#160;They&#160;are&#160;organized&#160;in&#160;entries in&#160;the table,&#160;so&#160;that&#160;each&#160;measurement<br/>operation can be uniquely identified&#160;by&#160;a UUID&#160;and has&#160;an&#160;expected&#160;result and&#160;a code<br/>snippet&#160;to be&#160;executed&#160;to&#160;get&#160;a&#160;result&#160;from&#160;the&#160;platform.</p>
<p style="position:absolute;top:910px;left:85px;white-space:nowrap" class="ft202">Only&#160;when expectation&#160;and&#160;result&#160;match,&#160;a positive&#160;result&#160;is&#160;given&#160;back&#160;to&#160;the&#160;core.</p>
<p style="position:absolute;top:948px;left:85px;white-space:nowrap" class="ft201"><b>Code Snippets</b></p>
<p style="position:absolute;top:967px;left:85px;white-space:nowrap" class="ft204">Code&#160;snippets&#160;are&#160;position&#160;independent&#160;pieces of code, which&#160;are&#160;executed from&#160;CV<br/>core to&#160;measure&#160;parts&#160;of the&#160;platform.&#160;A&#160;flat&#160;32&#160;bit execution&#160;environment&#160;is to&#160;be<br/>expected.&#160;The&#160;format&#160;is similar&#160;as SL1,&#160;with&#160;a field&#160;for&#160;the overall&#160;length&#160;followed&#160;by<br/>an&#160;entry point,&#160;which&#160;specifies&#160;the offset&#160;from&#160;the&#160;beginning&#160;of&#160;the code snipped<br/>(including&#160;length&#160;and&#160;entry point&#160;field).</p>
<p style="position:absolute;top:1083px;left:85px;white-space:nowrap" class="ft204">The code&#160;snipped&#160;is&#160;invoked&#160;via CALL&#160;instruction&#160;which&#160;means&#160;the&#160;code snippet&#160;needs<br/>to&#160;return&#160;as&#160;if&#160;it&#160;was a&#160;regular&#160;function.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft207">Open_TC&#160;Deliverable&#160;03a.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft207">12/17</p>
</div>
<!-- Page 21 -->
<a name="21"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft2124{font-size:18px;font-family:ArialMT;color:#000000;-moz-transform: matrix(         0,         -1, 1.0096739277,          0, 0, 0);-webkit-transform: matrix(         0,         -1, 1.0096739277,          0, 0, 0);-o-transform: matrix(         0,         -1, 1.0096739277,          0, 0, 0);-ms-transform: matrix(         0,         -1, 1.0096739277,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
-->
</style>
<div id="page21-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2021.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft217">Functionality&#160;and&#160;Interface&#160;Specification</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft217">RC|1.0</p>
<p style="position:absolute;top:191px;left:85px;white-space:nowrap" class="ft2110"><b>7&#160;</b></p>
<p style="position:absolute;top:188px;left:117px;white-space:nowrap" class="ft2111"><b>Memory Organization</b></p>
<p style="position:absolute;top:218px;left:85px;white-space:nowrap" class="ft214">All&#160;code&#160;and&#160;data&#160;are delivered&#160;as&#160;static&#160;binaries&#160;which&#160;implies&#160;all&#160;code&#160;has&#160;to&#160;be<br/>position&#160;independent&#160;and&#160;written&#160;for&#160;flat&#160;32-bit mode.</p>
<p style="position:absolute;top:276px;left:85px;white-space:nowrap" class="ft214">The binaries&#160;for&#160;SL1,&#160;SL2,&#160;CV and&#160;the&#160;related&#160;tables and&#160;secure&#160;kernel have&#160;to be<br/>loaded prior&#160;to SKINIT&#160;execution to&#160;an&#160;arbitrary&#160;memory&#160;location below 4 GB. Each of<br/>these&#160;modules&#160;has to be&#160;physically&#160;continuous&#160;in&#160;memory&#160;and&#160;SL1 has&#160;to&#160;be&#160;64 KB<br/>aligned.</p>
<p style="position:absolute;top:372px;left:85px;white-space:nowrap" class="ft214">A physically&#160;continuous&#160;DEV bitmap&#160;has&#160;to&#160;be&#160;allocated&#160;by the loading entity&#160;which<br/>will&#160;then&#160;be overwritten&#160;by SL1.</p>
<p style="position:absolute;top:447px;left:85px;white-space:nowrap" class="ft211"><b>7.1&#160;Code&#160;Modules&#160;Memory&#160;Layout</b></p>
<p style="position:absolute;top:476px;left:85px;white-space:nowrap" class="ft212">The secure&#160;loaders&#160;and&#160;CV&#160;modules&#160;have&#160;the layout&#160;depicted&#160;in figure&#160;5.&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft217">Open_TC&#160;Deliverable&#160;03a.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft217">13/17</p>
<p style="position:absolute;top:1092px;left:137px;white-space:nowrap" class="ft2112"><b>Figure 5: Memory structure of&#160;SL1&#160;(left),&#160;SL2&#160;and&#160;CV&#160;(right)</b></p>
<p style="position:absolute;top:1007px;left:169px;white-space:nowrap" class="ft217">Length</p>
<p style="position:absolute;top:1007px;left:275px;white-space:nowrap" class="ft217">EP&#160;offset</p>
<p style="position:absolute;top:964px;left:210px;white-space:nowrap" class="ft217">Static&#160;Data</p>
<p style="position:absolute;top:864px;left:209px;white-space:nowrap" class="ft2117">SL1&#160;Code</p>
<p style="position:absolute;top:685px;left:215px;white-space:nowrap" class="ft217">SL1 Stack</p>
<p style="position:absolute;top:615px;left:183px;white-space:nowrap" class="ft217">SL1&#160;Runtime&#160;Data</p>
<p style="position:absolute;top:932px;left:384px;white-space:nowrap" class="ft2124">S</p>
<p style="position:absolute;top:920px;left:384px;white-space:nowrap" class="ft2124">L1 has</p>
<p style="position:absolute;top:866px;left:384px;white-space:nowrap" class="ft2124">h ar</p>
<p style="position:absolute;top:836px;left:384px;white-space:nowrap" class="ft2124">ea</p>
<p style="position:absolute;top:826px;left:422px;white-space:nowrap" class="ft2124">64</p>
<p style="position:absolute;top:806px;left:422px;white-space:nowrap" class="ft2124">K</p>
<p style="position:absolute;top:793px;left:422px;white-space:nowrap" class="ft2124">B</p>
<p style="position:absolute;top:1035px;left:144px;white-space:nowrap" class="ft2113">31</p>
<p style="position:absolute;top:1035px;left:233px;white-space:nowrap" class="ft2113">16&#160;15</p>
<p style="position:absolute;top:1035px;left:349px;white-space:nowrap" class="ft2113">0</p>
<p style="position:absolute;top:1006px;left:558px;white-space:nowrap" class="ft217">EP&#160;offset</p>
<p style="position:absolute;top:900px;left:549px;white-space:nowrap" class="ft217">Static&#160;Data</p>
<p style="position:absolute;top:822px;left:567px;white-space:nowrap" class="ft2117">Code</p>
<p style="position:absolute;top:641px;left:571px;white-space:nowrap" class="ft217">Stack</p>
<p style="position:absolute;top:582px;left:539px;white-space:nowrap" class="ft217">Runtime Data</p>
<p style="position:absolute;top:1035px;left:483px;white-space:nowrap" class="ft2113">31</p>
<p style="position:absolute;top:1035px;left:688px;white-space:nowrap" class="ft2113">0</p>
<p style="position:absolute;top:974px;left:543px;white-space:nowrap" class="ft217">Block&#160;Length</p>
<p style="position:absolute;top:941px;left:544px;white-space:nowrap" class="ft217">Hash&#160;Length</p>
<p style="position:absolute;top:903px;left:728px;white-space:nowrap" class="ft2124">h</p>
<p style="position:absolute;top:893px;left:728px;white-space:nowrap" class="ft2124">a</p>
<p style="position:absolute;top:883px;left:728px;white-space:nowrap" class="ft2124">s</p>
<p style="position:absolute;top:874px;left:728px;white-space:nowrap" class="ft2124">h</p>
<p style="position:absolute;top:864px;left:728px;white-space:nowrap" class="ft2124">&#160;a</p>
<p style="position:absolute;top:849px;left:728px;white-space:nowrap" class="ft2124">re</p>
<p style="position:absolute;top:833px;left:728px;white-space:nowrap" class="ft2124">a</p>
<p style="position:absolute;top:695px;left:555px;white-space:nowrap" class="ft217">Signature</p>
</div>
<!-- Page 22 -->
<a name="22"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft2225{font-size:16px;font-family:LOPEJG+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page22-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2022.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft227">Functionality&#160;and&#160;Interface&#160;Specification</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft227">RC|1.0</p>
<p style="position:absolute;top:170px;left:85px;white-space:nowrap" class="ft224">Each&#160;of&#160;the&#160;modules&#160;begins&#160;with&#160;length information&#160;of the to&#160;be&#160;hashed&#160;area and&#160;entry<br/>point&#160;information.&#160;SL2&#160;and&#160;CV&#160;additionally&#160;contain block length information.&#160;Static<br/>data,&#160;e.g.&#160;keys,&#160;are&#160;located between&#160;this&#160;header&#160;information&#160;and&#160;the code.&#160;For&#160;signed<br/>modules&#160;the&#160;signature&#160;is&#160;located&#160;behind&#160;the code.&#160;Runtime&#160;data&#160;and&#160;stack&#160;form&#160;the<br/>rest of the&#160;module.</p>
<p style="position:absolute;top:303px;left:85px;white-space:nowrap" class="ft221"><b>7.2&#160;SL1&#160;runtime&#160;Memory</b></p>
<p style="position:absolute;top:332px;left:85px;white-space:nowrap" class="ft224">The contents&#160;of runtime&#160;and&#160;static&#160;data&#160;of&#160;SL2&#160;and&#160;CV&#160;and&#160;static&#160;data&#160;of&#160;SL1 are<br/>implementation&#160;dependent&#160;the&#160;runtime&#160;data&#160;of&#160;SL1 requires&#160;a specified&#160;structure&#160;due<br/>to&#160;the fact&#160;that&#160;SL1 and&#160;the successively&#160;executed&#160;components&#160;require information<br/>about&#160;the location&#160;and size of the&#160;components&#160;supplied&#160;by&#160;the&#160;loader.</p>
<p style="position:absolute;top:428px;left:85px;white-space:nowrap" class="ft224">Table&#160;1 lists&#160;the&#160;elements&#160;stored in the runtime&#160;data&#160;section of&#160;the&#160;SLB.&#160;Note&#160;that the<br/>offsets&#160;count&#160;from&#160;the end&#160;of the&#160;data block.&#160;</p>
<p style="position:absolute;top:470px;left:215px;white-space:nowrap" class="ft2225"><i><b>Field</b></i></p>
<p style="position:absolute;top:470px;left:455px;white-space:nowrap" class="ft2225"><i><b>Offset</b></i></p>
<p style="position:absolute;top:498px;left:188px;white-space:nowrap" class="ft222">SL2 address</p>
<p style="position:absolute;top:498px;left:479px;white-space:nowrap" class="ft222">0</p>
<p style="position:absolute;top:525px;left:205px;white-space:nowrap" class="ft222">SL2 size</p>
<p style="position:absolute;top:525px;left:476px;white-space:nowrap" class="ft222">-4</p>
<p style="position:absolute;top:553px;left:192px;white-space:nowrap" class="ft222">CV address</p>
<p style="position:absolute;top:553px;left:476px;white-space:nowrap" class="ft222">-8</p>
<p style="position:absolute;top:580px;left:208px;white-space:nowrap" class="ft222">CV size</p>
<p style="position:absolute;top:580px;left:471px;white-space:nowrap" class="ft222">-12</p>
<p style="position:absolute;top:608px;left:164px;white-space:nowrap" class="ft222">SK&#160;image&#160;address</p>
<p style="position:absolute;top:608px;left:471px;white-space:nowrap" class="ft222">-16</p>
<p style="position:absolute;top:635px;left:181px;white-space:nowrap" class="ft222">SK&#160;image&#160;size</p>
<p style="position:absolute;top:635px;left:471px;white-space:nowrap" class="ft222">-20</p>
<p style="position:absolute;top:663px;left:110px;white-space:nowrap" class="ft222">SK&#160;multiboot&#160;structure&#160;address</p>
<p style="position:absolute;top:663px;left:471px;white-space:nowrap" class="ft222">-24</p>
<p style="position:absolute;top:690px;left:186px;white-space:nowrap" class="ft222">DEV&#160;address</p>
<p style="position:absolute;top:690px;left:471px;white-space:nowrap" class="ft222">-28</p>
<p style="position:absolute;top:718px;left:145px;white-space:nowrap" class="ft222">Platform&#160;table&#160;address</p>
<p style="position:absolute;top:718px;left:471px;white-space:nowrap" class="ft222">-32</p>
<p style="position:absolute;top:745px;left:160px;white-space:nowrap" class="ft222">AMD table address</p>
<p style="position:absolute;top:745px;left:471px;white-space:nowrap" class="ft222">-36</p>
<p style="position:absolute;top:773px;left:134px;white-space:nowrap" class="ft222">Number&#160;of&#160;Vendor&#160;tables</p>
<p style="position:absolute;top:773px;left:471px;white-space:nowrap" class="ft222">-40</p>
<p style="position:absolute;top:801px;left:142px;white-space:nowrap" class="ft222">Vendor&#160;table&#160;1 address</p>
<p style="position:absolute;top:801px;left:471px;white-space:nowrap" class="ft222">-44</p>
<p style="position:absolute;top:828px;left:230px;white-space:nowrap" class="ft222">...</p>
<p style="position:absolute;top:856px;left:142px;white-space:nowrap" class="ft222">Vendor&#160;table&#160;n address</p>
<p style="position:absolute;top:856px;left:418px;white-space:nowrap" class="ft222">-44&#160;+ 4 * (n&#160;– 1)</p>
<p style="position:absolute;top:883px;left:189px;white-space:nowrap" class="ft222">Scratch&#160;pad</p>
<p style="position:absolute;top:883px;left:439px;white-space:nowrap" class="ft222">-44&#160;+ 4 * n</p>
<p style="position:absolute;top:930px;left:94px;white-space:nowrap" class="ft222">State&#160;information&#160;(registers,&#160;MSRs,</p>
<p style="position:absolute;top:949px;left:145px;white-space:nowrap" class="ft222">...) of&#160;loader&#160;(optional)</p>
<p style="position:absolute;top:930px;left:461px;white-space:nowrap" class="ft222">-1024</p>
<p style="position:absolute;top:1001px;left:85px;white-space:nowrap" class="ft2212"><b>Table 1: SL1 runtime&#160;data&#160;contents</b></p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft227">Open_TC&#160;Deliverable&#160;03a.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft227">14/17</p>
</div>
<!-- Page 23 -->
<a name="23"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft2326{font-size:11px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
	.ft2327{font-size:11px;font-family:KKCECB+BitstreamVeraSans;color:#000000;}
	.ft2328{font-size:7px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
	.ft2329{font-size:7px;font-family:KKCECB+BitstreamVeraSans;color:#000000;}
	.ft2330{font-size:14px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;-moz-transform: matrix(         0,         -1, 0.898488121,          0, 0, 0);-webkit-transform: matrix(         0,         -1, 0.898488121,          0, 0, 0);-o-transform: matrix(         0,         -1, 0.898488121,          0, 0, 0);-ms-transform: matrix(         0,         -1, 0.898488121,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft2331{font-size:14px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page23-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2023.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft237">Functionality&#160;and&#160;Interface&#160;Specification</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft237">RC|1.0</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft231"><b>7.3&#160;Table&#160;Format</b></p>
<p style="position:absolute;top:197px;left:85px;white-space:nowrap" class="ft232">The following&#160;figures&#160;specify&#160;the structure&#160;of&#160;platform&#160;and&#160;vendor&#160;tables&#160;to scale.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft237">Open_TC&#160;Deliverable&#160;03a.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft237">15/17</p>
<p style="position:absolute;top:1050px;left:96px;white-space:nowrap" class="ft2312"><b>Figure 6:&#160;Platform Table&#160;Structure</b></p>
<p style="position:absolute;top:325px;left:313px;white-space:nowrap" class="ft2326">AMD-Table UUID</p>
<p style="position:absolute;top:477px;left:301px;white-space:nowrap" class="ft2326">Vendor</p>
<p style="position:absolute;top:477px;left:349px;white-space:nowrap" class="ft2327"><i>1</i></p>
<p style="position:absolute;top:477px;left:357px;white-space:nowrap" class="ft2326">-Table&#160;UUID</p>
<p style="position:absolute;top:400px;left:333px;white-space:nowrap" class="ft2326">Pub&#160;Key</p>
<p style="position:absolute;top:408px;left:387px;white-space:nowrap" class="ft2328">AMD</p>
<p style="position:absolute;top:552px;left:325px;white-space:nowrap" class="ft2326">Pub&#160;Key</p>
<p style="position:absolute;top:560px;left:379px;white-space:nowrap" class="ft2328">Vendor</p>
<p style="position:absolute;top:560px;left:405px;white-space:nowrap" class="ft2329"><i>1</i></p>
<p style="position:absolute;top:983px;left:241px;white-space:nowrap" class="ft2326">Other&#160;Platform&#160;Dependant&#160;Information</p>
<p style="position:absolute;top:1033px;left:229px;white-space:nowrap" class="ft2326">Signature&#160;over&#160;hash&#160;by&#160;platform&#160;authority</p>
<p style="position:absolute;top:665px;left:657px;white-space:nowrap" class="ft2330">Ha</p>
<p style="position:absolute;top:644px;left:657px;white-space:nowrap" class="ft2330">sh</p>
<p style="position:absolute;top:243px;left:336px;white-space:nowrap" class="ft2331">128 bits</p>
<p style="position:absolute;top:292px;left:352px;white-space:nowrap" class="ft2326">UUID</p>
<p style="position:absolute;top:309px;left:105px;white-space:nowrap" class="ft233">Platform&#160;Model&#160;Number</p>
<p style="position:absolute;top:309px;left:405px;white-space:nowrap" class="ft2326">reserved</p>
<p style="position:absolute;top:629px;left:301px;white-space:nowrap" class="ft2326">Vendor</p>
<p style="position:absolute;top:629px;left:349px;white-space:nowrap" class="ft2327"><i>2</i></p>
<p style="position:absolute;top:629px;left:357px;white-space:nowrap" class="ft2326">-Table&#160;UUID</p>
<p style="position:absolute;top:703px;left:325px;white-space:nowrap" class="ft2326">Pub&#160;Key</p>
<p style="position:absolute;top:711px;left:379px;white-space:nowrap" class="ft2328">Vendor</p>
<p style="position:absolute;top:711px;left:405px;white-space:nowrap" class="ft2329"><i>2</i></p>
<p style="position:absolute;top:780px;left:236px;white-space:nowrap" class="ft2326">:&#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160;:</p>
<p style="position:absolute;top:798px;left:301px;white-space:nowrap" class="ft2326">Vendor</p>
<p style="position:absolute;top:798px;left:349px;white-space:nowrap" class="ft2327"><i>n</i></p>
<p style="position:absolute;top:798px;left:357px;white-space:nowrap" class="ft2326">-Table&#160;UUID</p>
<p style="position:absolute;top:872px;left:325px;white-space:nowrap" class="ft2326">Pub&#160;Key</p>
<p style="position:absolute;top:880px;left:379px;white-space:nowrap" class="ft2328">Vendor</p>
<p style="position:absolute;top:880px;left:405px;white-space:nowrap" class="ft2329"><i>n</i></p>
</div>
<!-- Page 24 -->
<a name="24"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft2432{font-size:18px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;-moz-transform: matrix(         0,         -1, 1.0187974095,          0, 0, 0);-webkit-transform: matrix(         0,         -1, 1.0187974095,          0, 0, 0);-o-transform: matrix(         0,         -1, 1.0187974095,          0, 0, 0);-ms-transform: matrix(         0,         -1, 1.0187974095,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
-->
</style>
<div id="page24-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2024.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft247">Functionality&#160;and&#160;Interface&#160;Specification</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft247">RC|1.0</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft247">Open_TC&#160;Deliverable&#160;03a.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft247">16/17</p>
<p style="position:absolute;top:988px;left:86px;white-space:nowrap" class="ft2412"><b>Figure 7: Vendor&#160;Table&#160;Structure</b></p>
<p style="position:absolute;top:264px;left:269px;white-space:nowrap" class="ft2431">Measurement&#160;Operation&#160;1&#160;-&#160;UUID</p>
<p style="position:absolute;top:382px;left:237px;white-space:nowrap" class="ft2431">Measurement&#160;Operation&#160;1&#160;–&#160;Code&#160;Snippet</p>
<p style="position:absolute;top:929px;left:278px;white-space:nowrap" class="ft2431">Signature&#160;over&#160;hash&#160;by&#160;vendor</p>
<p style="position:absolute;top:579px;left:716px;white-space:nowrap" class="ft2432">Ha</p>
<p style="position:absolute;top:555px;left:716px;white-space:nowrap" class="ft2432">sh</p>
<p style="position:absolute;top:159px;left:356px;white-space:nowrap" class="ft2417">128 bits</p>
<p style="position:absolute;top:221px;left:374px;white-space:nowrap" class="ft2431">UUID</p>
<p style="position:absolute;top:243px;left:137px;white-space:nowrap" class="ft2413">must&#160;be&#160;0</p>
<p style="position:absolute;top:242px;left:434px;white-space:nowrap" class="ft2431">reserved</p>
<p style="position:absolute;top:693px;left:243px;white-space:nowrap" class="ft2431">:&#160;&#160; &#160;&#160;&#160;&#160; &#160;&#160; &#160;&#160;&#160;&#160; &#160;&#160; &#160;&#160;&#160;&#160; &#160;&#160; &#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160; &#160;&#160; &#160;&#160;&#160;&#160; &#160;&#160; &#160;&#160;&#160;&#160; &#160;&#160; &#160;&#160;&#160;&#160; &#160;:</p>
<p style="position:absolute;top:287px;left:188px;white-space:nowrap" class="ft2431">Measurement&#160;Operation&#160;1&#160;–&#160;Expected&#160;Result&#160;(160&#160;bits)</p>
<p style="position:absolute;top:308px;left:255px;white-space:nowrap" class="ft2413">Code&#160;Snippet&#160;Length</p>
<p style="position:absolute;top:478px;left:269px;white-space:nowrap" class="ft2431">Measurement&#160;Operation&#160;2&#160;-&#160;UUID</p>
<p style="position:absolute;top:597px;left:237px;white-space:nowrap" class="ft2431">Measurement&#160;Operation&#160;2&#160;–&#160;Code&#160;Snippet</p>
<p style="position:absolute;top:502px;left:188px;white-space:nowrap" class="ft2431">Measurement&#160;Operation&#160;2&#160;–&#160;Expected&#160;Result&#160;(160&#160;bits)</p>
<p style="position:absolute;top:523px;left:255px;white-space:nowrap" class="ft2413">Code&#160;Snippet&#160;Length</p>
<p style="position:absolute;top:714px;left:269px;white-space:nowrap" class="ft2431">Measurement&#160;Operation&#160;n&#160;-&#160;UUID</p>
<p style="position:absolute;top:833px;left:237px;white-space:nowrap" class="ft2431">Measurement&#160;Operation&#160;n&#160;–&#160;Code&#160;Snippet</p>
<p style="position:absolute;top:738px;left:188px;white-space:nowrap" class="ft2431">Measurement&#160;Operation&#160;n&#160;–&#160;Expected&#160;Result&#160;(160&#160;bits)</p>
<p style="position:absolute;top:759px;left:255px;white-space:nowrap" class="ft2413">Code&#160;Snippet&#160;Length</p>
<p style="position:absolute;top:308px;left:434px;white-space:nowrap" class="ft2413">Entry&#160;Point</p>
<p style="position:absolute;top:523px;left:434px;white-space:nowrap" class="ft2413">Entry&#160;Point</p>
<p style="position:absolute;top:759px;left:434px;white-space:nowrap" class="ft2413">Entry&#160;Point</p>
</div>
<!-- Page 25 -->
<a name="25"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft2533{font-size:18px;line-height:21px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page25-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2025.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft257">Functionality&#160;and&#160;Interface&#160;Specification</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft257">RC|1.0</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft251"><b>7.4&#160;PCR Usage</b></p>
<p style="position:absolute;top:197px;left:85px;white-space:nowrap" class="ft254">The&#160;measurement&#160;of&#160;particular&#160;components is&#160;bound to certain PCR registers in the<br/>TPM. The&#160;SKINIT&#160;hardware&#160;writes the&#160;measurement&#160;value&#160;into&#160;locality 4 which<br/>corresponds&#160;to&#160;PCR&#160;#17.&#160;Figure&#160;8&#160;depicts which&#160;component measurement&#160;extends to<br/>which PCR&#160;registers&#160;inside&#160;the TPM&#160;for&#160;later&#160;attestation.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft257">Open_TC&#160;Deliverable&#160;03a.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft257">17/17</p>
<p style="position:absolute;top:590px;left:85px;white-space:nowrap" class="ft2512"><b>Figure 8:&#160;PCR Usage&#160;for Secure&#160;Initialization</b></p>
<p style="position:absolute;top:342px;left:582px;white-space:nowrap" class="ft2533">Locality&#160;4<br/>(PCR&#160;#17)&#160;</p>
<p style="position:absolute;top:439px;left:582px;white-space:nowrap" class="ft2533">Locality&#160;3<br/>(PCR&#160;#18)&#160;</p>
<p style="position:absolute;top:536px;left:582px;white-space:nowrap" class="ft2533">Locality&#160;2<br/>(PCR&#160;#19)&#160;</p>
<p style="position:absolute;top:353px;left:209px;white-space:nowrap" class="ft2517">SL1</p>
<p style="position:absolute;top:450px;left:185px;white-space:nowrap" class="ft2517">SL2</p>
<p style="position:absolute;top:440px;left:267px;white-space:nowrap" class="ft2517">CV</p>
<p style="position:absolute;top:461px;left:259px;white-space:nowrap" class="ft2517">Core</p>
<p style="position:absolute;top:440px;left:321px;white-space:nowrap" class="ft2517">Platform</p>
<p style="position:absolute;top:461px;left:335px;white-space:nowrap" class="ft2517">Table</p>
<p style="position:absolute;top:440px;left:413px;white-space:nowrap" class="ft2517">AMD&#160;</p>
<p style="position:absolute;top:461px;left:414px;white-space:nowrap" class="ft2517">Table</p>
<p style="position:absolute;top:440px;left:480px;white-space:nowrap" class="ft2517">Vendor</p>
<p style="position:absolute;top:461px;left:484px;white-space:nowrap" class="ft2517">Tables</p>
<p style="position:absolute;top:537px;left:195px;white-space:nowrap" class="ft2517">Secure</p>
<p style="position:absolute;top:558px;left:199px;white-space:nowrap" class="ft2517">Kernel</p>
<p style="position:absolute;top:299px;left:94px;white-space:nowrap" class="ft2517">Hardware</p>
<p style="position:absolute;top:402px;left:104px;white-space:nowrap" class="ft2517">SL1</p>
<p style="position:absolute;top:402px;left:228px;white-space:nowrap" class="ft2517">SL2</p>
<p style="position:absolute;top:499px;left:104px;white-space:nowrap" class="ft2517">SL2</p>
</div>
<!-- Page 26 -->
<a name="26"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page26-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2026.png" alt="background image"/>
<p style="position:absolute;top:242px;left:194px;white-space:nowrap" class="ft260"><b>D03a.2&#160;Test&#160;Plan&#160;and&#160;Test&#160;Report</b></p>
<p style="position:absolute;top:319px;left:91px;white-space:nowrap" class="ft261"><b>Project&#160;number</b></p>
<p style="position:absolute;top:319px;left:425px;white-space:nowrap" class="ft262">IST-027635</p>
<p style="position:absolute;top:345px;left:91px;white-space:nowrap" class="ft261"><b>Project&#160;acronym</b></p>
<p style="position:absolute;top:345px;left:425px;white-space:nowrap" class="ft262">Open_TC</p>
<p style="position:absolute;top:370px;left:91px;white-space:nowrap" class="ft261"><b>Project&#160;title</b></p>
<p style="position:absolute;top:370px;left:425px;white-space:nowrap" class="ft262">Open Trusted Computing</p>
<p style="position:absolute;top:396px;left:91px;white-space:nowrap" class="ft261"><b>Deliverable&#160;type</b></p>
<p style="position:absolute;top:396px;left:425px;white-space:nowrap" class="ft262">Report&#160;(see&#160;p&#160;84/85&#160;Annex&#160;1 -&#160;Nature)</p>
<p style="position:absolute;top:439px;left:91px;white-space:nowrap" class="ft261"><b>Deliverable&#160;reference&#160;number</b></p>
<p style="position:absolute;top:439px;left:425px;white-space:nowrap" class="ft262">IST-027635/D03a.2/RC|1.01</p>
<p style="position:absolute;top:464px;left:91px;white-space:nowrap" class="ft261"><b>Deliverable&#160;title</b></p>
<p style="position:absolute;top:464px;left:425px;white-space:nowrap" class="ft262">Test&#160;Plan&#160;and&#160;Test&#160;Report</p>
<p style="position:absolute;top:490px;left:91px;white-space:nowrap" class="ft261"><b>WP&#160;contributing&#160;to&#160;the&#160;deliverable</b></p>
<p style="position:absolute;top:490px;left:425px;white-space:nowrap" class="ft262">WP03a</p>
<p style="position:absolute;top:515px;left:91px;white-space:nowrap" class="ft261"><b>Due&#160;date</b></p>
<p style="position:absolute;top:515px;left:425px;white-space:nowrap" class="ft262">Apr&#160;2006&#160;-&#160;M06</p>
<p style="position:absolute;top:541px;left:91px;white-space:nowrap" class="ft261"><b>Actual&#160;submission&#160;date</b></p>
<p style="position:absolute;top:584px;left:91px;white-space:nowrap" class="ft261"><b>Responsible&#160;Organisation</b></p>
<p style="position:absolute;top:584px;left:424px;white-space:nowrap" class="ft262">AMD</p>
<p style="position:absolute;top:609px;left:91px;white-space:nowrap" class="ft261"><b>Authors</b></p>
<p style="position:absolute;top:609px;left:424px;white-space:nowrap" class="ft262">AMD (Ralf Findeisen,&#160;Matthias&#160;Lenk)</p>
<p style="position:absolute;top:632px;left:91px;white-space:nowrap" class="ft261"><b>Abstract</b></p>
<p style="position:absolute;top:632px;left:424px;white-space:nowrap" class="ft264">This&#160;document&#160;specifies&#160;the test plan&#160;and<br/>test&#160;report&#160;for&#160;work&#160;package&#160;03a&#160;of&#160;the<br/>OpenTC&#160;project. It&#160;describes&#160;the&#160;tests&#160;to&#160;be<br/>implemented&#160;and executed to&#160;verify&#160;the<br/>correct&#160;operation&#160;of the secure&#160;startup<br/>software&#160;solution&#160;provided&#160;by AMD.&#160;The<br/>environment is&#160;defined&#160;and the test&#160;cases in<br/>categories&#160;of their scope&#160;are defined.</p>
<p style="position:absolute;top:854px;left:91px;white-space:nowrap" class="ft261"><b>Keywords</b></p>
<p style="position:absolute;top:844px;left:424px;white-space:nowrap" class="ft264">DRTM, TCB, Trusted&#160;Computing&#160;base,&#160;Secure<br/>loader, test&#160;plan, test&#160;report, Virtualisation</p>
<p style="position:absolute;top:903px;left:92px;white-space:nowrap" class="ft261"><b>Dissemination&#160;level</b></p>
<p style="position:absolute;top:903px;left:423px;white-space:nowrap" class="ft262">Public | Confidential</p>
<p style="position:absolute;top:929px;left:92px;white-space:nowrap" class="ft261"><b>Revision</b></p>
<p style="position:absolute;top:929px;left:423px;white-space:nowrap" class="ft262">RC|1.01</p>
<p style="position:absolute;top:980px;left:90px;white-space:nowrap" class="ft261"><b>Instrument</b></p>
<p style="position:absolute;top:980px;left:271px;white-space:nowrap" class="ft262">IP</p>
<p style="position:absolute;top:971px;left:452px;white-space:nowrap" class="ft266"><b>Start&#160;date&#160;of the<br/>project</b></p>
<p style="position:absolute;top:980px;left:632px;white-space:nowrap" class="ft262">1</p>
<p style="position:absolute;top:980px;left:643px;white-space:nowrap" class="ft263">st</p>
<p style="position:absolute;top:980px;left:652px;white-space:nowrap" class="ft262">&#160;November&#160;2005</p>
<p style="position:absolute;top:1009px;left:90px;white-space:nowrap" class="ft261"><b>Thematic&#160;Priority</b></p>
<p style="position:absolute;top:1009px;left:271px;white-space:nowrap" class="ft262">IST</p>
<p style="position:absolute;top:1009px;left:452px;white-space:nowrap" class="ft261"><b>Duration</b></p>
<p style="position:absolute;top:1009px;left:632px;white-space:nowrap" class="ft262">42 months</p>
</div>
<!-- Page 27 -->
<a name="27"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page27-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2027.png" alt="background image"/>
<p style="position:absolute;top:92px;left:328px;white-space:nowrap" class="ft277">Test&#160;Plan&#160;and Test Report</p>
<p style="position:absolute;top:92px;left:706px;white-space:nowrap" class="ft277">RC|1.01</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft279"><b>Table of&#160;Contents</b></p>
<p style="position:absolute;top:206px;left:85px;white-space:nowrap" class="ft274">1&#160;&#160;Scope.........................................................................................................................5<br/>2&#160;&#160;Introduction...............................................................................................................5<br/>3&#160;&#160;List of Abbreviations&#160;.................................................................................................6</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft277">Open_TC&#160;Deliverable&#160;03a.2</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft277">2/7</p>
</div>
<!-- Page 28 -->
<a name="28"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page28-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2028.png" alt="background image"/>
<p style="position:absolute;top:92px;left:328px;white-space:nowrap" class="ft287">Test&#160;Plan&#160;and Test Report</p>
<p style="position:absolute;top:92px;left:706px;white-space:nowrap" class="ft287">RC|1.01</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft2810"><b>1&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft2811"><b>Scope</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft284">This&#160;document&#160;specifies&#160;the test&#160;plan&#160;and&#160;test report&#160;for&#160;work package&#160;03a&#160;of the<br/>OpenTC&#160;project. It&#160;describes&#160;the tests&#160;to&#160;be implemented&#160;and&#160;executed&#160;to&#160;verify&#160;the<br/>correct&#160;operation&#160;of the&#160;secure&#160;startup&#160;software&#160;solution&#160;provided&#160;by AMD.&#160;The<br/>environment&#160;is&#160;defined&#160;and&#160;the&#160;test&#160;cases in&#160;categories of&#160;their scope&#160;are&#160;defined.</p>
<p style="position:absolute;top:296px;left:85px;white-space:nowrap" class="ft2810"><b>2&#160;</b></p>
<p style="position:absolute;top:294px;left:117px;white-space:nowrap" class="ft2811"><b>Introduction</b></p>
<p style="position:absolute;top:324px;left:85px;white-space:nowrap" class="ft284">The main&#160;purpose&#160;of the&#160;secure&#160;initialization&#160;solution&#160;provided&#160;by AMD&#160;is&#160;to establish&#160;a<br/>dynamic&#160;root&#160;of&#160;trust&#160;for measurement&#160;(DRTM)&#160;and&#160;on&#160;this&#160;basis&#160;initialize the&#160;trusted<br/>computing&#160;base&#160;(TCB). Furthermore&#160;the configuration&#160;of the system&#160;it&#160;is running&#160;on&#160;is<br/>verified.</p>
<p style="position:absolute;top:420px;left:85px;white-space:nowrap" class="ft284">The components&#160;of the system&#160;comprise&#160;of&#160;a&#160;secure loader&#160;(SL)&#160;which&#160;consists&#160;of&#160;two<br/>parts,&#160;a configuration&#160;verification&#160;engine&#160;(CV)&#160;and&#160;tables&#160;which contain verification<br/>code&#160;and&#160;information&#160;about&#160;the platform&#160;which is being&#160;verified.</p>
<p style="position:absolute;top:497px;left:85px;white-space:nowrap" class="ft284">The&#160;SL1 is executed by&#160;a new&#160;CPU&#160;instruction&#160;called SKINIT. This&#160;instruction&#160;creates an<br/>immutable&#160;execution&#160;environment&#160;for&#160;the&#160;first part of&#160;the secure&#160;loader.&#160;The&#160;secure<br/>loader then&#160;sets&#160;up&#160;the&#160;memory&#160;protection called&#160;device&#160;exclusion vectors (DEV) and<br/>measures&#160;and executes SL2.&#160;SL2 checks signatures&#160;of the CV&#160;core&#160;and supplied&#160;tables.<br/>It then calls the&#160;CV to&#160;execute&#160;and&#160;analyze&#160;the&#160;tables presented.&#160;</p>
<p style="position:absolute;top:1033px;left:85px;white-space:nowrap" class="ft284">After&#160;CV&#160;finished&#160;the secure&#160;kernel&#160;(SK)&#160;is&#160;executed.&#160;All components&#160;involved&#160;are<br/>measured&#160;and&#160;extended&#160;to&#160;the&#160;TPM.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft287">Open_TC&#160;Deliverable&#160;03a.2</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft287">3/7</p>
</div>
<!-- Page 29 -->
<a name="29"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page29-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2029.png" alt="background image"/>
<p style="position:absolute;top:92px;left:328px;white-space:nowrap" class="ft297">Test&#160;Plan&#160;and Test Report</p>
<p style="position:absolute;top:92px;left:706px;white-space:nowrap" class="ft297">RC|1.01</p>
<p style="position:absolute;top:154px;left:85px;white-space:nowrap" class="ft2910"><b>3&#160;</b></p>
<p style="position:absolute;top:151px;left:117px;white-space:nowrap" class="ft2911"><b>Test Environment</b></p>
<p style="position:absolute;top:181px;left:85px;white-space:nowrap" class="ft294">The tests&#160;for the secure&#160;initialization&#160;software&#160;are&#160;organized&#160;in categories&#160;unit&#160;tests,<br/>component&#160;test&#160;and&#160;system&#160;tests.&#160;Unit&#160;tests&#160;are&#160;carried&#160;out&#160;on the host&#160;or<br/>development&#160;system&#160;whereas component&#160;and&#160;system&#160;tests&#160;have to&#160;be carried&#160;out on<br/>the target&#160;system.&#160;Some&#160;components&#160;or&#160;some&#160;aspects of components&#160;can only&#160;be<br/>tested on the target&#160;since they&#160;require&#160;special&#160;hardware&#160;not&#160;usable&#160;on&#160;the<br/>development&#160;system.</p>
<p style="position:absolute;top:333px;left:85px;white-space:nowrap" class="ft291"><b>3.1&#160;Unit Test Environment</b></p>
<p style="position:absolute;top:362px;left:85px;white-space:nowrap" class="ft294">Unit&#160;tests&#160;are&#160;written in special&#160;test&#160;programs&#160;that&#160;test&#160;individual&#160;functions&#160;of&#160;the to<br/>be tested component&#160;and&#160;are&#160;separate&#160;from&#160;code&#160;running&#160;on&#160;the&#160;target.&#160;</p>
<p style="position:absolute;top:423px;left:89px;white-space:nowrap" class="ft291"><b>Execution&#160;environment</b></p>
<p style="position:absolute;top:423px;left:320px;white-space:nowrap" class="ft292">Linux (x86&#160;or&#160;x86_64),&#160;user space&#160;process</p>
<p style="position:absolute;top:451px;left:89px;white-space:nowrap" class="ft291"><b>Compiler tool chain</b></p>
<p style="position:absolute;top:451px;left:320px;white-space:nowrap" class="ft292">gcc&#160;32-bit&#160;x86&#160;version&#160;3.3&#160;or&#160;higher,&#160;OpenSSL</p>
<p style="position:absolute;top:479px;left:89px;white-space:nowrap" class="ft291"><b>Hardware</b></p>
<p style="position:absolute;top:479px;left:320px;white-space:nowrap" class="ft292">Any&#160;x86&#160;machine&#160;Pentium/Athlon&#160;class</p>
<p style="position:absolute;top:506px;left:89px;white-space:nowrap" class="ft291"><b>User Interface</b></p>
<p style="position:absolute;top:506px;left:320px;white-space:nowrap" class="ft292">bash&#160;command&#160;line</p>
<p style="position:absolute;top:538px;left:85px;white-space:nowrap" class="ft2912"><b>Table 1: Unit Test&#160;Environment</b></p>
<p style="position:absolute;top:565px;left:85px;white-space:nowrap" class="ft294">Unit&#160;tests programs&#160;shall&#160;generate&#160;a test report&#160;as&#160;its output&#160;which indicates whether<br/>each test has&#160;failed&#160;or succeeded.</p>
<p style="position:absolute;top:641px;left:85px;white-space:nowrap" class="ft291"><b>3.2&#160;Component&#160;and&#160;System&#160;Test&#160;Environment</b></p>
<p style="position:absolute;top:669px;left:85px;white-space:nowrap" class="ft294">Component&#160;and&#160;system&#160;tests&#160;have to be&#160;carried&#160;out on&#160;the&#160;target&#160;system.&#160;The test<br/>routines&#160;shall&#160;be&#160;embedded&#160;in&#160;the&#160;target&#160;software&#160;and&#160;shall&#160;report&#160;its success&#160;on the<br/>text&#160;mode&#160;screen&#160;due&#160;to&#160;the lack&#160;of&#160;disk&#160;access.</p>
<p style="position:absolute;top:750px;left:89px;white-space:nowrap" class="ft291"><b>Hardware</b></p>
<p style="position:absolute;top:750px;left:319px;white-space:nowrap" class="ft294">Revision&#160;F&#160;Opteron/Athlon&#160;64<br/>Infineon&#160;TPM&#160;SLB9635TT1.2</p>
<p style="position:absolute;top:816px;left:89px;white-space:nowrap" class="ft291"><b>Execution&#160;Environment</b></p>
<p style="position:absolute;top:816px;left:319px;white-space:nowrap" class="ft292">32-bit&#160;flat&#160;mode,&#160;running&#160;from&#160;grub2&#160;boot loader</p>
<p style="position:absolute;top:843px;left:89px;white-space:nowrap" class="ft291"><b>Compiler tool chain</b></p>
<p style="position:absolute;top:843px;left:319px;white-space:nowrap" class="ft292">gcc&#160;32-bit&#160;x86&#160;version&#160;3.3&#160;or&#160;higher</p>
<p style="position:absolute;top:871px;left:89px;white-space:nowrap" class="ft291"><b>User Interface</b></p>
<p style="position:absolute;top:871px;left:319px;white-space:nowrap" class="ft294">grub2&#160;console<br/>VGA&#160;text&#160;mode</p>
<p style="position:absolute;top:922px;left:85px;white-space:nowrap" class="ft2912"><b>Table&#160;2:&#160;Component&#160;and&#160;System&#160;Test&#160;Environment</b></p>
<p style="position:absolute;top:968px;left:85px;white-space:nowrap" class="ft292">Grub2&#160;boot&#160;loader&#160;is used&#160;to&#160;load&#160;and&#160;execute the&#160;secure&#160;initialization software.</p>
<p style="position:absolute;top:1008px;left:85px;white-space:nowrap" class="ft2910"><b>4&#160;</b></p>
<p style="position:absolute;top:1005px;left:117px;white-space:nowrap" class="ft2911"><b>Unit&#160;Tests</b></p>
<p style="position:absolute;top:1035px;left:85px;white-space:nowrap" class="ft294">The following&#160;sub&#160;sections&#160;list&#160;unit&#160;test&#160;cases&#160;ordered&#160;by&#160;functional&#160;block.&#160;Each&#160;test&#160;is<br/>specified&#160;by&#160;a&#160;name, its operations&#160;and&#160;expected result.</p>
<p style="position:absolute;top:1093px;left:85px;white-space:nowrap" class="ft292">The&#160;tests&#160;of each block are organized&#160;in&#160;one&#160;test&#160;program.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft297">Open_TC&#160;Deliverable&#160;03a.2</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft297">4/7</p>
</div>
<!-- Page 30 -->
<a name="30"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page30-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2030.png" alt="background image"/>
<p style="position:absolute;top:92px;left:328px;white-space:nowrap" class="ft307">Test&#160;Plan&#160;and Test Report</p>
<p style="position:absolute;top:92px;left:706px;white-space:nowrap" class="ft307">RC|1.01</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft301"><b>4.1&#160;Big&#160;Number&#160;Library</b></p>
<p style="position:absolute;top:179px;left:85px;white-space:nowrap" class="ft304">The big&#160;number&#160;library&#160;is&#160;used&#160;for&#160;RSA&#160;signature verification&#160;and&#160;CV&#160;table&#160;signature<br/>generation.</p>
<p style="position:absolute;top:241px;left:162px;white-space:nowrap" class="ft3025"><i><b>Test</b></i></p>
<p style="position:absolute;top:241px;left:384px;white-space:nowrap" class="ft3025"><i><b>Operation</b></i></p>
<p style="position:absolute;top:241px;left:619px;white-space:nowrap" class="ft3025"><i><b>Expected&#160;Result</b></i></p>
<p style="position:absolute;top:269px;left:89px;white-space:nowrap" class="ft302">Multiply&#160;1</p>
<p style="position:absolute;top:269px;left:285px;white-space:nowrap" class="ft304">multiply&#160;p and&#160;q&#160;from&#160;RSA&#160;test<br/>vectors&#160;PSS-INT</p>
<p style="position:absolute;top:269px;left:585px;white-space:nowrap" class="ft304">n from&#160;RSA&#160;test&#160;vectors<br/>PSS_INT</p>
<p style="position:absolute;top:315px;left:89px;white-space:nowrap" class="ft302">Multiply&#160;2</p>
<p style="position:absolute;top:315px;left:285px;white-space:nowrap" class="ft304">multiply&#160;two&#160;random&#160;number&#160;a<br/>and&#160;b.&#160;Calculate the modulo of&#160;the<br/>result&#160;c with&#160;b. Repeat&#160;with a&#160;=&#160;c<br/>until&#160;maximum&#160;size&#160;of big&#160;number<br/>is reached</p>
<p style="position:absolute;top:315px;left:585px;white-space:nowrap" class="ft304">The&#160;big&#160;number&#160;zero&#160;for<br/>(c&#160;mod&#160;b) in&#160;all&#160;iterations</p>
<p style="position:absolute;top:420px;left:89px;white-space:nowrap" class="ft302">Modulus&#160;1</p>
<p style="position:absolute;top:420px;left:285px;white-space:nowrap" class="ft304">Take&#160;q,&#160;qInv,&#160;p&#160;from&#160;RSA&#160;test<br/>vectors&#160;PSS-INT.&#160;Calculate&#160;(q&#160;*<br/>qInv)&#160;mod&#160;p</p>
<p style="position:absolute;top:420px;left:585px;white-space:nowrap" class="ft302">The&#160;big&#160;number&#160;one</p>
<p style="position:absolute;top:486px;left:89px;white-space:nowrap" class="ft302">Modulus&#160;2</p>
<p style="position:absolute;top:486px;left:285px;white-space:nowrap" class="ft304">Take&#160;e,&#160;dP,&#160;p from&#160;RSA&#160;test<br/>vectors&#160;PSS-INT.&#160;Calculate&#160;(e * dP)<br/>mod&#160;(p – 1)</p>
<p style="position:absolute;top:486px;left:585px;white-space:nowrap" class="ft302">The&#160;big&#160;number&#160;one</p>
<p style="position:absolute;top:552px;left:89px;white-space:nowrap" class="ft304">Modular<br/>Exponentiation</p>
<p style="position:absolute;top:552px;left:285px;white-space:nowrap" class="ft304">Take&#160;S,&#160;n, e from&#160;&#160;RSA test&#160;vectors<br/>PSS-INT.&#160;Calculate&#160;(s^e) mod&#160;n</p>
<p style="position:absolute;top:552px;left:585px;white-space:nowrap" class="ft304">EM&#160;from&#160;RSA&#160;test&#160;vectors<br/>PSS_INT</p>
<p style="position:absolute;top:603px;left:85px;white-space:nowrap" class="ft3012"><b>Table 3: Big NUmber&#160;Library tests</b></p>
<p style="position:absolute;top:667px;left:85px;white-space:nowrap" class="ft301"><b>4.2&#160;RSA&#160;signature&#160;verification&#160;generation</b></p>
<p style="position:absolute;top:695px;left:85px;white-space:nowrap" class="ft304">The RSA&#160;code&#160;uses the big&#160;number&#160;library&#160;to&#160;calculate the fundamental&#160;RSA<br/>operations.</p>
<p style="position:absolute;top:757px;left:162px;white-space:nowrap" class="ft3025"><i><b>Test</b></i></p>
<p style="position:absolute;top:757px;left:384px;white-space:nowrap" class="ft3025"><i><b>Operation</b></i></p>
<p style="position:absolute;top:757px;left:619px;white-space:nowrap" class="ft3025"><i><b>Expected&#160;Result</b></i></p>
<p style="position:absolute;top:784px;left:89px;white-space:nowrap" class="ft304">Signature&#160;verification<br/>1</p>
<p style="position:absolute;top:784px;left:285px;white-space:nowrap" class="ft304">Generate&#160;key&#160;pair&#160;and&#160;signature&#160;of<br/>SL1&#160;binary&#160;using&#160;OpenSSL.&#160;Read<br/>public&#160;key,&#160;SL1 binary&#160;and&#160;verify<br/>signature&#160;</p>
<p style="position:absolute;top:784px;left:585px;white-space:nowrap" class="ft302">Signature&#160;being verified</p>
<p style="position:absolute;top:869px;left:89px;white-space:nowrap" class="ft304">Signature&#160;verification<br/>2</p>
<p style="position:absolute;top:869px;left:285px;white-space:nowrap" class="ft304">Use signature&#160;and&#160;key from&#160;test<br/>above&#160;and&#160;flip a&#160;random&#160;bit&#160;in the<br/>signature.&#160;Verify&#160;signature</p>
<p style="position:absolute;top:869px;left:585px;white-space:nowrap" class="ft304">Signature&#160;NOT&#160;being<br/>verified</p>
<p style="position:absolute;top:935px;left:89px;white-space:nowrap" class="ft302">Signature&#160;generation</p>
<p style="position:absolute;top:935px;left:285px;white-space:nowrap" class="ft304">Use key pair&#160;from&#160;test&#160;above.<br/>Read&#160;private&#160;key&#160;and&#160;sign&#160;SL1<br/>binary.&#160;Verify&#160;signature</p>
<p style="position:absolute;top:935px;left:585px;white-space:nowrap" class="ft302">Signature&#160;being verified</p>
<p style="position:absolute;top:1025px;left:85px;white-space:nowrap" class="ft302">All&#160;test&#160;have to&#160;be repeated&#160;for&#160;keys&#160;of 512,&#160;1024,&#160;2048&#160;bits&#160;size.</p>
<p style="position:absolute;top:1072px;left:85px;white-space:nowrap" class="ft301"><b>4.3&#160;SHA1&#160;</b></p>
<p style="position:absolute;top:1100px;left:85px;white-space:nowrap" class="ft304">The SHA1 algorithm&#160;is&#160;used&#160;to measure&#160;loaded&#160;components&#160;of&#160;the&#160;secure initialization<br/>process.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft307">Open_TC&#160;Deliverable&#160;03a.2</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft307">5/7</p>
</div>
<!-- Page 31 -->
<a name="31"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page31-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2031.png" alt="background image"/>
<p style="position:absolute;top:92px;left:328px;white-space:nowrap" class="ft317">Test&#160;Plan&#160;and Test Report</p>
<p style="position:absolute;top:92px;left:706px;white-space:nowrap" class="ft317">RC|1.01</p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft311"><b>4.4&#160;DEV</b></p>
<p style="position:absolute;top:216px;left:85px;white-space:nowrap" class="ft312">DEV&#160;maps&#160;are&#160;used&#160;to&#160;specify&#160;memory&#160;protection&#160;from&#160;external&#160;devices.&#160;</p>
<p style="position:absolute;top:278px;left:162px;white-space:nowrap" class="ft3125"><i><b>Test</b></i></p>
<p style="position:absolute;top:278px;left:384px;white-space:nowrap" class="ft3125"><i><b>Operation</b></i></p>
<p style="position:absolute;top:278px;left:619px;white-space:nowrap" class="ft3125"><i><b>Expected&#160;Result</b></i></p>
<p style="position:absolute;top:306px;left:89px;white-space:nowrap" class="ft312">Random&#160;block</p>
<p style="position:absolute;top:306px;left:285px;white-space:nowrap" class="ft314">Block random&#160;address&#160;range&#160;(&lt;<br/>4GB)&#160;in&#160;DEV&#160;</p>
<p style="position:absolute;top:306px;left:585px;white-space:nowrap" class="ft314">Bits&#160;for&#160;address&#160;range<br/>being&#160;set</p>
<p style="position:absolute;top:353px;left:89px;white-space:nowrap" class="ft312">8 byte&#160;block</p>
<p style="position:absolute;top:353px;left:285px;white-space:nowrap" class="ft314">Block address&#160;ranges&#160;from&#160;1 to&#160;7<br/>bytes in&#160;size each with&#160;(address<br/>mod&#160;8) = 0,&#160;...,&#160;7 starting&#160;with&#160;an<br/>empty (all zero)&#160;vector</p>
<p style="position:absolute;top:353px;left:585px;white-space:nowrap" class="ft312">Bits&#160;correctly&#160;set</p>
<p style="position:absolute;top:438px;left:89px;white-space:nowrap" class="ft312">Block/Unblock</p>
<p style="position:absolute;top:438px;left:285px;white-space:nowrap" class="ft314">Block random&#160;address&#160;range&#160;(&lt;<br/>4GB) in DEV&#160;and&#160;unblock&#160;the&#160;same<br/>range</p>
<p style="position:absolute;top:438px;left:585px;white-space:nowrap" class="ft312">Empty&#160;vector (all zero)</p>
<p style="position:absolute;top:539px;left:85px;white-space:nowrap" class="ft3110"><b>5&#160;</b></p>
<p style="position:absolute;top:537px;left:117px;white-space:nowrap" class="ft3111"><b>Component&#160;Tests</b></p>
<p style="position:absolute;top:567px;left:85px;white-space:nowrap" class="ft314">Component&#160;tests are&#160;manually&#160;carried on the&#160;target system&#160;and&#160;report&#160;success&#160;or<br/>failure&#160;on&#160;the&#160;text&#160;mode&#160;screen during&#160;the&#160;execution of the&#160;secure&#160;initialization<br/>software.&#160;The&#160;software&#160;has&#160;to be&#160;recompiled&#160;for&#160;each&#160;test since&#160;specific&#160;test&#160;code&#160;will<br/>be included.</p>
<p style="position:absolute;top:681px;left:85px;white-space:nowrap" class="ft311"><b>5.1&#160;Secure&#160;Loader&#160;(1 / 2)</b></p>
<p style="position:absolute;top:732px;left:162px;white-space:nowrap" class="ft3125"><i><b>Test</b></i></p>
<p style="position:absolute;top:732px;left:377px;white-space:nowrap" class="ft3125"><i><b>Description</b></i></p>
<p style="position:absolute;top:732px;left:619px;white-space:nowrap" class="ft3125"><i><b>Expected&#160;Result</b></i></p>
<p style="position:absolute;top:760px;left:89px;white-space:nowrap" class="ft312">SKINIT</p>
<p style="position:absolute;top:760px;left:285px;white-space:nowrap" class="ft312">Execution&#160;reaches SLB</p>
<p style="position:absolute;top:760px;left:585px;white-space:nowrap" class="ft314">Text message&#160;indicating<br/>code execution&#160;of SL&#160;code</p>
<p style="position:absolute;top:807px;left:89px;white-space:nowrap" class="ft312">SKINIT&#160;2</p>
<p style="position:absolute;top:807px;left:285px;white-space:nowrap" class="ft314">Check&#160;TPM PCR 17&#160;after&#160;SKINIT<br/>execution</p>
<p style="position:absolute;top:807px;left:585px;white-space:nowrap" class="ft314">Correct hash&#160;value&#160;in&#160;PCR<br/>17</p>
<p style="position:absolute;top:853px;left:89px;white-space:nowrap" class="ft312">SL2</p>
<p style="position:absolute;top:853px;left:285px;white-space:nowrap" class="ft312">Execution&#160;reaches SL2</p>
<p style="position:absolute;top:853px;left:585px;white-space:nowrap" class="ft314">Text message&#160;indicating<br/>code execution&#160;of SL2<br/>code</p>
<p style="position:absolute;top:919px;left:89px;white-space:nowrap" class="ft312">TPM&#160;Access 1</p>
<p style="position:absolute;top:919px;left:285px;white-space:nowrap" class="ft312">Register&#160;Access&#160;to&#160;TPM&#160;</p>
<p style="position:absolute;top:919px;left:585px;white-space:nowrap" class="ft314">Text reporting&#160;correct<br/>DID/RID&#160;of&#160;TPM</p>
<p style="position:absolute;top:966px;left:89px;white-space:nowrap" class="ft312">TPM&#160;Access&#160;2</p>
<p style="position:absolute;top:966px;left:285px;white-space:nowrap" class="ft314">Use&#160;TPM&#160;extend&#160;operation&#160;to hash<br/>SLB as&#160;the SKINIT&#160;instruction<br/>would into&#160;PCR 19</p>
<p style="position:absolute;top:966px;left:585px;white-space:nowrap" class="ft314">Identical values&#160;of PCR 17<br/>(from&#160;SKINIT)&#160;and PCR 19</p>
<p style="position:absolute;top:1032px;left:89px;white-space:nowrap" class="ft312">DEV&#160;setup</p>
<p style="position:absolute;top:1032px;left:285px;white-space:nowrap" class="ft314">Test DEV settings using&#160;external<br/>hardware&#160;for&#160;bus&#160;master&#160;memory<br/>access while SL&#160;code&#160;is<br/>deliberately stopped.</p>
<p style="position:absolute;top:1032px;left:585px;white-space:nowrap" class="ft314">All&#160;memory&#160;accesses&#160;to<br/>protected&#160;memory&#160;shall<br/>fail. Memory&#160;accesses<br/>outside&#160;memory<br/>protection&#160;shall&#160;succeed</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft317">Open_TC&#160;Deliverable&#160;03a.2</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft317">6/7</p>
</div>
<!-- Page 32 -->
<a name="32"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page32-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2032.png" alt="background image"/>
<p style="position:absolute;top:92px;left:328px;white-space:nowrap" class="ft327">Test&#160;Plan&#160;and Test Report</p>
<p style="position:absolute;top:92px;left:706px;white-space:nowrap" class="ft327">RC|1.01</p>
<p style="position:absolute;top:155px;left:162px;white-space:nowrap" class="ft3225"><i><b>Test</b></i></p>
<p style="position:absolute;top:155px;left:377px;white-space:nowrap" class="ft3225"><i><b>Description</b></i></p>
<p style="position:absolute;top:155px;left:619px;white-space:nowrap" class="ft3225"><i><b>Expected&#160;Result</b></i></p>
<p style="position:absolute;top:183px;left:89px;white-space:nowrap" class="ft322">CV</p>
<p style="position:absolute;top:183px;left:285px;white-space:nowrap" class="ft324">Execution&#160;reaches CV&#160;while&#160;tables<br/>are present</p>
<p style="position:absolute;top:183px;left:585px;white-space:nowrap" class="ft324">Text message&#160;indicating<br/>code&#160;execution of&#160;CV<br/>code</p>
<p style="position:absolute;top:282px;left:85px;white-space:nowrap" class="ft321"><b>5.2&#160;CV</b></p>
<p style="position:absolute;top:333px;left:162px;white-space:nowrap" class="ft3225"><i><b>Test</b></i></p>
<p style="position:absolute;top:333px;left:377px;white-space:nowrap" class="ft3225"><i><b>Description</b></i></p>
<p style="position:absolute;top:333px;left:619px;white-space:nowrap" class="ft3225"><i><b>Expected&#160;Result</b></i></p>
<p style="position:absolute;top:361px;left:89px;white-space:nowrap" class="ft322">Platform&#160;Table</p>
<p style="position:absolute;top:361px;left:285px;white-space:nowrap" class="ft324">Platform&#160;table signature<br/>verification&#160;of&#160;correctly&#160;signed<br/>table in&#160;memory</p>
<p style="position:absolute;top:361px;left:585px;white-space:nowrap" class="ft324">Signature&#160;should&#160;be<br/>verified</p>
<p style="position:absolute;top:427px;left:89px;white-space:nowrap" class="ft322">Platform&#160;Table&#160;2</p>
<p style="position:absolute;top:427px;left:285px;white-space:nowrap" class="ft324">Platform&#160;table signature<br/>verification of&#160;incorrectly signed<br/>table in&#160;memory</p>
<p style="position:absolute;top:427px;left:585px;white-space:nowrap" class="ft324">Signature&#160;verification<br/>shall fail</p>
<p style="position:absolute;top:493px;left:89px;white-space:nowrap" class="ft322">Vendor&#160;Table</p>
<p style="position:absolute;top:493px;left:285px;white-space:nowrap" class="ft324">Execute a variable&#160;number&#160;of no-<br/>op vendor tables&#160;that always<br/>return&#160;correct&#160;result</p>
<p style="position:absolute;top:493px;left:585px;white-space:nowrap" class="ft324">All&#160;vendor&#160;tables<br/>executed&#160;and&#160;verified</p>
<p style="position:absolute;top:559px;left:89px;white-space:nowrap" class="ft322">Vendor&#160;Table&#160;2</p>
<p style="position:absolute;top:559px;left:285px;white-space:nowrap" class="ft324">Execute a variable&#160;number&#160;of no-<br/>op vendor tables&#160;that always<br/>return&#160;correct&#160;result,&#160;except&#160;one<br/>whose&#160;signature&#160;is corrupted</p>
<p style="position:absolute;top:559px;left:585px;white-space:nowrap" class="ft324">Configuration&#160;verification<br/>stops&#160;at&#160;corrupted&#160;vendor<br/>table</p>
<p style="position:absolute;top:644px;left:89px;white-space:nowrap" class="ft322">Vendor&#160;Table&#160;3</p>
<p style="position:absolute;top:644px;left:285px;white-space:nowrap" class="ft324">Execute a variable&#160;number&#160;of no-<br/>op vendor tables&#160;that always<br/>return&#160;correct&#160;result,&#160;except&#160;one<br/>which always&#160;return&#160;incorrect<br/>result</p>
<p style="position:absolute;top:644px;left:585px;white-space:nowrap" class="ft324">Configuration&#160;verification<br/>stops&#160;at&#160;failing&#160;vendor<br/>table</p>
<p style="position:absolute;top:784px;left:85px;white-space:nowrap" class="ft3210"><b>6&#160;</b></p>
<p style="position:absolute;top:781px;left:117px;white-space:nowrap" class="ft3211"><b>System Tests</b></p>
<p style="position:absolute;top:811px;left:85px;white-space:nowrap" class="ft324">System&#160;tests&#160;use&#160;the&#160;secure&#160;initialization&#160;software&#160;in its complete&#160;form&#160;without&#160;any<br/>test&#160;code&#160;included.&#160;</p>
<p style="position:absolute;top:873px;left:162px;white-space:nowrap" class="ft3225"><i><b>Test</b></i></p>
<p style="position:absolute;top:873px;left:377px;white-space:nowrap" class="ft3225"><i><b>Description</b></i></p>
<p style="position:absolute;top:873px;left:619px;white-space:nowrap" class="ft3225"><i><b>Expected&#160;Result</b></i></p>
<p style="position:absolute;top:901px;left:89px;white-space:nowrap" class="ft322">Boot&#160;L4</p>
<p style="position:absolute;top:901px;left:285px;white-space:nowrap" class="ft324">Boot a simple&#160;L4 system<br/>comprised&#160;of Fiasco&#160;kernel&#160;and<br/>hello world&#160;application</p>
<p style="position:absolute;top:901px;left:585px;white-space:nowrap" class="ft324">System&#160;boots&#160;L4&#160;fully<br/>functional</p>
<p style="position:absolute;top:966px;left:89px;white-space:nowrap" class="ft322">Boot&#160;Xen</p>
<p style="position:absolute;top:966px;left:285px;white-space:nowrap" class="ft322">Boot&#160;Xen kernel&#160;plus&#160;initrd&#160;</p>
<p style="position:absolute;top:966px;left:585px;white-space:nowrap" class="ft324">System&#160;boots&#160;Xen fully<br/>functional</p>
<p style="position:absolute;top:1013px;left:89px;white-space:nowrap" class="ft322">Verify&#160;L4</p>
<p style="position:absolute;top:1013px;left:285px;white-space:nowrap" class="ft324">Boot&#160;L4&#160;system&#160;and verify&#160;TPM<br/>PCR&#160;values</p>
<p style="position:absolute;top:1013px;left:585px;white-space:nowrap" class="ft324">PCR values&#160;identical&#160;to<br/>precomputed&#160;values</p>
<p style="position:absolute;top:1060px;left:89px;white-space:nowrap" class="ft322">Verify&#160;Xen</p>
<p style="position:absolute;top:1060px;left:285px;white-space:nowrap" class="ft324">Boot&#160;Xen system&#160;and&#160;verify&#160;TPM<br/>PCR&#160;values</p>
<p style="position:absolute;top:1060px;left:585px;white-space:nowrap" class="ft324">PCR values&#160;identical&#160;to<br/>precomputed&#160;values</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft327">Open_TC&#160;Deliverable&#160;03a.2</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft327">7/7</p>
</div>
<!-- Page 33 -->
<a name="33"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page33-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2033.png" alt="background image"/>
<p style="position:absolute;top:242px;left:101px;white-space:nowrap" class="ft330"><b>D3b WP3b Overview and TPM Software Stack</b></p>
<p style="position:absolute;top:319px;left:91px;white-space:nowrap" class="ft331"><b>Project&#160;number</b></p>
<p style="position:absolute;top:319px;left:425px;white-space:nowrap" class="ft332">IST-027635</p>
<p style="position:absolute;top:345px;left:91px;white-space:nowrap" class="ft331"><b>Project&#160;acronym</b></p>
<p style="position:absolute;top:345px;left:425px;white-space:nowrap" class="ft332">Open_TC</p>
<p style="position:absolute;top:370px;left:91px;white-space:nowrap" class="ft331"><b>Project&#160;title</b></p>
<p style="position:absolute;top:370px;left:425px;white-space:nowrap" class="ft332">Open Trusted Computing</p>
<p style="position:absolute;top:396px;left:91px;white-space:nowrap" class="ft331"><b>Deliverable&#160;type</b></p>
<p style="position:absolute;top:396px;left:425px;white-space:nowrap" class="ft332">Report&#160;(see&#160;p&#160;84/85&#160;Annex&#160;1 -&#160;Nature)</p>
<p style="position:absolute;top:439px;left:91px;white-space:nowrap" class="ft331"><b>Deliverable&#160;reference&#160;number</b></p>
<p style="position:absolute;top:439px;left:425px;white-space:nowrap" class="ft332">IST-027635/D3.1/RC1</p>
<p style="position:absolute;top:464px;left:91px;white-space:nowrap" class="ft331"><b>Deliverable&#160;title</b></p>
<p style="position:absolute;top:464px;left:425px;white-space:nowrap" class="ft332">WP3b&#160;Overview&#160;and&#160;TPM&#160;Software&#160;Stack</p>
<p style="position:absolute;top:490px;left:91px;white-space:nowrap" class="ft331"><b>WP&#160;contributing&#160;to&#160;the&#160;deliverable</b></p>
<p style="position:absolute;top:490px;left:425px;white-space:nowrap" class="ft332">WP3</p>
<p style="position:absolute;top:515px;left:91px;white-space:nowrap" class="ft331"><b>Due&#160;date</b></p>
<p style="position:absolute;top:515px;left:425px;white-space:nowrap" class="ft332">JUL2007</p>
<p style="position:absolute;top:541px;left:91px;white-space:nowrap" class="ft331"><b>Actual&#160;submission&#160;date</b></p>
<p style="position:absolute;top:584px;left:91px;white-space:nowrap" class="ft331"><b>Responsible&#160;Organisation</b></p>
<p style="position:absolute;top:584px;left:424px;white-space:nowrap" class="ft332">IFX</p>
<p style="position:absolute;top:609px;left:91px;white-space:nowrap" class="ft331"><b>Authors</b></p>
<p style="position:absolute;top:609px;left:424px;white-space:nowrap" class="ft332">IFX &#160;(Hans Brandl)</p>
<p style="position:absolute;top:632px;left:91px;white-space:nowrap" class="ft331"><b>Abstract</b></p>
<p style="position:absolute;top:632px;left:424px;white-space:nowrap" class="ft334">The&#160;main&#160;specification&#160;of the TCG&#160;defines&#160;a<br/>subsystem&#160;with&#160;protected&#160;storage&#160;and&#160;trust<br/>capabilities:&#160;The Trusted&#160;Platform&#160;Module<br/>(TPM).&#160;For&#160;translating&#160;the low&#160;level<br/>functionality fo&#160;the TPM security chip&#160;to&#160;a<br/>high level&#160;API, the TCG standardized&#160;the&#160;so<br/>called&#160;TPM&#160;Software&#160;Stack (TSS).&#160;Within&#160;this<br/>deliverable&#160;a TSS&#160;was implemented<br/>according&#160;of&#160;the TSS1.2&#160;specification&#160;of the<br/>TCG.&#160;This&#160;report&#160;describes the method&#160;of<br/>implementation&#160;and&#160;also the test procedures<br/>during&#160;the&#160;development&#160;process&#160;as&#160;well&#160;as a<br/>third&#160;party&#160;test&#160;of&#160;the&#160;finished&#160;product.</p>
<p style="position:absolute;top:894px;left:91px;white-space:nowrap" class="ft331"><b>Keywords</b></p>
<p style="position:absolute;top:894px;left:424px;white-space:nowrap" class="ft332">TPM,&#160;TSS,&#160;TSPI,&#160;TCG,&#160;Trust,&#160;Security,&#160;Tes</p>
<p style="position:absolute;top:937px;left:92px;white-space:nowrap" class="ft331"><b>Dissemination&#160;level</b></p>
<p style="position:absolute;top:937px;left:423px;white-space:nowrap" class="ft332">Public&#160;</p>
<p style="position:absolute;top:962px;left:92px;white-space:nowrap" class="ft331"><b>Revision</b></p>
<p style="position:absolute;top:962px;left:423px;white-space:nowrap" class="ft332">RC1</p>
<p style="position:absolute;top:1013px;left:90px;white-space:nowrap" class="ft331"><b>Instrument</b></p>
<p style="position:absolute;top:1013px;left:271px;white-space:nowrap" class="ft332">IP</p>
<p style="position:absolute;top:1004px;left:452px;white-space:nowrap" class="ft336"><b>Start&#160;date&#160;of the<br/>project</b></p>
<p style="position:absolute;top:1013px;left:632px;white-space:nowrap" class="ft332">1</p>
<p style="position:absolute;top:1013px;left:643px;white-space:nowrap" class="ft333">st</p>
<p style="position:absolute;top:1013px;left:652px;white-space:nowrap" class="ft332">&#160;November&#160;2005</p>
<p style="position:absolute;top:1042px;left:90px;white-space:nowrap" class="ft331"><b>Thematic&#160;Priority</b></p>
<p style="position:absolute;top:1042px;left:271px;white-space:nowrap" class="ft332">IST</p>
<p style="position:absolute;top:1042px;left:452px;white-space:nowrap" class="ft331"><b>Duration</b></p>
<p style="position:absolute;top:1042px;left:632px;white-space:nowrap" class="ft332">42 months</p>
</div>
<!-- Page 34 -->
<a name="34"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page34-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2034.png" alt="background image"/>
<p style="position:absolute;top:92px;left:273px;white-space:nowrap" class="ft347">WP3b&#160;Overview and TPM Software&#160;Stack</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft347">RC1</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft349"><b>Table of&#160;Contents</b></p>
<p style="position:absolute;top:206px;left:85px;white-space:nowrap" class="ft344">1&#160;&#160;Development&#160;Environment&#160;Workpackage&#160;03:&#160;Basic&#160;Interfaces&#160;and&#160;Trust&#160;Layers......5<br/>2&#160;&#160;D03b1:&#160;TSS-Stack&#160;according&#160;to&#160;&#160;TCG Specification.&#160;(IFX)...........................................7</p>
<p style="position:absolute;top:244px;left:94px;white-space:nowrap" class="ft342">2.1&#160;TSS Architecture.....................................................................................................8</p>
<p style="position:absolute;top:264px;left:85px;white-space:nowrap" class="ft342">3&#160;&#160;TSS module architectural overview&#160;...........................................................................9</p>
<p style="position:absolute;top:283px;left:94px;white-space:nowrap" class="ft344">3.1&#160;TCG-TSP&#160;architectural building&#160;blocks....................................................................9<br/>3.2&#160;TCG-TCS architectural&#160;building&#160;blocks..................................................................12<br/>3.3&#160;TDDL and&#160;TDDLI...................................................................................................14<br/>3.4&#160;References...........................................................................................................15<br/>3.5&#160;Definitions&#160;of terms,&#160;Acronyms&#160;and&#160;abbreviations...............................................16</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft347">Open_TC&#160;Deliverable&#160;D3b</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft347">2/15</p>
</div>
<!-- Page 35 -->
<a name="35"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page35-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2035.png" alt="background image"/>
<p style="position:absolute;top:92px;left:273px;white-space:nowrap" class="ft357">WP3b&#160;Overview and TPM Software&#160;Stack</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft357">RC1</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft359"><b>List&#160;of&#160;figures</b></p>
<p style="position:absolute;top:206px;left:85px;white-space:nowrap" class="ft354">Figure&#160;1:&#160;Workpackage&#160;03&#160;structure..............................................................................5<br/>Figure&#160;2:&#160;TSS-Stack........................................................................................................8</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft357">Open_TC&#160;Deliverable&#160;D3b</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft357">3/15</p>
</div>
<!-- Page 36 -->
<a name="36"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft3634{font-size:16px;font-family:Arial;color:#000000;}
	.ft3635{font-size:14px;font-family:MDIKOC+Wingdings;color:#000000;}
	.ft3636{font-size:14px;font-family:ArialMT;color:#000000;}
	.ft3637{font-size:11px;font-family:ArialMT;color:#000000;}
	.ft3638{font-size:11px;font-family:ArialMT;color:#000000;-moz-transform: matrix(         0,         -1, 0.9852863899,          0, 0, 0);-webkit-transform: matrix(         0,         -1, 0.9852863899,          0, 0, 0);-o-transform: matrix(         0,         -1, 0.9852863899,          0, 0, 0);-ms-transform: matrix(         0,         -1, 0.9852863899,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft3639{font-size:14px;font-family:Arial;color:#000000;}
	.ft3640{font-size:16px;line-height:23px;font-family:BOJGFJ+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page36-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2036.png" alt="background image"/>
<p style="position:absolute;top:92px;left:273px;white-space:nowrap" class="ft367">WP3b&#160;Overview and TPM Software&#160;Stack</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft367">RC1</p>
<p style="position:absolute;top:200px;left:85px;white-space:nowrap" class="ft3610"><b>1&#160;</b></p>
<p style="position:absolute;top:197px;left:117px;white-space:nowrap" class="ft3611"><b>Development&#160;Environment Workpackage 03: Basic Interfaces and</b></p>
<p style="position:absolute;top:218px;left:94px;white-space:nowrap" class="ft3611"><b>Trust Layers</b></p>
<p style="position:absolute;top:267px;left:85px;white-space:nowrap" class="ft364">This&#160;WP&#160;contains&#160;the&#160;interfacing of the trusted&#160;computing&#160;hardware&#160;elements&#160;to&#160;the<br/>requirements&#160;of&#160;unified&#160;SW&#160;APIs.&#160;We&#160;separating&#160;the functions&#160;of&#160;the platform’s<br/>enhanced&#160;main&#160;processor,&#160;security&#160;module&#160;(TPM)&#160;and&#160;relevant&#160;peripherals&#160;from&#160;the<br/>required&#160;abstract&#160;SW&#160;layer.&#160;All&#160;these&#160;modules&#160;are&#160;part&#160;of&#160;the WP3.</p>
<p style="position:absolute;top:477px;left:188px;white-space:nowrap" class="ft3634"><b>WP04: Trusted OS development</b></p>
<p style="position:absolute;top:494px;left:196px;white-space:nowrap" class="ft3635">y</p>
<p style="position:absolute;top:496px;left:218px;white-space:nowrap" class="ft3636">Basic management interfaces</p>
<p style="position:absolute;top:510px;left:196px;white-space:nowrap" class="ft3635">y</p>
<p style="position:absolute;top:512px;left:218px;white-space:nowrap" class="ft3636">TPM Visualisation</p>
<p style="position:absolute;top:526px;left:196px;white-space:nowrap" class="ft3635">y</p>
<p style="position:absolute;top:529px;left:218px;white-space:nowrap" class="ft3636">Design&#160;&amp; implementation&#160;of L4&#160;based TCG&#160;platform</p>
<p style="position:absolute;top:542px;left:196px;white-space:nowrap" class="ft3635">y</p>
<p style="position:absolute;top:545px;left:218px;white-space:nowrap" class="ft3636">Design&#160;and&#160;implementation&#160;of&#160;Xen-based&#160;TCG&#160;platform</p>
<p style="position:absolute;top:559px;left:196px;white-space:nowrap" class="ft3635">y</p>
<p style="position:absolute;top:561px;left:218px;white-space:nowrap" class="ft3636">Synergetic L4/XEN&#160;approaches</p>
<p style="position:absolute;top:688px;left:581px;white-space:nowrap" class="ft3637">TSS-Stack&#160;according to&#160;TCG</p>
<p style="position:absolute;top:701px;left:622px;white-space:nowrap" class="ft3637">Specification</p>
<p style="position:absolute;top:586px;left:664px;white-space:nowrap" class="ft3638">J</p>
<p style="position:absolute;top:581px;left:664px;white-space:nowrap" class="ft3638">a</p>
<p style="position:absolute;top:574px;left:664px;white-space:nowrap" class="ft3638">v</p>
<p style="position:absolute;top:569px;left:664px;white-space:nowrap" class="ft3638">a</p>
<p style="position:absolute;top:563px;left:664px;white-space:nowrap" class="ft3638">&#160;int</p>
<p style="position:absolute;top:548px;left:664px;white-space:nowrap" class="ft3638">egr</p>
<p style="position:absolute;top:531px;left:664px;white-space:nowrap" class="ft3638">at</p>
<p style="position:absolute;top:522px;left:664px;white-space:nowrap" class="ft3638">ion</p>
<p style="position:absolute;top:639px;left:602px;white-space:nowrap" class="ft3638">T</p>
<p style="position:absolute;top:632px;left:602px;white-space:nowrap" class="ft3638">P</p>
<p style="position:absolute;top:625px;left:602px;white-space:nowrap" class="ft3638">M enabling wid</p>
<p style="position:absolute;top:550px;left:602px;white-space:nowrap" class="ft3638">e</p>
<p style="position:absolute;top:544px;left:602px;white-space:nowrap" class="ft3638">ly</p>
<p style="position:absolute;top:536px;left:602px;white-space:nowrap" class="ft3638">&#160;av</p>
<p style="position:absolute;top:521px;left:602px;white-space:nowrap" class="ft3638">aila</p>
<p style="position:absolute;top:504px;left:602px;white-space:nowrap" class="ft3638">ble&#160;</p>
<p style="position:absolute;top:486px;left:602px;white-space:nowrap" class="ft3638">c</p>
<p style="position:absolute;top:480px;left:602px;white-space:nowrap" class="ft3638">ry</p>
<p style="position:absolute;top:470px;left:602px;white-space:nowrap" class="ft3638">p</p>
<p style="position:absolute;top:464px;left:602px;white-space:nowrap" class="ft3638">to</p>
<p style="position:absolute;top:636px;left:616px;white-space:nowrap" class="ft3638">inter</p>
<p style="position:absolute;top:615px;left:616px;white-space:nowrap" class="ft3638">fac</p>
<p style="position:absolute;top:600px;left:616px;white-space:nowrap" class="ft3638">e</p>
<p style="position:absolute;top:593px;left:616px;white-space:nowrap" class="ft3638">s</p>
<p style="position:absolute;top:588px;left:616px;white-space:nowrap" class="ft3638">&#160;and b</p>
<p style="position:absolute;top:556px;left:616px;white-space:nowrap" class="ft3638">a</p>
<p style="position:absolute;top:550px;left:616px;white-space:nowrap" class="ft3638">s</p>
<p style="position:absolute;top:545px;left:616px;white-space:nowrap" class="ft3638">ic</p>
<p style="position:absolute;top:536px;left:616px;white-space:nowrap" class="ft3638">&#160;c</p>
<p style="position:absolute;top:528px;left:616px;white-space:nowrap" class="ft3638">ry</p>
<p style="position:absolute;top:518px;left:616px;white-space:nowrap" class="ft3638">p</p>
<p style="position:absolute;top:512px;left:616px;white-space:nowrap" class="ft3638">to</p>
<p style="position:absolute;top:503px;left:616px;white-space:nowrap" class="ft3638">&#160;s</p>
<p style="position:absolute;top:494px;left:616px;white-space:nowrap" class="ft3638">e</p>
<p style="position:absolute;top:488px;left:616px;white-space:nowrap" class="ft3638">rv</p>
<p style="position:absolute;top:478px;left:616px;white-space:nowrap" class="ft3638">ic</p>
<p style="position:absolute;top:470px;left:616px;white-space:nowrap" class="ft3638">es</p>
<p style="position:absolute;top:688px;left:424px;white-space:nowrap" class="ft3637">Virtualisation layer&#160;and</p>
<p style="position:absolute;top:701px;left:416px;white-space:nowrap" class="ft3637">interfacing&#160;for&#160;AMD CPU's</p>
<p style="position:absolute;top:366px;left:218px;white-space:nowrap" class="ft3639"><b>WP05&#160;and&#160;WP06:&#160;Trusted computing management&#160;and&#160;application packages</b></p>
<p style="position:absolute;top:797px;left:606px;white-space:nowrap" class="ft3639"><b>Trusted Platform</b></p>
<p style="position:absolute;top:813px;left:616px;white-space:nowrap" class="ft3639"><b>Module (TPM)</b></p>
<p style="position:absolute;top:777px;left:620px;white-space:nowrap" class="ft3637">TPM&#160;Firmware</p>
<p style="position:absolute;top:788px;left:209px;white-space:nowrap" class="ft3639"><b>Intel LaGrande</b></p>
<p style="position:absolute;top:805px;left:189px;white-space:nowrap" class="ft3639"><b>Enhanced Processor</b></p>
<p style="position:absolute;top:788px;left:427px;white-space:nowrap" class="ft3639"><b>AMD SEM</b></p>
<p style="position:absolute;top:805px;left:391px;white-space:nowrap" class="ft3639"><b>Enhanced&#160;Processor</b></p>
<p style="position:absolute;top:693px;left:181px;white-space:nowrap" class="ft3634"><b>WP03</b></p>
<p style="position:absolute;top:682px;left:253px;white-space:nowrap" class="ft3639"><b>Basic&#160;interfaces</b></p>
<p style="position:absolute;top:699px;left:254px;white-space:nowrap" class="ft3639"><b>and trust&#160;layers</b></p>
<p style="position:absolute;top:436px;left:644px;white-space:nowrap" class="ft3634"><b>API</b></p>
<p style="position:absolute;top:844px;left:85px;white-space:nowrap" class="ft3612"><b>Figure 1:&#160;Workpackage 03 structure</b></p>
<p style="position:absolute;top:890px;left:85px;white-space:nowrap" class="ft3640"><b>Main&#160;Activities:<br/>a)&#160;TC&#160;enhanced&#160;CPUs:</b></p>
<p style="position:absolute;top:937px;left:85px;white-space:nowrap" class="ft364">Intel's Vanderpool&#160;processor&#160;technology&#160;and&#160;AMD's&#160;Pacifica&#160;processor&#160;will&#160;both&#160;contain<br/>TC&#160;enhancement&#160;features&#160;and&#160;offer an&#160;additional&#160;interface&#160;with&#160;allows virtualization.<br/>Virtualization&#160;is&#160;proving&#160;to be&#160;an&#160;ever-more&#160;useful&#160;tool&#160;to&#160;solving problems&#160;ranging<br/>from&#160;trusted&#160;computing&#160;to&#160;VLIW&#160;migration&#160;to&#160;distributed&#160;computing.&#160;Used&#160;to migrate<br/>resource&#160;management&#160;into&#160;user space&#160;or&#160;encapsulate&#160;runtime&#160;environments,&#160;new<br/>virtualization&#160;developments&#160;promise&#160;to&#160;dramatically&#160;affect&#160;our use&#160;of&#160;computers&#160;in the<br/>near future.&#160;<br/>Virtualization&#160;allows also&#160;a far&#160;better implementation&#160;of&#160;the&#160;security&#160;and protection<br/>features&#160;which&#160;are&#160;necessary&#160;for&#160;trusted computing&#160;hw support.&#160;Programming&#160;jobs&#160;in<br/>all&#160;OS&#160;get a&#160;lot&#160;easier&#160;with&#160;virtualization&#160;support&#160;built directly into&#160;the processor.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft367">Open_TC&#160;Deliverable&#160;D3b</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft367">4/15</p>
</div>
<!-- Page 37 -->
<a name="37"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft3741{font-size:18px;font-family:MDILCE+SymbolMT;color:#000000;}
	.ft3742{font-size:18px;font-family:TimesNewRomanPS;color:#000000;}
	.ft3743{font-size:18px;font-family:TimesNewRomanPSMT;color:#000000;}
	.ft3744{font-size:18px;line-height:20px;font-family:TimesNewRomanPSMT;color:#000000;}
-->
</style>
<div id="page37-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2037.png" alt="background image"/>
<p style="position:absolute;top:92px;left:273px;white-space:nowrap" class="ft377">WP3b&#160;Overview and TPM Software&#160;Stack</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft377">RC1</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft374">Within&#160;Open_TC&#160;we support&#160;both&#160;processor&#160;vendors&#160;for&#160;allowing&#160;a broad&#160;and&#160;universal<br/>access&#160;to TC&#160;on&#160;all standard&#160;platforms:</p>
<p style="position:absolute;top:194px;left:84px;white-space:nowrap" class="ft3741">•</p>
<p style="position:absolute;top:200px;left:111px;white-space:nowrap" class="ft3742"><b>Intel</b></p>
<p style="position:absolute;top:221px;left:111px;white-space:nowrap" class="ft3744">Intel&#160;has&#160;already a cooperation with the Open_TC&#160;partner CUCL, where the CPU&#160;hardware<br/>requirements&#160;for&#160;TC&#160;and also the&#160;basic virtualization needs are handled in a different&#160;open<br/>Source project.&#160;Within&#160;Open_TC we&#160;will use these results&#160;which are available also in detail via<br/>our partner CUCL.&#160;Therefore&#160;no special Intel package is required, however all the necessary<br/>data&#160;and code will&#160;be accessible.</p>
<p style="position:absolute;top:328px;left:84px;white-space:nowrap" class="ft3741">•</p>
<p style="position:absolute;top:334px;left:111px;white-space:nowrap" class="ft3742"><b>AMD&#160;</b></p>
<p style="position:absolute;top:355px;left:111px;white-space:nowrap" class="ft3744">AMD will provide support to adapt the trusted OS layers&#160;to the AMD Pacifica processor<br/>virtualization extensions and Presidio platform-level security extensions&#160;according to the<br/>requirements&#160;determined&#160;in month 1 to 6. In particular, this&#160;concerns&#160;the development&#160;of a CPU<br/>hardware interface&#160;layer and a low level virtualization with security package, allowing for&#160;easy<br/>use and development&#160;of this new&#160;technology to support TC issues.</p>
<p style="position:absolute;top:478px;left:85px;white-space:nowrap" class="ft371"><b>b</b></p>
<p style="position:absolute;top:478px;left:97px;white-space:nowrap" class="ft372">)&#160;</p>
<p style="position:absolute;top:478px;left:109px;white-space:nowrap" class="ft371"><b>TCG Software&#160;Stack&#160;(the TSS)</b></p>
<p style="position:absolute;top:478px;left:385px;white-space:nowrap" class="ft372">&#160;</p>
<p style="position:absolute;top:497px;left:85px;white-space:nowrap" class="ft374">The TCG&#160;Software&#160;Stack&#160;(the&#160;TSS) is the supporting&#160;software&#160;on the&#160;platform<br/>supporting&#160;the&#160;platform’s&#160;TPM.&#160;Its specification&#160;was done&#160;by the&#160;TCG and&#160;is&#160;publicly<br/>available&#160;at the internet&#160;at&#160;[TCG05].&#160;Within&#160;the&#160;project&#160;we&#160;will&#160;adapt&#160;the&#160;TSS&#160;to&#160;the<br/>requirements&#160;of&#160;&#160;Linux , L4&#160;and XEN&#160;trusted&#160;OS.</p>
<p style="position:absolute;top:593px;left:85px;white-space:nowrap" class="ft371"><b>c) &#160;TPM-enabling widely available&#160;crypto&#160;interfaces&#160;and&#160;basic&#160;crypto&#160;services</b></p>
<p style="position:absolute;top:612px;left:85px;white-space:nowrap" class="ft374">OpenSC,&#160;OpenSSL&#160;and&#160;OpenSSH&#160;are&#160;widely&#160;used&#160;and&#160;deployed,&#160;full-strength&#160;general<br/>purpose,&#160;open&#160;source&#160;solution&#160;packages and&#160;crypto&#160;library.&#160;Therefore&#160;we&#160;will&#160;also<br/>integrate&#160;an&#160;adaptation&#160;software&#160;module&#160;by which&#160;the&#160;cryptographic&#160;features&#160;can<br/>securely&#160;processed&#160;via&#160;the&#160;TSS stack&#160;in&#160;the TPM crypto&#160;module.&#160;This&#160;enables it&#160;to use<br/>the TPM&#160;as a protected&#160;storage&#160;for&#160;keys&#160;and&#160;as&#160;a&#160;hardware&#160;crypto&#160;device.&#160;Furthermore<br/>a&#160;PKCS#11&#160;module&#160;and&#160;an&#160;adaptation&#160;to&#160;TPM&#160;of the IPsec tools&#160;for&#160;Linux will&#160;be done.<br/>Finally&#160;a privacy&#160;enhancement&#160;of&#160;the&#160;SSL/TLS&#160;protocols&#160;will&#160;be defined&#160;and<br/>implemented&#160;and a study&#160;about the privacy enhancement the IKE/ISAKMP&#160;protocols<br/>will&#160;be done.</p>
<p style="position:absolute;top:804px;left:85px;white-space:nowrap" class="ft371"><b>d) &#160;JAVA&#160;Integration</b></p>
<p style="position:absolute;top:823px;left:85px;white-space:nowrap" class="ft374">To&#160;support&#160;a&#160;broad&#160;range&#160;of&#160;existing&#160;applications,&#160;it&#160;is&#160;essential&#160;to integrate&#160;TCG/TPM-<br/>technology&#160;also in an&#160;application&#160;environment&#160;like&#160;Java.&#160;There are&#160;a lot&#160;of&#160;&#160;JAVA&#160;and<br/>network applications like&#160;grid&#160;computing,&#160;web services&#160;or mobile&#160;applications&#160;will<br/>highly&#160;benefit&#160;from&#160;TPM functionality.&#160;</p>
<p style="position:absolute;top:919px;left:85px;white-space:nowrap" class="ft372">&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft377">Open_TC&#160;Deliverable&#160;D3b</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft377">5/15</p>
</div>
<!-- Page 38 -->
<a name="38"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page38-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2038.png" alt="background image"/>
<p style="position:absolute;top:92px;left:273px;white-space:nowrap" class="ft387">WP3b&#160;Overview and TPM Software&#160;Stack</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft387">RC1</p>
<p style="position:absolute;top:191px;left:91px;white-space:nowrap" class="ft3810"><b>2&#160;</b></p>
<p style="position:absolute;top:188px;left:123px;white-space:nowrap" class="ft3811"><b>D03b1:&#160;TSS-Stack according to&#160; TCG Specification.&#160;(IFX)</b></p>
<p style="position:absolute;top:218px;left:85px;white-space:nowrap" class="ft384">The TCG&#160;main&#160;specification&#160;defines a&#160;subsystem&#160;with&#160;protected&#160;storage&#160;and&#160;protected<br/>capabilities:&#160;This subsystem&#160;is the Trusted&#160;Platform&#160;Module (TPM).&#160;Since&#160;the TPM is<br/>both&#160;a&#160;subsystem&#160;intended&#160;to provide&#160;trust&#160;and&#160;be an&#160;inexpensive&#160;component,<br/>resources&#160;within&#160;it are&#160;restricted.&#160;This narrowing&#160;of&#160;the&#160;resources,&#160;while making&#160;the<br/>security&#160;properties&#160;easier&#160;and&#160;cheaper&#160;to&#160;build&#160;and&#160;verify, causes&#160;to&#160;the&#160;interfaces&#160;and<br/>capabilities&#160;to&#160;be&#160;cumbersome.&#160;The&#160;TCG architecture&#160;has solved&#160;this&#160;by&#160;separating&#160;the<br/>functions&#160;requiring&#160;the protected storage&#160;and&#160;capabilities&#160;from&#160;the&#160;functions&#160;that&#160;do<br/>not;&#160;putting&#160;those&#160;that&#160;do&#160;not&#160;into&#160;the platform’s&#160;main&#160;processor&#160;and&#160;memory&#160;space<br/>where&#160;processing&#160;power&#160;and&#160;storage&#160;exceed&#160;that&#160;of&#160;the&#160;TPM.&#160;The&#160;modules&#160;and<br/>components&#160;that&#160;provide&#160;this&#160;supporting&#160;functionality&#160;comprise&#160;the TSS.</p>
<p style="position:absolute;top:429px;left:85px;white-space:nowrap" class="ft384">Due&#160;to its&#160;special&#160;role, as the central&#160;trust&#160;API to the&#160;trusted&#160;hardware&#160;(TPM)&#160;it&#160;will be<br/>used&#160;as&#160;trust&#160;API&#160;for&#160;the&#160;operating&#160;system&#160;as well as&#160;for&#160;the&#160;applications.&#160; The TSS<br/>definition&#160;is publicly available&#160;at the TCGs website&#160;/1/.&#160;</p>
<p style="position:absolute;top:515px;left:85px;white-space:nowrap" class="ft384">The TCG&#160;Software&#160;Stack&#160;(the&#160;TSS) is the supporting&#160;software&#160;on&#160;the platform&#160;for<br/>connecting the platform’s&#160;TPM&#160;security&#160;processor.&#160;Its specification&#160;was done&#160;by the<br/>TCG&#160;and is&#160;publicly&#160;available&#160;at&#160;the internet&#160;at&#160;[TCG05].&#160;Within&#160;the&#160;project&#160;we&#160;will<br/>adapt&#160;the&#160;TSS to&#160;the&#160;requirements&#160;of Linux&#160;OS.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft387">Open_TC&#160;Deliverable&#160;D3b</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft387">6/15</p>
</div>
<!-- Page 39 -->
<a name="39"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft3945{font-size:16px;font-family:ArialMT;color:#000000;}
	.ft3946{font-size:13px;font-family:ArialMT;color:#000000;}
	.ft3947{font-size:13px;line-height:15px;font-family:ArialMT;color:#000000;}
	.ft3948{font-size:13px;line-height:14px;font-family:ArialMT;color:#000000;}
-->
</style>
<div id="page39-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2039.png" alt="background image"/>
<p style="position:absolute;top:92px;left:273px;white-space:nowrap" class="ft397">WP3b&#160;Overview and TPM Software&#160;Stack</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft397">RC1</p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft391"><b>2.1&#160;TSS&#160;Architecture</b></p>
<p style="position:absolute;top:719px;left:386px;white-space:nowrap" class="ft3945">TPM</p>
<p style="position:absolute;top:630px;left:306px;white-space:nowrap" class="ft3945">TSS&#160;Device&#160;Driver&#160;Library</p>
<p style="position:absolute;top:538px;left:335px;white-space:nowrap" class="ft3945">TSS Core&#160;Service</p>
<p style="position:absolute;top:446px;left:322px;white-space:nowrap" class="ft3945">TSS Service&#160;Provider</p>
<p style="position:absolute;top:344px;left:324px;white-space:nowrap" class="ft3945">TCPA&#160;Crypto&#160;</p>
<p style="position:absolute;top:364px;left:310px;white-space:nowrap" class="ft3945">Service&#160;Providers</p>
<p style="position:absolute;top:263px;left:336px;white-space:nowrap" class="ft3945">TCPA&#160;Application</p>
<p style="position:absolute;top:717px;left:149px;white-space:nowrap" class="ft3946">Section&#160;6</p>
<p style="position:absolute;top:631px;left:149px;white-space:nowrap" class="ft3946">Section&#160;5</p>
<p style="position:absolute;top:539px;left:149px;white-space:nowrap" class="ft3946">Section&#160;4</p>
<p style="position:absolute;top:447px;left:149px;white-space:nowrap" class="ft3946">Section&#160;3</p>
<p style="position:absolute;top:356px;left:149px;white-space:nowrap" class="ft3946">Appendix?</p>
<p style="position:absolute;top:690px;left:231px;white-space:nowrap" class="ft3947">TPM&#160;<br/>Interface</p>
<p style="position:absolute;top:588px;left:231px;white-space:nowrap" class="ft3948">TPM&#160;Device&#160;<br/>Driver&#160;Library&#160;<br/>Interface</p>
<p style="position:absolute;top:507px;left:225px;white-space:nowrap" class="ft3947">TSS Core&#160;Service&#160;<br/>Interface</p>
<p style="position:absolute;top:404px;left:225px;white-space:nowrap" class="ft3947">TSS Service&#160;<br/>Provider&#160;Interface</p>
<p style="position:absolute;top:318px;left:231px;white-space:nowrap" class="ft3948">Crypto&#160;Service&#160;<br/>Provider&#160;<br/>Interfaces</p>
<p style="position:absolute;top:719px;left:386px;white-space:nowrap" class="ft3945">TPM</p>
<p style="position:absolute;top:630px;left:306px;white-space:nowrap" class="ft3945">TSS&#160;Device&#160;Driver&#160;Library</p>
<p style="position:absolute;top:538px;left:335px;white-space:nowrap" class="ft3945">TSS Core&#160;Service</p>
<p style="position:absolute;top:446px;left:322px;white-space:nowrap" class="ft3945">TSS Service&#160;Provider</p>
<p style="position:absolute;top:344px;left:324px;white-space:nowrap" class="ft3945">TCPA&#160;Crypto&#160;</p>
<p style="position:absolute;top:364px;left:310px;white-space:nowrap" class="ft3945">Service&#160;Providers</p>
<p style="position:absolute;top:263px;left:336px;white-space:nowrap" class="ft3945">TCPA&#160;Application</p>
<p style="position:absolute;top:717px;left:149px;white-space:nowrap" class="ft3946">Section&#160;6</p>
<p style="position:absolute;top:631px;left:149px;white-space:nowrap" class="ft3946">Section&#160;5</p>
<p style="position:absolute;top:539px;left:149px;white-space:nowrap" class="ft3946">Section&#160;4</p>
<p style="position:absolute;top:447px;left:149px;white-space:nowrap" class="ft3946">Section&#160;3</p>
<p style="position:absolute;top:356px;left:149px;white-space:nowrap" class="ft3946">Appendix?</p>
<p style="position:absolute;top:690px;left:231px;white-space:nowrap" class="ft3947">TPM&#160;<br/>Interface</p>
<p style="position:absolute;top:588px;left:231px;white-space:nowrap" class="ft3948">TPM&#160;Device&#160;<br/>Driver&#160;Library&#160;<br/>Interface</p>
<p style="position:absolute;top:507px;left:225px;white-space:nowrap" class="ft3947">TSS Core&#160;Service&#160;<br/>Interface</p>
<p style="position:absolute;top:404px;left:225px;white-space:nowrap" class="ft3947">TSS Service&#160;<br/>Provider&#160;Interface</p>
<p style="position:absolute;top:318px;left:231px;white-space:nowrap" class="ft3948">Crypto&#160;Service&#160;<br/>Provider&#160;<br/>Interfaces</p>
<p style="position:absolute;top:719px;left:386px;white-space:nowrap" class="ft3945">TPM</p>
<p style="position:absolute;top:630px;left:306px;white-space:nowrap" class="ft3945">TSS&#160;Device&#160;Driver&#160;Library</p>
<p style="position:absolute;top:538px;left:335px;white-space:nowrap" class="ft3945">TSS Core&#160;Service</p>
<p style="position:absolute;top:446px;left:322px;white-space:nowrap" class="ft3945">TSS Service&#160;Provider</p>
<p style="position:absolute;top:344px;left:324px;white-space:nowrap" class="ft3945">TCPA&#160;Crypto&#160;</p>
<p style="position:absolute;top:364px;left:310px;white-space:nowrap" class="ft3945">Service&#160;Providers</p>
<p style="position:absolute;top:263px;left:336px;white-space:nowrap" class="ft3945">TCPA&#160;Application</p>
<p style="position:absolute;top:717px;left:149px;white-space:nowrap" class="ft3946">Section&#160;6</p>
<p style="position:absolute;top:631px;left:149px;white-space:nowrap" class="ft3946">Section&#160;5</p>
<p style="position:absolute;top:539px;left:149px;white-space:nowrap" class="ft3946">Section&#160;4</p>
<p style="position:absolute;top:447px;left:149px;white-space:nowrap" class="ft3946">Section&#160;3</p>
<p style="position:absolute;top:356px;left:149px;white-space:nowrap" class="ft3946">Appendix?</p>
<p style="position:absolute;top:690px;left:231px;white-space:nowrap" class="ft3947">TPM&#160;<br/>Interface</p>
<p style="position:absolute;top:588px;left:231px;white-space:nowrap" class="ft3948">TPM&#160;Device&#160;<br/>Driver&#160;Library&#160;<br/>Interface</p>
<p style="position:absolute;top:507px;left:225px;white-space:nowrap" class="ft3947">TSS Core&#160;Service&#160;<br/>Interface</p>
<p style="position:absolute;top:404px;left:225px;white-space:nowrap" class="ft3947">TSS Service&#160;<br/>Provider&#160;Interface</p>
<p style="position:absolute;top:318px;left:231px;white-space:nowrap" class="ft3948">Crypto&#160;Service&#160;<br/>Provider&#160;<br/>Interfaces</p>
<p style="position:absolute;top:766px;left:85px;white-space:nowrap" class="ft3912"><b>Figure 2:&#160;TSS-Stack</b></p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft397">Open_TC&#160;Deliverable&#160;D3b</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft397">7/15</p>
<p style="position:absolute;top:514px;left:588px;white-space:nowrap" class="ft3934"><b>TSS&#160;modules covered&#160;</b></p>
<p style="position:absolute;top:534px;left:601px;white-space:nowrap" class="ft3934"><b>by&#160;the&#160;related TCG&#160;</b></p>
<p style="position:absolute;top:555px;left:623px;white-space:nowrap" class="ft3934"><b>specification.</b></p>
</div>
<!-- Page 40 -->
<a name="40"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page40-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2040.png" alt="background image"/>
<p style="position:absolute;top:92px;left:273px;white-space:nowrap" class="ft407">WP3b&#160;Overview and TPM Software&#160;Stack</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft407">RC1</p>
<p style="position:absolute;top:191px;left:85px;white-space:nowrap" class="ft4010"><b>3&#160;</b></p>
<p style="position:absolute;top:188px;left:117px;white-space:nowrap" class="ft4011"><b>TSS module architectural overview&#160;</b></p>
<p style="position:absolute;top:237px;left:85px;white-space:nowrap" class="ft404">Differently&#160;to other&#160;TSS&#160;realizations,&#160;where&#160;a&#160;monolithic&#160;implementation is chosen,&#160;we<br/>selected&#160;a&#160;distributed,&#160;modular&#160;implementation.&#160;Every module&#160;has&#160;a&#160;selected<br/>functionality,&#160;which is&#160;also&#160;referenced&#160;by&#160;the&#160;structure&#160;of&#160;the&#160;TCG&#160;specification.&#160;Well<br/>defined&#160;interfaces will allow&#160;a&#160;thorough&#160;understanding&#160;of the&#160;whole structure&#160;esp. for<br/>any changes which will&#160;come&#160;up later. This is&#160;esp.&#160;advantageous&#160;for&#160;adapting&#160;this&#160;TSS<br/>to&#160;changes&#160;and&#160;extensions&#160;of the general&#160;specification&#160;which&#160;may come&#160;up&#160;later&#160;due<br/>to the&#160;forth&#160;going&#160;work of the TCG standardization&#160;groups.&#160;&#160;A&#160;continuous&#160;support&#160;for<br/>further&#160;development&#160;in this&#160;field will&#160;therefore&#160;be&#160;supported.&#160;</p>
<p style="position:absolute;top:428px;left:85px;white-space:nowrap" class="ft401"><b>3.1&#160;TCG-TSP architectural&#160;building&#160;blocks</b></p>
<p style="position:absolute;top:456px;left:85px;white-space:nowrap" class="ft404">This&#160;module&#160;provides&#160;TCG&#160;services&#160;for&#160;applications.&#160;It provides&#160;the&#160;high-level TCG<br/>functions allowing&#160;applications&#160;to&#160;focus on&#160;their&#160;specialty while relying on&#160;the TSP&#160;to<br/>perform&#160;most&#160;of the trusted&#160;functions&#160;provided&#160;by&#160;the&#160;TPM.&#160;This&#160;module&#160;also&#160;provides<br/>a small&#160;number&#160;of auxiliary&#160;functions&#160;for&#160;convenience&#160;not&#160;provided&#160;by&#160;the&#160;TPM&#160;such&#160;as<br/>hashing.&#160;<br/>In&#160;environments&#160;that&#160;provide&#160;layers of&#160;protections&#160;(i.e.,&#160;rings)&#160;or&#160;separation&#160;of<br/>applications&#160;into processes,&#160;this&#160;module&#160;is&#160;intended&#160;to&#160;reside&#160;within the&#160;same&#160;ring&#160;and<br/>process&#160;as&#160;the application.&#160;There will&#160;likely&#160;be&#160;one&#160;TSP&#160;per&#160;application.&#160;On&#160;operating<br/>systems&#160;that&#160;provide&#160;multiple&#160;processes,&#160;there&#160;may be&#160;multiple&#160;TSP’s&#160;residing&#160;on&#160;the<br/>platform.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft407">Open_TC&#160;Deliverable&#160;D3b</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft407">8/15</p>
</div>
<!-- Page 41 -->
<a name="41"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft4149{font-size:12px;font-family:ArialMT;color:#000000;}
	.ft4150{font-size:12px;font-family:Arial;color:#000000;}
	.ft4151{font-size:10px;font-family:ArialMT;color:#000000;}
	.ft4152{font-size:10px;font-family:Arial;color:#000000;}
	.ft4153{font-size:16px;font-family:MDIKOC+Wingdings;color:#000000;}
	.ft4154{font-size:12px;line-height:14px;font-family:ArialMT;color:#000000;}
	.ft4155{font-size:10px;line-height:12px;font-family:ArialMT;color:#000000;}
-->
</style>
<div id="page41-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2041.png" alt="background image"/>
<p style="position:absolute;top:92px;left:273px;white-space:nowrap" class="ft417">WP3b&#160;Overview and TPM Software&#160;Stack</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft417">RC1</p>
<p style="position:absolute;top:219px;left:284px;white-space:nowrap" class="ft4149">TCG&#160;-Aware&#160;-Application</p>
<p style="position:absolute;top:654px;left:366px;white-space:nowrap" class="ft4150"><b>Basic&#160;architectural&#160;building blocks for TCG&#160;-TSS-Service-Provide&#160;r</b></p>
<p style="position:absolute;top:197px;left:335px;white-space:nowrap" class="ft4151">User</p>
<p style="position:absolute;top:461px;left:474px;white-space:nowrap" class="ft4149">Crypto&#160;-Service&#160;-</p>
<p style="position:absolute;top:476px;left:497px;white-space:nowrap" class="ft4149">Module</p>
<p style="position:absolute;top:334px;left:453px;white-space:nowrap" class="ft4149">Persistent&#160;-Storage&#160;-</p>
<p style="position:absolute;top:349px;left:452px;white-space:nowrap" class="ft4149">Access&#160;-Component</p>
<p style="position:absolute;top:549px;left:277px;white-space:nowrap" class="ft4149">TCG-Core&#160;-Service&#160;-Access</p>
<p style="position:absolute;top:328px;left:630px;white-space:nowrap" class="ft4154">TSP&#160;-Persistent&#160;-<br/>Storage (user)</p>
<p style="position:absolute;top:623px;left:284px;white-space:nowrap" class="ft4149">TCG-TSS&#160;-Core-Service</p>
<p style="position:absolute;top:296px;left:260px;white-space:nowrap" class="ft4149">TSP-Interface&#160;-Layer (C-Interface&#160;)</p>
<p style="position:absolute;top:304px;left:562px;white-space:nowrap" class="ft4150"><b>1</b></p>
<p style="position:absolute;top:505px;left:445px;white-space:nowrap" class="ft4149">Transport&#160;-Protection&#160;-</p>
<p style="position:absolute;top:519px;left:484px;white-space:nowrap" class="ft4149">Helper</p>
<p style="position:absolute;top:263px;left:520px;white-space:nowrap" class="ft4152"><b>TSPI-Level</b></p>
<p style="position:absolute;top:437px;left:633px;white-space:nowrap" class="ft4154">Crypto&#160;-Algorithm&#160;-<br/>Support Module&#160;&#160;(e.g.&#160;<br/>OpenSSL&#160;)&#160;</p>
<p style="position:absolute;top:421px;left:467px;white-space:nowrap" class="ft4149">Secret&#160;-Memory-</p>
<p style="position:absolute;top:435px;left:492px;white-space:nowrap" class="ft4149">Helper</p>
<p style="position:absolute;top:374px;left:143px;white-space:nowrap" class="ft4149">Setting and&#160;Policy&#160;</p>
<p style="position:absolute;top:389px;left:171px;white-space:nowrap" class="ft4149">Access</p>
<p style="position:absolute;top:381px;left:449px;white-space:nowrap" class="ft4149">Streaming&#160;-Helper-</p>
<p style="position:absolute;top:395px;left:476px;white-space:nowrap" class="ft4149">Classes</p>
<p style="position:absolute;top:419px;left:144px;white-space:nowrap" class="ft4149">Error-Handling&#160;-Class</p>
<p style="position:absolute;top:331px;left:136px;white-space:nowrap" class="ft4149">Synchronization&#160;-Helper&#160;-</p>
<p style="position:absolute;top:345px;left:180px;white-space:nowrap" class="ft4149">Module</p>
<p style="position:absolute;top:505px;left:309px;white-space:nowrap" class="ft4149">TSP&#160;-Module-</p>
<p style="position:absolute;top:519px;left:309px;white-space:nowrap" class="ft4149">Management</p>
<p style="position:absolute;top:345px;left:312px;white-space:nowrap" class="ft4149">TSP&#160;-Working-</p>
<p style="position:absolute;top:359px;left:330px;white-space:nowrap" class="ft4149">Objects</p>
<p style="position:absolute;top:405px;left:316px;white-space:nowrap" class="ft4149">Authorization&#160;-</p>
<p style="position:absolute;top:420px;left:296px;white-space:nowrap" class="ft4149">Handling&#160;-Component</p>
<p style="position:absolute;top:458px;left:319px;white-space:nowrap" class="ft4149">Auth-Session&#160;-</p>
<p style="position:absolute;top:473px;left:333px;white-space:nowrap" class="ft4149">Handling</p>
<p style="position:absolute;top:455px;left:161px;white-space:nowrap" class="ft4149">TSP-Context&#160;-</p>
<p style="position:absolute;top:469px;left:163px;white-space:nowrap" class="ft4149">Organization</p>
<p style="position:absolute;top:505px;left:149px;white-space:nowrap" class="ft4149">Common-Module-</p>
<p style="position:absolute;top:519px;left:176px;white-space:nowrap" class="ft4149">Service</p>
<p style="position:absolute;top:388px;left:249px;white-space:nowrap" class="ft4150"><b>4</b></p>
<p style="position:absolute;top:332px;left:402px;white-space:nowrap" class="ft4150"><b>2</b></p>
<p style="position:absolute;top:350px;left:267px;white-space:nowrap" class="ft4150"><b>3</b></p>
<p style="position:absolute;top:400px;left:399px;white-space:nowrap" class="ft4150"><b>5</b></p>
<p style="position:absolute;top:394px;left:555px;white-space:nowrap" class="ft4150"><b>6</b></p>
<p style="position:absolute;top:354px;left:565px;white-space:nowrap" class="ft4150"><b>7</b></p>
<p style="position:absolute;top:478px;left:562px;white-space:nowrap" class="ft4150"><b>8</b></p>
<p style="position:absolute;top:425px;left:264px;white-space:nowrap" class="ft4150"><b>9</b></p>
<p style="position:absolute;top:469px;left:261px;white-space:nowrap" class="ft4150"><b>10</b></p>
<p style="position:absolute;top:459px;left:411px;white-space:nowrap" class="ft4150"><b>11</b></p>
<p style="position:absolute;top:438px;left:442px;white-space:nowrap" class="ft4150"><b>12</b></p>
<p style="position:absolute;top:512px;left:559px;white-space:nowrap" class="ft4150"><b>13</b></p>
<p style="position:absolute;top:506px;left:405px;white-space:nowrap" class="ft4150"><b>14</b></p>
<p style="position:absolute;top:518px;left:252px;white-space:nowrap" class="ft4150"><b>15</b></p>
<p style="position:absolute;top:552px;left:559px;white-space:nowrap" class="ft4150"><b>16</b></p>
<p style="position:absolute;top:369px;left:663px;white-space:nowrap" class="ft4150"><b>17</b></p>
<p style="position:absolute;top:506px;left:656px;white-space:nowrap" class="ft4150"><b>18</b></p>
<p style="position:absolute;top:614px;left:448px;white-space:nowrap" class="ft4150"><b>19</b></p>
<p style="position:absolute;top:584px;left:225px;white-space:nowrap" class="ft4155">Local&#160;or&#160;remote&#160;<br/>calling context.</p>
<p style="position:absolute;top:570px;left:126px;white-space:nowrap" class="ft4152"><b>TSP</b></p>
<p style="position:absolute;top:700px;left:112px;white-space:nowrap" class="ft4153"></p>
<p style="position:absolute;top:699px;left:139px;white-space:nowrap" class="ft411"><b>TSP-Interface-Layer&#160;(C-Interface)</b></p>
<p style="position:absolute;top:719px;left:138px;white-space:nowrap" class="ft414">Represents&#160;the TSPI of the TSS-Service-Provider&#160;and uses&#160;the&#160;C-Interface<br/>notation. Includes&#160;the&#160;first&#160;object&#160;access abstraction layer;&#160;accomplishing&#160;the<br/>object&#160;oriented&#160;nature&#160;of the&#160;TSP&#160;interface. Contains&#160;functionality&#160;to&#160;create&#160;and<br/>release&#160;interface&#160;layer objects which&#160;are linked&#160;to the working&#160;layer.</p>
<p style="position:absolute;top:796px;left:112px;white-space:nowrap" class="ft4153"></p>
<p style="position:absolute;top:795px;left:139px;white-space:nowrap" class="ft411"><b>TSP-Working-Objects</b></p>
<p style="position:absolute;top:815px;left:138px;white-space:nowrap" class="ft414">Collection&#160;of all&#160;TSP related productive&#160;objects (e.g.&#160;Key, EncData…).&#160;Act&#160;as&#160;a<br/>kind&#160;of&#160;business&#160;workflow&#160;control&#160;for&#160;all TCG related transformations&#160;and<br/>calculations.&#160;These&#160;operations&#160;are&#160;performed&#160;with&#160;assistance&#160;of the&#160;different<br/>specialized&#160;support&#160;components&#160;and&#160;classes.&#160;</p>
<p style="position:absolute;top:892px;left:112px;white-space:nowrap" class="ft4153"></p>
<p style="position:absolute;top:891px;left:139px;white-space:nowrap" class="ft411"><b>Synchronization-Helper-Module</b></p>
<p style="position:absolute;top:911px;left:138px;white-space:nowrap" class="ft414">Collection&#160;of some&#160;small&#160;helper&#160;classes;&#160;encapsulate&#160;the&#160;native&#160;system&#160;calls&#160;for<br/>synchronization&#160;object handling.</p>
<p style="position:absolute;top:950px;left:112px;white-space:nowrap" class="ft4153"></p>
<p style="position:absolute;top:949px;left:139px;white-space:nowrap" class="ft411"><b>Setting&#160;and Policy&#160;Access</b></p>
<p style="position:absolute;top:968px;left:138px;white-space:nowrap" class="ft414">Function&#160;and&#160;class&#160;pool&#160;to&#160;summarize&#160;operations&#160;used&#160;to access and&#160;validate<br/>setting information.&#160;</p>
<p style="position:absolute;top:1007px;left:112px;white-space:nowrap" class="ft4153"></p>
<p style="position:absolute;top:1007px;left:139px;white-space:nowrap" class="ft411"><b>Authorization-Handling-Component</b></p>
<p style="position:absolute;top:1026px;left:138px;white-space:nowrap" class="ft414">Component&#160;contains the&#160;knowledge&#160;and TPM&#160;command&#160;parameter&#160;data&#160;for the<br/>authorization&#160;data&#160;stream&#160;construction.&#160;This unit&#160;interacts with the TSP-Policy-<br/>Class&#160;from&#160;the TSP-Working-Object&#160;and&#160;the&#160;Auth-Session-Handling&#160;module&#160;to<br/>calculate&#160;the&#160;authorization&#160;(e.g.&#160;HMAC) data&#160;package.&#160;It&#160;interacts as&#160;a kind&#160;of<br/>instrumentation&#160;factor&#160;for the&#160;TCG authorization&#160;flow.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft417">Open_TC&#160;Deliverable&#160;D3b</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft417">9/15</p>
</div>
<!-- Page 42 -->
<a name="42"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page42-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2042.png" alt="background image"/>
<p style="position:absolute;top:92px;left:273px;white-space:nowrap" class="ft427">WP3b&#160;Overview and TPM Software&#160;Stack</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft427">RC1</p>
<p style="position:absolute;top:152px;left:112px;white-space:nowrap" class="ft4253"></p>
<p style="position:absolute;top:151px;left:139px;white-space:nowrap" class="ft421"><b>Streaming-Helper-Classes</b></p>
<p style="position:absolute;top:170px;left:138px;white-space:nowrap" class="ft424">Helper&#160;classes&#160;transform&#160;TCG structures&#160;into&#160;BYTE-Stream-Representation&#160;and<br/>verse&#160;versa.</p>
<p style="position:absolute;top:209px;left:112px;white-space:nowrap" class="ft4253"></p>
<p style="position:absolute;top:209px;left:139px;white-space:nowrap" class="ft421"><b>Persistent-Storage-Access-Component</b></p>
<p style="position:absolute;top:228px;left:138px;white-space:nowrap" class="ft424">Component&#160;covers&#160;the&#160;physical&#160;access&#160;and representation&#160;of&#160;the TSP&#160;persistent<br/>storage&#160;representation.&#160;The&#160;TSS&#160;specification&#160;separates&#160;the storage&#160;context&#160;into<br/>a&#160;per&#160;user&#160;boundary&#160;and&#160;in&#160;a&#160;system&#160;linked&#160;one.&#160;This&#160;functionality&#160;and&#160;the&#160;data<br/>representation&#160;reflect a TSS&#160;(i.e.&#160;TSP and&#160;TCG)&#160;common&#160;code&#160;component.</p>
<p style="position:absolute;top:305px;left:112px;white-space:nowrap" class="ft4253"></p>
<p style="position:absolute;top:305px;left:139px;white-space:nowrap" class="ft421"><b>Crypto-Service-Module</b></p>
<p style="position:absolute;top:324px;left:138px;white-space:nowrap" class="ft424">Abstraction&#160;layer to&#160;offer&#160;a&#160;set of cryptographic&#160;functions&#160;needed&#160;for&#160;the TCG<br/>related&#160;data&#160;transformations&#160;(e.g.&#160;HMAC, SHA1…)&#160;in&#160;the TSP. The&#160;native<br/>algorithm&#160;suite&#160;is&#160;not part&#160;of the&#160;TSP&#160;module.</p>
<p style="position:absolute;top:382px;left:112px;white-space:nowrap" class="ft4253"></p>
<p style="position:absolute;top:381px;left:139px;white-space:nowrap" class="ft421"><b>Error-Handling-Class</b></p>
<p style="position:absolute;top:401px;left:138px;white-space:nowrap" class="ft424">Helper&#160;class(es)&#160;used in the&#160;exception&#160;handling&#160;process&#160;of the&#160;TSS&#160;components<br/>(i.e. TSP&#160;and&#160;TCS).&#160;The structured&#160;exception&#160;concept&#160;will&#160;be used&#160;for&#160;error<br/>handling&#160;inside&#160;of&#160;the TSS&#160;modules.</p>
<p style="position:absolute;top:459px;left:112px;white-space:nowrap" class="ft4253"></p>
<p style="position:absolute;top:458px;left:139px;white-space:nowrap" class="ft421"><b>TSP-Context-Organization</b></p>
<p style="position:absolute;top:477px;left:138px;white-space:nowrap" class="ft424">Cover the&#160;lifetime&#160;control&#160;for all&#160;TSP context&#160;object&#160;elements. Represent a kind<br/>of garbage&#160;collection&#160;for open&#160;context&#160;resources.&#160;</p>
<p style="position:absolute;top:516px;left:112px;white-space:nowrap" class="ft4253"></p>
<p style="position:absolute;top:516px;left:139px;white-space:nowrap" class="ft421"><b>Auth-Session-Handling</b></p>
<p style="position:absolute;top:535px;left:138px;white-space:nowrap" class="ft424">Envelop&#160;the&#160;lifetime&#160;control&#160;for all TSP authorization&#160;sessions&#160;for&#160;a context<br/>object&#160;element.&#160;Contain functionality&#160;to&#160;validate&#160;the&#160;status&#160;of the sessions.&#160;</p>
<p style="position:absolute;top:574px;left:112px;white-space:nowrap" class="ft4253"></p>
<p style="position:absolute;top:573px;left:139px;white-space:nowrap" class="ft421"><b>Secret-Memory-Helper</b></p>
<p style="position:absolute;top:593px;left:138px;white-space:nowrap" class="ft424">Offer&#160;functionality&#160;for&#160;limited&#160;permission&#160;memory&#160;area&#160;access&#160;used&#160;to store&#160;e.g.<br/>secret data.&#160;</p>
<p style="position:absolute;top:632px;left:112px;white-space:nowrap" class="ft4253"></p>
<p style="position:absolute;top:631px;left:139px;white-space:nowrap" class="ft421"><b>Transport-Protection-Helper</b></p>
<p style="position:absolute;top:650px;left:138px;white-space:nowrap" class="ft424">Set of&#160;helper&#160;function&#160;to&#160;support&#160;the construction&#160;(e.g.&#160;encrypt,&#160;decrypt…)&#160;of<br/>the transport&#160;protection&#160;related&#160;data&#160;streams.&#160;In addition&#160;export&#160;the central<br/>execution&#160;method for transport&#160;protected communication.&#160;</p>
<p style="position:absolute;top:708px;left:112px;white-space:nowrap" class="ft4253"></p>
<p style="position:absolute;top:708px;left:139px;white-space:nowrap" class="ft421"><b>TSP-Module-Management</b></p>
<p style="position:absolute;top:727px;left:138px;white-space:nowrap" class="ft424">General&#160;operations&#160;used&#160;to&#160;administrate&#160;and&#160;arrange&#160;TSP module&#160;wide services<br/>(e.g.&#160;memory&#160;handling).&#160;&#160;</p>
<p style="position:absolute;top:766px;left:112px;white-space:nowrap" class="ft4253"></p>
<p style="position:absolute;top:765px;left:139px;white-space:nowrap" class="ft421"><b>Common-Module-Service</b></p>
<p style="position:absolute;top:785px;left:138px;white-space:nowrap" class="ft424">Common functions&#160;used&#160;for&#160;TSP module&#160;management&#160;(e.g.&#160;registration,&#160;load<br/>and unload).&#160;</p>
<p style="position:absolute;top:824px;left:112px;white-space:nowrap" class="ft4253"></p>
<p style="position:absolute;top:823px;left:139px;white-space:nowrap" class="ft421"><b>TCG-Core-Service-Access</b></p>
<p style="position:absolute;top:842px;left:138px;white-space:nowrap" class="ft424">Component&#160;covers&#160;the&#160;physical&#160;access&#160;and representation&#160;of&#160;the TCS<br/>communication.&#160;Abstraction&#160;layer offer the&#160;functions&#160;to&#160;establish,&#160;operate&#160;and<br/>close&#160;the TCS communication&#160;in a&#160;local&#160;and a&#160;remote situation.</p>
<p style="position:absolute;top:900px;left:112px;white-space:nowrap" class="ft4253"></p>
<p style="position:absolute;top:900px;left:139px;white-space:nowrap" class="ft421"><b>TSP-Persistent-Storage&#160;(User)</b></p>
<p style="position:absolute;top:919px;left:138px;white-space:nowrap" class="ft424">Contain&#160;the physical&#160;data&#160;representation&#160;for&#160;TSP persistent&#160;storage.&#160;The<br/>preferred&#160;mechanism&#160;would&#160;be&#160;XML&#160;based.&#160;</p>
<p style="position:absolute;top:958px;left:112px;white-space:nowrap" class="ft4253"></p>
<p style="position:absolute;top:957px;left:139px;white-space:nowrap" class="ft421"><b>Crypto-Algorithm-Support-Module</b></p>
<p style="position:absolute;top:977px;left:138px;white-space:nowrap" class="ft424">Extern&#160;crypto&#160;module&#160;or&#160;library&#160;(e.g.&#160;OpenSSL)&#160;which offers&#160;all&#160;basic&#160;algorithms<br/>(e.g.&#160;hashing)&#160;required&#160;to&#160;derive&#160;the&#160;TSP&#160;crypto&#160;function&#160;set&#160;(e.g.&#160;HMAC).</p>
<p style="position:absolute;top:1016px;left:112px;white-space:nowrap" class="ft4253"></p>
<p style="position:absolute;top:1015px;left:139px;white-space:nowrap" class="ft421"><b>TCG-TSS-Core-Service</b></p>
<p style="position:absolute;top:1034px;left:138px;white-space:nowrap" class="ft422">System&#160;service reflects&#160;the&#160;TSS-Core-Service.&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft427">Open_TC&#160;Deliverable&#160;D3b</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft427">10/15</p>
</div>
<!-- Page 43 -->
<a name="43"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft4356{font-size:8px;font-family:ArialMT;color:#000000;}
	.ft4357{font-size:15px;font-family:Arial;color:#000000;}
-->
</style>
<div id="page43-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2043.png" alt="background image"/>
<p style="position:absolute;top:92px;left:273px;white-space:nowrap" class="ft437">WP3b&#160;Overview and TPM Software&#160;Stack</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft437">RC1</p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft431"><b>3.2&#160;TCG-TCS&#160;architectural&#160;building blocks</b></p>
<p style="position:absolute;top:255px;left:85px;white-space:nowrap" class="ft434">A service&#160;provider is any component&#160;used&#160;by the&#160;application&#160;that allows that<br/>application&#160;access&#160;to the&#160;TCS&#160;(and&#160;thus the&#160;TPM)&#160;from&#160;within&#160;the application’s&#160;process.<br/>Service&#160;providers,&#160;of which the&#160;TSP is but&#160;one&#160;possible&#160;instantiation,&#160;cannot<br/>communicate&#160;directly with&#160;the&#160;TPM.&#160;Additionally,&#160;there&#160;are&#160;multiple&#160;common&#160;services<br/>that&#160;either must&#160;or&#160;should&#160;be shared&#160;among&#160;the set&#160;of the&#160;platform’s&#160;service<br/>providers.&#160;<br/>The TCG&#160;Core&#160;Services&#160;(TCS)&#160;provides&#160;a&#160;common&#160;set of services per&#160;platform&#160;for&#160;all<br/>service providers.&#160;Since&#160;the TPM is not&#160;required to&#160;be multithreaded,&#160;it provides<br/>threaded&#160;access&#160;to&#160;the&#160;TPM.&#160;The TCS MUST&#160;provide&#160;single&#160;threaded&#160;access to&#160;the&#160;TPM<br/>and&#160;is&#160;an out of process&#160;system&#160;service.</p>
<p style="position:absolute;top:547px;left:164px;white-space:nowrap" class="ft4349">TCG-TSS-Service&#160;-Provider</p>
<p style="position:absolute;top:549px;left:306px;white-space:nowrap" class="ft4356">(local)</p>
<p style="position:absolute;top:992px;left:385px;white-space:nowrap" class="ft4350"><b>Basic architectural&#160;building blocks&#160;for&#160;TCG&#160;-TSS-Core-Service</b></p>
<p style="position:absolute;top:819px;left:453px;white-space:nowrap" class="ft4349">Physical&#160;-TPM-</p>
<p style="position:absolute;top:833px;left:443px;white-space:nowrap" class="ft4349">Command-Module</p>
<p style="position:absolute;top:671px;left:440px;white-space:nowrap" class="ft4349">Persistent&#160;-Storage&#160;-</p>
<p style="position:absolute;top:685px;left:440px;white-space:nowrap" class="ft4349">Access&#160;-Component</p>
<p style="position:absolute;top:867px;left:438px;white-space:nowrap" class="ft4349">TCG-Core&#160;-Service-</p>
<p style="position:absolute;top:881px;left:455px;white-space:nowrap" class="ft4349">TPM-Access</p>
<p style="position:absolute;top:667px;left:608px;white-space:nowrap" class="ft4354">TCS-Persistent&#160;-<br/>Storage (system)</p>
<p style="position:absolute;top:957px;left:402px;white-space:nowrap" class="ft4349">TCG-TSS-TDDL</p>
<p style="position:absolute;top:634px;left:241px;white-space:nowrap" class="ft4349">TCS-Interface&#160;-Layer&#160;(SOAP-Interface)</p>
<p style="position:absolute;top:642px;left:543px;white-space:nowrap" class="ft4350"><b>1</b></p>
<p style="position:absolute;top:713px;left:172px;white-space:nowrap" class="ft4349">Logical cache&#160;</p>
<p style="position:absolute;top:728px;left:166px;white-space:nowrap" class="ft4349">content&#160;handling</p>
<p style="position:absolute;top:598px;left:500px;white-space:nowrap" class="ft4352"><b>TCSI-Level</b></p>
<p style="position:absolute;top:826px;left:152px;white-space:nowrap" class="ft4349">TPM&#160;connection&#160;</p>
<p style="position:absolute;top:840px;left:160px;white-space:nowrap" class="ft4349">management</p>
<p style="position:absolute;top:719px;left:444px;white-space:nowrap" class="ft4349">Setting and Policy&#160;</p>
<p style="position:absolute;top:733px;left:472px;white-space:nowrap" class="ft4349">Access</p>
<p style="position:absolute;top:787px;left:144px;white-space:nowrap" class="ft4349">Streaming&#160;-Helper&#160;-</p>
<p style="position:absolute;top:801px;left:171px;white-space:nowrap" class="ft4349">Classes</p>
<p style="position:absolute;top:760px;left:136px;white-space:nowrap" class="ft4349">Error&#160;-Handling&#160;-Class</p>
<p style="position:absolute;top:668px;left:134px;white-space:nowrap" class="ft4349">Synchronization&#160;-Helper&#160;-</p>
<p style="position:absolute;top:682px;left:176px;white-space:nowrap" class="ft4349">Module</p>
<p style="position:absolute;top:867px;left:323px;white-space:nowrap" class="ft4349">TCS-Module-</p>
<p style="position:absolute;top:881px;left:324px;white-space:nowrap" class="ft4349">Management</p>
<p style="position:absolute;top:668px;left:294px;white-space:nowrap" class="ft4349">Facade&#160;-Abstraction&#160;-</p>
<p style="position:absolute;top:682px;left:316px;white-space:nowrap" class="ft4349">Component</p>
<p style="position:absolute;top:713px;left:290px;white-space:nowrap" class="ft4349">Logical TPM&#160;Resource&#160;</p>
<p style="position:absolute;top:728px;left:326px;white-space:nowrap" class="ft4349">handling</p>
<p style="position:absolute;top:825px;left:274px;white-space:nowrap" class="ft4349">TPM&#160;Device organize&#160;</p>
<p style="position:absolute;top:839px;left:294px;white-space:nowrap" class="ft4349">management</p>
<p style="position:absolute;top:765px;left:281px;white-space:nowrap" class="ft4349">Extended TPM&#160;Resource&#160;</p>
<p style="position:absolute;top:779px;left:293px;white-space:nowrap" class="ft4349">and access&#160;handling</p>
<p style="position:absolute;top:867px;left:194px;white-space:nowrap" class="ft4349">Common-Module-</p>
<p style="position:absolute;top:881px;left:221px;white-space:nowrap" class="ft4349">Service</p>
<p style="position:absolute;top:687px;left:257px;white-space:nowrap" class="ft4350"><b>4</b></p>
<p style="position:absolute;top:690px;left:551px;white-space:nowrap" class="ft4350"><b>2</b></p>
<p style="position:absolute;top:687px;left:401px;white-space:nowrap" class="ft4350"><b>3</b></p>
<p style="position:absolute;top:718px;left:142px;white-space:nowrap" class="ft4350"><b>5</b></p>
<p style="position:absolute;top:733px;left:401px;white-space:nowrap" class="ft4350"><b>6</b></p>
<p style="position:absolute;top:741px;left:543px;white-space:nowrap" class="ft4350"><b>7</b></p>
<p style="position:absolute;top:790px;left:407px;white-space:nowrap" class="ft4350"><b>8</b></p>
<p style="position:absolute;top:760px;left:257px;white-space:nowrap" class="ft4350"><b>9</b></p>
<p style="position:absolute;top:826px;left:545px;white-space:nowrap" class="ft4350"><b>12</b></p>
<p style="position:absolute;top:838px;left:386px;white-space:nowrap" class="ft4350"><b>13</b></p>
<p style="position:absolute;top:838px;left:245px;white-space:nowrap" class="ft4350"><b>14</b></p>
<p style="position:absolute;top:886px;left:280px;white-space:nowrap" class="ft4350"><b>15</b></p>
<p style="position:absolute;top:886px;left:398px;white-space:nowrap" class="ft4350"><b>16</b></p>
<p style="position:absolute;top:886px;left:540px;white-space:nowrap" class="ft4350"><b>17</b></p>
<p style="position:absolute;top:718px;left:622px;white-space:nowrap" class="ft4350"><b>18</b></p>
<p style="position:absolute;top:953px;left:545px;white-space:nowrap" class="ft4350"><b>19</b></p>
<p style="position:absolute;top:898px;left:124px;white-space:nowrap" class="ft4352"><b>TCS</b></p>
<p style="position:absolute;top:530px;left:454px;white-space:nowrap" class="ft4349">TCG-TSS&#160;-Service-Provider</p>
<p style="position:absolute;top:532px;left:596px;white-space:nowrap" class="ft4356">(remote&#160;)</p>
<p style="position:absolute;top:563px;left:377px;white-space:nowrap" class="ft4357"><b>…</b></p>
<p style="position:absolute;top:957px;left:144px;white-space:nowrap" class="ft4349">TPM</p>
<p style="position:absolute;top:956px;left:237px;white-space:nowrap" class="ft4349">TPM-Driver</p>
<p style="position:absolute;top:770px;left:430px;white-space:nowrap" class="ft4349">Physical&#160;cache strategy&#160;</p>
<p style="position:absolute;top:785px;left:448px;white-space:nowrap" class="ft4349">and organization</p>
<p style="position:absolute;top:796px;left:251px;white-space:nowrap" class="ft4350"><b>10</b></p>
<p style="position:absolute;top:790px;left:545px;white-space:nowrap" class="ft4350"><b>11</b></p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft437">Open_TC&#160;Deliverable&#160;D3b</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft437">11/15</p>
</div>
<!-- Page 44 -->
<a name="44"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft4458{font-size:16px;font-family:MDINEL+BookmanOldStyle;color:#000000;}
	.ft4459{font-size:16px;line-height:19px;font-family:MDINEL+BookmanOldStyle;color:#000000;}
-->
</style>
<div id="page44-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2044.png" alt="background image"/>
<p style="position:absolute;top:92px;left:273px;white-space:nowrap" class="ft447">WP3b&#160;Overview and TPM Software&#160;Stack</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft447">RC1</p>
<p style="position:absolute;top:179px;left:112px;white-space:nowrap" class="ft442">1.</p>
<p style="position:absolute;top:179px;left:139px;white-space:nowrap" class="ft441"><b>TCS-Interface-Layer (SOAP-Interface)</b></p>
<p style="position:absolute;top:198px;left:138px;white-space:nowrap" class="ft442">The interface&#160;to&#160;the&#160;TCS&#160;is the&#160;TCS Interface (Tcsi).&#160;This&#160;is&#160;a&#160;simple&#160;‘C’ style</p>
<p style="position:absolute;top:218px;left:138px;white-space:nowrap" class="ft4459">interface&#160;but&#160;should&#160;be&#160;realized&#160;in&#160;SOAP.&#160;While it&#160;may&#160;allow&#160;multithreaded&#160;access<br/>to&#160;the&#160;TCS,&#160;each&#160;operation&#160;is intended&#160;to be&#160;atomic. It&#160;resides&#160;as&#160;a system&#160;process,<br/>separate&#160;from&#160;the&#160;application&#160;and&#160;service&#160;provider&#160;processes.&#160;If&#160;the environment<br/>provides&#160;for&#160;the TCS&#160;to reside&#160;in&#160;a&#160;system&#160;process,&#160;communication&#160;between&#160;the<br/>service&#160;providers&#160;and&#160;the&#160;TCS&#160;would&#160;be&#160;via&#160;an&#160;RPC.&#160;</p>
<p style="position:absolute;top:315px;left:112px;white-space:nowrap" class="ft442">2.</p>
<p style="position:absolute;top:315px;left:139px;white-space:nowrap" class="ft441"><b>Persistent-Storage-Access-Component&#160;(System)</b></p>
<p style="position:absolute;top:334px;left:138px;white-space:nowrap" class="ft444">Component&#160;covers&#160;the&#160;physical&#160;access&#160;and&#160;representation&#160;of&#160;the TCS&#160;persistent<br/>storage&#160;representation.&#160;The&#160;TSS&#160;specification&#160;separates&#160;the storage&#160;context&#160;into<br/>a&#160;per&#160;user&#160;boundary&#160;and&#160;in&#160;a&#160;system&#160;linked&#160;one.&#160;This&#160;functionality&#160;and&#160;the&#160;data<br/>representation&#160;reflect a TSS&#160;(i.e.&#160;TSP and&#160;TCG)&#160;common&#160;code&#160;component.</p>
<p style="position:absolute;top:411px;left:112px;white-space:nowrap" class="ft442">3.</p>
<p style="position:absolute;top:411px;left:139px;white-space:nowrap" class="ft441"><b>Facade-Abstraction-Component</b></p>
<p style="position:absolute;top:430px;left:138px;white-space:nowrap" class="ft444">Component&#160;contains a facade&#160;factory&#160;to&#160;generate&#160;separate&#160;facade&#160;objects&#160;per<br/>calling&#160;context.&#160;This layer&#160;performs&#160;the&#160;parameter&#160;checking&#160;for the&#160;TCS-<br/>Interface.</p>
<p style="position:absolute;top:488px;left:112px;white-space:nowrap" class="ft442">4.</p>
<p style="position:absolute;top:488px;left:139px;white-space:nowrap" class="ft441"><b>Synchronization-Helper-Module</b></p>
<p style="position:absolute;top:507px;left:138px;white-space:nowrap" class="ft444">Collection&#160;of some&#160;small&#160;helper&#160;classes;&#160;encapsulate&#160;the&#160;native&#160;system&#160;calls&#160;for<br/>synchronization&#160;object handling.</p>
<p style="position:absolute;top:545px;left:112px;white-space:nowrap" class="ft442">5.</p>
<p style="position:absolute;top:545px;left:139px;white-space:nowrap" class="ft441"><b>Logical&#160;cache&#160;content&#160;handling</b></p>
<p style="position:absolute;top:564px;left:138px;white-space:nowrap" class="ft444">Characterize&#160;a logical&#160;TPM&#160;device&#160;per connection&#160;context&#160;and&#160;organize&#160;logical<br/>resource&#160;cache management.</p>
<p style="position:absolute;top:603px;left:112px;white-space:nowrap" class="ft442">6.</p>
<p style="position:absolute;top:603px;left:139px;white-space:nowrap" class="ft441"><b>Logical&#160;TPM&#160;Resource&#160;handling</b></p>
<p style="position:absolute;top:622px;left:138px;white-space:nowrap" class="ft444">Contain&#160;a management&#160;class and&#160;resource&#160;classes for the two&#160;major handled<br/>resource&#160;types&#160;key and&#160;authorization&#160;sessions.&#160;The&#160;task&#160;is divided&#160;into&#160;a<br/>resource&#160;map&#160;management&#160;and&#160;into&#160;a&#160;resource representation&#160;unit.</p>
<p style="position:absolute;top:680px;left:112px;white-space:nowrap" class="ft442">7.</p>
<p style="position:absolute;top:680px;left:139px;white-space:nowrap" class="ft441"><b>Setting&#160;and Policy&#160;access</b></p>
<p style="position:absolute;top:699px;left:138px;white-space:nowrap" class="ft444">Function&#160;and&#160;class&#160;pool&#160;to&#160;summarize&#160;operations&#160;used&#160;to access and&#160;validate<br/>setting information.</p>
<p style="position:absolute;top:737px;left:112px;white-space:nowrap" class="ft442">8.</p>
<p style="position:absolute;top:737px;left:139px;white-space:nowrap" class="ft441"><b>Extended&#160;TPM&#160;Resource&#160;and&#160;access&#160;handling</b></p>
<p style="position:absolute;top:756px;left:138px;white-space:nowrap" class="ft444">Characterize&#160;a physical&#160;TPM&#160;device&#160;is designed&#160;as&#160;singleton&#160;and&#160;organize<br/>physical&#160;resource&#160;cache&#160;management.&#160;Due&#160;to&#160;the&#160;character&#160;as&#160;single&#160;entry<br/>point&#160;for&#160;all&#160;TPM&#160;operations&#160;this&#160;layer&#160;is&#160;responsible&#160;for&#160;TPM&#160;access<br/>synchronization.</p>
<p style="position:absolute;top:833px;left:112px;white-space:nowrap" class="ft442">9.</p>
<p style="position:absolute;top:833px;left:139px;white-space:nowrap" class="ft441"><b>Error-Handling-Class</b></p>
<p style="position:absolute;top:852px;left:138px;white-space:nowrap" class="ft444">Helper&#160;class(es)&#160;used in the&#160;exception&#160;handling&#160;process&#160;of the&#160;TSS&#160;components<br/>(i.e. TSP&#160;and&#160;TCS).&#160;The structured&#160;exception&#160;concept&#160;will&#160;be used&#160;for&#160;error<br/>handling&#160;inside&#160;of&#160;the TSS&#160;modules.</p>
<p style="position:absolute;top:910px;left:112px;white-space:nowrap" class="ft442">10.</p>
<p style="position:absolute;top:910px;left:139px;white-space:nowrap" class="ft441"><b>Streaming-Helper-Classes</b></p>
<p style="position:absolute;top:929px;left:138px;white-space:nowrap" class="ft444">Helper&#160;classes&#160;transform&#160;TCG structures&#160;into&#160;BYTE-Stream-Representation&#160;and<br/>verse&#160;versa.</p>
<p style="position:absolute;top:968px;left:112px;white-space:nowrap" class="ft442">11.</p>
<p style="position:absolute;top:968px;left:139px;white-space:nowrap" class="ft441"><b>Physical&#160;cache&#160;strategy&#160;and&#160;organization</b></p>
<p style="position:absolute;top:987px;left:138px;white-space:nowrap" class="ft444">Contain&#160;a&#160;physical&#160;management&#160;classes&#160;and resource&#160;classes&#160;for the&#160;two&#160;major<br/>handled&#160;resource&#160;types&#160;key&#160;and&#160;authorization&#160;sessions.&#160;The&#160;task&#160;is&#160;divided&#160;into<br/>a&#160;resource&#160;map&#160;management&#160;and&#160;into&#160;a&#160;resource&#160;representation&#160;unit. In<br/>addition&#160;this component&#160;automatically&#160;detects&#160;the&#160;underlying&#160;TPM&#160;device<br/>version&#160;and&#160;selects&#160;the&#160;corresponding&#160;physical&#160;caching&#160;strategy&#160;and&#160;function<br/>set.</p>
<p style="position:absolute;top:1102px;left:112px;white-space:nowrap" class="ft442">12.</p>
<p style="position:absolute;top:1102px;left:139px;white-space:nowrap" class="ft441"><b>Physical-TPM-Command-Module</b></p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft447">Open_TC&#160;Deliverable&#160;D3b</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft447">12/15</p>
</div>
<!-- Page 45 -->
<a name="45"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft4560{font-size:16px;font-family:MDILCE+SymbolMT;color:#000000;}
-->
</style>
<div id="page45-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2045.png" alt="background image"/>
<p style="position:absolute;top:92px;left:273px;white-space:nowrap" class="ft457">WP3b&#160;Overview and TPM Software&#160;Stack</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft457">RC1</p>
<p style="position:absolute;top:151px;left:138px;white-space:nowrap" class="ft454">Module&#160;is responsible&#160;for&#160;the&#160;TPM&#160;command&#160;stream&#160;generation&#160;(byte-stream-<br/>generator)&#160;receiving the response&#160;and&#160;extracting&#160;the&#160;response&#160;parameter<br/>elements. &#160;</p>
<p style="position:absolute;top:209px;left:112px;white-space:nowrap" class="ft452">13.</p>
<p style="position:absolute;top:209px;left:139px;white-space:nowrap" class="ft451"><b>TPM-Device&#160;organize&#160;management</b></p>
<p style="position:absolute;top:228px;left:138px;white-space:nowrap" class="ft454">Component&#160;includes&#160;classes&#160;and&#160;functionality&#160;to&#160;handle&#160;TPM&#160;device specific<br/>startup&#160;and&#160;shutdown&#160;procedures.&#160;In addition&#160;it controls&#160;the consistence&#160;of&#160;the<br/>resource&#160;management&#160;of the TCS.</p>
<p style="position:absolute;top:285px;left:112px;white-space:nowrap" class="ft452">14.</p>
<p style="position:absolute;top:285px;left:139px;white-space:nowrap" class="ft451"><b>TPM&#160;connection&#160;management</b></p>
<p style="position:absolute;top:305px;left:138px;white-space:nowrap" class="ft454">Contain&#160;the&#160;management&#160;classes&#160;and functionality&#160;to establish&#160;the connection<br/>to&#160;the&#160;TPM device. A&#160;further&#160;task is&#160;to setup&#160;the&#160;power management&#160;control<br/>handling between IFX-TPM-Driver&#160;and TCS.</p>
<p style="position:absolute;top:362px;left:112px;white-space:nowrap" class="ft452">15.</p>
<p style="position:absolute;top:362px;left:139px;white-space:nowrap" class="ft451"><b>Common-Module-Service&#160;</b></p>
<p style="position:absolute;top:381px;left:138px;white-space:nowrap" class="ft454">Common&#160;functions&#160;used&#160;for&#160;TCS&#160;module&#160;management&#160;(e.g.&#160;registration,&#160;start<br/>and stop).</p>
<p style="position:absolute;top:420px;left:112px;white-space:nowrap" class="ft452">16.</p>
<p style="position:absolute;top:420px;left:139px;white-space:nowrap" class="ft451"><b>TCS-Module-Management</b></p>
<p style="position:absolute;top:439px;left:138px;white-space:nowrap" class="ft454">General&#160;operations&#160;used to&#160;administrate&#160;and&#160;arrange&#160;TCS&#160;module&#160;wide&#160;services<br/>(e.g.&#160;memory&#160;handling).</p>
<p style="position:absolute;top:477px;left:112px;white-space:nowrap" class="ft452">17.</p>
<p style="position:absolute;top:477px;left:139px;white-space:nowrap" class="ft451"><b>TCG-Core-Service-TPM-Access</b></p>
<p style="position:absolute;top:497px;left:138px;white-space:nowrap" class="ft454">Component&#160;covers&#160;the&#160;physical&#160;access&#160;and representation&#160;of&#160;the TDDL<br/>communication.&#160;Abstraction&#160;layer offer the&#160;functions&#160;to&#160;establish,&#160;operate&#160;and<br/>close&#160;the TPM&#160;communication&#160;in a local&#160;situation.</p>
<p style="position:absolute;top:554px;left:112px;white-space:nowrap" class="ft452">18.</p>
<p style="position:absolute;top:554px;left:139px;white-space:nowrap" class="ft451"><b>TCS-Persistent-Storage&#160;(System)</b></p>
<p style="position:absolute;top:573px;left:138px;white-space:nowrap" class="ft454">Contain&#160;the physical&#160;data&#160;representation&#160;for&#160;TCS&#160;persistent&#160;storage&#160;(on&#160;per<br/>system&#160;and&#160;access&#160;able&#160;for&#160;all users).&#160;The&#160;preferred&#160;mechanism&#160;would&#160;be&#160;XML<br/>based.</p>
<p style="position:absolute;top:668px;left:85px;white-space:nowrap" class="ft451"><b>3.3&#160;TDDL and&#160;TDDLI</b></p>
<p style="position:absolute;top:716px;left:85px;white-space:nowrap" class="ft454">The TCG&#160;Device&#160;Driver&#160;Library&#160;(TDDL)&#160;is an&#160;intermediate&#160;module&#160;that&#160;exists between<br/>the TCS and&#160;the kernel&#160;mode&#160;TPM&#160;Device&#160;Driver (TDD).&#160;The&#160;TDDL&#160;provides&#160;a user<br/>mode&#160;interface.&#160;Such&#160;an&#160;interface&#160;has&#160;several&#160;advantages&#160;over&#160;a kernel&#160;mode&#160;driver<br/>interface:</p>
<p style="position:absolute;top:792px;left:85px;white-space:nowrap" class="ft4560">•</p>
<p style="position:absolute;top:794px;left:112px;white-space:nowrap" class="ft454">It ensures&#160;different&#160;implementations&#160;of&#160;the TSS&#160;properly&#160;communicate&#160;with&#160;any<br/>TPM.</p>
<p style="position:absolute;top:832px;left:85px;white-space:nowrap" class="ft4560">•</p>
<p style="position:absolute;top:833px;left:112px;white-space:nowrap" class="ft452">It&#160;provides&#160;an OS-independent&#160;interface&#160;for&#160;TPM&#160;applications.</p>
<p style="position:absolute;top:853px;left:85px;white-space:nowrap" class="ft4560">•</p>
<p style="position:absolute;top:854px;left:112px;white-space:nowrap" class="ft454">It allows&#160;the TPM&#160;vendor&#160;to&#160;provide&#160;a&#160;software&#160;TPM&#160;simulator&#160;as&#160;a user&#160;mode<br/>component.</p>
<p style="position:absolute;top:892px;left:85px;white-space:nowrap" class="ft454">Because&#160;the TPM&#160;is&#160;not required&#160;to be&#160;multithreaded,&#160;the&#160;TDDL&#160;is to&#160;be a&#160;single-<br/>instance,&#160;single&#160;threaded&#160;module.&#160;The TDDL expects&#160;the&#160;TPM&#160;command serialization<br/>to&#160;be performed&#160;by&#160;the&#160;TCS.&#160;<br/>The&#160;TPM vendor is&#160;responsible&#160;for defining&#160;the interface&#160;between the&#160;TDDL and the<br/>TDD.&#160;The TPM vendor&#160;can choose the&#160;communication&#160;and resource&#160;allocation<br/>mechanisms&#160;between this&#160;library&#160;and any kernel&#160;mode&#160;TPM device driver&#160;or&#160;software<br/>TPM simulator.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft457">Open_TC&#160;Deliverable&#160;D3b</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft457">13/15</p>
</div>
<!-- Page 46 -->
<a name="46"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft4661{font-size:16px;font-family:BOJGJJ+BitstreamVeraSans;color:#0000ff;}
-->
</style>
<div id="page46-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2046.png" alt="background image"/>
<p style="position:absolute;top:92px;left:273px;white-space:nowrap" class="ft467">WP3b&#160;Overview and TPM Software&#160;Stack</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft467">RC1</p>
<p style="position:absolute;top:197px;left:85px;white-space:nowrap" class="ft461"><b>3.4&#160;References</b></p>
<p style="position:absolute;top:254px;left:106px;white-space:nowrap" class="ft462">TCG&#160;TPM Specification&#160;Version&#160;1.2</p>
<p style="position:absolute;top:282px;left:85px;white-space:nowrap" class="ft4661">https://www.trustedcomputinggroup.org</p>
<p style="position:absolute;top:301px;left:85px;white-space:nowrap" class="ft464">Part1&#160;Design&#160;Principles,&#160;Part2&#160;Structures&#160;of the TPM,&#160;Part3&#160;TPM&#160;Commands<br/>September,&#160;&#160;2005,<br/>Revision&#160;94</p>
<p style="position:absolute;top:378px;left:106px;white-space:nowrap" class="ft462">TCG&#160;TPM Specification&#160;Version&#160;1.1b</p>
<p style="position:absolute;top:406px;left:85px;white-space:nowrap" class="ft4661">https://www.trustedcomputinggroup.org</p>
<p style="position:absolute;top:425px;left:85px;white-space:nowrap" class="ft464">February&#160;22,&#160;2002,&#160;<br/>Version&#160;1.1b</p>
<p style="position:absolute;top:492px;left:85px;white-space:nowrap" class="ft462">/1/ TCG Software&#160;Stack&#160;(TSS)&#160;Specification&#160;v1.1&#160;and&#160;v1.2</p>
<p style="position:absolute;top:520px;left:85px;white-space:nowrap" class="ft4661">https://www.trustedcomputinggroup.org</p>
<p style="position:absolute;top:539px;left:85px;white-space:nowrap" class="ft464">October 8,&#160;2002,&#160;<br/>Version&#160;1.0&#160;RC&#160;7 &#160;&#160;/&#160;Version&#160;TSS&#160;v1.2&#160;GC 2 Errata&#160;3c&#160;November,&#160;2005</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft467">Open_TC&#160;Deliverable&#160;D3b</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft467">14/15</p>
</div>
<!-- Page 47 -->
<a name="47"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page47-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2047.png" alt="background image"/>
<p style="position:absolute;top:92px;left:273px;white-space:nowrap" class="ft477">WP3b&#160;Overview and TPM Software&#160;Stack</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft477">RC1</p>
<p style="position:absolute;top:197px;left:85px;white-space:nowrap" class="ft471"><b>3.5&#160;Definitions of&#160;terms,&#160;Acronyms&#160;and abbreviations</b></p>
<p style="position:absolute;top:225px;left:85px;white-space:nowrap" class="ft474">Listing&#160;of&#160;term definitions and abbreviations&#160;which are important&#160;for understanding<br/>the&#160;overview&#160;documents&#160;and&#160;architectural&#160;design&#160;specification&#160;(IT&#160;expressions&#160;and<br/>terms&#160;from&#160;the&#160;application&#160;domain)&#160;.</p>
<p style="position:absolute;top:303px;left:91px;white-space:nowrap" class="ft471"><b>Abbreviation</b></p>
<p style="position:absolute;top:303px;left:303px;white-space:nowrap" class="ft471"><b>Explanation</b></p>
<p style="position:absolute;top:343px;left:91px;white-space:nowrap" class="ft472">API</p>
<p style="position:absolute;top:343px;left:303px;white-space:nowrap" class="ft472">Application&#160;Programming&#160;Interface</p>
<p style="position:absolute;top:363px;left:91px;white-space:nowrap" class="ft472">ODBC</p>
<p style="position:absolute;top:363px;left:303px;white-space:nowrap" class="ft472">Open&#160;Database&#160;Connectivity</p>
<p style="position:absolute;top:383px;left:91px;white-space:nowrap" class="ft472">PC</p>
<p style="position:absolute;top:383px;left:303px;white-space:nowrap" class="ft472">Personal&#160;Computer</p>
<p style="position:absolute;top:403px;left:91px;white-space:nowrap" class="ft472">SDK</p>
<p style="position:absolute;top:403px;left:303px;white-space:nowrap" class="ft472">Software&#160;Development&#160;Kit</p>
<p style="position:absolute;top:423px;left:91px;white-space:nowrap" class="ft472">SW</p>
<p style="position:absolute;top:423px;left:303px;white-space:nowrap" class="ft472">Software</p>
<p style="position:absolute;top:443px;left:91px;white-space:nowrap" class="ft472">TSP</p>
<p style="position:absolute;top:443px;left:303px;white-space:nowrap" class="ft472">TCG&#160;Service&#160;Provider</p>
<p style="position:absolute;top:463px;left:91px;white-space:nowrap" class="ft472">TSPI</p>
<p style="position:absolute;top:463px;left:303px;white-space:nowrap" class="ft472">TSP-Interface</p>
<p style="position:absolute;top:483px;left:91px;white-space:nowrap" class="ft472">TCS</p>
<p style="position:absolute;top:483px;left:303px;white-space:nowrap" class="ft472">TCG&#160;Core&#160;Service</p>
<p style="position:absolute;top:502px;left:91px;white-space:nowrap" class="ft472">TCSI</p>
<p style="position:absolute;top:502px;left:303px;white-space:nowrap" class="ft472">TCG-Interface&#160;</p>
<p style="position:absolute;top:522px;left:91px;white-space:nowrap" class="ft472">TDDL</p>
<p style="position:absolute;top:522px;left:303px;white-space:nowrap" class="ft472">TCG-Device Driver&#160;Library</p>
<p style="position:absolute;top:542px;left:91px;white-space:nowrap" class="ft472">TDDLI</p>
<p style="position:absolute;top:542px;left:303px;white-space:nowrap" class="ft472">TDDL-Interface</p>
<p style="position:absolute;top:562px;left:91px;white-space:nowrap" class="ft472">TPM</p>
<p style="position:absolute;top:562px;left:303px;white-space:nowrap" class="ft472">Trusted&#160;Platform&#160;Module</p>
<p style="position:absolute;top:582px;left:91px;white-space:nowrap" class="ft472">TSS</p>
<p style="position:absolute;top:582px;left:303px;white-space:nowrap" class="ft472">TCG-Software-Stack</p>
<p style="position:absolute;top:602px;left:91px;white-space:nowrap" class="ft474">TSS-SDK&#160;TSS-Software-Development-Kit<br/>GUID</p>
<p style="position:absolute;top:622px;left:303px;white-space:nowrap" class="ft472">Globally Unique&#160;Identifier&#160;(a&#160;128-bit value)</p>
<p style="position:absolute;top:642px;left:91px;white-space:nowrap" class="ft472">XML Extensible&#160;</p>
<p style="position:absolute;top:642px;left:394px;white-space:nowrap" class="ft472">Markup&#160;</p>
<p style="position:absolute;top:642px;left:461px;white-space:nowrap" class="ft472">Language</p>
<p style="position:absolute;top:682px;left:91px;white-space:nowrap" class="ft472">BUK</p>
<p style="position:absolute;top:682px;left:303px;white-space:nowrap" class="ft472">Basic&#160;User Key</p>
<p style="position:absolute;top:702px;left:91px;white-space:nowrap" class="ft472">TCG</p>
<p style="position:absolute;top:702px;left:303px;white-space:nowrap" class="ft472">Trusted&#160;Computing&#160;Group</p>
<p style="position:absolute;top:722px;left:91px;white-space:nowrap" class="ft4758">SOAP</p>
<p style="position:absolute;top:722px;left:303px;white-space:nowrap" class="ft472">Simple&#160;Object Access Protocol</p>
<p style="position:absolute;top:742px;left:91px;white-space:nowrap" class="ft472">HTTP</p>
<p style="position:absolute;top:742px;left:303px;white-space:nowrap" class="ft472">Hypertext Transfer Protocol</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft477">Open_TC&#160;Deliverable&#160;D3b</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft477">15/15</p>
</div>
<!-- Page 48 -->
<a name="48"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page48-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2048.png" alt="background image"/>
<p style="position:absolute;top:242px;left:190px;white-space:nowrap" class="ft480"><b>D03b.1&#160;TPM&#160;Software Stack (TSS)</b></p>
<p style="position:absolute;top:273px;left:201px;white-space:nowrap" class="ft480"><b>Implementation and Test Report</b></p>
<p style="position:absolute;top:351px;left:91px;white-space:nowrap" class="ft481"><b>Project&#160;number</b></p>
<p style="position:absolute;top:351px;left:425px;white-space:nowrap" class="ft482">IST-027635</p>
<p style="position:absolute;top:376px;left:91px;white-space:nowrap" class="ft481"><b>Project&#160;acronym</b></p>
<p style="position:absolute;top:376px;left:425px;white-space:nowrap" class="ft482">Open_TC</p>
<p style="position:absolute;top:402px;left:91px;white-space:nowrap" class="ft481"><b>Project&#160;title</b></p>
<p style="position:absolute;top:402px;left:425px;white-space:nowrap" class="ft482">Open Trusted Computing</p>
<p style="position:absolute;top:427px;left:91px;white-space:nowrap" class="ft481"><b>Deliverable&#160;type</b></p>
<p style="position:absolute;top:427px;left:425px;white-space:nowrap" class="ft482">Report&#160;(see&#160;p&#160;84/85&#160;Annex&#160;1 -&#160;Nature)</p>
<p style="position:absolute;top:470px;left:91px;white-space:nowrap" class="ft481"><b>Deliverable&#160;reference&#160;number</b></p>
<p style="position:absolute;top:470px;left:425px;white-space:nowrap" class="ft482">IST-027635/D3.1/RC&#160;1.0</p>
<p style="position:absolute;top:502px;left:91px;white-space:nowrap" class="ft481"><b>Deliverable&#160;title</b></p>
<p style="position:absolute;top:493px;left:425px;white-space:nowrap" class="ft484">TPM&#160;Software&#160;Stack&#160;(TSS)&#160;Implementation<br/>and Test&#160;Report</p>
<p style="position:absolute;top:534px;left:91px;white-space:nowrap" class="ft481"><b>WP&#160;contributing&#160;to&#160;the&#160;deliverable</b></p>
<p style="position:absolute;top:534px;left:425px;white-space:nowrap" class="ft482">WP3</p>
<p style="position:absolute;top:560px;left:91px;white-space:nowrap" class="ft481"><b>Due&#160;date</b></p>
<p style="position:absolute;top:560px;left:425px;white-space:nowrap" class="ft482">JUL2007</p>
<p style="position:absolute;top:628px;left:91px;white-space:nowrap" class="ft481"><b>Responsible&#160;Organisation</b></p>
<p style="position:absolute;top:628px;left:424px;white-space:nowrap" class="ft482">IFX</p>
<p style="position:absolute;top:654px;left:91px;white-space:nowrap" class="ft481"><b>Authors</b></p>
<p style="position:absolute;top:654px;left:424px;white-space:nowrap" class="ft482">IFX &#160;(Hans Brandl)</p>
<p style="position:absolute;top:676px;left:91px;white-space:nowrap" class="ft481"><b>Abstract</b></p>
<p style="position:absolute;top:676px;left:424px;white-space:nowrap" class="ft484">The&#160;main&#160;specification&#160;of the TCG&#160;defines&#160;a<br/>subsystem&#160;with&#160;protected&#160;storage&#160;and&#160;trust<br/>capabilities:&#160;The Trusted&#160;Platform&#160;Module<br/>(TPM).&#160;For&#160;translating&#160;the low&#160;level<br/>functionality fo&#160;the TPM security chip&#160;to&#160;a<br/>high level&#160;API, the TCG standardized&#160;the&#160;so<br/>called&#160;TPM&#160;Software&#160;Stack (TSS).&#160;Within&#160;this<br/>deliverable&#160;a TSS&#160;was implemented<br/>according&#160;of&#160;the TSS1.2&#160;specification&#160;of the<br/>TCG.&#160;This&#160;report&#160;describes the method&#160;of<br/>implementation&#160;and&#160;also the test procedures<br/>during&#160;the&#160;development&#160;process&#160;as&#160;well&#160;as a<br/>third&#160;party&#160;test&#160;of&#160;the&#160;finished&#160;product.</p>
<p style="position:absolute;top:938px;left:91px;white-space:nowrap" class="ft481"><b>Keywords</b></p>
<p style="position:absolute;top:938px;left:424px;white-space:nowrap" class="ft482">TPM,&#160;TSS,&#160;TSPI,&#160;TCG,&#160;Trust,&#160;Security,&#160;Tes</p>
<p style="position:absolute;top:981px;left:92px;white-space:nowrap" class="ft481"><b>Dissemination&#160;level</b></p>
<p style="position:absolute;top:981px;left:423px;white-space:nowrap" class="ft482">Public&#160;</p>
<p style="position:absolute;top:1006px;left:92px;white-space:nowrap" class="ft481"><b>Revision</b></p>
<p style="position:absolute;top:1006px;left:423px;white-space:nowrap" class="ft482">RC&#160;1.0</p>
<p style="position:absolute;top:1058px;left:90px;white-space:nowrap" class="ft481"><b>Instrument</b></p>
<p style="position:absolute;top:1058px;left:271px;white-space:nowrap" class="ft482">IP</p>
<p style="position:absolute;top:1048px;left:452px;white-space:nowrap" class="ft486"><b>Start&#160;date&#160;of the<br/>project</b></p>
<p style="position:absolute;top:1058px;left:632px;white-space:nowrap" class="ft482">1</p>
<p style="position:absolute;top:1057px;left:643px;white-space:nowrap" class="ft483">st</p>
<p style="position:absolute;top:1058px;left:652px;white-space:nowrap" class="ft482">&#160;November&#160;2005</p>
<p style="position:absolute;top:1086px;left:90px;white-space:nowrap" class="ft481"><b>Thematic&#160;Priority</b></p>
<p style="position:absolute;top:1086px;left:271px;white-space:nowrap" class="ft482">IST</p>
<p style="position:absolute;top:1086px;left:452px;white-space:nowrap" class="ft481"><b>Duration</b></p>
<p style="position:absolute;top:1086px;left:632px;white-space:nowrap" class="ft482">42 months</p>
</div>
<!-- Page 49 -->
<a name="49"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page49-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2049.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft497">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft497">RC&#160;1.0</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft499"><b>Table of&#160;Contents</b></p>
<p style="position:absolute;top:206px;left:85px;white-space:nowrap" class="ft492">1&#160;&#160;Introduction&#160;..............................................................................................................6</p>
<p style="position:absolute;top:225px;left:94px;white-space:nowrap" class="ft492">1.1&#160;TPM Management&#160;Interface....................................................................................7</p>
<p style="position:absolute;top:244px;left:102px;white-space:nowrap" class="ft492">1.2.1&#160;&#160;Development&#160;of&#160;a test&#160;environment&#160;for the&#160;TSS stack.....................................8</p>
<p style="position:absolute;top:264px;left:94px;white-space:nowrap" class="ft492">1.3&#160;SW-design&#160;Fundamentals.......................................................................................9</p>
<p style="position:absolute;top:283px;left:102px;white-space:nowrap" class="ft494">1.3.1&#160;References.........................................................................................................9<br/>1.3.2&#160;Definitions&#160;of&#160;terms,&#160;Acronyms and&#160;abbreviations..........................................10</p>
<p style="position:absolute;top:321px;left:85px;white-space:nowrap" class="ft492">2&#160;&#160;TSS&#160;Architecture......................................................................................................11</p>
<p style="position:absolute;top:340px;left:94px;white-space:nowrap" class="ft494">2.1&#160;TSP and&#160;TSPI.........................................................................................................11<br/>2.2&#160;TCS and&#160;TCSI........................................................................................................12<br/>2.3&#160;TDDL and&#160;TDDLI...................................................................................................12<br/>2.4&#160;Maintainability, Portability&#160;and Usability&#160;Requirements.......................................13</p>
<p style="position:absolute;top:417px;left:85px;white-space:nowrap" class="ft492">3&#160;&#160;TCG-API....................................................................................................................14</p>
<p style="position:absolute;top:436px;left:94px;white-space:nowrap" class="ft492">3.1&#160;Function&#160;list for the&#160;OpenTC&#160;TCG-TSS..................................................................14</p>
<p style="position:absolute;top:456px;left:102px;white-space:nowrap" class="ft492">3.1.1&#160;List of supported&#160;TSS Core&#160;Service&#160;Interface&#160;Functions...................................14</p>
<p style="position:absolute;top:475px;left:94px;white-space:nowrap" class="ft492">3.2&#160;Function&#160;list for the&#160;OpenTC&#160;TCG-TSS..................................................................17</p>
<p style="position:absolute;top:494px;left:102px;white-space:nowrap" class="ft494">3.2.1&#160;Supported&#160;function&#160;list&#160;of&#160;TSS&#160;Service&#160;Provider...............................................17<br/>3.2.2&#160;List of supported&#160;TSS Core&#160;Service&#160;Interface&#160;Functions...................................20</p>
<p style="position:absolute;top:532px;left:85px;white-space:nowrap" class="ft492">4&#160;&#160;TSS module architectural overview&#160;.........................................................................23</p>
<p style="position:absolute;top:552px;left:94px;white-space:nowrap" class="ft494">4.1&#160;TCG-TSP&#160;architectural building&#160;blocks..................................................................23<br/>4.2&#160;TCG-TCS architectural&#160;building&#160;blocks..................................................................26</p>
<p style="position:absolute;top:590px;left:85px;white-space:nowrap" class="ft492">5&#160;&#160;OpenTC&#160;development&#160;environment configuration and&#160;requirements......................29</p>
<p style="position:absolute;top:609px;left:94px;white-space:nowrap" class="ft494">5.1&#160;Eclipse..................................................................................................................29<br/>5.2&#160;Version&#160;Control System........................................................................................29<br/>5.3&#160;Change-&#160;/ Error-Managementsystem....................................................................29</p>
<p style="position:absolute;top:667px;left:85px;white-space:nowrap" class="ft494">6&#160;&#160;Installation&#160;Procedure&#160;for&#160;the&#160;TSS............................................................................30<br/>7&#160;&#160;Test and&#160;Evaluation&#160;Support&#160;Programs....................................................................36<br/>8&#160;&#160;Test&#160;Procedures&#160;for&#160;the&#160;&#160;Development&#160;Phase..........................................................39</p>
<p style="position:absolute;top:724px;left:94px;white-space:nowrap" class="ft494">8.1&#160;Glossary&#160;of&#160;Terms................................................................................................39<br/>8.2&#160;Test environment.................................................................................................39</p>
<p style="position:absolute;top:763px;left:102px;white-space:nowrap" class="ft494">8.2.1&#160;Security&#160;Platform:............................................................................................39<br/>8.2.2&#160;External/existing&#160;modules&#160;for&#160;Security&#160;Platform:.............................................40<br/>8.2.3&#160;Test environments&#160;for different&#160;test&#160;methods&#160;................................................40<br/>8.2.4&#160;&#160;PHP&#160;–interface&#160;for&#160;browser&#160;supported&#160;testing.................................................40<br/>8.2.5&#160;Ruby&#160;test&#160;environment interpreter for&#160;automatic&#160;test&#160;sequencing..................40</p>
<p style="position:absolute;top:859px;left:94px;white-space:nowrap" class="ft494">8.3&#160;Tracing and&#160;Protocol.............................................................................................41<br/>8.4&#160;Test Development................................................................................................41</p>
<p style="position:absolute;top:897px;left:102px;white-space:nowrap" class="ft494">8.4.1&#160;Formal Requirements&#160;for the&#160;Test&#160;Plan...........................................................41<br/>8.4.2&#160;Formal Requirements&#160;for the&#160;Test&#160;Scripts.......................................................42</p>
<p style="position:absolute;top:936px;left:94px;white-space:nowrap" class="ft492">8.5&#160;General Requirements&#160;for the&#160;Test Scripts...........................................................42</p>
<p style="position:absolute;top:955px;left:102px;white-space:nowrap" class="ft492">8.5.1&#160;Hints&#160;for test&#160;script&#160;development....................................................................43</p>
<p style="position:absolute;top:974px;left:94px;white-space:nowrap" class="ft494">8.6&#160;Guidelines for&#160;Test&#160;Development.........................................................................43<br/>8.7&#160;Helper functions...................................................................................................43</p>
<p style="position:absolute;top:1012px;left:102px;white-space:nowrap" class="ft492">8.7.1&#160;Defined&#160;helper&#160;functions:.................................................................................43</p>
<p style="position:absolute;top:1032px;left:94px;white-space:nowrap" class="ft494">8.8&#160;Scripting&#160;library....................................................................................................44<br/>8.9&#160;Provoking&#160;Fault cases...........................................................................................44<br/>8.1&#160;0Running and&#160;Exercising&#160;the Tests......................................................................44</p>
<p style="position:absolute;top:1089px;left:102px;white-space:nowrap" class="ft492">8.10.&#160;1Test coverage................................................................................................44</p>
<p style="position:absolute;top:1108px;left:94px;white-space:nowrap" class="ft492">8.1&#160;1Presentation&#160;of&#160;Test Results...............................................................................44</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft497">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft497">2/53</p>
</div>
<!-- Page 50 -->
<a name="50"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page50-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2050.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft507">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft507">RC&#160;1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft502">9&#160;&#160;Test&#160;management&#160;environment based&#160;on&#160;the&#160;script&#160;language&#160;RUBY......................48</p>
<p style="position:absolute;top:170px;left:94px;white-space:nowrap" class="ft504">9.1&#160;Motivation and&#160;execution.....................................................................................48<br/>9.2&#160;&#160;Requirements&#160;for run&#160;time&#160;environment.............................................................48</p>
<p style="position:absolute;top:209px;left:102px;white-space:nowrap" class="ft504">9.2.1&#160;&#160;The Ruby&#160;Interpreter......................................................................................48<br/>9.2.2&#160;&#160;Writing&#160;test&#160;scripts..........................................................................................49</p>
<p style="position:absolute;top:247px;left:85px;white-space:nowrap" class="ft504">1&#160;0&#160; Testing&#160;by&#160;third parties&#160;inside&#160;the OpenTC&#160;project...............................................50<br/>1&#160;1&#160;TPM&#160;Controller: &#160;TPM&#160;Management&#160;and&#160;Control&#160;SW&#160;package................................53</p>
<p style="position:absolute;top:285px;left:94px;white-space:nowrap" class="ft504">11.&#160;1&#160;Preconditions.....................................................................................................53<br/>11.&#160;2&#160;Build&#160;&amp; Run.......................................................................................................53</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft507">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft507">3/53</p>
</div>
<!-- Page 51 -->
<a name="51"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page51-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2051.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft517">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft517">RC&#160;1.0</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft519"><b>List&#160;of&#160;figures</b></p>
<p style="position:absolute;top:206px;left:85px;white-space:nowrap" class="ft514">Figure&#160; 1: TSS-Stack&#160;as&#160;defined&#160;by&#160;the TCG....................................................................6<br/>&#160;Figure&#160;2:TPM&#160;Software&#160;Stack Structure.......................................................................11<br/>Figure&#160; 3:&#160;Basic&#160;architecture&#160;building&#160;blocks&#160;for&#160;TCG&#160;TSS&#160;Service-provider.................23<br/>Figure&#160; 4:&#160;Basic&#160;architecture&#160;building&#160;blocks&#160;for TCG&#160;TSS&#160;CORE&#160;Service......................26<br/>Figure&#160; 5:Test&#160;process&#160;overview...................................................................................50<br/>Figure&#160; 6 :SOAP transport&#160;level hooking.......................................................................52</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft517">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft517">4/53</p>
</div>
<!-- Page 52 -->
<a name="52"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page52-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2052.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft527">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft527">RC&#160;1.0</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft529"><b>List&#160;of&#160;Tables</b></p>
<p style="position:absolute;top:206px;left:85px;white-space:nowrap" class="ft524">Table&#160;1:&#160;List&#160;&#160;of&#160; abbreviations and&#160;terms&#160;used&#160;for&#160;specification and&#160;definition...........10<br/>Table&#160;2:&#160;TSS&#160;Core&#160;Service Function as&#160;specified&#160;by&#160;TCG..............................................16<br/>Table 3:&#160;TSS&#160;Service Provider&#160;Function&#160;as&#160;specified&#160;by&#160;TCG........................................19<br/>Table&#160;4:&#160;TSS&#160;Core&#160;Service &#160;Function as&#160;specified by&#160;TCG.............................................22</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft527">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft527">5/53</p>
</div>
<!-- Page 53 -->
<a name="53"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page53-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2053.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft537">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft537">RC&#160;1.0</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft5310"><b>1&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft5311"><b>Introduction&#160;</b></p>
<p style="position:absolute;top:218px;left:85px;white-space:nowrap" class="ft534">The main&#160;specification&#160;of the TCG&#160;defines&#160;a subsystem&#160;with protected storage&#160;and<br/>trust&#160;capabilities:&#160;This&#160;subsystem&#160;is&#160;the&#160;Trusted Platform&#160;Module&#160;(TPM).&#160;Since the TPM<br/>is both&#160;a&#160;subsystem&#160;intended&#160;to&#160;provide&#160;trust&#160;and&#160;be&#160;an&#160;inexpensive&#160;component,<br/>resources&#160;within&#160;it are&#160;restricted.&#160;This narrowing&#160;of&#160;the&#160;resources,&#160;while making&#160;the<br/>security&#160;properties&#160;easier&#160;and&#160;cheaper&#160;to&#160;build&#160;and&#160;verify, causes&#160;to&#160;the&#160;interfaces&#160;and<br/>capabilities&#160;to&#160;be&#160;cumbersome.&#160;The&#160;TCG architecture&#160;has solved&#160;this&#160;by&#160;separating&#160;the<br/>functions&#160;requiring&#160;the protected storage&#160;and&#160;capabilities&#160;from&#160;the&#160;functions&#160;that&#160;do<br/>not;&#160;putting&#160;those&#160;that&#160;do&#160;not&#160;into&#160;the platform’s&#160;main&#160;processor&#160;and&#160;memory&#160;space<br/>where&#160;processing&#160;power&#160;and&#160;storage&#160;exceed&#160;that&#160;of&#160;the&#160;TPM.&#160;The&#160;modules&#160;and<br/>components&#160;that&#160;provide&#160;this&#160;supporting&#160;functionality&#160;comprise&#160;the TPM Software<br/>Stack&#160;(TSS)&#160;.</p>
<p style="position:absolute;top:1059px;left:85px;white-space:nowrap" class="ft532">Figure&#160; 1: TSS-Stack&#160;as&#160;defined&#160;by the TCG</p>
<p style="position:absolute;top:1115px;left:85px;white-space:nowrap" class="ft532">Due&#160;to its&#160;special&#160;role, as the central&#160;trust&#160;API to the&#160;trusted&#160;hardware&#160;(TPM)&#160;it&#160;will be</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft537">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft537">6/53</p>
</div>
<!-- Page 54 -->
<a name="54"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page54-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2054.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft547">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft547">RC&#160;1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft545">used&#160;as&#160;trust&#160;API&#160;for&#160;the&#160;operating&#160;system&#160;as well as&#160;for&#160;the&#160;applications.<br/>&#160;The&#160;TSS&#160;definition&#160;is&#160;publicly&#160;available&#160;at&#160;the TCGs&#160;website as&#160;newest&#160;version&#160;1.2</p>
<p style="position:absolute;top:198px;left:85px;white-space:nowrap" class="ft5461">www.trustedcomputing.org</p>
<p style="position:absolute;top:198px;left:311px;white-space:nowrap" class="ft542">&#160;.&#160;The old&#160;and&#160;first&#160;version&#160;of&#160;this&#160;stack&#160;V1.0&#160;has&#160;been</p>
<p style="position:absolute;top:218px;left:85px;white-space:nowrap" class="ft544">already&#160;implemented&#160;by&#160;IFX for&#160;Windows&#160;machines&#160;in year&#160;2003.&#160;As since this&#160;first<br/>implementation&#160;a&#160;lot&#160;of&#160;new&#160;findings&#160;and&#160;experiences&#160;for&#160;the TSS&#160;came&#160;up,&#160;the TCG<br/>TSS&#160;work&#160;group&#160;created&#160;the current&#160;follow&#160;on&#160;version1.2&#160;of&#160;the standard&#160;in the&#160;periode<br/>of&#160;&#160;year&#160;2005&#160;to&#160;2006.&#160;<br/>Within this project&#160;an&#160;intensive&#160;cooperation&#160;with the TCG&#160;TSS&#160;WG&#160;was&#160;executed&#160;and in<br/>parallel&#160;to&#160;the&#160;work&#160;on&#160;the&#160;TCG&#160;standard&#160;also&#160;this&#160;implementation&#160;was done.&#160;There<br/>where&#160;a&#160;lot&#160;of benefits for&#160;the standardisation&#160;work&#160;group,&#160;because the<br/>implementation&#160;results&#160;where immediately&#160;fed&#160;back&#160;and&#160;on&#160;the&#160;other hand&#160;this<br/>implementation&#160;became&#160;the&#160;newest&#160;and&#160;most&#160;up&#160;to date&#160;one which&#160;is&#160;currently<br/>available&#160;(The&#160;1.2&#160;standard&#160;is now&#160;public&#160;since&#160;march&#160;2007&#160;and&#160;nearly&#160;at&#160;the&#160;same<br/>time&#160;the&#160;first&#160;beta&#160;prototype&#160;of this TSS&#160;was ready) .&#160;<br/>For&#160;implementation&#160;efficiency&#160;we&#160;tried&#160;to use&#160;as much&#160;as&#160;possible&#160;code&#160;from&#160;the old<br/>Windows&#160;version.&#160;However&#160;some&#160;of the functions&#160;had to&#160;be&#160;programmed&#160;fully&#160;new,<br/>because of&#160;the different interfacing&#160;to&#160;Win and&#160;Linux (especially&#160;low level&#160;kernel<br/>functions ) and&#160;nearly&#160;all code&#160;had to&#160;be&#160;modified&#160;either&#160;due&#160;to&#160;the&#160;conversion&#160;to<br/>Linux&#160;but also&#160;because of major&#160;changes in&#160;the&#160;standard&#160;from&#160; version&#160;1.0 &#160;to 1.2.&#160;<br/>The TSS1.2&#160;&#160;specification,&#160;which&#160;was considered,&#160; has&#160;a&#160;volume&#160;of&#160;&#160;757&#160;pages.<br/>The final&#160;amount&#160;of code&#160;&#160;for&#160;this TSS1.2&#160; &#160;implementation&#160;reached&#160;about&#160;95&#160;KLoc.<br/>For&#160;testing&#160;purposes&#160;we&#160;added&#160;another&#160;25&#160;KLoc of example&#160;programs&#160;,&#160;which&#160;use&#160;&#160;the<br/>stack&#160;features.</p>
<p style="position:absolute;top:656px;left:86px;white-space:nowrap" class="ft542">The complete&#160;packetsize&#160;of&#160;the&#160;current&#160;TSS&#160;implementation&#160;is about&#160;4 Mbytes.</p>
<p style="position:absolute;top:694px;left:85px;white-space:nowrap" class="ft544">The implementation&#160;was done&#160;on&#160;Linux&#160;distribution&#160;SUSE&#160;10.0&#160;to&#160;10.2&#160;as this is the<br/>standard&#160;Linux version&#160;for&#160;the OpenTC&#160;project.<br/>The whole package&#160;is available&#160;at the&#160;OpenTC&#160;server&#160;&#160;and&#160;can be&#160;downloaded&#160;and<br/>compiled at&#160;the&#160;users target&#160;machine. All&#160;necessary&#160;command&#160;and&#160;control&#160;files (MAKE)<br/>are&#160;enclosed to&#160;allow&#160;an&#160;easy&#160;integration.</p>
<p style="position:absolute;top:836px;left:85px;white-space:nowrap" class="ft544">As we&#160;found out&#160;in&#160;contact&#160;with&#160;potential&#160;users,&#160;that&#160;a local&#160;compilation&#160;could rise<br/>problems&#160;for&#160;not&#160;much&#160;experienced&#160;users,&#160;we also&#160;added&#160;precompiled&#160;binary versions<br/>which&#160;could much more&#160;easily&#160;installed.</p>
<p style="position:absolute;top:940px;left:85px;white-space:nowrap" class="ft541"><b>1.1&#160;TPM&#160;Management&#160;Interface</b></p>
<p style="position:absolute;top:968px;left:85px;white-space:nowrap" class="ft544">For&#160;managing&#160;and&#160;controlling&#160;the TPM (below the TSS)&#160;within WP5 a&#160;specific&#160;TPM<br/>Control&#160;package&#160;has&#160;been&#160;specified&#160;and&#160;developed&#160;.&#160;With the functionality&#160;from&#160;this<br/>package&#160;all&#160;main&#160;TPM &#160;management&#160;&#160;operations&#160;can be&#160;executed&#160;and&#160;the status&#160;of&#160;the<br/>TPM&#160;&#160;can be&#160;analyzed.&#160;The functionality&#160;is basically&#160;described&#160;in chapter&#160;11,<br/>the detailed&#160;description&#160;and&#160;code&#160;can&#160;be found&#160;in&#160;the&#160;results&#160;from&#160;WP5d&#160;and&#160;the<br/>respective&#160;delivery.&#160;It&#160;is&#160;described&#160;here&#160;shortly&#160;because it&#160;has&#160;been developed<br/>together&#160;with&#160;this&#160;TSS&#160;and&#160;can&#160;be used&#160;for&#160;doing&#160;some&#160;early&#160;tests&#160;and&#160;starting&#160;getting<br/>experience&#160;with handling&#160;the TPM.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft547">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft547">7/53</p>
</div>
<!-- Page 55 -->
<a name="55"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft5562{font-size:16px;line-height:20px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page55-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2055.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft557">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft557">RC&#160;1.0</p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft551"><b>1.2</b></p>
<p style="position:absolute;top:216px;left:85px;white-space:nowrap" class="ft5511"><b>Description of&#160;work:</b></p>
<p style="position:absolute;top:281px;left:86px;white-space:nowrap" class="ft5516">o</p>
<p style="position:absolute;top:276px;left:113px;white-space:nowrap" class="ft554">The TSS&#160;stack&#160;has&#160;been&#160;developed&#160;with&#160;all mandatory&#160;functions&#160;acording&#160;to the<br/>TCG&#160;TSS&#160;specifications&#160;and is&#160;now worldwide the first&#160;1.2&#160;version ready for use.<br/>There are certain&#160;functions,&#160;which are&#160;not&#160;required&#160;for&#160;practical&#160;use&#160;or&#160;which&#160;are<br/>still&#160;in discussion.&#160;For&#160;sake&#160;of&#160;clarity we have&#160;in&#160;accordance&#160;with&#160;TCG&#160;good&#160;practice<br/>not&#160;implemented&#160;these&#160;features&#160;until&#160;final&#160;settling of standardisation&#160;work&#160;will<br/>occur.</p>
<p style="position:absolute;top:397px;left:86px;white-space:nowrap" class="ft5516">o</p>
<p style="position:absolute;top:392px;left:113px;white-space:nowrap" class="ft5562">A&#160;specific&#160;Linux based&#160;testbed&#160;and&#160;testprograms&#160;have&#160;been&#160;developed&#160;and&#160;the<br/>stack&#160;has&#160;been&#160;tested&#160;by this&#160;environment.</p>
<p style="position:absolute;top:436px;left:86px;white-space:nowrap" class="ft5516">o</p>
<p style="position:absolute;top:432px;left:113px;white-space:nowrap" class="ft554">The complete&#160;package&#160;(including&#160;source&#160;code,&#160;make&#160;files,&#160;environment<br/>infrastructure&#160;etc.) is available&#160;at the&#160;OpenTC&#160;svn&#160;server&#160;for&#160;use&#160;and&#160;feedback&#160; by<br/>the project&#160;partners.</p>
<p style="position:absolute;top:593px;left:85px;white-space:nowrap" class="ft5512"><b>1.2.1&#160;&#160;Development&#160;of&#160;a test environment for&#160;the&#160;TSS stack</b></p>
<p style="position:absolute;top:619px;left:85px;white-space:nowrap" class="ft552">Motivation&#160;and&#160;execution</p>
<p style="position:absolute;top:667px;left:85px;white-space:nowrap" class="ft554">For&#160;a full coverage&#160;of&#160;the functionality&#160;and behaviour&#160;tests of&#160;the&#160;Linux&#160;TSS stack<br/>within&#160;the OpenTC&#160;project, we&#160;used&#160;two&#160;different&#160;test&#160;methods&#160;during&#160;development<br/>and implementations.&#160;<br/>In&#160;addition&#160;to&#160;the&#160;PHP&#160;based&#160;test&#160;interface&#160;, which&#160;has advantages&#160;for&#160;manual&#160;testing<br/>and&#160;fast&#160;generation&#160;of result&#160;reports,&#160;we&#160;used also&#160;the well known&#160;RUBY&#160;environment<br/>for&#160;testing.<br/>Small&#160;and&#160;compact&#160;code&#160;sequences&#160;are generated&#160;in&#160;the target&#160;programming<br/>language&#160;C&#160;as well&#160;as&#160;for&#160;the test environment&#160;based&#160;on&#160;the&#160;RUBY&#160;script&#160;language<br/>which&#160;use&#160;only small&#160;and&#160;compact&#160;functional&#160;of&#160;the TSS service&#160;provider.&#160;With&#160;such<br/>high&#160;granularity&#160;tests we&#160;will&#160;minimize&#160;the risk&#160;to ignore&#160;errors&#160;within&#160;the execution<br/>protocols.&#160;From&#160;the point&#160;of the Service provider&#160;(SP)&#160;both&#160;methods&#160;look&#160;nearly<br/>identical, because&#160;the complementary&#160;test process is&#160;either&#160;an executable&#160;program&#160;or<br/>an&#160;shared&#160;object&#160;from&#160;the universal&#160;test environment.<br/>This&#160;run time library&#160;is following&#160;certain&#160;stringent&#160;rules,&#160;for&#160;allowing&#160;the&#160;RUBY<br/>interpreter&#160;to&#160;feed&#160;through&#160;and&#160;converting&#160;the&#160;script&#160;calls of the&#160;ruby&#160;interpreter.<br/>Amongst&#160;the many&#160;available&#160;script&#160;languages&#160;for&#160;Linux,&#160;Ruby&#160;has&#160;been&#160;selected,<br/>because this&#160;language&#160;is consequently&#160;object&#160;oriented&#160;, the scripts are easily&#160;to&#160;read<br/>and the generation&#160;of a&#160;linkage&#160;library&#160;to&#160;connect to&#160;the&#160;TSS SP&#160;is very&#160;much<br/>supported&#160;by automatic&#160;code&#160;generation&#160;means.&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft557">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft557">8/53</p>
</div>
<!-- Page 56 -->
<a name="56"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft5663{font-size:14px;font-family:MHLDBK+OpenSymbol;color:#000000;}
	.ft5664{font-size:16px;line-height:18px;font-family:ArialMT;color:#000000;}
	.ft5665{font-size:16px;line-height:18px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page56-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2056.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft567">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft567">RC&#160;1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft562">Formal&#160;Requirements&#160;for the&#160;Test Scripts</p>
<p style="position:absolute;top:189px;left:85px;white-space:nowrap" class="ft564">To&#160;achieve a certain homogeneousness&#160;of&#160;the test&#160;scripts&#160;independent&#160;on&#160;the<br/>developer&#160;and&#160;to&#160;allow for an&#160;automated&#160;checking&#160;of the test&#160;results,&#160;the&#160;following<br/>rules shall&#160;be&#160;followed.<br/>The&#160;name&#160;of a test&#160;script &#160;include&#160;the&#160;unique&#160;identifier&#160;of&#160;the&#160;test case it&#160;implements.<br/>It shall&#160;be&#160;obvious&#160;from&#160;the script’s&#160;name,&#160;which test&#160;case&#160;it&#160;realizes.<br/>Each standalone&#160;script &#160;releases&#160;all variables&#160;by&#160;means&#160;of a&#160;instruction&#160;before<br/>terminating&#160;so&#160;that&#160;various standalone scripts can be&#160;invoked by&#160;means&#160;of&#160;include<br/>instructions&#160;by&#160;a&#160;master&#160;script.</p>
<p style="position:absolute;top:398px;left:85px;white-space:nowrap" class="ft562">Guidelines&#160;for Test Development</p>
<p style="position:absolute;top:420px;left:117px;white-space:nowrap" class="ft5663"></p>
<p style="position:absolute;top:417px;left:138px;white-space:nowrap" class="ft562">Identify&#160;a test&#160;subject&#160;</p>
<p style="position:absolute;top:449px;left:117px;white-space:nowrap" class="ft5663"></p>
<p style="position:absolute;top:446px;left:138px;white-space:nowrap" class="ft562">Insert&#160;a sub&#160;chapter&#160;into&#160;chapter&#160;TSPI&#160;of&#160;this&#160;document&#160;</p>
<p style="position:absolute;top:477px;left:117px;white-space:nowrap" class="ft5663"></p>
<p style="position:absolute;top:474px;left:138px;white-space:nowrap" class="ft562">Write&#160;a&#160;short&#160;description&#160;of the test subject&#160;</p>
<p style="position:absolute;top:506px;left:117px;white-space:nowrap" class="ft5663"></p>
<p style="position:absolute;top:503px;left:138px;white-space:nowrap" class="ft564">Develop&#160;the&#160;test&#160;scripts&#160;according&#160;to the table&#160;in&#160;the test&#160;plan. Usually,&#160;one&#160;test<br/>script&#160;will&#160;contain&#160;one&#160;test case.&#160;</p>
<p style="position:absolute;top:554px;left:117px;white-space:nowrap" class="ft5663"></p>
<p style="position:absolute;top:551px;left:138px;white-space:nowrap" class="ft564">Fault test&#160;cases&#160;usually&#160;contain&#160;more&#160;than&#160;one&#160;test&#160;case&#160;in&#160;each&#160;row&#160;and&#160;each<br/>test&#160;script.&#160;</p>
<p style="position:absolute;top:601px;left:117px;white-space:nowrap" class="ft5663"></p>
<p style="position:absolute;top:598px;left:138px;white-space:nowrap" class="ft562">Debug&#160;the test&#160;scripts&#160;with&#160;the&#160;help&#160;of the&#160;Scripting&#160;Debug&#160;Tool.&#160;</p>
<p style="position:absolute;top:645px;left:85px;white-space:nowrap" class="ft561"><b>1.3&#160;SW-design&#160;Fundamentals</b></p>
<p style="position:absolute;top:691px;left:85px;white-space:nowrap" class="ft5612"><b>1.3.1&#160;References</b></p>
<p style="position:absolute;top:746px;left:106px;white-space:nowrap" class="ft562">TCG&#160;TPM Specification&#160;Version&#160;1.2&#160;Revision&#160;103</p>
<p style="position:absolute;top:774px;left:85px;white-space:nowrap" class="ft5661">https://www.trustedcomputinggroup.org</p>
<p style="position:absolute;top:797px;left:85px;white-space:nowrap" class="ft5664">Specification&#160;Version 1.2<br/>Level&#160;2&#160;Revision&#160;103,&#160;9 July 2007</p>
<p style="position:absolute;top:866px;left:85px;white-space:nowrap" class="ft5643">&#160; &#160;&#160;</p>
<p style="position:absolute;top:863px;left:103px;white-space:nowrap" class="ft562">TCG Specification&#160;Architecture&#160;Overview</p>
<p style="position:absolute;top:893px;left:85px;white-space:nowrap" class="ft5661">https://www.trustedcomputinggroup.org</p>
<p style="position:absolute;top:912px;left:85px;white-space:nowrap" class="ft562">Specification&#160;Revision&#160;1.3,&#160;28th&#160;March&#160;2007</p>
<p style="position:absolute;top:951px;left:106px;white-space:nowrap" class="ft562">TCG Software Stack (TSS)&#160;</p>
<p style="position:absolute;top:988px;left:85px;white-space:nowrap" class="ft5661">https://www.trustedcomputinggroup.org</p>
<p style="position:absolute;top:1007px;left:85px;white-space:nowrap" class="ft5665">Specification&#160;Version 1.2, Level&#160;1, Errata&#160;A, Part1:&#160;Commands&#160;and Structures,&#160;<br/>March&#160;7,&#160;2007</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft567">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft567">9/53</p>
</div>
<!-- Page 57 -->
<a name="57"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page57-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2057.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft577">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft577">RC&#160;1.0</p>
<p style="position:absolute;top:197px;left:85px;white-space:nowrap" class="ft5712"><b>1.3.2&#160;Definitions of terms, Acronyms&#160;and abbreviations</b></p>
<p style="position:absolute;top:224px;left:85px;white-space:nowrap" class="ft574">Listing&#160;of&#160;term definitions and abbreviations&#160;which are important&#160;for understanding<br/>the architectural&#160;design&#160;specification&#160;(IT expressions&#160;and&#160;terms&#160;from&#160;the application<br/>domain)&#160;- irrespective&#160;of whether&#160;these have&#160;already&#160;been&#160;explained&#160;in&#160;a different<br/>document&#160;(e.g.&#160;software&#160;requirements&#160;specification).</p>
<p style="position:absolute;top:359px;left:108px;white-space:nowrap" class="ft571"><b>Abbreviation</b></p>
<p style="position:absolute;top:359px;left:303px;white-space:nowrap" class="ft571"><b>Explanation</b></p>
<p style="position:absolute;top:379px;left:108px;white-space:nowrap" class="ft572">ACRYL</p>
<p style="position:absolute;top:379px;left:303px;white-space:nowrap" class="ft572">Advanced&#160;Cryptographic&#160;Library</p>
<p style="position:absolute;top:399px;left:108px;white-space:nowrap" class="ft572">API</p>
<p style="position:absolute;top:399px;left:303px;white-space:nowrap" class="ft572">Application&#160;Programming&#160;Interface</p>
<p style="position:absolute;top:419px;left:108px;white-space:nowrap" class="ft572">ODBC</p>
<p style="position:absolute;top:419px;left:303px;white-space:nowrap" class="ft572">Open&#160;Database&#160;Connectivity</p>
<p style="position:absolute;top:439px;left:108px;white-space:nowrap" class="ft572">PC</p>
<p style="position:absolute;top:439px;left:303px;white-space:nowrap" class="ft572">Personal&#160;Computer</p>
<p style="position:absolute;top:459px;left:108px;white-space:nowrap" class="ft572">SDK</p>
<p style="position:absolute;top:459px;left:303px;white-space:nowrap" class="ft572">Software&#160;Development&#160;Kit</p>
<p style="position:absolute;top:479px;left:108px;white-space:nowrap" class="ft572">SW</p>
<p style="position:absolute;top:479px;left:303px;white-space:nowrap" class="ft572">Software</p>
<p style="position:absolute;top:499px;left:108px;white-space:nowrap" class="ft572">TSP</p>
<p style="position:absolute;top:499px;left:303px;white-space:nowrap" class="ft572">TCG&#160;Service&#160;Provider</p>
<p style="position:absolute;top:519px;left:108px;white-space:nowrap" class="ft572">TSPI</p>
<p style="position:absolute;top:519px;left:303px;white-space:nowrap" class="ft572">TSP-Interface</p>
<p style="position:absolute;top:538px;left:108px;white-space:nowrap" class="ft572">TCS</p>
<p style="position:absolute;top:538px;left:303px;white-space:nowrap" class="ft572">TCG&#160;Core&#160;Service</p>
<p style="position:absolute;top:558px;left:108px;white-space:nowrap" class="ft572">TCSI</p>
<p style="position:absolute;top:558px;left:303px;white-space:nowrap" class="ft572">TCG-Interface&#160;</p>
<p style="position:absolute;top:578px;left:108px;white-space:nowrap" class="ft572">TDDL</p>
<p style="position:absolute;top:578px;left:303px;white-space:nowrap" class="ft572">TCG-Device Driver&#160;Library</p>
<p style="position:absolute;top:598px;left:108px;white-space:nowrap" class="ft572">TDDLI</p>
<p style="position:absolute;top:598px;left:303px;white-space:nowrap" class="ft572">TDDL-Interface</p>
<p style="position:absolute;top:618px;left:108px;white-space:nowrap" class="ft572">TPM</p>
<p style="position:absolute;top:618px;left:303px;white-space:nowrap" class="ft572">Trusted&#160;Platform&#160;Module</p>
<p style="position:absolute;top:638px;left:108px;white-space:nowrap" class="ft572">TSS</p>
<p style="position:absolute;top:638px;left:303px;white-space:nowrap" class="ft572">TCG-Software-Stack</p>
<p style="position:absolute;top:658px;left:108px;white-space:nowrap" class="ft574">TSS-SDK TSS-Software-Development-Kit<br/>GUID</p>
<p style="position:absolute;top:678px;left:303px;white-space:nowrap" class="ft572">Globally Unique&#160;Identifier&#160;(a&#160;128-bit value)</p>
<p style="position:absolute;top:698px;left:108px;white-space:nowrap" class="ft572">XML&#160;Extensible&#160;</p>
<p style="position:absolute;top:698px;left:394px;white-space:nowrap" class="ft572">Markup&#160;</p>
<p style="position:absolute;top:698px;left:461px;white-space:nowrap" class="ft572">Language</p>
<p style="position:absolute;top:718px;left:108px;white-space:nowrap" class="ft572">DOM</p>
<p style="position:absolute;top:718px;left:303px;white-space:nowrap" class="ft572">Document&#160;Object&#160;Model&#160;</p>
<p style="position:absolute;top:738px;left:108px;white-space:nowrap" class="ft572">COM</p>
<p style="position:absolute;top:738px;left:303px;white-space:nowrap" class="ft572">Component&#160;Object Mode</p>
<p style="position:absolute;top:758px;left:108px;white-space:nowrap" class="ft572">DCOM</p>
<p style="position:absolute;top:758px;left:303px;white-space:nowrap" class="ft572">Distributed&#160;Component&#160;Object&#160;Mode</p>
<p style="position:absolute;top:778px;left:108px;white-space:nowrap" class="ft572">IDL</p>
<p style="position:absolute;top:778px;left:303px;white-space:nowrap" class="ft572">Interface&#160;Definition&#160;Language</p>
<p style="position:absolute;top:798px;left:108px;white-space:nowrap" class="ft572">MIDL</p>
<p style="position:absolute;top:798px;left:303px;white-space:nowrap" class="ft572">Microsoft®&#160;Interface&#160;Definition&#160;Language</p>
<p style="position:absolute;top:818px;left:108px;white-space:nowrap" class="ft572">BUK</p>
<p style="position:absolute;top:818px;left:303px;white-space:nowrap" class="ft572">Basic&#160;User Key</p>
<p style="position:absolute;top:838px;left:108px;white-space:nowrap" class="ft572">TCG</p>
<p style="position:absolute;top:838px;left:303px;white-space:nowrap" class="ft572">Trusted Computing&#160;Group</p>
<p style="position:absolute;top:858px;left:108px;white-space:nowrap" class="ft5758">SOAP</p>
<p style="position:absolute;top:858px;left:303px;white-space:nowrap" class="ft572">Simple&#160;Object Access Protocol</p>
<p style="position:absolute;top:878px;left:108px;white-space:nowrap" class="ft572">HTTP</p>
<p style="position:absolute;top:878px;left:303px;white-space:nowrap" class="ft572">Hypertext Transfer Protocol</p>
<p style="position:absolute;top:925px;left:116px;white-space:nowrap" class="ft5712"><b>Table 1: List&#160; of&#160; abbreviations&#160;and&#160;terms&#160;used&#160;for&#160;specification&#160;and&#160;definition</b></p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft577">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft577">10/53</p>
</div>
<!-- Page 58 -->
<a name="58"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft5866{font-size:21px;font-family:BOJGFJ+BitstreamVeraSans;color:#000000;}
	.ft5867{font-size:10px;line-height:11px;font-family:ArialMT;color:#000000;}
-->
</style>
<div id="page58-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2058.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft587">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft587">RC&#160;1.0</p>
<p style="position:absolute;top:191px;left:85px;white-space:nowrap" class="ft5810"><b>2&#160;</b></p>
<p style="position:absolute;top:188px;left:117px;white-space:nowrap" class="ft5811"><b>TSS&#160;Architecture</b></p>
<p style="position:absolute;top:478px;left:211px;white-space:nowrap" class="ft5836">TCG&#160;Service&#160;Provider</p>
<p style="position:absolute;top:561px;left:221px;white-space:nowrap" class="ft5836">TCG&#160;Core&#160;Service</p>
<p style="position:absolute;top:645px;left:197px;white-space:nowrap" class="ft5836">TCG&#160;Device&#160;Driver&#160;Library</p>
<p style="position:absolute;top:729px;left:264px;white-space:nowrap" class="ft5836">TPM</p>
<p style="position:absolute;top:691px;left:147px;white-space:nowrap" class="ft5851">TPM&#160;Interface</p>
<p style="position:absolute;top:599px;left:147px;white-space:nowrap" class="ft5867">TPM&#160;Device&#160;Driver<br/>Library&#160;Interface</p>
<p style="position:absolute;top:523px;left:147px;white-space:nowrap" class="ft5851">TCG&#160;Core&#160;Service&#160;Interface</p>
<p style="position:absolute;top:432px;left:147px;white-space:nowrap" class="ft5867">TCG&#160;Service&#160;Provider<br/>Interface</p>
<p style="position:absolute;top:362px;left:224px;white-space:nowrap" class="ft5836">TCPA&#160;Application</p>
<p style="position:absolute;top:833px;left:277px;white-space:nowrap" class="ft589"><b>&#160;</b></p>
<p style="position:absolute;top:842px;left:285px;white-space:nowrap" class="ft5812"><b>Figure&#160;2:TPM&#160;Software&#160;Stack&#160;Structure</b></p>
<p style="position:absolute;top:894px;left:85px;white-space:nowrap" class="ft5866"><b>IFX-TSS modules considerations&#160;and inspection</b></p>
<p style="position:absolute;top:945px;left:85px;white-space:nowrap" class="ft581"><b>2.1&#160;TSP&#160;and&#160;TSPI</b></p>
<p style="position:absolute;top:993px;left:85px;white-space:nowrap" class="ft584">This&#160;module&#160;provides&#160;TCG&#160;services&#160;for&#160;applications.&#160;It provides&#160;the&#160;high-level TCG<br/>functions allowing&#160;applications&#160;to&#160;focus on&#160;their&#160;specialty while relying on&#160;the TSP&#160;to<br/>perform&#160;most&#160;of the trusted&#160;functions&#160;provided&#160;by&#160;the&#160;TPM.&#160;This&#160;module&#160;also&#160;provides<br/>a small&#160;number&#160;of auxiliary&#160;functions&#160;for&#160;convenience&#160;not&#160;provided&#160;by&#160;the&#160;TPM&#160;such&#160;as<br/>hashing.&#160;<br/>In&#160;environments&#160;that&#160;provide&#160;layers of&#160;protections&#160;(i.e.,&#160;rings)&#160;or&#160;separation&#160;of<br/>applications&#160;into processes,&#160;this&#160;module&#160;is&#160;intended&#160;to&#160;reside&#160;within the&#160;same&#160;ring&#160;and</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft587">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft587">11/53</p>
<p style="position:absolute;top:487px;left:608px;white-space:nowrap" class="ft581"><b>TSS&#160;modules</b></p>
<p style="position:absolute;top:506px;left:598px;white-space:nowrap" class="ft581"><b>covered&#160;by the</b></p>
<p style="position:absolute;top:525px;left:612px;white-space:nowrap" class="ft581"><b>related&#160;TCG</b></p>
<p style="position:absolute;top:545px;left:605px;white-space:nowrap" class="ft581"><b>specification.</b></p>
</div>
<!-- Page 59 -->
<a name="59"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft5968{font-size:16px;font-family:MHLDKM+SymbolMT;color:#000000;}
-->
</style>
<div id="page59-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2059.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft597">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft597">RC&#160;1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft594">process&#160;as&#160;the application.&#160;There will&#160;likely&#160;be&#160;one&#160;TSP&#160;per&#160;application.&#160;On&#160;operating<br/>systems&#160;that&#160;provide&#160;multiple&#160;processes,&#160;there&#160;may be&#160;multiple&#160;TSP’s&#160;residing&#160;on&#160;the<br/>platform.</p>
<p style="position:absolute;top:265px;left:85px;white-space:nowrap" class="ft591"><b>2.2&#160;TCS&#160;and TCSI</b></p>
<p style="position:absolute;top:312px;left:85px;white-space:nowrap" class="ft594">A service&#160;provider is any component&#160;used&#160;by the&#160;application&#160;that allows that<br/>application&#160;access&#160;to the&#160;TCS&#160;(and&#160;thus the&#160;TPM)&#160;from&#160;within&#160;the application’s&#160;process.<br/>Service&#160;providers,&#160;of which the&#160;TSP is but&#160;one&#160;possible&#160;instantiation,&#160;cannot<br/>communicate&#160;directly with&#160;the&#160;TPM.&#160;Additionally,&#160;there&#160;are&#160;multiple&#160;common&#160;services<br/>that&#160;either must&#160;or&#160;should&#160;be shared&#160;among&#160;the set&#160;of the&#160;platform’s&#160;service<br/>providers.&#160;<br/>The TCG&#160;Core&#160;Services&#160;(TCS)&#160;provides&#160;a&#160;common&#160;set of services per&#160;platform&#160;for&#160;all<br/>service providers.&#160;Since&#160;the TPM is not&#160;required to&#160;be multithreaded,&#160;it provides<br/>threaded&#160;access&#160;to&#160;the&#160;TPM.&#160;The TCS MUST&#160;provide&#160;single&#160;threaded&#160;access to&#160;the&#160;TPM<br/>and&#160;is&#160;an out of process&#160;system&#160;service.</p>
<p style="position:absolute;top:598px;left:85px;white-space:nowrap" class="ft591"><b>2.3&#160;TDDL and&#160;TDDLI</b></p>
<p style="position:absolute;top:645px;left:85px;white-space:nowrap" class="ft594">The TCG&#160;Device&#160;Driver&#160;Library&#160;(TDDL)&#160;is an&#160;intermediate&#160;module&#160;that&#160;exists between<br/>the TCS and&#160;the kernel&#160;mode&#160;TPM&#160;Device&#160;Driver (TDD).&#160;The&#160;TDDL&#160;provides&#160;a user<br/>mode&#160;interface.&#160;Such&#160;an&#160;interface&#160;has&#160;several&#160;advantages&#160;over&#160;a kernel&#160;mode&#160;driver<br/>interface:</p>
<p style="position:absolute;top:722px;left:85px;white-space:nowrap" class="ft5968">•</p>
<p style="position:absolute;top:724px;left:112px;white-space:nowrap" class="ft594">It ensures&#160;different&#160;implementations&#160;of&#160;the TSS&#160;properly&#160;communicate&#160;with&#160;any<br/>TPM.</p>
<p style="position:absolute;top:762px;left:85px;white-space:nowrap" class="ft5968">•</p>
<p style="position:absolute;top:763px;left:112px;white-space:nowrap" class="ft592">It&#160;provides&#160;an OS-independent&#160;interface&#160;for&#160;TPM&#160;applications.</p>
<p style="position:absolute;top:782px;left:85px;white-space:nowrap" class="ft5968">•</p>
<p style="position:absolute;top:784px;left:112px;white-space:nowrap" class="ft594">It allows&#160;the TPM&#160;vendor&#160;to&#160;provide&#160;a&#160;software&#160;TPM&#160;simulator&#160;as&#160;a user&#160;mode<br/>component.</p>
<p style="position:absolute;top:822px;left:85px;white-space:nowrap" class="ft594">Because&#160;the TPM&#160;is&#160;not required&#160;to be&#160;multithreaded,&#160;the&#160;TDDL&#160;is to&#160;be a&#160;single-<br/>instance,&#160;single&#160;threaded&#160;module.&#160;The TDDL expects&#160;the&#160;TPM&#160;command serialization<br/>to&#160;be performed&#160;by&#160;the&#160;TCS.&#160;<br/>The&#160;TPM vendor is&#160;responsible&#160;for defining&#160;the interface&#160;between the&#160;TDDL and the<br/>TDD.&#160;The TPM vendor&#160;can choose the&#160;communication&#160;and resource&#160;allocation<br/>mechanisms&#160;between this&#160;library&#160;and any kernel&#160;mode&#160;TPM device driver&#160;or&#160;software<br/>TPM simulator.<br/>This&#160;module&#160;will&#160;be&#160;totally removed&#160;from&#160;the&#160;Infineon&#160;Technologies&#160;TSS package&#160;if it is<br/>part of&#160;the OS&#160;distribution&#160;(e.g.&#160;Linux)&#160;for&#160;OpenTC.&#160;In the&#160;meantime&#160;we will implement<br/>the basic&#160;functionality for this module&#160;to&#160;interact&#160;with&#160;the TPM&#160;device.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft597">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft597">12/53</p>
</div>
<!-- Page 60 -->
<a name="60"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft6069{font-size:16px;font-family:MHLDNM+Wingdings;color:#000000;}
-->
</style>
<div id="page60-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2060.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft607">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft607">RC&#160;1.0</p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft601"><b>2.4&#160;Maintainability,&#160;Portability&#160;and&#160;Usability&#160;Requirements</b></p>
<p style="position:absolute;top:236px;left:139px;white-space:nowrap" class="ft604">The Security&#160;Platform&#160;requires&#160;the Infineon&#160;TPM&#160;SLB9635TT1.2&#160;be&#160;setup<br/>properly&#160;with&#160;the TPM&#160;1.2&#160;firmware&#160;V1.00&#160;or&#160;higher.</p>
<p style="position:absolute;top:274px;left:85px;white-space:nowrap" class="ft604">Generally Infineon&#160;provides&#160;a firmware&#160;update&#160;possibility&#160;via&#160;a tool&#160;based on the&#160;TCPA<br/>field&#160;upgrade&#160;approach&#160;which&#160;will&#160;be deployed&#160;by&#160;means&#160;comparable&#160;to&#160;driver<br/>updates.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft607">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft607">13/53</p>
</div>
<!-- Page 61 -->
<a name="61"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page61-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2061.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft617">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft617">RC&#160;1.0</p>
<p style="position:absolute;top:200px;left:85px;white-space:nowrap" class="ft6110"><b>3&#160;</b></p>
<p style="position:absolute;top:197px;left:117px;white-space:nowrap" class="ft6111"><b>TCG-API</b></p>
<p style="position:absolute;top:245px;left:85px;white-space:nowrap" class="ft611"><b>3.1&#160;Function&#160;list for the OpenTC&#160;TCG-TSS</b></p>
<p style="position:absolute;top:311px;left:85px;white-space:nowrap" class="ft6112"><b>3.1.1&#160;List&#160;of supported&#160;TSS Core&#160;Service&#160;Interface&#160;Functions</b></p>
<p style="position:absolute;top:366px;left:107px;white-space:nowrap" class="ft616"><b>TSS&#160;Core Service&#160;Function&#160;as specified<br/>by TCG</b></p>
<p style="position:absolute;top:366px;left:495px;white-space:nowrap" class="ft611"><b>Solution-</b></p>
<p style="position:absolute;top:385px;left:488px;white-space:nowrap" class="ft611"><b>Supported</b></p>
<p style="position:absolute;top:366px;left:605px;white-space:nowrap" class="ft611"><b>Not Supported</b></p>
<p style="position:absolute;top:405px;left:107px;white-space:nowrap" class="ft611"><b>Context&#160;related</b></p>
<p style="position:absolute;top:425px;left:107px;white-space:nowrap" class="ft614">Core&#160;Service&#160;functionality&#160;covered&#160;by<br/>DCOM</p>
<p style="position:absolute;top:448px;left:159px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:445px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:465px;left:107px;white-space:nowrap" class="ft612">TCS_OpenContext</p>
<p style="position:absolute;top:468px;left:257px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:465px;left:525px;white-space:nowrap" class="ft612">(x)</p>
<p style="position:absolute;top:485px;left:107px;white-space:nowrap" class="ft612">TCS_CloseContext</p>
<p style="position:absolute;top:488px;left:257px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:485px;left:525px;white-space:nowrap" class="ft612">(x)</p>
<p style="position:absolute;top:505px;left:107px;white-space:nowrap" class="ft612">TCS_FreeMemory</p>
<p style="position:absolute;top:508px;left:251px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:505px;left:525px;white-space:nowrap" class="ft612">(x)</p>
<p style="position:absolute;top:525px;left:107px;white-space:nowrap" class="ft612">TCS_GetCapability</p>
<p style="position:absolute;top:529px;left:260px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:525px;left:531px;white-space:nowrap" class="ft612">0</p>
<p style="position:absolute;top:545px;left:107px;white-space:nowrap" class="ft611"><b>Persistent&#160;Storage&#160;related</b></p>
<p style="position:absolute;top:565px;left:107px;white-space:nowrap" class="ft612">TCSP_LoadKeyByUUID</p>
<p style="position:absolute;top:569px;left:291px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:565px;left:530px;white-space:nowrap" class="ft612">O</p>
<p style="position:absolute;top:585px;left:107px;white-space:nowrap" class="ft612">TCS_RegisterKey</p>
<p style="position:absolute;top:589px;left:247px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:585px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:605px;left:107px;white-space:nowrap" class="ft612">TCSP_UnregisterKey</p>
<p style="position:absolute;top:609px;left:275px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:605px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:625px;left:107px;white-space:nowrap" class="ft612">TCS_EnumRegisteredKeys</p>
<p style="position:absolute;top:625px;left:667px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:645px;left:107px;white-space:nowrap" class="ft612">TCS_GetRegisteredKey</p>
<p style="position:absolute;top:645px;left:530px;white-space:nowrap" class="ft612">O</p>
<p style="position:absolute;top:665px;left:107px;white-space:nowrap" class="ft612">TCS_GetRegisteredKeyBlob</p>
<p style="position:absolute;top:665px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:685px;left:107px;white-space:nowrap" class="ft612">TCSP_GetRegisteredKeyByPublicInfo</p>
<p style="position:absolute;top:685px;left:667px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:706px;left:107px;white-space:nowrap" class="ft611"><b>Authorization&#160;related</b></p>
<p style="position:absolute;top:726px;left:107px;white-space:nowrap" class="ft612">TCSP_OIAP</p>
<p style="position:absolute;top:730px;left:197px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:726px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:746px;left:107px;white-space:nowrap" class="ft612">TCSP_OSAP</p>
<p style="position:absolute;top:750px;left:202px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:746px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:766px;left:107px;white-space:nowrap" class="ft612">TCSP_TerminateHandle</p>
<p style="position:absolute;top:770px;left:301px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:766px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:786px;left:107px;white-space:nowrap" class="ft612">TCSP_ChangeAuth</p>
<p style="position:absolute;top:790px;left:259px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:786px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:807px;left:107px;white-space:nowrap" class="ft612">TCSP_ChangeAuthOwner</p>
<p style="position:absolute;top:810px;left:313px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:807px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:826px;left:107px;white-space:nowrap" class="ft612">TCSP_ChangeAuthAsymStart</p>
<p style="position:absolute;top:826px;left:667px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:846px;left:107px;white-space:nowrap" class="ft612">TCSP_ChangeAuthAsymFinish</p>
<p style="position:absolute;top:846px;left:667px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:866px;left:107px;white-space:nowrap" class="ft611"><b>TPM related</b></p>
<p style="position:absolute;top:886px;left:107px;white-space:nowrap" class="ft612">TCSP_CreateEndorsementKey</p>
<p style="position:absolute;top:886px;left:667px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:906px;left:107px;white-space:nowrap" class="ft612">TCSP_ReadPubek</p>
<p style="position:absolute;top:910px;left:250px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:906px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:927px;left:107px;white-space:nowrap" class="ft612">TCSP_OwnerReadPubek</p>
<p style="position:absolute;top:930px;left:304px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:927px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:947px;left:107px;white-space:nowrap" class="ft612">TCSP_OwnerReadInternalPub</p>
<p style="position:absolute;top:950px;left:348px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:947px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:967px;left:107px;white-space:nowrap" class="ft612">TCSP_TakeOwnership</p>
<p style="position:absolute;top:970px;left:285px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:967px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:987px;left:107px;white-space:nowrap" class="ft612">TCSP_OwnerClear</p>
<p style="position:absolute;top:990px;left:255px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:987px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:1007px;left:107px;white-space:nowrap" class="ft612">TCSP_ForceClear</p>
<p style="position:absolute;top:1010px;left:246px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:1007px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:1027px;left:107px;white-space:nowrap" class="ft612">TCSP_DisableOwnerClear</p>
<p style="position:absolute;top:1031px;left:316px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:1027px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:1047px;left:107px;white-space:nowrap" class="ft612">TCSP_DisableForceClear</p>
<p style="position:absolute;top:1051px;left:307px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:1047px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:1067px;left:107px;white-space:nowrap" class="ft612">TCSP_OwnerSetDisable</p>
<p style="position:absolute;top:1071px;left:300px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:1067px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:1087px;left:107px;white-space:nowrap" class="ft612">TCSP_PhysicalDisable</p>
<p style="position:absolute;top:1091px;left:286px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:1087px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:1107px;left:107px;white-space:nowrap" class="ft612">TCSP_PhysicalEnable</p>
<p style="position:absolute;top:1111px;left:281px;white-space:nowrap" class="ft6145">&#160;</p>
<p style="position:absolute;top:1107px;left:531px;white-space:nowrap" class="ft612">X</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft617">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft617">14/53</p>
</div>
<!-- Page 62 -->
<a name="62"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page62-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2062.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft627">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft627">RC&#160;1.0</p>
<p style="position:absolute;top:152px;left:107px;white-space:nowrap" class="ft626"><b>TSS&#160;Core Service&#160;Function&#160;as specified<br/>by TCG</b></p>
<p style="position:absolute;top:152px;left:495px;white-space:nowrap" class="ft621"><b>Solution-</b></p>
<p style="position:absolute;top:171px;left:488px;white-space:nowrap" class="ft621"><b>Supported</b></p>
<p style="position:absolute;top:152px;left:605px;white-space:nowrap" class="ft621"><b>Not Supported</b></p>
<p style="position:absolute;top:191px;left:107px;white-space:nowrap" class="ft622">TCSP_PhysicalSetDeactivated</p>
<p style="position:absolute;top:195px;left:352px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:191px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:211px;left:107px;white-space:nowrap" class="ft622">TCSP_SetTempDeactivated</p>
<p style="position:absolute;top:215px;left:331px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:211px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:231px;left:107px;white-space:nowrap" class="ft622">TCSP_SetOwnerInstall</p>
<p style="position:absolute;top:235px;left:288px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:231px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:251px;left:107px;white-space:nowrap" class="ft622">TCSP_DisablePubekRead</p>
<p style="position:absolute;top:255px;left:311px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:251px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:272px;left:107px;white-space:nowrap" class="ft622">TCSP_GetCapabilityOwner</p>
<p style="position:absolute;top:275px;left:323px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:272px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:292px;left:107px;white-space:nowrap" class="ft622">TCSP_SelfTestFull</p>
<p style="position:absolute;top:295px;left:253px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:292px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:312px;left:107px;white-space:nowrap" class="ft622">TCSP_CertifySelfTest</p>
<p style="position:absolute;top:312px;left:667px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:332px;left:107px;white-space:nowrap" class="ft622">TCSP_GetTestResult</p>
<p style="position:absolute;top:335px;left:274px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:332px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:352px;left:107px;white-space:nowrap" class="ft622">TCSP_GetCapability</p>
<p style="position:absolute;top:355px;left:270px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:352px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:372px;left:107px;white-space:nowrap" class="ft624">TCSP_GetCapabilitySigned<br/>TCSP_CreateMaintenanceArchive</p>
<p style="position:absolute;top:392px;left:655px;white-space:nowrap" class="ft622">X(1)</p>
<p style="position:absolute;top:412px;left:107px;white-space:nowrap" class="ft622">TCSP_LoadMaintenanceArchive</p>
<p style="position:absolute;top:412px;left:655px;white-space:nowrap" class="ft622">X(1)</p>
<p style="position:absolute;top:432px;left:107px;white-space:nowrap" class="ft622">TCSP_KillMaintenanceFeature</p>
<p style="position:absolute;top:432px;left:655px;white-space:nowrap" class="ft622">X(1)</p>
<p style="position:absolute;top:452px;left:107px;white-space:nowrap" class="ft622">TCSP_LoadManuMaintPub</p>
<p style="position:absolute;top:452px;left:655px;white-space:nowrap" class="ft622">X(1)</p>
<p style="position:absolute;top:471px;left:107px;white-space:nowrap" class="ft622">TCSP_ReadManuMaintPub</p>
<p style="position:absolute;top:471px;left:655px;white-space:nowrap" class="ft622">X(1)</p>
<p style="position:absolute;top:492px;left:107px;white-space:nowrap" class="ft622">TCSP_FieldUpgrade</p>
<p style="position:absolute;top:495px;left:267px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:492px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:511px;left:107px;white-space:nowrap" class="ft622">TCSP_SetRedirection</p>
<p style="position:absolute;top:511px;left:655px;white-space:nowrap" class="ft622">X(1)</p>
<p style="position:absolute;top:532px;left:107px;white-space:nowrap" class="ft622">TCSP_GetRandom</p>
<p style="position:absolute;top:535px;left:256px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:532px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:552px;left:107px;white-space:nowrap" class="ft622">TCSP_StirRandom</p>
<p style="position:absolute;top:555px;left:255px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:552px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:572px;left:107px;white-space:nowrap" class="ft622">TCSP_Quote</p>
<p style="position:absolute;top:575px;left:208px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:572px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:592px;left:107px;white-space:nowrap" class="ft622">TCSP_Extend</p>
<p style="position:absolute;top:595px;left:215px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:592px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:612px;left:107px;white-space:nowrap" class="ft622">TCSP_PcrRead</p>
<p style="position:absolute;top:615px;left:225px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:612px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:632px;left:107px;white-space:nowrap" class="ft622">TCSP_DirWriteAuth</p>
<p style="position:absolute;top:636px;left:265px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:632px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:652px;left:107px;white-space:nowrap" class="ft622">TCSP_DirRead</p>
<p style="position:absolute;top:656px;left:224px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:652px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:672px;left:107px;white-space:nowrap" class="ft622">TCSP_SetCapability</p>
<p style="position:absolute;top:672px;left:530px;white-space:nowrap" class="ft622">O</p>
<p style="position:absolute;top:692px;left:107px;white-space:nowrap" class="ft622">TCSP_FlushSpecific</p>
<p style="position:absolute;top:692px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:712px;left:107px;white-space:nowrap" class="ft622">TCSP_ResetLockValue</p>
<p style="position:absolute;top:712px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:732px;left:107px;white-space:nowrap" class="ft622">TCSP_OwnerReadInternalPub</p>
<p style="position:absolute;top:732px;left:667px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:752px;left:107px;white-space:nowrap" class="ft622">TCSP_KeyControlOwner</p>
<p style="position:absolute;top:752px;left:667px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:772px;left:107px;white-space:nowrap" class="ft624">TCSP_CreateRevocableEndorsementKeyPai<br/>r</p>
<p style="position:absolute;top:791px;left:667px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:811px;left:107px;white-space:nowrap" class="ft622">TCSP_RevokeEndorsementKeyPair</p>
<p style="position:absolute;top:811px;left:667px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:831px;left:107px;white-space:nowrap" class="ft621"><b>PCREvent&#160;&#160;related</b></p>
<p style="position:absolute;top:851px;left:107px;white-space:nowrap" class="ft622">TCS_GetPcrEvent</p>
<p style="position:absolute;top:851px;left:667px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:871px;left:107px;white-space:nowrap" class="ft622">TCS_GetPcrEventsByPcr</p>
<p style="position:absolute;top:871px;left:667px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:891px;left:107px;white-space:nowrap" class="ft622">TCS_GetPcrEventLog</p>
<p style="position:absolute;top:891px;left:667px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:911px;left:107px;white-space:nowrap" class="ft622">TCS_LogPcrEvent</p>
<p style="position:absolute;top:911px;left:667px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:931px;left:107px;white-space:nowrap" class="ft621"><b>Key related</b></p>
<p style="position:absolute;top:951px;left:107px;white-space:nowrap" class="ft622">TCSP_EvictKey</p>
<p style="position:absolute;top:954px;left:229px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:951px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:971px;left:107px;white-space:nowrap" class="ft622">TCSP_LoadKeyByBlob</p>
<p style="position:absolute;top:974px;left:286px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:971px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:991px;left:107px;white-space:nowrap" class="ft622">TCSP_GetPubkey</p>
<p style="position:absolute;top:995px;left:247px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:991px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:1011px;left:107px;white-space:nowrap" class="ft622">TCSP_CertifyKey</p>
<p style="position:absolute;top:1015px;left:243px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:1011px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:1031px;left:107px;white-space:nowrap" class="ft622">TCSP_CreateWrapKey</p>
<p style="position:absolute;top:1035px;left:287px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:1031px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:1051px;left:107px;white-space:nowrap" class="ft622">TCSP_LoadKey2ByBlob</p>
<p style="position:absolute;top:1051px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:1071px;left:107px;white-space:nowrap" class="ft622">TCSP_MigrateKey</p>
<p style="position:absolute;top:1071px;left:667px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:1091px;left:107px;white-space:nowrap" class="ft621"><b>AIK related&#160;</b></p>
<p style="position:absolute;top:1111px;left:107px;white-space:nowrap" class="ft622">TCSP_MakeIdentity</p>
<p style="position:absolute;top:1115px;left:265px;white-space:nowrap" class="ft6245">&#160;</p>
<p style="position:absolute;top:1111px;left:531px;white-space:nowrap" class="ft622">X</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft627">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft627">15/53</p>
</div>
<!-- Page 63 -->
<a name="63"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page63-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2063.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft637">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft637">RC&#160;1.0</p>
<p style="position:absolute;top:152px;left:107px;white-space:nowrap" class="ft636"><b>TSS&#160;Core Service&#160;Function&#160;as specified<br/>by TCG</b></p>
<p style="position:absolute;top:152px;left:495px;white-space:nowrap" class="ft631"><b>Solution-</b></p>
<p style="position:absolute;top:171px;left:488px;white-space:nowrap" class="ft631"><b>Supported</b></p>
<p style="position:absolute;top:152px;left:605px;white-space:nowrap" class="ft631"><b>Not Supported</b></p>
<p style="position:absolute;top:191px;left:107px;white-space:nowrap" class="ft632">TCSP_ActivateIdentity</p>
<p style="position:absolute;top:195px;left:289px;white-space:nowrap" class="ft6345">&#160;</p>
<p style="position:absolute;top:191px;left:531px;white-space:nowrap" class="ft632">X</p>
<p style="position:absolute;top:211px;left:107px;white-space:nowrap" class="ft631"><b>Migration&#160;related</b></p>
<p style="position:absolute;top:231px;left:107px;white-space:nowrap" class="ft632">TCSP_AuthorizeMigrationKey</p>
<p style="position:absolute;top:235px;left:345px;white-space:nowrap" class="ft6345">&#160;</p>
<p style="position:absolute;top:231px;left:531px;white-space:nowrap" class="ft632">X</p>
<p style="position:absolute;top:251px;left:107px;white-space:nowrap" class="ft632">TCSP_CreateMigrationBlob</p>
<p style="position:absolute;top:255px;left:327px;white-space:nowrap" class="ft6345">&#160;</p>
<p style="position:absolute;top:251px;left:531px;white-space:nowrap" class="ft632">X</p>
<p style="position:absolute;top:271px;left:107px;white-space:nowrap" class="ft632">TCSP_ConvertMigrationBlob</p>
<p style="position:absolute;top:275px;left:337px;white-space:nowrap" class="ft6345">&#160;</p>
<p style="position:absolute;top:271px;left:531px;white-space:nowrap" class="ft632">X</p>
<p style="position:absolute;top:291px;left:107px;white-space:nowrap" class="ft631"><b>Hash related</b></p>
<p style="position:absolute;top:311px;left:107px;white-space:nowrap" class="ft632">TCSP_Sign</p>
<p style="position:absolute;top:315px;left:193px;white-space:nowrap" class="ft6345">&#160;</p>
<p style="position:absolute;top:311px;left:531px;white-space:nowrap" class="ft632">X</p>
<p style="position:absolute;top:331px;left:107px;white-space:nowrap" class="ft631"><b>Data&#160;related</b></p>
<p style="position:absolute;top:351px;left:107px;white-space:nowrap" class="ft632">TCSP_Unbind</p>
<p style="position:absolute;top:355px;left:216px;white-space:nowrap" class="ft6345">&#160;</p>
<p style="position:absolute;top:351px;left:531px;white-space:nowrap" class="ft632">X</p>
<p style="position:absolute;top:372px;left:107px;white-space:nowrap" class="ft632">TCSP_Seal</p>
<p style="position:absolute;top:375px;left:193px;white-space:nowrap" class="ft6345">&#160;</p>
<p style="position:absolute;top:372px;left:531px;white-space:nowrap" class="ft632">X</p>
<p style="position:absolute;top:392px;left:107px;white-space:nowrap" class="ft632">TCSP_Unseal</p>
<p style="position:absolute;top:395px;left:213px;white-space:nowrap" class="ft6345">&#160;</p>
<p style="position:absolute;top:392px;left:531px;white-space:nowrap" class="ft632">X</p>
<p style="position:absolute;top:412px;left:107px;white-space:nowrap" class="ft631"><b>NV related</b></p>
<p style="position:absolute;top:432px;left:107px;white-space:nowrap" class="ft632">Tcsip_NV_DefineOrReleaseSpace</p>
<p style="position:absolute;top:432px;left:531px;white-space:nowrap" class="ft632">X</p>
<p style="position:absolute;top:452px;left:107px;white-space:nowrap" class="ft632">Tcsip_NV_WriteValue</p>
<p style="position:absolute;top:452px;left:531px;white-space:nowrap" class="ft632">X</p>
<p style="position:absolute;top:471px;left:107px;white-space:nowrap" class="ft632">Tcsip_NV_WriteValueAuth</p>
<p style="position:absolute;top:471px;left:531px;white-space:nowrap" class="ft632">X</p>
<p style="position:absolute;top:491px;left:107px;white-space:nowrap" class="ft632">Tcsip_NV_ReadValue</p>
<p style="position:absolute;top:491px;left:531px;white-space:nowrap" class="ft632">X</p>
<p style="position:absolute;top:511px;left:107px;white-space:nowrap" class="ft632">Tcsip_NV_ReadValueAuth</p>
<p style="position:absolute;top:511px;left:531px;white-space:nowrap" class="ft632">X</p>
<p style="position:absolute;top:570px;left:85px;white-space:nowrap" class="ft632">O</p>
<p style="position:absolute;top:570px;left:128px;white-space:nowrap" class="ft634">The implementation&#160;doesn’t support&#160;all&#160;possible&#160;parameter&#160;features&#160;as described<br/>by TCG&#160;</p>
<p style="position:absolute;top:608px;left:85px;white-space:nowrap" class="ft634">(X)&#160;This function&#160;is&#160;implicitly&#160;supported&#160;through&#160;the COM&#160;interface&#160;technology<br/>X(1)&#160;Optional&#160;TPM commands&#160;according&#160;to&#160;TCG&#160;Main&#160;Specification<br/>X(2)&#160;The support&#160;of these&#160;commands&#160;has a high&#160;priority&#160;for&#160;the&#160;next&#160;release</p>
<p style="position:absolute;top:703px;left:239px;white-space:nowrap" class="ft637">Table 2:&#160;TSS&#160;Core&#160;Service Function&#160;as specified by&#160;TCG</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft637">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft637">16/53</p>
</div>
<!-- Page 64 -->
<a name="64"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page64-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2064.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft647">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft647">RC&#160;1.0</p>
<p style="position:absolute;top:214px;left:85px;white-space:nowrap" class="ft641"><b>3.2&#160;Function&#160;list for the OpenTC&#160;TCG-TSS</b></p>
<p style="position:absolute;top:261px;left:85px;white-space:nowrap" class="ft644">For&#160;the OpenTC&#160;development/porting&#160;of&#160;the&#160;Infineon&#160;TCG-TSS&#160;the intention&#160;is&#160;to<br/>separate&#160;this&#160;into&#160;some&#160;iteration&#160;step.&#160;Iterations&#160;should&#160;be&#160;organized&#160;that&#160;it&#160;is<br/>possibility&#160;to&#160;offer&#160;a&#160;delivery to&#160;the&#160;OpenTC&#160;project&#160;as&#160;early&#160;as&#160;possible.&#160;<br/>Currently&#160;the&#160;functionality&#160;for&#160;DAA&#160;and&#160;CMK&#160;are&#160;not&#160;included&#160;in the&#160;development&#160;plan;<br/>due to&#160;the fact&#160;that&#160;there is&#160;no&#160;use&#160;case&#160;in the&#160;OpenTC&#160;project&#160;which&#160;addresses&#160;these<br/>functions&#160;and also&#160;use&#160;scenarios&#160;outside&#160;the&#160;OpenTC&#160;are&#160;not&#160;known. &#160;&#160;&#160;&#160;</p>
<p style="position:absolute;top:413px;left:85px;white-space:nowrap" class="ft6412"><b>3.2.1&#160;Supported&#160;function&#160;list of TSS&#160;Service&#160;Provider</b></p>
<p style="position:absolute;top:497px;left:109px;white-space:nowrap" class="ft646"><b>TSS&#160;Service&#160;Provider Function&#160;as specified<br/>by&#160;TCG</b></p>
<p style="position:absolute;top:497px;left:557px;white-space:nowrap" class="ft641"><b>Step-1</b></p>
<p style="position:absolute;top:516px;left:539px;white-space:nowrap" class="ft641"><b>Supported</b></p>
<p style="position:absolute;top:497px;left:687px;white-space:nowrap" class="ft641"><b>Step-2</b></p>
<p style="position:absolute;top:516px;left:669px;white-space:nowrap" class="ft641"><b>Supported</b></p>
<p style="position:absolute;top:536px;left:109px;white-space:nowrap" class="ft644">Context related<br/>Service Provider&#160;functionality&#160;covered by<br/>(D)COM</p>
<p style="position:absolute;top:579px;left:173px;white-space:nowrap" class="ft6445">&#160;</p>
<p style="position:absolute;top:596px;left:109px;white-space:nowrap" class="ft642">Tspi_Context_Create</p>
<p style="position:absolute;top:599px;left:279px;white-space:nowrap" class="ft6445">&#160;</p>
<p style="position:absolute;top:596px;left:582px;white-space:nowrap" class="ft642">X</p>
<p style="position:absolute;top:596px;left:715px;white-space:nowrap" class="ft642">&#160;</p>
<p style="position:absolute;top:616px;left:109px;white-space:nowrap" class="ft642">Tspi_Context_Close</p>
<p style="position:absolute;top:616px;left:582px;white-space:nowrap" class="ft642">X</p>
<p style="position:absolute;top:636px;left:109px;white-space:nowrap" class="ft642">Tspi_Context_FreeMemory</p>
<p style="position:absolute;top:639px;left:328px;white-space:nowrap" class="ft6445">&#160;</p>
<p style="position:absolute;top:636px;left:582px;white-space:nowrap" class="ft642">X</p>
<p style="position:absolute;top:656px;left:109px;white-space:nowrap" class="ft642">Tspi_SetAttribUint32</p>
<p style="position:absolute;top:659px;left:279px;white-space:nowrap" class="ft6445">&#160;</p>
<p style="position:absolute;top:656px;left:581px;white-space:nowrap" class="ft642">O</p>
<p style="position:absolute;top:656px;left:711px;white-space:nowrap" class="ft642">O</p>
<p style="position:absolute;top:676px;left:109px;white-space:nowrap" class="ft642">Tspi_GetAttribUint32</p>
<p style="position:absolute;top:680px;left:281px;white-space:nowrap" class="ft6445">&#160;</p>
<p style="position:absolute;top:676px;left:581px;white-space:nowrap" class="ft642">O</p>
<p style="position:absolute;top:676px;left:711px;white-space:nowrap" class="ft642">O</p>
<p style="position:absolute;top:696px;left:109px;white-space:nowrap" class="ft6462">Tspi_SetAttribData<br/>Tspi_GetAttribData<br/>Tspi_Context_Connect</p>
<p style="position:absolute;top:739px;left:292px;white-space:nowrap" class="ft6445">&#160;</p>
<p style="position:absolute;top:736px;left:582px;white-space:nowrap" class="ft642">X</p>
<p style="position:absolute;top:756px;left:109px;white-space:nowrap" class="ft642">Tspi_Context_GetDefaultPolicy</p>
<p style="position:absolute;top:760px;left:362px;white-space:nowrap" class="ft6445">&#160;</p>
<p style="position:absolute;top:756px;left:582px;white-space:nowrap" class="ft642">X</p>
<p style="position:absolute;top:776px;left:109px;white-space:nowrap" class="ft642">Tspi_Context_CreateObject</p>
<p style="position:absolute;top:780px;left:333px;white-space:nowrap" class="ft6445">&#160;</p>
<p style="position:absolute;top:776px;left:579px;white-space:nowrap" class="ft642">O O&#160;</p>
<p style="position:absolute;top:796px;left:109px;white-space:nowrap" class="ft642">Tspi_Context_CloseObject</p>
<p style="position:absolute;top:800px;left:323px;white-space:nowrap" class="ft6445">&#160;</p>
<p style="position:absolute;top:796px;left:582px;white-space:nowrap" class="ft642">X</p>
<p style="position:absolute;top:816px;left:109px;white-space:nowrap" class="ft642">Tspi_Context_GetCapability</p>
<p style="position:absolute;top:820px;left:336px;white-space:nowrap" class="ft6445">&#160;</p>
<p style="position:absolute;top:816px;left:581px;white-space:nowrap" class="ft642">O</p>
<p style="position:absolute;top:816px;left:711px;white-space:nowrap" class="ft642">O</p>
<p style="position:absolute;top:837px;left:109px;white-space:nowrap" class="ft642">Tspi_Context_GetTPMObject</p>
<p style="position:absolute;top:840px;left:341px;white-space:nowrap" class="ft6445">&#160;</p>
<p style="position:absolute;top:837px;left:582px;white-space:nowrap" class="ft642">X</p>
<p style="position:absolute;top:857px;left:109px;white-space:nowrap" class="ft642">Tspi_Context_LoadKeyByBlob</p>
<p style="position:absolute;top:860px;left:352px;white-space:nowrap" class="ft6445">&#160;</p>
<p style="position:absolute;top:857px;left:582px;white-space:nowrap" class="ft642">X</p>
<p style="position:absolute;top:877px;left:109px;white-space:nowrap" class="ft642">Tspi_Context_LoadKeyByUUID</p>
<p style="position:absolute;top:880px;left:357px;white-space:nowrap" class="ft6445">&#160;</p>
<p style="position:absolute;top:877px;left:581px;white-space:nowrap" class="ft642">O</p>
<p style="position:absolute;top:877px;left:711px;white-space:nowrap" class="ft642">O</p>
<p style="position:absolute;top:897px;left:109px;white-space:nowrap" class="ft642">Tspi_Context_RegisterKey</p>
<p style="position:absolute;top:900px;left:323px;white-space:nowrap" class="ft6445">&#160;</p>
<p style="position:absolute;top:897px;left:711px;white-space:nowrap" class="ft642">O</p>
<p style="position:absolute;top:917px;left:109px;white-space:nowrap" class="ft642">Tspi_Context_UnregisterKey</p>
<p style="position:absolute;top:920px;left:341px;white-space:nowrap" class="ft6445">&#160;</p>
<p style="position:absolute;top:917px;left:711px;white-space:nowrap" class="ft642">O</p>
<p style="position:absolute;top:937px;left:109px;white-space:nowrap" class="ft6462">Tspi_Context_DeleteKeyByUUID<br/>Tspi_Context_GetKeyByUUID</p>
<p style="position:absolute;top:960px;left:347px;white-space:nowrap" class="ft6445">&#160;</p>
<p style="position:absolute;top:957px;left:711px;white-space:nowrap" class="ft642">O</p>
<p style="position:absolute;top:977px;left:109px;white-space:nowrap" class="ft6462">Tspi_Context_GetKeyByPublicInfo<br/>Tspi_Context_GetRegisteredKeysByUUID<br/>Policy&#160;related<br/>Tspi_SetAttribUint32<br/>Tspi_GetAttribUint32<br/>Tspi_SetAttribData<br/>Tspi_GetAttribData<br/>Tspi_Policy_SetSecret</p>
<p style="position:absolute;top:1117px;left:581px;white-space:nowrap" class="ft642">O</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft647">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft647">17/53</p>
</div>
<!-- Page 65 -->
<a name="65"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page65-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2065.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft657">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft657">RC&#160;1.0</p>
<p style="position:absolute;top:152px;left:109px;white-space:nowrap" class="ft656"><b>TSS&#160;Service&#160;Provider Function&#160;as specified<br/>by&#160;TCG</b></p>
<p style="position:absolute;top:152px;left:557px;white-space:nowrap" class="ft651"><b>Step-1</b></p>
<p style="position:absolute;top:171px;left:539px;white-space:nowrap" class="ft651"><b>Supported</b></p>
<p style="position:absolute;top:152px;left:687px;white-space:nowrap" class="ft651"><b>Step-2</b></p>
<p style="position:absolute;top:171px;left:669px;white-space:nowrap" class="ft651"><b>Supported</b></p>
<p style="position:absolute;top:191px;left:109px;white-space:nowrap" class="ft652">Tspi_Policy_FlushSecret</p>
<p style="position:absolute;top:195px;left:304px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:191px;left:582px;white-space:nowrap" class="ft652">X</p>
<p style="position:absolute;top:211px;left:109px;white-space:nowrap" class="ft652">Tspi_Policy_AssignToObject</p>
<p style="position:absolute;top:215px;left:335px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:211px;left:582px;white-space:nowrap" class="ft652">X</p>
<p style="position:absolute;top:231px;left:109px;white-space:nowrap" class="ft6562">TPM&#160;related<br/>Tspi_SetAttribUint32</p>
<p style="position:absolute;top:255px;left:279px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:251px;left:581px;white-space:nowrap" class="ft652">O</p>
<p style="position:absolute;top:251px;left:711px;white-space:nowrap" class="ft652">O</p>
<p style="position:absolute;top:271px;left:109px;white-space:nowrap" class="ft652">Tspi_GetAttribUint32</p>
<p style="position:absolute;top:275px;left:281px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:271px;left:581px;white-space:nowrap" class="ft652">O</p>
<p style="position:absolute;top:271px;left:711px;white-space:nowrap" class="ft652">O</p>
<p style="position:absolute;top:291px;left:109px;white-space:nowrap" class="ft652">Tspi_SetAttribData</p>
<p style="position:absolute;top:295px;left:263px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:291px;left:581px;white-space:nowrap" class="ft652">O</p>
<p style="position:absolute;top:291px;left:711px;white-space:nowrap" class="ft652">O</p>
<p style="position:absolute;top:312px;left:109px;white-space:nowrap" class="ft652">Tspi_GetAttribData</p>
<p style="position:absolute;top:315px;left:266px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:312px;left:581px;white-space:nowrap" class="ft652">O</p>
<p style="position:absolute;top:312px;left:711px;white-space:nowrap" class="ft652">O</p>
<p style="position:absolute;top:331px;left:109px;white-space:nowrap" class="ft6562">Tspi_TPM_CreateEndorsementKey<br/>Tspi_TPM_GetPubEndorsementKey</p>
<p style="position:absolute;top:355px;left:394px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:372px;left:109px;white-space:nowrap" class="ft652">Tspi_TPM_TakeOwnership</p>
<p style="position:absolute;top:375px;left:321px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:372px;left:582px;white-space:nowrap" class="ft652">X</p>
<p style="position:absolute;top:392px;left:109px;white-space:nowrap" class="ft652">Tspi_TPM_CollateIdentityRequest</p>
<p style="position:absolute;top:395px;left:382px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:392px;left:711px;white-space:nowrap" class="ft652">O</p>
<p style="position:absolute;top:412px;left:109px;white-space:nowrap" class="ft652">Tspi_TPM_ActivateIdentity</p>
<p style="position:absolute;top:412px;left:711px;white-space:nowrap" class="ft652">O</p>
<p style="position:absolute;top:432px;left:109px;white-space:nowrap" class="ft652">Tspi_TPM_ClearOwner</p>
<p style="position:absolute;top:435px;left:290px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:432px;left:582px;white-space:nowrap" class="ft652">X</p>
<p style="position:absolute;top:452px;left:109px;white-space:nowrap" class="ft652">Tspi_TPM_SetStatus</p>
<p style="position:absolute;top:456px;left:273px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:452px;left:581px;white-space:nowrap" class="ft652">O</p>
<p style="position:absolute;top:472px;left:109px;white-space:nowrap" class="ft652">Tspi_TPM_GetStatus</p>
<p style="position:absolute;top:476px;left:275px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:472px;left:581px;white-space:nowrap" class="ft652">O</p>
<p style="position:absolute;top:492px;left:109px;white-space:nowrap" class="ft652">Tspi_TPM_SelfTestFull</p>
<p style="position:absolute;top:496px;left:289px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:512px;left:109px;white-space:nowrap" class="ft652">Tspi_TPM_CertifySelfTest</p>
<p style="position:absolute;top:512px;left:711px;white-space:nowrap" class="ft652">O</p>
<p style="position:absolute;top:532px;left:109px;white-space:nowrap" class="ft652">Tspi_TPM_GetTestResult</p>
<p style="position:absolute;top:536px;left:310px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:532px;left:582px;white-space:nowrap" class="ft652">X</p>
<p style="position:absolute;top:552px;left:109px;white-space:nowrap" class="ft652">Tspi_TPM_GetCapability</p>
<p style="position:absolute;top:556px;left:305px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:552px;left:579px;white-space:nowrap" class="ft652">O&#160;</p>
<p style="position:absolute;top:572px;left:109px;white-space:nowrap" class="ft6562">Tspi_TPM_GetCapabilitySigned<br/>Tspi_TPM_CreateMaintenanceArchive<br/>Tspi_TPM_LoadMaintenanceArchive<br/>Tspi_TPM_KillMaintenanceFeature<br/>Tspi_TPM_LoadMaintenancePubKey<br/>Tspi_TPM_CheckMaintenancePubKey<br/>Tspi_TPM_SetRedirection<br/>Tspi_TPM_GetRandom</p>
<p style="position:absolute;top:716px;left:291px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:712px;left:582px;white-space:nowrap" class="ft652">X</p>
<p style="position:absolute;top:732px;left:109px;white-space:nowrap" class="ft652">Tspi_TPM_StirRandom</p>
<p style="position:absolute;top:736px;left:290px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:732px;left:712px;white-space:nowrap" class="ft652">X</p>
<p style="position:absolute;top:752px;left:109px;white-space:nowrap" class="ft652">Tspi_TPM_AuthorizeMigrationTicket</p>
<p style="position:absolute;top:756px;left:400px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:772px;left:109px;white-space:nowrap" class="ft6562">Tspi_TPM_GetEvent<br/>Tspi_TPM_GetEvents<br/>Tspi_TPM_GetEventLog<br/>Tspi_TPM_Quote</p>
<p style="position:absolute;top:836px;left:244px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:832px;left:708px;white-space:nowrap" class="ft652">O&#160;</p>
<p style="position:absolute;top:852px;left:109px;white-space:nowrap" class="ft652">Tspi_TPM_PcrExtend</p>
<p style="position:absolute;top:856px;left:277px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:852px;left:581px;white-space:nowrap" class="ft652">O</p>
<p style="position:absolute;top:852px;left:711px;white-space:nowrap" class="ft652">O</p>
<p style="position:absolute;top:873px;left:109px;white-space:nowrap" class="ft652">Tspi_TPM_PcrRead</p>
<p style="position:absolute;top:876px;left:261px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:873px;left:582px;white-space:nowrap" class="ft652">X</p>
<p style="position:absolute;top:873px;left:712px;white-space:nowrap" class="ft652">X</p>
<p style="position:absolute;top:893px;left:109px;white-space:nowrap" class="ft6562">Tspi_TPM_DirWrite<br/>Tspi_TPM_DirRead<br/>Tspi_ChangeAuth</p>
<p style="position:absolute;top:936px;left:253px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:933px;left:582px;white-space:nowrap" class="ft652">X</p>
<p style="position:absolute;top:953px;left:109px;white-space:nowrap" class="ft652">Tspi_GetPolicyObject</p>
<p style="position:absolute;top:956px;left:282px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:953px;left:582px;white-space:nowrap" class="ft652">X</p>
<p style="position:absolute;top:973px;left:109px;white-space:nowrap" class="ft6562">Key related<br/>Tspi_SetAttribUint32</p>
<p style="position:absolute;top:996px;left:279px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:993px;left:579px;white-space:nowrap" class="ft652">O O&#160;</p>
<p style="position:absolute;top:1013px;left:109px;white-space:nowrap" class="ft652">Tspi_GetAttribUint32</p>
<p style="position:absolute;top:1016px;left:281px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:1013px;left:579px;white-space:nowrap" class="ft652">O O&#160;</p>
<p style="position:absolute;top:1033px;left:109px;white-space:nowrap" class="ft652">Tspi_SetAttribData</p>
<p style="position:absolute;top:1036px;left:263px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:1033px;left:579px;white-space:nowrap" class="ft652">O O&#160;</p>
<p style="position:absolute;top:1053px;left:109px;white-space:nowrap" class="ft652">Tspi_GetAttribData</p>
<p style="position:absolute;top:1056px;left:266px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:1053px;left:579px;white-space:nowrap" class="ft652">O O&#160;</p>
<p style="position:absolute;top:1073px;left:109px;white-space:nowrap" class="ft652">Tspi_Key_LoadKey</p>
<p style="position:absolute;top:1077px;left:260px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:1073px;left:582px;white-space:nowrap" class="ft652">X</p>
<p style="position:absolute;top:1093px;left:109px;white-space:nowrap" class="ft652">Tspi_Key_GetPubKey</p>
<p style="position:absolute;top:1097px;left:281px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:1093px;left:582px;white-space:nowrap" class="ft652">X</p>
<p style="position:absolute;top:1113px;left:109px;white-space:nowrap" class="ft652">Tspi_Key_CertifyKey</p>
<p style="position:absolute;top:1117px;left:276px;white-space:nowrap" class="ft6545">&#160;</p>
<p style="position:absolute;top:1113px;left:585px;white-space:nowrap" class="ft652">&#160;</p>
<p style="position:absolute;top:1113px;left:712px;white-space:nowrap" class="ft652">X</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft657">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft657">18/53</p>
</div>
<!-- Page 66 -->
<a name="66"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page66-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2066.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft667">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft667">RC&#160;1.0</p>
<p style="position:absolute;top:152px;left:109px;white-space:nowrap" class="ft666"><b>TSS&#160;Service&#160;Provider Function&#160;as specified<br/>by&#160;TCG</b></p>
<p style="position:absolute;top:152px;left:557px;white-space:nowrap" class="ft661"><b>Step-1</b></p>
<p style="position:absolute;top:171px;left:539px;white-space:nowrap" class="ft661"><b>Supported</b></p>
<p style="position:absolute;top:152px;left:687px;white-space:nowrap" class="ft661"><b>Step-2</b></p>
<p style="position:absolute;top:171px;left:669px;white-space:nowrap" class="ft661"><b>Supported</b></p>
<p style="position:absolute;top:191px;left:109px;white-space:nowrap" class="ft662">Tspi_Key_CreateKey</p>
<p style="position:absolute;top:195px;left:276px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:191px;left:581px;white-space:nowrap" class="ft662">O</p>
<p style="position:absolute;top:191px;left:711px;white-space:nowrap" class="ft662">O</p>
<p style="position:absolute;top:211px;left:109px;white-space:nowrap" class="ft6662">Tspi_Key_WrapKey<br/>Tspi_Key_CreateMigrationBlob</p>
<p style="position:absolute;top:235px;left:359px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:231px;left:711px;white-space:nowrap" class="ft662">O</p>
<p style="position:absolute;top:251px;left:109px;white-space:nowrap" class="ft662">Tspi_Key_ConvertMigrationBlob</p>
<p style="position:absolute;top:255px;left:369px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:251px;left:711px;white-space:nowrap" class="ft662">O</p>
<p style="position:absolute;top:272px;left:109px;white-space:nowrap" class="ft662">Tspi_ChangeAuth</p>
<p style="position:absolute;top:275px;left:253px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:272px;left:582px;white-space:nowrap" class="ft662">X</p>
<p style="position:absolute;top:291px;left:109px;white-space:nowrap" class="ft6662">Tspi_ChangeAuthAsym<br/>Tspi_GetPolicyObject</p>
<p style="position:absolute;top:315px;left:282px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:312px;left:582px;white-space:nowrap" class="ft662">X</p>
<p style="position:absolute;top:331px;left:109px;white-space:nowrap" class="ft6662">Hash related<br/>Tspi_Hash_Sign</p>
<p style="position:absolute;top:355px;left:237px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:352px;left:582px;white-space:nowrap" class="ft662">X</p>
<p style="position:absolute;top:372px;left:109px;white-space:nowrap" class="ft662">Tspi_Hash_VerifySignature</p>
<p style="position:absolute;top:372px;left:581px;white-space:nowrap" class="ft662">O</p>
<p style="position:absolute;top:392px;left:109px;white-space:nowrap" class="ft662">Tspi_Hash_SetHashValue</p>
<p style="position:absolute;top:395px;left:316px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:392px;left:581px;white-space:nowrap" class="ft662">O</p>
<p style="position:absolute;top:412px;left:109px;white-space:nowrap" class="ft662">Tspi_Hash_GetHashValue</p>
<p style="position:absolute;top:415px;left:318px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:412px;left:581px;white-space:nowrap" class="ft662">O</p>
<p style="position:absolute;top:432px;left:109px;white-space:nowrap" class="ft662">Tspi_Hash_UpdateHashValue</p>
<p style="position:absolute;top:432px;left:715px;white-space:nowrap" class="ft662">&#160;</p>
<p style="position:absolute;top:452px;left:109px;white-space:nowrap" class="ft6662">Data&#160;related<br/>Tspi_SetAttribUint32<br/>Tspi_GetAttribUint32<br/>Tspi_SetAttribData</p>
<p style="position:absolute;top:515px;left:263px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:512px;left:581px;white-space:nowrap" class="ft662">O</p>
<p style="position:absolute;top:532px;left:109px;white-space:nowrap" class="ft662">Tspi_GetAttribData</p>
<p style="position:absolute;top:535px;left:266px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:532px;left:581px;white-space:nowrap" class="ft662">O</p>
<p style="position:absolute;top:552px;left:109px;white-space:nowrap" class="ft662">Tspi_Data_Bind</p>
<p style="position:absolute;top:555px;left:235px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:572px;left:109px;white-space:nowrap" class="ft662">Tspi_Data_Unbind</p>
<p style="position:absolute;top:576px;left:257px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:592px;left:109px;white-space:nowrap" class="ft662">Tspi_Data_Seal</p>
<p style="position:absolute;top:596px;left:234px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:592px;left:582px;white-space:nowrap" class="ft662">X</p>
<p style="position:absolute;top:612px;left:109px;white-space:nowrap" class="ft662">Tspi_Data_Unseal</p>
<p style="position:absolute;top:616px;left:255px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:612px;left:582px;white-space:nowrap" class="ft662">X</p>
<p style="position:absolute;top:632px;left:109px;white-space:nowrap" class="ft662">Tspi_ChangeAuth</p>
<p style="position:absolute;top:636px;left:253px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:632px;left:582px;white-space:nowrap" class="ft662">X</p>
<p style="position:absolute;top:652px;left:109px;white-space:nowrap" class="ft6662">Tspi_ChangeAuthAsym<br/>Tspi_GetPolicyObject</p>
<p style="position:absolute;top:676px;left:282px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:672px;left:582px;white-space:nowrap" class="ft662">X</p>
<p style="position:absolute;top:692px;left:109px;white-space:nowrap" class="ft664">NV&#160;related<br/>Tspi_SetAttribUint32</p>
<p style="position:absolute;top:712px;left:711px;white-space:nowrap" class="ft662">O</p>
<p style="position:absolute;top:732px;left:109px;white-space:nowrap" class="ft662">Tspi_GetAttribUint32</p>
<p style="position:absolute;top:732px;left:711px;white-space:nowrap" class="ft662">O</p>
<p style="position:absolute;top:752px;left:109px;white-space:nowrap" class="ft662">Tspi_SetAttribData</p>
<p style="position:absolute;top:756px;left:263px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:772px;left:109px;white-space:nowrap" class="ft662">Tspi_GetAttribData</p>
<p style="position:absolute;top:776px;left:266px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:772px;left:711px;white-space:nowrap" class="ft662">O</p>
<p style="position:absolute;top:792px;left:109px;white-space:nowrap" class="ft664">Tspi_NV_DefineSpace<br/>Tspi_NV_ReleaseSpace<br/>Tspi_NV_WriteValue</p>
<p style="position:absolute;top:832px;left:712px;white-space:nowrap" class="ft662">X</p>
<p style="position:absolute;top:852px;left:109px;white-space:nowrap" class="ft6662">Tspi_NV_ReadValue<br/>PcrComposite&#160;related<br/>Tspi_PcrComposite_SelectPcrIndex</p>
<p style="position:absolute;top:896px;left:395px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:892px;left:712px;white-space:nowrap" class="ft662">X</p>
<p style="position:absolute;top:912px;left:109px;white-space:nowrap" class="ft662">Tspi_PcrComosite_SetPcrValue</p>
<p style="position:absolute;top:916px;left:362px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:912px;left:712px;white-space:nowrap" class="ft662">X</p>
<p style="position:absolute;top:933px;left:109px;white-space:nowrap" class="ft662">Tspi_PcrComposite_GetPcrValue</p>
<p style="position:absolute;top:936px;left:375px;white-space:nowrap" class="ft6645">&#160;</p>
<p style="position:absolute;top:933px;left:712px;white-space:nowrap" class="ft662">X</p>
<p style="position:absolute;top:952px;left:109px;white-space:nowrap" class="ft664">Callback&#160;Function&#160;Definitions<br/>Tspip_CallbackHMACAuth<br/>Tspip_CallbackXorEnc</p>
<p style="position:absolute;top:993px;left:712px;white-space:nowrap" class="ft662">X</p>
<p style="position:absolute;top:1013px;left:109px;white-space:nowrap" class="ft664">Tspip_CallbackTakeOwnership<br/>Tspip_CallbackChangeAuthAsym</p>
<p style="position:absolute;top:1072px;left:85px;white-space:nowrap" class="ft662">O</p>
<p style="position:absolute;top:1072px;left:128px;white-space:nowrap" class="ft664">The implementation&#160;doesn’t support&#160;all&#160;possible&#160;parameter&#160;features&#160;as described<br/>by TCG&#160;</p>
<p style="position:absolute;top:1119px;left:225px;white-space:nowrap" class="ft667">Table&#160;3: TSS&#160;Service&#160;Provider&#160;Function&#160;as&#160;specified by&#160;TCG</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft667">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft667">19/53</p>
</div>
<!-- Page 67 -->
<a name="67"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page67-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2067.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft677">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft677">RC&#160;1.0</p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft6712"><b>3.2.2&#160;List&#160;of supported&#160;TSS Core&#160;Service&#160;Interface&#160;Functions</b></p>
<p style="position:absolute;top:244px;left:95px;white-space:nowrap" class="ft676"><b>TSS Core&#160;Service Function&#160;as&#160;specified by<br/>TCG</b></p>
<p style="position:absolute;top:244px;left:577px;white-space:nowrap" class="ft671"><b>Step-1</b></p>
<p style="position:absolute;top:263px;left:559px;white-space:nowrap" class="ft671"><b>Supported</b></p>
<p style="position:absolute;top:244px;left:709px;white-space:nowrap" class="ft671"><b>Step-2</b></p>
<p style="position:absolute;top:263px;left:697px;white-space:nowrap" class="ft671"><b>Supporte</b></p>
<p style="position:absolute;top:282px;left:734px;white-space:nowrap" class="ft671"><b>d</b></p>
<p style="position:absolute;top:302px;left:95px;white-space:nowrap" class="ft671"><b>Context&#160;related</b></p>
<p style="position:absolute;top:322px;left:95px;white-space:nowrap" class="ft672">Core Service functionality&#160;covered&#160;by&#160;DCOM</p>
<p style="position:absolute;top:326px;left:462px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:342px;left:95px;white-space:nowrap" class="ft672">TCS_OpenContext</p>
<p style="position:absolute;top:346px;left:244px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:342px;left:602px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:362px;left:95px;white-space:nowrap" class="ft672">TCS_CloseContext</p>
<p style="position:absolute;top:366px;left:245px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:362px;left:602px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:382px;left:95px;white-space:nowrap" class="ft672">TCS_FreeMemory</p>
<p style="position:absolute;top:386px;left:239px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:382px;left:602px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:403px;left:95px;white-space:nowrap" class="ft672">TCS_GetCapability</p>
<p style="position:absolute;top:406px;left:247px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:403px;left:601px;white-space:nowrap" class="ft672">O</p>
<p style="position:absolute;top:402px;left:733px;white-space:nowrap" class="ft672">O</p>
<p style="position:absolute;top:422px;left:95px;white-space:nowrap" class="ft671"><b>Persistent&#160;Storage&#160;related</b></p>
<p style="position:absolute;top:443px;left:95px;white-space:nowrap" class="ft672">TCSP_LoadKeyByUUID</p>
<p style="position:absolute;top:446px;left:278px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:442px;left:733px;white-space:nowrap" class="ft672">O</p>
<p style="position:absolute;top:463px;left:95px;white-space:nowrap" class="ft672">TCS_RegisterKey</p>
<p style="position:absolute;top:466px;left:235px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:463px;left:733px;white-space:nowrap" class="ft672">O</p>
<p style="position:absolute;top:483px;left:95px;white-space:nowrap" class="ft672">TCSP_UnregisterKey</p>
<p style="position:absolute;top:486px;left:262px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:483px;left:733px;white-space:nowrap" class="ft672">O</p>
<p style="position:absolute;top:503px;left:95px;white-space:nowrap" class="ft6762">TCS_EnumRegisteredKeys<br/>TCS_GetRegisteredKey</p>
<p style="position:absolute;top:523px;left:733px;white-space:nowrap" class="ft672">O</p>
<p style="position:absolute;top:543px;left:95px;white-space:nowrap" class="ft672">TCS_GetRegisteredKeyBlob</p>
<p style="position:absolute;top:543px;left:733px;white-space:nowrap" class="ft672">O</p>
<p style="position:absolute;top:563px;left:95px;white-space:nowrap" class="ft672">TCSP_GetRegisteredKeyByPublicInfo</p>
<p style="position:absolute;top:583px;left:95px;white-space:nowrap" class="ft671"><b>Authorization&#160;related</b></p>
<p style="position:absolute;top:604px;left:95px;white-space:nowrap" class="ft672">TCSP_OIAP</p>
<p style="position:absolute;top:607px;left:184px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:604px;left:602px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:624px;left:95px;white-space:nowrap" class="ft672">TCSP_OSAP</p>
<p style="position:absolute;top:627px;left:190px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:624px;left:602px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:644px;left:95px;white-space:nowrap" class="ft672">TCSP_TerminateHandle</p>
<p style="position:absolute;top:647px;left:288px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:644px;left:602px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:664px;left:95px;white-space:nowrap" class="ft672">TCSP_ChangeAuth</p>
<p style="position:absolute;top:667px;left:247px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:664px;left:602px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:684px;left:95px;white-space:nowrap" class="ft672">TCSP_ChangeAuthOwner</p>
<p style="position:absolute;top:687px;left:301px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:684px;left:602px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:704px;left:95px;white-space:nowrap" class="ft674">TCSP_ChangeAuthAsymStart<br/>TCSP_ChangeAuthAsymFinish</p>
<p style="position:absolute;top:744px;left:95px;white-space:nowrap" class="ft671"><b>TPM related</b></p>
<p style="position:absolute;top:764px;left:95px;white-space:nowrap" class="ft6762">TCSP_CreateEndorsementKey<br/>TCSP_ReadPubek</p>
<p style="position:absolute;top:787px;left:238px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:784px;left:602px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:804px;left:95px;white-space:nowrap" class="ft672">TCSP_OwnerReadPubek</p>
<p style="position:absolute;top:807px;left:292px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:804px;left:602px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:824px;left:95px;white-space:nowrap" class="ft672">TCSP_OwnerReadInternalPub</p>
<p style="position:absolute;top:828px;left:336px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:824px;left:602px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:844px;left:95px;white-space:nowrap" class="ft672">TCSP_TakeOwnership</p>
<p style="position:absolute;top:848px;left:273px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:844px;left:602px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:864px;left:95px;white-space:nowrap" class="ft672">TCSP_OwnerClear</p>
<p style="position:absolute;top:868px;left:242px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:864px;left:602px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:884px;left:95px;white-space:nowrap" class="ft672">TCSP_ForceClear</p>
<p style="position:absolute;top:888px;left:234px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:884px;left:602px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:905px;left:95px;white-space:nowrap" class="ft672">TCSP_DisableOwnerClear</p>
<p style="position:absolute;top:908px;left:303px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:925px;left:95px;white-space:nowrap" class="ft672">TCSP_DisableForceClear</p>
<p style="position:absolute;top:928px;left:295px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:945px;left:95px;white-space:nowrap" class="ft672">TCSP_OwnerSetDisable</p>
<p style="position:absolute;top:948px;left:287px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:965px;left:95px;white-space:nowrap" class="ft672">TCSP_PhysicalDisable</p>
<p style="position:absolute;top:968px;left:273px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:965px;left:602px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:985px;left:95px;white-space:nowrap" class="ft672">TCSP_PhysicalEnable</p>
<p style="position:absolute;top:988px;left:268px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:985px;left:602px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:1005px;left:95px;white-space:nowrap" class="ft672">TCSP_PhysicalSetDeactivated</p>
<p style="position:absolute;top:1009px;left:339px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:1005px;left:602px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:1005px;left:734px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:1025px;left:95px;white-space:nowrap" class="ft672">TCSP_SetTempDeactivated</p>
<p style="position:absolute;top:1029px;left:319px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:1025px;left:734px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:1045px;left:95px;white-space:nowrap" class="ft672">TCSP_SetOwnerInstall</p>
<p style="position:absolute;top:1049px;left:276px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:1045px;left:602px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:1065px;left:95px;white-space:nowrap" class="ft672">TCSP_DisablePubekRead</p>
<p style="position:absolute;top:1069px;left:299px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:1085px;left:95px;white-space:nowrap" class="ft672">TCSP_GetCapabilityOwner</p>
<p style="position:absolute;top:1089px;left:311px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:1105px;left:95px;white-space:nowrap" class="ft672">TCSP_SelfTestFull</p>
<p style="position:absolute;top:1109px;left:241px;white-space:nowrap" class="ft6745">&#160;</p>
<p style="position:absolute;top:1105px;left:734px;white-space:nowrap" class="ft672">X</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft677">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft677">20/53</p>
</div>
<!-- Page 68 -->
<a name="68"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page68-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2068.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft687">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft687">RC&#160;1.0</p>
<p style="position:absolute;top:152px;left:95px;white-space:nowrap" class="ft686"><b>TSS Core&#160;Service Function&#160;as&#160;specified by<br/>TCG</b></p>
<p style="position:absolute;top:152px;left:577px;white-space:nowrap" class="ft681"><b>Step-1</b></p>
<p style="position:absolute;top:171px;left:559px;white-space:nowrap" class="ft681"><b>Supported</b></p>
<p style="position:absolute;top:152px;left:709px;white-space:nowrap" class="ft681"><b>Step-2</b></p>
<p style="position:absolute;top:171px;left:697px;white-space:nowrap" class="ft681"><b>Supporte</b></p>
<p style="position:absolute;top:190px;left:734px;white-space:nowrap" class="ft681"><b>d</b></p>
<p style="position:absolute;top:210px;left:95px;white-space:nowrap" class="ft6862">TCSP_CertifySelfTest<br/>TCSP_GetTestResult</p>
<p style="position:absolute;top:234px;left:262px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:250px;left:95px;white-space:nowrap" class="ft682">TCSP_GetCapability</p>
<p style="position:absolute;top:254px;left:257px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:250px;left:601px;white-space:nowrap" class="ft682">O</p>
<p style="position:absolute;top:250px;left:733px;white-space:nowrap" class="ft682">O</p>
<p style="position:absolute;top:270px;left:95px;white-space:nowrap" class="ft6862">TCSP_GetCapabilitySigned<br/>TCSP_CreateMaintenanceArchive<br/>TCSP_LoadMaintenanceArchive<br/>TCSP_KillMaintenanceFeature<br/>TCSP_LoadManuMaintPub<br/>TCSP_ReadManuMaintPub<br/>TCSP_FieldUpgrade</p>
<p style="position:absolute;top:394px;left:255px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:390px;left:734px;white-space:nowrap" class="ft682">X</p>
<p style="position:absolute;top:410px;left:95px;white-space:nowrap" class="ft6862">TCSP_SetRedirection<br/>TCSP_GetRandom</p>
<p style="position:absolute;top:434px;left:243px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:430px;left:602px;white-space:nowrap" class="ft682">X</p>
<p style="position:absolute;top:450px;left:95px;white-space:nowrap" class="ft682">TCSP_StirRandom</p>
<p style="position:absolute;top:454px;left:242px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:470px;left:95px;white-space:nowrap" class="ft682">TCSP_Quote</p>
<p style="position:absolute;top:474px;left:195px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:470px;left:602px;white-space:nowrap" class="ft682">X</p>
<p style="position:absolute;top:491px;left:95px;white-space:nowrap" class="ft682">TCSP_Extend</p>
<p style="position:absolute;top:494px;left:203px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:491px;left:602px;white-space:nowrap" class="ft682">X</p>
<p style="position:absolute;top:511px;left:95px;white-space:nowrap" class="ft682">TCSP_PcrRead</p>
<p style="position:absolute;top:514px;left:213px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:511px;left:602px;white-space:nowrap" class="ft682">X</p>
<p style="position:absolute;top:531px;left:95px;white-space:nowrap" class="ft682">TCSP_DirWriteAuth</p>
<p style="position:absolute;top:534px;left:252px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:551px;left:95px;white-space:nowrap" class="ft682">TCSP_DirRead</p>
<p style="position:absolute;top:554px;left:211px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:571px;left:95px;white-space:nowrap" class="ft682">TCSP_SetCapability</p>
<p style="position:absolute;top:571px;left:733px;white-space:nowrap" class="ft682">O</p>
<p style="position:absolute;top:591px;left:95px;white-space:nowrap" class="ft682">TCSP_FlushSpecific</p>
<p style="position:absolute;top:591px;left:602px;white-space:nowrap" class="ft682">X</p>
<p style="position:absolute;top:611px;left:95px;white-space:nowrap" class="ft684">TCSP_ResetLockValue<br/>TCSP_OwnerReadInternalPub</p>
<p style="position:absolute;top:631px;left:734px;white-space:nowrap" class="ft682">X</p>
<p style="position:absolute;top:651px;left:95px;white-space:nowrap" class="ft684">TCSP_KeyControlOwner<br/>TCSP_CreateRevocableEndorsementKeyPair<br/>TCSP_RevokeEndorsementKeyPair</p>
<p style="position:absolute;top:710px;left:95px;white-space:nowrap" class="ft681"><b>PCREvent&#160; related</b></p>
<p style="position:absolute;top:730px;left:95px;white-space:nowrap" class="ft684">TCS_GetPcrEvent<br/>TCS_GetPcrEventsByPcr<br/>TCS_GetPcrEventLog<br/>TCS_LogPcrEvent</p>
<p style="position:absolute;top:810px;left:95px;white-space:nowrap" class="ft681"><b>Key&#160;related</b></p>
<p style="position:absolute;top:830px;left:95px;white-space:nowrap" class="ft682">TCSP_EvictKey</p>
<p style="position:absolute;top:834px;left:216px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:830px;left:602px;white-space:nowrap" class="ft682">X</p>
<p style="position:absolute;top:850px;left:95px;white-space:nowrap" class="ft682">TCSP_LoadKeyByBlob</p>
<p style="position:absolute;top:854px;left:273px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:850px;left:602px;white-space:nowrap" class="ft682">X</p>
<p style="position:absolute;top:870px;left:95px;white-space:nowrap" class="ft682">TCSP_GetPubkey</p>
<p style="position:absolute;top:874px;left:235px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:870px;left:602px;white-space:nowrap" class="ft682">X</p>
<p style="position:absolute;top:891px;left:95px;white-space:nowrap" class="ft682">TCSP_CertifyKey</p>
<p style="position:absolute;top:894px;left:231px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:911px;left:95px;white-space:nowrap" class="ft682">TCSP_CreateWrapKey</p>
<p style="position:absolute;top:914px;left:275px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:911px;left:602px;white-space:nowrap" class="ft682">X</p>
<p style="position:absolute;top:931px;left:95px;white-space:nowrap" class="ft684">TCSP_LoadKey2ByBlob<br/>TCSP_MigrateKey</p>
<p style="position:absolute;top:951px;left:737px;white-space:nowrap" class="ft682">&#160;</p>
<p style="position:absolute;top:970px;left:95px;white-space:nowrap" class="ft681"><b>AIK related&#160;</b></p>
<p style="position:absolute;top:991px;left:95px;white-space:nowrap" class="ft682">TCSP_MakeIdentity</p>
<p style="position:absolute;top:994px;left:252px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:990px;left:734px;white-space:nowrap" class="ft682">X</p>
<p style="position:absolute;top:1011px;left:95px;white-space:nowrap" class="ft682">TCSP_ActivateIdentity</p>
<p style="position:absolute;top:1014px;left:276px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:1011px;left:734px;white-space:nowrap" class="ft682">X</p>
<p style="position:absolute;top:1031px;left:95px;white-space:nowrap" class="ft681"><b>Migration&#160;related</b></p>
<p style="position:absolute;top:1051px;left:95px;white-space:nowrap" class="ft682">TCSP_AuthorizeMigrationKey</p>
<p style="position:absolute;top:1054px;left:333px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:1071px;left:95px;white-space:nowrap" class="ft682">TCSP_CreateMigrationBlob</p>
<p style="position:absolute;top:1074px;left:315px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:1091px;left:95px;white-space:nowrap" class="ft682">TCSP_ConvertMigrationBlob</p>
<p style="position:absolute;top:1094px;left:325px;white-space:nowrap" class="ft6845">&#160;</p>
<p style="position:absolute;top:1111px;left:95px;white-space:nowrap" class="ft681"><b>Hash related</b></p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft687">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft687">21/53</p>
</div>
<!-- Page 69 -->
<a name="69"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page69-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2069.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft697">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft697">RC&#160;1.0</p>
<p style="position:absolute;top:152px;left:95px;white-space:nowrap" class="ft696"><b>TSS Core&#160;Service Function&#160;as&#160;specified by<br/>TCG</b></p>
<p style="position:absolute;top:152px;left:577px;white-space:nowrap" class="ft691"><b>Step-1</b></p>
<p style="position:absolute;top:171px;left:559px;white-space:nowrap" class="ft691"><b>Supported</b></p>
<p style="position:absolute;top:152px;left:709px;white-space:nowrap" class="ft691"><b>Step-2</b></p>
<p style="position:absolute;top:171px;left:697px;white-space:nowrap" class="ft691"><b>Supporte</b></p>
<p style="position:absolute;top:190px;left:734px;white-space:nowrap" class="ft691"><b>d</b></p>
<p style="position:absolute;top:210px;left:95px;white-space:nowrap" class="ft692">TCSP_Sign</p>
<p style="position:absolute;top:214px;left:181px;white-space:nowrap" class="ft6945">&#160;</p>
<p style="position:absolute;top:210px;left:602px;white-space:nowrap" class="ft692">X</p>
<p style="position:absolute;top:230px;left:95px;white-space:nowrap" class="ft691"><b>Data&#160;related</b></p>
<p style="position:absolute;top:250px;left:95px;white-space:nowrap" class="ft692">TCSP_Unbind</p>
<p style="position:absolute;top:254px;left:204px;white-space:nowrap" class="ft6945">&#160;</p>
<p style="position:absolute;top:250px;left:734px;white-space:nowrap" class="ft692">X</p>
<p style="position:absolute;top:270px;left:95px;white-space:nowrap" class="ft692">TCSP_Seal</p>
<p style="position:absolute;top:274px;left:180px;white-space:nowrap" class="ft6945">&#160;</p>
<p style="position:absolute;top:270px;left:602px;white-space:nowrap" class="ft692">X</p>
<p style="position:absolute;top:291px;left:95px;white-space:nowrap" class="ft692">TCSP_Unseal</p>
<p style="position:absolute;top:294px;left:201px;white-space:nowrap" class="ft6945">&#160;</p>
<p style="position:absolute;top:291px;left:602px;white-space:nowrap" class="ft692">X</p>
<p style="position:absolute;top:311px;left:95px;white-space:nowrap" class="ft691"><b>NV&#160;related</b></p>
<p style="position:absolute;top:330px;left:95px;white-space:nowrap" class="ft694">Tcsip_NV_DefineOrReleaseSpace<br/>Tcsip_NV_WriteValue<br/>Tcsip_NV_WriteValueAuth<br/>Tcsip_NV_ReadValue<br/>Tcsip_NV_ReadValueAuth</p>
<p style="position:absolute;top:469px;left:85px;white-space:nowrap" class="ft692">O</p>
<p style="position:absolute;top:469px;left:128px;white-space:nowrap" class="ft694">The implementation&#160;doesn’t support&#160;all&#160;possible&#160;parameter&#160;features&#160;as described<br/>by TCG&#160;</p>
<p style="position:absolute;top:535px;left:236px;white-space:nowrap" class="ft697">Table&#160;4:&#160;TSS Core&#160;Service &#160;Function as&#160;specified by&#160;TCG</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft697">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft697">22/53</p>
</div>
<!-- Page 70 -->
<a name="70"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page70-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2070.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft707">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft707">RC&#160;1.0</p>
<p style="position:absolute;top:200px;left:85px;white-space:nowrap" class="ft7010"><b>4&#160;</b></p>
<p style="position:absolute;top:197px;left:117px;white-space:nowrap" class="ft7011"><b>TSS module architectural overview&#160;</b></p>
<p style="position:absolute;top:245px;left:85px;white-space:nowrap" class="ft701"><b>4.1&#160;TCG-TSP architectural&#160;building&#160;blocks</b></p>
<p style="position:absolute;top:293px;left:85px;white-space:nowrap" class="ft704">This&#160;module&#160;provides&#160;TCG&#160;services&#160;for applications.&#160;It delivers&#160;the&#160;high-level&#160;TCG<br/>functions allowing&#160;applications&#160;to&#160;focus on&#160;their&#160;specialty while relying on&#160;the TSP&#160;to<br/>perform&#160;most&#160;of the trusted&#160;functions&#160;provided&#160;by&#160;the&#160;TPM.&#160;This&#160;module&#160;also&#160;provides<br/>a small&#160;number&#160;of auxiliary&#160;functions&#160;for&#160;convenience&#160;not&#160;provided&#160;by&#160;the&#160;TPM&#160;such&#160;as<br/>signature&#160;verification.<br/>In&#160;environments&#160;that&#160;provide&#160;layers of&#160;protections&#160;(i.e.,&#160;rings)&#160;or&#160;separation&#160;of<br/>applications&#160;into processes,&#160;this&#160;module&#160;is&#160;intended&#160;to&#160;reside&#160;within the&#160;same&#160;ring&#160;and<br/>process&#160;as&#160;the application.&#160;There will&#160;likely&#160;be&#160;one&#160;TSP&#160;per&#160;application.&#160;On&#160;operating<br/>systems&#160;that&#160;provide&#160;multiple&#160;processes,&#160;there&#160;may&#160;be&#160;multiple&#160;instances&#160;of TSP’s<br/>running&#160;on&#160;the platform.</p>
<p style="position:absolute;top:591px;left:284px;white-space:nowrap" class="ft7049">TCG&#160;-Aware&#160;-Application</p>
<p style="position:absolute;top:1026px;left:366px;white-space:nowrap" class="ft7050"><b>Basic&#160;architectural&#160;building blocks for TCG&#160;-TSS-Service-Provide&#160;r</b></p>
<p style="position:absolute;top:569px;left:335px;white-space:nowrap" class="ft7051">User</p>
<p style="position:absolute;top:833px;left:474px;white-space:nowrap" class="ft7049">Crypto&#160;-Service&#160;-</p>
<p style="position:absolute;top:848px;left:497px;white-space:nowrap" class="ft7049">Module</p>
<p style="position:absolute;top:706px;left:453px;white-space:nowrap" class="ft7049">Persistent&#160;-Storage&#160;-</p>
<p style="position:absolute;top:720px;left:452px;white-space:nowrap" class="ft7049">Access&#160;-Component</p>
<p style="position:absolute;top:921px;left:277px;white-space:nowrap" class="ft7049">TCG-Core&#160;-Service&#160;-Access</p>
<p style="position:absolute;top:700px;left:630px;white-space:nowrap" class="ft7054">TSP&#160;-Persistent&#160;-<br/>Storage (user)</p>
<p style="position:absolute;top:995px;left:284px;white-space:nowrap" class="ft7049">TCG-TSS&#160;-Core-Service</p>
<p style="position:absolute;top:668px;left:260px;white-space:nowrap" class="ft7049">TSP-Interface&#160;-Layer (C-Interface&#160;)</p>
<p style="position:absolute;top:676px;left:562px;white-space:nowrap" class="ft7050"><b>1</b></p>
<p style="position:absolute;top:877px;left:445px;white-space:nowrap" class="ft7049">Transport&#160;-Protection&#160;-</p>
<p style="position:absolute;top:891px;left:484px;white-space:nowrap" class="ft7049">Helper</p>
<p style="position:absolute;top:635px;left:520px;white-space:nowrap" class="ft7052"><b>TSPI-Level</b></p>
<p style="position:absolute;top:809px;left:633px;white-space:nowrap" class="ft7054">Crypto&#160;-Algorithm&#160;-<br/>Support Module&#160;&#160;(e.g.&#160;<br/>OpenSSL&#160;)&#160;</p>
<p style="position:absolute;top:793px;left:467px;white-space:nowrap" class="ft7049">Secret&#160;-Memory-</p>
<p style="position:absolute;top:807px;left:492px;white-space:nowrap" class="ft7049">Helper</p>
<p style="position:absolute;top:746px;left:143px;white-space:nowrap" class="ft7049">Setting and&#160;Policy&#160;</p>
<p style="position:absolute;top:761px;left:171px;white-space:nowrap" class="ft7049">Access</p>
<p style="position:absolute;top:753px;left:449px;white-space:nowrap" class="ft7049">Streaming&#160;-Helper-</p>
<p style="position:absolute;top:767px;left:476px;white-space:nowrap" class="ft7049">Classes</p>
<p style="position:absolute;top:791px;left:144px;white-space:nowrap" class="ft7049">Error-Handling&#160;-Class</p>
<p style="position:absolute;top:703px;left:136px;white-space:nowrap" class="ft7049">Synchronization&#160;-Helper&#160;-</p>
<p style="position:absolute;top:717px;left:180px;white-space:nowrap" class="ft7049">Module</p>
<p style="position:absolute;top:877px;left:309px;white-space:nowrap" class="ft7049">TSP&#160;-Module-</p>
<p style="position:absolute;top:891px;left:309px;white-space:nowrap" class="ft7049">Management</p>
<p style="position:absolute;top:717px;left:312px;white-space:nowrap" class="ft7049">TSP&#160;-Working-</p>
<p style="position:absolute;top:731px;left:330px;white-space:nowrap" class="ft7049">Objects</p>
<p style="position:absolute;top:777px;left:316px;white-space:nowrap" class="ft7049">Authorization&#160;-</p>
<p style="position:absolute;top:792px;left:296px;white-space:nowrap" class="ft7049">Handling&#160;-Component</p>
<p style="position:absolute;top:830px;left:319px;white-space:nowrap" class="ft7049">Auth-Session&#160;-</p>
<p style="position:absolute;top:845px;left:333px;white-space:nowrap" class="ft7049">Handling</p>
<p style="position:absolute;top:827px;left:161px;white-space:nowrap" class="ft7049">TSP-Context&#160;-</p>
<p style="position:absolute;top:841px;left:163px;white-space:nowrap" class="ft7049">Organization</p>
<p style="position:absolute;top:877px;left:149px;white-space:nowrap" class="ft7049">Common-Module-</p>
<p style="position:absolute;top:891px;left:176px;white-space:nowrap" class="ft7049">Service</p>
<p style="position:absolute;top:760px;left:249px;white-space:nowrap" class="ft7050"><b>4</b></p>
<p style="position:absolute;top:704px;left:402px;white-space:nowrap" class="ft7050"><b>2</b></p>
<p style="position:absolute;top:722px;left:267px;white-space:nowrap" class="ft7050"><b>3</b></p>
<p style="position:absolute;top:772px;left:399px;white-space:nowrap" class="ft7050"><b>5</b></p>
<p style="position:absolute;top:766px;left:555px;white-space:nowrap" class="ft7050"><b>6</b></p>
<p style="position:absolute;top:726px;left:565px;white-space:nowrap" class="ft7050"><b>7</b></p>
<p style="position:absolute;top:850px;left:562px;white-space:nowrap" class="ft7050"><b>8</b></p>
<p style="position:absolute;top:797px;left:264px;white-space:nowrap" class="ft7050"><b>9</b></p>
<p style="position:absolute;top:841px;left:261px;white-space:nowrap" class="ft7050"><b>10</b></p>
<p style="position:absolute;top:831px;left:411px;white-space:nowrap" class="ft7050"><b>11</b></p>
<p style="position:absolute;top:810px;left:442px;white-space:nowrap" class="ft7050"><b>12</b></p>
<p style="position:absolute;top:884px;left:559px;white-space:nowrap" class="ft7050"><b>13</b></p>
<p style="position:absolute;top:878px;left:405px;white-space:nowrap" class="ft7050"><b>14</b></p>
<p style="position:absolute;top:890px;left:252px;white-space:nowrap" class="ft7050"><b>15</b></p>
<p style="position:absolute;top:924px;left:559px;white-space:nowrap" class="ft7050"><b>16</b></p>
<p style="position:absolute;top:741px;left:663px;white-space:nowrap" class="ft7050"><b>17</b></p>
<p style="position:absolute;top:878px;left:656px;white-space:nowrap" class="ft7050"><b>18</b></p>
<p style="position:absolute;top:986px;left:448px;white-space:nowrap" class="ft7050"><b>19</b></p>
<p style="position:absolute;top:956px;left:225px;white-space:nowrap" class="ft7055">Local&#160;or&#160;remote&#160;<br/>calling context.</p>
<p style="position:absolute;top:942px;left:126px;white-space:nowrap" class="ft7052"><b>TSP</b></p>
<p style="position:absolute;top:1071px;left:143px;white-space:nowrap" class="ft702">Figure&#160; 3: Basic&#160;architecture&#160;building&#160;blocks for&#160;TCG&#160;TSS&#160;Service-provider</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft707">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft707">23/53</p>
</div>
<!-- Page 71 -->
<a name="71"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page71-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2071.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft717">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft717">RC&#160;1.0</p>
<p style="position:absolute;top:151px;left:112px;white-space:nowrap" class="ft711"><b>1.&#160;TSP-Interface-Layer&#160;(C-Interface)</b></p>
<p style="position:absolute;top:170px;left:138px;white-space:nowrap" class="ft714">Represents&#160;the TSPI of the TSS-Service-Provider&#160;and uses&#160;the&#160;C-Interface<br/>notation. Includes&#160;the&#160;first&#160;object&#160;access abstraction layer;&#160;accomplishing&#160;the<br/>object&#160;oriented&#160;nature&#160;of the&#160;TSP&#160;interface. Contains&#160;functionality&#160;to&#160;create&#160;and<br/>release&#160;interface&#160;layer objects which&#160;are linked&#160;to the working&#160;layer.</p>
<p style="position:absolute;top:247px;left:112px;white-space:nowrap" class="ft711"><b>2.&#160;TSP-Working-Objects</b></p>
<p style="position:absolute;top:266px;left:138px;white-space:nowrap" class="ft714">Collection&#160;of all&#160;TSP related productive&#160;objects (e.g.&#160;Key, EncData…).&#160;Act&#160;as&#160;a<br/>kind&#160;of&#160;business&#160;workflow&#160;control&#160;for&#160;all TCG related transformations&#160;and<br/>calculations.&#160;These&#160;operations&#160;are&#160;performed&#160;with&#160;assistance&#160;of the&#160;different<br/>specialized&#160;support&#160;components&#160;and&#160;classes.&#160;</p>
<p style="position:absolute;top:343px;left:112px;white-space:nowrap" class="ft711"><b>3.&#160;Synchronization-Helper-Module</b></p>
<p style="position:absolute;top:362px;left:138px;white-space:nowrap" class="ft714">Collection&#160;of some&#160;small&#160;helper&#160;classes;&#160;encapsulate&#160;the&#160;native&#160;system&#160;calls&#160;for<br/>synchronization&#160;object handling.</p>
<p style="position:absolute;top:401px;left:112px;white-space:nowrap" class="ft711"><b>4.&#160;Setting&#160;and Policy&#160;Access</b></p>
<p style="position:absolute;top:420px;left:138px;white-space:nowrap" class="ft714">Function&#160;and&#160;class&#160;pool&#160;to&#160;summarize&#160;operations&#160;used&#160;to access and&#160;validate<br/>setting information.&#160;</p>
<p style="position:absolute;top:458px;left:112px;white-space:nowrap" class="ft711"><b>5.&#160;Authorization-Handling-Component</b></p>
<p style="position:absolute;top:477px;left:138px;white-space:nowrap" class="ft714">Component&#160;contains the&#160;knowledge&#160;and TPM&#160;command&#160;parameter&#160;data&#160;for the<br/>authorization&#160;data&#160;stream&#160;construction.&#160;This unit&#160;interacts with the TSP-Policy-<br/>Class&#160;from&#160;the TSP-Working-Object&#160;and&#160;the&#160;Auth-Session-Handling&#160;module&#160;to<br/>calculate&#160;the&#160;authorization&#160;(e.g.&#160;HMAC) data&#160;package.&#160;It&#160;interacts as&#160;a kind&#160;of<br/>instrumentation&#160;factor&#160;for the&#160;TCG authorization&#160;flow.</p>
<p style="position:absolute;top:573px;left:112px;white-space:nowrap" class="ft711"><b>6.&#160;Streaming-Helper-Classes</b></p>
<p style="position:absolute;top:593px;left:138px;white-space:nowrap" class="ft714">Helper&#160;classes&#160;transform&#160;TCG structures&#160;into&#160;BYTE-Stream-Representation&#160;and<br/>verse&#160;versa.</p>
<p style="position:absolute;top:631px;left:112px;white-space:nowrap" class="ft711"><b>7.&#160;Persistent-Storage-Access-Component</b></p>
<p style="position:absolute;top:650px;left:138px;white-space:nowrap" class="ft714">Component&#160;covers&#160;the&#160;physical&#160;access&#160;and representation&#160;of&#160;the TSP&#160;persistent<br/>storage&#160;representation.&#160;The&#160;TSS&#160;specification&#160;separates&#160;the storage&#160;context&#160;into<br/>a&#160;per&#160;user&#160;boundary&#160;and&#160;in&#160;a&#160;system&#160;linked&#160;one.&#160;This&#160;functionality&#160;and&#160;the&#160;data<br/>representation&#160;reflect a TSS&#160;(i.e.&#160;TSP and&#160;TCG)&#160;common&#160;code&#160;component.</p>
<p style="position:absolute;top:727px;left:112px;white-space:nowrap" class="ft711"><b>8.&#160;Crypto-Service-Module</b></p>
<p style="position:absolute;top:746px;left:138px;white-space:nowrap" class="ft714">Abstraction&#160;layer to&#160;offer&#160;a&#160;set of cryptographic&#160;functions&#160;needed&#160;for&#160;the TCG<br/>related&#160;data&#160;transformations&#160;(e.g.&#160;HMAC, SHA1…)&#160;in&#160;the TSP. The&#160;native<br/>algorithm&#160;suite&#160;is&#160;not part&#160;of the&#160;TSP&#160;module.</p>
<p style="position:absolute;top:804px;left:112px;white-space:nowrap" class="ft711"><b>9.&#160;Error-Handling-Class</b></p>
<p style="position:absolute;top:823px;left:138px;white-space:nowrap" class="ft714">Helper&#160;class(es)&#160;used in the&#160;exception&#160;handling&#160;process&#160;of the&#160;TSS&#160;components<br/>(i.e. TSP&#160;and&#160;TCS).&#160;The structured&#160;exception&#160;concept&#160;will&#160;be used&#160;for&#160;error<br/>handling&#160;inside&#160;of&#160;the TSS&#160;modules.</p>
<p style="position:absolute;top:881px;left:112px;white-space:nowrap" class="ft711"><b>10.TSP-Context-Organization</b></p>
<p style="position:absolute;top:900px;left:138px;white-space:nowrap" class="ft714">Cover the&#160;lifetime&#160;control&#160;for all&#160;TSP context&#160;object&#160;elements. Represent a kind<br/>of garbage&#160;collection&#160;for open&#160;context&#160;resources.&#160;</p>
<p style="position:absolute;top:938px;left:112px;white-space:nowrap" class="ft711"><b>11.Auth-Session-Handling</b></p>
<p style="position:absolute;top:957px;left:138px;white-space:nowrap" class="ft714">Envelop&#160;the&#160;lifetime&#160;control&#160;for all TSP authorization&#160;sessions&#160;for&#160;a context<br/>object&#160;element.&#160;Contain functionality&#160;to&#160;validate&#160;the&#160;status&#160;of the sessions.&#160;</p>
<p style="position:absolute;top:996px;left:112px;white-space:nowrap" class="ft711"><b>12.Secret-Memory-Helper</b></p>
<p style="position:absolute;top:1015px;left:138px;white-space:nowrap" class="ft714">Offer&#160;functionality&#160;for&#160;limited&#160;permission&#160;memory&#160;area&#160;access&#160;used&#160;to store&#160;e.g.<br/>secret data.&#160;</p>
<p style="position:absolute;top:1053px;left:112px;white-space:nowrap" class="ft711"><b>13.Transport-Protection-Helper</b></p>
<p style="position:absolute;top:1073px;left:138px;white-space:nowrap" class="ft714">Set of&#160;helper&#160;function&#160;to&#160;support&#160;the construction&#160;(e.g.&#160;encrypt,&#160;decrypt…)&#160;of<br/>the transport&#160;protection&#160;related&#160;data&#160;streams.&#160;In addition&#160;export&#160;the central<br/>execution&#160;method for transport&#160;protected communication.&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft717">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft717">24/53</p>
</div>
<!-- Page 72 -->
<a name="72"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page72-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2072.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft727">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft727">RC&#160;1.0</p>
<p style="position:absolute;top:151px;left:112px;white-space:nowrap" class="ft721"><b>14.TSP-Module-Management</b></p>
<p style="position:absolute;top:170px;left:138px;white-space:nowrap" class="ft724">General&#160;operations&#160;used&#160;to&#160;administrate&#160;and&#160;arrange&#160;TSP module&#160;wide services<br/>(e.g.&#160;memory&#160;handling).&#160;&#160;</p>
<p style="position:absolute;top:209px;left:112px;white-space:nowrap" class="ft721"><b>15.Common-Module-Service</b></p>
<p style="position:absolute;top:228px;left:138px;white-space:nowrap" class="ft724">Common functions&#160;used&#160;for&#160;TSP module&#160;management&#160;(e.g.&#160;registration,&#160;load<br/>and unload).&#160;</p>
<p style="position:absolute;top:266px;left:112px;white-space:nowrap" class="ft721"><b>16.TCG-Core-Service-Access</b></p>
<p style="position:absolute;top:285px;left:138px;white-space:nowrap" class="ft724">Component&#160;covers&#160;the&#160;physical&#160;access&#160;and representation&#160;of&#160;the TCS<br/>communication.&#160;Abstraction&#160;layer offer the&#160;functions&#160;to&#160;establish,&#160;operate&#160;and<br/>close&#160;the TCS communication&#160;in a&#160;local&#160;and a&#160;remote situation.</p>
<p style="position:absolute;top:343px;left:112px;white-space:nowrap" class="ft721"><b>17.TSP-Persistent-Storage&#160;(User)</b></p>
<p style="position:absolute;top:362px;left:138px;white-space:nowrap" class="ft724">Contain&#160;the physical&#160;data&#160;representation&#160;for&#160;TSP persistent&#160;storage.&#160;The<br/>preferred&#160;mechanism&#160;would&#160;be&#160;XML&#160;based.&#160;</p>
<p style="position:absolute;top:401px;left:112px;white-space:nowrap" class="ft721"><b>18.Crypto-Algorithm-Support-Module</b></p>
<p style="position:absolute;top:420px;left:138px;white-space:nowrap" class="ft724">Extern&#160;crypto&#160;module&#160;or&#160;library&#160;(e.g.&#160;OpenSSL)&#160;which offers&#160;all&#160;basic&#160;algorithms<br/>(e.g.&#160;hashing)&#160;required&#160;to&#160;derive&#160;the&#160;TSP&#160;crypto&#160;function&#160;set&#160;(e.g.&#160;HMAC).</p>
<p style="position:absolute;top:458px;left:112px;white-space:nowrap" class="ft721"><b>19.TCG-TSS-Core-Service</b></p>
<p style="position:absolute;top:477px;left:138px;white-space:nowrap" class="ft722">System&#160;service reflects&#160;the&#160;TSS-Core-Service.&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft727">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft727">25/53</p>
</div>
<!-- Page 73 -->
<a name="73"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page73-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2073.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft737">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft737">RC&#160;1.0</p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft731"><b>4.2&#160;TCG-TCS&#160;architectural&#160;building blocks</b></p>
<p style="position:absolute;top:236px;left:85px;white-space:nowrap" class="ft734">A service&#160;provider is any component&#160;used&#160;by the&#160;application&#160;that allows that<br/>application&#160;access&#160;to the&#160;TCS&#160;(and&#160;thus the&#160;TPM)&#160;from&#160;within&#160;the application’s&#160;process.<br/>Service&#160;providers,&#160;of which the&#160;TSP is but&#160;one&#160;possible&#160;instantiation,&#160;cannot<br/>communicate&#160;directly with&#160;the&#160;TPM.&#160;Additionally,&#160;there&#160;are&#160;multiple&#160;common&#160;services<br/>that&#160;either are&#160;either required&#160;to be&#160;shared&#160;or&#160;should&#160;be shared&#160;among&#160;the set&#160;of the<br/>platform’s&#160;service providers.<br/>The TCG&#160;Core&#160;Services&#160;(TCS)&#160;provides&#160;a&#160;common&#160;set of services per&#160;platform&#160;for&#160;all<br/>service providers.&#160;Since&#160;the TPM is not&#160;required&#160;to&#160;be multi-threaded,&#160;it&#160;provides<br/>threaded&#160;access&#160;to&#160;the&#160;TPM.</p>
<p style="position:absolute;top:528px;left:164px;white-space:nowrap" class="ft7349">TCG-TSS-Service&#160;-Provider</p>
<p style="position:absolute;top:530px;left:306px;white-space:nowrap" class="ft7356">(local)</p>
<p style="position:absolute;top:973px;left:385px;white-space:nowrap" class="ft7350"><b>Basic architectural&#160;building blocks&#160;for&#160;TCG&#160;-TSS-Core-Service</b></p>
<p style="position:absolute;top:800px;left:453px;white-space:nowrap" class="ft7349">Physical&#160;-TPM-</p>
<p style="position:absolute;top:814px;left:443px;white-space:nowrap" class="ft7349">Command-Module</p>
<p style="position:absolute;top:652px;left:440px;white-space:nowrap" class="ft7349">Persistent&#160;-Storage&#160;-</p>
<p style="position:absolute;top:666px;left:440px;white-space:nowrap" class="ft7349">Access&#160;-Component</p>
<p style="position:absolute;top:848px;left:438px;white-space:nowrap" class="ft7349">TCG-Core&#160;-Service-</p>
<p style="position:absolute;top:862px;left:455px;white-space:nowrap" class="ft7349">TPM-Access</p>
<p style="position:absolute;top:648px;left:608px;white-space:nowrap" class="ft7354">TCS-Persistent&#160;-<br/>Storage (system)</p>
<p style="position:absolute;top:938px;left:402px;white-space:nowrap" class="ft7349">TCG-TSS-TDDL</p>
<p style="position:absolute;top:615px;left:241px;white-space:nowrap" class="ft7349">TCS-Interface&#160;-Layer&#160;(SOAP-Interface)</p>
<p style="position:absolute;top:623px;left:543px;white-space:nowrap" class="ft7350"><b>1</b></p>
<p style="position:absolute;top:694px;left:172px;white-space:nowrap" class="ft7349">Logical cache&#160;</p>
<p style="position:absolute;top:708px;left:166px;white-space:nowrap" class="ft7349">content&#160;handling</p>
<p style="position:absolute;top:579px;left:500px;white-space:nowrap" class="ft7352"><b>TCSI-Level</b></p>
<p style="position:absolute;top:807px;left:152px;white-space:nowrap" class="ft7349">TPM&#160;connection&#160;</p>
<p style="position:absolute;top:821px;left:160px;white-space:nowrap" class="ft7349">management</p>
<p style="position:absolute;top:700px;left:444px;white-space:nowrap" class="ft7349">Setting and Policy&#160;</p>
<p style="position:absolute;top:714px;left:472px;white-space:nowrap" class="ft7349">Access</p>
<p style="position:absolute;top:768px;left:144px;white-space:nowrap" class="ft7349">Streaming&#160;-Helper&#160;-</p>
<p style="position:absolute;top:782px;left:171px;white-space:nowrap" class="ft7349">Classes</p>
<p style="position:absolute;top:741px;left:136px;white-space:nowrap" class="ft7349">Error&#160;-Handling&#160;-Class</p>
<p style="position:absolute;top:648px;left:134px;white-space:nowrap" class="ft7349">Synchronization&#160;-Helper&#160;-</p>
<p style="position:absolute;top:663px;left:176px;white-space:nowrap" class="ft7349">Module</p>
<p style="position:absolute;top:848px;left:323px;white-space:nowrap" class="ft7349">TCS-Module-</p>
<p style="position:absolute;top:862px;left:324px;white-space:nowrap" class="ft7349">Management</p>
<p style="position:absolute;top:648px;left:294px;white-space:nowrap" class="ft7349">Facade&#160;-Abstraction&#160;-</p>
<p style="position:absolute;top:663px;left:316px;white-space:nowrap" class="ft7349">Component</p>
<p style="position:absolute;top:694px;left:290px;white-space:nowrap" class="ft7349">Logical TPM&#160;Resource&#160;</p>
<p style="position:absolute;top:708px;left:326px;white-space:nowrap" class="ft7349">handling</p>
<p style="position:absolute;top:806px;left:274px;white-space:nowrap" class="ft7349">TPM&#160;Device organize&#160;</p>
<p style="position:absolute;top:820px;left:294px;white-space:nowrap" class="ft7349">management</p>
<p style="position:absolute;top:746px;left:281px;white-space:nowrap" class="ft7349">Extended TPM&#160;Resource&#160;</p>
<p style="position:absolute;top:759px;left:293px;white-space:nowrap" class="ft7349">and access&#160;handling</p>
<p style="position:absolute;top:848px;left:194px;white-space:nowrap" class="ft7349">Common-Module-</p>
<p style="position:absolute;top:862px;left:221px;white-space:nowrap" class="ft7349">Service</p>
<p style="position:absolute;top:668px;left:257px;white-space:nowrap" class="ft7350"><b>4</b></p>
<p style="position:absolute;top:671px;left:551px;white-space:nowrap" class="ft7350"><b>2</b></p>
<p style="position:absolute;top:668px;left:401px;white-space:nowrap" class="ft7350"><b>3</b></p>
<p style="position:absolute;top:698px;left:142px;white-space:nowrap" class="ft7350"><b>5</b></p>
<p style="position:absolute;top:713px;left:401px;white-space:nowrap" class="ft7350"><b>6</b></p>
<p style="position:absolute;top:722px;left:543px;white-space:nowrap" class="ft7350"><b>7</b></p>
<p style="position:absolute;top:771px;left:407px;white-space:nowrap" class="ft7350"><b>8</b></p>
<p style="position:absolute;top:741px;left:257px;white-space:nowrap" class="ft7350"><b>9</b></p>
<p style="position:absolute;top:807px;left:545px;white-space:nowrap" class="ft7350"><b>12</b></p>
<p style="position:absolute;top:819px;left:386px;white-space:nowrap" class="ft7350"><b>13</b></p>
<p style="position:absolute;top:819px;left:245px;white-space:nowrap" class="ft7350"><b>14</b></p>
<p style="position:absolute;top:867px;left:280px;white-space:nowrap" class="ft7350"><b>15</b></p>
<p style="position:absolute;top:867px;left:398px;white-space:nowrap" class="ft7350"><b>16</b></p>
<p style="position:absolute;top:867px;left:540px;white-space:nowrap" class="ft7350"><b>17</b></p>
<p style="position:absolute;top:698px;left:622px;white-space:nowrap" class="ft7350"><b>18</b></p>
<p style="position:absolute;top:934px;left:545px;white-space:nowrap" class="ft7350"><b>19</b></p>
<p style="position:absolute;top:879px;left:124px;white-space:nowrap" class="ft7352"><b>TCS</b></p>
<p style="position:absolute;top:511px;left:454px;white-space:nowrap" class="ft7349">TCG-TSS&#160;-Service-Provider</p>
<p style="position:absolute;top:513px;left:596px;white-space:nowrap" class="ft7356">(remote&#160;)</p>
<p style="position:absolute;top:544px;left:377px;white-space:nowrap" class="ft7357"><b>…</b></p>
<p style="position:absolute;top:938px;left:144px;white-space:nowrap" class="ft7349">TPM</p>
<p style="position:absolute;top:937px;left:237px;white-space:nowrap" class="ft7349">TPM-Driver</p>
<p style="position:absolute;top:751px;left:430px;white-space:nowrap" class="ft7349">Physical&#160;cache strategy&#160;</p>
<p style="position:absolute;top:766px;left:448px;white-space:nowrap" class="ft7349">and organization</p>
<p style="position:absolute;top:776px;left:251px;white-space:nowrap" class="ft7350"><b>10</b></p>
<p style="position:absolute;top:771px;left:545px;white-space:nowrap" class="ft7350"><b>11</b></p>
<p style="position:absolute;top:1036px;left:155px;white-space:nowrap" class="ft732">Figure&#160; 4: Basic&#160;architecture&#160;building&#160;blocks for&#160;TCG&#160;TSS&#160;CORE&#160;Service</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft737">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft737">26/53</p>
</div>
<!-- Page 74 -->
<a name="74"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page74-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2074.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft747">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft747">RC&#160;1.0</p>
<p style="position:absolute;top:170px;left:112px;white-space:nowrap" class="ft741"><b>1.&#160;TCS-Interface-Layer (SOAP-Interface)</b></p>
<p style="position:absolute;top:189px;left:138px;white-space:nowrap" class="ft742">The interface&#160;to&#160;the&#160;TCS&#160;is the&#160;TCS Interface (Tcsi).&#160;This&#160;is&#160;a&#160;simple&#160;‘C’ style</p>
<p style="position:absolute;top:209px;left:138px;white-space:nowrap" class="ft7459">interface&#160;but&#160;should&#160;be&#160;realized&#160;in&#160;SOAP.&#160;While it&#160;may&#160;allow&#160;multi-threaded&#160;access<br/>to&#160;the&#160;TCS,&#160;each&#160;operation&#160;is intended&#160;to be&#160;atomic. It&#160;resides&#160;as&#160;a system&#160;process,<br/>separate&#160;from&#160;the&#160;application&#160;and&#160;service&#160;provider&#160;processes.&#160;If&#160;the environment<br/>provides&#160;for&#160;the TCS&#160;to reside&#160;in&#160;a&#160;system&#160;process,&#160;communication&#160;between&#160;the<br/>service&#160;providers&#160;and&#160;the&#160;TCS&#160;would&#160;be&#160;via&#160;an&#160;RPC.&#160;</p>
<p style="position:absolute;top:306px;left:112px;white-space:nowrap" class="ft741"><b>2.&#160;Persistent-Storage-Access-Component&#160;(System)</b></p>
<p style="position:absolute;top:325px;left:138px;white-space:nowrap" class="ft744">Component&#160;covers&#160;the&#160;physical&#160;access&#160;and&#160;representation&#160;of&#160;the TCS&#160;persistent<br/>storage&#160;representation.&#160;The&#160;TSS&#160;specification&#160;separates&#160;the storage&#160;context&#160;into<br/>a&#160;per&#160;user&#160;boundary&#160;and&#160;in&#160;a&#160;system&#160;linked&#160;one.&#160;This&#160;functionality&#160;and&#160;the&#160;data<br/>representation&#160;reflect a TSS&#160;(i.e.&#160;TSP and&#160;TCG)&#160;common&#160;code&#160;component.</p>
<p style="position:absolute;top:402px;left:112px;white-space:nowrap" class="ft741"><b>3.&#160;Facade-Abstraction-Component</b></p>
<p style="position:absolute;top:421px;left:138px;white-space:nowrap" class="ft744">Component&#160;contains a facade&#160;factory&#160;to&#160;generate&#160;separate&#160;facade&#160;objects&#160;per<br/>calling&#160;context.&#160;This layer&#160;performs&#160;the&#160;parameter&#160;checking&#160;for the&#160;TCS-<br/>Interface.</p>
<p style="position:absolute;top:479px;left:112px;white-space:nowrap" class="ft741"><b>4.&#160;Synchronization-Helper-Module</b></p>
<p style="position:absolute;top:498px;left:138px;white-space:nowrap" class="ft744">Collection&#160;of some&#160;small&#160;helper&#160;classes;&#160;encapsulate&#160;the&#160;native&#160;system&#160;calls&#160;for<br/>synchronization&#160;object handling.</p>
<p style="position:absolute;top:536px;left:112px;white-space:nowrap" class="ft741"><b>5.&#160;Logical&#160;cache&#160;content&#160;handling</b></p>
<p style="position:absolute;top:555px;left:138px;white-space:nowrap" class="ft744">Characterize&#160;a logical&#160;TPM&#160;device&#160;per connection&#160;context&#160;and&#160;organize&#160;logical<br/>resource&#160;cache management.</p>
<p style="position:absolute;top:594px;left:112px;white-space:nowrap" class="ft741"><b>6.&#160;Logical&#160;TPM&#160;Resource&#160;handling</b></p>
<p style="position:absolute;top:613px;left:138px;white-space:nowrap" class="ft744">Contain&#160;a management&#160;class and&#160;resource&#160;classes for the two&#160;major handled<br/>resource&#160;types&#160;key and&#160;authorization&#160;sessions.&#160;The&#160;task&#160;is divided&#160;into&#160;a<br/>resource&#160;map&#160;management&#160;and&#160;into&#160;a&#160;resource representation&#160;unit.</p>
<p style="position:absolute;top:671px;left:112px;white-space:nowrap" class="ft741"><b>7.&#160;Setting&#160;and Policy&#160;access</b></p>
<p style="position:absolute;top:690px;left:138px;white-space:nowrap" class="ft744">Function&#160;and&#160;class&#160;pool&#160;to&#160;summarize&#160;operations&#160;used&#160;to access and&#160;validate<br/>setting information.</p>
<p style="position:absolute;top:728px;left:112px;white-space:nowrap" class="ft741"><b>8.&#160;Extended&#160;TPM&#160;Resource&#160;and&#160;access&#160;handling</b></p>
<p style="position:absolute;top:747px;left:138px;white-space:nowrap" class="ft744">Characterize&#160;a physical&#160;TPM&#160;device&#160;is designed&#160;as&#160;singleton&#160;and&#160;organize<br/>physical&#160;resource&#160;cache&#160;management.&#160;Due&#160;to&#160;the&#160;character&#160;as&#160;single&#160;entry<br/>point&#160;for&#160;all&#160;TPM&#160;operations&#160;this&#160;layer&#160;is&#160;responsible&#160;for&#160;TPM&#160;access<br/>synchronization.</p>
<p style="position:absolute;top:824px;left:112px;white-space:nowrap" class="ft741"><b>9.&#160;Error-Handling-Class</b></p>
<p style="position:absolute;top:843px;left:138px;white-space:nowrap" class="ft744">Helper&#160;class(es)&#160;used in the&#160;exception&#160;handling&#160;process&#160;of the&#160;TSS&#160;components<br/>(i.e. TSP&#160;and&#160;TCS).&#160;The structured&#160;exception&#160;concept&#160;will&#160;be used&#160;for&#160;error<br/>handling&#160;inside&#160;of&#160;the TSS&#160;modules.</p>
<p style="position:absolute;top:901px;left:112px;white-space:nowrap" class="ft741"><b>10.Streaming-Helper-Classes</b></p>
<p style="position:absolute;top:920px;left:138px;white-space:nowrap" class="ft744">Helper&#160;classes&#160;transform&#160;TCG structures&#160;into&#160;BYTE-Stream-Representation&#160;and<br/>verse&#160;versa.</p>
<p style="position:absolute;top:959px;left:112px;white-space:nowrap" class="ft741"><b>11.Physical&#160;cache&#160;strategy&#160;and&#160;organization</b></p>
<p style="position:absolute;top:978px;left:138px;white-space:nowrap" class="ft744">Contain&#160;a&#160;physical&#160;management&#160;classes&#160;and resource&#160;classes&#160;for the&#160;two&#160;major<br/>handled&#160;resource&#160;types&#160;key&#160;and&#160;authorization&#160;sessions.&#160;The&#160;task&#160;is&#160;divided&#160;into<br/>a&#160;resource&#160;map&#160;management&#160;and&#160;into&#160;a&#160;resource&#160;representation&#160;unit. In<br/>addition&#160;this component&#160;automatically&#160;detects&#160;the&#160;underlying&#160;TPM&#160;device<br/>version&#160;and&#160;selects&#160;the&#160;corresponding&#160;physical&#160;caching&#160;strategy&#160;and&#160;function<br/>set.</p>
<p style="position:absolute;top:1093px;left:112px;white-space:nowrap" class="ft741"><b>12.Physical-TPM-Command-Module</b></p>
<p style="position:absolute;top:1112px;left:138px;white-space:nowrap" class="ft742">Module&#160;is responsible&#160;for&#160;the&#160;TPM&#160;command&#160;stream&#160;generation&#160;(byte-stream-</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft747">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft747">27/53</p>
</div>
<!-- Page 75 -->
<a name="75"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page75-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2075.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft757">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft757">RC&#160;1.0</p>
<p style="position:absolute;top:151px;left:138px;white-space:nowrap" class="ft754">generator)&#160;receiving the response&#160;and&#160;extracting&#160;the&#160;response&#160;parameter<br/>elements. &#160;</p>
<p style="position:absolute;top:189px;left:112px;white-space:nowrap" class="ft751"><b>13.TPM-Device&#160;organize&#160;management</b></p>
<p style="position:absolute;top:209px;left:138px;white-space:nowrap" class="ft754">Component&#160;includes&#160;classes&#160;and&#160;functionality&#160;to&#160;handle&#160;TPM&#160;device specific<br/>startup&#160;and&#160;shutdown&#160;procedures.&#160;In addition&#160;it controls&#160;the consistence&#160;of&#160;the<br/>resource&#160;management&#160;of the TCS.</p>
<p style="position:absolute;top:266px;left:112px;white-space:nowrap" class="ft751"><b>14.TPM&#160;connection&#160;management</b></p>
<p style="position:absolute;top:285px;left:138px;white-space:nowrap" class="ft754">Contain&#160;the&#160;management&#160;classes&#160;and functionality&#160;to establish&#160;the connection<br/>to&#160;the&#160;TPM device. A&#160;further&#160;task is&#160;to setup&#160;the&#160;power management&#160;control<br/>handling between IFX-TPM-Driver&#160;and TCS.</p>
<p style="position:absolute;top:343px;left:112px;white-space:nowrap" class="ft751"><b>15.Common-Module-Service&#160;</b></p>
<p style="position:absolute;top:362px;left:138px;white-space:nowrap" class="ft754">Common&#160;functions&#160;used&#160;for&#160;TCS&#160;module&#160;management&#160;(e.g.&#160;registration,&#160;start<br/>and stop).</p>
<p style="position:absolute;top:401px;left:112px;white-space:nowrap" class="ft751"><b>16.TCS-Module-Management</b></p>
<p style="position:absolute;top:420px;left:138px;white-space:nowrap" class="ft754">General&#160;operations&#160;used to&#160;administrate&#160;and&#160;arrange&#160;TCS&#160;module&#160;wide&#160;services<br/>(e.g.&#160;memory&#160;handling).</p>
<p style="position:absolute;top:458px;left:112px;white-space:nowrap" class="ft751"><b>17.TCG-Core-Service-TPM-Access</b></p>
<p style="position:absolute;top:477px;left:138px;white-space:nowrap" class="ft754">Component&#160;covers&#160;the&#160;physical&#160;access&#160;and representation&#160;of&#160;the TDDL<br/>communication.&#160;Abstraction&#160;layer offer the&#160;functions&#160;to&#160;establish,&#160;operate&#160;and<br/>close&#160;the TPM&#160;communication&#160;in a local&#160;situation.</p>
<p style="position:absolute;top:535px;left:112px;white-space:nowrap" class="ft751"><b>18.TCS-Persistent-Storage&#160;(System)</b></p>
<p style="position:absolute;top:554px;left:138px;white-space:nowrap" class="ft754">Contain&#160;the physical&#160;data&#160;representation&#160;for&#160;TCS&#160;persistent&#160;storage&#160;(on&#160;per<br/>system&#160;and&#160;access&#160;able&#160;for&#160;all users).&#160;The&#160;preferred&#160;mechanism&#160;would&#160;be&#160;XML<br/>based.</p>
<p style="position:absolute;top:612px;left:112px;white-space:nowrap" class="ft751"><b>19.TCG-TSS-TDDL</b></p>
<p style="position:absolute;top:631px;left:138px;white-space:nowrap" class="ft754">The TCG&#160;Device&#160;Driver&#160;Library&#160;(TDDL)&#160;is an intermediate&#160;module&#160;that exists<br/>between the&#160;TCS and&#160;the&#160;kernel mode TPM&#160;Device&#160;Driver (TDD).&#160;The TDDL<br/>provides&#160;a&#160;user mode&#160;interface.&#160;Such&#160;an&#160;interface&#160;has&#160;several&#160;advantages&#160;over<br/>a&#160;kernel&#160;mode&#160;driver&#160;interface:</p>
<p style="position:absolute;top:708px;left:193px;white-space:nowrap" class="ft754">It ensures&#160;different&#160;implementations of the TSS&#160;properly&#160;communicate<br/>with&#160;any TPM.<br/>It&#160;provides&#160;an OS-independent&#160;interface&#160;for&#160;TPM&#160;applications.</p>
<p style="position:absolute;top:765px;left:138px;white-space:nowrap" class="ft754">Because&#160;the TPM&#160;is&#160;not required&#160;to be&#160;multithreaded,&#160;the&#160;TDDL&#160;is to&#160;be a&#160;single<br/>instance,&#160;single&#160;threaded&#160;module.&#160;The TDDL expects&#160;the&#160;TPM&#160;command<br/>serialization&#160;to&#160;be&#160;performed&#160;by the TCS.&#160;The&#160;exception&#160;to&#160;the&#160;single&#160;threaded<br/>nature&#160;of&#160;the&#160;TDDL&#160;is&#160;the&#160;Tddli_Cancel operation.&#160;The&#160;Tddli_Cancel&#160;allows the<br/>TCS to&#160;send an&#160;abort&#160;operation to&#160;the&#160;TPM.<br/>The&#160;TPM vendor is&#160;responsible&#160;for defining&#160;the interface&#160;between the&#160;TDDL and<br/>the&#160;TDD. The TPM&#160;vendor&#160;can choose&#160;the&#160;communication&#160;and&#160;resource<br/>allocation&#160;mechanisms&#160;between this library&#160;and&#160;any kernel&#160;mode&#160;TPM&#160;device<br/>driver.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft757">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft757">28/53</p>
</div>
<!-- Page 76 -->
<a name="76"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft7670{font-size:18px;font-family:TimesNewRomanPSMT;color:#0000ff;}
	.ft7671{font-size:16px;font-family:BOJGJJ+BitstreamVeraSans;color:#0033cc;}
-->
</style>
<div id="page76-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2076.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft767">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft767">RC&#160;1.0</p>
<p style="position:absolute;top:200px;left:85px;white-space:nowrap" class="ft7610"><b>5&#160;</b></p>
<p style="position:absolute;top:197px;left:117px;white-space:nowrap" class="ft7611"><b>OpenTC&#160;development&#160;environment&#160;configuration and</b></p>
<p style="position:absolute;top:218px;left:94px;white-space:nowrap" class="ft7611"><b>requirements</b></p>
<p style="position:absolute;top:266px;left:85px;white-space:nowrap" class="ft761"><b>5.1&#160;Eclipse</b></p>
<p style="position:absolute;top:314px;left:85px;white-space:nowrap" class="ft7661">http://www.eclipse.org</p>
<p style="position:absolute;top:333px;left:85px;white-space:nowrap" class="ft762">IDE consists&#160;of Editor&#160;/&#160;Compiler&#160;front-end /&#160;Debugger&#160;front-end</p>
<p style="position:absolute;top:352px;left:112px;white-space:nowrap" class="ft762">- Freely&#160;available&#160;for Linux&#160;and&#160;Windows</p>
<p style="position:absolute;top:390px;left:139px;white-space:nowrap" class="ft761"><b>CDT</b></p>
<p style="position:absolute;top:410px;left:112px;white-space:nowrap" class="ft7661">http://eclipse.org/cdt</p>
<p style="position:absolute;top:429px;left:112px;white-space:nowrap" class="ft764">C/C++ Plugin&#160;for&#160;Eclipse&#160;<br/>Install:&#160;Use&#160;the&#160;following&#160;URL&#160;in&#160;a Site Bookmark&#160;in&#160;the&#160;update&#160;manager:</p>
<p style="position:absolute;top:483px;left:112px;white-space:nowrap" class="ft7670">http://download.eclipse.org/tools/cdt/releases/eclipse3.1</p>
<p style="position:absolute;top:547px;left:85px;white-space:nowrap" class="ft761"><b>5.2&#160;Version Control&#160;System</b></p>
<p style="position:absolute;top:594px;left:139px;white-space:nowrap" class="ft761"><b>Subversion</b></p>
<p style="position:absolute;top:613px;left:112px;white-space:nowrap" class="ft7661">http://subversion.tigris.org</p>
<p style="position:absolute;top:652px;left:112px;white-space:nowrap" class="ft764">Directory structure&#160;(suggestion,&#160;no&#160;must-have)<br/>1.&#160;directory&#160;TRUNK&#160;(main&#160;latest)<br/>2.&#160;directory&#160;BRANCHES<br/>3.&#160;directory&#160;TAGS&#160;(to&#160;implement&#160;a „labeling“&#160;mechanism)<br/>4.&#160;directory&#160;RELEASE&#160;(versions&#160;to be&#160;released)</p>
<p style="position:absolute;top:767px;left:139px;white-space:nowrap" class="ft761"><b>Subclipse</b></p>
<p style="position:absolute;top:786px;left:112px;white-space:nowrap" class="ft7661">http://subclipse.tigris.org/#subclipse</p>
<p style="position:absolute;top:805px;left:112px;white-space:nowrap" class="ft764">Subversion&#160;Plug-In for&#160;Eclipse<br/>Installation into Eclipse: Add&#160;</p>
<p style="position:absolute;top:825px;left:352px;white-space:nowrap" class="ft7671">http://subclipse.tigris.org/update</p>
<p style="position:absolute;top:825px;left:623px;white-space:nowrap" class="ft762">&#160;as&#160;an update&#160;site in&#160;</p>
<p style="position:absolute;top:844px;left:112px;white-space:nowrap" class="ft762">Eclipse's&#160;update&#160;manager&#160;(which&#160;you&#160;can find&#160;in&#160;the&#160;Help menu).</p>
<p style="position:absolute;top:882px;left:139px;white-space:nowrap" class="ft761"><b>RapidSVN</b></p>
<p style="position:absolute;top:901px;left:112px;white-space:nowrap" class="ft7661">http://rapidsvn.tigris.org/</p>
<p style="position:absolute;top:921px;left:112px;white-space:nowrap" class="ft762">Standalone&#160;subversion&#160;client&#160;available&#160;for&#160;Linux and&#160;Windows</p>
<p style="position:absolute;top:977px;left:85px;white-space:nowrap" class="ft761"><b>5.3&#160;Change-&#160;/ Error-Managementsystem</b></p>
<p style="position:absolute;top:1024px;left:139px;white-space:nowrap" class="ft761"><b>iTracker</b></p>
<p style="position:absolute;top:1044px;left:112px;white-space:nowrap" class="ft7661">http://www.cowsultants.com/</p>
<p style="position:absolute;top:1063px;left:112px;white-space:nowrap" class="ft764">Java&#160;/ J2EE&#160;based&#160;bug&#160;tracking&#160;system<br/>https&#160;Web&#160;access&#160;/ Installation&#160;as&#160;Eclipse&#160;Plug-In</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft767">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft767">29/53</p>
</div>
<!-- Page 77 -->
<a name="77"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft7772{font-size:15px;font-family:CourierNewPSMT;color:#000000;}
	.ft7773{font-size:15px;line-height:17px;font-family:CourierNewPSMT;color:#000000;}
-->
</style>
<div id="page77-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2077.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft777">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft777">RC&#160;1.0</p>
<p style="position:absolute;top:191px;left:85px;white-space:nowrap" class="ft7710"><b>6&#160;</b></p>
<p style="position:absolute;top:188px;left:117px;white-space:nowrap" class="ft7711"><b>Installation Procedure for the TSS</b></p>
<p style="position:absolute;top:221px;left:85px;white-space:nowrap" class="ft7772">OpenTC - Trusted Software Stack - Source Release</p>
<p style="position:absolute;top:255px;left:85px;white-space:nowrap" class="ft7772">---------------------------------------------------------------------</p>
<p style="position:absolute;top:289px;left:85px;white-space:nowrap" class="ft7773">Contents<br/>========</p>
<p style="position:absolute;top:340px;left:85px;white-space:nowrap" class="ft7772">&#160; &#160; 0. Usage</p>
<p style="position:absolute;top:375px;left:85px;white-space:nowrap" class="ft7772">&#160; &#160; 1. Introduction</p>
<p style="position:absolute;top:409px;left:85px;white-space:nowrap" class="ft7773">&#160; &#160; 2. Prerequisites<br/>&#160; &#160; &#160; &#160; 2.1 Hardware<br/>&#160; &#160; &#160; &#160; 2.2 Software<br/>&#160; &#160; &#160; &#160; 2.3 Installing the required software components</p>
<p style="position:absolute;top:494px;left:85px;white-space:nowrap" class="ft7772">&#160; &#160; 3. Installation</p>
<p style="position:absolute;top:528px;left:85px;white-space:nowrap" class="ft7772">&#160; &#160; 4. Running the TSS</p>
<p style="position:absolute;top:562px;left:85px;white-space:nowrap" class="ft7772">&#160; &#160; 5. Building and running the testprograms</p>
<p style="position:absolute;top:596px;left:85px;white-space:nowrap" class="ft7772">---------------------------------------------------------------------</p>
<p style="position:absolute;top:630px;left:85px;white-space:nowrap" class="ft7772">0. Usage</p>
<p style="position:absolute;top:664px;left:85px;white-space:nowrap" class="ft7773">&#160;* Usage Terms<br/>&#160;* This program is an implementation of the Trusted Computing Group TSS standard<br/>&#160;* as a computer program and is distributed under a dual license<br/>&#160;* that allows open-source use under a GPL-compatible license for educational<br/>&#160;* and research use and for closed-source use under a standard commercial<br/>&#160;* license.&#160;<br/>&#160;*<br/>&#160;* Copyright 2006 Infineon Technologies ( www.infineon.com/TPM ).&#160;<br/>&#160;* All rights reserved.<br/>&#160;*<br/>&#160;* Redistribution and use in source and binary forms, with or without<br/>&#160;* modifications, are permitted provided that the following conditions are met:<br/>&#160;*&#160;<br/>&#160;* 1.Redistributions of source code must retain the above copyright notice,<br/>&#160;* &#160; this list of conditions and the following disclaimer.<br/>&#160;*<br/>&#160;* 2.Redistributions in binary form must reproduce the above copyright notice,<br/>&#160;* &#160; this list of conditions and the following disclaimer in the documentation<br/>&#160;* &#160; and/or other materials provided with the distribution.<br/>&#160;*<br/>&#160;* 3.Redistributions in any form must be accompanied by information on how to<br/>&#160;* &#160; obtain complete source code for this software and any accompanying<br/>&#160;* &#160; software that uses this software. &#160;The source code must either be<br/>&#160;* &#160; included in the distribution or be available for no more than the cost of<br/>&#160;* &#160; distribution, and must be freely redistributable under reasonable<br/>&#160;* &#160; conditions. &#160;For an executable file, complete source code means the source<br/>&#160;* &#160; code for all modules it contains or uses. &#160;It does not include source code<br/>&#160;* &#160; for modules or files that typically accompany the major components of the</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft777">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft777">30/53</p>
</div>
<!-- Page 78 -->
<a name="78"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page78-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2078.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft787">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft787">RC&#160;1.0</p>
<p style="position:absolute;top:154px;left:85px;white-space:nowrap" class="ft7873">&#160;* &#160; operating system on which the executable file runs.<br/>&#160;*<br/>&#160;* THIS SOFTWARE IS PROVIDED &#34;AS IS&#34; AND ANY EXPRESS OR IMPLIED WARRANTIES,<br/>&#160;* INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,<br/>&#160;* FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT, ARE DISCLAIMED. &#160;IN NO<br/>&#160;* EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,<br/>SPECIAL,<br/>&#160;* EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,&#160;<br/>&#160;* PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;<br/>&#160;* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY<br/>&#160;* WHETHER IN &#160;CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR<br/>&#160;* OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF<br/>&#160;* ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.<br/>&#160;*<br/>&#160;* The licence and distribution terms for any publicly available version or<br/>&#160;* derivative of this code cannot be changed. I.e. this code cannot simply be<br/>&#160;* copied and put under another distribution licence<br/>&#160;* [including the GNU Public Licence.]</p>
<p style="position:absolute;top:478px;left:85px;white-space:nowrap" class="ft7872">---------------------------------------------------------------------</p>
<p style="position:absolute;top:512px;left:85px;white-space:nowrap" class="ft7872">1. Introduction</p>
<p style="position:absolute;top:546px;left:85px;white-space:nowrap" class="ft7873">This is the official source tree of the Trusted Software Stack (TSS)<br/>within the OpenTC project.&#160;</p>
<p style="position:absolute;top:597px;left:85px;white-space:nowrap" class="ft7873">The TSS is a software collection to utilize the Trusted Platform<br/>Module (TPM) in your computer.</p>
<p style="position:absolute;top:648px;left:85px;white-space:nowrap" class="ft7872">For details about your TPM and its capabilities visit these sites:</p>
<p style="position:absolute;top:682px;left:85px;white-space:nowrap" class="ft7873">&#160; &#160; www.trustedcomputinggroup.org<br/>&#160; &#160; www.opentc.net</p>
<p style="position:absolute;top:733px;left:85px;white-space:nowrap" class="ft7872">---------------------------------------------------------------------</p>
<p style="position:absolute;top:767px;left:85px;white-space:nowrap" class="ft7872">2. Prerequisites</p>
<p style="position:absolute;top:801px;left:85px;white-space:nowrap" class="ft7873">To efficiently utilize the TSS in your computing environment must<br/>meet some requirements in hardware and software issues:</p>
<p style="position:absolute;top:852px;left:85px;white-space:nowrap" class="ft7872">&#160; &#160; 2.1 Hardware</p>
<p style="position:absolute;top:886px;left:85px;white-space:nowrap" class="ft7873">&#160; &#160; Your motherboard needs a TPM device mounted. If one is<br/>&#160; &#160; available, it must be activated in your BIOS.</p>
<p style="position:absolute;top:937px;left:85px;white-space:nowrap" class="ft7872">&#160; &#160; 2.2 Software&#160;</p>
<p style="position:absolute;top:971px;left:85px;white-space:nowrap" class="ft7873">&#160; &#160; To compile the complete TSS the following software<br/>&#160; &#160; components must be available and properly installed:</p>
<p style="position:absolute;top:1022px;left:85px;white-space:nowrap" class="ft7873">&#160; &#160; &#160; &#160; gcc &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;C/C++ compilers<br/>&#160; &#160; &#160; &#160; Xerces-C &#160; &#160; &#160; &#160; &#160; XML Parser<br/>&#160; &#160; &#160; &#160; Xerces-C-devel &#160; &#160; XML Parser files for development<br/>&#160; &#160; &#160; &#160; Xalan-C &#160; &#160; &#160; &#160; &#160; &#160;XPATH extension for Xerces-C<br/>&#160; &#160; &#160; &#160; Xalan-C-devel &#160; &#160; &#160;files for development<br/>&#160; &#160; &#160; &#160; openssl &#160; &#160; &#160; &#160; &#160; &#160;Crypto and hashing functions<br/>&#160; &#160; &#160; &#160; openssl-devel &#160; &#160; &#160;files for development</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft787">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft787">31/53</p>
</div>
<!-- Page 79 -->
<a name="79"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page79-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2079.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft797">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft797">RC&#160;1.0</p>
<p style="position:absolute;top:154px;left:85px;white-space:nowrap" class="ft7973">&#160; &#160; &#160; &#160; e2fsprogs &#160; &#160; &#160; &#160; &#160;For libuuid<br/>&#160; &#160; &#160; &#160; e2fsprogs-devel &#160; &#160;files for development<br/>&#160; &#160; &#160; &#160; (tpm-driver) &#160; &#160; &#160; The TPM driver behind your TPM's devnode<br/>&#160; &#160; &#160; &#160; gSOAP &#160; &#160; &#160; &#160; &#160; &#160; &#160;Version 2.7.9d for IPC matters. (SP&lt;-&gt;CS)<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;Note: communicating SP and CS need to have exactly&#160;</p>
<p style="position:absolute;top:239px;left:298px;white-space:nowrap" class="ft7973">&#160; &#160; the same gSoap version, &#160;otherwise communication<br/>&#160; &#160; will fail! This can be found mainly in remote</p>
<p style="position:absolute;top:273px;left:351px;white-space:nowrap" class="ft7972">&#160;scenarios.</p>
<p style="position:absolute;top:290px;left:85px;white-space:nowrap" class="ft7972">&#160; &#160; &#160; &#160; POSIX threads &#160; &#160; &#160;linkable via -lpthread</p>
<p style="position:absolute;top:324px;left:85px;white-space:nowrap" class="ft7972">&#160; &#160; For Mandriva systems it may be also needed to install&#160;</p>
<p style="position:absolute;top:358px;left:85px;white-space:nowrap" class="ft7973">&#160; &#160; &#160; &#160; Bison<br/>&#160; &#160; &#160; &#160; Flex<br/>&#160; &#160; &#160; &#160; include /usr/local/lib to your library path</p>
<p style="position:absolute;top:427px;left:85px;white-space:nowrap" class="ft7972">&#160; &#160; 2.3 Installing the required software components</p>
<p style="position:absolute;top:461px;left:85px;white-space:nowrap" class="ft7973">&#160; &#160; This part describes some details about installing the required<br/>&#160; &#160; software components for building the complete TSS.</p>
<p style="position:absolute;top:512px;left:85px;white-space:nowrap" class="ft7972">&#160; &#160; tpm-driver:&#160;</p>
<p style="position:absolute;top:546px;left:85px;white-space:nowrap" class="ft7973">&#160; &#160; &#160; &#160;Firstly, you should enable the hardware module (TPM) from the BIOS setup.<br/>&#160; &#160; &#160; &#160;The drivers are already included in the kernel since version 2.6.13.<br/>Atmel and Infineon<br/>&#160; &#160; &#160; &#160;chips are supported. You can load this driver by &#34;modprobe tpm_infineon&#34;<br/>or<br/>&#160; &#160; &#160; &#160;&#34;modprobe tpm_tis&#34;. If loading of the driver is successful, you then get<br/>a device node<br/>&#160; &#160; &#160; &#160;like &#34;/dev/tpm&#34;</p>
<p style="position:absolute;top:699px;left:85px;white-space:nowrap" class="ft7973">&#160; &#160; &#160; &#160;For other TPM drivers and older kernel versions, see<br/>http://forum.emscb.org/phpbb/.</p>
<p style="position:absolute;top:750px;left:85px;white-space:nowrap" class="ft7973">&#160; &#160; Xerces-C<br/>&#160; &#160; Xerces-C-devel<br/>&#160; &#160; Xalan-C<br/>&#160; &#160; Xalan-C-devel<br/>&#160; &#160; openssl<br/>&#160; &#160; openssl-devel<br/>&#160; &#160; e2fsprogs<br/>&#160; &#160; e2fsprogs-devel</p>
<p style="position:absolute;top:903px;left:85px;white-space:nowrap" class="ft7973">&#160; &#160; &#160; &#160; For these components, you can easily download their RPM files and&#160;<br/>&#160; &#160; &#160; &#160; install them by &#34;rpm -i filename&#34; or you also can use the<br/>software(package)&#160;<br/>&#160; &#160; &#160; &#160; management tool that should be available in the most linux<br/>distributions. This<br/>&#160; &#160; &#160; &#160; is also the preferable way.<br/>&#160; &#160; &#160; &#160; Here an example for installing software in SUSE 10.1 is demonstrated:</p>
<p style="position:absolute;top:1039px;left:85px;white-space:nowrap" class="ft7973">&#160; &#160; &#160; &#160; &#160; &#160; 1) Select &#34;System / Yast (Control Center)&#34; from the startmenu<br/>&#160; &#160; &#160; &#160; &#160; &#160; 2) Select &#34;Installation Source&#34;<br/>&#160; &#160; &#160; &#160; &#160; &#160; 3) Select &#34;Add / FTP&#34; resp. &#34;Add / HTTP&#34;<br/>&#160; &#160; &#160; &#160; &#160; &#160; 4) Add the following entries:<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; ftp://ftp.gwdg.de/suse/i386/10.1/SUSE-Linux10.1-GM-Extra<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; http://ftp.gwdg.de/pub/suse/update/10.1/</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft797">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft797">32/53</p>
</div>
<!-- Page 80 -->
<a name="80"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page80-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2080.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft807">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft807">RC&#160;1.0</p>
<p style="position:absolute;top:154px;left:85px;white-space:nowrap" class="ft8073">&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; ftp://ftp.gwdg.de/pub/opensuse/distribution/SL-10.1/inst-source/<br/>&#160; &#160; &#160; &#160; &#160; &#160; 5) Move the added entries to the top of the list by selecting them<br/>and pushing &#34;up&#34;<br/>&#160; &#160; &#160; &#160; &#160; &#160; 6) Push the &#34;Finish&#34; button</p>
<p style="position:absolute;top:239px;left:85px;white-space:nowrap" class="ft8073">&#160; &#160; &#160; &#160; &#160; &#160; Now it takes a little time to read in the added installation<br/>catalogues. When it has finished&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; you can simply start &#34;Software Management&#34;, search for Xerces-c,<br/>Xerces-c-devel, Xalan-c,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; Xalan-c-devel, openssl,openssl-devel, e2fsprogs, e2fsprogs-devel<br/>select and install them. The&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; complete installation is now done automatically and you can use the<br/>packages.</p>
<p style="position:absolute;top:392px;left:85px;white-space:nowrap" class="ft8073">&#160; &#160; &#160; &#160; Another example for Fedora6:<br/>&#160; &#160; &#160; &#160; &#160;1) Select &#34;Applications&#34; in the Panel that is usually above the Desktop<br/>&#160; &#160; &#160; &#160; &#160;2) Select &#34;Add/Remove Software&#34;. Then the Package Manager will start<br/>&#160; &#160; &#160; &#160; &#160;3) Select the tab &#34;Search&#34; in the Package Manager.<br/>&#160; &#160; &#160; &#160; &#160;4) Now you can search any software by typing the name like Xerces-c,<br/>then you can click &#34;apply&#34; to install</p>
<p style="position:absolute;top:512px;left:85px;white-space:nowrap" class="ft8073">&#160; &#160; gSOAP:<br/>&#160; &#160; &#160; &#160; For gsoap, please do not use a rpm to install gsoap, because in most<br/>cases, it just installed the&#160;<br/>&#160; &#160; &#160; &#160; &#34;production&#34; files and not the development package with the headers.<br/>Please install gsoap by source.</p>
<p style="position:absolute;top:614px;left:85px;white-space:nowrap" class="ft8073">&#160; &#160; &#160; &#160; Building gsoap<br/>&#160; &#160; &#160; &#160; --------------</p>
<p style="position:absolute;top:665px;left:85px;white-space:nowrap" class="ft8073">&#160; &#160; &#160; &#160; - cd /your_gsoap_source_folder/gsoap-2.7.9d<br/>&#160; &#160; &#160; &#160; - ./configure</p>
<p style="position:absolute;top:716px;left:85px;white-space:nowrap" class="ft8073">&#160; &#160; &#160; &#160; - edit file &#34;stdsoap2.cpp&#34; line 3957 in folder<br/>&#160; &#160; &#160; &#160; /home/user/temp/gsoap-2.7.9d/soapcpp2</p>
<p style="position:absolute;top:767px;left:85px;white-space:nowrap" class="ft8073">&#160; &#160; &#160; &#160; replace<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; ext_data = ASN1_item_d2i(NULL, &amp;data,<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;ext-&gt;value-&gt;length,<br/>ASN1_ITEM_ptr(meth-&gt;it));<br/>&#160; &#160; &#160; &#160; by<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; ext_data = ASN1_item_d2i(NULL, (unsigned const char**)&amp;data,<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;ext-&gt;value-&gt;length,<br/>ASN1_ITEM_ptr(meth-&gt;it));</p>
<p style="position:absolute;top:920px;left:85px;white-space:nowrap" class="ft8072">&#160; &#160; &#160; &#160; save and exit the file</p>
<p style="position:absolute;top:954px;left:85px;white-space:nowrap" class="ft8073">&#160; &#160; &#160; &#160; - edit file &#34;stdsoap2.cpp&#34; line 3965 in folder<br/>&#160; &#160; &#160; &#160; /home/user/temp/gsoap-2.7.9d/soapcpp2</p>
<p style="position:absolute;top:1005px;left:85px;white-space:nowrap" class="ft8073">&#160; &#160; &#160; &#160; replace<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; ext_data = meth-&gt;d2i(NULL, &amp;data, ext-&gt;value-&gt;length);<br/>&#160; &#160; &#160; &#160; by<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; ext_data = meth-&gt;d2i(NULL, (unsigned const char**)&amp;data, ext-<br/>&gt;value-&gt;length);</p>
<p style="position:absolute;top:1108px;left:85px;white-space:nowrap" class="ft8072">&#160; &#160; &#160; &#160; save and exit the file</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft807">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft807">33/53</p>
</div>
<!-- Page 81 -->
<a name="81"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page81-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2081.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft817">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft817">RC&#160;1.0</p>
<p style="position:absolute;top:154px;left:85px;white-space:nowrap" class="ft8172">&#160; &#160; &#160; &#160; - make</p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft8172">&#160; &#160; &#160; &#160; - make install&#160;</p>
<p style="position:absolute;top:222px;left:85px;white-space:nowrap" class="ft8172">&#160; &#160; &#160; &#160; --------------</p>
<p style="position:absolute;top:256px;left:85px;white-space:nowrap" class="ft8172">&#160; &#160; &#160; &#160; For building gsoap, you may need flex (please also install it by source)</p>
<p style="position:absolute;top:290px;left:85px;white-space:nowrap" class="ft8173">&#160; &#160; &#160; &#160; Building flex<br/>&#160; &#160; &#160; &#160; --------------<br/>&#160; &#160; &#160; &#160; - ./configure</p>
<p style="position:absolute;top:358px;left:85px;white-space:nowrap" class="ft8172">&#160; &#160; &#160; &#160; - make</p>
<p style="position:absolute;top:392px;left:85px;white-space:nowrap" class="ft8173">&#160; &#160; &#160; &#160; - make install&#160;<br/>&#160; &#160; &#160; &#160; --------------</p>
<p style="position:absolute;top:444px;left:85px;white-space:nowrap" class="ft8173">&#160; &#160; &#160; &#160; PS: If you want install gsoap and flex in the default<br/>folder(recommended), you need to<br/>&#160; &#160; &#160; &#160; switch to root account.<br/>&#160; &#160; &#160; &#160; If you have problems during the build process like missing libraries,<br/>please<br/>&#160; &#160; &#160; &#160; run ./configure again after you fixed the problem (like installing<br/>missing libraries).</p>
<p style="position:absolute;top:580px;left:85px;white-space:nowrap" class="ft8172">---------------------------------------------------------------------</p>
<p style="position:absolute;top:614px;left:85px;white-space:nowrap" class="ft8172">3. Installation</p>
<p style="position:absolute;top:648px;left:85px;white-space:nowrap" class="ft8173">To install the TSS from the sources, simply invoke the build_and_install.sh<br/>script with exactly the same options as you would supply to the configure<br/>scripts in the subdirectories.<br/>E.g. to install in the non-standard folder /dev/shm/opentss you can call<br/>&#34;build_and_install.sh --prefix=/dev/shm/opentss&#34; and for building a debug<br/>version you can call &#34;build_and_install.sh --enable-debug&#34;<br/>Note that non-standard installation prefixes require<br/>tweaking LD_LIBRARY_PATH (recommended) or the ld cache<br/>(ld.so.conf, etc. - not recommended) when running the stack.</p>
<p style="position:absolute;top:818px;left:85px;white-space:nowrap" class="ft8173">Remark: To build and install the TSS no running TPM driver is<br/>neccessary.</p>
<p style="position:absolute;top:869px;left:85px;white-space:nowrap" class="ft8172">---------------------------------------------------------------------</p>
<p style="position:absolute;top:903px;left:85px;white-space:nowrap" class="ft8172">4. Running the TSS</p>
<p style="position:absolute;top:937px;left:85px;white-space:nowrap" class="ft8173">The TSS itself is NO stand-alone program that pops up e.g. with a GUI<br/>when it is started. The main component of the stack is the coreservice<br/>and has to be started with administrator rights. It uses a device driver<br/>library (DDL) to access the device driver of the TPM. Applications that<br/>want to use the stack have to utilize the service provider shared library<br/>(link against it) to communicate with the core service.<br/>Each application can have its own service provider but the core service<br/>exists only once per machine. For detailed information concerning the<br/>structure of a TSS, please refer to the documentation provided from<br/>the TCG (see chapter 1).</p>
<p style="position:absolute;top:1125px;left:85px;white-space:nowrap" class="ft8172">- There are three resulting binaries after installation:</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft817">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft817">34/53</p>
</div>
<!-- Page 82 -->
<a name="82"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page82-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2082.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft827">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft827">RC&#160;1.0</p>
<p style="position:absolute;top:154px;left:85px;white-space:nowrap" class="ft8273">&#160; the service provider shared library (tss_sp.so) and the DDL shared library<br/>&#160; (tpm_ddl.so) in the 'lib' folder, and the core service daemon (coreserviced)<br/>&#160; in the 'bin' folder.</p>
<p style="position:absolute;top:222px;left:85px;white-space:nowrap" class="ft8273">- The core service daemon (coreserviced) can be started as daemon<br/>&#160; (without any command line parameters, this is the dedicated usage)<br/>&#160; or as normal executable (with &#34;--debug&#34; as command line parameter)</p>
<p style="position:absolute;top:290px;left:85px;white-space:nowrap" class="ft8273">- The core service dynamically loads the DDL shared library (libtpm_ddl.so).<br/>&#160; Therefore it is necessary that it finds the DDL shared library at runtime.<br/>&#160; This can be achieved by setting the LD_LIBRARY_PATH environment variable&#160;<br/>&#160; to the desired folder (e.g. export LD_LIBRARY_PATH=/dev/shm/opentss/lib)</p>
<p style="position:absolute;top:375px;left:85px;white-space:nowrap" class="ft8273">- The service provider shared lib (libtss_sp.so) can be used from each<br/>testprogram<br/>&#160; or any self written program and accesses the core service via a soap<br/>interface.</p>
<p style="position:absolute;top:461px;left:85px;white-space:nowrap" class="ft8273">Hint: When the core service is started, it writes status information with&#160;<br/>different log levels to the systems log file(s). For openSuse systems this<br/>is in &#34;/var/log/messages&#34;, for a Mandriva distribution the information is<br/>split up to several log files. If problems encounter in getting the TSS system<br/>to work, you probably can determine the cause for this by inspecting the<br/>log file(s).</p>
<p style="position:absolute;top:580px;left:85px;white-space:nowrap" class="ft8272">---------------------------------------------------------------------</p>
<p style="position:absolute;top:614px;left:85px;white-space:nowrap" class="ft8272">5. Building and running the testprograms</p>
<p style="position:absolute;top:648px;left:85px;white-space:nowrap" class="ft8273">The source package contains a folder called &#34;testprograms&#34;. You can build these<br/>with the included Makefile (please adapt the needed paths before), run each<br/>testprogram<br/>on its own or start the &#34;run.sh&#34; script to run several testprograms<br/>subsequently.<br/>As some of the testprograms use owner authorization, please also adapt the<br/>hardcoded<br/>owner password in the .cpp files before compiling them (Otherwise these<br/>testprograms<br/>will fail due to wrong owner authorisation).</p>
<p style="position:absolute;top:835px;left:85px;white-space:nowrap" class="ft8273">For building the testprograms, you need to make sure that the OpenTC TSS is<br/>properly<br/>installed, because the service provider shared library is referenced in the<br/>building<br/>process and will be linked to the resulting executable.<br/>For running the testprograms you may need to set the LD_LIBRARY_PATH (if you<br/>didn't&#160;<br/>install the TSS in the standard folder), so that the service provider shared<br/>library<br/>(libtss_sp.so) can be found.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft827">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft827">35/53</p>
</div>
<!-- Page 83 -->
<a name="83"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page83-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2083.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft837">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft837">RC&#160;1.0</p>
<p style="position:absolute;top:154px;left:85px;white-space:nowrap" class="ft8310"><b>7&#160;</b></p>
<p style="position:absolute;top:151px;left:117px;white-space:nowrap" class="ft8311"><b>Test and Evaluation&#160;Support&#160;Programs</b></p>
<p style="position:absolute;top:203px;left:85px;white-space:nowrap" class="ft8373">################################################################################<br/>######<br/>testprograms using the TSPI interface of the TSP (complete TSS usage: TSP, TCS,<br/>TDDL)<br/>################################################################################<br/>######</p>
<p style="position:absolute;top:322px;left:85px;white-space:nowrap" class="ft8372">tspi_tpm_getrandom &#160; &#160; &#160; &#160; &#160; &#160; &#160;get 20 random numbers from the TPM,&#160;</p>
<p style="position:absolute;top:340px;left:380px;white-space:nowrap" class="ft8372">Tspi_TPM_GetRandom, Tspi_TPM_StirRandom</p>
<p style="position:absolute;top:374px;left:85px;white-space:nowrap" class="ft8372">tspi_tpm_getrandom_load &#160; &#160; &#160; &#160; get 20 random numbers from the TPM, repeat 10000</p>
<p style="position:absolute;top:391px;left:380px;white-space:nowrap" class="ft8372">times, each time a new &#160;context is used</p>
<p style="position:absolute;top:408px;left:85px;white-space:nowrap" class="ft8372">&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; (possibility to use 30 contexts in parallel)</p>
<p style="position:absolute;top:442px;left:85px;white-space:nowrap" class="ft8372">mt_tspi_tpm_getrandom &#160; &#160; &#160; &#160; &#160; get 20 random numbers from the TPM, using one&#160;</p>
<p style="position:absolute;top:459px;left:380px;white-space:nowrap" class="ft8372">context and 30 threads in parallel</p>
<p style="position:absolute;top:493px;left:85px;white-space:nowrap" class="ft8372">tspi_tpm_getstatus &#160; &#160; &#160; &#160; &#160; &#160; &#160;retrieve the states of 4 persistent flags&#160;</p>
<p style="position:absolute;top:510px;left:380px;white-space:nowrap" class="ft8372">(TSS_TPMSTATUS_SETOWNERINSTALL,</p>
<p style="position:absolute;top:527px;left:85px;white-space:nowrap" class="ft8373">&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; TSS_TPMSTATUS_DISABLEOWNERCLEAR,<br/>TSS_TPMSTATUS_DISABLED,<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; TSS_TPMSTATUS_DISABLEPUBEKREAD) from the TPM,<br/>Tspi_TPM_GetStatus</p>
<p style="position:absolute;top:612px;left:85px;white-space:nowrap" class="ft8372">tspi_tpm_setstatus &#160; &#160; &#160; &#160; &#160; &#160; &#160;disable / enable the TPM, Tspi_TPM_SetStatus</p>
<p style="position:absolute;top:646px;left:85px;white-space:nowrap" class="ft8373">tspi_tpm_getcapability &#160; &#160; &#160; &#160; &#160;retrieve som capabilities from TPM and TCS<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; Tspi_TPM_GetCapability,<br/>Tspi_Context_GetCapability</p>
<p style="position:absolute;top:714px;left:85px;white-space:nowrap" class="ft8372">tspi_tpm_takeownership &#160; &#160; &#160; &#160; &#160;take ownership of the TPM,&#160;</p>
<p style="position:absolute;top:731px;left:380px;white-space:nowrap" class="ft8372">Tspi_TPM_TakeOwnership</p>
<p style="position:absolute;top:765px;left:85px;white-space:nowrap" class="ft8372">tspi_tpm_clearowner &#160; &#160; &#160; &#160; &#160; &#160; clear the TPM ownership, Tspi_TPM_ClearOwner</p>
<p style="position:absolute;top:799px;left:85px;white-space:nowrap" class="ft8372">tspi_tpm_selftestfull &#160; &#160; &#160; &#160; &#160; execute tpm selftest, Tspi_TPM_SelfTestFull,&#160;</p>
<p style="position:absolute;top:816px;left:380px;white-space:nowrap" class="ft8372">Tspi_TPM_GetTestResult</p>
<p style="position:absolute;top:850px;left:85px;white-space:nowrap" class="ft8372">tspi_tpm_quote &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;test the quote functionality, Tspi_TPM_Quote</p>
<p style="position:absolute;top:884px;left:85px;white-space:nowrap" class="ft8372">tspi_tpm_getpubendorsementkey &#160; retrieve the public part of the EK,&#160;</p>
<p style="position:absolute;top:901px;left:380px;white-space:nowrap" class="ft8372">Tspi_TPM_GetPubEndorsementKey,</p>
<p style="position:absolute;top:918px;left:85px;white-space:nowrap" class="ft8372">Tspi_TPM_SetStatus</p>
<p style="position:absolute;top:952px;left:85px;white-space:nowrap" class="ft8373">tspi_key_getpubkey &#160; &#160; &#160; &#160; &#160; &#160; &#160;get the public part of the SRK,<br/>Tspi_Key_GetPubKey</p>
<p style="position:absolute;top:1003px;left:85px;white-space:nowrap" class="ft8372">tspi_key_createkey &#160; &#160; &#160; &#160; &#160; &#160; &#160;create a key pair within the TPM, T</p>
<p style="position:absolute;top:1021px;left:380px;white-space:nowrap" class="ft8372">spi_Key_CreateKey, Tspi_Context_LoadKeyByUUID</p>
<p style="position:absolute;top:1038px;left:85px;white-space:nowrap" class="ft8373">&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160;Tspi_Key_LoadKey, Tspi_Key_UnloadKey,<br/>Tspi_Key_GetPubKey</p>
<p style="position:absolute;top:1089px;left:85px;white-space:nowrap" class="ft8372">tspi_key_wrapkey &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;create a key pair within the TPM and wrap it&#160;</p>
<p style="position:absolute;top:1106px;left:380px;white-space:nowrap" class="ft8372">with the given wrapkey,&#160;</p>
<p style="position:absolute;top:1123px;left:85px;white-space:nowrap" class="ft8372">&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; Tspi_Key_WrapKey, Tspi_Key_LoadKey</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft837">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft837">36/53</p>
</div>
<!-- Page 84 -->
<a name="84"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page84-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2084.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft847">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft847">RC&#160;1.0</p>
<p style="position:absolute;top:171px;left:85px;white-space:nowrap" class="ft8472">tspi_changeauth &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; change the authorization data (secret) of an&#160;</p>
<p style="position:absolute;top:188px;left:380px;white-space:nowrap" class="ft8472">entity (object) and assign</p>
<p style="position:absolute;top:205px;left:85px;white-space:nowrap" class="ft8472">&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; the object to the policy object, Tspi_ChangeAuth</p>
<p style="position:absolute;top:239px;left:85px;white-space:nowrap" class="ft8472">tspi_changeauth_owner &#160; &#160; &#160; &#160; &#160; change the owner authorization, Tspi_ChangeAuth</p>
<p style="position:absolute;top:273px;left:85px;white-space:nowrap" class="ft8472">nvm_functions &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; test of non volatile memory functions,&#160;</p>
<p style="position:absolute;top:290px;left:380px;white-space:nowrap" class="ft8472">Tspi_NV_DefineSpace, Tspi_NV_ReleaseSpace,</p>
<p style="position:absolute;top:307px;left:85px;white-space:nowrap" class="ft8472">&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; Tspi_NV_WriteValue, Tspi_NV_ReadValue</p>
<p style="position:absolute;top:341px;left:85px;white-space:nowrap" class="ft8472">transport1 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;Tspi_Data_Bind, Tspi_Data_Unbind,&#160;</p>
<p style="position:absolute;top:358px;left:380px;white-space:nowrap" class="ft8472">Tspi_Data_Seal, Tspi_Data_Unseal</p>
<p style="position:absolute;top:392px;left:85px;white-space:nowrap" class="ft8472">migtst &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;test of migration functions,&#160;</p>
<p style="position:absolute;top:409px;left:380px;white-space:nowrap" class="ft8472">Tspi_TPM_AuthorizeMigrationTicket,&#160;</p>
<p style="position:absolute;top:427px;left:85px;white-space:nowrap" class="ft8472">&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; Tspi_Key_CreateMigrationBlob,&#160;</p>
<p style="position:absolute;top:444px;left:380px;white-space:nowrap" class="ft8472">Tspi_Key_ConvertMigrationBlob</p>
<p style="position:absolute;top:478px;left:85px;white-space:nowrap" class="ft8472">pcrtst &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;test of PCR and PCR composite functionality,&#160;</p>
<p style="position:absolute;top:495px;left:380px;white-space:nowrap" class="ft8472">Tspi_PcrComposite_SelectPcrIndex,</p>
<p style="position:absolute;top:512px;left:85px;white-space:nowrap" class="ft8472">&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; Tspi_PcrComposite_GetPcrValue,&#160;</p>
<p style="position:absolute;top:529px;left:380px;white-space:nowrap" class="ft8473">Tspi_PcrComposite_SetPcrValue,&#160;<br/>Tspi_TPM_PcrRead,</p>
<p style="position:absolute;top:563px;left:85px;white-space:nowrap" class="ft8472">&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; Tspi_TPM_PcrExtend</p>
<p style="position:absolute;top:597px;left:85px;white-space:nowrap" class="ft8472">tspi_context_getKeyByUUID_system &#160; &#160;get a key by UUID from the system persistent</p>
<p style="position:absolute;top:614px;left:380px;white-space:nowrap" class="ft8472">storage</p>
<p style="position:absolute;top:648px;left:85px;white-space:nowrap" class="ft8472">tspi_context_getKeyByUUID_user &#160; &#160; &#160;get a key by UUID from the user persistent&#160;</p>
<p style="position:absolute;top:665px;left:380px;white-space:nowrap" class="ft8472">storage</p>
<p style="position:absolute;top:699px;left:85px;white-space:nowrap" class="ft8472">tspi_context_registerkey_system &#160; &#160; register a key in the system persistent&#160;</p>
<p style="position:absolute;top:716px;left:380px;white-space:nowrap" class="ft8472">storage</p>
<p style="position:absolute;top:750px;left:85px;white-space:nowrap" class="ft8472">tspi_context_registerkey_user &#160; &#160; &#160; register a key in the user persistent&#160;</p>
<p style="position:absolute;top:767px;left:380px;white-space:nowrap" class="ft8472">storage</p>
<p style="position:absolute;top:801px;left:85px;white-space:nowrap" class="ft8472">tspi_context_loadkeybyblob &#160; &#160; &#160; &#160; &#160;load a key from a keyblob,&#160;</p>
<p style="position:absolute;top:818px;left:380px;white-space:nowrap" class="ft8472">Tspi_Context_LoadKeyByBlob</p>
<p style="position:absolute;top:852px;left:85px;white-space:nowrap" class="ft8473">provoke_error &#160; &#160; &#160;test some functions that must give an error:<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;- close the default policy object<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;- close the TPM object / close the policy object of the TPM<br/>object<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;- create 2 keys and one policy, assign the policy to both<br/>keys,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;create first key and then delete the policy, create key 2<br/>fails&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;- assign a new policy to the context object<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;- assign a new policy to the tpm object</p>
<p style="position:absolute;top:1039px;left:85px;white-space:nowrap" class="ft8473">key_auth_chain &#160; &#160; This test creates 3 keys in a hierarchy, the middle of which<br/>requires auth.<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;This is meant to test the TSS_LOADKEY_INFO functionality. The<br/>TCS should<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;try to load key 2 first and notice that its parent needs<br/>loading. When it</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft847">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft847">37/53</p>
</div>
<!-- Page 85 -->
<a name="85"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page85-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2085.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft857">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft857">RC&#160;1.0</p>
<p style="position:absolute;top:154px;left:85px;white-space:nowrap" class="ft8573">&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;tries to load key 1, it should see that there's auth data<br/>there and return<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;a TSS_LOADKEY_INFO struct to the TSP. The TSP should<br/>transparently handle<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;this structure to get...</p>
<p style="position:absolute;top:256px;left:85px;white-space:nowrap" class="ft8573">&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;SRK<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;\<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; hKey0 (no auth)<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;\<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; hKey1 (auth)<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;\<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; hKey2 (no auth)</p>
<p style="position:absolute;top:392px;left:85px;white-space:nowrap" class="ft8572">callback &#160; &#160; &#160; &#160; &#160; test HMAC callback, XORENC callback and TAKEOWNERSHIP&#160;</p>
<p style="position:absolute;top:409px;left:380px;white-space:nowrap" class="ft8572">callback functionality</p>
<p style="position:absolute;top:444px;left:85px;white-space:nowrap" class="ft8572">hash &#160; &#160; &#160; &#160; &#160; &#160; &#160; tests covering the hash object: creation,&#160;</p>
<p style="position:absolute;top:461px;left:380px;white-space:nowrap" class="ft8572">Tspi_Hash_SetHashValue,</p>
<p style="position:absolute;top:478px;left:85px;white-space:nowrap" class="ft8573">&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;Tspi_Hash_GetHashValue, Tspi_SetAttribData, Tspi_Hash_Sign,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;Tspi_Hash_VerifySignature</p>
<p style="position:absolute;top:529px;left:85px;white-space:nowrap" class="ft8572">enc_dec &#160; &#160; &#160; &#160; &#160; &#160;test Tspi_EncodeDER_TssBlob and Tspi_DecodeBER_TssBlob&#160;</p>
<p style="position:absolute;top:546px;left:380px;white-space:nowrap" class="ft8572">functions</p>
<p style="position:absolute;top:597px;left:85px;white-space:nowrap" class="ft8573">################################################################################<br/>######<br/>basic TPM setup (using only TDDL, no TSP and no TCS), TCS must not be running<br/>################################################################################<br/>######</p>
<p style="position:absolute;top:699px;left:85px;white-space:nowrap" class="ft8572">inittpm &#160; &#160; &#160; &#160; TPM_Startup, TPM_PhysicalPresence, TPM_PhysicalPresenceSet,&#160;</p>
<p style="position:absolute;top:716px;left:380px;white-space:nowrap" class="ft8572">TPM_PhysicalEnable</p>
<p style="position:absolute;top:733px;left:85px;white-space:nowrap" class="ft8573">&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; TPM_SetDeactivated (false), TPM_SelfTestFull, TPM_GetRandom,<br/>TPM_GetCapability (TPM_CAP_VERSION)</p>
<p style="position:absolute;top:784px;left:85px;white-space:nowrap" class="ft8573">startuptpm &#160; &#160; &#160;TPM_Startup, TPM_SelfTestFull, TPM_GetRandom, TPM_GetCapability<br/>(</p>
<p style="position:absolute;top:801px;left:380px;white-space:nowrap" class="ft8572">TPM_CAP_VERSION)</p>
<p style="position:absolute;top:835px;left:85px;white-space:nowrap" class="ft8572">forcecleartpm &#160; TPM_Startup, TPM_PhysicalPresence, TPM_PhysicalPresenceSet,&#160;</p>
<p style="position:absolute;top:852px;left:380px;white-space:nowrap" class="ft8572">TPM_ForceClear,&#160;</p>
<p style="position:absolute;top:869px;left:85px;white-space:nowrap" class="ft8572">&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; TPM_SelfTestFull, TPM_GetRandom, TPM_GetCapability&#160;</p>
<p style="position:absolute;top:886px;left:380px;white-space:nowrap" class="ft8572">(TPM_CAP_VERSION)</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft857">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft857">38/53</p>
</div>
<!-- Page 86 -->
<a name="86"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft8674{font-size:14px;font-family:BOJGFJ+BitstreamVeraSans;color:#000000;}
	.ft8675{font-size:14px;font-family:BOJGJJ+BitstreamVeraSans;color:#0000ff;}
-->
</style>
<div id="page86-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2086.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft867">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft867">RC&#160;1.0</p>
<p style="position:absolute;top:191px;left:85px;white-space:nowrap" class="ft8610"><b>8&#160;</b></p>
<p style="position:absolute;top:188px;left:117px;white-space:nowrap" class="ft8611"><b>Test Procedures for the &#160;Development Phase</b></p>
<p style="position:absolute;top:237px;left:85px;white-space:nowrap" class="ft864">This&#160;chapter&#160;gives an overview&#160;of the&#160;tests&#160;that&#160;have&#160;been developed&#160;and used&#160;for<br/>testing&#160;and&#160;quality&#160;assurance&#160;of&#160;the&#160;API’s&#160;of the TCG&#160;Software&#160;Stack&#160;(TSS)&#160;within&#160;the<br/>project OpenTC. This&#160;comprises&#160;the TSPI&#160;(TSS&#160;Service&#160;Provider)&#160;and&#160;TSS&#160;Core&#160;Service.<br/>The TPM&#160;drivers&#160;are&#160;not part&#160;of&#160;this activity&#160;because&#160;they are&#160;already available&#160;as&#160;part<br/>of the Linux&#160;kernel&#160;2.6.16&#160;and later.<br/>This&#160;package&#160;proposes&#160;a&#160;setup for the test&#160;environment&#160;and implementation&#160;hints so<br/>that&#160;the test&#160;cases developed&#160;by&#160;different&#160;people&#160;will be consistent&#160;in&#160;their&#160;handling.<br/>The&#160;testing generally is&#160;done&#160;by calling&#160;from the test harness&#160;the&#160;appropriate<br/>functions&#160;provided&#160;by the&#160;TPM&#160;and&#160;TSS&#160;components&#160;via&#160;the automated&#160;script<br/>environment.&#160;<br/>The actual&#160;implementation&#160;of the&#160;tests is done by&#160;writing&#160;scripts&#160;for&#160;an&#160;interpreter&#160;on<br/>top&#160;of an&#160;automatically&#160;generated&#160;TSPI&#160;wrapper.</p>
<p style="position:absolute;top:523px;left:85px;white-space:nowrap" class="ft861"><b>8.1&#160;Glossary&#160;of Terms</b></p>
<p style="position:absolute;top:597px;left:85px;white-space:nowrap" class="ft8674"><b>Terms/Abbreviations</b></p>
<p style="position:absolute;top:597px;left:376px;white-space:nowrap" class="ft8674"><b>Definition</b></p>
<p style="position:absolute;top:634px;left:186px;white-space:nowrap" class="ft8674"><b>Client&#160;Area:</b></p>
<p style="position:absolute;top:671px;left:85px;white-space:nowrap" class="ft8631">Platform&#160;Security&#160;Chip</p>
<p style="position:absolute;top:671px;left:377px;white-space:nowrap" class="ft8631">The&#160;TPM chip&#160;itself</p>
<p style="position:absolute;top:708px;left:85px;white-space:nowrap" class="ft8631">Security Platform</p>
<p style="position:absolute;top:708px;left:377px;white-space:nowrap" class="ft8631">Is a platform&#160;equipped&#160;with&#160;a&#160;</p>
<p style="position:absolute;top:708px;left:579px;white-space:nowrap" class="ft8675">Platform&#160;Security&#160;Chip</p>
<p style="position:absolute;top:745px;left:85px;white-space:nowrap" class="ft8631">Security&#160;Platform&#160;User</p>
<p style="position:absolute;top:745px;left:376px;white-space:nowrap" class="ft8631">This is&#160;a&#160;platform&#160;user who is&#160;also using the&#160;Security Platform.&#160;</p>
<p style="position:absolute;top:782px;left:85px;white-space:nowrap" class="ft8631">Security Platform&#160;Owner</p>
<p style="position:absolute;top:782px;left:377px;white-space:nowrap" class="ft8631">Is the owner of&#160;the&#160;</p>
<p style="position:absolute;top:782px;left:508px;white-space:nowrap" class="ft8675">Platform Security&#160;Chip</p>
<p style="position:absolute;top:782px;left:660px;white-space:nowrap" class="ft8631">.</p>
<p style="position:absolute;top:931px;left:85px;white-space:nowrap" class="ft861"><b>8.2&#160;Test&#160;environment</b></p>
<p style="position:absolute;top:996px;left:85px;white-space:nowrap" class="ft8612"><b>8.2.1&#160;Security Platform:</b></p>
<p style="position:absolute;top:1023px;left:120px;white-space:nowrap" class="ft8669">&#160;</p>
<p style="position:absolute;top:1023px;left:136px;white-space:nowrap" class="ft862">The&#160;Security&#160;Platform&#160;,&#160;which carries&#160;the&#160;TSS&#160;stack&#160;as&#160;testobject,&#160;requires&#160;a&#160;TPM</p>
<p style="position:absolute;top:1042px;left:139px;white-space:nowrap" class="ft864">chip,&#160;like the&#160;Infineon&#160;TPM SLB9635TT1.2&#160;be&#160;setup&#160;properly with&#160;the&#160;TPM<br/>firmware&#160;V1.00&#160;or&#160;higher&#160;and&#160;corresponding&#160;BIOS&#160;integration&#160;support&#160;(e.g.<br/>ACPI).</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft867">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft867">39/53</p>
</div>
<!-- Page 87 -->
<a name="87"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page87-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2087.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft877">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft877">RC&#160;1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft8712"><b>8.2.2&#160;External/existing modules&#160;for Security Platform:</b></p>
<p style="position:absolute;top:200px;left:117px;white-space:nowrap" class="ft8763"></p>
<p style="position:absolute;top:197px;left:138px;white-space:nowrap" class="ft872">Compiler:&#160;gcc version&#160;4.1.0-25&#160;and&#160;higher&#160;</p>
<p style="position:absolute;top:228px;left:117px;white-space:nowrap" class="ft8763"></p>
<p style="position:absolute;top:225px;left:138px;white-space:nowrap" class="ft872">Linux&#160;Kernel&#160;on target&#160;system:&#160;2.6.17&#160;or higher&#160;</p>
<p style="position:absolute;top:257px;left:117px;white-space:nowrap" class="ft8763"></p>
<p style="position:absolute;top:254px;left:138px;white-space:nowrap" class="ft872">Crypto-Library:&#160;openssl&#160;0.9.8a-16&#160;+&#160;openssl-devel&#160;0.9.8a-16&#160;</p>
<p style="position:absolute;top:285px;left:117px;white-space:nowrap" class="ft8763"></p>
<p style="position:absolute;top:282px;left:138px;white-space:nowrap" class="ft872">SOAP-Library&#160;(used&#160;for&#160;CS&#160;and&#160;SP SOAP-Interface):&#160;gSoap&#160;-&gt; gsoap_2.7.6e.tgz&#160;</p>
<p style="position:absolute;top:314px;left:117px;white-space:nowrap" class="ft8763"></p>
<p style="position:absolute;top:311px;left:138px;white-space:nowrap" class="ft874">XML-Library&#160;(used&#160;for persistent&#160;storage&#160;of CS&#160;and&#160;SP):&#160;<br/>Xerces&#160;-&gt;&#160;Xerces-c&#160;2.7.0.11+&#160;Xerces-c-devel-2.7.0-11&#160;</p>
<p style="position:absolute;top:361px;left:117px;white-space:nowrap" class="ft8763"></p>
<p style="position:absolute;top:358px;left:138px;white-space:nowrap" class="ft872">XPATH&#160;extension&#160;for&#160;Xerces:&#160;Xalan&#160;-&gt;&#160;Xalan-c 1.10-10&#160;+&#160;Xalan-c-devel&#160;1.10-10&#160;</p>
<p style="position:absolute;top:390px;left:117px;white-space:nowrap" class="ft8763"></p>
<p style="position:absolute;top:387px;left:138px;white-space:nowrap" class="ft872">Generation&#160;of UUIDs:&#160;libuuid&#160;-&gt; e2fsprogs&#160;1.38-25 +e2fsprogs-devel&#160;1.38-25&#160;</p>
<p style="position:absolute;top:418px;left:117px;white-space:nowrap" class="ft8763"></p>
<p style="position:absolute;top:415px;left:138px;white-space:nowrap" class="ft872">Transports&#160;messages&#160;to&#160;and from&#160;remote&#160;objects using&#160;the&#160;SOAP&#160;protocol.&#160;</p>
<p style="position:absolute;top:447px;left:117px;white-space:nowrap" class="ft8763"></p>
<p style="position:absolute;top:444px;left:138px;white-space:nowrap" class="ft872">Ruby interpreter&#160;v1.8.5&#160;</p>
<p style="position:absolute;top:475px;left:117px;white-space:nowrap" class="ft8763"></p>
<p style="position:absolute;top:472px;left:138px;white-space:nowrap" class="ft872">Native&#160;32&#160;Bit computer&#160;platforms&#160;for&#160;carrying&#160;test&#160;harness&#160;and&#160;test&#160;object&#160;</p>
<p style="position:absolute;top:563px;left:85px;white-space:nowrap" class="ft8712"><b>8.2.3&#160;Test&#160;environments for different&#160;test methods&#160;</b></p>
<p style="position:absolute;top:618px;left:85px;white-space:nowrap" class="ft872">For&#160;different&#160;test&#160;purposes&#160;and&#160;scenarios&#160;we use&#160;adapted&#160;environments:</p>
<p style="position:absolute;top:664px;left:85px;white-space:nowrap" class="ft8712"><b>8.2.4&#160;&#160;PHP&#160;–interface&#160;for&#160;browser&#160;supported&#160;testing</b></p>
<p style="position:absolute;top:691px;left:85px;white-space:nowrap" class="ft874">This allows an&#160;easy interfacing&#160;to standard&#160;browsers&#160;and&#160;therefore&#160;a&#160;manual&#160;user<br/>supported&#160;test execution especially for&#160;error&#160;identifying&#160;and&#160;isolation.&#160;Additional&#160;trace<br/>monitoring&#160;assists&#160;in test&#160;reproduction&#160;and&#160;test&#160;documentation.</p>
<p style="position:absolute;top:804px;left:85px;white-space:nowrap" class="ft8712"><b>8.2.5&#160;Ruby&#160;test&#160;environment interpreter&#160;for&#160;automatic test&#160;sequencing</b></p>
<p style="position:absolute;top:830px;left:85px;white-space:nowrap" class="ft874">The Ruby&#160;interpreter&#160;can&#160;be&#160;used&#160;to&#160;offer&#160;an&#160;automatic&#160;test&#160;execution&#160;support&#160;for<br/>large&#160;scale&#160;regression&#160;tests&#160;and&#160;similar&#160;activities</p>
<p style="position:absolute;top:906px;left:85px;white-space:nowrap" class="ft874">Ruby&#160;is a&#160;relational&#160;language&#160;developed&#160;by&#160;Jones&#160;and&#160;Sheeran for&#160;describing&#160;and<br/>designing&#160;circuits.&#160;&#160;Ruby&#160;programs&#160;denote&#160;binary&#160;relations,&#160;and&#160;programs&#160;are&#160;built-up<br/>inductively&#160;from&#160;primitive&#160;relations&#160;using&#160;a&#160;pre-defined&#160;set of relational&#160;operators.<br/>Ruby&#160;programs&#160;also&#160;have&#160;a&#160;geometric&#160;interpretation&#160;as&#160;networks&#160;of primitive&#160;relations<br/>connected&#160;by&#160;wires,&#160;which is&#160;important&#160;when&#160;layout is considered&#160;in&#160;circuit&#160;design.<br/>Ruby&#160;has been continually&#160;developed&#160;since 1986,&#160;and&#160;has&#160;been&#160;used&#160;to&#160;design&#160;many<br/>different&#160;kinds&#160;of&#160;circuits&#160;but&#160;also&#160;test&#160;language&#160;environments.</p>
<p style="position:absolute;top:1077px;left:85px;white-space:nowrap" class="ft874">Ruby&#160;is a&#160;pure,&#160;untyped,&#160;object-oriented&#160;language—just&#160;about&#160;everything&#160;in&#160;Ruby&#160;is an<br/>object, and object&#160;references are not typed.&#160;People&#160;who&#160;enjoy&#160;exploring&#160;different&#160;OO<br/>programming&#160;paradigms&#160;will&#160;enjoy experimenting&#160;with&#160;Ruby:&#160;it&#160;has&#160;a full&#160;metaclass</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft877">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft877">40/53</p>
</div>
<!-- Page 88 -->
<a name="88"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page88-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2088.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft887">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft887">RC&#160;1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft884">model, iterators,&#160;closures,&#160;reflection,&#160;and&#160;supports&#160;the runtime&#160;extension&#160;of both<br/>classes&#160;and&#160;individual&#160;objects.<br/>Ruby&#160;is being&#160;used&#160;world-wide&#160;for&#160;text&#160;processing,&#160;XML and&#160;web applications,&#160;GUI<br/>building,&#160;in middle-tier&#160;servers,&#160;and&#160;general&#160;system&#160;administration.&#160;Ruby&#160;is&#160;used&#160;in<br/>artificial&#160;intelligence and machine-learning research,&#160;and&#160;as an engine&#160;for&#160;exploratory<br/>mathematics.<br/>Ruby’s&#160;simple&#160;syntax&#160;and&#160;transparent&#160;semantics&#160;make&#160;it&#160;easy&#160;to&#160;learn.&#160;Its&#160;direct<br/>execution&#160;model&#160;and&#160;dynamic&#160;typing&#160;let&#160;you&#160;develop&#160;code&#160;incrementally:&#160;you&#160;can<br/>typically&#160;add&#160;a feature&#160;and&#160;then&#160;try&#160;it&#160;immediately,&#160;with no&#160;need for scaffolding&#160;code.<br/>Ruby&#160;programs&#160;are&#160;typically more&#160;concise&#160;than&#160;their&#160;Perl or&#160;Python&#160;counterparts,&#160;and<br/>their simplicity&#160;makes&#160;them&#160;easier to&#160;understand&#160;and&#160;maintain.&#160;When&#160;you&#160;bump&#160;up<br/>against&#160;some&#160;facility that&#160;Ruby&#160;is&#160;lacking,&#160;you’ll&#160;find&#160;it&#160;easy to&#160;write&#160;Ruby&#160;extensions,<br/>both&#160;&#160;using&#160;Ruby&#160;and&#160;by using&#160;low level C&#160;code&#160;that&#160;adds new&#160;features&#160;to&#160;the<br/>language.&#160;We&#160;came&#160;across&#160;Ruby&#160;when&#160;we&#160;were&#160;looking&#160;for&#160;a language&#160;to use&#160;as a<br/>testing&#160;and specification tool.&#160;</p>
<p style="position:absolute;top:494px;left:85px;white-space:nowrap" class="ft884">The Ruby&#160;approach&#160;to test&#160;design&#160;is to derive implementations&#160;from&#160;specifications&#160;in<br/>the following&#160;way. We&#160;first formulate&#160;a&#160;Ruby&#160;program&#160;that&#160;clearly expresses&#160;the<br/>desired&#160;relationship&#160;between&#160;inputs&#160;and&#160;outputs,&#160;but typically&#160;has no&#160;direct&#160;translation<br/>as&#160;a test. We&#160;then transform&#160;this&#160;program&#160;using&#160;algebraic&#160;laws&#160;for the relational<br/>operators&#160;of&#160;Ruby,&#160;aiming&#160;towards&#160;a&#160;program&#160;that&#160;does represent&#160;a test&#160;environment.<br/>There&#160;are&#160;several&#160;reasons&#160;why Ruby&#160;is based&#160;upon&#160;relations&#160;rather&#160;than functions.<br/>Relational&#160;languages&#160;offer&#160;a&#160;rich&#160;set&#160;of&#160;operators&#160;and laws for&#160;combining&#160;and<br/>transforming&#160;programs,&#160;and a&#160;natural&#160;treatment&#160;of&#160;non-determinism.&#160;Furthermore,<br/>many&#160;methods for combining&#160;circuits (viewed&#160;as&#160;networks of&#160;functions)&#160;are&#160;unified if<br/>the distinction&#160;between&#160;input&#160;and&#160;output&#160;is removed.</p>
<p style="position:absolute;top:741px;left:85px;white-space:nowrap" class="ft881"><b>8.3&#160;Tracing&#160;and Protocol</b></p>
<p style="position:absolute;top:770px;left:85px;white-space:nowrap" class="ft884">The components&#160;TCS and TSP do&#160;not write&#160;any&#160;trace information.&#160;For the purpose&#160;of<br/>tracing, a special&#160;tool/environment&#160;will&#160;be&#160;used, if&#160;necessary.<br/>The&#160;test&#160;script&#160;and all&#160;results&#160;of each test case shall be&#160;written into a protocol&#160;file.&#160;The<br/>protocol&#160;has&#160;the&#160;same&#160;tags&#160;as the test&#160;protocols of the&#160;TSS,&#160;so&#160;that&#160;only one&#160;style<br/>sheet&#160;for&#160;all test protocols&#160;will&#160;be&#160;needed.</p>
<p style="position:absolute;top:950px;left:85px;white-space:nowrap" class="ft881"><b>8.4&#160;Test&#160;Development</b></p>
<p style="position:absolute;top:996px;left:85px;white-space:nowrap" class="ft8812"><b>8.4.1&#160;Formal&#160;Requirements for&#160;the&#160;Test&#160;Plan</b></p>
<p style="position:absolute;top:1022px;left:85px;white-space:nowrap" class="ft884">The test&#160;cases&#160;are&#160;grouped&#160;into&#160;test&#160;subjects.&#160;For each&#160;test&#160;subject, there is a<br/>subchapter&#160;in this&#160;document.&#160;This&#160;sub chapter&#160;contains&#160;a short&#160;overall description&#160;of<br/>the test&#160;subject&#160;and&#160;a table&#160;with&#160;one&#160;row&#160;for&#160;each&#160;test case.<br/>The first&#160;column&#160;denotes the test&#160;case&#160;priority.&#160;The&#160;second&#160;one contains&#160;a unique<br/>identifier&#160;for&#160;the&#160;test&#160;case,&#160;the third&#160;one&#160;a description&#160;of&#160;the&#160;test&#160;case&#160;that&#160;should&#160;be</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft887">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft887">41/53</p>
</div>
<!-- Page 89 -->
<a name="89"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page89-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2089.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft897">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft897">RC&#160;1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft894">sufficient&#160;to&#160;implement the corresponding&#160;test&#160;script.&#160;The third column&#160;contains&#160;either<br/>all&#160;tested commands&#160;of&#160;that test case (good&#160;cases)&#160;or&#160;the&#160;expected&#160;result for&#160;the fault<br/>cases.&#160;</p>
<p style="position:absolute;top:264px;left:85px;white-space:nowrap" class="ft8912"><b>8.4.2&#160;Formal&#160;Requirements&#160;for&#160;the&#160;Test&#160;Scripts</b></p>
<p style="position:absolute;top:290px;left:85px;white-space:nowrap" class="ft894">To&#160;achieve a certain homogeneousness&#160;of&#160;the test&#160;scripts&#160;independent&#160;on&#160;the<br/>developer&#160;and&#160;to&#160;allow for an&#160;automated&#160;checking&#160;of the test&#160;results,&#160;the&#160;following<br/>rules shall&#160;be&#160;followed.<br/>The&#160;name&#160;of a test&#160;script&#160;shall&#160;include&#160;the&#160;unique&#160;identifier of&#160;the test case it<br/>implements.&#160;It shall&#160;be&#160;obvious&#160;from&#160;the&#160;script’s&#160;name,&#160;which&#160;test&#160;case it realizes.<br/>The suffix&#160;of&#160;a test script&#160;shall&#160;indicate&#160;its use.<br/>*.rb&#160;for&#160;standalone&#160;scripts&#160;that&#160;can&#160;be invoked&#160;from&#160;the command&#160;line<br/>*.inc&#160;scripts&#160;to be&#160;included&#160;in&#160;other&#160;scripts&#160;that define&#160;commonly&#160;used&#160;variables<br/>If scripts&#160;contain&#160;possible&#160;dependencies&#160;they&#160;shall&#160;be&#160;realized&#160;as includable.&#160;A&#160;test<br/>case using&#160;this subroutine&#160;might&#160;then&#160;only&#160;contain&#160;the&#160;unique&#160;test&#160;case identifier&#160;and<br/>include the subroutine&#160;script.<br/>For&#160;example&#160;encryption&#160;and&#160;decryption:&#160;the&#160;functionality&#160;of encrypting&#160;shall&#160;be put&#160;in<br/>a&#160;subroutine&#160;script as&#160;well&#160;as the functionality&#160;of&#160;decrypting.&#160;Then&#160;both&#160;of&#160;them&#160;shall<br/>be&#160;included&#160;by the standalone&#160;script&#160;thus&#160;calling the functions&#160;in&#160;the appropriate<br/>order.<br/>Each standalone&#160;script shall&#160;release&#160;all&#160;variables&#160;by means of&#160;a instruction&#160;before<br/>terminating&#160;so&#160;that&#160;various standalone scripts can be&#160;invoked by&#160;means&#160;of&#160;include<br/>instructions&#160;by&#160;a&#160;master&#160;script.<br/>Each standalone&#160;script that&#160;represents&#160;the&#160;main&#160;script&#160;of a test&#160;case&#160;must&#160;include a<br/>reference&#160;to the&#160;unique&#160;test&#160;case&#160;identifier&#160;by containing&#160;a line<br/>&lt;Test-Id&gt; unique&#160;identifier&#160;&lt;/Test-Id&gt;<br/>which is an&#160;tag that&#160;will&#160;be treated&#160;as&#160;a comment&#160;and written&#160;into&#160;the protocol&#160;file<br/>without change.<br/>Each script&#160;must&#160;contain&#160;two&#160;version&#160;information&#160;fields which&#160;can be&#160;automatically<br/>added&#160;to the protocol&#160;file.&#160;That&#160;means,&#160;each&#160;time&#160;a script&#160;is checked&#160;in into&#160;the<br/>database&#160;(and&#160;it&#160;was&#160;modified&#160;in a major&#160;manner),&#160;its version&#160;number&#160;must&#160;be<br/>increased&#160;by the author&#160;and&#160;the&#160;current&#160;date&#160;is&#160;set.</p>
<p style="position:absolute;top:981px;left:85px;white-space:nowrap" class="ft891"><b>8.5&#160;General&#160;Requirements&#160;for the&#160;Test Scripts</b></p>
<p style="position:absolute;top:1009px;left:85px;white-space:nowrap" class="ft894">Hardware&#160;TPM’s&#160;do&#160;not&#160;get a&#160;reset&#160;from&#160;software&#160;and&#160;therefore&#160;do&#160;not&#160;clear&#160;any<br/>previously&#160;set values,&#160;including PCR’s&#160;and&#160;keys.<br/>If a&#160;test&#160;script&#160;uses&#160;any&#160;PCR&#160;values,&#160;it must&#160;set the PCRs&#160;with&#160;an&#160;Extend&#160;command.&#160;<br/>At&#160;the end&#160;of&#160;each&#160;script&#160;all&#160;keys&#160;loaded&#160;by that&#160;script&#160;shall&#160;be&#160;evicted&#160;to&#160;avoid<br/>problems&#160;running&#160;on&#160;hardware&#160;TPM.&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft897">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft897">42/53</p>
</div>
<!-- Page 90 -->
<a name="90"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page90-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2090.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft907">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft907">RC&#160;1.0</p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft9012"><b>8.5.1&#160;Hints for test&#160;script&#160;development</b></p>
<p style="position:absolute;top:222px;left:85px;white-space:nowrap" class="ft902">See chapter&#160;3.5&#160;for&#160;already&#160;implemented&#160;helper&#160;functions.</p>
<p style="position:absolute;top:343px;left:85px;white-space:nowrap" class="ft901"><b>8.6&#160;Guidelines&#160;for&#160;Test&#160;Development</b></p>
<p style="position:absolute;top:374px;left:117px;white-space:nowrap" class="ft9063"></p>
<p style="position:absolute;top:371px;left:138px;white-space:nowrap" class="ft902">Identify&#160;a test&#160;subject&#160;</p>
<p style="position:absolute;top:402px;left:117px;white-space:nowrap" class="ft9063"></p>
<p style="position:absolute;top:399px;left:138px;white-space:nowrap" class="ft902">Insert&#160;a subchapter&#160;into&#160;chapter&#160;TSPI&#160;of&#160;this&#160;document&#160;</p>
<p style="position:absolute;top:431px;left:117px;white-space:nowrap" class="ft9063"></p>
<p style="position:absolute;top:428px;left:138px;white-space:nowrap" class="ft902">Write&#160;a&#160;short&#160;description&#160;of the test subject&#160;</p>
<p style="position:absolute;top:459px;left:117px;white-space:nowrap" class="ft9063"></p>
<p style="position:absolute;top:456px;left:138px;white-space:nowrap" class="ft904">Develop&#160;the&#160;test&#160;scripts&#160;according&#160;to the table&#160;in&#160;the test&#160;plan. Usually,&#160;one&#160;test<br/>script&#160;will&#160;contain&#160;one&#160;test case.&#160;</p>
<p style="position:absolute;top:507px;left:117px;white-space:nowrap" class="ft9063"></p>
<p style="position:absolute;top:504px;left:138px;white-space:nowrap" class="ft904">Fault test&#160;cases&#160;usually&#160;contain&#160;more&#160;than&#160;one&#160;test&#160;case&#160;in&#160;each&#160;row&#160;and&#160;each<br/>test&#160;script.&#160;</p>
<p style="position:absolute;top:555px;left:117px;white-space:nowrap" class="ft9063"></p>
<p style="position:absolute;top:552px;left:138px;white-space:nowrap" class="ft902">Debug&#160;the test&#160;scripts&#160;with&#160;the&#160;help&#160;of the&#160;Scripting&#160;Debug&#160;Tool.&#160;</p>
<p style="position:absolute;top:626px;left:85px;white-space:nowrap" class="ft901"><b>8.7&#160;Helper&#160;functions</b></p>
<p style="position:absolute;top:655px;left:85px;white-space:nowrap" class="ft904">Scripting&#160;environment&#160;does not&#160;handle&#160;by default&#160;TCG specific&#160;structured&#160;data&#160;but<br/>only&#160;byte streams.&#160;To&#160;achieve&#160;the&#160;functionality&#160;of this&#160;the&#160;TSPI-Wrapper&#160;exports<br/>classes,&#160;to&#160;implement&#160;some&#160;helper&#160;functions.&#160;<br/>These&#160;helper functions&#160;can be&#160;realized as&#160;script&#160;functions&#160;first&#160;and&#160;may&#160;later&#160;be<br/>included&#160;in&#160;the wrapper&#160;module.</p>
<p style="position:absolute;top:831px;left:85px;white-space:nowrap" class="ft9012"><b>8.7.1&#160;Defined&#160;helper functions:</b></p>
<p style="position:absolute;top:858px;left:85px;white-space:nowrap" class="ft904">These&#160;helper functions&#160;are&#160;implemented in the scripting&#160;dialect and can&#160;be&#160;found&#160;in<br/>the generic&#160;folder.</p>
<p style="position:absolute;top:908px;left:117px;white-space:nowrap" class="ft9063"></p>
<p style="position:absolute;top:905px;left:138px;white-space:nowrap" class="ft902">Different&#160;compare&#160;methods&#160;(“Test”&#160;instruction)&#160;</p>
<p style="position:absolute;top:936px;left:117px;white-space:nowrap" class="ft9063"></p>
<p style="position:absolute;top:933px;left:138px;white-space:nowrap" class="ft902">Various&#160;protocol&#160;functions&#160;</p>
<p style="position:absolute;top:965px;left:117px;white-space:nowrap" class="ft9063"></p>
<p style="position:absolute;top:962px;left:138px;white-space:nowrap" class="ft902">Retrieve internal&#160;version&#160;of all&#160;included&#160;scripts&#160;</p>
<p style="position:absolute;top:993px;left:117px;white-space:nowrap" class="ft9063"></p>
<p style="position:absolute;top:990px;left:138px;white-space:nowrap" class="ft902">ReadFromFile&#160;</p>
<p style="position:absolute;top:1022px;left:117px;white-space:nowrap" class="ft9063"></p>
<p style="position:absolute;top:1019px;left:138px;white-space:nowrap" class="ft902">WriteToFile&#160;</p>
<p style="position:absolute;top:1050px;left:117px;white-space:nowrap" class="ft9063"></p>
<p style="position:absolute;top:1047px;left:138px;white-space:nowrap" class="ft902">PrintData&#160;</p>
<p style="position:absolute;top:1079px;left:117px;white-space:nowrap" class="ft9063"></p>
<p style="position:absolute;top:1076px;left:138px;white-space:nowrap" class="ft902">Bin2String&#160;</p>
<p style="position:absolute;top:1107px;left:117px;white-space:nowrap" class="ft9063"></p>
<p style="position:absolute;top:1104px;left:138px;white-space:nowrap" class="ft902">AppendArrays&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft907">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft907">43/53</p>
</div>
<!-- Page 91 -->
<a name="91"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page91-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2091.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft917">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft917">RC&#160;1.0</p>
<p style="position:absolute;top:154px;left:117px;white-space:nowrap" class="ft9163"></p>
<p style="position:absolute;top:151px;left:138px;white-space:nowrap" class="ft912">Functions&#160;for ASN.1&#160;handling&#160;</p>
<p style="position:absolute;top:182px;left:117px;white-space:nowrap" class="ft9163"></p>
<p style="position:absolute;top:180px;left:138px;white-space:nowrap" class="ft912">Functions&#160;for extracting parameters&#160;from&#160;TCPA structures&#160;</p>
<p style="position:absolute;top:272px;left:85px;white-space:nowrap" class="ft911"><b>8.8&#160;Scripting&#160;library</b></p>
<p style="position:absolute;top:300px;left:85px;white-space:nowrap" class="ft914">All&#160;data&#160;types in the&#160;interface&#160;handled&#160;as&#160;pointer&#160;have to&#160;be handled&#160;by&#160;the<br/>corresponding&#160;class&#160;objects in&#160;the scripts.</p>
<p style="position:absolute;top:394px;left:85px;white-space:nowrap" class="ft911"><b>8.9&#160;Provoking&#160;Fault&#160;cases</b></p>
<p style="position:absolute;top:422px;left:85px;white-space:nowrap" class="ft914">To&#160;be able&#160;to&#160;provoke&#160;fault&#160;cases,&#160;it&#160;is&#160;desirable&#160;to create&#160;a special&#160;TDDL&#160;library<br/>capable&#160;of changing&#160;the handled&#160;data.&#160;<br/>As&#160;a&#160;next step&#160;,&#160;still outside&#160;the&#160;scope&#160;of&#160;this&#160;document, a&#160;special test environment<br/>will&#160;be developed&#160;for&#160;provoking&#160;such&#160;errors&#160;and&#160;storing&#160;these test&#160;results.<br/>Driven&#160;by&#160;a separate&#160;text (ini)&#160;file,&#160;this&#160;test environment&#160;and&#160;library&#160;will&#160;change,<br/>delete&#160;or&#160;insert&#160;(ranges&#160;of)&#160;bytes of&#160;specified&#160;commands&#160;which were send&#160;from&#160;the<br/>TPM to the TSS.</p>
<p style="position:absolute;top:650px;left:85px;white-space:nowrap" class="ft911"><b>8.10&#160;Running&#160;and&#160;Exercising&#160;the&#160;Tests</b></p>
<p style="position:absolute;top:678px;left:85px;white-space:nowrap" class="ft912">Running&#160;the Tests</p>
<p style="position:absolute;top:700px;left:117px;white-space:nowrap" class="ft9163"></p>
<p style="position:absolute;top:697px;left:138px;white-space:nowrap" class="ft912">Open&#160;a command&#160;window&#160;</p>
<p style="position:absolute;top:729px;left:117px;white-space:nowrap" class="ft9163"></p>
<p style="position:absolute;top:726px;left:138px;white-space:nowrap" class="ft912">change&#160;to the script&#160;directory&#160;within&#160;&lt;test&#160;subject&gt;&#160;</p>
<p style="position:absolute;top:757px;left:117px;white-space:nowrap" class="ft9163"></p>
<p style="position:absolute;top:754px;left:138px;white-space:nowrap" class="ft912">run&#160;the&#160;test&#160;script&#160;file&#160;</p>
<p style="position:absolute;top:785px;left:117px;white-space:nowrap" class="ft9163"></p>
<p style="position:absolute;top:783px;left:138px;white-space:nowrap" class="ft912">archive&#160;the results&#160;in the&#160;archive&#160;directory&#160;</p>
<p style="position:absolute;top:829px;left:85px;white-space:nowrap" class="ft9112"><b>8.10.1&#160;Test coverage</b></p>
<p style="position:absolute;top:856px;left:85px;white-space:nowrap" class="ft914">All&#160;test&#160;cases&#160;from&#160;this&#160;test plan&#160;shall&#160;be&#160;imported&#160;into&#160;a test&#160;coverage&#160;database.&#160;<br/>The test&#160;results&#160;of all&#160;final&#160;tests will be&#160;imported&#160;into the same&#160;test&#160;coverage<br/>database.&#160;</p>
<p style="position:absolute;top:977px;left:85px;white-space:nowrap" class="ft911"><b>8.11&#160;Presentation&#160;of Test Results</b></p>
<p style="position:absolute;top:1006px;left:85px;white-space:nowrap" class="ft914">The test&#160;results&#160;are&#160;primarily&#160;delivered in&#160;the form&#160;of the protocol files&#160;written by<br/>helper functions.&#160;<br/>As the&#160;protocol&#160;file&#160;contains&#160;tags for&#160;certain&#160;attributes of&#160;the test cases&#160;and&#160;their<br/>results,&#160;it&#160;is&#160;possible&#160;to&#160;extract&#160;various&#160;summarizing&#160;reports from&#160;the protocol&#160;file.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft917">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft917">44/53</p>
</div>
<!-- Page 92 -->
<a name="92"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page92-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2092.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft927">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft927">RC&#160;1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft922">Sample&#160;protocol&#160;file:</p>
<p style="position:absolute;top:207px;left:85px;white-space:nowrap" class="ft9231">*************************************************</p>
<p style="position:absolute;top:232px;left:85px;white-space:nowrap" class="ft9231">Test script:&#160;IS2_TSP_001_CreateKey1.rb</p>
<p style="position:absolute;top:285px;left:85px;white-space:nowrap" class="ft9231">Protocol:&#160;..\TssProtocols\&#160;IS2_TSP_001_CreateKey1.pro</p>
<p style="position:absolute;top:338px;left:85px;white-space:nowrap" class="ft9231">TSS&#160;Core&#160;Service:&#160; ..\TCG\TPM-SW\TSS\bin\TCS.exe</p>
<p style="position:absolute;top:363px;left:85px;white-space:nowrap" class="ft9231">version:&#160;2.0.0.0</p>
<p style="position:absolute;top:388px;left:85px;white-space:nowrap" class="ft922">&#160;</p>
<p style="position:absolute;top:390px;left:90px;white-space:nowrap" class="ft9231">last&#160;modified:&#160;26.10.2005&#160;16:20:11</p>
<p style="position:absolute;top:444px;left:85px;white-space:nowrap" class="ft9231">TSS Service&#160;Provider:&#160;..\TCG\Tsp\tsp.dll</p>
<p style="position:absolute;top:469px;left:85px;white-space:nowrap" class="ft922">&#160;</p>
<p style="position:absolute;top:471px;left:90px;white-space:nowrap" class="ft9231">version:&#160;2.0.0.0</p>
<p style="position:absolute;top:497px;left:85px;white-space:nowrap" class="ft922">&#160;</p>
<p style="position:absolute;top:500px;left:90px;white-space:nowrap" class="ft9231">last&#160;modified:&#160;02.12.2005&#160;15:07:28</p>
<p style="position:absolute;top:525px;left:85px;white-space:nowrap" class="ft9231">*************************************************</p>
<p style="position:absolute;top:550px;left:85px;white-space:nowrap" class="ft9231">&lt;Test-Id&gt; IS2_TSP_001_CreateKey1&#160;&lt;/Test-Id&gt;</p>
<p style="position:absolute;top:603px;left:85px;white-space:nowrap" class="ft9231">&lt;Script-Revision&gt;&#160;1.0.0&#160;&lt;/Script-Revision&gt;</p>
<p style="position:absolute;top:628px;left:85px;white-space:nowrap" class="ft9231">&lt;Script-Date&gt; 10.10.2006&#160;&lt;/Script-Date&gt;</p>
<p style="position:absolute;top:652px;left:85px;white-space:nowrap" class="ft9231">*************************************************</p>
<p style="position:absolute;top:677px;left:85px;white-space:nowrap" class="ft9231"># Test started&#160;at 10.10.2006&#160; 16:05:59</p>
<p style="position:absolute;top:730px;left:85px;white-space:nowrap" class="ft9231">*************************************************</p>
<p style="position:absolute;top:755px;left:85px;white-space:nowrap" class="ft9231">TSS&#160;version 1.2&#160;selected</p>
<p style="position:absolute;top:780px;left:85px;white-space:nowrap" class="ft9231">Firmware&#160;version:&#160;1.00</p>
<p style="position:absolute;top:832px;left:85px;white-space:nowrap" class="ft9231">*************************************************</p>
<p style="position:absolute;top:857px;left:85px;white-space:nowrap" class="ft9231">System:&#160;</p>
<p style="position:absolute;top:910px;left:85px;white-space:nowrap" class="ft9231">Kernel:&#160;2.6.16.13</p>
<p style="position:absolute;top:935px;left:85px;white-space:nowrap" class="ft9231">Xerces:2.7.0-11</p>
<p style="position:absolute;top:960px;left:85px;white-space:nowrap" class="ft9231">Xalan-C:&#160;1.10-10</p>
<p style="position:absolute;top:984px;left:85px;white-space:nowrap" class="ft9231">GSOAP:&#160;2.7.7&#160;</p>
<p style="position:absolute;top:1009px;left:85px;white-space:nowrap" class="ft9231">Ruby: &#160;1.8.5</p>
<p style="position:absolute;top:1034px;left:85px;white-space:nowrap" class="ft9231">*************************************************</p>
<p style="position:absolute;top:1059px;left:85px;white-space:nowrap" class="ft9231">&lt;Test-Id-Start&gt; IS2_TSP_001_CreateKey1&#160;&lt;/Test-Id-Start&gt;</p>
<p style="position:absolute;top:1112px;left:85px;white-space:nowrap" class="ft9231">TspConnect&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft927">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft927">45/53</p>
</div>
<!-- Page 93 -->
<a name="93"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft9376{font-size:14px;line-height:15px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page93-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2093.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft937">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft937">RC&#160;1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft9331">TspConnect&#160;succeeded&#160;!</p>
<p style="position:absolute;top:204px;left:85px;white-space:nowrap" class="ft9331">TspCreateObject(4,0)</p>
<p style="position:absolute;top:229px;left:85px;white-space:nowrap" class="ft9331">TspCreateObject&#160;succeeded&#160;!</p>
<p style="position:absolute;top:282px;left:85px;white-space:nowrap" class="ft9331">TspCreateObject(2,67108864)</p>
<p style="position:absolute;top:306px;left:85px;white-space:nowrap" class="ft9331">TspCreateObject&#160;succeeded&#160;!</p>
<p style="position:absolute;top:331px;left:85px;white-space:nowrap" class="ft9331">TspKeySRK.GetPolicyObject&#160;succeeded&#160;!</p>
<p style="position:absolute;top:356px;left:85px;white-space:nowrap" class="ft9331">TspSRKPolicy.SetSecret&#160;succeeded&#160;!</p>
<p style="position:absolute;top:409px;left:85px;white-space:nowrap" class="ft9331">TspCreateObject(2,0)</p>
<p style="position:absolute;top:434px;left:85px;white-space:nowrap" class="ft9331">TspCreateObject&#160;succeeded&#160;!</p>
<p style="position:absolute;top:458px;left:85px;white-space:nowrap" class="ft9331">TspCreateObject(1,1)</p>
<p style="position:absolute;top:483px;left:85px;white-space:nowrap" class="ft9331">TspCreateObject&#160;succeeded&#160;!</p>
<p style="position:absolute;top:508px;left:85px;white-space:nowrap" class="ft9331">TspPolicyUsage.AssignToObject&#160;succeeded&#160;!</p>
<p style="position:absolute;top:533px;left:85px;white-space:nowrap" class="ft9331">PolicyUsage.SetSecret&#160;succeeded&#160;!</p>
<p style="position:absolute;top:557px;left:85px;white-space:nowrap" class="ft9331">TspCreateObject(1,2)</p>
<p style="position:absolute;top:582px;left:85px;white-space:nowrap" class="ft9331">TspCreateObject&#160;succeeded&#160;!</p>
<p style="position:absolute;top:607px;left:85px;white-space:nowrap" class="ft9331">TspPolicyMigration succeeded&#160;!</p>
<p style="position:absolute;top:632px;left:85px;white-space:nowrap" class="ft9331">PolicyMigration.SetSecret&#160;succeeded&#160;!</p>
<p style="position:absolute;top:656px;left:85px;white-space:nowrap" class="ft9331">TspCreateKey&#160;succeeded&#160;!</p>
<p style="position:absolute;top:681px;left:85px;white-space:nowrap" class="ft9331">TspKey.GetAttribData&#160;succeeded&#160;!</p>
<p style="position:absolute;top:734px;left:85px;white-space:nowrap" class="ft9331">keyBlob:&#160;</p>
<p style="position:absolute;top:759px;left:85px;white-space:nowrap" class="ft9376">0x30,&#160;0x82,&#160;0x01,&#160;0xEB,&#160;0x02,&#160;0x01,&#160;0x01,&#160;0x02,&#160;0x01,&#160;0x01,&#160;0x02,&#160;0x04,&#160;0x00,&#160;0x00,&#160;0x01,&#160;0xDB, 0x04,<br/>0x82,&#160;0x01,&#160;0xDB,&#160;0x01,&#160;0x01, 0x00, 0x00,&#160;0x00,&#160;0x15,&#160;0x00,&#160;0x00,&#160;0x00,&#160;0x06,&#160;0x01, 0x00, 0x00,&#160;0x00,<br/>0x01,&#160;0x00,&#160;0x02,&#160;0x00,&#160;0x03,&#160;0x00, 0x00, 0x00,&#160;0x0C, 0x00,&#160;0x00, 0x04, 0x00,&#160;0x00,&#160;0x00, 0x00, 0x02,<br/>0x00,&#160;0x00,&#160;0x00,&#160;0x00,&#160;0x00,&#160;0x00, 0x00, 0x2C, 0x00,&#160;0x02,&#160;0x09, 0x00, 0x8F, 0xB4, 0x77, 0x65,&#160;0x99,<br/>0x63,&#160;0xF3,&#160;0x84, 0x63, 0x58,&#160;0xE3, 0x9C, 0x4A,&#160;0x89,&#160;0x74,&#160;0x50,&#160;0xBB, 0x1C,&#160;0xD7,&#160;0x5D,&#160;0x8F,&#160;0xB4,<br/>0x77,&#160;0x65,&#160;0x99,&#160;0x63,&#160;0xF3,&#160;0x84, 0x63, 0x58,&#160;0xE3, 0x9C, 0x4A,&#160;0x89,&#160;0x74,&#160;0x50,&#160;0xBB, 0x1C,&#160;0xD7,<br/>0x5D,&#160;0x00,&#160;0x00,&#160;0x00,&#160;0x80,&#160;0x8C,&#160;0x9C,&#160;0xCC,&#160;0xF0,&#160;0xD9,&#160;0x77,&#160;0x12,&#160;0xE1,&#160;0x72,&#160;0x21,&#160;0x42,&#160;0x93,<br/>0xA7, 0x75,&#160;0x54,&#160;0x6C, 0x45,&#160;0x33,&#160;0xFF,&#160;0x26,&#160;0x1F, 0xA1,&#160;0xC9, 0xDF,&#160;0x6F,&#160;0x31,&#160;0x89, 0x35, 0x47,<br/>0x94,&#160;0x7D,&#160;0xEF,&#160;0x1D, 0xED, 0xF6, 0x15, 0x5F, 0x97, 0x19, 0x30,&#160;0x09,&#160;0x87,&#160;0x28,&#160;0x58,&#160;0xE1,&#160;0x46,<br/>0x4A, 0x97,&#160;0x4A,&#160;0xE9,&#160;0x5B, 0xB8,&#160;0x59,&#160;0x12,&#160;0xAC, 0x21,&#160;0x51, 0xF6,&#160;0x4A, 0x0D, 0x4F, 0xE5, 0x84,<br/>0x76,&#160;0x6D,&#160;0xAC, 0x6F, 0xE1, 0xF2,&#160;0x5F,&#160;0x43,&#160;0x27,&#160;0xB4, 0x8E, 0x16, 0xB7,&#160;0xCB, 0x52, 0x07,&#160;0x01,<br/>0x9D,&#160;0xFB, 0xC3,&#160;0x9D, 0x52, 0xAE,&#160;0x29,&#160;0x62, 0x0E, 0xDA,&#160;0x67,&#160;0x8F,&#160;0xAD,&#160;0x68,&#160;0x13,&#160;0x2E,<br/>0xF3,&#160;0x9C,&#160;0x36,&#160;0x4F,&#160;0xA2,&#160;0x92,&#160;0x22,&#160;0x92,&#160;0x12,&#160;0x2D,&#160;0x1D,&#160;0xF0, 0xE2,&#160;0x47,&#160;0x78,&#160;0x71,&#160;0xFE,<br/>0xD2,&#160;0x9F, 0x8B,&#160;0x14, 0x49,&#160;0xFF,&#160;0x59,&#160;0x8B, 0x56,&#160;0xC4,&#160;0xED, 0x4F,&#160;0xAF, 0x99, 0x09, 0x00,&#160;0x00,<br/>0x01,&#160;0x00,&#160;0x36,&#160;0xF4,&#160;0xF2,&#160;0xB8,&#160;0xFC,&#160;0xD3, 0x83, 0xD1, 0x8F, 0xFD,&#160;0x24,&#160;0x97,&#160;0xD9,&#160;0x97,&#160;0xDB,<br/>0x06,&#160;0x2D,&#160;0x3C,&#160;0x78,&#160;0xE1,&#160;0x82,&#160;0x51,&#160;0x72,&#160;0x4D,&#160;0xE7,&#160;0x0F,&#160;0x12,&#160;0x64,&#160;0x60,&#160;0x1D, 0x2E,&#160;0xE8,<br/>0xC8, 0xE0,&#160;0x66,&#160;0xDF,&#160;0xCB, 0x47,&#160;0x05, 0xE1,&#160;0x77, 0x30, 0x35, 0x19,&#160;0x14,&#160;0x9A,&#160;0x80,&#160;0xB5,&#160;0x41,<br/>0x23,&#160;0xA9, 0x23,&#160;0xAF, 0xF4, 0xCA,&#160;0x0E,&#160;0x2A, 0x43, 0xC5, 0x04, 0xE9,&#160;0x1D, 0xA5,&#160;0x1C, 0x35,&#160;0x73,<br/>0x8E, 0x4B, 0x11,&#160;0xB0,&#160;0xBD, 0x97,&#160;0x14,&#160;0x8D, 0x58,&#160;0x17,&#160;0xD2,&#160;0x9A, 0xDA, 0x0A,&#160;0xE4, 0x64,<br/>0x10,&#160;0xFE,&#160;0xE3,&#160;0x2E,&#160;0xB4,&#160;0x76,&#160;0xF4,&#160;0x10,&#160;0x80, 0x0B, 0x50,&#160;0xE5,&#160;0x60,&#160;0x76,&#160;0x68,&#160;0x81,&#160;0xBE,<br/>0x11,&#160;0x58,&#160;0x10,&#160;0xBA,&#160;0xA0,&#160;0xC0,&#160;0x64, 0x47, 0x8E,&#160;0x0D,&#160;0xA9,&#160;0xEC,&#160;0x07,&#160;0x42,&#160;0x36,&#160;0xD5,<br/>0x18,&#160;0x0D,&#160;0x73,&#160;0x8F,&#160;0x4D,&#160;0x7C,&#160;0x53,&#160;0x7C, 0x40,&#160;0x78,&#160;0x4A,&#160;0x60,&#160;0x0E,&#160;0x70,&#160;0x75,&#160;0x46,&#160;0x61,<br/>0xEE,&#160;0xD7,&#160;0xA7, 0x31,&#160;0xC1, 0x18, 0x3F,&#160;0x49,&#160;0xAD, 0x5C,&#160;0x6B,&#160;0xDA,&#160;0xCB, 0x90, 0x81, 0xC8,<br/>0xBF,&#160;0x24,&#160;0x7D, 0x15,&#160;0x56,&#160;0x20,&#160;0x30,&#160;0x69,&#160;0xFB, 0x98,&#160;0x43,&#160;0x39,&#160;0xDE, 0xCD,&#160;0x0F,&#160;0x9D,&#160;0x87,</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft937">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft937">46/53</p>
</div>
<!-- Page 94 -->
<a name="94"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft9477{font-size:14px;font-family:CourierNewPSMT;color:#000000;}
-->
</style>
<div id="page94-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2094.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft947">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft947">RC&#160;1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft9476">0x30,&#160;0xB4,&#160;0xC1, 0xD7, 0x37, 0x83, 0xFC,&#160;0xE7, 0xAE,&#160;0x56,&#160;0x48,&#160;0xAC, 0x8D, 0xC1, 0x40,&#160;0x1E,<br/>0x95,&#160;0x44,&#160;0xD2,&#160;0x60,&#160;0x06,&#160;0x4B, 0xD7,&#160;0x35,&#160;0x91,&#160;0x80,&#160;0x3D,&#160;0xA7, 0x64, 0x60,&#160;0x1C, 0x4D,<br/>0x08,&#160;0x25,&#160;0xE8,&#160;0x11,&#160;0x12,&#160;0x3E,&#160;0xB5,&#160;0xD0, 0xBB, 0x65,&#160;0xDF,&#160;0xCD,&#160;0xB2, 0x29,&#160;0x14, 0x12,<br/>0xC2, 0xA3,&#160;0x68,&#160;0xF3, 0xF1, 0x0D,&#160;0x44,&#160;0xB3,&#160;0x19, 0x15, 0xC2, 0x2C,&#160;0xA8,&#160;0xD1,&#160;0xCA,&#160;0xF2,<br/>0xB9, 0x00,&#160;0x2F,&#160;0x2B, 0x2F,&#160;0x9F, 0xE0,&#160;0xE6,&#160;0xA7,&#160;0xDC,&#160;0x49,&#160;0xB5, 0xEC, 0x71, 0x88,&#160;0x3E, 0x54,<br/>0x0C,&#160;0x50,&#160;0xE0, 0x79,&#160;0x6D,&#160;0x07,&#160;0x6E,&#160;0xB4, 0x38,&#160;0xD2</p>
<p style="position:absolute;top:283px;left:85px;white-space:nowrap" class="ft9431">&lt;Test-Id-End&gt; IS2_TSP_001_CreateKey1&#160;&lt;/Test-Id-End&gt;</p>
<p style="position:absolute;top:308px;left:85px;white-space:nowrap" class="ft9431">&lt;Test-Id-Summery-Start&gt; IS2_TSP_001_CreateKey1&#160;&lt;/Test-Id-Summery-Start&gt;</p>
<p style="position:absolute;top:332px;left:85px;white-space:nowrap" class="ft9431">*************************************************</p>
<p style="position:absolute;top:360px;left:85px;white-space:nowrap" class="ft9477"># TEST ERROR(S):&#160;</p>
<p style="position:absolute;top:360px;left:245px;white-space:nowrap" class="ft9477">0</p>
<p style="position:absolute;top:384px;left:85px;white-space:nowrap" class="ft9477"># TEST WARNING(S):&#160;&#160;0</p>
<p style="position:absolute;top:408px;left:85px;white-space:nowrap" class="ft9477"># TEST INSTRUCTION(S): 14</p>
<p style="position:absolute;top:461px;left:85px;white-space:nowrap" class="ft9477"># TEST FINISHED:</p>
<p style="position:absolute;top:461px;left:245px;white-space:nowrap" class="ft9477">&#160;10.10.2006</p>
<p style="position:absolute;top:461px;left:351px;white-space:nowrap" class="ft9477">&#160;16.06.50</p>
<p style="position:absolute;top:485px;left:85px;white-space:nowrap" class="ft9477"># TEST DURATION:</p>
<p style="position:absolute;top:485px;left:245px;white-space:nowrap" class="ft9477">&#160;51 seconds</p>
<p style="position:absolute;top:507px;left:85px;white-space:nowrap" class="ft9431">*************************************************</p>
<p style="position:absolute;top:531px;left:85px;white-space:nowrap" class="ft9431">&lt;Test-Id-Summery-End&gt; IS2_TSP_001_CreateKey1&#160;&lt;/Test-Id-Summery-End&gt;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft947">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft947">47/53</p>
</div>
<!-- Page 95 -->
<a name="95"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page95-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2095.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft957">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft957">RC&#160;1.0</p>
<p style="position:absolute;top:200px;left:85px;white-space:nowrap" class="ft9510"><b>9&#160;</b></p>
<p style="position:absolute;top:197px;left:117px;white-space:nowrap" class="ft9511"><b>Test management&#160;environment&#160;based on the script language RUBY</b></p>
<p style="position:absolute;top:255px;left:85px;white-space:nowrap" class="ft954">In&#160;addition&#160;to&#160;the&#160;PHP&#160;based&#160;test&#160;interface&#160;, which&#160;has advantages&#160;for&#160;manual&#160;testing<br/>and&#160;fast&#160;generation&#160;of result&#160;reports,&#160;we&#160;used also&#160;the well known&#160;RUBY&#160;environment<br/>for&#160;testing.</p>
<p style="position:absolute;top:368px;left:85px;white-space:nowrap" class="ft951"><b>9.1&#160;Motivation&#160;and execution</b></p>
<p style="position:absolute;top:425px;left:85px;white-space:nowrap" class="ft954">For&#160;a full coverage&#160;of&#160;the functionality&#160;and behaviour&#160;tests of&#160;the&#160;Linux&#160;TSS stack<br/>within&#160;the OpenTC&#160;project, we&#160;use&#160;two&#160;different test methods&#160;and&#160;implementations.<br/>Small&#160;and&#160;compact&#160;code&#160;sequences&#160;are generated&#160;in&#160;the target&#160;programming<br/>language&#160;C&#160;as well&#160;as&#160;for&#160;the test environment&#160;based&#160;on&#160;the&#160;RUBY&#160;script&#160;language<br/>which&#160;use&#160;only small&#160;and&#160;compact&#160;functional&#160;of&#160;the TSS service&#160;provider.&#160;With&#160;such<br/>high&#160;granularity&#160;tests we&#160;will&#160;minimize&#160;the risk&#160;to ignore&#160;errors&#160;within&#160;the execution<br/>protocols.&#160;From&#160;the point&#160;of the Service provider&#160;(SP)&#160;both&#160;methods&#160;look&#160;nearly<br/>identical, because&#160;the complementary&#160;test process is&#160;either&#160;an executable&#160;program&#160;or<br/>an&#160;shared&#160;object&#160;from&#160;the universal&#160;test environment.<br/>This&#160;run time library&#160;is following&#160;certain&#160;stringent&#160;rules,&#160;for&#160;allowing&#160;the&#160;RUBY<br/>interpreter&#160;to&#160;feed&#160;through&#160;and&#160;converting&#160;the&#160;script&#160;calls of the&#160;ruby&#160;interpreter.<br/>Amongst&#160;the many&#160;available&#160;script&#160;languages&#160;for&#160;Linux,&#160;Ruby&#160;has&#160;been&#160;selected,<br/>because this&#160;language&#160;is consequently&#160;object&#160;oriented&#160;, the scripts are easily&#160;to&#160;read<br/>and the generation&#160;of a&#160;linkage&#160;library&#160;to&#160;connect to&#160;the&#160;TSS SP&#160;is very&#160;much<br/>supported&#160;by automatic&#160;code&#160;generation&#160;means.&#160;</p>
<p style="position:absolute;top:786px;left:85px;white-space:nowrap" class="ft951"><b>9.2&#160;&#160;Requirements&#160;for run time&#160;environment</b></p>
<p style="position:absolute;top:860px;left:85px;white-space:nowrap" class="ft9512"><b>9.2.1&#160;&#160;The&#160;Ruby Interpreter</b></p>
<p style="position:absolute;top:915px;left:85px;white-space:nowrap" class="ft954">We&#160;use the&#160;self compiling&#160;Ruby interpreter&#160;vers.&#160;1.8.5&#160;for all&#160;applications&#160;within&#160;our<br/>project.&#160;This&#160;standardized&#160;interface&#160;makes&#160;sure,&#160;that&#160;also&#160;any&#160;external&#160;error&#160;gives<br/>similar&#160;results in any case.</p>
<p style="position:absolute;top:1010px;left:85px;white-space:nowrap" class="ft952">For&#160;generation&#160;of Ruby&#160;a&#160;predefined&#160;script&#160;is available:</p>
<p style="position:absolute;top:1066px;left:85px;white-space:nowrap" class="ft954">$OPENTSS_DIR/../../testtool/tsstest/shared/build_all<br/>It generates&#160;the&#160;interpreter&#160;as&#160;well&#160;as&#160;the&#160;support&#160;program&#160;“swig”.&#160;During&#160;successful<br/>generation&#160;the script&#160;also&#160;establishes&#160;within&#160;the&#160;test&#160;directory</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft957">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft957">48/53</p>
</div>
<!-- Page 96 -->
<a name="96"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page96-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2096.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft967">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft967">RC&#160;1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft962">&#160;„$OPENTSS_DIR/build/bin“&#160;symbolic&#160;links&#160;to&#160;the&#160;support&#160;programs&#160;below&#160;</p>
<p style="position:absolute;top:207px;left:85px;white-space:nowrap" class="ft965">$OPENTSS_DIR/../../testtool/tsstest/shared/ruby/ruby_runtime/bin<br/>and</p>
<p style="position:absolute;top:292px;left:85px;white-space:nowrap" class="ft962">$OPENTSS_DIR/../../testtool/tsstest/shared/swig/swig_runtime/bin</p>
<p style="position:absolute;top:348px;left:85px;white-space:nowrap" class="ft964">The testing&#160;personal&#160;as well&#160;as&#160;the&#160;developers&#160;have to&#160;have&#160;the target&#160;directory inside<br/>their&#160;search paths of&#160;the shell on&#160;a&#160;location&#160;before&#160;he&#160;system&#160;definition&#160;parts.</p>
<p style="position:absolute;top:454px;left:85px;white-space:nowrap" class="ft9612"><b>9.2.2&#160;&#160;Writing test&#160;scripts</b></p>
<p style="position:absolute;top:509px;left:85px;white-space:nowrap" class="ft967">For testing&#160;the&#160;TSS&#160;functions&#160;with&#160;the help of Ruby,&#160;every scripts&#160;needs&#160;only one test definition</p>
<p style="position:absolute;top:526px;left:85px;white-space:nowrap" class="ft967">file, e.g.:</p>
<p style="position:absolute;top:581px;left:85px;white-space:nowrap" class="ft964">Require &#34;../generic/otc_environment.inc&#34;<br/>For&#160;example&#160;„otc_environment.rb“&#160;includes&#160;a&#160;class of logic&#160;elements, several TSS<br/>constants&#160;and&#160;the Ruby TSS&#160;Wrapper.&#160;This&#160;behaviour&#160;has advantages&#160;for&#160;TSS.&#160;Other<br/>directory&#160;structures&#160;would require&#160;adaptations&#160;of the scripts.</p>
<p style="position:absolute;top:734px;left:85px;white-space:nowrap" class="ft962">[Ruby&#160;]&#160;</p>
<p style="position:absolute;top:734px;left:151px;white-space:nowrap" class="ft9661">http://www.ruby-lang.org/en/</p>
<p style="position:absolute;top:734px;left:390px;white-space:nowrap" class="ft962">&#160;Ruby&#160;language,&#160;a programmers&#160;best&#160;friend;</p>
<p style="position:absolute;top:753px;left:139px;white-space:nowrap" class="ft962">Official&#160;ruby&#160;page</p>
<p style="position:absolute;top:781px;left:85px;white-space:nowrap" class="ft962">[RubyD]&#160;</p>
<p style="position:absolute;top:781px;left:158px;white-space:nowrap" class="ft9661">http://www2.ruby-lang.org/en/20020102.html</p>
<p style="position:absolute;top:781px;left:535px;white-space:nowrap" class="ft962">&#160;,&#160;the Ruby&#160;download&#160;page&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft967">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft967">49/53</p>
</div>
<!-- Page 97 -->
<a name="97"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page97-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2097.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft977">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft977">RC&#160;1.0</p>
<p style="position:absolute;top:191px;left:85px;white-space:nowrap" class="ft9710"><b>10&#160;</b></p>
<p style="position:absolute;top:188px;left:127px;white-space:nowrap" class="ft9711"><b>&#160;Testing by third parties&#160;inside&#160;the&#160;OpenTC project</b></p>
<p style="position:absolute;top:237px;left:85px;white-space:nowrap" class="ft974">The Budapest&#160;University&#160;of&#160;Technology&#160;and&#160;Economics&#160;(BME)&#160;Department&#160;of<br/>Measurement&#160;and&#160;Information&#160;Systems&#160;is responsible&#160;within&#160;the&#160;OpenTC&#160;WP&#160;7<br/>‘Software&#160;Development&#160;Support,&#160;Quality,&#160;Evaluation&#160;and&#160;Certification’&#160;for the&#160;manual<br/>and&#160;automated&#160;security&#160;testing&#160;of OpenTC software&#160;components.<br/>BME carries&#160;out testing on&#160;different&#160;targets during&#160;the course&#160;of&#160;the project;&#160;and also<br/>on&#160;the TSS.&#160;&#160;For&#160;this ToE&#160;a combined&#160;approach&#160;was chosen,&#160;for&#160;the API-level&#160;analysis<br/>at&#160;the&#160;TSPI-interface&#160;level of the&#160;TCG&#160;Software&#160;Stack&#160;implementation&#160;both&#160;black-box<br/>and&#160;white-box mode&#160;testing&#160;will&#160;be&#160;executed&#160;using&#160;the&#160;automated&#160;security&#160;testing&#160;tool<br/>Flinder.<br/>The main&#160;goal&#160;of&#160;the&#160;testing&#160;is to&#160;evaluate&#160;the TSS&#160;at&#160;the TSPI&#160;level using&#160;both&#160;black-<br/>box and&#160;white-box&#160;techniques.&#160;By doing&#160;this&#160;BME&#160;will&#160;gain&#160;information&#160;about&#160;integrity<br/>and interoperability&#160;properties&#160;of&#160;the&#160;Service&#160;Provider&#160;(SP)&#160;and Core&#160;Service&#160;(CS)&#160;parts<br/>of the TSS&#160;implementation.</p>
<p style="position:absolute;top:514px;left:85px;white-space:nowrap" class="ft971"><b>Test&#160;process&#160;overview</b></p>
<p style="position:absolute;top:1118px;left:303px;white-space:nowrap" class="ft9717">Figure&#160; 5:Test&#160;process&#160;overview</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft977">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft977">50/53</p>
</div>
<!-- Page 98 -->
<a name="98"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft9878{font-size:18px;font-family:MHLKPD+ArialUnicodeMS;color:#000000;}
-->
</style>
<div id="page98-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2098.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft987">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft987">RC&#160;1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft984">This&#160;section details&#160;the&#160;test&#160;process&#160;that will be&#160;followed&#160;by&#160;BME&#160;during&#160;the execution<br/>of testing of&#160;the OpenTC&#160;Infineon&#160;TSS implementation.&#160;The&#160;following&#160;steps&#160;constitute<br/>to the&#160;test process:</p>
<p style="position:absolute;top:246px;left:85px;white-space:nowrap" class="ft981"><b>SECURITY&#160;OBJECTIVES</b></p>
<p style="position:absolute;top:274px;left:85px;white-space:nowrap" class="ft9862">Concerning&#160;the&#160;Infineon&#160;TSS&#160;implementation&#160;BME&#160;carries&#160;out&#160;an&#160;API-level security<br/>testing using&#160;the&#160;automated&#160;security testing&#160;tool&#160;FlINDERS.&#160;The overall&#160;goal&#160;of the<br/>testing&#160;is to&#160;focus&#160;on&#160;typical&#160;security-relevant&#160;programming&#160;bugs&#160;and&#160;detect&#160;their<br/>presence&#160;in&#160;the Target&#160;of&#160;Evaluation&#160;in an&#160;automated&#160;fashion.<br/>Regarding&#160;this API-level&#160;automated security testing we formulated&#160;two&#160;types of<br/>security&#160;</p>
<p style="position:absolute;top:384px;left:156px;white-space:nowrap" class="ft9843">objectives:&#160;</p>
<p style="position:absolute;top:413px;left:112px;white-space:nowrap" class="ft9843">1)&#160;TCG-related security objectives build a wrapper around the security&#160;requirements specified</p>
<p style="position:absolute;top:434px;left:139px;white-space:nowrap" class="ft9843">in the TCG documents&#160;and</p>
<p style="position:absolute;top:464px;left:112px;white-space:nowrap" class="ft9843">2)&#160;2) implementation-related security objectives&#160;focusing on the properties of the actual piece</p>
<p style="position:absolute;top:484px;left:139px;white-space:nowrap" class="ft9843">of software being under&#160;scrutiny.</p>
<p style="position:absolute;top:510px;left:85px;white-space:nowrap" class="ft984">The goal&#160;of the execution&#160;of&#160;the automated&#160;security&#160;testing&#160;will&#160;be&#160;to&#160;assess,&#160;to&#160;what<br/>level the Infineon&#160;implementation&#160;fulfills&#160;these&#160;requirements.</p>
<p style="position:absolute;top:578px;left:85px;white-space:nowrap" class="ft981"><b>Test&#160;approaches</b></p>
<p style="position:absolute;top:606px;left:85px;white-space:nowrap" class="ft984">BME&#160;will carry&#160;out&#160;automated&#160;security&#160;testing using&#160;the Flinder&#160;[FLINDER]&#160;tool. This<br/>tool&#160;was selected after having carried&#160;out&#160;a comprehensive&#160;study in&#160;the field of<br/>automated&#160;security&#160;testing&#160;utilities.<br/>Two venues shall be&#160;considered&#160;for&#160;testing the&#160;TCG Software&#160;Stack (TSS)<br/>implementation:</p>
<p style="position:absolute;top:719px;left:85px;white-space:nowrap" class="ft9878">•</p>
<p style="position:absolute;top:723px;left:91px;white-space:nowrap" class="ft982">&#160;The&#160;first&#160;approach&#160;targets&#160;the TCG Service&#160;Provider&#160;Interface (TSPI)&#160;and&#160;will employ</p>
<p style="position:absolute;top:751px;left:85px;white-space:nowrap" class="ft985">white-box testing techniques&#160;for&#160;vulnerability&#160;assessment.&#160;With this&#160;method we will<br/>be able to&#160;evaluate&#160;integrity&#160;issues&#160;of&#160;the Service&#160;Provider&#160;(SP)&#160;part of the&#160;TSS<br/>implementation.<br/>•&#160;Other&#160;means&#160;shall&#160;be&#160;used&#160;for&#160;the&#160;second&#160;approach:&#160;black-box&#160;testing&#160;of&#160;the&#160;SOAP<br/>transport&#160;layer.&#160;This&#160;time,&#160;deeper levels&#160;of the&#160;TSS are&#160;scrutinized&#160;for potential<br/>threats.&#160;The SOAP&#160;communication&#160;link is targeted&#160;because it&#160;is the&#160;interface&#160;to the<br/>TSS&#160;Core Services&#160;(TCS) layer&#160;implemented&#160;in&#160;the&#160;</p>
<p style="position:absolute;top:925px;left:504px;white-space:nowrap" class="ft9816">coreserviced</p>
<p style="position:absolute;top:920px;left:623px;white-space:nowrap" class="ft982">&#160;process.&#160;This</p>
<p style="position:absolute;top:949px;left:85px;white-space:nowrap" class="ft985">approach&#160;will enable&#160;use&#160;to&#160;assess the security and&#160;interoperability&#160;of&#160;the&#160;Core<br/>Service&#160;(CS)&#160;part&#160;of the TSS&#160;implementation.</p>
<p style="position:absolute;top:1047px;left:85px;white-space:nowrap" class="ft981"><b>Black-box&#160;testing&#160;at&#160;the&#160;SOAP connection&#160;level</b></p>
<p style="position:absolute;top:1075px;left:85px;white-space:nowrap" class="ft984">The&#160;implementation&#160;of the TSS&#160;is&#160;realized&#160;by&#160;two&#160;communicating&#160;processes.&#160;Driving<br/>the kernel&#160;device&#160;driver&#160;and&#160;providing&#160;the core service functionality&#160;is provided&#160;by&#160;the</p>
<p style="position:absolute;top:1119px;left:85px;white-space:nowrap" class="ft9816">coreserviced&#160;</p>
<p style="position:absolute;top:1114px;left:214px;white-space:nowrap" class="ft982">demon&#160;server&#160;process.&#160;Two&#160;TSS layers&#160;are&#160;implemented&#160;in this</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft987">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft987">51/53</p>
</div>
<!-- Page 99 -->
<a name="99"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page99-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2099.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft997">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft997">RC&#160;1.0</p>
<p style="position:absolute;top:153px;left:85px;white-space:nowrap" class="ft992">process,&#160;the&#160;</p>
<p style="position:absolute;top:156px;left:192px;white-space:nowrap" class="ft9943">TDDL&#160;and the TCS. The&#160;</p>
<p style="position:absolute;top:157px;left:376px;white-space:nowrap" class="ft9916">coreserviced&#160;</p>
<p style="position:absolute;top:153px;left:504px;white-space:nowrap" class="ft992">process&#160;exposes&#160;a programming</p>
<p style="position:absolute;top:173px;left:85px;white-space:nowrap" class="ft994">interface,&#160;which clients can&#160;access&#160;through&#160;the SOAP&#160;protocol.<br/>&#160;Flinder&#160;starts&#160;the test&#160;program,&#160;but&#160;now&#160;instead&#160;of hooking&#160;the&#160;source&#160;code,&#160;the&#160;SOAP<br/>communication&#160;is intercepted.&#160;A&#160;SOAP&#160;proxy&#160;is inserted&#160;into&#160;the data&#160;stream,&#160;which<br/>channels&#160;data&#160;to&#160;Flinder.&#160;The&#160;intercepted&#160;data&#160;is modified&#160;and&#160;then&#160;routed&#160;back&#160;to&#160;its<br/>original&#160;destination.<br/>The main&#160;advantage&#160;of&#160;this&#160;procedure&#160;is&#160;that&#160;now&#160;the implementation&#160;of the<br/>coreserviced&#160;is&#160;under&#160;investigation,&#160;and&#160;not&#160;that&#160;of&#160;the client&#160;process.&#160;In this&#160;setting<br/>malfunctions&#160;or&#160;crashes of the client&#160;process&#160;do not&#160;mask&#160;potential&#160;failures&#160;in&#160;the core<br/>service demon.</p>
<p style="position:absolute;top:1011px;left:291px;white-space:nowrap" class="ft992">Figure&#160;&#160;6 :SOAP&#160;transport level hooking</p>
<p style="position:absolute;top:1039px;left:85px;white-space:nowrap" class="ft9933">The detailed description and results&#160;from&#160;these test procedures will be<br/>available as deliverable&#160;report&#160;from&#160;OpenTC WP7.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft997">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft997">52/53</p>
</div>
<!-- Page 100 -->
<a name="100"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft10079{font-size:16px;font-family:TimesNewRomanPSMT;color:#000000;}
-->
</style>
<div id="page100-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2100.png" alt="background image"/>
<p style="position:absolute;top:92px;left:204px;white-space:nowrap" class="ft1007">TPM Software Stack&#160;(TSS) Implementation and Test&#160;Report</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft1007">RC&#160;1.0</p>
<p style="position:absolute;top:154px;left:85px;white-space:nowrap" class="ft10010"><b>11&#160;</b></p>
<p style="position:absolute;top:151px;left:127px;white-space:nowrap" class="ft10011"><b>TPM Controller: &#160;TPM&#160;Management and&#160;Control SW package</b></p>
<p style="position:absolute;top:200px;left:85px;white-space:nowrap" class="ft1004">The&#160;„TPM&#160;Controller“&#160;is&#160;a GUI application that&#160;helps the user&#160;with the initial&#160;startup of<br/>the TPM&#160;usage.&#160;The&#160;intention&#160;of the tool&#160;is&#160;not&#160;to&#160;provide&#160;a complete set&#160;of functions<br/>for&#160;handling&#160;all&#160;capabilities&#160;of&#160;the&#160;TPM&#160;nor&#160;displaying&#160;all&#160;possible&#160;TPM&#160;internal&#160;values,<br/>but&#160;to &#34;control&#34;&#160;the&#160;basic&#160;functionality&#160;for further usage&#160;of&#160;the TPM.&#160;There are some<br/>other applications&#160;handling&#160;the former&#160;issues,&#160;like&#160;the &#34;TPM&#160;Manager&#34;<br/>(</p>
<p style="position:absolute;top:296px;left:92px;white-space:nowrap" class="ft10061">http://sourceforge.net/projects/tpmmanager/</p>
<p style="position:absolute;top:296px;left:463px;white-space:nowrap" class="ft1002">) or&#160;the &#34;TPM&#160;Monitor&#34;</p>
<p style="position:absolute;top:316px;left:85px;white-space:nowrap" class="ft1002">(</p>
<p style="position:absolute;top:316px;left:92px;white-space:nowrap" class="ft10061">http://sourceforge.net/projects/tpmmonitor/</p>
<p style="position:absolute;top:316px;left:454px;white-space:nowrap" class="ft1002">).</p>
<p style="position:absolute;top:335px;left:85px;white-space:nowrap" class="ft1004">The&#160;&#34;TPM&#160;Controller&#34;&#160;tool&#160;arised as&#160;a result&#160;of&#160;the OpenTC EU&#160;project and&#160;is hosted&#160;on<br/>their&#160;homepage&#160;</p>
<p style="position:absolute;top:354px;left:222px;white-space:nowrap" class="ft10061">http://www.opentc.net/</p>
<p style="position:absolute;top:354px;left:413px;white-space:nowrap" class="ft1002">&#160;. It provides&#160;the possibility&#160;to&#160;take,&#160;change and</p>
<p style="position:absolute;top:373px;left:85px;white-space:nowrap" class="ft1004">clear&#160;the ownership&#160;of&#160;the&#160;TPM,&#160;which&#160;are&#160;probably&#160;the&#160;main&#160;things&#160;to&#160;do&#160;when<br/>initiating&#160;a&#160;TPM.&#160;In opposition&#160;to these&#160;other&#160;packages&#160;it&#160;uses&#160;exactly the official<br/>functional&#160;TSS1.2&#160;specification&#160;from&#160;the TCG.&#160;<br/>Further&#160;on&#160;the&#160;current&#160;version&#160;of the&#160;used&#160;TSS, the actual&#160;TPM&#160;firmware&#160;version&#160;and<br/>the vendor&#160;name&#160;of&#160;the&#160;TPM&#160;are&#160;displayed.&#160;On&#160;the &#34;Status&#34;&#160;tab&#160;the status&#160;of<br/>Activation,&#160;Enable/Disable&#160;and&#160;if&#160;an owner is&#160;already&#160;set are&#160;displayed.<br/>With the&#160;reset button&#160;on&#160;the &#34;Reset&#34; tab the owner of the TPM&#160;is&#160;able to&#160;reset&#160;the&#160;so<br/>called&#160;&#34;Pin Failure&#34;&#160;count.<br/>The &#34;Certificate&#160;Chain&#34; tab&#160;tries to&#160;verify&#160;the&#160;TPM&#160;built-in&#160;endorsement&#160;certificate.</p>
<p style="position:absolute;top:583px;left:85px;white-space:nowrap" class="ft1001"><b>11.1&#160;&#160;Preconditions</b></p>
<p style="position:absolute;top:615px;left:85px;white-space:nowrap" class="ft10079">„</p>
<p style="position:absolute;top:611px;left:93px;white-space:nowrap" class="ft1002">TPM&#160;Controller“&#160;is a Linux&#160;Tool&#160;developed&#160;and&#160;tested&#160;on&#160;openSuse&#160;10.1&#160;/ 10.2,&#160;but</p>
<p style="position:absolute;top:631px;left:85px;white-space:nowrap" class="ft1004">should&#160;work&#160;also&#160;with&#160;other Linux&#160;distributions&#160;and&#160;could&#160;be easily&#160;ported&#160;to Windows,<br/>since the used&#160;GUI toolkit is available&#160;for&#160;both&#160;platforms.&#160;It&#160;explicitly&#160;uses&#160;the&#160;OpenTC<br/>Trusted Software&#160;Stack for&#160;TPM&#160;1.2 developed&#160;by Infineon. A&#160;working&#160;installation of<br/>the stack&#160;is&#160;indispensable.<br/>For&#160;the GUI toolkit the&#160;open&#160;source&#160;version&#160;of Trolltech&#160;Qt&#160;4.2.x&#160;was chosen. Therefore<br/>it&#160;is necessary&#160;that&#160;a working&#160;version&#160;is installed&#160;on the machine.&#160;<br/>An&#160;additional&#160;dependency&#160;relies&#160;on&#160;the OpenSSL&#160;crypto&#160;library,&#160;that&#160;is&#160;used&#160;for<br/>cryptographic&#160;functionality.</p>
<p style="position:absolute;top:821px;left:85px;white-space:nowrap" class="ft1001"><b>11.2&#160;&#160;Build&#160;&amp;&#160;Run</b></p>
<p style="position:absolute;top:850px;left:85px;white-space:nowrap" class="ft1004">If all&#160;preconditions&#160;are met,&#160;simply&#160;run&#160;„build.sh“&#160;on&#160;the&#160;command&#160;line to&#160;build&#160;the<br/>complete&#160;„TPM&#160;Controller“&#160;GUI&#160;application&#160;from&#160;source.&#160;<br/>To run&#160;the „TPM&#160;Controller“,&#160;simply&#160;type&#160;„./tpmcontroller“&#160;in&#160;the&#160;source&#160;code folder<br/>and the tool starts&#160;up&#160;with&#160;a&#160;modal&#160;dialog&#160;including&#160;several&#160;tabs&#160;with&#160;all&#160;the<br/>functionality&#160;explained in&#160;the&#160;following&#160;chapters.&#160;Obviously&#160;the tool can be&#160;simply<br/>copied&#160;to a user desired&#160;location and&#160;run from&#160;there.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft1007">Open_TC&#160;Deliverable&#160;03b.1</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft1007">53/53</p>
</div>
<!-- Page 101 -->
<a name="101"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft10180{font-size:13px;font-family:BAAAAA+TimesNewRomanPSMT;color:#000000;}
	.ft10181{font-size:19px;font-family:BAAAAA+TimesNewRomanPSMT;color:#000000;}
	.ft10182{font-size:27px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
	.ft10183{font-size:17px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
	.ft10184{font-size:17px;font-family:DAAAAA+BitstreamVeraSans;color:#000000;}
	.ft10185{font-size:10px;font-family:DAAAAA+BitstreamVeraSans;color:#000000;}
	.ft10186{font-size:14px;font-family:BAAAAA+TimesNewRomanPSMT;color:#000000;}
	.ft10187{font-size:17px;line-height:19px;font-family:DAAAAA+BitstreamVeraSans;color:#000000;}
	.ft10188{font-size:17px;line-height:28px;font-family:DAAAAA+BitstreamVeraSans;color:#000000;}
	.ft10189{font-size:17px;line-height:19px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page101-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2101.png" alt="background image"/>
<p style="position:absolute;top:137px;left:92px;white-space:nowrap" class="ft10180">&#160;</p>
<p style="position:absolute;top:76px;left:91px;white-space:nowrap" class="ft10181">&#160;</p>
<p style="position:absolute;top:242px;left:136px;white-space:nowrap" class="ft10182"><b>WP03c.2&#160;High-level&#160;key&#160;manager service&#160;</b></p>
<p style="position:absolute;top:273px;left:294px;white-space:nowrap" class="ft10182"><b>design specification</b></p>
<p style="position:absolute;top:351px;left:91px;white-space:nowrap" class="ft10183"><b>Project number</b></p>
<p style="position:absolute;top:351px;left:425px;white-space:nowrap" class="ft10184">IST- 027635</p>
<p style="position:absolute;top:376px;left:91px;white-space:nowrap" class="ft10183"><b>Project acronym</b></p>
<p style="position:absolute;top:376px;left:425px;white-space:nowrap" class="ft10184">Open_TC</p>
<p style="position:absolute;top:402px;left:91px;white-space:nowrap" class="ft10183"><b>Project title</b></p>
<p style="position:absolute;top:402px;left:425px;white-space:nowrap" class="ft10184">Open Trusted Computing</p>
<p style="position:absolute;top:427px;left:91px;white-space:nowrap" class="ft10183"><b>Deliverable&#160;type</b></p>
<p style="position:absolute;top:427px;left:425px;white-space:nowrap" class="ft10184">Internal document</p>
<p style="position:absolute;top:470px;left:91px;white-space:nowrap" class="ft10183"><b>Deliverable&#160;reference number</b></p>
<p style="position:absolute;top:470px;left:425px;white-space:nowrap" class="ft10184">IST-027635/D03c.2/FINAL&#160;2.00</p>
<p style="position:absolute;top:502px;left:91px;white-space:nowrap" class="ft10183"><b>Deliverable&#160;title</b></p>
<p style="position:absolute;top:493px;left:425px;white-space:nowrap" class="ft10187">High-level key manager service design&#160;<br/>specification</p>
<p style="position:absolute;top:534px;left:91px;white-space:nowrap" class="ft10183"><b>WP&#160;contributing&#160;to the deliverable</b></p>
<p style="position:absolute;top:534px;left:425px;white-space:nowrap" class="ft10184">WP3</p>
<p style="position:absolute;top:560px;left:91px;white-space:nowrap" class="ft10183"><b>Due&#160;date</b></p>
<p style="position:absolute;top:560px;left:425px;white-space:nowrap" class="ft10184">Dec 2006 - M12</p>
<p style="position:absolute;top:585px;left:91px;white-space:nowrap" class="ft10183"><b>Actual&#160;submission&#160;date</b></p>
<p style="position:absolute;top:585px;left:425px;white-space:nowrap" class="ft10184">Jun 2008 - M32 (revised version)</p>
<p style="position:absolute;top:628px;left:91px;white-space:nowrap" class="ft10183"><b>Responsible Organisation</b></p>
<p style="position:absolute;top:628px;left:424px;white-space:nowrap" class="ft10184">Politecnico&#160;di Torino</p>
<p style="position:absolute;top:654px;left:91px;white-space:nowrap" class="ft10183"><b>Authors</b></p>
<p style="position:absolute;top:654px;left:424px;white-space:nowrap" class="ft10184">Gianluca&#160;Ramunno&#160;and Roberto&#160;Sassu (POL)</p>
<p style="position:absolute;top:676px;left:91px;white-space:nowrap" class="ft10183"><b>Abstract</b></p>
<p style="position:absolute;top:676px;left:424px;white-space:nowrap" class="ft10187">Key and data&#160;Management Adaptation&#160;layer&#160;<br/>(KMA), formerly “High-level Key Manager&#160;<br/>service”, is intended to&#160;be a software&#160;system&#160;<br/>built upon TPM&#160;and TSS, whose&#160;goals are&#160;<br/>protecting keys&#160;and other sensitive data&#160;for&#160;<br/>generic applications&#160;and services&#160;and&#160;<br/>binding the access&#160;to&#160;the protected&#160;<br/>information&#160;to the integrity of the system.<br/>This&#160;document consists&#160;of a&#160;high-level&#160;<br/>requirements&#160;specification&#160;for KMA&#160;in terms&#160;<br/>of use cases&#160;description&#160;and a high-Level&#160;<br/>software&#160;architecture description in terms&#160;of&#160;<br/>use cases&#160;implementation.</p>
<p style="position:absolute;top:947px;left:91px;white-space:nowrap" class="ft10183"><b>Keywords</b></p>
<p style="position:absolute;top:947px;left:424px;white-space:nowrap" class="ft10184">Open_TC, KMA, TPM, TSS</p>
<p style="position:absolute;top:990px;left:92px;white-space:nowrap" class="ft10183"><b>Dissemination&#160;level</b></p>
<p style="position:absolute;top:990px;left:423px;white-space:nowrap" class="ft10184">Public</p>
<p style="position:absolute;top:1015px;left:92px;white-space:nowrap" class="ft10183"><b>Revision</b></p>
<p style="position:absolute;top:1015px;left:423px;white-space:nowrap" class="ft10184">FINAL&#160;2.00</p>
<p style="position:absolute;top:1067px;left:90px;white-space:nowrap" class="ft10183"><b>Instrument</b></p>
<p style="position:absolute;top:1067px;left:271px;white-space:nowrap" class="ft10184">IP</p>
<p style="position:absolute;top:1057px;left:452px;white-space:nowrap" class="ft10189"><b>Start&#160;date of&#160;the&#160;<br/>project</b></p>
<p style="position:absolute;top:1067px;left:633px;white-space:nowrap" class="ft10184">1</p>
<p style="position:absolute;top:1067px;left:643px;white-space:nowrap" class="ft10185">st</p>
<p style="position:absolute;top:1067px;left:652px;white-space:nowrap" class="ft10184">&#160;November 2005</p>
<p style="position:absolute;top:1095px;left:90px;white-space:nowrap" class="ft10183"><b>Thematic&#160;Priority</b></p>
<p style="position:absolute;top:1095px;left:271px;white-space:nowrap" class="ft10184">IST</p>
<p style="position:absolute;top:1095px;left:452px;white-space:nowrap" class="ft10183"><b>Duration</b></p>
<p style="position:absolute;top:1095px;left:633px;white-space:nowrap" class="ft10184">42 months</p>
<p style="position:absolute;top:75px;left:674px;white-space:nowrap" class="ft10186">&#160;</p>
</div>
<!-- Page 102 -->
<a name="102"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft10290{font-size:9px;font-family:BAAAAA+TimesNewRomanPSMT;color:#000000;}
	.ft10291{font-size:15px;font-family:DAAAAA+BitstreamVeraSans;color:#000000;}
	.ft10292{font-size:24px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page102-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2102.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft10290">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft10280">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft10291">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft10292"><b>Table of Contents</b></p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft10287">&#160;&#160;1 Motivation and Problem Description.........................................................................&#160;5<br/>&#160;&#160;2 Security&#160;Environment................................................................................................&#160;6</p>
<p style="position:absolute;top:226px;left:94px;white-space:nowrap" class="ft10287">&#160;2.&#160;1 Assumptions.........................................................................................................&#160;6<br/>&#160;2.&#160;2 Threats.................................................................................................................&#160;7</p>
<p style="position:absolute;top:265px;left:85px;white-space:nowrap" class="ft10284">&#160;&#160;3 Functional Requirements (Use Case Model)..............................................................&#160;8</p>
<p style="position:absolute;top:284px;left:94px;white-space:nowrap" class="ft10287">&#160;3.&#160;1 Goal......................................................................................................................&#160;8<br/>&#160;3.&#160;2 Target&#160;Groups......................................................................................................&#160;9<br/>&#160;3.&#160;3 Roles&#160;and Actors...................................................................................................&#160;9<br/>&#160;3.&#160;4 Overview..............................................................................................................&#160;9<br/>&#160;3.&#160;5 Use Cases (Detailed Description).......................................................................&#160;11</p>
<p style="position:absolute;top:380px;left:102px;white-space:nowrap" class="ft10287">&#160;3.5.&#160;1 Starting the TCG-enabled operating system..................................................&#160;12<br/>&#160;3.5.&#160;2 Creating trusted configuration.......................................................................&#160;13<br/>&#160;3.5.&#160;3 KMA&#160;take ownership......................................................................................&#160;21<br/>&#160;3.5.&#160;4 Activating&#160;KMA...............................................................................................&#160;24<br/>&#160;3.5.&#160;5 Using secured application with KMA..............................................................&#160;31</p>
<p style="position:absolute;top:476px;left:85px;white-space:nowrap" class="ft10284">&#160;&#160;4 Security&#160;Objectives&#160;&amp;&#160;Security Requirements.........................................................&#160;40</p>
<p style="position:absolute;top:495px;left:94px;white-space:nowrap" class="ft10287">&#160;4.&#160;1 Security Objectives.............................................................................................&#160;40<br/>&#160;4.&#160;2 Security Requirements.......................................................................................&#160;40</p>
<p style="position:absolute;top:534px;left:85px;white-space:nowrap" class="ft10284">&#160;&#160;5 Supplementary&#160;Requirements................................................................................&#160;41</p>
<p style="position:absolute;top:553px;left:94px;white-space:nowrap" class="ft10287">&#160;5.&#160;1 Preconditions......................................................................................................&#160;41<br/>&#160;5.&#160;2 Required Criteria................................................................................................&#160;41<br/>&#160;5.&#160;3 Desired Criteria..................................................................................................&#160;42<br/>&#160;5.&#160;4 Distinguishing Criteria........................................................................................&#160;42<br/>&#160;5.&#160;5 Execution Environment......................................................................................&#160;43</p>
<p style="position:absolute;top:649px;left:102px;white-space:nowrap" class="ft10287">&#160;5.5.&#160;1 Software........................................................................................................&#160;43<br/>&#160;5.5.&#160;2 Hardware.......................................................................................................&#160;43</p>
<p style="position:absolute;top:687px;left:94px;white-space:nowrap" class="ft10284">&#160;5.&#160;6 Development Environment.................................................................................&#160;43</p>
<p style="position:absolute;top:706px;left:102px;white-space:nowrap" class="ft10287">&#160;5.6.&#160;1 Software........................................................................................................&#160;43<br/>&#160;5.6.&#160;2 Hardware.......................................................................................................&#160;43</p>
<p style="position:absolute;top:745px;left:85px;white-space:nowrap" class="ft10284">&#160;&#160;6 High-Level Software Architecture...........................................................................&#160;44</p>
<p style="position:absolute;top:764px;left:94px;white-space:nowrap" class="ft10287">&#160;6.&#160;1 Introduction........................................................................................................&#160;44<br/>&#160;6.&#160;2 Logical&#160;view........................................................................................................&#160;45</p>
<p style="position:absolute;top:802px;left:102px;white-space:nowrap" class="ft10284">&#160;6.2.&#160;1 Packages.......................................................................................................&#160;45</p>
<p style="position:absolute;top:822px;left:119px;white-space:nowrap" class="ft10287">&#160;6.2.1.&#160;1 KMA bootstrap&#160;manager..........................................................................&#160;45<br/>&#160;6.2.1.&#160;2 TPM interface...........................................................................................&#160;46<br/>&#160;6.2.1.&#160;3 Certify service.........................................................................................&#160;47<br/>&#160;6.2.1.&#160;4 Storage service........................................................................................&#160;48<br/>&#160;6.2.1.&#160;5 TCG-enabled operating system...............................................................&#160;49<br/>&#160;6.2.1.&#160;6 Property&#160;manager....................................................................................&#160;50<br/>&#160;6.2.1.&#160;7 Data encryption service...........................................................................51</p>
<p style="position:absolute;top:956px;left:102px;white-space:nowrap" class="ft10284">&#160;6.2.&#160;2 Use case&#160;realisation.......................................................................................&#160;52</p>
<p style="position:absolute;top:975px;left:85px;white-space:nowrap" class="ft10287">&#160;&#160;7 List of Abbreviations...............................................................................................&#160;78<br/>&#160;&#160;8 Related&#160;Work..........................................................................................................&#160;78<br/>&#160;&#160;9 Acknowledgements.................................................................................................&#160;78</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft10291">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft10291">2/78</p>
</div>
<!-- Page 103 -->
<a name="103"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page103-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2103.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft10390">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft10380">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft10391">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft10392"><b>List&#160;of figures</b></p>
<p style="position:absolute;top:206px;left:85px;white-space:nowrap" class="ft10387">Figure 1: Use cases&#160;overview.......................................................................................&#160;10<br/>Figure 2: KMA bootstrap&#160;manager package..................................................................&#160;45<br/>Figure 3: TPM interface&#160;package..................................................................................&#160;46<br/>Figure 4: certify service package..................................................................................&#160;47<br/>Figure 5: storage&#160;service package................................................................................&#160;48<br/>Figure 6: TCG-enabled operating system&#160;package.......................................................&#160;49<br/>Figure 7: property manager&#160;package...........................................................................&#160;50<br/>Figure 8: data&#160;encryption service&#160;package...................................................................&#160;51<br/>Figure 9: /UC 10/ implementation.................................................................................&#160;53<br/>Figure 10: /UC 200/ implementation.............................................................................&#160;54<br/>Figure 11: /UC 210/ implementation.............................................................................&#160;55<br/>Figure 12: /UC 2200/ implementation...........................................................................&#160;56<br/>Figure 13: /UC 2210/ implementation...........................................................................&#160;57<br/>Figure 14: /UC 2220/ implementation...........................................................................&#160;58<br/>Figure 15: /UC 2230/ implementation...........................................................................&#160;59<br/>Figure 16: /UC 30/ implementation...............................................................................&#160;60<br/>Figure 17: /UC 40/ implementation...............................................................................&#160;62<br/>Figure 18: /UC 50/ implementation - part A..................................................................&#160;64<br/>Figure 19: /UC 50/ implementation - part B..................................................................&#160;65<br/>Figure 20: /UC 60/ implementation...............................................................................&#160;66<br/>Figure 21: /UC 70 - 80 -&#160;A0/&#160;implementation................................................................&#160;68<br/>Figure 22: /UC B0/&#160;implementation...............................................................................69<br/>Figure 23: /UC C0/ implementation...............................................................................72<br/>Figure 24: /UC D0/ implementation..............................................................................&#160;74<br/>Figure 25: /UC B00/&#160;implementation&#160;-&#160;part&#160;A................................................................&#160;75<br/>Figure 26: /UC B00/&#160;implementation&#160;-&#160;part&#160;B................................................................&#160;77</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft10391">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft10391">3/78</p>
</div>
<!-- Page 104 -->
<a name="104"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page104-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2104.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft10490">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft10480">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft10491">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft10492"><b>List&#160;of Tables</b></p>
<p style="position:absolute;top:206px;left:85px;white-space:nowrap" class="ft10484">Table 1: Packages&#160;required by use cases.....................................................................&#160;52</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft10491">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft10491">4/78</p>
</div>
<!-- Page 105 -->
<a name="105"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft10593{font-size:18px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
	.ft10594{font-size:14px;font-family:EAAAAA+OpenSymbol;color:#000000;}
-->
</style>
<div id="page105-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2105.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft10590">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft10580">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft10591">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft10593"><b>&#160;1&#160;&#160;Motivation&#160;and&#160;Problem&#160;Description</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft10588">There are several widely used application that&#160;can&#160;take advantage from&#160;using the&#160;<br/>Trusted Platform&#160;Module (TPM) [1] as hardware&#160;cryptographic&#160;device&#160;and root&#160;for a&#160;<br/>protected&#160;storage.&#160;Typical&#160;applications&#160;are&#160;those&#160;implementing security protocols&#160;(like&#160;<br/>SSH [2], IPsec&#160;[3]) or interfaces&#160;(like PKCS#11 [4]). A first&#160;approach&#160;to&#160;enhance such&#160;<br/>applications&#160;with the TPM could be replacing some&#160;cryptographic&#160;primitives&#160;<br/>implemented in software&#160;with the corresponding ones provided by the TPM. However&#160;<br/>the latter is a slow&#160;device and the primitives and algorithms available for applications&#160;<br/>are&#160;only few; therefore, depending on cryptographic&#160;primitives&#160;and algorithms&#160;<br/>required by applications,&#160;only some&#160;of them can&#160;actually&#160;exploit primitives and&#160;<br/>algorithms&#160;implemented in hardware.<br/>The TPM also&#160;provides mechanisms&#160;to implement&#160;a protected storage&#160;for&#160;keys&#160;and&#160;<br/>other data,&#160;through a&#160;chain of encrypted keys up to the Storage Root&#160;Key (SRK)&#160;key,&#160;<br/>permanently protected by TPM. These features&#160;allow the creation&#160;of an arbitrary&#160;<br/>information&#160;tree that&#160;may contain&#160;asymmetric&#160;keys used directly by the TPM and other&#160;<br/>keys and data&#160;to be used by the application.&#160;TPM keys can&#160;be stored&#160;directly&#160;on a&#160;<br/>permanent storage&#160;device (like a hard disk) or through the protected storage&#160;provided&#160;<br/>by TCG Software&#160;Stack (TSS) [5], in which case&#160;the stored&#160;TPM keys are identified by&#160;<br/>UUIDs.&#160;However each&#160;application&#160;has its own information&#160;model for data,&#160;keys and&#160;<br/>certificates,&#160;which are&#160;usually stored&#160;in different&#160;files.&#160;Therefore an approach&#160;based on&#160;<br/>protection&#160;at the file level can&#160;be generic&#160;enough to support&#160;most&#160;of applications&#160;or&#160;<br/>services.<br/>TPM&#160;also provides the basic&#160;mechanism&#160;(sealing) to bind sensitive data to&#160;the integrity&#160;<br/>of the platform&#160;components,&#160;whose measurements&#160;are recorded in the Platform&#160;<br/>Configuration&#160;Registers&#160;(PCRs).<br/>This document describes the use cases&#160;for Key and data&#160;Management Adaptation&#160;<br/>layer (KMA), formerly&#160;“High-level Key Manager service”, a software&#160;system&#160;built upon&#160;<br/>TPM&#160;and TSS, whose&#160;goals are protecting&#160;keys and other sensitive data for&#160;generic&#160;<br/>applications&#160;and services and binding the access&#160;to the protected information&#160;to&#160;the&#160;<br/>integrity of the system.<br/>Specific&#160;objectives for&#160;KMA are:</p>
<p style="position:absolute;top:823px;left:112px;white-space:nowrap" class="ft10594">●</p>
<p style="position:absolute;top:820px;left:139px;white-space:nowrap" class="ft10587">access&#160;to&#160;protected data&#160;granted only if the integrity of&#160;system and the&#160;<br/>application/service requiring the access&#160;are&#160;verified</p>
<p style="position:absolute;top:871px;left:112px;white-space:nowrap" class="ft10594">●</p>
<p style="position:absolute;top:868px;left:139px;white-space:nowrap" class="ft10587">(optional) access&#160;to protected&#160;data&#160;granted only if the system&#160;and the&#160;<br/>application/service have specific values for selected run-time properties&#160;(e.g.&#160;<br/>the user currently logged in)</p>
<p style="position:absolute;top:938px;left:112px;white-space:nowrap" class="ft10594">●</p>
<p style="position:absolute;top:935px;left:139px;white-space:nowrap" class="ft10587">isolation between protected&#160;data of different applications/services&#160;at run-time&#160;<br/>to&#160;prevent that,&#160;if an application&#160;gets compromised&#160;(e.g. because&#160;of a flaw) and&#160;<br/>the protected data&#160;can&#160;be accessed&#160;in memory&#160;by an&#160;attacker,&#160;the protected&#160;<br/>data&#160;of all other applications/services&#160;can be accessed&#160;by the attacker</p>
<p style="position:absolute;top:1024px;left:112px;white-space:nowrap" class="ft10594">●</p>
<p style="position:absolute;top:1021px;left:139px;white-space:nowrap" class="ft10584">data&#160;protection&#160;robust against&#160;off-line attacks&#160;to the storage&#160;device</p>
<p style="position:absolute;top:1052px;left:112px;white-space:nowrap" class="ft10594">●</p>
<p style="position:absolute;top:1049px;left:139px;white-space:nowrap" class="ft10587">generic&#160;protection mechanism for&#160;data&#160;files&#160;that&#160;does not require any&#160;<br/>modification to&#160;the application/service&#160;at build time, in order to use KMA&#160;with&#160;<br/>standard&#160;distributions</p>
<p style="position:absolute;top:1119px;left:112px;white-space:nowrap" class="ft10594">●</p>
<p style="position:absolute;top:1116px;left:139px;white-space:nowrap" class="ft10584">support&#160;for the access&#160;to&#160;TPM keys bound to system/application&#160;integrity and&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft10591">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft10591">5/78</p>
</div>
<!-- Page 106 -->
<a name="106"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft10695{font-size:17px;font-family:FAAAAA+BitstreamVeraSans;color:#000000;}
	.ft10696{font-size:17px;line-height:19px;font-family:FAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page106-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2106.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft10690">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft10680">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft10691">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:151px;left:139px;white-space:nowrap" class="ft10687">properties, requiring minimal modifications&#160;at&#160;build time for application directly&#160;<br/>using the TPM&#160;keys</p>
<p style="position:absolute;top:201px;left:112px;white-space:nowrap" class="ft10694">●</p>
<p style="position:absolute;top:198px;left:139px;white-space:nowrap" class="ft10687">seamless&#160;upgrade of the operating system&#160;and the protected&#160;applications&#160;while&#160;<br/>keeping the data&#160;protection</p>
<p style="position:absolute;top:249px;left:112px;white-space:nowrap" class="ft10694">●</p>
<p style="position:absolute;top:246px;left:139px;white-space:nowrap" class="ft10687">support&#160;for platforms&#160;with a&#160;single operating systems&#160;running or&#160;(optionally) full&#160;<br/>virtual machines</p>
<p style="position:absolute;top:312px;left:85px;white-space:nowrap" class="ft10693"><b>&#160;2&#160;&#160;Security&#160;Environment</b></p>
<p style="position:absolute;top:342px;left:107px;white-space:nowrap" class="ft10696"><i>This&#160;&#160;&#160;section&#160;&#160;&#160;describes&#160;&#160;&#160;the&#160;&#160;&#160;security&#160;&#160;&#160;aspects&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;environment&#160;&#160;&#160;in&#160;&#160;&#160;which&#160;&#160;&#160;the&#160;<br/>product&#160;is&#160;intended&#160;to&#160;be&#160;used&#160;and&#160;the&#160;manner&#160;in&#160;which&#160;it&#160;is&#160;expected&#160;to&#160;be&#160;&#160;<br/>employed.</i></p>
<p style="position:absolute;top:426px;left:92px;white-space:nowrap" class="ft10683"><b>&#160;2.1&#160;&#160;Assumptions</b></p>
<p style="position:absolute;top:454px;left:107px;white-space:nowrap" class="ft10696"><i>A&#160;&#160;&#160;description&#160;&#160;&#160;of&#160;&#160;&#160;assumptions&#160;&#160;&#160;shall&#160;&#160;&#160;describe&#160;&#160;&#160;the&#160;&#160;&#160;security&#160;&#160;&#160;aspects&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;<br/>environment&#160;in&#160;which&#160;the&#160;Target&#160;of&#160;Evaluation&#160;(TOE)&#160;will&#160;be&#160;used&#160;or&#160;is&#160;intended&#160;<br/>to be used. This shall include the following:</i></p>
<p style="position:absolute;top:523px;left:134px;white-space:nowrap" class="ft10694">●</p>
<p style="position:absolute;top:520px;left:161px;white-space:nowrap" class="ft10696"><i>information&#160;about&#160;the&#160;intended&#160;usage&#160;of&#160;the&#160;TOE,&#160;including&#160;such&#160;aspects&#160;&#160;<br/>as&#160;the&#160;intended&#160;application,&#160;potential&#160;asset&#160;value,&#160;and&#160;possible&#160;limitations&#160;<br/>of use; and</i></p>
<p style="position:absolute;top:590px;left:134px;white-space:nowrap" class="ft10694">●</p>
<p style="position:absolute;top:587px;left:161px;white-space:nowrap" class="ft10696"><i>information&#160;about&#160;the&#160;environment&#160;of&#160;use&#160;of&#160;the&#160;TOE,&#160;including&#160;physical,&#160;<br/>personnel, and connectivity aspects.</i></p>
<p style="position:absolute;top:651px;left:85px;white-space:nowrap" class="ft10683"><b>/A&#160;10/ Trusted&#160;Administrator</b></p>
<p style="position:absolute;top:678px;left:85px;white-space:nowrap" class="ft10684">The security administrator&#160;of&#160;the system&#160;is non-malicious.</p>
<p style="position:absolute;top:724px;left:85px;white-space:nowrap" class="ft10683"><b>/A&#160;20/ Correct hardware</b></p>
<p style="position:absolute;top:751px;left:85px;white-space:nowrap" class="ft10687">The underlying hardware&#160;(e.g., CPU, devices, TPM,&#160;...) does&#160;not contain&#160;backdoors,&#160;is&#160;<br/>non-malicious and behaves&#160;as&#160;specified.</p>
<p style="position:absolute;top:816px;left:85px;white-space:nowrap" class="ft10683"><b>/A&#160;30/ Physical&#160;attacks</b></p>
<p style="position:absolute;top:843px;left:85px;white-space:nowrap" class="ft10684">Physical&#160;attacks&#160;against the underlying hardware platform&#160;do not happen.</p>
<p style="position:absolute;top:889px;left:85px;white-space:nowrap" class="ft10683"><b>/A&#160;40/ TOE Binding</b></p>
<p style="position:absolute;top:916px;left:85px;white-space:nowrap" class="ft10687">The IT-environment offers a&#160;mechanism that&#160;allows&#160;the TOE to store&#160;information&#160;such&#160;<br/>that&#160;it cannot be accessed&#160;by another TOE configuration.&#160;Example mechanisms&#160;are&#160;<br/>the sealing function&#160;offered by a TPM&#160;as specified by the TCG in combination&#160;with an&#160;<br/>authenticated bootstrap&#160;architecture, or&#160;a tamper-resistant&#160;storage&#160;in combination&#160;<br/>with a secure bootstrap&#160;architecture.</p>
<p style="position:absolute;top:1038px;left:85px;white-space:nowrap" class="ft10683"><b>/A&#160;50/ No man-in-the-middle attack</b></p>
<p style="position:absolute;top:1066px;left:85px;white-space:nowrap" class="ft10687">A&#160;physical&#160;attack&#160;that relays&#160;the whole communication&#160;between a&#160;local user and the&#160;<br/>I/O devices to&#160;another device does not&#160;happen.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft10691">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft10691">6/78</p>
</div>
<!-- Page 107 -->
<a name="107"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft10797{font-size:17px;line-height:27px;font-family:FAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page107-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2107.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft10790">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft10780">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft10791">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft10783"><b>/A&#160;60/ TCB components</b></p>
<p style="position:absolute;top:179px;left:85px;white-space:nowrap" class="ft10787">The Trusted Computing Base&#160;consists&#160;of the TPM,&#160;a trusted boot&#160;loader (implementing&#160;<br/>the authenticated&#160;boot) and the kernel of&#160;the Operating System.</p>
<p style="position:absolute;top:244px;left:92px;white-space:nowrap" class="ft10783"><b>&#160;2.2&#160;&#160;Threats</b></p>
<p style="position:absolute;top:272px;left:107px;white-space:nowrap" class="ft10796"><i>A&#160;&#160;&#160;description&#160;&#160;&#160;of&#160;&#160;&#160;threats&#160;&#160;&#160;shall&#160;&#160;&#160;include&#160;&#160;&#160;all&#160;&#160;&#160;threats&#160;&#160;&#160;to&#160;&#160;&#160;the&#160;&#160;&#160;assets&#160;&#160;&#160;against&#160;&#160;&#160;which&#160;&#160;<br/>specific&#160;protection&#160;within&#160;the&#160;TOE&#160;or&#160;its&#160;environment&#160;is&#160;required.&#160;Note&#160;that&#160;not&#160;all&#160;&#160;<br/>possible&#160;threats&#160;that&#160;might&#160;be&#160;encountered&#160;in&#160;the&#160;environment&#160;need&#160;to&#160;be&#160;listed,&#160;&#160;<br/>only&#160;those&#160;which are&#160;relevant for&#160;secure TOE operation.<br/>A&#160;threat&#160;shall&#160;be&#160;described&#160;in&#160;terms&#160;of&#160;an&#160;identified&#160;threat&#160;agent,&#160;the&#160;attack,&#160;and&#160;<br/>the&#160;asset&#160;that&#160;is&#160;the&#160;subject&#160;of&#160;the&#160;attack.&#160;Threat&#160;agents&#160;should&#160;be&#160;described&#160;by&#160;<br/>addressing&#160;&#160;&#160;aspects&#160;&#160;&#160;such&#160;&#160;&#160;as&#160;&#160;&#160;expertise,&#160;&#160;&#160;available&#160;&#160;&#160;resources,&#160;&#160;&#160;and&#160;&#160;&#160;motivation.&#160;<br/>Attacks&#160;should&#160;be&#160;described&#160;by&#160;addressing&#160;aspects&#160;such&#160;as&#160;attack&#160;methods,&#160;any&#160;&#160;<br/>vulnerabilities&#160;exploited, and opportunity.<br/>If&#160;security&#160;objectives&#160;are&#160;derived&#160;from&#160;only&#160;organizational&#160;security&#160;policies&#160;and&#160;&#160;<br/>assumptions,&#160;then the description&#160;of threats&#160;may&#160;be omitted..</i></p>
<p style="position:absolute;top:526px;left:85px;white-space:nowrap" class="ft10783"><b>/T&#160;10/ TCB Replacement</b></p>
<p style="position:absolute;top:554px;left:85px;white-space:nowrap" class="ft10787">An adversary&#160;may try&#160;to access&#160;protected data&#160;by replacing the OS kernel or&#160;the boot-<br/>loader by another&#160;system under&#160;its&#160;full control&#160;of the adversary.</p>
<p style="position:absolute;top:618px;left:85px;white-space:nowrap" class="ft10783"><b>/T&#160;20/ TCB Integrity Violation</b></p>
<p style="position:absolute;top:646px;left:85px;white-space:nowrap" class="ft10787">An adversary&#160;may try&#160;to access&#160;protected data&#160;by violating the OS kernel or&#160;the boot-<br/>loader integrity such&#160;that access&#160;control&#160;can&#160;be bypassed.</p>
<p style="position:absolute;top:710px;left:85px;white-space:nowrap" class="ft10783"><b>/T&#160;30/ TOE Replacement</b></p>
<p style="position:absolute;top:738px;left:85px;white-space:nowrap" class="ft10787">An adversary&#160;may try&#160;to access&#160;protected data&#160;by replacing the TOE by another&#160;<br/>system&#160;under its full control&#160;of the adversary.</p>
<p style="position:absolute;top:802px;left:85px;white-space:nowrap" class="ft10783"><b>/T&#160;40/ TOE Integrity Violation</b></p>
<p style="position:absolute;top:830px;left:85px;white-space:nowrap" class="ft10787">An adversary&#160;may try&#160;to access&#160;protected data&#160;by violating the TOE’s&#160;integrity such&#160;<br/>that&#160;access&#160;control can&#160;be bypassed.</p>
<p style="position:absolute;top:894px;left:85px;white-space:nowrap" class="ft10783"><b>/T&#160;50/ Malicious&#160;Device Drivers</b></p>
<p style="position:absolute;top:922px;left:85px;white-space:nowrap" class="ft10787">An adversary&#160;may try&#160;to access&#160;protected data&#160;by (directly&#160;or indirectly) installing a&#160;<br/>device&#160;driver that&#160;uses hardware functions (e.g., direct&#160;memory access)&#160;to&#160;access&#160;<br/>protected&#160;data.</p>
<p style="position:absolute;top:1006px;left:85px;white-space:nowrap" class="ft10783"><b>/T&#160;60/ Virtualization</b></p>
<p style="position:absolute;top:1033px;left:85px;white-space:nowrap" class="ft10787">An adversary&#160;may try&#160;to access&#160;protected data&#160;by running the OS on top of a&#160;Virtual&#160;<br/>Machine Monitor&#160;(VMM) that&#160;is under control&#160;of the adversary.</p>
<p style="position:absolute;top:1098px;left:85px;white-space:nowrap" class="ft10783"><b>/T&#160;70/ Trojan&#160;Horse</b></p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft10791">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft10791">7/78</p>
</div>
<!-- Page 108 -->
<a name="108"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page108-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2108.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft10890">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft10880">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft10891">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft10887">An adversary&#160;may try&#160;to get access&#160;to protected&#160;data by deceiving Administrators&#160;or&#160;<br/>Users (see Section&#160;1.3.2) such that&#160;a application&#160;under control&#160;of the adversary&#160;claims&#160;<br/>to&#160;be a(nother) trusted&#160;application.</p>
<p style="position:absolute;top:235px;left:85px;white-space:nowrap" class="ft10883"><b>/T&#160;80/ Unauthorized&#160;User</b></p>
<p style="position:absolute;top:262px;left:85px;white-space:nowrap" class="ft10887">An unauthorized user may&#160;use an application&#160;to read&#160;or modify protected data&#160;owned&#160;<br/>by another&#160;user.</p>
<p style="position:absolute;top:327px;left:85px;white-space:nowrap" class="ft10883"><b>/T&#160;90/ Unauthorized&#160;Administrator</b></p>
<p style="position:absolute;top:354px;left:85px;white-space:nowrap" class="ft10887">An unauthorized user may&#160;use a management functionality&#160;of the KMA&#160;to grant itself&#160;<br/>access&#160;to&#160;protected data.</p>
<p style="position:absolute;top:419px;left:85px;white-space:nowrap" class="ft10883"><b>/T&#160;100/&#160;Unauthorized Data&#160;Access</b></p>
<p style="position:absolute;top:447px;left:85px;white-space:nowrap" class="ft10887">An unauthorized application may&#160;read or&#160;manipulate user protected data&#160;persistently&#160;<br/>stored&#160;by another application.</p>
<p style="position:absolute;top:511px;left:85px;white-space:nowrap" class="ft10883"><b>/T&#160;110/&#160;Unauthorized Memory&#160;Access</b></p>
<p style="position:absolute;top:539px;left:85px;white-space:nowrap" class="ft10887">An unauthorized application may&#160;read or&#160;manipulate user information&#160;stored&#160;within&#160;<br/>the address&#160;space of another&#160;application.</p>
<p style="position:absolute;top:603px;left:85px;white-space:nowrap" class="ft10883"><b>/T&#160;120/&#160;Exploit</b></p>
<p style="position:absolute;top:631px;left:85px;white-space:nowrap" class="ft10887">An malicious&#160;entity may&#160;use an&#160;exploit of an uncritical application&#160;to&#160;gain access&#160;to&#160;<br/>protected&#160;data.</p>
<p style="position:absolute;top:695px;left:85px;white-space:nowrap" class="ft10883"><b>/T&#160;130/&#160;Unauthorized Data&#160;Binding</b></p>
<p style="position:absolute;top:723px;left:85px;white-space:nowrap" class="ft10887">An unauthorized application may&#160;bind user data&#160;to the platform&#160;or&#160;a specific software&#160;<br/>configuration such&#160;that it is not available after a software&#160;update or a&#160;change of the&#160;<br/>platform.</p>
<p style="position:absolute;top:807px;left:85px;white-space:nowrap" class="ft10883"><b>/T&#160;140/&#160;Replay&#160;Attack</b></p>
<p style="position:absolute;top:834px;left:85px;white-space:nowrap" class="ft10887">A&#160;malicious&#160;user may reset&#160;the state&#160;of an application,&#160;e.g., the licence, by replaying&#160;<br/>an older state,&#160;e.g., a&#160;backup.</p>
<p style="position:absolute;top:899px;left:85px;white-space:nowrap" class="ft10883"><b>/T&#160;150/&#160;Denial of&#160;Service</b></p>
<p style="position:absolute;top:926px;left:85px;white-space:nowrap" class="ft10887">An adversary&#160;may try&#160;to prevent that authorized users&#160;can&#160;use a&#160;secured application&#160;<br/>or&#160;service by denial of service attacks&#160;against TCB&#160;or TOE.</p>
<p style="position:absolute;top:992px;left:85px;white-space:nowrap" class="ft10893"><b>&#160;3&#160;&#160;Functional&#160;Requirements&#160;(Use&#160;Case&#160;Model)</b></p>
<p style="position:absolute;top:1040px;left:92px;white-space:nowrap" class="ft10883"><b>&#160;3.1&#160;&#160;Goal</b></p>
<p style="position:absolute;top:1068px;left:85px;white-space:nowrap" class="ft10888">The&#160;general&#160;idea,&#160;underlying&#160;KMA&#160;architecture,&#160;is&#160;to&#160;enable&#160;applications&#160;and&#160;services&#160;<br/>critical&#160;for a&#160;platform&#160;to&#160;use the TPM for&#160;protecting their keys and data.<br/>The&#160;goal&#160;is&#160;that&#160;these&#160;applications&#160;can&#160;access&#160;their&#160;data&#160;if&#160;and&#160;only&#160;if&#160;the&#160;platform&#160;and&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft10891">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft10891">8/78</p>
</div>
<!-- Page 109 -->
<a name="109"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page109-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2109.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft10990">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft10980">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft10991">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft10987">themselves&#160;are&#160;running&#160;in&#160;a&#160;trusted&#160;status&#160;(defined&#160;by&#160;the&#160;administrator)&#160;and&#160;if&#160;they&#160;<br/>own certain&#160;properties'&#160;values.</p>
<p style="position:absolute;top:216px;left:92px;white-space:nowrap" class="ft10983"><b>&#160;3.2&#160;&#160;Target Groups</b></p>
<p style="position:absolute;top:245px;left:107px;white-space:nowrap" class="ft10995"><i>Defines the users/other components&#160;that&#160;wish to&#160;use the product.</i></p>
<p style="position:absolute;top:275px;left:112px;white-space:nowrap" class="ft10994">●</p>
<p style="position:absolute;top:272px;left:139px;white-space:nowrap" class="ft10984">Home user (Single-user platform&#160;at home)</p>
<p style="position:absolute;top:304px;left:112px;white-space:nowrap" class="ft10994">●</p>
<p style="position:absolute;top:301px;left:139px;white-space:nowrap" class="ft10984">Employee (Multi-user&#160;platform&#160;in enterprise environment)</p>
<p style="position:absolute;top:332px;left:112px;white-space:nowrap" class="ft10994">●</p>
<p style="position:absolute;top:329px;left:139px;white-space:nowrap" class="ft10984">Server (Multi-user&#160;platform&#160;in&#160;enterprise environment)</p>
<p style="position:absolute;top:376px;left:92px;white-space:nowrap" class="ft10983"><b>&#160;3.3&#160;&#160;Roles&#160;and Actors</b></p>
<p style="position:absolute;top:404px;left:107px;white-space:nowrap" class="ft10996"><i>In&#160;this&#160;section&#160;we&#160;define&#160;different&#160;roles&#160;and&#160;actors&#160;important&#160;for&#160;the&#160;use&#160;case&#160;&#160;<br/>model.&#160;Actors&#160;are&#160;parties&#160;outside&#160;the&#160;system&#160;that&#160;interact&#160;with&#160;the&#160;system;&#160;an&#160;&#160;<br/>actor&#160;can&#160;be&#160;a&#160;class&#160;of&#160;users,&#160;roles&#160;users&#160;can&#160;play,&#160;or&#160;other&#160;systems.&#160;Note&#160;that,&#160;&#160;<br/>depending on the use case,&#160;some parties&#160;or actors&#160;may&#160;not be involved.</i></p>
<p style="position:absolute;top:489px;left:85px;white-space:nowrap" class="ft10983"><b>KMA&#160;administrator</b></p>
<p style="position:absolute;top:489px;left:261px;white-space:nowrap" class="ft10984">: the KMA administrator&#160;is an entity who defines the allowed&#160;</p>
<p style="position:absolute;top:508px;left:85px;white-space:nowrap" class="ft10987">configurations&#160;of the underlying platform,&#160;also&#160;including patches/updates. The&#160;<br/>administrator&#160;is also&#160;the owner&#160;of the TPM&#160;and thus&#160;is aware of&#160;the owner&#160;<br/>authorization&#160;information.&#160;Typical&#160;examples&#160;are a system&#160;administrator&#160;for&#160;an&#160;<br/>enterprise or&#160;an end-user owning a&#160;personal&#160;platform.</p>
<p style="position:absolute;top:594px;left:85px;white-space:nowrap" class="ft10983"><b>Secured&#160;application</b></p>
<p style="position:absolute;top:594px;left:270px;white-space:nowrap" class="ft10984">: an&#160;interactive application or&#160;a non-interactive&#160;service running&#160;</p>
<p style="position:absolute;top:613px;left:85px;white-space:nowrap" class="ft10987">on a&#160;platform&#160;with KMA system&#160;operational which has its data&#160;and keys protected by&#160;<br/>KMA.</p>
<p style="position:absolute;top:661px;left:85px;white-space:nowrap" class="ft10983"><b>User</b></p>
<p style="position:absolute;top:661px;left:128px;white-space:nowrap" class="ft10984">: the user of&#160;a computing platform&#160;is an entity interacting&#160;with the platform&#160;under&#160;</p>
<p style="position:absolute;top:680px;left:85px;white-space:nowrap" class="ft10987">the platform's&#160;security policy. Examples&#160;are employees using enterprise-owned&#160;<br/>hardware.&#160;User&#160;and administrator&#160;might also&#160;be identical,&#160;e.g., in&#160;an&#160;end-user&#160;<br/>environment.</p>
<p style="position:absolute;top:747px;left:85px;white-space:nowrap" class="ft10983"><b>TCG-enabled operating system</b></p>
<p style="position:absolute;top:747px;left:372px;white-space:nowrap" class="ft10984">: the TCG-enabled operating system&#160;is the entity&#160;</p>
<p style="position:absolute;top:766px;left:85px;white-space:nowrap" class="ft10987">that&#160;hosts&#160;and makes the secured applications&#160;run. It includes all&#160;platform&#160;<br/>components&#160;required to&#160;continue building the chain of&#160;trust started&#160;by the Core Root&#160;<br/>of Trust&#160;for Measurement:&#160;a&#160;trusted boot&#160;loader&#160;(implementing the authenticated&#160;<br/>boot),&#160;the kernel of the Operating System and&#160;the initial ramdisk.</p>
<p style="position:absolute;top:870px;left:92px;white-space:nowrap" class="ft10983"><b>&#160;3.4&#160;&#160;Overview</b></p>
<p style="position:absolute;top:898px;left:85px;white-space:nowrap" class="ft10984">The use cases&#160;are separated&#160;into&#160;different subsets:</p>
<p style="position:absolute;top:926px;left:112px;white-space:nowrap" class="ft10988">1.&#160;Starting the TCG-enabled operating system<br/>2.&#160;Creating trusted configuration<br/>3.&#160;KMA&#160;take ownership<br/>4.&#160;Activating&#160;KMA<br/>5.&#160;Using secured application with KMA</p>
<p style="position:absolute;top:1067px;left:85px;white-space:nowrap" class="ft10987">The use cases&#160;describe&#160;the generic data&#160;protection&#160;provided by KMA, but the subsets&#160;<br/>1 to&#160;4 also apply to&#160;applications&#160;using directly the TPM keys.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft10991">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft10991">9/78</p>
</div>
<!-- Page 110 -->
<a name="110"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft11098{font-size:15px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page110-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2110.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft11090">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft11080">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft11091">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft11091">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft11091">10/78</p>
<p style="position:absolute;top:1111px;left:323px;white-space:nowrap" class="ft11098"><b>Figure&#160;1: Use cases&#160;overview</b></p>
</div>
<!-- Page 111 -->
<a name="111"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page111-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2111.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft11190">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft11180">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft11191">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:188px;left:92px;white-space:nowrap" class="ft11183"><b>&#160;3.5&#160;&#160;Use&#160;Cases&#160;(Detailed Description)</b></p>
<p style="position:absolute;top:216px;left:107px;white-space:nowrap" class="ft11197"><i>Each&#160;use&#160;case&#160;focuses&#160;on&#160;describing&#160;how&#160;to&#160;achieve&#160;a&#160;single&#160;business&#160;goal&#160;or&#160;<br/>task.&#160;From&#160;a&#160;traditional&#160;software&#160;engineering&#160;perspective&#160;a&#160;use&#160;case&#160;describes&#160;&#160;<br/>just&#160;&#160;&#160;one&#160;&#160;&#160;feature&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;system.&#160;&#160;&#160;For&#160;&#160;&#160;most&#160;&#160;&#160;software&#160;&#160;&#160;projects&#160;&#160;&#160;this&#160;&#160;&#160;means&#160;&#160;&#160;that&#160;&#160;<br/>multiple,&#160;&#160;&#160;perhaps&#160;&#160;&#160;dozens,&#160;&#160;&#160;of&#160;&#160;&#160;use&#160;&#160;&#160;cases&#160;&#160;&#160;are&#160;&#160;&#160;needed&#160;&#160;&#160;to&#160;&#160;&#160;fully&#160;&#160;&#160;specify&#160;&#160;&#160;the&#160;&#160;&#160;new&#160;<br/>system.&#160;&#160;The&#160;degree&#160;of&#160;formality&#160;of&#160;a&#160;particular&#160;software&#160;project&#160;and&#160;the&#160;stage&#160;of&#160;<br/>the project&#160;will influence the level of detail required in each use case.&#160;<br/>A&#160;&#160;&#160;use&#160;&#160;&#160;case&#160;&#160;&#160;defines&#160;&#160;&#160;the&#160;&#160;&#160;interactions&#160;&#160;&#160;between&#160;&#160;&#160;external&#160;&#160;&#160;actors&#160;&#160;&#160;and&#160;&#160;&#160;the&#160;&#160;&#160;system&#160;<br/>under consideration&#160;to accomplish&#160;a business&#160;goal.&#160;<br/>Use&#160;&#160;&#160;cases&#160;&#160;&#160;treat&#160;&#160;&#160;the&#160;&#160;&#160;system&#160;&#160;&#160;as&#160;&#160;&#160;a&#160;&#160;&#160;&#34;black&#160;&#160;&#160;box&#34;,&#160;&#160;&#160;and&#160;&#160;&#160;the&#160;&#160;&#160;interactions&#160;&#160;&#160;with&#160;&#160;&#160;the&#160;&#160;<br/>system,&#160;&#160;&#160;including&#160;&#160;&#160;system&#160;&#160;&#160;responses,&#160;&#160;&#160;are&#160;&#160;&#160;perceived&#160;&#160;&#160;as&#160;&#160;&#160;such&#160;&#160;&#160;from&#160;&#160;&#160;outside&#160;&#160;&#160;the&#160;&#160;<br/>system.&#160;&#160;&#160;This&#160;&#160;&#160;is&#160;&#160;&#160;a&#160;&#160;&#160;deliberate&#160;&#160;&#160;policy,&#160;&#160;&#160;because&#160;&#160;&#160;it&#160;&#160;&#160;simplifies&#160;&#160;&#160;the&#160;&#160;&#160;description&#160;&#160;&#160;of&#160;<br/>requirements,&#160;&#160;&#160;and&#160;&#160;&#160;avoids&#160;&#160;&#160;the&#160;&#160;&#160;trap&#160;&#160;&#160;of&#160;&#160;&#160;making&#160;&#160;&#160;assumptions&#160;&#160;&#160;about&#160;&#160;&#160;how&#160;&#160;&#160;this&#160;&#160;<br/>functionality will be accomplished.&#160;<br/>A use case&#160;should:&#160;</i></p>
<p style="position:absolute;top:522px;left:134px;white-space:nowrap" class="ft11194">●</p>
<p style="position:absolute;top:519px;left:161px;white-space:nowrap" class="ft11195"><i>describe a&#160;business task&#160;to&#160;serve a business&#160;goal</i></p>
<p style="position:absolute;top:550px;left:134px;white-space:nowrap" class="ft11194">●</p>
<p style="position:absolute;top:547px;left:161px;white-space:nowrap" class="ft11195"><i>have no implementation-specific language</i></p>
<p style="position:absolute;top:578px;left:134px;white-space:nowrap" class="ft11194">●</p>
<p style="position:absolute;top:575px;left:161px;white-space:nowrap" class="ft11195"><i>be at&#160;the appropriate&#160;level of detail</i></p>
<p style="position:absolute;top:606px;left:134px;white-space:nowrap" class="ft11194">●</p>
<p style="position:absolute;top:603px;left:161px;white-space:nowrap" class="ft11196"><i>be&#160;&#160;&#160;short&#160;&#160;&#160;enough&#160;&#160;&#160;to&#160;&#160;&#160;implement&#160;&#160;&#160;by&#160;&#160;&#160;one&#160;&#160;&#160;software&#160;&#160;&#160;developer&#160;&#160;&#160;in&#160;&#160;&#160;a&#160;&#160;&#160;single&#160;<br/>release.</i></p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft11191">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft11191">11/78</p>
</div>
<!-- Page 112 -->
<a name="112"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page112-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2112.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft11290">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft11280">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft11291">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft11298"><b>&#160;3.5.1&#160;&#160;Starting&#160;the TCG-enabled operating&#160;system</b></p>
<p style="position:absolute;top:200px;left:89px;white-space:nowrap" class="ft11283"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:200px;left:451px;white-space:nowrap" class="ft11284">/UC 10/</p>
<p style="position:absolute;top:227px;left:89px;white-space:nowrap" class="ft11283"><b>Title</b></p>
<p style="position:absolute;top:227px;left:451px;white-space:nowrap" class="ft11287">Starting the TCG-enabled operating&#160;<br/>system.</p>
<p style="position:absolute;top:274px;left:89px;white-space:nowrap" class="ft11283"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:274px;left:451px;white-space:nowrap" class="ft11287">The TCG-enabled operating system&#160;is&#160;<br/>measured and started&#160;and continues&#160;<br/>building the chain of trust&#160;needed by KMA</p>
<p style="position:absolute;top:340px;left:89px;white-space:nowrap" class="ft11283"><b>Actor(s)</b></p>
<p style="position:absolute;top:340px;left:451px;white-space:nowrap" class="ft11284">KMA Administrator,&#160;User</p>
<p style="position:absolute;top:367px;left:89px;white-space:nowrap" class="ft11283"><b>Preconditions</b></p>
<p style="position:absolute;top:370px;left:478px;white-space:nowrap" class="ft11294">●</p>
<p style="position:absolute;top:367px;left:505px;white-space:nowrap" class="ft11284">KMA components&#160;installed.</p>
<p style="position:absolute;top:395px;left:89px;white-space:nowrap" class="ft11283"><b>Postcondition</b></p>
<p style="position:absolute;top:395px;left:451px;white-space:nowrap" class="ft11287">The TCG-enabled operating system&#160;is&#160;<br/>running and the chain of trust&#160;built.</p>
<p style="position:absolute;top:442px;left:89px;white-space:nowrap" class="ft11283"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:442px;left:478px;white-space:nowrap" class="ft11284">1.&#160;The actor&#160;switches the platform&#160;on&#160;</p>
<p style="position:absolute;top:461px;left:505px;white-space:nowrap" class="ft11287">and selects&#160;the TCG-enabled&#160;<br/>operating system to&#160;be started.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft11291">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft11291">12/78</p>
</div>
<!-- Page 113 -->
<a name="113"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page113-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2113.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft11390">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft11380">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft11391">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft11398"><b>&#160;3.5.2&#160;&#160;Creating&#160;trusted configuration</b></p>
<p style="position:absolute;top:200px;left:89px;white-space:nowrap" class="ft11383"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:200px;left:451px;white-space:nowrap" class="ft11384">/UC 20/</p>
<p style="position:absolute;top:227px;left:89px;white-space:nowrap" class="ft11383"><b>Title</b></p>
<p style="position:absolute;top:227px;left:451px;white-space:nowrap" class="ft11384">Creating trusted configuration.</p>
<p style="position:absolute;top:255px;left:89px;white-space:nowrap" class="ft11383"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:255px;left:451px;white-space:nowrap" class="ft11387">The KMA&#160;Administrator&#160;evaluates&#160;all&#160;<br/>aspects&#160;of the TCG-enabled operating&#160;<br/>system,&#160;in terms of&#160;software components,&#160;<br/>which are&#160;critical for&#160;KMA to behave as&#160;<br/>expected and creates&#160;the configuration&#160;<br/>for all applications&#160;that&#160;will use with KMA.</p>
<p style="position:absolute;top:378px;left:89px;white-space:nowrap" class="ft11383"><b>Actor(s)</b></p>
<p style="position:absolute;top:378px;left:451px;white-space:nowrap" class="ft11384">KMA Administrator</p>
<p style="position:absolute;top:406px;left:89px;white-space:nowrap" class="ft11383"><b>Includes</b></p>
<p style="position:absolute;top:409px;left:478px;white-space:nowrap" class="ft11394">●</p>
<p style="position:absolute;top:406px;left:505px;white-space:nowrap" class="ft11387">/UC 200/&#160;Identifying good&#160;<br/>platform's&#160;components&#160;and related&#160;<br/>configuration;</p>
<p style="position:absolute;top:467px;left:478px;white-space:nowrap" class="ft11394">●</p>
<p style="position:absolute;top:464px;left:505px;white-space:nowrap" class="ft11387">/UC 210/&#160;Identifying all needed&#160;<br/>components&#160;for credentials'&#160;<br/>management;</p>
<p style="position:absolute;top:525px;left:478px;white-space:nowrap" class="ft11394">●</p>
<p style="position:absolute;top:522px;left:505px;white-space:nowrap" class="ft11387">/UC 220/ Setup of all applications&#160;to&#160;<br/>be secured.</p>
<p style="position:absolute;top:569px;left:89px;white-space:nowrap" class="ft11383"><b>Preconditions</b></p>
<p style="position:absolute;top:569px;left:451px;white-space:nowrap" class="ft11384">/UC 10/</p>
<p style="position:absolute;top:596px;left:89px;white-space:nowrap" class="ft11383"><b>Postcondition</b></p>
<p style="position:absolute;top:599px;left:478px;white-space:nowrap" class="ft11394">●</p>
<p style="position:absolute;top:596px;left:505px;white-space:nowrap" class="ft11387">All platform's&#160;software&#160;components&#160;<br/>are deemed as&#160;trusted;</p>
<p style="position:absolute;top:638px;left:478px;white-space:nowrap" class="ft11394">●</p>
<p style="position:absolute;top:635px;left:505px;white-space:nowrap" class="ft11387">The system&#160;components&#160;that&#160;<br/>manage the credentials used for&#160;<br/>accessing&#160;secured applications'&#160;<br/>data&#160;are identified;</p>
<p style="position:absolute;top:715px;left:478px;white-space:nowrap" class="ft11394">●</p>
<p style="position:absolute;top:712px;left:505px;white-space:nowrap" class="ft11387">The configuration for&#160;all secured&#160;<br/>applications&#160;that&#160;will use the KMA is&#160;<br/>set up.</p>
<p style="position:absolute;top:778px;left:89px;white-space:nowrap" class="ft11383"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:778px;left:478px;white-space:nowrap" class="ft11384">1.&#160;The KMA&#160;Administrator&#160;evaluates&#160;</p>
<p style="position:absolute;top:797px;left:505px;white-space:nowrap" class="ft11387">the platform's&#160;critical&#160;components&#160;<br/>and, for each, verifies if it is trusted<br/>/UC 200/;</p>
<p style="position:absolute;top:855px;left:478px;white-space:nowrap" class="ft11384">2.&#160;The KMA&#160;Administrator&#160;perform&#160;the&#160;</p>
<p style="position:absolute;top:874px;left:505px;white-space:nowrap" class="ft11387">credentials'&#160;management setup<br/>/UC 210/;</p>
<p style="position:absolute;top:913px;left:478px;white-space:nowrap" class="ft11384">3.&#160;The KMA&#160;Administrator&#160;starts&#160;the&#160;</p>
<p style="position:absolute;top:932px;left:505px;white-space:nowrap" class="ft11387">configuration&#160;setup for each&#160;<br/>application&#160;that will use KMA to&#160;<br/>protect&#160;its&#160;data:<br/>/UC 220/</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft11391">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft11391">13/78</p>
</div>
<!-- Page 114 -->
<a name="114"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page114-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2114.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft11490">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft11480">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft11491">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft11483"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft11484">/UC 200/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft11483"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft11487">Identifying trusted platform's&#160;components&#160;<br/>and related configuration.</p>
<p style="position:absolute;top:249px;left:89px;white-space:nowrap" class="ft11483"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:249px;left:451px;white-space:nowrap" class="ft11487">The KMA&#160;Administrator&#160;looks at&#160;the&#160;<br/>platform&#160;components&#160;that&#160;have been&#160;<br/>measured by TCG operating system&#160;and&#160;<br/>those which&#160;are required for KMA to&#160;work&#160;<br/>properly.</p>
<p style="position:absolute;top:353px;left:89px;white-space:nowrap" class="ft11483"><b>Actor(s)</b></p>
<p style="position:absolute;top:353px;left:451px;white-space:nowrap" class="ft11484">KMA Administrator</p>
<p style="position:absolute;top:381px;left:89px;white-space:nowrap" class="ft11483"><b>Preconditions</b></p>
<p style="position:absolute;top:381px;left:451px;white-space:nowrap" class="ft11484">The same&#160;as&#160;for /UC 20/</p>
<p style="position:absolute;top:408px;left:89px;white-space:nowrap" class="ft11483"><b>Postcondition</b></p>
<p style="position:absolute;top:408px;left:451px;white-space:nowrap" class="ft11487">The KMA&#160;Administrator&#160;has checked the&#160;<br/>list of&#160;required platform's&#160;components,&#160;<br/>has verified that the measurements have&#160;<br/>been taken correctly&#160;and that the values&#160;<br/>are the ones&#160;expected.</p>
<p style="position:absolute;top:512px;left:89px;white-space:nowrap" class="ft11483"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:512px;left:478px;white-space:nowrap" class="ft11484">1.&#160;The KMA&#160;Administrator&#160;retrieves&#160;</p>
<p style="position:absolute;top:532px;left:505px;white-space:nowrap" class="ft11487">the list of firmware and software&#160;<br/>platform's&#160;components&#160;currently&#160;<br/>measured by the TCG-enabled&#160;<br/>operating system;</p>
<p style="position:absolute;top:608px;left:478px;white-space:nowrap" class="ft11484">2.&#160;The KMA&#160;Administrator&#160;includes&#160;in&#160;</p>
<p style="position:absolute;top:628px;left:505px;white-space:nowrap" class="ft11487">such list all software&#160;components&#160;<br/>required for KMA to&#160;work properly;</p>
<p style="position:absolute;top:666px;left:478px;white-space:nowrap" class="ft11484">3.&#160;The KMA&#160;Administrator&#160;starts&#160;the&#160;</p>
<p style="position:absolute;top:685px;left:505px;white-space:nowrap" class="ft11487">measurement of each extra&#160;<br/>component which extends the TPM&#160;<br/>registers;</p>
<p style="position:absolute;top:743px;left:478px;white-space:nowrap" class="ft11484">4.&#160;The KMA&#160;Administrator&#160;retrieves&#160;</p>
<p style="position:absolute;top:762px;left:505px;white-space:nowrap" class="ft11487">the values of the TPM registers&#160;<br/>after doing all measurements;</p>
<p style="position:absolute;top:800px;left:478px;white-space:nowrap" class="ft11484">5.&#160;The KMA&#160;Administrator&#160;verifies&#160;if&#160;</p>
<p style="position:absolute;top:820px;left:505px;white-space:nowrap" class="ft11487">these values are&#160;correct&#160;by&#160;<br/>repeating the measurement&#160;<br/>process&#160;of all listed components&#160;<br/>through a software&#160;only procedure.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft11491">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft11491">14/78</p>
</div>
<!-- Page 115 -->
<a name="115"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page115-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2115.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft11590">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft11580">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft11591">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft11583"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft11584">/UC 210/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft11583"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft11587">Identifying all needed components&#160;for&#160;<br/>credentials&#160;management.</p>
<p style="position:absolute;top:249px;left:89px;white-space:nowrap" class="ft11583"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:249px;left:451px;white-space:nowrap" class="ft11587">KMA keeps track&#160;of all events&#160;that cause&#160;a&#160;<br/>change of the value of an application&#160;or&#160;<br/>system&#160;property&#160;which&#160;is related to&#160;a&#160;<br/>credential required to&#160;let an application&#160;<br/>access&#160;its&#160;protected data.<br/>The term&#160;“property”&#160;refers&#160;to an&#160;attribute&#160;<br/>bound to&#160;the process&#160;of a running&#160;<br/>application&#160;or to&#160;the configuration of&#160;a&#160;<br/>system&#160;component like a network&#160;<br/>interface.&#160;A subset of the defined&#160;<br/>properties&#160;will be used to grant the access&#160;<br/>to the protected data&#160;repositories.<br/>The KMA&#160;Administrator&#160;defines the&#160;<br/>components&#160;that trustfully&#160;report&#160;a&#160;<br/>change of a process's&#160;attribute or&#160;<br/>identifies&#160;the components&#160;which&#160;report&#160;<br/>themselves a&#160;modification&#160;of an internal&#160;<br/>parameter.</p>
<p style="position:absolute;top:603px;left:89px;white-space:nowrap" class="ft11583"><b>Actor(s)</b></p>
<p style="position:absolute;top:603px;left:451px;white-space:nowrap" class="ft11584">KMA Administrator</p>
<p style="position:absolute;top:630px;left:89px;white-space:nowrap" class="ft11583"><b>Preconditions</b></p>
<p style="position:absolute;top:630px;left:451px;white-space:nowrap" class="ft11584">The same&#160;as&#160;for /UC 20/</p>
<p style="position:absolute;top:658px;left:89px;white-space:nowrap" class="ft11583"><b>Postcondition</b></p>
<p style="position:absolute;top:658px;left:451px;white-space:nowrap" class="ft11587">For&#160;each credential used for data&#160;access&#160;<br/>control,&#160;a system&#160;component has&#160;been&#160;<br/>defined to trustfully report correct&#160;<br/>information&#160;to KMA.</p>
<p style="position:absolute;top:743px;left:89px;white-space:nowrap" class="ft11583"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:743px;left:478px;white-space:nowrap" class="ft11584">1.&#160;The KMA&#160;Administrator&#160;verifies&#160;the&#160;</p>
<p style="position:absolute;top:762px;left:505px;white-space:nowrap" class="ft11587">set of credentials&#160;usable with the&#160;<br/>current version of KMA;</p>
<p style="position:absolute;top:800px;left:478px;white-space:nowrap" class="ft11584">2.&#160;The KMA&#160;Administrator&#160;assigns to&#160;</p>
<p style="position:absolute;top:820px;left:505px;white-space:nowrap" class="ft11587">each credential an existent system&#160;<br/>component, which will manage the&#160;<br/>credential and the related&#160;<br/>application&#160;or system&#160;property.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft11591">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft11591">15/78</p>
</div>
<!-- Page 116 -->
<a name="116"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page116-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2116.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft11690">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft11680">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft11691">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft11683"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft11684">/UC 220/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft11683"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft11684">Setup of all applications&#160;to&#160;be secured.</p>
<p style="position:absolute;top:229px;left:89px;white-space:nowrap" class="ft11683"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:229px;left:451px;white-space:nowrap" class="ft11687">The KMA&#160;Administrator&#160;configures&#160;the&#160;<br/>data&#160;protection service for&#160;each&#160;<br/>application&#160;to be secured.</p>
<p style="position:absolute;top:295px;left:89px;white-space:nowrap" class="ft11683"><b>Actor(s)</b></p>
<p style="position:absolute;top:295px;left:451px;white-space:nowrap" class="ft11684">KMA Administrator</p>
<p style="position:absolute;top:323px;left:89px;white-space:nowrap" class="ft11683"><b>Includes</b></p>
<p style="position:absolute;top:326px;left:478px;white-space:nowrap" class="ft11694">●</p>
<p style="position:absolute;top:323px;left:505px;white-space:nowrap" class="ft11687">/UC 2200/ Assigning the application&#160;<br/>a unique identifier (tag);</p>
<p style="position:absolute;top:365px;left:478px;white-space:nowrap" class="ft11694">●</p>
<p style="position:absolute;top:362px;left:505px;white-space:nowrap" class="ft11687">/UC 2210/ Choosing credentials&#160;<br/>required for accessing&#160;application&#160;<br/>data&#160;files;</p>
<p style="position:absolute;top:422px;left:478px;white-space:nowrap" class="ft11694">●</p>
<p style="position:absolute;top:420px;left:505px;white-space:nowrap" class="ft11687">/UC 2220/&#160;Building a list of&#160;<br/>application&#160;data&#160;files&#160;to protect;</p>
<p style="position:absolute;top:461px;left:478px;white-space:nowrap" class="ft11694">●</p>
<p style="position:absolute;top:458px;left:505px;white-space:nowrap" class="ft11687">/UC 2230/ Building a list of&#160;<br/>executables to&#160;be certified.</p>
<p style="position:absolute;top:505px;left:89px;white-space:nowrap" class="ft11683"><b>Preconditions</b></p>
<p style="position:absolute;top:508px;left:478px;white-space:nowrap" class="ft11694">●</p>
<p style="position:absolute;top:505px;left:505px;white-space:nowrap" class="ft11684">/UC 210/</p>
<p style="position:absolute;top:533px;left:89px;white-space:nowrap" class="ft11683"><b>Postcondition</b></p>
<p style="position:absolute;top:533px;left:451px;white-space:nowrap" class="ft11687">The KMA-specific configuration has&#160;been&#160;<br/>supplied for&#160;all applications&#160;to&#160;be secured.</p>
<p style="position:absolute;top:580px;left:89px;white-space:nowrap" class="ft11683"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:580px;left:451px;white-space:nowrap" class="ft11684">For&#160;each application&#160;to be secured:</p>
<p style="position:absolute;top:599px;left:478px;white-space:nowrap" class="ft11684">1.&#160;The KMA&#160;Administrator&#160;assigns a&#160;</p>
<p style="position:absolute;top:618px;left:505px;white-space:nowrap" class="ft11687">unique identifier to the binary&#160;<br/>(executable) of the application<br/>/UC 2200/;</p>
<p style="position:absolute;top:676px;left:478px;white-space:nowrap" class="ft11684">2.&#160;The KMA&#160;Administrator&#160;chooses&#160;the&#160;</p>
<p style="position:absolute;top:695px;left:505px;white-space:nowrap" class="ft11687">credentials&#160;required for&#160;the&#160;<br/>application&#160;when it accesses&#160;its&#160;<br/>data&#160;files<br/>/UC 2210/;</p>
<p style="position:absolute;top:772px;left:478px;white-space:nowrap" class="ft11684">3.&#160;The KMA&#160;Administrator&#160;created a&#160;</p>
<p style="position:absolute;top:791px;left:505px;white-space:nowrap" class="ft11687">list of&#160;data files to&#160;protect<br/>/UC 2220/;</p>
<p style="position:absolute;top:829px;left:478px;white-space:nowrap" class="ft11684">4.&#160;The KMA&#160;Administrator&#160;creates&#160;a&#160;</p>
<p style="position:absolute;top:849px;left:505px;white-space:nowrap" class="ft11687">list of&#160;executable files&#160;to be&#160;<br/>certified<br/>/UC 2230/.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft11691">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft11691">16/78</p>
</div>
<!-- Page 117 -->
<a name="117"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page117-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2117.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft11790">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft11780">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft11791">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft11783"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft11784">/UC 2200/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft11783"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft11787">Assigning the application&#160;an identifier&#160;<br/>(tag).</p>
<p style="position:absolute;top:249px;left:89px;white-space:nowrap" class="ft11783"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:249px;left:451px;white-space:nowrap" class="ft11787">The KMA&#160;Administrator&#160;defines a&#160;unique&#160;<br/>application&#160;identifier&#160;(tag) to be applied to&#160;<br/>the main executable binary&#160;of an&#160;<br/>application.</p>
<p style="position:absolute;top:334px;left:89px;white-space:nowrap" class="ft11783"><b>Actor(s)</b></p>
<p style="position:absolute;top:334px;left:451px;white-space:nowrap" class="ft11784">KMA Administrator</p>
<p style="position:absolute;top:361px;left:89px;white-space:nowrap" class="ft11783"><b>Preconditions</b></p>
<p style="position:absolute;top:361px;left:451px;white-space:nowrap" class="ft11784">The same&#160;as&#160;for /UC 220/</p>
<p style="position:absolute;top:389px;left:89px;white-space:nowrap" class="ft11783"><b>Postconditions</b></p>
<p style="position:absolute;top:389px;left:451px;white-space:nowrap" class="ft11787">The application has&#160;been assigned a&#160;<br/>unique identifier (tag).</p>
<p style="position:absolute;top:436px;left:89px;white-space:nowrap" class="ft11783"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:436px;left:478px;white-space:nowrap" class="ft11784">1.&#160;The Administrator&#160;chooses&#160;a tag&#160;</p>
<p style="position:absolute;top:455px;left:505px;white-space:nowrap" class="ft11784">not assigned to other applications;</p>
<p style="position:absolute;top:474px;left:478px;white-space:nowrap" class="ft11784">1.&#160;The Administrator&#160;applies&#160;the tag&#160;</p>
<p style="position:absolute;top:493px;left:505px;white-space:nowrap" class="ft11784">to the main executable binary.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft11791">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft11791">17/78</p>
</div>
<!-- Page 118 -->
<a name="118"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page118-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2118.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft11890">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft11880">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft11891">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft11883"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft11884">/UC 2210/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft11883"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft11887">Choosing&#160;credentials required for&#160;<br/>accessing&#160;application's&#160;data&#160;files.</p>
<p style="position:absolute;top:249px;left:89px;white-space:nowrap" class="ft11883"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:249px;left:451px;white-space:nowrap" class="ft11887">From&#160;the credentials' set&#160;selected in /UC&#160;<br/>210/, the KMA&#160;Administrator&#160;chooses&#160;a&#160;<br/>subset (suitable for the application)&#160;which&#160;<br/>KMA will have to rely upon&#160;to enforce&#160;<br/>access&#160;control for&#160;the data&#160;repositories&#160;<br/>assigned to the application&#160;(identified by&#160;<br/>tag).<br/>Since the credentials can&#160;be provided&#160;<br/>(and subsequently verified) at any&#160;time&#160;<br/>before the application&#160;actually accesses&#160;a&#160;<br/>repository,&#160;a mechanism must&#160;be in place&#160;<br/>to let KMA perform the credential&#160;<br/>verification.<br/>Each credential (directly or&#160;indirectly)&#160;<br/>corresponds&#160;to&#160;(or coincides with) a&#160;<br/>property assumed&#160;by the system&#160;or&#160;by&#160;<br/>the application when running as&#160;process;&#160;<br/>from KMA&#160;point of view, checking the&#160;<br/>values&#160;of all properties associated&#160;to the&#160;<br/>chosen subset of credentials is equivalent&#160;<br/>to verifying the credentials.<br/>Since the main application&#160;binary&#160;is&#160;<br/>“tagged”, the properties corresponding to&#160;<br/>the chosen&#160;subset of credentials&#160;are also&#160;<br/>bound to&#160;the tag.</p>
<p style="position:absolute;top:737px;left:89px;white-space:nowrap" class="ft11883"><b>Actor(s)</b></p>
<p style="position:absolute;top:737px;left:451px;white-space:nowrap" class="ft11884">KMA Administrator</p>
<p style="position:absolute;top:765px;left:89px;white-space:nowrap" class="ft11883"><b>Preconditions</b></p>
<p style="position:absolute;top:765px;left:451px;white-space:nowrap" class="ft11884">/UC 2200/</p>
<p style="position:absolute;top:792px;left:89px;white-space:nowrap" class="ft11883"><b>Postconditions</b></p>
<p style="position:absolute;top:792px;left:451px;white-space:nowrap" class="ft11887">A (sub)set of credentials&#160;for the&#160;<br/>application&#160;to access&#160;its data&#160;repositories&#160;<br/>is chosen.</p>
<p style="position:absolute;top:858px;left:89px;white-space:nowrap" class="ft11883"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:858px;left:478px;white-space:nowrap" class="ft11884">1.&#160;The Administrator&#160;chooses&#160;a subset&#160;</p>
<p style="position:absolute;top:877px;left:505px;white-space:nowrap" class="ft11887">of credentials&#160;from the set defined&#160;<br/>in /UC 210/;</p>
<p style="position:absolute;top:916px;left:478px;white-space:nowrap" class="ft11884">2.&#160;The Administrator&#160;binds&#160;the&#160;</p>
<p style="position:absolute;top:935px;left:505px;white-space:nowrap" class="ft11887">application&#160;tag with the chosen&#160;<br/>subset.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft11891">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft11891">18/78</p>
</div>
<!-- Page 119 -->
<a name="119"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page119-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2119.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft11990">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft11980">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft11991">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft11983"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft11984">/UC 2220/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft11983"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft11987">Building a&#160;list of application data&#160;files to&#160;<br/>protect.</p>
<p style="position:absolute;top:249px;left:89px;white-space:nowrap" class="ft11983"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:249px;left:451px;white-space:nowrap" class="ft11987">The KMA&#160;Administrator&#160;creates&#160;the list of&#160;<br/>data&#160;files&#160;to be protected for the&#160;<br/>application.</p>
<p style="position:absolute;top:315px;left:89px;white-space:nowrap" class="ft11983"><b>Actor(s)</b></p>
<p style="position:absolute;top:315px;left:451px;white-space:nowrap" class="ft11984">KMA Administrator</p>
<p style="position:absolute;top:342px;left:89px;white-space:nowrap" class="ft11983"><b>Preconditions</b></p>
<p style="position:absolute;top:342px;left:451px;white-space:nowrap" class="ft11984">/UC 2210/</p>
<p style="position:absolute;top:370px;left:89px;white-space:nowrap" class="ft11983"><b>Postconditions</b></p>
<p style="position:absolute;top:370px;left:451px;white-space:nowrap" class="ft11987">The list of data&#160;files to protect&#160;is created&#160;<br/>for each application.</p>
<p style="position:absolute;top:416px;left:89px;white-space:nowrap" class="ft11983"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:416px;left:478px;white-space:nowrap" class="ft11984">1.&#160;The KMA&#160;Administrator&#160;creates&#160;the&#160;</p>
<p style="position:absolute;top:436px;left:505px;white-space:nowrap" class="ft11987">list of&#160;data files that&#160;will be&#160;<br/>protected by KMA for&#160;the&#160;<br/>application.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft11991">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft11991">19/78</p>
</div>
<!-- Page 120 -->
<a name="120"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page120-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2120.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft12090">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft12080">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft12091">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft12083"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft12084">/UC 2230/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft12083"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft12087">Building the list of&#160;executable files&#160;to be&#160;<br/>certified for the application.</p>
<p style="position:absolute;top:249px;left:89px;white-space:nowrap" class="ft12083"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:249px;left:451px;white-space:nowrap" class="ft12087">The KMA&#160;Administrator&#160;creates&#160;a list of&#160;<br/>the executable files&#160;that will be certified.&#160;<br/>This&#160;procedure is required because&#160;only&#160;<br/>certified binaries can&#160;interact&#160;with KMA&#160;<br/>and because&#160;it assures&#160;the integrity of&#160;the&#160;<br/>application's&#160;binaries.</p>
<p style="position:absolute;top:372px;left:89px;white-space:nowrap" class="ft12083"><b>Actor(s)</b></p>
<p style="position:absolute;top:372px;left:451px;white-space:nowrap" class="ft12084">KMA Administrator</p>
<p style="position:absolute;top:400px;left:89px;white-space:nowrap" class="ft12083"><b>Preconditions</b></p>
<p style="position:absolute;top:403px;left:478px;white-space:nowrap" class="ft12094">●</p>
<p style="position:absolute;top:400px;left:505px;white-space:nowrap" class="ft12084">/UC 2210/</p>
<p style="position:absolute;top:428px;left:89px;white-space:nowrap" class="ft12083"><b>Postcondition</b></p>
<p style="position:absolute;top:428px;left:451px;white-space:nowrap" class="ft12087">The list of executables&#160;to be certified for&#160;<br/>the application is created.</p>
<p style="position:absolute;top:474px;left:89px;white-space:nowrap" class="ft12083"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:474px;left:478px;white-space:nowrap" class="ft12084">1.&#160;The KMA&#160;Administrator&#160;add to such&#160;</p>
<p style="position:absolute;top:493px;left:505px;white-space:nowrap" class="ft12084">list for&#160;each application:</p>
<p style="position:absolute;top:516px;left:531px;white-space:nowrap" class="ft12094">●</p>
<p style="position:absolute;top:513px;left:558px;white-space:nowrap" class="ft12087">the main executable file of&#160;<br/>the application&#160;and the&#160;<br/>shared&#160;libraries it depends&#160;<br/>on;</p>
<p style="position:absolute;top:593px;left:531px;white-space:nowrap" class="ft12094">●</p>
<p style="position:absolute;top:590px;left:558px;white-space:nowrap" class="ft12087">the executable file (and the&#160;<br/>shared&#160;libraries it depends&#160;<br/>on) of all components&#160;<br/>managing the set of&#160;<br/>credentials required for the&#160;<br/>application to&#160;access&#160;the&#160;<br/>protected&#160;data&#160;and chosen in&#160;<br/>/UC 2210/.&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft12091">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft12091">20/78</p>
</div>
<!-- Page 121 -->
<a name="121"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page121-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2121.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft12190">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft12180">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft12191">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft12198"><b>&#160;3.5.3&#160;&#160;KMA&#160;take ownership</b></p>
<p style="position:absolute;top:219px;left:89px;white-space:nowrap" class="ft12183"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:219px;left:451px;white-space:nowrap" class="ft12184">/UC 30/</p>
<p style="position:absolute;top:246px;left:89px;white-space:nowrap" class="ft12183"><b>Title</b></p>
<p style="position:absolute;top:246px;left:451px;white-space:nowrap" class="ft12184">Taking ownership of KMA.</p>
<p style="position:absolute;top:274px;left:89px;white-space:nowrap" class="ft12183"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:274px;left:451px;white-space:nowrap" class="ft12187">The KMA&#160;Administrator&#160;takes the&#160;<br/>ownership of the KMA; this operation:</p>
<p style="position:absolute;top:315px;left:478px;white-space:nowrap" class="ft12194">●</p>
<p style="position:absolute;top:312px;left:505px;white-space:nowrap" class="ft12187">guarantees&#160;that&#160;the existence&#160;of&#160;<br/>the current&#160;(chosen) system&#160;<br/>configuration&#160;is a required&#160;<br/>condition for KMA to&#160;be activated&#160;<br/>and to work&#160;properly;</p>
<p style="position:absolute;top:412px;left:478px;white-space:nowrap" class="ft12194">●</p>
<p style="position:absolute;top:409px;left:505px;white-space:nowrap" class="ft12187">causes&#160;the setting of a secret&#160;<br/>subsequently&#160;needed by KMA&#160;<br/>Administrator&#160;to certify all binaries.</p>
<p style="position:absolute;top:475px;left:89px;white-space:nowrap" class="ft12183"><b>Actor(s)</b></p>
<p style="position:absolute;top:475px;left:451px;white-space:nowrap" class="ft12184">KMA Administrator</p>
<p style="position:absolute;top:502px;left:89px;white-space:nowrap" class="ft12183"><b>Preconditions</b></p>
<p style="position:absolute;top:505px;left:478px;white-space:nowrap" class="ft12194">●</p>
<p style="position:absolute;top:502px;left:505px;white-space:nowrap" class="ft12184">/UC 20/</p>
<p style="position:absolute;top:525px;left:478px;white-space:nowrap" class="ft12194">●</p>
<p style="position:absolute;top:522px;left:505px;white-space:nowrap" class="ft12187">After /UC 20/ is completed, the TCG&#160;<br/>operating system must&#160;be restarted&#160;<br/>(/UC 10/)</p>
<p style="position:absolute;top:588px;left:89px;white-space:nowrap" class="ft12183"><b>Postcondition</b></p>
<p style="position:absolute;top:591px;left:478px;white-space:nowrap" class="ft12194">●</p>
<p style="position:absolute;top:588px;left:505px;white-space:nowrap" class="ft12187">The platform&#160;configuration&#160;required&#160;<br/>to let KMA be fully operational&#160;is&#160;<br/>set;</p>
<p style="position:absolute;top:649px;left:478px;white-space:nowrap" class="ft12194">●</p>
<p style="position:absolute;top:646px;left:505px;white-space:nowrap" class="ft12187">The KMA&#160;Administrator's&#160;password&#160;<br/>for certifying binaries&#160;is set.</p>
<p style="position:absolute;top:693px;left:89px;white-space:nowrap" class="ft12183"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:693px;left:478px;white-space:nowrap" class="ft12184">1.&#160;The KMA&#160;Administrator&#160;starts&#160;the&#160;</p>
<p style="position:absolute;top:712px;left:505px;white-space:nowrap" class="ft12184">KMA taking ownership procedure</p>
<p style="position:absolute;top:732px;left:478px;white-space:nowrap" class="ft12184">2.&#160;The KMA&#160;administrator&#160;is requested&#160;</p>
<p style="position:absolute;top:751px;left:505px;white-space:nowrap" class="ft12187">to choose&#160;a&#160;password&#160;required for&#160;<br/>activating the certification&#160;process&#160;<br/>at a&#160;later stage;</p>
<p style="position:absolute;top:808px;left:478px;white-space:nowrap" class="ft12184">3.&#160;The activation&#160;of KMA&#160;is linked to&#160;</p>
<p style="position:absolute;top:828px;left:505px;white-space:nowrap" class="ft12184">the current&#160;system configuration.</p>
<p style="position:absolute;top:870px;left:85px;white-space:nowrap" class="ft12183"><b>NOTE</b></p>
<p style="position:absolute;top:898px;left:85px;white-space:nowrap" class="ft12187">Whilst the interaction&#160;with the TPM&#160;has not been modelled in&#160;the use cases&#160;<br/>description:</p>
<p style="position:absolute;top:949px;left:112px;white-space:nowrap" class="ft12194">●</p>
<p style="position:absolute;top:946px;left:139px;white-space:nowrap" class="ft12187">the step n. 2 of the normal&#160;flow refers to&#160;the creation&#160;of a&#160;certification&#160;key&#160;<br/>protected&#160;by means&#160;of a TPM&#160;binding key, whose&#160;authorization secret is derived&#160;<br/>from&#160;the password&#160;chosen by the KMA Administrator;</p>
<p style="position:absolute;top:1016px;left:112px;white-space:nowrap" class="ft12194">●</p>
<p style="position:absolute;top:1013px;left:139px;white-space:nowrap" class="ft12187">the step n. 3 of the normal&#160;flow refers to&#160;the TPM&#160;sealing of the certification&#160;key&#160;<br/>created&#160;during step n. 3 against the current configuration&#160;(i.e. set of PCR&#160;<br/>values).</p>
<p style="position:absolute;top:1080px;left:85px;white-space:nowrap" class="ft12187">The interaction&#160;with the TPM&#160;has been modelled, instead, in the use cases&#160;<br/>implementation described in the next sections.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft12191">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft12191">21/78</p>
</div>
<!-- Page 122 -->
<a name="122"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page122-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2122.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft12290">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft12280">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft12291">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft12283"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft12284">/UC 40/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft12283"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft12284">Certifying listed executable files.</p>
<p style="position:absolute;top:229px;left:89px;white-space:nowrap" class="ft12283"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:229px;left:451px;white-space:nowrap" class="ft12287">The Administrator&#160;certifies each&#160;<br/>executable file present in the lists created&#160;<br/>in UC&#160;2230 for&#160;each application.</p>
<p style="position:absolute;top:295px;left:89px;white-space:nowrap" class="ft12283"><b>Actor(s)</b></p>
<p style="position:absolute;top:295px;left:451px;white-space:nowrap" class="ft12284">KMA Administrator</p>
<p style="position:absolute;top:323px;left:89px;white-space:nowrap" class="ft12283"><b>Preconditions</b></p>
<p style="position:absolute;top:326px;left:478px;white-space:nowrap" class="ft12294">●</p>
<p style="position:absolute;top:323px;left:505px;white-space:nowrap" class="ft12284">/UC 30/&#160;</p>
<p style="position:absolute;top:345px;left:478px;white-space:nowrap" class="ft12294">●</p>
<p style="position:absolute;top:342px;left:505px;white-space:nowrap" class="ft12287">After /UC 30/ being completed, the&#160;<br/>TCG operating system&#160;must be&#160;<br/>restarted&#160;(/UC 10/)</p>
<p style="position:absolute;top:409px;left:89px;white-space:nowrap" class="ft12283"><b>Postcondition</b></p>
<p style="position:absolute;top:409px;left:451px;white-space:nowrap" class="ft12287">All executable files in the lists previously&#160;<br/>created have been certified.</p>
<p style="position:absolute;top:455px;left:89px;white-space:nowrap" class="ft12283"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:455px;left:478px;white-space:nowrap" class="ft12284">1.&#160;The KMA&#160;Administrator&#160;checks each&#160;</p>
<p style="position:absolute;top:475px;left:505px;white-space:nowrap" class="ft12287">executable to&#160;certify sign binary&#160;by&#160;<br/>comparing it (or&#160;its&#160;hash) with&#160;<br/>corresponding from&#160;a “trusted”&#160;<br/>source&#160;to decide if a binary&#160;can&#160;be&#160;<br/>considered genuine and&#160;<br/>trustworthy;</p>
<p style="position:absolute;top:590px;left:478px;white-space:nowrap" class="ft12284">2.&#160;All binaries&#160;are verified and all are&#160;</p>
<p style="position:absolute;top:609px;left:505px;white-space:nowrap" class="ft12284">genuine;</p>
<p style="position:absolute;top:628px;left:478px;white-space:nowrap" class="ft12284">3.&#160;The KMA&#160;Administrator&#160;starts&#160;the&#160;</p>
<p style="position:absolute;top:647px;left:505px;white-space:nowrap" class="ft12287">“certify” function giving the&#160;<br/>required secret (set in /UC 30/);</p>
<p style="position:absolute;top:686px;left:478px;white-space:nowrap" class="ft12284">4.&#160;Each executable is certified; for&#160;the&#160;</p>
<p style="position:absolute;top:705px;left:505px;white-space:nowrap" class="ft12287">main executables of the&#160;<br/>applications&#160;to&#160;be secured, the tag&#160;<br/>is also applied.</p>
<p style="position:absolute;top:771px;left:89px;white-space:nowrap" class="ft12283"><b>Alternative Flow</b></p>
<p style="position:absolute;top:771px;left:478px;white-space:nowrap" class="ft12284">1.&#160;The KMA&#160;Administrator&#160;checks each&#160;</p>
<p style="position:absolute;top:790px;left:505px;white-space:nowrap" class="ft12287">executable to&#160;certify sign binary&#160;by&#160;<br/>comparing it (or&#160;its&#160;hash) with&#160;<br/>corresponding from&#160;a “trusted”&#160;<br/>source&#160;to decide if a binary&#160;can&#160;be&#160;<br/>considered genuine and&#160;<br/>trustworthy;</p>
<p style="position:absolute;top:905px;left:478px;white-space:nowrap" class="ft12284">2.&#160;All binaries&#160;are verified and some&#160;</p>
<p style="position:absolute;top:925px;left:505px;white-space:nowrap" class="ft12284">file are&#160;not genuine;</p>
<p style="position:absolute;top:944px;left:478px;white-space:nowrap" class="ft12284">3.&#160;The KMA&#160;Administrator&#160;executes&#160;</p>
<p style="position:absolute;top:963px;left:505px;white-space:nowrap" class="ft12287">the “certify” function giving the&#160;<br/>secret required, only for the&#160;<br/>genuine binaries.</p>
<p style="position:absolute;top:1021px;left:478px;white-space:nowrap" class="ft12284">4.&#160;Each genuine executable is&#160;</p>
<p style="position:absolute;top:1040px;left:505px;white-space:nowrap" class="ft12287">certified; for the main executables&#160;<br/>of the applications&#160;to be secured,&#160;<br/>the tag&#160;is also applied.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft12291">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft12291">22/78</p>
</div>
<!-- Page 123 -->
<a name="123"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page123-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2123.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft12390">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft12380">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft12391">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft12383"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft12384">/UC 50/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft12383"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft12387">Creating data&#160;file repositories&#160;bound to&#160;<br/>sets of properties'&#160;values for&#160;each&#160;<br/>application&#160;tag.</p>
<p style="position:absolute;top:268px;left:89px;white-space:nowrap" class="ft12383"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:268px;left:451px;white-space:nowrap" class="ft12387">For&#160;each application&#160;(i.e. for each&#160;tag&#160;<br/>defined), the KMA&#160;Administrator&#160;creates&#160;a&#160;<br/>set of protected (i.e. encrypted) data&#160;<br/>repositories. Because&#160;each tag&#160;is bound to&#160;<br/>a set of application's&#160;or&#160;system's&#160;<br/>properties,&#160;first&#160;the Administrator&#160;checks&#160;<br/>all the possible values for&#160;each property,&#160;<br/>then creates&#160;one data&#160;repository&#160;bound to&#160;<br/>each desired collection of values. KMA&#160;will&#160;<br/>therefore grant&#160;the access&#160;to&#160;one&#160;<br/>application's&#160;repository&#160;only if, at&#160;the&#160;<br/>access&#160;time, all properties'&#160;values&#160;match&#160;<br/>one of the wanted collection.</p>
<p style="position:absolute;top:526px;left:89px;white-space:nowrap" class="ft12383"><b>Actor(s)</b></p>
<p style="position:absolute;top:526px;left:451px;white-space:nowrap" class="ft12384">KMA Administrator</p>
<p style="position:absolute;top:553px;left:89px;white-space:nowrap" class="ft12383"><b>Preconditions</b></p>
<p style="position:absolute;top:556px;left:478px;white-space:nowrap" class="ft12394">●</p>
<p style="position:absolute;top:553px;left:505px;white-space:nowrap" class="ft12384">/UC 220/</p>
<p style="position:absolute;top:581px;left:89px;white-space:nowrap" class="ft12383"><b>Postcondition</b></p>
<p style="position:absolute;top:581px;left:451px;white-space:nowrap" class="ft12387">The protected&#160;data&#160;repositories&#160;for each&#160;<br/>application&#160;tag are&#160;created.</p>
<p style="position:absolute;top:628px;left:89px;white-space:nowrap" class="ft12383"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:628px;left:451px;white-space:nowrap" class="ft12387">For&#160;each application&#160;tag, the KMA&#160;<br/>administrator:</p>
<p style="position:absolute;top:666px;left:478px;white-space:nowrap" class="ft12384">1.&#160;retrieves the set of associated&#160;</p>
<p style="position:absolute;top:685px;left:505px;white-space:nowrap" class="ft12384">properties;</p>
<p style="position:absolute;top:705px;left:478px;white-space:nowrap" class="ft12384">2.&#160;selects&#160;all desired values&#160;for each&#160;</p>
<p style="position:absolute;top:724px;left:505px;white-space:nowrap" class="ft12384">property</p>
<p style="position:absolute;top:743px;left:478px;white-space:nowrap" class="ft12384">3.&#160;creates&#160;a new data repository&#160;for&#160;</p>
<p style="position:absolute;top:762px;left:505px;white-space:nowrap" class="ft12387">each wanted collection of&#160;<br/>properties&#160;values&#160;for the selected&#160;<br/>tag;</p>
<p style="position:absolute;top:820px;left:478px;white-space:nowrap" class="ft12384">4.&#160;binds the new data&#160;repository&#160;to&#160;</p>
<p style="position:absolute;top:839px;left:505px;white-space:nowrap" class="ft12384">the related collection of values.</p>
<p style="position:absolute;top:882px;left:85px;white-space:nowrap" class="ft12383"><b>NOTE</b></p>
<p style="position:absolute;top:910px;left:85px;white-space:nowrap" class="ft12387">To&#160;achieve some&#160;security objectives stated&#160;in the next section,&#160;this use case&#160;may&#160;be&#160;<br/>implemented using encryption&#160;for the protected&#160;repositories; in this case&#160;an&#160;<br/>encryption key must be generated&#160;bound to&#160;each collection of properties' values. KMA&#160;<br/>must&#160;protect&#160;such encryption&#160;key an a&#160;way that&#160;the security&#160;goals for&#160;KMA can&#160;be&#160;<br/>met. This key must&#160;be available to&#160;KMA when the application&#160;wants to&#160;access&#160;its&#160;data&#160;<br/>under&#160;certain application&#160;and system&#160;properties'&#160;values&#160;(as described in /UC B0/, /UC&#160;<br/>C0/ and /UC D0/). A&#160;possible implementation&#160;of the mechanisms&#160;for&#160;generating and&#160;<br/>retrieving the keys bound to the collection of properties' values is described in the use&#160;<br/>case&#160;implementation section.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft12391">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft12391">23/78</p>
</div>
<!-- Page 124 -->
<a name="124"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page124-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2124.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft12490">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft12480">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft12491">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft12498"><b>&#160;3.5.4&#160;&#160;Activating&#160;KMA</b></p>
<p style="position:absolute;top:219px;left:89px;white-space:nowrap" class="ft12483"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:219px;left:451px;white-space:nowrap" class="ft12484">/UC 60/</p>
<p style="position:absolute;top:246px;left:89px;white-space:nowrap" class="ft12483"><b>Title</b></p>
<p style="position:absolute;top:246px;left:451px;white-space:nowrap" class="ft12484">Activating&#160;KMA</p>
<p style="position:absolute;top:274px;left:89px;white-space:nowrap" class="ft12483"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:274px;left:451px;white-space:nowrap" class="ft12487">The TCG-enabled operating system&#160;<br/>activates&#160;the KMA&#160;software.</p>
<p style="position:absolute;top:321px;left:89px;white-space:nowrap" class="ft12483"><b>Actor(s)</b></p>
<p style="position:absolute;top:321px;left:451px;white-space:nowrap" class="ft12484">TCG-enabled operating system</p>
<p style="position:absolute;top:348px;left:89px;white-space:nowrap" class="ft12483"><b>Preconditions</b></p>
<p style="position:absolute;top:351px;left:478px;white-space:nowrap" class="ft12494">●</p>
<p style="position:absolute;top:348px;left:505px;white-space:nowrap" class="ft12484">/UC 40/</p>
<p style="position:absolute;top:371px;left:478px;white-space:nowrap" class="ft12494">●</p>
<p style="position:absolute;top:368px;left:505px;white-space:nowrap" class="ft12484">/UC 50/</p>
<p style="position:absolute;top:390px;left:478px;white-space:nowrap" class="ft12494">●</p>
<p style="position:absolute;top:387px;left:505px;white-space:nowrap" class="ft12487">After /UC 40/ and /UC 50/ being&#160;<br/>completed, the TCG operating&#160;<br/>system&#160;must be restarted&#160;(/UC 10/)</p>
<p style="position:absolute;top:453px;left:89px;white-space:nowrap" class="ft12483"><b>Postcondition</b></p>
<p style="position:absolute;top:453px;left:451px;white-space:nowrap" class="ft12484">The KMA software&#160;is fully operational:</p>
<p style="position:absolute;top:476px;left:478px;white-space:nowrap" class="ft12494">●</p>
<p style="position:absolute;top:473px;left:505px;white-space:nowrap" class="ft12487">the measurements of all&#160;<br/>components&#160;required by KMA to&#160;<br/>work&#160;properly are&#160;correctly&#160;taken&#160;<br/>by the TCG-enabled operating&#160;<br/>system;</p>
<p style="position:absolute;top:572px;left:478px;white-space:nowrap" class="ft12494">●</p>
<p style="position:absolute;top:569px;left:505px;white-space:nowrap" class="ft12487">the KMA has&#160;successfully&#160;<br/>performed a TPM&#160;operation that&#160;<br/>proves&#160;that the current&#160;<br/>measurements&#160;matches&#160;those&#160;<br/>taken by the KMA&#160;Administrator&#160;in&#160;<br/>the use case&#160;/UC 30/.</p>
<p style="position:absolute;top:693px;left:89px;white-space:nowrap" class="ft12483"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:693px;left:478px;white-space:nowrap" class="ft12484">1.&#160;The TCG-enabled operating system&#160;</p>
<p style="position:absolute;top:712px;left:505px;white-space:nowrap" class="ft12487">performs&#160;the measurements&#160;of the&#160;<br/>platform&#160;components&#160;defined by&#160;<br/>the KMA Administrator;</p>
<p style="position:absolute;top:770px;left:478px;white-space:nowrap" class="ft12484">2.&#160;The KMA perform a&#160;TPM operation&#160;</p>
<p style="position:absolute;top:789px;left:505px;white-space:nowrap" class="ft12487">(unsealing) to verify the current&#160;<br/>configuration;</p>
<p style="position:absolute;top:827px;left:478px;white-space:nowrap" class="ft12484">3.&#160;The result&#160;is “success”,&#160;i.e. the&#160;</p>
<p style="position:absolute;top:846px;left:505px;white-space:nowrap" class="ft12487">current&#160;configuration&#160;matches&#160;the&#160;<br/>one previously&#160;chosen by the KMA&#160;<br/>Administrator;</p>
<p style="position:absolute;top:904px;left:478px;white-space:nowrap" class="ft12484">4.&#160;KMA&#160;is fully operational.</p>
<p style="position:absolute;top:931px;left:89px;white-space:nowrap" class="ft12483"><b>Alternative Flow</b></p>
<p style="position:absolute;top:931px;left:478px;white-space:nowrap" class="ft12484">1.&#160;The TCG-enabled operating system&#160;</p>
<p style="position:absolute;top:951px;left:505px;white-space:nowrap" class="ft12487">performs&#160;the measurements&#160;of the&#160;<br/>platform&#160;components&#160;defined by&#160;<br/>the KMA Administrator;</p>
<p style="position:absolute;top:1008px;left:478px;white-space:nowrap" class="ft12484">2.&#160;The KMA perform a&#160;TPM operation&#160;</p>
<p style="position:absolute;top:1027px;left:505px;white-space:nowrap" class="ft12487">(unsealing) to verify the current&#160;<br/>configuration;</p>
<p style="position:absolute;top:1066px;left:478px;white-space:nowrap" class="ft12484">3.&#160;The result&#160;is “failure”, i.e. the&#160;</p>
<p style="position:absolute;top:1085px;left:505px;white-space:nowrap" class="ft12487">current&#160;configuration&#160;does&#160;not&#160;<br/>match&#160;the one previously chosen&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft12491">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft12491">24/78</p>
</div>
<!-- Page 125 -->
<a name="125"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page125-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2125.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft12590">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft12580">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft12591">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:155px;left:89px;white-space:nowrap" class="ft12583"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:155px;left:451px;white-space:nowrap" class="ft12584">/UC 60/</p>
<p style="position:absolute;top:183px;left:505px;white-space:nowrap" class="ft12584">by the KMA Administrator;</p>
<p style="position:absolute;top:202px;left:478px;white-space:nowrap" class="ft12584">4.&#160;KMA&#160;is not operational.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft12591">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft12591">25/78</p>
</div>
<!-- Page 126 -->
<a name="126"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page126-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2126.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft12690">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft12680">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft12691">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft12683"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft12684">/UC 70/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft12683"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft12684">Providing additional credentials</p>
<p style="position:absolute;top:229px;left:89px;white-space:nowrap" class="ft12683"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:229px;left:451px;white-space:nowrap" class="ft12687">The actor&#160;provides additional credentials&#160;<br/>(among those chosen&#160;by the KMA&#160;<br/>Administrator).</p>
<p style="position:absolute;top:295px;left:89px;white-space:nowrap" class="ft12683"><b>Actor(s)</b></p>
<p style="position:absolute;top:295px;left:451px;white-space:nowrap" class="ft12687">KMA Administrator,&#160;User, TCG-enabled&#160;<br/>operating system.</p>
<p style="position:absolute;top:342px;left:89px;white-space:nowrap" class="ft12683"><b>Preconditions</b></p>
<p style="position:absolute;top:345px;left:478px;white-space:nowrap" class="ft12694">●</p>
<p style="position:absolute;top:342px;left:505px;white-space:nowrap" class="ft12684">/UC 40/ Normal&#160;flow</p>
<p style="position:absolute;top:365px;left:478px;white-space:nowrap" class="ft12694">●</p>
<p style="position:absolute;top:362px;left:505px;white-space:nowrap" class="ft12684">/UC 60/ Normal&#160;flow</p>
<p style="position:absolute;top:390px;left:89px;white-space:nowrap" class="ft12683"><b>Postcondition</b></p>
<p style="position:absolute;top:390px;left:451px;white-space:nowrap" class="ft12687">KMA received an&#160;update of a&#160;system&#160;<br/>property property&#160;value.</p>
<p style="position:absolute;top:436px;left:89px;white-space:nowrap" class="ft12683"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:436px;left:478px;white-space:nowrap" class="ft12684">1.&#160;The actor&#160;interacts&#160;with the system&#160;</p>
<p style="position:absolute;top:455px;left:505px;white-space:nowrap" class="ft12687">component bound to a&#160;credential,&#160;<br/>as&#160;defined by KMA Administrator;</p>
<p style="position:absolute;top:494px;left:478px;white-space:nowrap" class="ft12684">2.&#160;KMA verifies that&#160;the component&#160;</p>
<p style="position:absolute;top:513px;left:505px;white-space:nowrap" class="ft12687">designated to trustfully report this&#160;<br/>information&#160;is certified and it is not&#160;<br/>corrupted;</p>
<p style="position:absolute;top:571px;left:478px;white-space:nowrap" class="ft12684">3.&#160;A system&#160;property has&#160;just&#160;been&#160;</p>
<p style="position:absolute;top:590px;left:505px;white-space:nowrap" class="ft12687">set for the first&#160;time or its value has&#160;<br/>been modified;</p>
<p style="position:absolute;top:628px;left:478px;white-space:nowrap" class="ft12684">4.&#160;The updated property value is&#160;</p>
<p style="position:absolute;top:647px;left:505px;white-space:nowrap" class="ft12684">reported to KMA.</p>
<p style="position:absolute;top:675px;left:89px;white-space:nowrap" class="ft12683"><b>Alternative Flow</b></p>
<p style="position:absolute;top:675px;left:478px;white-space:nowrap" class="ft12684">1.&#160;The actor&#160;interacts&#160;with the system&#160;</p>
<p style="position:absolute;top:694px;left:505px;white-space:nowrap" class="ft12687">component bound to a&#160;credential,&#160;<br/>as&#160;defined by KMA Administrator;</p>
<p style="position:absolute;top:733px;left:478px;white-space:nowrap" class="ft12684">2.&#160;KMA verifies that&#160;the component&#160;</p>
<p style="position:absolute;top:752px;left:505px;white-space:nowrap" class="ft12687">designated to trustfully report this&#160;<br/>information&#160;is not certified or&#160;it is&#160;<br/>corrupted;</p>
<p style="position:absolute;top:809px;left:478px;white-space:nowrap" class="ft12684">3.&#160;A system&#160;property has&#160;just&#160;been&#160;</p>
<p style="position:absolute;top:829px;left:505px;white-space:nowrap" class="ft12687">set for the first&#160;time or its value has&#160;<br/>been modified;</p>
<p style="position:absolute;top:867px;left:478px;white-space:nowrap" class="ft12684">5.&#160;The updated property value is not&#160;</p>
<p style="position:absolute;top:886px;left:505px;white-space:nowrap" class="ft12684">reported to KMA.</p>
<p style="position:absolute;top:929px;left:85px;white-space:nowrap" class="ft12683"><b>NOTES</b></p>
<p style="position:absolute;top:957px;left:85px;white-space:nowrap" class="ft12687">The additional credential that may&#160;be required to&#160;let the access&#160;of an application&#160;to its&#160;<br/>repository&#160;be bound to&#160;(or can&#160;be itself) a&#160;system property&#160;(i.e. not an application&#160;<br/>property).&#160;In the use cases&#160;description, only one option is considered: unless&#160;the&#160;<br/>component&#160;managing the property&#160;value is part&#160;of the core&#160;of the TCG operating&#160;<br/>system&#160;(i.e. the kernel) - in which case&#160;(not&#160;modelled in the use case&#160;descriptions) its&#160;<br/>integrity is implicitly verified when KMA is activated&#160;(/UC 60/) - KMA explicitly verifies&#160;<br/>the component integrity when it is loaded, i.e. the first&#160;time it sets&#160;the system&#160;<br/>property.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft12691">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft12691">26/78</p>
</div>
<!-- Page 127 -->
<a name="127"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft12799{font-size:17px;font-family:GAAAAA+CourierNewPSMT;color:#000000;}
-->
</style>
<div id="page127-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2127.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft12790">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft12780">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft12791">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft12783"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft12784">/UC 80/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft12783"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft12784">Providing a&#160;user credential</p>
<p style="position:absolute;top:229px;left:89px;white-space:nowrap" class="ft12783"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:229px;left:451px;white-space:nowrap" class="ft12787">The User provides his credential to&#160;KMA,&#160;<br/>when logging in to&#160;the TCG-enabled&#160;<br/>operating system.</p>
<p style="position:absolute;top:295px;left:89px;white-space:nowrap" class="ft12783"><b>Actor(s)</b></p>
<p style="position:absolute;top:295px;left:451px;white-space:nowrap" class="ft12784">User</p>
<p style="position:absolute;top:323px;left:89px;white-space:nowrap" class="ft12783"><b>Preconditions</b></p>
<p style="position:absolute;top:326px;left:478px;white-space:nowrap" class="ft12794">●</p>
<p style="position:absolute;top:323px;left:505px;white-space:nowrap" class="ft12784">/UC 40/ Normal&#160;flow</p>
<p style="position:absolute;top:345px;left:478px;white-space:nowrap" class="ft12794">●</p>
<p style="position:absolute;top:342px;left:505px;white-space:nowrap" class="ft12784">/UC 60/ Normal&#160;flow</p>
<p style="position:absolute;top:370px;left:89px;white-space:nowrap" class="ft12783"><b>Postcondition</b></p>
<p style="position:absolute;top:370px;left:451px;white-space:nowrap" class="ft12787">The property&#160;value representing a user&#160;<br/>currently logged in to&#160;the system&#160;has&#160;<br/>been reported&#160;to KMA.</p>
<p style="position:absolute;top:436px;left:89px;white-space:nowrap" class="ft12783"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:436px;left:478px;white-space:nowrap" class="ft12784">1.&#160;The User logs in to the TCG-enabled&#160;</p>
<p style="position:absolute;top:455px;left:505px;white-space:nowrap" class="ft12787">operating system using the&#160;<br/>configured authentication&#160;method;</p>
<p style="position:absolute;top:494px;left:478px;white-space:nowrap" class="ft12784">2.&#160;The component&#160;managing the user&#160;</p>
<p style="position:absolute;top:513px;left:505px;white-space:nowrap" class="ft12787">credential and the related property&#160;<br/>is activated;&#160;KMA verifies that it is&#160;<br/>certified and it is not&#160;corrupted;</p>
<p style="position:absolute;top:571px;left:478px;white-space:nowrap" class="ft12784">3.&#160;The property&#160;value bound to the&#160;</p>
<p style="position:absolute;top:590px;left:505px;white-space:nowrap" class="ft12787">user credential for&#160;the User logged&#160;<br/>in is reported to&#160;KMA.</p>
<p style="position:absolute;top:637px;left:89px;white-space:nowrap" class="ft12783"><b>Alternative Flow</b></p>
<p style="position:absolute;top:637px;left:478px;white-space:nowrap" class="ft12784">1.&#160;The User logs in to the TCG-enabled&#160;</p>
<p style="position:absolute;top:656px;left:505px;white-space:nowrap" class="ft12787">operating system using the&#160;<br/>configured authentication&#160;method;</p>
<p style="position:absolute;top:694px;left:478px;white-space:nowrap" class="ft12784">2.&#160;The component&#160;managing the user&#160;</p>
<p style="position:absolute;top:713px;left:505px;white-space:nowrap" class="ft12787">credential and the related property&#160;<br/>is activated;&#160;KMA verifies that is not&#160;<br/>certified or it is corrupted;</p>
<p style="position:absolute;top:771px;left:478px;white-space:nowrap" class="ft12784">3.&#160;The property&#160;value bound to the&#160;</p>
<p style="position:absolute;top:790px;left:505px;white-space:nowrap" class="ft12787">user credential for&#160;the User logged&#160;<br/>in is not reported to&#160;KMA.</p>
<p style="position:absolute;top:837px;left:89px;white-space:nowrap" class="ft12783"><b>Alternative Flow</b></p>
<p style="position:absolute;top:837px;left:478px;white-space:nowrap" class="ft12784">1.&#160;The User logs in to the TCG-enabled&#160;</p>
<p style="position:absolute;top:856px;left:505px;white-space:nowrap" class="ft12787">operating system using the&#160;<br/>configured authentication&#160;method;</p>
<p style="position:absolute;top:894px;left:478px;white-space:nowrap" class="ft12784">2.&#160;No component&#160;was&#160;defined by KMA&#160;</p>
<p style="position:absolute;top:914px;left:505px;white-space:nowrap" class="ft12787">Administrator&#160;to manage&#160;the user&#160;<br/>credential;</p>
<p style="position:absolute;top:952px;left:478px;white-space:nowrap" class="ft12784">3.&#160;The property&#160;value bound to the&#160;</p>
<p style="position:absolute;top:971px;left:505px;white-space:nowrap" class="ft12787">user credential for&#160;the User logged&#160;<br/>in is not reported to&#160;KMA.</p>
<p style="position:absolute;top:1033px;left:85px;white-space:nowrap" class="ft12783"><b>NOTE</b></p>
<p style="position:absolute;top:1061px;left:85px;white-space:nowrap" class="ft12784">For&#160;Unix-like operating systems,&#160;the property bound to the user&#160;credential is the&#160;</p>
<p style="position:absolute;top:1063px;left:758px;white-space:nowrap" class="ft12799">uid</p>
<p style="position:absolute;top:1061px;left:787px;white-space:nowrap" class="ft12784">:&#160;</p>
<p style="position:absolute;top:1081px;left:85px;white-space:nowrap" class="ft12787">this is the property of the established user session after login and will be inherited by&#160;<br/>all applications&#160;launched within this session. The user credential is the one the User&#160;<br/>must&#160;present to&#160;log in to the TCG-enabled operating system according to&#160;the&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft12791">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft12791">27/78</p>
</div>
<!-- Page 128 -->
<a name="128"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page128-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2128.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft12890">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft12880">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft12891">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft12887">configured authentication&#160;method;&#160;therefore a weak authentication&#160;method (or&#160;a weak&#160;<br/>credential) for the user&#160;will result in&#160;a&#160;weak&#160;access&#160;control&#160;for&#160;application&#160;protected&#160;<br/>repositories,&#160;with respect&#160;to the user&#160;credential.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft12891">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft12891">28/78</p>
</div>
<!-- Page 129 -->
<a name="129"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page129-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2129.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft12990">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft12980">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft12991">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft12983"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft12984">/UC 90/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft12983"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft12987">Starting a secured application&#160;and&#160;<br/>specifying the action&#160;to&#160;perform&#160;with KMA.</p>
<p style="position:absolute;top:249px;left:89px;white-space:nowrap" class="ft12983"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:249px;left:451px;white-space:nowrap" class="ft12987">The User starts&#160;a secured application,&#160;<br/>specifying the action&#160;KMA must&#160;to&#160;<br/>perform&#160;for it. The action can&#160;be securing&#160;<br/>unprotected&#160;data,&#160;using secured data&#160;and&#160;<br/>restoring data&#160;to the unprotected&#160;state.</p>
<p style="position:absolute;top:353px;left:89px;white-space:nowrap" class="ft12983"><b>Actor(s)</b></p>
<p style="position:absolute;top:353px;left:451px;white-space:nowrap" class="ft12984">User</p>
<p style="position:absolute;top:381px;left:89px;white-space:nowrap" class="ft12983"><b>Preconditions</b></p>
<p style="position:absolute;top:381px;left:451px;white-space:nowrap" class="ft12987">/UC 10/<br/>/UC 60/</p>
<p style="position:absolute;top:427px;left:89px;white-space:nowrap" class="ft12983"><b>Postcondition</b></p>
<p style="position:absolute;top:427px;left:451px;white-space:nowrap" class="ft12987">The result of the integrity check on the&#160;<br/>application's&#160;executable binary&#160;file is sent&#160;<br/>to KMA.</p>
<p style="position:absolute;top:493px;left:89px;white-space:nowrap" class="ft12983"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:493px;left:478px;white-space:nowrap" class="ft12984">1.&#160;The User launches the application&#160;</p>
<p style="position:absolute;top:512px;left:505px;white-space:nowrap" class="ft12987">and specifies the action that&#160;will be&#160;<br/>performed&#160;by KMA;</p>
<p style="position:absolute;top:551px;left:478px;white-space:nowrap" class="ft12984">2.&#160;The TCG-enabled operating system&#160;</p>
<p style="position:absolute;top:570px;left:505px;white-space:nowrap" class="ft12984">receives&#160;the User request;</p>
<p style="position:absolute;top:589px;left:478px;white-space:nowrap" class="ft12984">3.&#160;The TCG-enabled operating system&#160;</p>
<p style="position:absolute;top:608px;left:505px;white-space:nowrap" class="ft12987">creates&#160;a new process&#160;for the&#160;<br/>launched application;</p>
<p style="position:absolute;top:647px;left:478px;white-space:nowrap" class="ft12984">4.&#160;The TCG-enabled operating system&#160;</p>
<p style="position:absolute;top:666px;left:505px;white-space:nowrap" class="ft12984">executes&#160;/UC A0/</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft12991">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft12991">29/78</p>
</div>
<!-- Page 130 -->
<a name="130"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page130-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2130.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft13090">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft13080">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft13091">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft13083"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft13084">/UC A0/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft13083"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft13087">Providing the process&#160;identifier and the&#160;<br/>application&#160;credential to&#160;KMA.</p>
<p style="position:absolute;top:249px;left:89px;white-space:nowrap" class="ft13083"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:249px;left:451px;white-space:nowrap" class="ft13087">The TCG-enabled operating system&#160;sends&#160;<br/>KMA the information&#160;needed to&#160;perform&#160;<br/>the operation&#160;requested by the User.</p>
<p style="position:absolute;top:315px;left:89px;white-space:nowrap" class="ft13083"><b>Actor(s)</b></p>
<p style="position:absolute;top:315px;left:451px;white-space:nowrap" class="ft13084">TCG-enabled operating system.</p>
<p style="position:absolute;top:342px;left:89px;white-space:nowrap" class="ft13083"><b>Preconditions</b></p>
<p style="position:absolute;top:342px;left:451px;white-space:nowrap" class="ft13084">/UC 90/</p>
<p style="position:absolute;top:370px;left:89px;white-space:nowrap" class="ft13083"><b>Postcondition</b></p>
<p style="position:absolute;top:370px;left:451px;white-space:nowrap" class="ft13087">The application credential (tag) and the&#160;<br/>process&#160;identifier (which is the property&#160;<br/>bound to&#160;the application credential) of the&#160;<br/>application&#160;being started&#160;are&#160;sent&#160;to KMA&#160;<br/>by TCG-enabled operating system.</p>
<p style="position:absolute;top:474px;left:89px;white-space:nowrap" class="ft13083"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:474px;left:478px;white-space:nowrap" class="ft13084">1.&#160;The TCG-enabled operating system&#160;</p>
<p style="position:absolute;top:493px;left:505px;white-space:nowrap" class="ft13087">requests&#160;KMA to&#160;verify the&#160;<br/>application&#160;integrity: it is certified&#160;<br/>and not corrupted.</p>
<p style="position:absolute;top:551px;left:478px;white-space:nowrap" class="ft13084">2.&#160;The TCG-enabled operating system&#160;</p>
<p style="position:absolute;top:570px;left:505px;white-space:nowrap" class="ft13084">reports&#160;to KMA:</p>
<p style="position:absolute;top:592px;left:505px;white-space:nowrap" class="ft13094">●</p>
<p style="position:absolute;top:589px;left:532px;white-space:nowrap" class="ft13084">the process&#160;identifier;</p>
<p style="position:absolute;top:612px;left:505px;white-space:nowrap" class="ft13094">●</p>
<p style="position:absolute;top:609px;left:532px;white-space:nowrap" class="ft13084">the application credential (tag);</p>
<p style="position:absolute;top:631px;left:505px;white-space:nowrap" class="ft13094">●</p>
<p style="position:absolute;top:628px;left:532px;white-space:nowrap" class="ft13087">the action&#160;requested by the&#160;<br/>User.</p>
<p style="position:absolute;top:675px;left:89px;white-space:nowrap" class="ft13083"><b>Alternative Flow</b></p>
<p style="position:absolute;top:675px;left:478px;white-space:nowrap" class="ft13084">1.&#160;The TCG-enabled operating system&#160;</p>
<p style="position:absolute;top:694px;left:505px;white-space:nowrap" class="ft13087">requests&#160;KMA to&#160;verify the&#160;<br/>application&#160;integrity: it is not&#160;<br/>certified and it is corrupted.</p>
<p style="position:absolute;top:752px;left:478px;white-space:nowrap" class="ft13084">2.&#160;The TCG-enabled operating system&#160;</p>
<p style="position:absolute;top:771px;left:505px;white-space:nowrap" class="ft13087">does not report&#160;any information&#160;to&#160;<br/>KMA.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft13091">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft13091">30/78</p>
</div>
<!-- Page 131 -->
<a name="131"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page131-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2131.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft13190">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft13180">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft13191">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft13198"><b>&#160;3.5.5&#160;&#160;Using secured application&#160;with KMA</b></p>
<p style="position:absolute;top:219px;left:89px;white-space:nowrap" class="ft13183"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:219px;left:451px;white-space:nowrap" class="ft13184">/UC B0/</p>
<p style="position:absolute;top:246px;left:89px;white-space:nowrap" class="ft13183"><b>Title</b></p>
<p style="position:absolute;top:246px;left:451px;white-space:nowrap" class="ft13184">Securing data.</p>
<p style="position:absolute;top:274px;left:89px;white-space:nowrap" class="ft13183"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:274px;left:451px;white-space:nowrap" class="ft13187">The secured application requests the KMA&#160;<br/>to protects&#160;its&#160;data files</p>
<p style="position:absolute;top:321px;left:89px;white-space:nowrap" class="ft13183"><b>Actor(s)</b></p>
<p style="position:absolute;top:321px;left:451px;white-space:nowrap" class="ft13184">Secured application</p>
<p style="position:absolute;top:348px;left:89px;white-space:nowrap" class="ft13183"><b>Includes</b></p>
<p style="position:absolute;top:351px;left:478px;white-space:nowrap" class="ft13194">●</p>
<p style="position:absolute;top:348px;left:505px;white-space:nowrap" class="ft13184">/UC B00/</p>
<p style="position:absolute;top:371px;left:478px;white-space:nowrap" class="ft13194">●</p>
<p style="position:absolute;top:368px;left:505px;white-space:nowrap" class="ft13184">/UC B10/</p>
<p style="position:absolute;top:396px;left:89px;white-space:nowrap" class="ft13183"><b>Preconditions</b></p>
<p style="position:absolute;top:398px;left:478px;white-space:nowrap" class="ft13194">●</p>
<p style="position:absolute;top:396px;left:505px;white-space:nowrap" class="ft13184">/UC 60/ Normal&#160;flow</p>
<p style="position:absolute;top:418px;left:478px;white-space:nowrap" class="ft13194">●</p>
<p style="position:absolute;top:415px;left:505px;white-space:nowrap" class="ft13184">/UC 70/ Normal&#160;flow</p>
<p style="position:absolute;top:437px;left:478px;white-space:nowrap" class="ft13194">●</p>
<p style="position:absolute;top:435px;left:505px;white-space:nowrap" class="ft13184">/UC 80/ Normal&#160;flow</p>
<p style="position:absolute;top:457px;left:478px;white-space:nowrap" class="ft13194">●</p>
<p style="position:absolute;top:454px;left:505px;white-space:nowrap" class="ft13184">/UC A0/&#160;Normal&#160;flow</p>
<p style="position:absolute;top:482px;left:89px;white-space:nowrap" class="ft13183"><b>Postcondition</b></p>
<p style="position:absolute;top:482px;left:451px;white-space:nowrap" class="ft13187">The data&#160;files for the secured application&#160;<br/>have been protected by KMA.</p>
<p style="position:absolute;top:529px;left:89px;white-space:nowrap" class="ft13183"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:529px;left:478px;white-space:nowrap" class="ft13184">1.&#160;The secured application requests&#160;</p>
<p style="position:absolute;top:548px;left:505px;white-space:nowrap" class="ft13187">KMA to&#160;access&#160;its protected&#160;<br/>repository&#160;(bound to&#160;the properties'&#160;<br/>values&#160;currently in force)<br/>/UC B00/;</p>
<p style="position:absolute;top:625px;left:478px;white-space:nowrap" class="ft13184">2.&#160;The secured application requests&#160;</p>
<p style="position:absolute;top:644px;left:505px;white-space:nowrap" class="ft13187">the KMA&#160;to move its&#160;data files from&#160;<br/>the original unprotected&#160;location to&#160;<br/>the protected&#160;repository<br/>/UC B10/;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft13191">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft13191">31/78</p>
</div>
<!-- Page 132 -->
<a name="132"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page132-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2132.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft13290">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft13280">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft13291">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft13283"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft13284">/UC B00/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft13283"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft13284">Accessing&#160;the repository.</p>
<p style="position:absolute;top:229px;left:89px;white-space:nowrap" class="ft13283"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:229px;left:451px;white-space:nowrap" class="ft13287">A secured application&#160;requests&#160;KMA to&#160;<br/>access&#160;the properly secured data&#160;<br/>repository.&#160;KMA verifies if the application&#160;<br/>is tagged and if a repository&#160;exists&#160;that&#160;is&#160;<br/>bound to&#160;the combination&#160;of the current&#160;<br/>values&#160;for the set of properties&#160;associated&#160;<br/>to the tag: if yes,&#160;the KMA&#160;grants the&#160;<br/>secured application&#160;access&#160;to that&#160;<br/>repository.</p>
<p style="position:absolute;top:411px;left:89px;white-space:nowrap" class="ft13283"><b>Actor(s)</b></p>
<p style="position:absolute;top:411px;left:451px;white-space:nowrap" class="ft13284">Secured application.</p>
<p style="position:absolute;top:438px;left:89px;white-space:nowrap" class="ft13283"><b>Preconditions</b></p>
<p style="position:absolute;top:438px;left:451px;white-space:nowrap" class="ft13284">The same&#160;as&#160;for /UC B0/</p>
<p style="position:absolute;top:466px;left:89px;white-space:nowrap" class="ft13283"><b>Postcondition</b></p>
<p style="position:absolute;top:466px;left:451px;white-space:nowrap" class="ft13287">The User uses the secured application&#160;and&#160;<br/>only&#160;the latter is allowed to retrieve and&#160;<br/>manipulate its data&#160;files.</p>
<p style="position:absolute;top:532px;left:89px;white-space:nowrap" class="ft13283"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:532px;left:478px;white-space:nowrap" class="ft13284">1.&#160;The secured application requests to&#160;</p>
<p style="position:absolute;top:551px;left:505px;white-space:nowrap" class="ft13284">access&#160;the repository&#160;to KMA;</p>
<p style="position:absolute;top:570px;left:478px;white-space:nowrap" class="ft13284">2.&#160;KMA identifies the application&#160;by its&#160;</p>
<p style="position:absolute;top:589px;left:505px;white-space:nowrap" class="ft13284">process&#160;identifier;</p>
<p style="position:absolute;top:608px;left:478px;white-space:nowrap" class="ft13284">3.&#160;KMA verifies that&#160;the application&#160;is&#160;</p>
<p style="position:absolute;top:628px;left:505px;white-space:nowrap" class="ft13287">tagged (there exists&#160;a&#160;tag&#160;<br/>associated&#160;to&#160;the process&#160;<br/>identifier);</p>
<p style="position:absolute;top:685px;left:478px;white-space:nowrap" class="ft13284">4.&#160;KMA retrieves&#160;the set&#160;of&#160;</p>
<p style="position:absolute;top:704px;left:505px;white-space:nowrap" class="ft13287">(application&#160;and, optionally,&#160;<br/>system) properties associated&#160;to&#160;<br/>the application tag;</p>
<p style="position:absolute;top:762px;left:478px;white-space:nowrap" class="ft13284">5.&#160;Using the process&#160;identifier, KMA&#160;</p>
<p style="position:absolute;top:781px;left:505px;white-space:nowrap" class="ft13287">requests&#160;to the TCG-enabled&#160;<br/>operating system the current&#160;<br/>values&#160;for the application&#160;<br/>properties&#160;(like the one bound to&#160;<br/>the user credential) and checks&#160;<br/>that such&#160;values have been&#160;<br/>previously recorded&#160;(in /UC 70/ and&#160;<br/>/UC 80/);</p>
<p style="position:absolute;top:935px;left:478px;white-space:nowrap" class="ft13284">6.&#160;KMA collects&#160;the recorded&#160;</p>
<p style="position:absolute;top:954px;left:505px;white-space:nowrap" class="ft13287">properties'&#160;values&#160;for the&#160;<br/>requesting application&#160;and for the&#160;<br/>system;</p>
<p style="position:absolute;top:1012px;left:478px;white-space:nowrap" class="ft13284">7.&#160;KMA verifies if&#160;there exists&#160;a&#160;</p>
<p style="position:absolute;top:1031px;left:505px;white-space:nowrap" class="ft13287">repository&#160;created by KMA&#160;<br/>Administrator&#160;bound to&#160;the&#160;<br/>collection&#160;of properties'&#160;values;</p>
<p style="position:absolute;top:1088px;left:478px;white-space:nowrap" class="ft13284">8.&#160;KMA grants&#160;the secured application&#160;</p>
<p style="position:absolute;top:1108px;left:505px;white-space:nowrap" class="ft13284">access&#160;to the matched repository.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft13291">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft13291">32/78</p>
</div>
<!-- Page 133 -->
<a name="133"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page133-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2133.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft13390">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft13380">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft13391">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:155px;left:89px;white-space:nowrap" class="ft13383"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:155px;left:451px;white-space:nowrap" class="ft13384">/UC B00/</p>
<p style="position:absolute;top:183px;left:89px;white-space:nowrap" class="ft13383"><b>Alternative Flow</b></p>
<p style="position:absolute;top:183px;left:478px;white-space:nowrap" class="ft13384">1.&#160;The secured application requests to&#160;</p>
<p style="position:absolute;top:202px;left:505px;white-space:nowrap" class="ft13384">access&#160;the repository&#160;to KMA;</p>
<p style="position:absolute;top:221px;left:478px;white-space:nowrap" class="ft13384">2.&#160;KMA identifies the application&#160;by its&#160;</p>
<p style="position:absolute;top:240px;left:505px;white-space:nowrap" class="ft13384">process&#160;identifier;</p>
<p style="position:absolute;top:260px;left:478px;white-space:nowrap" class="ft13384">3.&#160;KMA verifies that&#160;the requesting&#160;</p>
<p style="position:absolute;top:279px;left:505px;white-space:nowrap" class="ft13387">application&#160;is not tagged (i.e. /UC&#160;<br/>A0/ previously failed);</p>
<p style="position:absolute;top:317px;left:478px;white-space:nowrap" class="ft13384">4.&#160;The requesting application&#160;is not a&#160;</p>
<p style="position:absolute;top:336px;left:505px;white-space:nowrap" class="ft13387">secured application&#160;and the&#160;<br/>procedure fails.</p>
<p style="position:absolute;top:383px;left:89px;white-space:nowrap" class="ft13383"><b>Alternative Flow</b></p>
<p style="position:absolute;top:383px;left:478px;white-space:nowrap" class="ft13384">1.&#160;The secured application requests to&#160;</p>
<p style="position:absolute;top:402px;left:505px;white-space:nowrap" class="ft13384">access&#160;the repository&#160;to KMA;</p>
<p style="position:absolute;top:421px;left:478px;white-space:nowrap" class="ft13384">2.&#160;KMA identifies the application&#160;by its&#160;</p>
<p style="position:absolute;top:441px;left:505px;white-space:nowrap" class="ft13384">process&#160;identifier;</p>
<p style="position:absolute;top:460px;left:478px;white-space:nowrap" class="ft13384">3.&#160;KMA verifies that&#160;the application&#160;is&#160;</p>
<p style="position:absolute;top:479px;left:505px;white-space:nowrap" class="ft13387">tagged (there exists&#160;a&#160;tag&#160;<br/>associated&#160;to&#160;the process&#160;<br/>identifier);</p>
<p style="position:absolute;top:537px;left:478px;white-space:nowrap" class="ft13384">4.&#160;KMA retrieves&#160;the set&#160;of&#160;</p>
<p style="position:absolute;top:556px;left:505px;white-space:nowrap" class="ft13387">(application&#160;and, optionally,&#160;<br/>system) properties associated&#160;to&#160;<br/>the application tag;</p>
<p style="position:absolute;top:613px;left:478px;white-space:nowrap" class="ft13384">5.&#160;Using the process&#160;identifier, KMA&#160;</p>
<p style="position:absolute;top:633px;left:505px;white-space:nowrap" class="ft13387">requests&#160;to the TCG-enabled&#160;<br/>operating system the current&#160;<br/>values&#160;for the application&#160;<br/>properties&#160;(like the one bound the&#160;<br/>user credential) and checks&#160;that&#160;<br/>some of such&#160;values&#160;have not&#160;been&#160;<br/>previously recorded&#160;(i.e. /UC 70/ or&#160;<br/>/UC 80/ failed);</p>
<p style="position:absolute;top:786px;left:478px;white-space:nowrap" class="ft13384">6.&#160;The procedure fails.</p>
<p style="position:absolute;top:814px;left:89px;white-space:nowrap" class="ft13383"><b>Alternative Flow</b></p>
<p style="position:absolute;top:814px;left:478px;white-space:nowrap" class="ft13384">1.&#160;The secured application requests to&#160;</p>
<p style="position:absolute;top:833px;left:505px;white-space:nowrap" class="ft13384">access&#160;the repository&#160;to KMA;</p>
<p style="position:absolute;top:852px;left:478px;white-space:nowrap" class="ft13384">2.&#160;KMA identifies the application&#160;by its&#160;</p>
<p style="position:absolute;top:871px;left:505px;white-space:nowrap" class="ft13384">process&#160;identifier;</p>
<p style="position:absolute;top:891px;left:478px;white-space:nowrap" class="ft13384">3.&#160;KMA verifies that&#160;the application&#160;is&#160;</p>
<p style="position:absolute;top:910px;left:505px;white-space:nowrap" class="ft13387">tagged (there exists&#160;a&#160;tag&#160;<br/>associated&#160;to&#160;the process&#160;<br/>identifier);</p>
<p style="position:absolute;top:967px;left:478px;white-space:nowrap" class="ft13384">4.&#160;KMA retrieves&#160;the set&#160;of&#160;</p>
<p style="position:absolute;top:987px;left:505px;white-space:nowrap" class="ft13387">(application&#160;and, optionally,&#160;<br/>system) properties associated&#160;to&#160;<br/>the application tag;</p>
<p style="position:absolute;top:1044px;left:478px;white-space:nowrap" class="ft13384">5.&#160;Using the process&#160;identifier, KMA&#160;</p>
<p style="position:absolute;top:1063px;left:505px;white-space:nowrap" class="ft13387">requests&#160;to the TCG-enabled&#160;<br/>operating system the current&#160;<br/>values&#160;for the application&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft13391">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft13391">33/78</p>
</div>
<!-- Page 134 -->
<a name="134"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page134-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2134.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft13490">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft13480">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft13491">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:155px;left:89px;white-space:nowrap" class="ft13483"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:155px;left:451px;white-space:nowrap" class="ft13484">/UC B00/</p>
<p style="position:absolute;top:183px;left:505px;white-space:nowrap" class="ft13487">properties&#160;(like the one bound the&#160;<br/>user credential) and checks&#160;if such&#160;<br/>values&#160;have been previously&#160;<br/>recorded;</p>
<p style="position:absolute;top:260px;left:478px;white-space:nowrap" class="ft13484">6.&#160;KMA collects&#160;the recorded&#160;</p>
<p style="position:absolute;top:279px;left:505px;white-space:nowrap" class="ft13487">properties'&#160;values&#160;for the&#160;<br/>requesting application&#160;and for the&#160;<br/>system;</p>
<p style="position:absolute;top:336px;left:478px;white-space:nowrap" class="ft13484">7.&#160;None of repositories is bound to the&#160;</p>
<p style="position:absolute;top:356px;left:505px;white-space:nowrap" class="ft13484">collection&#160;of the properties'&#160;values;</p>
<p style="position:absolute;top:375px;left:478px;white-space:nowrap" class="ft13484">8.&#160;The procedure fails.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft13491">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft13491">34/78</p>
</div>
<!-- Page 135 -->
<a name="135"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page135-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2135.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft13590">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft13580">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft13591">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft13583"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft13584">/UC B10/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft13583"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft13587">Copying data from&#160;the original location to&#160;<br/>the protected one.</p>
<p style="position:absolute;top:249px;left:89px;white-space:nowrap" class="ft13583"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:249px;left:451px;white-space:nowrap" class="ft13587">The secured application&#160;retrieves&#160;from&#160;<br/>KMA&#160;the list of files to be protected and&#160;<br/>copies&#160;the files from&#160;their original&#160;<br/>unprotected location&#160;to the protected&#160;<br/>repository&#160;previously accessed.</p>
<p style="position:absolute;top:353px;left:89px;white-space:nowrap" class="ft13583"><b>Actor(s)</b></p>
<p style="position:absolute;top:353px;left:451px;white-space:nowrap" class="ft13584">Secured application.</p>
<p style="position:absolute;top:381px;left:89px;white-space:nowrap" class="ft13583"><b>Extends</b></p>
<p style="position:absolute;top:381px;left:451px;white-space:nowrap" class="ft13584">/UC C00/</p>
<p style="position:absolute;top:408px;left:89px;white-space:nowrap" class="ft13583"><b>Preconditions</b></p>
<p style="position:absolute;top:411px;left:478px;white-space:nowrap" class="ft13594">●</p>
<p style="position:absolute;top:408px;left:505px;white-space:nowrap" class="ft13584">The same as&#160;for&#160;/UC C00/</p>
<p style="position:absolute;top:431px;left:478px;white-space:nowrap" class="ft13594">●</p>
<p style="position:absolute;top:428px;left:505px;white-space:nowrap" class="ft13584">/UC B10/</p>
<p style="position:absolute;top:455px;left:89px;white-space:nowrap" class="ft13583"><b>Postcondition</b></p>
<p style="position:absolute;top:455px;left:451px;white-space:nowrap" class="ft13587">The data&#160;files&#160;of the secured application in&#160;<br/>the list&#160;defined by KMA Administrator&#160;in&#160;<br/>/UC 2220/ have been moved from their&#160;<br/>original unprotected&#160;location&#160;to&#160;the KMA&#160;<br/>protected&#160;repository.</p>
<p style="position:absolute;top:560px;left:89px;white-space:nowrap" class="ft13583"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:560px;left:451px;white-space:nowrap" class="ft13587">Through a&#160;KMA module loaded in its&#160;<br/>memory&#160;space:</p>
<p style="position:absolute;top:598px;left:478px;white-space:nowrap" class="ft13584">1.&#160;The secured application&#160;retrieves&#160;</p>
<p style="position:absolute;top:617px;left:505px;white-space:nowrap" class="ft13587">the list&#160;of files&#160;to protect&#160;(i.e. to&#160;<br/>move&#160;to the protected repository),&#160;<br/>defined by the KMA Administrator;</p>
<p style="position:absolute;top:675px;left:478px;white-space:nowrap" class="ft13584">2.&#160;The secured application&#160;copies the&#160;</p>
<p style="position:absolute;top:694px;left:505px;white-space:nowrap" class="ft13587">data&#160;files from&#160;from their original&#160;<br/>location&#160;to the protected repository&#160;<br/>accessed&#160;in /UC B00/;</p>
<p style="position:absolute;top:752px;left:478px;white-space:nowrap" class="ft13584">3.&#160;The secured application&#160;removes&#160;</p>
<p style="position:absolute;top:771px;left:505px;white-space:nowrap" class="ft13584">each&#160;file from&#160;the original location.</p>
<p style="position:absolute;top:814px;left:85px;white-space:nowrap" class="ft13583"><b>NOTE</b></p>
<p style="position:absolute;top:842px;left:85px;white-space:nowrap" class="ft13587">To&#160;let the secured application&#160;run unmodified; the KMA&#160;module takes control&#160;once&#160;the&#160;<br/>application is loaded in memory&#160;but&#160;before the application&#160;code is actually executed.&#160;<br/>Once the control&#160;is passed&#160;back to&#160;the application&#160;code, the application&#160;runs as&#160;usual&#160;<br/>searching for&#160;files&#160;in their original location, without any knowledge of the protected&#160;<br/>repository.&#160;If the latter is provided as&#160;mounted file system,&#160;to&#160;let application&#160;access&#160;its&#160;<br/>data&#160;files, during step n. 3 it is necessary&#160;to&#160;replace&#160;the original files&#160;with links (e.g.&#160;<br/>symbolic&#160;links&#160;for Unix-like operating systems)&#160;to the corresponding files stored&#160;in the&#160;<br/>protected&#160;repository.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft13591">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft13591">35/78</p>
</div>
<!-- Page 136 -->
<a name="136"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page136-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2136.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft13690">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft13680">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft13691">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft13683"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft13684">/UC C0/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft13683"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft13684">Using secured data.</p>
<p style="position:absolute;top:229px;left:89px;white-space:nowrap" class="ft13683"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:229px;left:451px;white-space:nowrap" class="ft13687">The secured application requests the KMA&#160;<br/>to use its data&#160;files previously protected.</p>
<p style="position:absolute;top:276px;left:89px;white-space:nowrap" class="ft13683"><b>Actor(s)</b></p>
<p style="position:absolute;top:276px;left:451px;white-space:nowrap" class="ft13684">Secured application.</p>
<p style="position:absolute;top:304px;left:89px;white-space:nowrap" class="ft13683"><b>Includes</b></p>
<p style="position:absolute;top:307px;left:478px;white-space:nowrap" class="ft13694">●</p>
<p style="position:absolute;top:304px;left:505px;white-space:nowrap" class="ft13684">/UC B00/</p>
<p style="position:absolute;top:326px;left:478px;white-space:nowrap" class="ft13694">●</p>
<p style="position:absolute;top:323px;left:505px;white-space:nowrap" class="ft13684">/UC C00/</p>
<p style="position:absolute;top:351px;left:89px;white-space:nowrap" class="ft13683"><b>Preconditions</b></p>
<p style="position:absolute;top:354px;left:478px;white-space:nowrap" class="ft13694">●</p>
<p style="position:absolute;top:351px;left:505px;white-space:nowrap" class="ft13684">/UC 70/ Normal&#160;flow</p>
<p style="position:absolute;top:374px;left:478px;white-space:nowrap" class="ft13694">●</p>
<p style="position:absolute;top:371px;left:505px;white-space:nowrap" class="ft13684">/UC 80/ Normal&#160;flow</p>
<p style="position:absolute;top:393px;left:478px;white-space:nowrap" class="ft13694">●</p>
<p style="position:absolute;top:390px;left:505px;white-space:nowrap" class="ft13684">/UC A0/&#160;Normal&#160;flow</p>
<p style="position:absolute;top:418px;left:89px;white-space:nowrap" class="ft13683"><b>Postcondition</b></p>
<p style="position:absolute;top:418px;left:451px;white-space:nowrap" class="ft13687">The secured application is running as&#160;<br/>usual, using (reading, writing) the data&#160;<br/>files&#160;protected in&#160;the repository.</p>
<p style="position:absolute;top:484px;left:89px;white-space:nowrap" class="ft13683"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:484px;left:478px;white-space:nowrap" class="ft13684">1.&#160;The secured application requests&#160;</p>
<p style="position:absolute;top:503px;left:505px;white-space:nowrap" class="ft13687">the KMA&#160;to access&#160;its protected&#160;<br/>repository&#160;<br/>/UC B00/;</p>
<p style="position:absolute;top:561px;left:478px;white-space:nowrap" class="ft13684">2.&#160;The secured application starts&#160;</p>
<p style="position:absolute;top:580px;left:505px;white-space:nowrap" class="ft13687">manipulating (reading, writing) its&#160;<br/>data&#160;files&#160;stored in&#160;the protected&#160;<br/>repository&#160;<br/>/UC C00/.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft13691">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft13691">36/78</p>
</div>
<!-- Page 137 -->
<a name="137"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page137-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2137.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft13790">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft13780">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft13791">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft13783"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft13784">/UC C00/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft13783"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft13784">Manipulating data&#160;files in&#160;the repository.</p>
<p style="position:absolute;top:229px;left:89px;white-space:nowrap" class="ft13783"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:229px;left:451px;white-space:nowrap" class="ft13787">The secured application requests the KMA&#160;<br/>to perform&#160;an input/output operation&#160;<br/>(reading, writing) in&#160;files stored&#160;on its&#160;<br/>protected repository.</p>
<p style="position:absolute;top:315px;left:89px;white-space:nowrap" class="ft13783"><b>Actor(s)</b></p>
<p style="position:absolute;top:315px;left:451px;white-space:nowrap" class="ft13784">Secured application.</p>
<p style="position:absolute;top:342px;left:89px;white-space:nowrap" class="ft13783"><b>Preconditions</b></p>
<p style="position:absolute;top:342px;left:451px;white-space:nowrap" class="ft13784">/UC B00/</p>
<p style="position:absolute;top:370px;left:89px;white-space:nowrap" class="ft13783"><b>Postcondition</b></p>
<p style="position:absolute;top:370px;left:451px;white-space:nowrap" class="ft13787">The secured application has&#160;manipulated&#160;<br/>its protected data&#160;files.</p>
<p style="position:absolute;top:416px;left:89px;white-space:nowrap" class="ft13783"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:416px;left:478px;white-space:nowrap" class="ft13784">1.&#160;The secured application runs&#160;</p>
<p style="position:absolute;top:436px;left:505px;white-space:nowrap" class="ft13787">performing the usual tasks&#160;by&#160;<br/>managing data files in the&#160;<br/>protected repository.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft13791">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft13791">37/78</p>
</div>
<!-- Page 138 -->
<a name="138"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page138-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2138.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft13890">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft13880">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft13891">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft13883"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft13884">/UC D0/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft13883"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft13884">Restoring&#160;data.</p>
<p style="position:absolute;top:229px;left:89px;white-space:nowrap" class="ft13883"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:229px;left:451px;white-space:nowrap" class="ft13887">The secured application&#160;requests&#160;the KMA&#160;<br/>to&#160;restore the application's&#160;data files from&#160;<br/>the protected repository&#160;to&#160;their original&#160;<br/>location.</p>
<p style="position:absolute;top:315px;left:89px;white-space:nowrap" class="ft13883"><b>Actor(s)</b></p>
<p style="position:absolute;top:315px;left:451px;white-space:nowrap" class="ft13884">Secured application.</p>
<p style="position:absolute;top:342px;left:89px;white-space:nowrap" class="ft13883"><b>Includes</b></p>
<p style="position:absolute;top:345px;left:478px;white-space:nowrap" class="ft13894">●</p>
<p style="position:absolute;top:342px;left:505px;white-space:nowrap" class="ft13884">/UC B00/</p>
<p style="position:absolute;top:365px;left:478px;white-space:nowrap" class="ft13894">●</p>
<p style="position:absolute;top:362px;left:505px;white-space:nowrap" class="ft13884">/UC D00/</p>
<p style="position:absolute;top:390px;left:89px;white-space:nowrap" class="ft13883"><b>Preconditions</b></p>
<p style="position:absolute;top:392px;left:478px;white-space:nowrap" class="ft13894">●</p>
<p style="position:absolute;top:390px;left:505px;white-space:nowrap" class="ft13884">/UC 60/ Normal&#160;flow</p>
<p style="position:absolute;top:412px;left:478px;white-space:nowrap" class="ft13894">●</p>
<p style="position:absolute;top:409px;left:505px;white-space:nowrap" class="ft13884">/UC 70/ Normal&#160;flow</p>
<p style="position:absolute;top:431px;left:478px;white-space:nowrap" class="ft13894">●</p>
<p style="position:absolute;top:429px;left:505px;white-space:nowrap" class="ft13884">/UC 80/ Normal&#160;flow</p>
<p style="position:absolute;top:451px;left:478px;white-space:nowrap" class="ft13894">●</p>
<p style="position:absolute;top:448px;left:505px;white-space:nowrap" class="ft13884">/UC A0/ Normal&#160;flow</p>
<p style="position:absolute;top:470px;left:478px;white-space:nowrap" class="ft13894">●</p>
<p style="position:absolute;top:468px;left:505px;white-space:nowrap" class="ft13884">/UC C0/</p>
<p style="position:absolute;top:495px;left:89px;white-space:nowrap" class="ft13883"><b>Postcondition</b></p>
<p style="position:absolute;top:495px;left:451px;white-space:nowrap" class="ft13887">The data&#160;files&#160;for the secured application&#160;<br/>have been restored&#160;to their&#160;original&#160;<br/>unprotected location.</p>
<p style="position:absolute;top:561px;left:89px;white-space:nowrap" class="ft13883"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:561px;left:478px;white-space:nowrap" class="ft13884">1.&#160;The secured application&#160;requests&#160;</p>
<p style="position:absolute;top:580px;left:505px;white-space:nowrap" class="ft13887">KMA&#160;to access&#160;its protected&#160;<br/>repository&#160;(bound to the properties'&#160;<br/>values currently in&#160;force)<br/>/UC B00/;</p>
<p style="position:absolute;top:657px;left:478px;white-space:nowrap" class="ft13884">2.&#160;The secured application&#160;requests&#160;</p>
<p style="position:absolute;top:676px;left:505px;white-space:nowrap" class="ft13887">the KMA to&#160;move its data&#160;files&#160;from&#160;<br/>the protected repository&#160;to&#160;their&#160;<br/>original unprotected&#160;location<br/>/UC D00/;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft13891">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft13891">38/78</p>
</div>
<!-- Page 139 -->
<a name="139"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page139-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2139.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft13990">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft13980">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft13991">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:174px;left:89px;white-space:nowrap" class="ft13983"><b>Use&#160;case unique&#160;ID</b></p>
<p style="position:absolute;top:174px;left:451px;white-space:nowrap" class="ft13984">/UC D00/</p>
<p style="position:absolute;top:202px;left:89px;white-space:nowrap" class="ft13983"><b>Title</b></p>
<p style="position:absolute;top:202px;left:451px;white-space:nowrap" class="ft13987">Copying data from&#160;the protected&#160;location&#160;<br/>to&#160;the original one.</p>
<p style="position:absolute;top:249px;left:89px;white-space:nowrap" class="ft13983"><b>Short description/purpose(s)</b></p>
<p style="position:absolute;top:249px;left:451px;white-space:nowrap" class="ft13987">The secured application&#160;retrieves&#160;from&#160;<br/>KMA&#160;the list of files to be protected and&#160;<br/>copies&#160;the files from&#160;the protected&#160;<br/>repository&#160;previously accessed&#160;to their&#160;<br/>original unprotected&#160;location.</p>
<p style="position:absolute;top:353px;left:89px;white-space:nowrap" class="ft13983"><b>Actor(s)</b></p>
<p style="position:absolute;top:353px;left:451px;white-space:nowrap" class="ft13984">Secured application</p>
<p style="position:absolute;top:381px;left:89px;white-space:nowrap" class="ft13983"><b>Extends</b></p>
<p style="position:absolute;top:383px;left:425px;white-space:nowrap" class="ft13994">●</p>
<p style="position:absolute;top:381px;left:452px;white-space:nowrap" class="ft13984">/UC C00/</p>
<p style="position:absolute;top:408px;left:89px;white-space:nowrap" class="ft13983"><b>Preconditions</b></p>
<p style="position:absolute;top:411px;left:478px;white-space:nowrap" class="ft13994">●</p>
<p style="position:absolute;top:408px;left:505px;white-space:nowrap" class="ft13984">The same as&#160;for&#160;/UC C00/</p>
<p style="position:absolute;top:431px;left:478px;white-space:nowrap" class="ft13994">●</p>
<p style="position:absolute;top:428px;left:505px;white-space:nowrap" class="ft13984">/UC 2220/</p>
<p style="position:absolute;top:450px;left:478px;white-space:nowrap" class="ft13994">●</p>
<p style="position:absolute;top:447px;left:505px;white-space:nowrap" class="ft13984">/UC B0/</p>
<p style="position:absolute;top:475px;left:89px;white-space:nowrap" class="ft13983"><b>Postcondition</b></p>
<p style="position:absolute;top:475px;left:451px;white-space:nowrap" class="ft13987">The data&#160;files&#160;of the secured application in&#160;<br/>the list&#160;defined by KMA Administrator&#160;in&#160;<br/>/UC 2220/ have been moved from the&#160;<br/>KMA&#160;protected repository&#160;to their original&#160;<br/>unprotected location.</p>
<p style="position:absolute;top:580px;left:89px;white-space:nowrap" class="ft13983"><b>Normal&#160;Flow</b></p>
<p style="position:absolute;top:580px;left:451px;white-space:nowrap" class="ft13987">Through a&#160;KMA module loaded in its&#160;<br/>memory&#160;space:</p>
<p style="position:absolute;top:618px;left:478px;white-space:nowrap" class="ft13984">1.&#160;The secured application&#160;retrieves&#160;</p>
<p style="position:absolute;top:637px;left:505px;white-space:nowrap" class="ft13987">the list&#160;of files&#160;to protect&#160;(i.e. to&#160;<br/>move&#160;to the protected repository),&#160;<br/>defined by the KMA Administrator;</p>
<p style="position:absolute;top:695px;left:478px;white-space:nowrap" class="ft13984">2.&#160;The secured application&#160;copies the&#160;</p>
<p style="position:absolute;top:714px;left:505px;white-space:nowrap" class="ft13987">data&#160;files from&#160;the protected&#160;<br/>repository&#160;accessed&#160;in /UC B00/&#160;to&#160;<br/>their&#160;original unprotected&#160;location;</p>
<p style="position:absolute;top:772px;left:478px;white-space:nowrap" class="ft13984">3.&#160;The secured application&#160;removes&#160;</p>
<p style="position:absolute;top:791px;left:505px;white-space:nowrap" class="ft13987">each&#160;file from&#160;the protected&#160;<br/>repository.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft13991">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft13991">39/78</p>
</div>
<!-- Page 140 -->
<a name="140"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page140-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2140.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft14090">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft14080">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft14091">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft14093"><b>&#160;4&#160;&#160;Security&#160;Objectives&#160;&amp;&#160;Security&#160;Requirements</b></p>
<p style="position:absolute;top:236px;left:92px;white-space:nowrap" class="ft14083"><b>&#160;4.1&#160;&#160;Security Objectives</b></p>
<p style="position:absolute;top:264px;left:107px;white-space:nowrap" class="ft14096"><i>The&#160;&#160;&#160;security&#160;&#160;&#160;objectives&#160;&#160;&#160;shall&#160;&#160;&#160;address&#160;&#160;&#160;all&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;security&#160;&#160;&#160;environment&#160;&#160;&#160;aspects&#160;<br/>identified.&#160;&#160;&#160;The&#160;&#160;&#160;security&#160;&#160;&#160;objectives&#160;&#160;&#160;shall&#160;&#160;&#160;reflect&#160;&#160;&#160;the&#160;&#160;&#160;stated&#160;&#160;&#160;intent&#160;&#160;&#160;and&#160;&#160;&#160;shall&#160;&#160;&#160;be&#160;<br/>suitable&#160;to&#160;counter&#160;all&#160;identified&#160;threats&#160;and&#160;cover&#160;all&#160;identified&#160;organizational&#160;&#160;<br/>security&#160;policies&#160;and&#160;assumptions.&#160;A&#160;threat&#160;may&#160;be&#160;countered&#160;by&#160;one&#160;or&#160;more&#160;<br/>objectives&#160;&#160;&#160;for&#160;&#160;&#160;the&#160;&#160;&#160;product,&#160;&#160;&#160;one&#160;&#160;&#160;or&#160;&#160;&#160;more&#160;&#160;&#160;objectives&#160;&#160;&#160;for&#160;&#160;&#160;the&#160;&#160;&#160;environment,&#160;&#160;&#160;or&#160;&#160;&#160;a&#160;<br/>combination of these.</i></p>
<p style="position:absolute;top:405px;left:85px;white-space:nowrap" class="ft14083"><b>/SO&#160;10/ Data&#160;isolation&#160;at run-time</b></p>
<p style="position:absolute;top:433px;left:85px;white-space:nowrap" class="ft14087">Isolation&#160;between protected data&#160;of different applications/services&#160;at run-time must&#160;be&#160;<br/>guaranteed to&#160;prevent that, if an application&#160;gets&#160;compromised&#160;(e.g. because&#160;of a&#160;<br/>flaw) and the protected data&#160;can be accessed&#160;in memory&#160;by an attacker,&#160;the protected&#160;<br/>data&#160;of all other applications/services&#160;can be accessed&#160;by the attacker.</p>
<p style="position:absolute;top:536px;left:85px;white-space:nowrap" class="ft14083"><b>/SO&#160;20/ No unauthorized use&#160;of TOE&#160;components</b></p>
<p style="position:absolute;top:563px;left:85px;white-space:nowrap" class="ft14084">Unauthorized entities must not&#160;be able to arbitrarily&#160;execute TOE components.</p>
<p style="position:absolute;top:609px;left:85px;white-space:nowrap" class="ft14083"><b>/SO&#160;30/ No off-line&#160;access&#160;to&#160;protected&#160;data</b></p>
<p style="position:absolute;top:636px;left:85px;white-space:nowrap" class="ft14087">Unauthorized entities must not&#160;be able to access&#160;the protected&#160;data&#160;by directly&#160;<br/>accessing the storage&#160;device from&#160;another platform&#160;(this is not considered in&#160;this&#160;<br/>document a&#160;hardware attack).</p>
<p style="position:absolute;top:720px;left:85px;white-space:nowrap" class="ft14083"><b>/SO&#160;40/ No unauthorized access&#160;to protected&#160;data</b></p>
<p style="position:absolute;top:748px;left:85px;white-space:nowrap" class="ft14087">Unauthorized entities (e.g. applications,&#160;users,&#160;etc.) must&#160;not be able to access&#160;the&#160;<br/>protected&#160;data.</p>
<p style="position:absolute;top:812px;left:85px;white-space:nowrap" class="ft14083"><b>/SO&#160;50/ No access&#160;to protected data with&#160;TCB&#160;integrity compromised</b></p>
<p style="position:absolute;top:840px;left:85px;white-space:nowrap" class="ft14087">Unauthorized entities must not&#160;be able to access&#160;the protected&#160;data&#160;if the platform&#160;is&#160;<br/>started&#160;with a different TCB&#160;configuration&#160;or&#160;a different TCB.</p>
<p style="position:absolute;top:904px;left:85px;white-space:nowrap" class="ft14083"><b>/SO&#160;60/ No access&#160;to protected data with&#160;TOE&#160;integrity compromised</b></p>
<p style="position:absolute;top:932px;left:85px;white-space:nowrap" class="ft14087">Unauthorized entities must not&#160;be able to access&#160;the protected&#160;data&#160;when starting the&#160;<br/>platform&#160;with a&#160;different TOE configuration or&#160;different versions&#160;of the TOE&#160;<br/>components.</p>
<p style="position:absolute;top:1016px;left:92px;white-space:nowrap" class="ft14083"><b>&#160;4.2&#160;&#160;Security Requirements</b></p>
<p style="position:absolute;top:1045px;left:107px;white-space:nowrap" class="ft14096"><i>This&#160;part&#160;of&#160;the&#160;requirement&#160;specification&#160;defines&#160;the&#160;security&#160;requirements&#160;that&#160;<br/>have&#160;to&#160;be&#160;satisfied&#160;by&#160;the&#160;product.&#160;The&#160;statements&#160;shall&#160;define&#160;the&#160;functional&#160;<br/>and&#160;&#160;&#160;assurance&#160;&#160;&#160;security&#160;&#160;&#160;requirements&#160;&#160;&#160;that&#160;&#160;&#160;the&#160;&#160;&#160;product&#160;&#160;&#160;and&#160;&#160;&#160;the&#160;&#160;&#160;supporting&#160;&#160;<br/>evidence&#160;&#160;&#160;for&#160;&#160;&#160;its&#160;&#160;&#160;evaluation&#160;&#160;&#160;need&#160;&#160;&#160;to&#160;&#160;&#160;satisfy&#160;&#160;&#160;in&#160;&#160;&#160;order&#160;&#160;&#160;to&#160;&#160;&#160;meet&#160;&#160;&#160;the&#160;&#160;&#160;security&#160;</i></p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft14091">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft14091">40/78</p>
</div>
<!-- Page 141 -->
<a name="141"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page141-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2141.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft14190">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft14180">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft14191">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:151px;left:107px;white-space:nowrap" class="ft14195"><i>objectives.</i></p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft14183"><b>/SR&#160;10/ Integrity of&#160;the TCB&#160;</b></p>
<p style="position:absolute;top:223px;left:85px;white-space:nowrap" class="ft14187">The TCB should be protected&#160;from manipulations&#160;to&#160;guarantee the enforcement&#160;of&#160;<br/>data&#160;protection.&#160;</p>
<p style="position:absolute;top:288px;left:85px;white-space:nowrap" class="ft14183"><b>/SR&#160;20/ Integrity of&#160;the TOE&#160;</b></p>
<p style="position:absolute;top:316px;left:85px;white-space:nowrap" class="ft14187">The TOE should be protected&#160;from manipulations&#160;to guarantee the enforcement of&#160;<br/>data&#160;protection.&#160;</p>
<p style="position:absolute;top:380px;left:85px;white-space:nowrap" class="ft14183"><b>/SR&#160;30/ Confidentiality and&#160;integrity&#160;of application/data</b></p>
<p style="position:absolute;top:408px;left:85px;white-space:nowrap" class="ft14184">This requirement should hold during execution and storage.&#160;</p>
<p style="position:absolute;top:453px;left:85px;white-space:nowrap" class="ft14183"><b>/SR&#160;40/ Trusted&#160;path&#160;to user&#160;binding&#160;to (system and&#160;application)&#160;properties</b></p>
<p style="position:absolute;top:481px;left:85px;white-space:nowrap" class="ft14187">The inputs/outputs&#160;of the application a&#160;user interacts&#160;with should be protected&#160;from&#160;<br/>unauthorized access&#160;by other applications.</p>
<p style="position:absolute;top:546px;left:85px;white-space:nowrap" class="ft14193"><b>&#160;5&#160;&#160;Supplementary&#160;Requirements</b></p>
<p style="position:absolute;top:576px;left:107px;white-space:nowrap" class="ft14195"><i>Obligatory&#160;criteria,&#160;mandatory&#160;for&#160;successful completion.</i></p>
<p style="position:absolute;top:622px;left:92px;white-space:nowrap" class="ft14183"><b>&#160;5.1&#160;&#160;Preconditions</b></p>
<p style="position:absolute;top:650px;left:107px;white-space:nowrap" class="ft14196"><i>Requirements&#160;that&#160;have&#160;to&#160;be&#160;fulfilled&#160;already,&#160;because&#160;they&#160;were&#160;needed&#160;for&#160;the&#160;&#160;<br/>development&#160;process.</i></p>
<p style="position:absolute;top:714px;left:85px;white-space:nowrap" class="ft14183"><b>/PR 10/&#160;Trusted Bootloader</b></p>
<p style="position:absolute;top:741px;left:85px;white-space:nowrap" class="ft14184">A&#160;Bootloader&#160;with TPM-support&#160;is required.</p>
<p style="position:absolute;top:787px;left:85px;white-space:nowrap" class="ft14183"><b>/PR 20/&#160;TPM&#160;driver</b></p>
<p style="position:absolute;top:814px;left:85px;white-space:nowrap" class="ft14184">A&#160;TPM driver&#160;for TPM version 1.2 is required.</p>
<p style="position:absolute;top:859px;left:85px;white-space:nowrap" class="ft14183"><b>/PR 30/&#160;TCG&#160;Software Stack&#160;(TSS)</b></p>
<p style="position:absolute;top:887px;left:85px;white-space:nowrap" class="ft14184">An implementation of TCG Software&#160;Stack (TSS) is required.</p>
<p style="position:absolute;top:933px;left:92px;white-space:nowrap" class="ft14183"><b>&#160;5.2&#160;&#160;Required Criteria</b></p>
<p style="position:absolute;top:962px;left:107px;white-space:nowrap" class="ft14195"><i>Mandatory&#160;criteria, that&#160;are obligatory&#160;for successful completion.</i></p>
<p style="position:absolute;top:1006px;left:85px;white-space:nowrap" class="ft14183"><b>/RC 10/&#160;Single property support for data access&#160;control</b></p>
<p style="position:absolute;top:1034px;left:85px;white-space:nowrap" class="ft14187">The realization of the use cases&#160;should support&#160;a&#160;single application property&#160;(user&#160;<br/>currently logged in) for access&#160;control&#160;of protected data.</p>
<p style="position:absolute;top:1098px;left:85px;white-space:nowrap" class="ft14183"><b>/RC 20/&#160;Single Linux&#160;distribution&#160;support&#160;</b></p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft14191">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft14191">41/78</p>
</div>
<!-- Page 142 -->
<a name="142"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page142-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2142.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft14290">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft14280">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft14291">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft14287">The realization of the use cases&#160;should be based on a&#160;Linux architecture&#160;with support&#160;<br/>for&#160;a single distribution.</p>
<p style="position:absolute;top:216px;left:85px;white-space:nowrap" class="ft14283"><b>/RC 30/&#160;Password change</b></p>
<p style="position:absolute;top:243px;left:85px;white-space:nowrap" class="ft14284">Administrator&#160;can&#160;change the passphrase&#160;used for&#160;TOE administration.</p>
<p style="position:absolute;top:288px;left:85px;white-space:nowrap" class="ft14283"><b>/RC 40/&#160;TPM&#160;support</b></p>
<p style="position:absolute;top:316px;left:85px;white-space:nowrap" class="ft14287">The product&#160;should support&#160;a TPM of&#160;version&#160;1.2 (or higher) to protect&#160;the product's&#160;<br/>integrity. (Refer to&#160;appropriate security requirements&#160;or security objectives).</p>
<p style="position:absolute;top:381px;left:85px;white-space:nowrap" class="ft14283"><b>/RC 50/&#160;Updates&#160;for&#160;applications/services&#160;not required&#160;for&#160;protected storage</b></p>
<p style="position:absolute;top:408px;left:85px;white-space:nowrap" class="ft14287">The TOE must&#160;provide a&#160;generic&#160;protection mechanism&#160;for data&#160;files&#160;that does not&#160;<br/>require any&#160;modification&#160;to the application/service&#160;at build time.</p>
<p style="position:absolute;top:473px;left:85px;white-space:nowrap" class="ft14283"><b>/RC 60/&#160;Minimal&#160;updates&#160;for&#160;applications/services&#160;directly using&#160;TPM keys</b></p>
<p style="position:absolute;top:500px;left:85px;white-space:nowrap" class="ft14287">The TOE must&#160;provide support&#160;for the access&#160;to&#160;TPM keys bound to&#160;system/application&#160;<br/>integrity and properties, requiring minimal modifications&#160;at&#160;build time for application&#160;<br/>directly using the TPM keys.</p>
<p style="position:absolute;top:584px;left:85px;white-space:nowrap" class="ft14283"><b>/RC 70/&#160;TPM&#160;support</b></p>
<p style="position:absolute;top:612px;left:85px;white-space:nowrap" class="ft14287">The TOE must&#160;provide support&#160;for seamless upgrade of the operating system and the&#160;<br/>protected&#160;applications.</p>
<p style="position:absolute;top:677px;left:92px;white-space:nowrap" class="ft14283"><b>&#160;5.3&#160;&#160;Desired Criteria</b></p>
<p style="position:absolute;top:705px;left:107px;white-space:nowrap" class="ft14295"><i>Optional criteria, that&#160;are not&#160;mandatory&#160;for successful&#160;completion.</i></p>
<p style="position:absolute;top:750px;left:85px;white-space:nowrap" class="ft14283"><b>/DC&#160;10/ Multiple properties&#160;support for data&#160;access&#160;control</b></p>
<p style="position:absolute;top:778px;left:85px;white-space:nowrap" class="ft14287">The realization of the use cases&#160;should support&#160;multiple application and system&#160;<br/>properties for&#160;access&#160;control&#160;of protected&#160;data.</p>
<p style="position:absolute;top:842px;left:85px;white-space:nowrap" class="ft14283"><b>/DC&#160;20/ Multiple Linux&#160;distributions&#160;support&#160;</b></p>
<p style="position:absolute;top:870px;left:85px;white-space:nowrap" class="ft14287">The realization of the use cases&#160;should be based on a&#160;Linux architecture&#160;with support&#160;<br/>for&#160;multiple distributions.</p>
<p style="position:absolute;top:934px;left:85px;white-space:nowrap" class="ft14283"><b>/DC&#160;30/ Xen support</b></p>
<p style="position:absolute;top:962px;left:85px;white-space:nowrap" class="ft14287">The realization of the use cases&#160;should be based on a&#160;virtualized Linux instances&#160;<br/>based on the Xen architecture.</p>
<p style="position:absolute;top:1027px;left:92px;white-space:nowrap" class="ft14283"><b>&#160;5.4&#160;&#160;Distinguishing&#160;Criteria</b></p>
<p style="position:absolute;top:1055px;left:107px;white-space:nowrap" class="ft14295"><i>What&#160;our product&#160;does not provide.</i></p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft14291">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft14291">42/78</p>
</div>
<!-- Page 143 -->
<a name="143"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page143-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2143.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft14390">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft14380">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft14391">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:151px;left:92px;white-space:nowrap" class="ft14383"><b>&#160;5.5&#160;&#160;Execution&#160;Environment</b></p>
<p style="position:absolute;top:179px;left:107px;white-space:nowrap" class="ft14396"><i>This&#160;section&#160;specifies&#160;software&#160;and&#160;hardware&#160;the&#160;user&#160;requires&#160;at&#160;least&#160;to&#160;run&#160;our&#160;<br/>product successfully.</i></p>
<p style="position:absolute;top:244px;left:85px;white-space:nowrap" class="ft14398"><b>&#160;5.5.1&#160;&#160;Software</b></p>
<p style="position:absolute;top:274px;left:112px;white-space:nowrap" class="ft14394">●</p>
<p style="position:absolute;top:271px;left:139px;white-space:nowrap" class="ft14384">Standard&#160;Linux 2.6.x distribution (OpenSUSE 10.x)</p>
<p style="position:absolute;top:302px;left:112px;white-space:nowrap" class="ft14394">●</p>
<p style="position:absolute;top:299px;left:139px;white-space:nowrap" class="ft14384">(optional) Xenolinux 3.x.y (Linux 2.6.x&#160;running on top&#160;of Xen 3.x.y&#160;hypervisor)</p>
<p style="position:absolute;top:346px;left:85px;white-space:nowrap" class="ft14398"><b>&#160;5.5.2&#160;&#160;Hardware</b></p>
<p style="position:absolute;top:375px;left:112px;white-space:nowrap" class="ft14394">●</p>
<p style="position:absolute;top:372px;left:139px;white-space:nowrap" class="ft14384">Intel or AMD Platform</p>
<p style="position:absolute;top:404px;left:112px;white-space:nowrap" class="ft14394">●</p>
<p style="position:absolute;top:401px;left:139px;white-space:nowrap" class="ft14384">TPM&#160;1.2 Platform&#160;</p>
<p style="position:absolute;top:447px;left:92px;white-space:nowrap" class="ft14383"><b>&#160;5.6&#160;&#160;Development Environment</b></p>
<p style="position:absolute;top:475px;left:107px;white-space:nowrap" class="ft14396"><i>This&#160;&#160;&#160;section&#160;&#160;&#160;specifies&#160;&#160;&#160;hard-&#160;&#160;&#160;and&#160;&#160;&#160;software&#160;&#160;&#160;that&#160;&#160;&#160;developers&#160;&#160;&#160;need&#160;&#160;&#160;at&#160;&#160;&#160;least&#160;&#160;&#160;to&#160;<br/>implement the product&#160;successfully.</i></p>
<p style="position:absolute;top:540px;left:85px;white-space:nowrap" class="ft14398"><b>&#160;5.6.1&#160;&#160;Software</b></p>
<p style="position:absolute;top:570px;left:112px;white-space:nowrap" class="ft14394">●</p>
<p style="position:absolute;top:567px;left:139px;white-space:nowrap" class="ft14384">Standard&#160;Linux 2.6.x distribution (OpenSUSE 10.x)</p>
<p style="position:absolute;top:598px;left:112px;white-space:nowrap" class="ft14394">●</p>
<p style="position:absolute;top:595px;left:139px;white-space:nowrap" class="ft14384">gcc&#160;4.x.y</p>
<p style="position:absolute;top:627px;left:112px;white-space:nowrap" class="ft14394">●</p>
<p style="position:absolute;top:624px;left:139px;white-space:nowrap" class="ft14384">(optional) Xenolinux 3.x.y (Linux 2.6.x&#160;running on top&#160;of Xen 3.x.y&#160;hypervisor)</p>
<p style="position:absolute;top:670px;left:85px;white-space:nowrap" class="ft14398"><b>&#160;5.6.2&#160;&#160;Hardware</b></p>
<p style="position:absolute;top:700px;left:112px;white-space:nowrap" class="ft14394">●</p>
<p style="position:absolute;top:697px;left:139px;white-space:nowrap" class="ft14384">Intel or AMD Platform</p>
<p style="position:absolute;top:728px;left:112px;white-space:nowrap" class="ft14394">●</p>
<p style="position:absolute;top:725px;left:139px;white-space:nowrap" class="ft14384">TPM&#160;1.2 Platform&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft14391">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft14391">43/78</p>
</div>
<!-- Page 144 -->
<a name="144"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page144-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2144.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft14490">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft14480">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft14491">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft14493"><b>&#160;6&#160;&#160;High-Level&#160;Software&#160;Architecture</b></p>
<p style="position:absolute;top:236px;left:92px;white-space:nowrap" class="ft14483"><b>&#160;6.1&#160;&#160;Introduction</b></p>
<p style="position:absolute;top:264px;left:85px;white-space:nowrap" class="ft14487">This section contains&#160;the views&#160;of a high-level software&#160;architecture&#160;for KMA service.&#160;<br/>In particular&#160;the granularity&#160;of the views is at&#160;component level: components&#160;combining&#160;<br/>to&#160;bring about&#160;the realisation of the same functional requirement are grouped by&#160;<br/>packages.<br/>To&#160;model the components&#160;and their interactions&#160;class&#160;and sequence diagrams&#160;have&#160;<br/>been used. However,&#160;to reduce the complexity of the diagrams&#160;some informal&#160;<br/>variations&#160;have been applied: e.g. data&#160;types are&#160;not actually representing the real&#160;<br/>types for&#160;class&#160;diagrams&#160;and loops and branches&#160;have been represented in a simple&#160;<br/>manner in the sequence diagrams.&#160;Moreover,&#160;the diagrams&#160;do not&#160;model all aspects&#160;<br/>and some&#160;existing components&#160;which are&#160;modelled do not&#160;follow the object-oriented&#160;<br/>paradigm.<br/>For&#160;all these reasons,&#160;the diagrams&#160;presented in this section are&#160;not intended to&#160;be a&#160;<br/>(complete) specification&#160;for the actual&#160;design and they cannot&#160;be used to&#160;implement&#160;<br/>the components&#160;using software&#160;engineering tools.&#160;Whilst the diagrams&#160;describe the&#160;<br/>intended behaviour of the components,&#160;the detailed design of the real&#160;<br/>implementations may&#160;considerably deviate&#160;from the diagrams;&#160;therefore the latter&#160;<br/>have to&#160;be considered as&#160;informative.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft14491">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft14491">44/78</p>
</div>
<!-- Page 145 -->
<a name="145"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page145-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2145.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft14590">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft14580">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft14591">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:169px;left:92px;white-space:nowrap" class="ft14583"><b>&#160;6.2&#160;&#160;Logical&#160;view</b></p>
<p style="position:absolute;top:215px;left:85px;white-space:nowrap" class="ft14598"><b>&#160;6.2.1&#160;&#160;Packages</b></p>
<p style="position:absolute;top:260px;left:85px;white-space:nowrap" class="ft14591">&#160;6.2.1.1&#160;&#160;KMA bootstrap&#160;manager</p>
<p style="position:absolute;top:286px;left:85px;white-space:nowrap" class="ft14587">This package is used during the setup of the trusted configuration and it is responsible&#160;<br/>for&#160;KMA activation&#160;during the bootstrap&#160;process&#160;of&#160;the TCG-enabled operating system.&#160;<br/>This package includes some&#160;components&#160;that should run in kernel memory&#160;space&#160;and&#160;<br/>others&#160;that should run in the user&#160;memory&#160;space.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft14591">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft14591">45/78</p>
<p style="position:absolute;top:859px;left:267px;white-space:nowrap" class="ft14598"><b>Figure&#160;2: KMA&#160;bootstrap&#160;manager&#160;package</b></p>
</div>
<!-- Page 146 -->
<a name="146"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page146-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2146.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft14690">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft14680">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft14691">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft14691">&#160;6.2.1.2&#160;&#160;TPM interface</p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft14687">This package is responsible for mediating all accesses&#160;to&#160;the TPM.<br/>The TPM keys are not&#160;modelled in this section&#160;but&#160;are needed for&#160;real implementations&#160;<br/>of bind/unbind and seal/unseal operations.&#160;The Storage Root&#160;Key (SRK)&#160;is not modelled&#160;<br/>either.<br/>This package includes some&#160;components&#160;that should run in kernel memory&#160;space&#160;(e.g.&#160;<br/>the TPM driver) and others that&#160;should run in user&#160;memory&#160;space&#160;(e.g. the TSS stack).&#160;<br/>The unsealing operation&#160;performed&#160;during the KMA&#160;activation,&#160;must&#160;be done in&#160;kernel&#160;<br/>space&#160;(part&#160;of the TCB)&#160;in order to&#160;prevent the unsealed certification&#160;key leaving TCB.&#160;<br/>The same applies&#160;for decryption when the chosen storage&#160;cipher&#160;method&#160;is not&#160;<br/>“direct” but “TPM” in order to&#160;prevent the storage&#160;encryption&#160;key leaving TCB<br/>The direct&#160;use of TPM keys by applications&#160;for protecting&#160;their data&#160;(instead of&#160;using&#160;<br/>the storage&#160;service provided by KMA)&#160;is not&#160;modelled neither in the use cases&#160;<br/>description nor in their implementation, but the design described in the use cases&#160;<br/>implementation can&#160;easily support&#160;this&#160;approach.&#160;This could be implemented using the&#160;<br/>TSS in&#160;user memory&#160;space&#160;and authorisation&#160;call-back&#160;functions&#160;which should call&#160;<br/>functions in kernel space&#160;implemented by a “ticket manager”&#160;component (not&#160;<br/>presented nor&#160;discussed&#160;in this document) responsible for&#160;calculating intermediate&#160;<br/>digests&#160;required by TPM authentication&#160;protocols&#160;(according&#160;to the TSS and TPM&#160;<br/>specifications)&#160;from the tokens&#160;held by the property manager.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft14691">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft14691">46/78</p>
<p style="position:absolute;top:993px;left:314px;white-space:nowrap" class="ft14698"><b>Figure&#160;3: TPM interface&#160;package</b></p>
</div>
<!-- Page 147 -->
<a name="147"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page147-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2147.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft14790">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft14780">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft14791">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft14791">&#160;6.2.1.3&#160;&#160;Certify&#160;service</p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft14787">This package is responsible for certifying the binaries of the secured applications,&#160;of all&#160;<br/>applications&#160;managing credentials and of the shared libraries&#160;both depend on.<br/>This package includes components&#160;that&#160;should run in&#160;the user memory&#160;space;&#160;<br/>however the certify operation&#160;must be performed&#160;in a controlled environment&#160;by KMA&#160;<br/>Administrator.&#160;The configuration&#160;at&#160;the bootstrap&#160;of TCG-enabled operating system&#160;is&#160;<br/>checked by KMA activation&#160;procedure which fails if the configuration is not&#160;correct.&#160;<br/>However the KMA Administrator&#160;must check&#160;that&#160;such configuration is still in place&#160;i.e.&#160;<br/>that&#160;that malicious&#160;applications&#160;that could fool KMA&#160;administrator&#160;are not&#160;running in&#160;<br/>user memory&#160;space.&#160;To achieve this&#160;goal the certify operation&#160;should be executed&#160;<br/>soon&#160;after the completion of the bootstrap,&#160;upon successful activation&#160;of KMA.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft14791">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft14791">47/78</p>
<p style="position:absolute;top:810px;left:304px;white-space:nowrap" class="ft14798"><b>Figure&#160;4: certify service&#160;package</b></p>
</div>
<!-- Page 148 -->
<a name="148"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page148-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2148.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft14890">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft14880">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft14891">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft14891">&#160;6.2.1.4&#160;&#160;Storage&#160;service</p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft14887">This package is responsible for the management of&#160;all operations&#160;related to&#160;the&#160;<br/>protected&#160;storage.<br/>This package includes components&#160;that&#160;should run in&#160;the user memory&#160;space;&#160;<br/>however the security-critical operations&#160;like encryption/decryption are&#160;performed in&#160;<br/>kernel memory&#160;space by a&#160;different package (data&#160;encryption service).</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft14891">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft14891">48/78</p>
<p style="position:absolute;top:827px;left:303px;white-space:nowrap" class="ft14898"><b>Figure&#160;5: storage service&#160;package</b></p>
</div>
<!-- Page 149 -->
<a name="149"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page149-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2149.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft14990">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft14980">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft14991">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft14991">&#160;6.2.1.5&#160;&#160;TCG-enabled&#160;operating&#160;system</p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft14987">This package represents the Operating System enabled to&#160;build the chain of trust. It&#160;<br/>hosts&#160;all KMA components&#160;and the secured application:&#160;whilst in&#160;the use case&#160;<br/>descriptions it is considered as&#160;a whole, for&#160;the purposes&#160;of the use cases&#160;<br/>implementation, this package only represents&#160;the running base OS while all other&#160;<br/>components&#160;are modelled in&#160;other&#160;packages.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft14991">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft14991">49/78</p>
<p style="position:absolute;top:744px;left:235px;white-space:nowrap" class="ft14998"><b>Figure&#160;6: TCG-enabled operating&#160;system&#160;package</b></p>
</div>
<!-- Page 150 -->
<a name="150"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page150-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2150.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft15090">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft15080">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft15091">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft15091">&#160;6.2.1.6&#160;&#160;Property&#160;manager</p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft15088">This package is responsible for collecting all required sensitive data,&#160;namely property&#160;<br/>values of the running system&#160;and applications&#160;and the tokens used, directly or&#160;<br/>indirectly via TPM,&#160;for encryption/decryption of the storage&#160;keys.<br/>This package includes components&#160;that&#160;should run in&#160;the kernel memory&#160;space&#160;only.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft15091">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft15091">50/78</p>
<p style="position:absolute;top:678px;left:291px;white-space:nowrap" class="ft15098"><b>Figure&#160;7: property manager&#160;package</b></p>
</div>
<!-- Page 151 -->
<a name="151"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page151-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2151.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft15190">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft15180">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft15191">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft15191">&#160;6.2.1.7&#160;&#160;Data&#160;encryption&#160;service</p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft15188">This package is responsible for encrypting and decrypting data&#160;stored on the&#160;<br/>protected&#160;repository.&#160;It holds the storage&#160;encryption key in clear&#160;text&#160;once the&#160;<br/>conditions (i.e. certain properties' values) required for the application&#160;to access&#160;its&#160;<br/>data&#160;are met.<br/>This package includes components&#160;that&#160;should run in&#160;the kernel memory&#160;space&#160;only.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft15191">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft15191">51/78</p>
<p style="position:absolute;top:749px;left:268px;white-space:nowrap" class="ft15198"><b>Figure&#160;8: data&#160;encryption&#160;service&#160;package</b></p>
</div>
<!-- Page 152 -->
<a name="152"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page152-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2152.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft15290">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft15280">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft15291">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft15298"><b>&#160;6.2.2&#160;&#160;Use case realisation</b></p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft15287"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#152">Table 1&#160;l</a>ists&#160;the required packages&#160;for the realisation&#160;of each use case.&#160;The realisation&#160;<br/>of the use cases&#160;/UC 220/, /UC A0/, /UC C00/&#160;and /UC D00/ is not reported here in this&#160;<br/>section&#160;because&#160;they include or&#160;are included in other use cases.&#160;Then a possible&#160;<br/>implementation of such&#160;use cases&#160;is described through the interaction&#160;of the&#160;<br/>components&#160;(grouped by packages)&#160;represented in&#160;sequence&#160;diagrams.</p>
<p style="position:absolute;top:305px;left:89px;white-space:nowrap" class="ft15293"><b>Use&#160;Case</b></p>
<p style="position:absolute;top:305px;left:332px;white-space:nowrap" class="ft15293"><b>Required&#160;packages</b></p>
<p style="position:absolute;top:334px;left:89px;white-space:nowrap" class="ft15284">UC 10</p>
<p style="position:absolute;top:334px;left:332px;white-space:nowrap" class="ft15284">TCG-enabled operating system</p>
<p style="position:absolute;top:362px;left:89px;white-space:nowrap" class="ft15284">UC 200</p>
<p style="position:absolute;top:362px;left:332px;white-space:nowrap" class="ft15284">KMA&#160;bootstrap&#160;manager,&#160;TPM interface</p>
<p style="position:absolute;top:389px;left:89px;white-space:nowrap" class="ft15284">UC 210</p>
<p style="position:absolute;top:389px;left:332px;white-space:nowrap" class="ft15284">Certify service</p>
<p style="position:absolute;top:417px;left:89px;white-space:nowrap" class="ft15284">UC 2200</p>
<p style="position:absolute;top:417px;left:332px;white-space:nowrap" class="ft15284">Storage&#160;service</p>
<p style="position:absolute;top:444px;left:89px;white-space:nowrap" class="ft15284">UC 2210</p>
<p style="position:absolute;top:444px;left:332px;white-space:nowrap" class="ft15284">Storage&#160;service, TCG-enabled operating system</p>
<p style="position:absolute;top:472px;left:89px;white-space:nowrap" class="ft15284">UC 2220</p>
<p style="position:absolute;top:472px;left:332px;white-space:nowrap" class="ft15284">Storage&#160;service</p>
<p style="position:absolute;top:499px;left:89px;white-space:nowrap" class="ft15284">UC 2230</p>
<p style="position:absolute;top:499px;left:332px;white-space:nowrap" class="ft15284">Certify service, storage&#160;service</p>
<p style="position:absolute;top:527px;left:89px;white-space:nowrap" class="ft15284">UC 30</p>
<p style="position:absolute;top:527px;left:332px;white-space:nowrap" class="ft15284">KMA&#160;bootstrap&#160;manager,&#160;TPM interface</p>
<p style="position:absolute;top:554px;left:89px;white-space:nowrap" class="ft15284">UC 40</p>
<p style="position:absolute;top:554px;left:332px;white-space:nowrap" class="ft15287">KMA&#160;bootstrap&#160;manager,&#160;TPM interface,&#160;certify service,&#160;<br/>storage&#160;service</p>
<p style="position:absolute;top:601px;left:89px;white-space:nowrap" class="ft15284">UC 50</p>
<p style="position:absolute;top:601px;left:332px;white-space:nowrap" class="ft15287">Storage&#160;service, TCG-enabled operating system,&#160;TPM&#160;<br/>interface,&#160;certify service, property&#160;manager</p>
<p style="position:absolute;top:648px;left:89px;white-space:nowrap" class="ft15284">UC 60</p>
<p style="position:absolute;top:648px;left:332px;white-space:nowrap" class="ft15287">KMA&#160;bootstrap&#160;manager,&#160;TPM interface,&#160;property&#160;<br/>manager</p>
<p style="position:absolute;top:694px;left:89px;white-space:nowrap" class="ft15284">UC 70</p>
<p style="position:absolute;top:694px;left:332px;white-space:nowrap" class="ft15284">TCG-enabled operating system,&#160;property&#160;manager</p>
<p style="position:absolute;top:722px;left:89px;white-space:nowrap" class="ft15284">UC 80</p>
<p style="position:absolute;top:722px;left:332px;white-space:nowrap" class="ft15284">TCG-enabled operating system,&#160;property&#160;manager</p>
<p style="position:absolute;top:750px;left:89px;white-space:nowrap" class="ft15284">UC A0</p>
<p style="position:absolute;top:750px;left:332px;white-space:nowrap" class="ft15284">TCG-enabled operating system,&#160;property&#160;manager</p>
<p style="position:absolute;top:777px;left:89px;white-space:nowrap" class="ft15284">UC B0</p>
<p style="position:absolute;top:777px;left:332px;white-space:nowrap" class="ft15284">Storage&#160;service, data&#160;encryption&#160;service</p>
<p style="position:absolute;top:805px;left:89px;white-space:nowrap" class="ft15284">UC C0</p>
<p style="position:absolute;top:805px;left:332px;white-space:nowrap" class="ft15284">Storage&#160;service, data&#160;encryption&#160;service</p>
<p style="position:absolute;top:832px;left:89px;white-space:nowrap" class="ft15284">UC D0</p>
<p style="position:absolute;top:832px;left:332px;white-space:nowrap" class="ft15284">Storage&#160;service, data&#160;encryption&#160;service</p>
<p style="position:absolute;top:860px;left:89px;white-space:nowrap" class="ft15284">UC B00</p>
<p style="position:absolute;top:860px;left:332px;white-space:nowrap" class="ft15287">TCG-enabled operating system,&#160;property&#160;manager,&#160;<br/>storage&#160;service, data&#160;encryption service, TPM&#160;interface</p>
<p style="position:absolute;top:911px;left:275px;white-space:nowrap" class="ft15298"><b>Table&#160;1: Packages required by use cases</b></p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft15291">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft15291">52/78</p>
</div>
<!-- Page 153 -->
<a name="153"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft153100{font-size:17px;font-family:Courier;color:#000000;}
-->
</style>
<div id="page153-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2153.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft15390">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft15380">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft15391">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:168px;left:85px;white-space:nowrap" class="ft15383"><b>/UC&#160;10/</b></p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft15384">The actor&#160;starts&#160;the bootstrap&#160;of&#160;the&#160;</p>
<p style="position:absolute;top:201px;left:392px;white-space:nowrap" class="ft153100">TCG-enabled operating system</p>
<p style="position:absolute;top:196px;left:669px;white-space:nowrap" class="ft15384">.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft15391">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft15391">53/78</p>
<p style="position:absolute;top:465px;left:306px;white-space:nowrap" class="ft15398"><b>Figure&#160;9: /UC 10/ implementation</b></p>
</div>
<!-- Page 154 -->
<a name="154"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page154-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2154.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft15490">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft15480">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft15491">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:168px;left:85px;white-space:nowrap" class="ft15483"><b>/UC&#160;200/</b></p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft15484">The KMA Administrator&#160;calls&#160;the&#160;</p>
<p style="position:absolute;top:201px;left:355px;white-space:nowrap" class="ft154100">add_new_component(component)</p>
<p style="position:absolute;top:196px;left:633px;white-space:nowrap" class="ft15484">&#160;function in order&#160;to&#160;</p>
<p style="position:absolute;top:216px;left:85px;white-space:nowrap" class="ft15488">buid the system&#160;components list required for KMA&#160;to work propertly.<br/>The the Administrator&#160;starts&#160;the&#160;</p>
<p style="position:absolute;top:249px;left:356px;white-space:nowrap" class="ft154100">measure_components()</p>
<p style="position:absolute;top:244px;left:554px;white-space:nowrap" class="ft15484">&#160;which is applied to&#160;all&#160;</p>
<p style="position:absolute;top:264px;left:85px;white-space:nowrap" class="ft15484">selected components&#160;and in turn calls&#160;</p>
<p style="position:absolute;top:269px;left:406px;white-space:nowrap" class="ft154100">extend(pcr, component)</p>
<p style="position:absolute;top:264px;left:623px;white-space:nowrap" class="ft15484">; then the KMA&#160;</p>
<p style="position:absolute;top:285px;left:85px;white-space:nowrap" class="ft15484">Administrator&#160;evaluates the PCR&#160;registers&#160;of the TPM&#160;device by calling the&#160;</p>
<p style="position:absolute;top:309px;left:85px;white-space:nowrap" class="ft154100">get_PCR_value(pcr)</p>
<p style="position:absolute;top:304px;left:263px;white-space:nowrap" class="ft15484">function. The KMA&#160;administrator&#160;must check the obtained values&#160;</p>
<p style="position:absolute;top:324px;left:85px;white-space:nowrap" class="ft15487">by measuring again in software&#160;the components.&#160;The latter procedure&#160;is not&#160;defined&#160;<br/>by this use case&#160;implementation.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft15491">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft15491">54/78</p>
<p style="position:absolute;top:1040px;left:296px;white-space:nowrap" class="ft15498"><b>Figure&#160;10: /UC 200/&#160;implementation</b></p>
</div>
<!-- Page 155 -->
<a name="155"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page155-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2155.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft15590">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft15580">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft15591">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:168px;left:85px;white-space:nowrap" class="ft15583"><b>/UC&#160;210/</b></p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft15587">The KMA Administrator&#160;identifies the components&#160;(i.e. applications)&#160;that&#160;will be used,&#160;<br/>when the KMA is running, to manage&#160;the credentials and the related properties for the&#160;<br/>authentication when a&#160;protected file is requested.&#160;<br/>An application managing credentials&#160;can deal with only one property, bound to one&#160;<br/>credential, &#160;chosen between the&#160;</p>
<p style="position:absolute;top:286px;left:357px;white-space:nowrap" class="ft155100">application_properties</p>
<p style="position:absolute;top:282px;left:575px;white-space:nowrap" class="ft15584">&#160;or&#160;the&#160;</p>
<p style="position:absolute;top:286px;left:634px;white-space:nowrap" class="ft155100">system_properties</p>
<p style="position:absolute;top:282px;left:803px;white-space:nowrap" class="ft15584">,&#160;</p>
<p style="position:absolute;top:302px;left:85px;white-space:nowrap" class="ft15588">and requires&#160;to be certified for this&#160;purpose.&#160;<br/>For&#160;this purpose, a new instance&#160;of the class&#160;</p>
<p style="position:absolute;top:335px;left:459px;white-space:nowrap" class="ft155100">certified_file</p>
<p style="position:absolute;top:330px;left:598px;white-space:nowrap" class="ft15584">&#160;will be created&#160;in order&#160;</p>
<p style="position:absolute;top:350px;left:85px;white-space:nowrap" class="ft15587">to&#160;make the application be certified: the association&#160;of the credential (and the relateed&#160;<br/>property)&#160;to application&#160;is done by passing&#160;</p>
<p style="position:absolute;top:374px;left:445px;white-space:nowrap" class="ft155100">application_path</p>
<p style="position:absolute;top:369px;left:603px;white-space:nowrap" class="ft15584">&#160;and&#160;</p>
<p style="position:absolute;top:374px;left:645px;white-space:nowrap" class="ft155100">credential_id</p>
<p style="position:absolute;top:369px;left:774px;white-space:nowrap" class="ft15584">&#160;to&#160;</p>
<p style="position:absolute;top:390px;left:85px;white-space:nowrap" class="ft15584">the constructor.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft15591">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft15591">55/78</p>
<p style="position:absolute;top:843px;left:296px;white-space:nowrap" class="ft15598"><b>Figure&#160;11: /UC&#160;210/ implementation</b></p>
</div>
<!-- Page 156 -->
<a name="156"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page156-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2156.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft15690">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft15680">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft15691">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:168px;left:85px;white-space:nowrap" class="ft15683"><b>/UC&#160;2200/</b></p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft15684">The KMA Administrator&#160;chooses&#160;an application&#160;to be secured, then creates&#160;a unique&#160;</p>
<p style="position:absolute;top:220px;left:85px;white-space:nowrap" class="ft156100">tag_id</p>
<p style="position:absolute;top:215px;left:145px;white-space:nowrap" class="ft15684">&#160;to&#160;be assigned to&#160;the binary&#160;by calling the function&#160;</p>
<p style="position:absolute;top:220px;left:578px;white-space:nowrap" class="ft156100">assign_tag(id, path)</p>
<p style="position:absolute;top:215px;left:776px;white-space:nowrap" class="ft15684">&#160;to&#160;</p>
<p style="position:absolute;top:235px;left:85px;white-space:nowrap" class="ft15684">the&#160;</p>
<p style="position:absolute;top:240px;left:118px;white-space:nowrap" class="ft156100">application_tag</p>
<p style="position:absolute;top:235px;left:266px;white-space:nowrap" class="ft15684">&#160;class.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft15691">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft15691">56/78</p>
<p style="position:absolute;top:656px;left:291px;white-space:nowrap" class="ft15698"><b>Figure&#160;12: /UC&#160;2200/&#160;implementation</b></p>
</div>
<!-- Page 157 -->
<a name="157"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft157101{font-size:17px;font-family:ZapfDingbats;color:#000000;}
-->
</style>
<div id="page157-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2157.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft15790">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft15780">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft15791">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:168px;left:85px;white-space:nowrap" class="ft15783"><b>/UC&#160;2210/</b></p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft15787">The KMA Administrator&#160;selects&#160;among all managed credentials those&#160;required for the&#160;<br/>secured application (which has been assigned a unique tag in&#160;UC 2200) to access&#160;its&#160;<br/>protected&#160;files.&#160;This results&#160;in an association&#160;between the&#160;</p>
<p style="position:absolute;top:239px;left:568px;white-space:nowrap" class="ft157100">tag id</p>
<p style="position:absolute;top:236px;left:627px;white-space:nowrap" class="ft157101">&#160;</p>
<p style="position:absolute;top:234px;left:636px;white-space:nowrap" class="ft15784">and&#160;a&#160;subset of&#160;</p>
<p style="position:absolute;top:260px;left:85px;white-space:nowrap" class="ft157100">application_properties</p>
<p style="position:absolute;top:255px;left:303px;white-space:nowrap" class="ft15784">&#160;and&#160;</p>
<p style="position:absolute;top:260px;left:345px;white-space:nowrap" class="ft157100">system_properties</p>
<p style="position:absolute;top:255px;left:513px;white-space:nowrap" class="ft15784">&#160;by calling the function&#160;</p>
<p style="position:absolute;top:280px;left:85px;white-space:nowrap" class="ft157100">add_property(id, property)</p>
<p style="position:absolute;top:275px;left:343px;white-space:nowrap" class="ft15784">.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft15791">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft15791">57/78</p>
<p style="position:absolute;top:763px;left:291px;white-space:nowrap" class="ft15798"><b>Figure&#160;13: /UC&#160;2210/&#160;implementation</b></p>
</div>
<!-- Page 158 -->
<a name="158"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page158-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2158.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft15890">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft15880">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft15891">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:168px;left:85px;white-space:nowrap" class="ft15883"><b>/UC&#160;2220/</b></p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft15887">The KMA Administrator&#160;creates&#160;the list&#160;of files&#160;that&#160;will be protected&#160;through KMA data&#160;<br/>repositories&#160;for the secured application,&#160;using the function&#160;</p>
<p style="position:absolute;top:220px;left:576px;white-space:nowrap" class="ft158100">add_new_file(path)</p>
<p style="position:absolute;top:215px;left:754px;white-space:nowrap" class="ft15884">.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft15891">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft15891">58/78</p>
<p style="position:absolute;top:545px;left:291px;white-space:nowrap" class="ft15898"><b>Figure&#160;14: /UC&#160;2220/&#160;implementation</b></p>
</div>
<!-- Page 159 -->
<a name="159"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page159-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2159.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft15990">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft15980">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft15991">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:168px;left:85px;white-space:nowrap" class="ft15983"><b>/UC&#160;2230/</b></p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft15987">The KMA Administrator&#160;adds&#160;the secured application to&#160;the list of files to&#160;be certified,&#160;<br/>specifying that&#160;the type of&#160;</p>
<p style="position:absolute;top:220px;left:309px;white-space:nowrap" class="ft159100">credential_id</p>
<p style="position:absolute;top:215px;left:438px;white-space:nowrap" class="ft15984">&#160;it manages&#160;is the&#160;</p>
<p style="position:absolute;top:220px;left:591px;white-space:nowrap" class="ft159100">tag</p>
<p style="position:absolute;top:215px;left:621px;white-space:nowrap" class="ft15984">, which will be used&#160;</p>
<p style="position:absolute;top:235px;left:85px;white-space:nowrap" class="ft15984">by the&#160;</p>
<p style="position:absolute;top:240px;left:143px;white-space:nowrap" class="ft159100">property_maker</p>
<p style="position:absolute;top:235px;left:282px;white-space:nowrap" class="ft15984">&#160;to collect&#160;at runtime all properties, bound to the process,&#160;and&#160;</p>
<p style="position:absolute;top:255px;left:85px;white-space:nowrap" class="ft15987">the related values and tokens. In addition to the main executable of the application,&#160;<br/>also&#160;the binaries of all shared libraries the application&#160;depends are added to the list.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft15991">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft15991">59/78</p>
<p style="position:absolute;top:851px;left:291px;white-space:nowrap" class="ft15998"><b>Figure&#160;15: /UC&#160;2230/&#160;implementation</b></p>
</div>
<!-- Page 160 -->
<a name="160"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page160-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2160.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft16090">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft16080">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft16091">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:168px;left:85px;white-space:nowrap" class="ft16083"><b>/UC&#160;30/</b></p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft16087">After having restarted&#160;the TCG-enabled operating system, the KMA Administrator&#160;<br/>verifies the platform&#160;configuration after&#160;all components&#160;have been measured, by&#160;<br/>comparing&#160;the PCR values of the TPM device with the expected values.&#160;The function&#160;</p>
<p style="position:absolute;top:258px;left:85px;white-space:nowrap" class="ft160100">verify_platform_configuration(pcr_values)</p>
<p style="position:absolute;top:253px;left:491px;white-space:nowrap" class="ft16084">&#160;accomplishes this task.&#160;Then the&#160;</p>
<p style="position:absolute;top:274px;left:85px;white-space:nowrap" class="ft16084">KMA&#160;Administrator&#160;sends&#160;to KMA the&#160;</p>
<p style="position:absolute;top:279px;left:394px;white-space:nowrap" class="ft160100">take_ownership</p>
<p style="position:absolute;top:274px;left:533px;white-space:nowrap" class="ft16084">&#160;command&#160;by specifying the&#160;</p>
<p style="position:absolute;top:299px;left:85px;white-space:nowrap" class="ft160100">admin_password</p>
<p style="position:absolute;top:294px;left:224px;white-space:nowrap" class="ft16084">&#160;secret.&#160;The KMA&#160;generates&#160;a new key called&#160;</p>
<p style="position:absolute;top:299px;left:601px;white-space:nowrap" class="ft160100">certkey</p>
<p style="position:absolute;top:294px;left:670px;white-space:nowrap" class="ft16084">, using the&#160;</p>
<p style="position:absolute;top:314px;left:85px;white-space:nowrap" class="ft16084">function&#160;</p>
<p style="position:absolute;top:319px;left:158px;white-space:nowrap" class="ft160100">gen_certkey()</p>
<p style="position:absolute;top:314px;left:287px;white-space:nowrap" class="ft16084">,&#160;which is protected&#160;in two&#160;ways. One copy&#160;is sealed with the&#160;</p>
<p style="position:absolute;top:334px;left:85px;white-space:nowrap" class="ft16084">current&#160;configuration&#160;and used by the&#160;</p>
<p style="position:absolute;top:339px;left:405px;white-space:nowrap" class="ft160100">property_maker</p>
<p style="position:absolute;top:334px;left:543px;white-space:nowrap" class="ft16084">&#160;to extract&#160;tokens, which are&#160;</p>
<p style="position:absolute;top:355px;left:85px;white-space:nowrap" class="ft16084">sensitive data&#160;embedded in a&#160;</p>
<p style="position:absolute;top:360px;left:336px;white-space:nowrap" class="ft160100">credential_blob</p>
<p style="position:absolute;top:355px;left:484px;white-space:nowrap" class="ft16084">&#160;carried by application&#160;binaries&#160;(i.e.&#160;</p>
<p style="position:absolute;top:380px;left:85px;white-space:nowrap" class="ft160100">certified_file</p>
<p style="position:absolute;top:375px;left:224px;white-space:nowrap" class="ft16084">), used to authenticate the access&#160;to the KMA protected data&#160;</p>
<p style="position:absolute;top:395px;left:85px;white-space:nowrap" class="ft16084">repositories;&#160;another copy&#160;of&#160;</p>
<p style="position:absolute;top:397px;left:329px;white-space:nowrap" class="ft16099">certkey</p>
<p style="position:absolute;top:395px;left:398px;white-space:nowrap" class="ft16084">&#160;is bound and protected&#160;by the administrator's&#160;</p>
<p style="position:absolute;top:415px;left:85px;white-space:nowrap" class="ft16084">defined secret&#160;and it will be used to certify all binaries.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft16091">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft16091">60/78</p>
<p style="position:absolute;top:1040px;left:301px;white-space:nowrap" class="ft16098"><b>Figure&#160;16: /UC 30/ implementation</b></p>
</div>
<!-- Page 161 -->
<a name="161"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page161-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2161.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft16190">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft16180">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft16191">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:168px;left:85px;white-space:nowrap" class="ft16183"><b>/UC&#160;40/</b></p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft16187">The KMA Administrator&#160;first retrieves the list of executables to&#160;be certified and verifies&#160;<br/>that&#160;each listed binary&#160;correspond&#160;to&#160;a trustworthy&#160;component&#160;(e.g. by checking it&#160;<br/>against&#160;a trusted site) by invoking the&#160;</p>
<p style="position:absolute;top:239px;left:406px;white-space:nowrap" class="ft161100">get_binary_list()</p>
<p style="position:absolute;top:234px;left:574px;white-space:nowrap" class="ft16184">function. Then, after the&#160;</p>
<p style="position:absolute;top:254px;left:85px;white-space:nowrap" class="ft16184">verification&#160;is done, KMA&#160;Administrator&#160;sends&#160;the command&#160;</p>
<p style="position:absolute;top:259px;left:586px;white-space:nowrap" class="ft161100">certify()</p>
<p style="position:absolute;top:254px;left:675px;white-space:nowrap" class="ft16184">&#160;to the&#160;</p>
<p style="position:absolute;top:280px;left:85px;white-space:nowrap" class="ft161100">certify_service</p>
<p style="position:absolute;top:275px;left:234px;white-space:nowrap" class="ft16184">, specifying the&#160;</p>
<p style="position:absolute;top:280px;left:366px;white-space:nowrap" class="ft161100">admin_password</p>
<p style="position:absolute;top:275px;left:504px;white-space:nowrap" class="ft16184">. In order to&#160;certify all binaries&#160;the&#160;</p>
<p style="position:absolute;top:300px;left:85px;white-space:nowrap" class="ft161100">certkey</p>
<p style="position:absolute;top:295px;left:155px;white-space:nowrap" class="ft16184">&#160;object bound to the TPM is retrieved from&#160;the&#160;</p>
<p style="position:absolute;top:300px;left:542px;white-space:nowrap" class="ft161100">KMA_Administration</p>
<p style="position:absolute;top:295px;left:720px;white-space:nowrap" class="ft16184">&#160;module&#160;</p>
<p style="position:absolute;top:315px;left:85px;white-space:nowrap" class="ft16184">by using the function&#160;</p>
<p style="position:absolute;top:320px;left:266px;white-space:nowrap" class="ft161100">get_certkey_boundblob()</p>
<p style="position:absolute;top:315px;left:493px;white-space:nowrap" class="ft16184">. Then the&#160;</p>
<p style="position:absolute;top:320px;left:583px;white-space:nowrap" class="ft161100">certify_service</p>
<p style="position:absolute;top:315px;left:731px;white-space:nowrap" class="ft16184">&#160;requests&#160;</p>
<p style="position:absolute;top:335px;left:85px;white-space:nowrap" class="ft16184">the decryption&#160;of the&#160;</p>
<p style="position:absolute;top:340px;left:265px;white-space:nowrap" class="ft161100">certkey</p>
<p style="position:absolute;top:335px;left:334px;white-space:nowrap" class="ft16184">&#160;by sending the&#160;</p>
<p style="position:absolute;top:337px;left:468px;white-space:nowrap" class="ft16199">unbind</p>
<p style="position:absolute;top:335px;left:527px;white-space:nowrap" class="ft16184">&#160;command&#160;to&#160;the&#160;</p>
<p style="position:absolute;top:337px;left:674px;white-space:nowrap" class="ft16199">TPM</p>
<p style="position:absolute;top:335px;left:704px;white-space:nowrap" class="ft16184">, with&#160;</p>
<p style="position:absolute;top:361px;left:85px;white-space:nowrap" class="ft161100">certkey_bound</p>
<p style="position:absolute;top:357px;left:214px;white-space:nowrap" class="ft16199">blob</p>
<p style="position:absolute;top:356px;left:254px;white-space:nowrap" class="ft16184">&#160;and&#160;</p>
<p style="position:absolute;top:361px;left:295px;white-space:nowrap" class="ft161100">admin_password</p>
<p style="position:absolute;top:356px;left:434px;white-space:nowrap" class="ft16184">&#160;as&#160;command&#160;parameters.&#160;If&#160;the operation is&#160;</p>
<p style="position:absolute;top:376px;left:85px;white-space:nowrap" class="ft16184">successful&#160;the&#160;</p>
<p style="position:absolute;top:381px;left:208px;white-space:nowrap" class="ft161100">certify_service</p>
<p style="position:absolute;top:376px;left:357px;white-space:nowrap" class="ft16184">&#160;generates&#160;a new token for&#160;each binary&#160;and creates&#160;a&#160;</p>
<p style="position:absolute;top:401px;left:85px;white-space:nowrap" class="ft161100">credential_blob</p>
<p style="position:absolute;top:396px;left:234px;white-space:nowrap" class="ft16184">, encrypted using&#160;</p>
<p style="position:absolute;top:398px;left:383px;white-space:nowrap" class="ft16199">certkey</p>
<p style="position:absolute;top:396px;left:452px;white-space:nowrap" class="ft16184">. For&#160;the binaries of the applications&#160;to&#160;be&#160;</p>
<p style="position:absolute;top:416px;left:85px;white-space:nowrap" class="ft16184">secured, the&#160;</p>
<p style="position:absolute;top:421px;left:194px;white-space:nowrap" class="ft161100">certify_service</p>
<p style="position:absolute;top:416px;left:342px;white-space:nowrap" class="ft16184">&#160;also retrieves the value for&#160;the&#160;</p>
<p style="position:absolute;top:421px;left:608px;white-space:nowrap" class="ft161100">credential_id “tag”</p>
<p style="position:absolute;top:416px;left:796px;white-space:nowrap" class="ft16184">,&#160;</p>
<p style="position:absolute;top:437px;left:85px;white-space:nowrap" class="ft16187">the property_list&#160;bound to&#160;it and the list of data&#160;files&#160;to be protected and include all&#160;<br/>these data&#160;into&#160;the&#160;</p>
<p style="position:absolute;top:461px;left:248px;white-space:nowrap" class="ft161100">credential_blob</p>
<p style="position:absolute;top:456px;left:396px;white-space:nowrap" class="ft16184">. Then creates&#160;an&#160;</p>
<p style="position:absolute;top:461px;left:546px;white-space:nowrap" class="ft161100">application_MAC</p>
<p style="position:absolute;top:456px;left:694px;white-space:nowrap" class="ft16184">&#160;which is a&#160;</p>
<p style="position:absolute;top:476px;left:85px;white-space:nowrap" class="ft16184">Message Authentication Code (MAC) i.e. a “symmetric&#160;signature” calculated&#160;using&#160;</p>
<p style="position:absolute;top:500px;left:85px;white-space:nowrap" class="ft161100">certkey</p>
<p style="position:absolute;top:495px;left:155px;white-space:nowrap" class="ft16184">&#160;over&#160;the binary&#160;file and the&#160;</p>
<p style="position:absolute;top:500px;left:391px;white-space:nowrap" class="ft161100">credential_blob</p>
<p style="position:absolute;top:495px;left:539px;white-space:nowrap" class="ft16184">&#160;and embedded in the modified&#160;</p>
<p style="position:absolute;top:516px;left:85px;white-space:nowrap" class="ft16184">application binary&#160;(in&#160;</p>
<p style="position:absolute;top:520px;left:266px;white-space:nowrap" class="ft161100">certified_file</p>
<p style="position:absolute;top:516px;left:404px;white-space:nowrap" class="ft16184">).</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft16191">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft16191">61/78</p>
</div>
<!-- Page 162 -->
<a name="162"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page162-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2162.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft16290">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft16280">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft16291">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft16291">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft16291">62/78</p>
<p style="position:absolute;top:996px;left:301px;white-space:nowrap" class="ft16298"><b>Figure&#160;17: /UC 40/ implementation</b></p>
</div>
<!-- Page 163 -->
<a name="163"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page163-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2163.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft16390">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft16380">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft16391">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:168px;left:85px;white-space:nowrap" class="ft16383"><b>/UC&#160;50/</b></p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft16388">The KMA Administrator&#160; creates&#160;data&#160;repositories for&#160;secured applications:&#160;each&#160;<br/>repository&#160;is bound to a unique combination of values for the properties associated&#160;to&#160;<br/>each&#160;secured application's&#160;tag.<br/>First&#160;the KMA&#160;Administrator&#160;calls the function&#160;</p>
<p style="position:absolute;top:267px;left:466px;white-space:nowrap" class="ft163100">get_value_set(property)</p>
<p style="position:absolute;top:262px;left:693px;white-space:nowrap" class="ft16384">&#160;in order to&#160;</p>
<p style="position:absolute;top:283px;left:85px;white-space:nowrap" class="ft16387">get the acceptable values for each&#160;property (this&#160;part of&#160;the implementation is&#160;<br/>described i<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#164">n&#160;Figure 18, wh</a>ile the following is described in<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#165">&#160;Figure 19). Th</a>en he&#160;chooses&#160;<br/>the&#160;</p>
<p style="position:absolute;top:323px;left:118px;white-space:nowrap" class="ft16399">cipher_method</p>
<p style="position:absolute;top:321px;left:246px;white-space:nowrap" class="ft16384">&#160;(either TPM or&#160;direct),&#160;and starts&#160;the creation&#160;of a new data&#160;</p>
<p style="position:absolute;top:341px;left:85px;white-space:nowrap" class="ft16384">repository&#160;by calling the function&#160;</p>
<p style="position:absolute;top:346px;left:364px;white-space:nowrap" class="ft163100">new_repository(properties: values: sources,&#160;</p>
<p style="position:absolute;top:366px;left:85px;white-space:nowrap" class="ft163100">cipher_method, admin_password)</p>
<p style="position:absolute;top:361px;left:382px;white-space:nowrap" class="ft16384">. A&#160;collection&#160;of&#160;</p>
<p style="position:absolute;top:366px;left:515px;white-space:nowrap" class="ft163100">property_elements</p>
<p style="position:absolute;top:361px;left:683px;white-space:nowrap" class="ft16384">&#160;is created by&#160;</p>
<p style="position:absolute;top:382px;left:85px;white-space:nowrap" class="ft16384">the&#160;</p>
<p style="position:absolute;top:387px;left:118px;white-space:nowrap" class="ft163100">Storage_container</p>
<p style="position:absolute;top:382px;left:286px;white-space:nowrap" class="ft16384">. Each&#160;</p>
<p style="position:absolute;top:387px;left:342px;white-space:nowrap" class="ft163100">property_element</p>
<p style="position:absolute;top:382px;left:500px;white-space:nowrap" class="ft16384">&#160;is composed&#160;by the property&#160;name,&#160;</p>
<p style="position:absolute;top:402px;left:85px;white-space:nowrap" class="ft16387">the value, and where the current&#160;value can&#160;be retrieved:&#160;the source&#160;can&#160;be a&#160;an object&#160;<br/>from&#160;the&#160;</p>
<p style="position:absolute;top:426px;left:162px;white-space:nowrap" class="ft163100">running_application</p>
<p style="position:absolute;top:421px;left:350px;white-space:nowrap" class="ft16384">&#160;class&#160;or&#160;from&#160;the&#160;</p>
<p style="position:absolute;top:426px;left:500px;white-space:nowrap" class="ft163100">system_properties_at_runtime&#160;</p>
<p style="position:absolute;top:441px;left:85px;white-space:nowrap" class="ft16384">class, or&#160;a field, (e.g. the&#160;</p>
<p style="position:absolute;top:446px;left:296px;white-space:nowrap" class="ft163100">tag</p>
<p style="position:absolute;top:441px;left:325px;white-space:nowrap" class="ft16384">&#160;value of a&#160;secured application)&#160;in the&#160;</p>
<p style="position:absolute;top:446px;left:644px;white-space:nowrap" class="ft163100">credential_blob&#160;</p>
<p style="position:absolute;top:462px;left:85px;white-space:nowrap" class="ft16388">of the binary&#160;itself . This&#160;collection&#160;will be associated&#160;to the new data&#160;repository&#160;whose&#160;<br/>access&#160;is granted when the applications&#160;present&#160;at runtime the same&#160;combination of&#160;<br/>properties' values.<br/>A&#160;</p>
<p style="position:absolute;top:533px;left:102px;white-space:nowrap" class="ft163100">token</p>
<p style="position:absolute;top:528px;left:151px;white-space:nowrap" class="ft16384">&#160;is associated&#160;to&#160;each&#160;</p>
<p style="position:absolute;top:533px;left:335px;white-space:nowrap" class="ft163100">property_element</p>
<p style="position:absolute;top:528px;left:494px;white-space:nowrap" class="ft16384">: the token will be combined with all&#160;</p>
<p style="position:absolute;top:549px;left:85px;white-space:nowrap" class="ft16384">other ones&#160;through the function&#160;</p>
<p style="position:absolute;top:553px;left:355px;white-space:nowrap" class="ft163100">combine_tokens()</p>
<p style="position:absolute;top:549px;left:513px;white-space:nowrap" class="ft16384">&#160;to create&#160;a unique&#160;</p>
<p style="position:absolute;top:574px;left:85px;white-space:nowrap" class="ft163100">combined_token</p>
<p style="position:absolute;top:569px;left:224px;white-space:nowrap" class="ft16384">: this will be used either directly&#160;as&#160;encryption key or as&#160;secret&#160;to&#160;</p>
<p style="position:absolute;top:589px;left:85px;white-space:nowrap" class="ft16384">perform&#160;the TPM&#160;</p>
<p style="position:absolute;top:594px;left:229px;white-space:nowrap" class="ft163100">bind/unbind</p>
<p style="position:absolute;top:589px;left:338px;white-space:nowrap" class="ft16384">&#160;functions.&#160;At runtime the&#160;</p>
<p style="position:absolute;top:594px;left:555px;white-space:nowrap" class="ft163100">property_maker</p>
<p style="position:absolute;top:589px;left:693px;white-space:nowrap" class="ft16384">&#160;will extract&#160;it&#160;</p>
<p style="position:absolute;top:609px;left:85px;white-space:nowrap" class="ft16384">from&#160;the&#160;</p>
<p style="position:absolute;top:614px;left:162px;white-space:nowrap" class="ft163100">credential blob</p>
<p style="position:absolute;top:609px;left:310px;white-space:nowrap" class="ft16384">. At&#160;this&#160;stage, since the application is not&#160;currently&#160;</p>
<p style="position:absolute;top:630px;left:85px;white-space:nowrap" class="ft16384">running, it must be extracted&#160;using the function&#160;</p>
<p style="position:absolute;top:634px;left:488px;white-space:nowrap" class="ft163100">get_token(admin_password,&#160;</p>
<p style="position:absolute;top:655px;left:85px;white-space:nowrap" class="ft163100">credential_id)</p>
<p style="position:absolute;top:650px;left:224px;white-space:nowrap" class="ft16384">&#160;from&#160;the&#160;</p>
<p style="position:absolute;top:655px;left:305px;white-space:nowrap" class="ft163100">certified_file</p>
<p style="position:absolute;top:650px;left:444px;white-space:nowrap" class="ft16384">&#160;class.&#160;For&#160;each&#160;credential other than the&#160;</p>
<p style="position:absolute;top:670px;left:85px;white-space:nowrap" class="ft16387">application (i.e. the tag) a&#160;single token is carried&#160;by the application&#160;that&#160;manages the&#160;<br/>credential, an additional function,&#160;</p>
<p style="position:absolute;top:694px;left:370px;white-space:nowrap" class="ft163100">derive_token(token, property_value)</p>
<p style="position:absolute;top:689px;left:716px;white-space:nowrap" class="ft16384">,&#160;must be&#160;</p>
<p style="position:absolute;top:709px;left:85px;white-space:nowrap" class="ft16388">performed in&#160;order&#160;to generate&#160;one different token for&#160;each possible property's&#160;value.<br/>The&#160;</p>
<p style="position:absolute;top:743px;left:121px;white-space:nowrap" class="ft163100">storage_container</p>
<p style="position:absolute;top:738px;left:290px;white-space:nowrap" class="ft16384">&#160;starts&#160;the generation of&#160;a new&#160;</p>
<p style="position:absolute;top:743px;left:550px;white-space:nowrap" class="ft163100">storagekey</p>
<p style="position:absolute;top:738px;left:649px;white-space:nowrap" class="ft16384">&#160;for&#160;the data&#160;</p>
<p style="position:absolute;top:758px;left:85px;white-space:nowrap" class="ft16384">repository.&#160;If the&#160;</p>
<p style="position:absolute;top:763px;left:228px;white-space:nowrap" class="ft163100">cipher_method</p>
<p style="position:absolute;top:758px;left:357px;white-space:nowrap" class="ft16384">&#160;specified is “direct”&#160;the&#160;</p>
<p style="position:absolute;top:763px;left:562px;white-space:nowrap" class="ft163100">combined_token</p>
<p style="position:absolute;top:758px;left:700px;white-space:nowrap" class="ft16384">&#160;is used as&#160;</p>
<p style="position:absolute;top:778px;left:85px;white-space:nowrap" class="ft16384">encryption key for the&#160;</p>
<p style="position:absolute;top:783px;left:274px;white-space:nowrap" class="ft163100">storagekey</p>
<p style="position:absolute;top:778px;left:373px;white-space:nowrap" class="ft16384">, otherwise (</p>
<p style="position:absolute;top:783px;left:476px;white-space:nowrap" class="ft163100">cipher_method</p>
<p style="position:absolute;top:778px;left:605px;white-space:nowrap" class="ft16384">&#160;is “TPM”)&#160;the&#160;</p>
<p style="position:absolute;top:803px;left:85px;white-space:nowrap" class="ft163100">storage_container</p>
<p style="position:absolute;top:798px;left:254px;white-space:nowrap" class="ft16384">&#160;encrypts&#160;the&#160;</p>
<p style="position:absolute;top:803px;left:368px;white-space:nowrap" class="ft163100">storagekey</p>
<p style="position:absolute;top:798px;left:467px;white-space:nowrap" class="ft16384">&#160;performing a TPM&#160;</p>
<p style="position:absolute;top:803px;left:624px;white-space:nowrap" class="ft163100">bind</p>
<p style="position:absolute;top:798px;left:664px;white-space:nowrap" class="ft16384">&#160;using the&#160;</p>
<p style="position:absolute;top:824px;left:85px;white-space:nowrap" class="ft163100">combined_token</p>
<p style="position:absolute;top:819px;left:224px;white-space:nowrap" class="ft16384">&#160;as&#160;authorization secret.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft16391">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft16391">63/78</p>
</div>
<!-- Page 164 -->
<a name="164"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page164-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2164.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft16490">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft16480">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft16491">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft16491">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft16491">64/78</p>
<p style="position:absolute;top:704px;left:267px;white-space:nowrap" class="ft16498"><b>Figure&#160;18: /UC&#160;50/&#160;implementation&#160;- part A</b></p>
</div>
<!-- Page 165 -->
<a name="165"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page165-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2165.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft16590">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft16580">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft16591">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft16591">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft16591">65/78</p>
<p style="position:absolute;top:859px;left:267px;white-space:nowrap" class="ft16598"><b>Figure&#160;19: /UC&#160;50/&#160;implementation&#160;- part B</b></p>
</div>
<!-- Page 166 -->
<a name="166"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page166-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2166.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft16690">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft16680">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft16691">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:168px;left:85px;white-space:nowrap" class="ft16683"><b>/UC&#160;60/</b></p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft16684">As&#160;described in /UC 10/,&#160;KMA&#160;Administrator&#160;or User have executes&#160;the bootstrap&#160;of the&#160;</p>
<p style="position:absolute;top:220px;left:85px;white-space:nowrap" class="ft166100">TCG-enabled operating system</p>
<p style="position:absolute;top:215px;left:362px;white-space:nowrap" class="ft16684">.&#160;The latter executes the measurements&#160;of all&#160;</p>
<p style="position:absolute;top:235px;left:85px;white-space:nowrap" class="ft16684">components&#160;as&#160;defined by the KMA&#160;Administrator.&#160;Then it invokes the&#160;</p>
<p style="position:absolute;top:240px;left:670px;white-space:nowrap" class="ft166100">activate()&#160;</p>
<p style="position:absolute;top:255px;left:85px;white-space:nowrap" class="ft16684">function of the&#160;</p>
<p style="position:absolute;top:260px;left:212px;white-space:nowrap" class="ft166100">KMA_Administration</p>
<p style="position:absolute;top:255px;left:390px;white-space:nowrap" class="ft16684">. This&#160;consists&#160;of sending to the&#160;</p>
<p style="position:absolute;top:260px;left:657px;white-space:nowrap" class="ft166100">TPM</p>
<p style="position:absolute;top:255px;left:686px;white-space:nowrap" class="ft16684">&#160;the command&#160;</p>
<p style="position:absolute;top:281px;left:85px;white-space:nowrap" class="ft166100">unseal</p>
<p style="position:absolute;top:276px;left:145px;white-space:nowrap" class="ft16684">&#160;with the&#160;</p>
<p style="position:absolute;top:281px;left:222px;white-space:nowrap" class="ft166100">certkey_sealedblob</p>
<p style="position:absolute;top:276px;left:401px;white-space:nowrap" class="ft16684">&#160;as&#160;parameter. The operation&#160;is only successful&#160;if&#160;</p>
<p style="position:absolute;top:296px;left:85px;white-space:nowrap" class="ft16687">the current configuration matches&#160;the one defined by the KMA Administrator&#160;and used&#160;<br/>for&#160;KMA take ownership. The result, the&#160;</p>
<p style="position:absolute;top:320px;left:418px;white-space:nowrap" class="ft166100">certkey</p>
<p style="position:absolute;top:315px;left:487px;white-space:nowrap" class="ft16684">, is sent to&#160;the&#160;</p>
<p style="position:absolute;top:320px;left:611px;white-space:nowrap" class="ft166100">property_maker&#160;</p>
<p style="position:absolute;top:315px;left:760px;white-space:nowrap" class="ft16684">by&#160;</p>
<p style="position:absolute;top:335px;left:85px;white-space:nowrap" class="ft16684">calling the&#160;</p>
<p style="position:absolute;top:340px;left:177px;white-space:nowrap" class="ft166100">set_certkey(certkey)</p>
<p style="position:absolute;top:335px;left:375px;white-space:nowrap" class="ft16684">&#160;function to let it work propertly. It will be used to&#160;</p>
<p style="position:absolute;top:356px;left:85px;white-space:nowrap" class="ft16684">decrypt&#160;the&#160;</p>
<p style="position:absolute;top:361px;left:186px;white-space:nowrap" class="ft166100">credential_blob</p>
<p style="position:absolute;top:356px;left:335px;white-space:nowrap" class="ft16684">&#160;carried&#160;by the&#160;</p>
<p style="position:absolute;top:357px;left:461px;white-space:nowrap" class="ft16699">certified_file</p>
<p style="position:absolute;top:356px;left:599px;white-space:nowrap" class="ft16684">&#160;(i.e. secured&#160;</p>
<p style="position:absolute;top:376px;left:85px;white-space:nowrap" class="ft16684">applications&#160;and the applications&#160;managing credentials).</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft16691">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft16691">66/78</p>
<p style="position:absolute;top:807px;left:301px;white-space:nowrap" class="ft16698"><b>Figure&#160;20: /UC 60/ implementation</b></p>
</div>
<!-- Page 167 -->
<a name="167"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page167-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2167.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft16790">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft16780">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft16791">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:168px;left:85px;white-space:nowrap" class="ft16783"><b>/UC&#160;70 –&#160;UC 80 –&#160;UC A0/</b></p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft16787">The actor&#160;executes an&#160;application&#160;that&#160;manages&#160;a credential. It&#160;can&#160;be the application&#160;<br/>that&#160;uses the protected&#160;repository&#160;(i.e. the secured application that&#160;provides the&#160;<br/>“application_credential”) or other applications&#160;that only manage the credentials.&#160;The&#160;</p>
<p style="position:absolute;top:258px;left:85px;white-space:nowrap" class="ft167100">TCG-enabled_operating_system</p>
<p style="position:absolute;top:253px;left:362px;white-space:nowrap" class="ft16784">&#160;notifies to&#160;the&#160;</p>
<p style="position:absolute;top:258px;left:488px;white-space:nowrap" class="ft167100">property_maker</p>
<p style="position:absolute;top:253px;left:627px;white-space:nowrap" class="ft16784">&#160;a new process&#160;</p>
<p style="position:absolute;top:274px;left:85px;white-space:nowrap" class="ft16784">instance of&#160;the application&#160;with the&#160;</p>
<p style="position:absolute;top:279px;left:383px;white-space:nowrap" class="ft167100">process_identifier</p>
<p style="position:absolute;top:274px;left:561px;white-space:nowrap" class="ft16784">&#160;and passes&#160;to&#160;it the&#160;</p>
<p style="position:absolute;top:299px;left:85px;white-space:nowrap" class="ft167100">credential_blob</p>
<p style="position:absolute;top:294px;left:234px;white-space:nowrap" class="ft16784">&#160;and the&#160;</p>
<p style="position:absolute;top:299px;left:308px;white-space:nowrap" class="ft167100">application_MAC</p>
<p style="position:absolute;top:294px;left:456px;white-space:nowrap" class="ft16784">, carried by the binary&#160;executable. Then&#160;</p>
<p style="position:absolute;top:314px;left:85px;white-space:nowrap" class="ft16784">the&#160;</p>
<p style="position:absolute;top:319px;left:118px;white-space:nowrap" class="ft167100">property_maker</p>
<p style="position:absolute;top:314px;left:256px;white-space:nowrap" class="ft16784">&#160;first&#160;verifies&#160;the integrity of&#160;the binary&#160;and the carried&#160;</p>
<p style="position:absolute;top:334px;left:85px;white-space:nowrap" class="ft16784">credential_blob by calling the function&#160;</p>
<p style="position:absolute;top:339px;left:407px;white-space:nowrap" class="ft167100">verify_binary_integrity(binary_file,&#160;</p>
<p style="position:absolute;top:360px;left:85px;white-space:nowrap" class="ft167100">credential_blob, application_MAC, certkey)</p>
<p style="position:absolute;top:355px;left:501px;white-space:nowrap" class="ft16784">; then, if the verification is&#160;</p>
<p style="position:absolute;top:375px;left:85px;white-space:nowrap" class="ft16784">successful,&#160;the&#160;</p>
<p style="position:absolute;top:380px;left:213px;white-space:nowrap" class="ft167100">property_maker</p>
<p style="position:absolute;top:375px;left:352px;white-space:nowrap" class="ft16784">&#160;decrypts&#160;the&#160;</p>
<p style="position:absolute;top:380px;left:467px;white-space:nowrap" class="ft167100">credential_blob</p>
<p style="position:absolute;top:375px;left:615px;white-space:nowrap" class="ft16784">&#160;(using&#160;</p>
<p style="position:absolute;top:380px;left:677px;white-space:nowrap" class="ft167100">certkey</p>
<p style="position:absolute;top:375px;left:746px;white-space:nowrap" class="ft16784">) thus&#160;</p>
<p style="position:absolute;top:395px;left:85px;white-space:nowrap" class="ft16784">obtaining the&#160;</p>
<p style="position:absolute;top:400px;left:201px;white-space:nowrap" class="ft167100">decrypted_credential_blob</p>
<p style="position:absolute;top:395px;left:448px;white-space:nowrap" class="ft16784">; from&#160;it&#160;the&#160;</p>
<p style="position:absolute;top:400px;left:552px;white-space:nowrap" class="ft167100">credential_id</p>
<p style="position:absolute;top:395px;left:680px;white-space:nowrap" class="ft16784">,</p>
<p style="position:absolute;top:400px;left:686px;white-space:nowrap" class="ft167100">&#160;</p>
<p style="position:absolute;top:395px;left:695px;white-space:nowrap" class="ft16784">the&#160;</p>
<p style="position:absolute;top:400px;left:728px;white-space:nowrap" class="ft167100">token&#160;</p>
<p style="position:absolute;top:415px;left:85px;white-space:nowrap" class="ft16784">are&#160;extracted&#160;and, for&#160;the application (i.e. “tag”)&#160;credential, also&#160;the&#160;</p>
<p style="position:absolute;top:420px;left:657px;white-space:nowrap" class="ft167100">tag_id</p>
<p style="position:absolute;top:415px;left:717px;white-space:nowrap" class="ft16784">&#160;value, the&#160;</p>
<p style="position:absolute;top:436px;left:85px;white-space:nowrap" class="ft16784">bound&#160;</p>
<p style="position:absolute;top:441px;left:143px;white-space:nowrap" class="ft167100">property_list</p>
<p style="position:absolute;top:436px;left:271px;white-space:nowrap" class="ft16784">&#160;and the&#160;</p>
<p style="position:absolute;top:441px;left:345px;white-space:nowrap" class="ft167100">list_of_files</p>
<p style="position:absolute;top:436px;left:474px;white-space:nowrap" class="ft16784">, i.e. the application&#160;data&#160;to be&#160;</p>
<p style="position:absolute;top:456px;left:85px;white-space:nowrap" class="ft16788">protected.<br/>If the&#160;</p>
<p style="position:absolute;top:489px;left:134px;white-space:nowrap" class="ft167100">credential_id</p>
<p style="position:absolute;top:484px;left:262px;white-space:nowrap" class="ft16784">&#160;extracted&#160;from&#160;the&#160;</p>
<p style="position:absolute;top:489px;left:429px;white-space:nowrap" class="ft167100">decrypted_credential_blob</p>
<p style="position:absolute;top:484px;left:676px;white-space:nowrap" class="ft16784">&#160;is not the&#160;</p>
<p style="position:absolute;top:489px;left:764px;white-space:nowrap" class="ft167100">tag</p>
<p style="position:absolute;top:484px;left:794px;white-space:nowrap" class="ft16784">,&#160;</p>
<p style="position:absolute;top:504px;left:85px;white-space:nowrap" class="ft16784">the&#160;</p>
<p style="position:absolute;top:509px;left:118px;white-space:nowrap" class="ft167100">property_maker</p>
<p style="position:absolute;top:504px;left:256px;white-space:nowrap" class="ft16784">&#160;retrieves, by calling the function&#160;</p>
<p style="position:absolute;top:509px;left:535px;white-space:nowrap" class="ft167100">get_property_source&#160;</p>
<p style="position:absolute;top:529px;left:85px;white-space:nowrap" class="ft167100">(property)</p>
<p style="position:absolute;top:525px;left:184px;white-space:nowrap" class="ft16784">&#160;the identifier&#160;of the&#160;</p>
<p style="position:absolute;top:529px;left:355px;white-space:nowrap" class="ft167100">TCG-enabled_operating_system</p>
<p style="position:absolute;top:525px;left:632px;white-space:nowrap" class="ft16784">&#160;component&#160;that will&#160;</p>
<p style="position:absolute;top:545px;left:85px;white-space:nowrap" class="ft16787">report&#160;the “current”&#160;value when an&#160;application&#160;will try&#160;to access&#160;(see /UC B00/)&#160;the&#160;<br/>data&#160;repository:&#160;it can be from the&#160;</p>
<p style="position:absolute;top:569px;left:376px;white-space:nowrap" class="ft167100">system_properties_at_runtime</p>
<p style="position:absolute;top:564px;left:653px;white-space:nowrap" class="ft16784">&#160;or&#160;from the&#160;</p>
<p style="position:absolute;top:589px;left:85px;white-space:nowrap" class="ft167100">running_applications</p>
<p style="position:absolute;top:584px;left:283px;white-space:nowrap" class="ft16784">.</p>
<p style="position:absolute;top:613px;left:85px;white-space:nowrap" class="ft16784">The last action&#160;is the creation by the&#160;</p>
<p style="position:absolute;top:618px;left:394px;white-space:nowrap" class="ft167100">property_maker</p>
<p style="position:absolute;top:613px;left:533px;white-space:nowrap" class="ft16784">&#160;of a new object&#160;</p>
<p style="position:absolute;top:639px;left:85px;white-space:nowrap" class="ft167100">runtime_property&#160;</p>
<p style="position:absolute;top:634px;left:254px;white-space:nowrap" class="ft16784">or&#160;</p>
<p style="position:absolute;top:639px;left:276px;white-space:nowrap" class="ft167100">runtime_tag_property</p>
<p style="position:absolute;top:634px;left:474px;white-space:nowrap" class="ft16784">, both&#160;storing the token extracted&#160;from&#160;</p>
<p style="position:absolute;top:654px;left:85px;white-space:nowrap" class="ft16784">the&#160;</p>
<p style="position:absolute;top:659px;left:118px;white-space:nowrap" class="ft167100">decrypted_credential_blob</p>
<p style="position:absolute;top:654px;left:365px;white-space:nowrap" class="ft16784">. In the first&#160;case,&#160;since only single token is&#160;</p>
<p style="position:absolute;top:674px;left:85px;white-space:nowrap" class="ft16787">embedded in the application&#160;managing credentials, the token associated&#160;to the&#160;<br/>specific value assumed by the property&#160;bound the credential must&#160;derived, using the&#160;</p>
<p style="position:absolute;top:718px;left:85px;white-space:nowrap" class="ft167100">derive_token(token, property_name, property_value)</p>
<p style="position:absolute;top:713px;left:580px;white-space:nowrap" class="ft16784">function. In the second&#160;</p>
<p style="position:absolute;top:733px;left:85px;white-space:nowrap" class="ft16784">case,&#160;the object&#160;</p>
<p style="position:absolute;top:738px;left:222px;white-space:nowrap" class="ft167100">runtime_tag_property</p>
<p style="position:absolute;top:733px;left:420px;white-space:nowrap" class="ft16784">&#160;stores&#160;an additional&#160;information,&#160;the process&#160;</p>
<p style="position:absolute;top:753px;left:85px;white-space:nowrap" class="ft16787">identifier, that&#160;binds the running process&#160;of&#160;a secured application&#160;to the value of the&#160;<br/>property&#160;(tag) associated&#160;to the application&#160;credential (i.e. the application&#160;itself).<br/>In the case&#160;of a system&#160;property,&#160;/UC 70/ is executed not&#160;only when the application&#160;<br/>managing the related credential is loaded but also&#160;at any subsequent&#160;change of&#160;the&#160;<br/>property&#160;value: the application&#160;managing the credential will report&#160;the change and will&#160;<br/>trigger KMA to&#160;replace&#160;the token bound to&#160;the old value via&#160;</p>
<p style="position:absolute;top:879px;left:85px;white-space:nowrap" class="ft16799">notify_system_property(property, value, credential_blob)</p>
<p style="position:absolute;top:877px;left:640px;white-space:nowrap" class="ft16784">.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft16791">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft16791">67/78</p>
</div>
<!-- Page 168 -->
<a name="168"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page168-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2168.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft16890">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft16880">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft16891">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft16891">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft16891">68/78</p>
<p style="position:absolute;top:1034px;left:263px;white-space:nowrap" class="ft16898"><b>Figure&#160;21: /UC&#160;70 -&#160;80 -&#160;A0/ implementation</b></p>
</div>
<!-- Page 169 -->
<a name="169"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page169-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2169.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft16990">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft16980">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft16991">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft16983"><b>/UC&#160;B0/</b></p>
<p style="position:absolute;top:179px;left:85px;white-space:nowrap" class="ft16984">The&#160;</p>
<p style="position:absolute;top:184px;left:121px;white-space:nowrap" class="ft169100">secured_application</p>
<p style="position:absolute;top:179px;left:309px;white-space:nowrap" class="ft16984">, is started&#160;by the User in UC&#160;90 and provided the&#160;</p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft16988">“application credential” in /UC A0/.<br/>First&#160;the&#160;</p>
<p style="position:absolute;top:229px;left:159px;white-space:nowrap" class="ft16999">secured_application</p>
<p style="position:absolute;top:227px;left:347px;white-space:nowrap" class="ft16984">, by using the function&#160;</p>
<p style="position:absolute;top:249px;left:85px;white-space:nowrap" class="ft16999">request_repository(process_id)</p>
<p style="position:absolute;top:247px;left:382px;white-space:nowrap" class="ft16984">, obtains&#160;from the&#160;</p>
<p style="position:absolute;top:249px;left:535px;white-space:nowrap" class="ft16999">storage_container</p>
<p style="position:absolute;top:247px;left:704px;white-space:nowrap" class="ft16984">&#160;a handle&#160;</p>
<p style="position:absolute;top:268px;left:85px;white-space:nowrap" class="ft16987">that&#160;is used to&#160;perform&#160;a operation&#160;on its protected data&#160;repository.&#160;This operation is&#160;<br/>described in /UC B00/.<br/>Then, for each path of&#160;the files present the list defined by the KMA Administrator&#160;in UC&#160;<br/>2220, the&#160;</p>
<p style="position:absolute;top:336px;left:170px;white-space:nowrap" class="ft16999">secured_application</p>
<p style="position:absolute;top:334px;left:358px;white-space:nowrap" class="ft16984">&#160;requests&#160;to the&#160;</p>
<p style="position:absolute;top:336px;left:495px;white-space:nowrap" class="ft16999">storage_container</p>
<p style="position:absolute;top:334px;left:663px;white-space:nowrap" class="ft16984">&#160;the execution of&#160;</p>
<p style="position:absolute;top:355px;left:85px;white-space:nowrap" class="ft16984">the&#160;</p>
<p style="position:absolute;top:356px;left:118px;white-space:nowrap" class="ft16999">protect_application_data(handle, path)</p>
<p style="position:absolute;top:355px;left:494px;white-space:nowrap" class="ft16984">&#160;function.</p>
<p style="position:absolute;top:384px;left:85px;white-space:nowrap" class="ft16984">The&#160;</p>
<p style="position:absolute;top:385px;left:121px;white-space:nowrap" class="ft16999">storage_container</p>
<p style="position:absolute;top:384px;left:290px;white-space:nowrap" class="ft16984">, using the handle value, retrieves&#160;from a&#160;</p>
<p style="position:absolute;top:385px;left:637px;white-space:nowrap" class="ft16999">repository_handle&#160;</p>
<p style="position:absolute;top:404px;left:85px;white-space:nowrap" class="ft16984">object, the&#160;</p>
<p style="position:absolute;top:406px;left:179px;white-space:nowrap" class="ft16999">repository_id</p>
<p style="position:absolute;top:404px;left:308px;white-space:nowrap" class="ft16984">&#160;associated&#160;to&#160;the&#160;</p>
<p style="position:absolute;top:406px;left:461px;white-space:nowrap" class="ft16999">process_id</p>
<p style="position:absolute;top:404px;left:560px;white-space:nowrap" class="ft16984">&#160;of the secured application&#160;</p>
<p style="position:absolute;top:424px;left:85px;white-space:nowrap" class="ft16984">and the&#160;</p>
<p style="position:absolute;top:426px;left:154px;white-space:nowrap" class="ft16999">crypt_handle</p>
<p style="position:absolute;top:424px;left:273px;white-space:nowrap" class="ft16984">&#160;that will be used to&#160;encrypt/decrypt&#160;data&#160;using the&#160;</p>
<p style="position:absolute;top:446px;left:85px;white-space:nowrap" class="ft16999">crypto_service_provider</p>
<p style="position:absolute;top:445px;left:313px;white-space:nowrap" class="ft16984">. Then the&#160;</p>
<p style="position:absolute;top:446px;left:402px;white-space:nowrap" class="ft16999">storage_container</p>
<p style="position:absolute;top:445px;left:570px;white-space:nowrap" class="ft16984">&#160;encrypts&#160;the file using the&#160;</p>
<p style="position:absolute;top:466px;left:85px;white-space:nowrap" class="ft16999">crypto_service_provider</p>
<p style="position:absolute;top:465px;left:313px;white-space:nowrap" class="ft16984">&#160;and creates&#160;for&#160;the&#160;</p>
<p style="position:absolute;top:466px;left:481px;white-space:nowrap" class="ft16999">repository_id</p>
<p style="position:absolute;top:465px;left:610px;white-space:nowrap" class="ft16984">&#160;a&#160;new&#160;</p>
<p style="position:absolute;top:487px;left:85px;white-space:nowrap" class="ft16999">encrypted_data</p>
<p style="position:absolute;top:485px;left:224px;white-space:nowrap" class="ft16984">&#160;object with the same&#160;path name and the data&#160;encrypted.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft16991">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft16991">69/78</p>
<p style="position:absolute;top:1063px;left:301px;white-space:nowrap" class="ft16998"><b>Figure&#160;22: /UC&#160;B0/ implementation</b></p>
</div>
<!-- Page 170 -->
<a name="170"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page170-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2170.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft17090">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft17080">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft17091">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:168px;left:85px;white-space:nowrap" class="ft17083"><b>/UC&#160;C0/</b></p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft17084">The&#160;</p>
<p style="position:absolute;top:201px;left:121px;white-space:nowrap" class="ft170100">secured_application</p>
<p style="position:absolute;top:196px;left:309px;white-space:nowrap" class="ft17084">, is started&#160;by the User in UC&#160;90 and provided the&#160;</p>
<p style="position:absolute;top:216px;left:85px;white-space:nowrap" class="ft17088">“application credential” in /UC A0/.<br/>First&#160;the&#160;</p>
<p style="position:absolute;top:246px;left:159px;white-space:nowrap" class="ft17099">secured_application</p>
<p style="position:absolute;top:244px;left:347px;white-space:nowrap" class="ft17084">, by using the function&#160;</p>
<p style="position:absolute;top:266px;left:85px;white-space:nowrap" class="ft17099">request_repository(process_id)</p>
<p style="position:absolute;top:264px;left:382px;white-space:nowrap" class="ft17084">, obtains&#160;from the&#160;</p>
<p style="position:absolute;top:266px;left:535px;white-space:nowrap" class="ft17099">storage_container</p>
<p style="position:absolute;top:264px;left:704px;white-space:nowrap" class="ft17084">&#160;a handle&#160;</p>
<p style="position:absolute;top:285px;left:85px;white-space:nowrap" class="ft17087">that&#160;it will use to&#160;perform&#160;a operation&#160;on its&#160;protected data&#160;repository.&#160;This&#160;operation&#160;<br/>is described in /UC B00/.<br/>Then, for each path of&#160;the files present the list defined by the KMA Administrator&#160;in UC&#160;<br/>2220, the&#160;</p>
<p style="position:absolute;top:353px;left:170px;white-space:nowrap" class="ft17099">secured_application</p>
<p style="position:absolute;top:351px;left:358px;white-space:nowrap" class="ft17084">&#160;requests&#160;to the&#160;</p>
<p style="position:absolute;top:353px;left:495px;white-space:nowrap" class="ft17099">storage_container</p>
<p style="position:absolute;top:351px;left:663px;white-space:nowrap" class="ft17084">&#160;the execution of&#160;</p>
<p style="position:absolute;top:372px;left:85px;white-space:nowrap" class="ft17084">the&#160;</p>
<p style="position:absolute;top:373px;left:118px;white-space:nowrap" class="ft17099">get_protected_data(handle, path)</p>
<p style="position:absolute;top:372px;left:434px;white-space:nowrap" class="ft17084">&#160;function.</p>
<p style="position:absolute;top:401px;left:85px;white-space:nowrap" class="ft17084">The&#160;</p>
<p style="position:absolute;top:402px;left:121px;white-space:nowrap" class="ft17099">storage_container</p>
<p style="position:absolute;top:401px;left:290px;white-space:nowrap" class="ft17084">, using the handle value, retrieves&#160;from a&#160;</p>
<p style="position:absolute;top:402px;left:637px;white-space:nowrap" class="ft17099">repository_handle&#160;</p>
<p style="position:absolute;top:421px;left:85px;white-space:nowrap" class="ft17084">object, the&#160;</p>
<p style="position:absolute;top:423px;left:179px;white-space:nowrap" class="ft17099">repository_id</p>
<p style="position:absolute;top:421px;left:308px;white-space:nowrap" class="ft17084">&#160;associated&#160;to&#160;the&#160;</p>
<p style="position:absolute;top:423px;left:461px;white-space:nowrap" class="ft17099">process_id</p>
<p style="position:absolute;top:421px;left:560px;white-space:nowrap" class="ft17084">&#160;of the secured application&#160;</p>
<p style="position:absolute;top:441px;left:85px;white-space:nowrap" class="ft17084">and the&#160;</p>
<p style="position:absolute;top:443px;left:154px;white-space:nowrap" class="ft17099">crypt_handle</p>
<p style="position:absolute;top:441px;left:273px;white-space:nowrap" class="ft17084">&#160;that will be used to&#160;encrypt/decrypt&#160;data&#160;using the&#160;</p>
<p style="position:absolute;top:463px;left:85px;white-space:nowrap" class="ft17099">crypto_service_provider</p>
<p style="position:absolute;top:462px;left:313px;white-space:nowrap" class="ft17084">.</p>
<p style="position:absolute;top:491px;left:85px;white-space:nowrap" class="ft17084">Then, in the first&#160;case&#160;it retrieves the&#160;</p>
<p style="position:absolute;top:492px;left:398px;white-space:nowrap" class="ft17099">encrypted_data</p>
<p style="position:absolute;top:491px;left:536px;white-space:nowrap" class="ft17084">&#160;object&#160;with the given path,&#160;</p>
<p style="position:absolute;top:511px;left:85px;white-space:nowrap" class="ft17084">decrypts&#160;the content using the&#160;</p>
<p style="position:absolute;top:513px;left:345px;white-space:nowrap" class="ft17099">crypto_service_provider</p>
<p style="position:absolute;top:511px;left:573px;white-space:nowrap" class="ft17084">&#160;and returns it to the&#160;</p>
<p style="position:absolute;top:533px;left:85px;white-space:nowrap" class="ft17099">secured_application</p>
<p style="position:absolute;top:531px;left:273px;white-space:nowrap" class="ft17084">. In the second case&#160;it retrieves&#160;the existent&#160;</p>
<p style="position:absolute;top:533px;left:643px;white-space:nowrap" class="ft17099">encrypted_data</p>
<p style="position:absolute;top:531px;left:782px;white-space:nowrap" class="ft17084">,&#160;</p>
<p style="position:absolute;top:552px;left:85px;white-space:nowrap" class="ft17084">encrypts&#160;the data&#160;given by the&#160;</p>
<p style="position:absolute;top:553px;left:346px;white-space:nowrap" class="ft17099">secured_application</p>
<p style="position:absolute;top:552px;left:534px;white-space:nowrap" class="ft17084">&#160;and saves&#160;them in the object.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft17091">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft17091">70/78</p>
</div>
<!-- Page 171 -->
<a name="171"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page171-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2171.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft17190">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft17180">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft17191">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft17191">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft17191">71/78</p>
</div>
<!-- Page 172 -->
<a name="172"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page172-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2172.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft17290">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft17280">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft17291">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft17291">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft17291">72/78</p>
<p style="position:absolute;top:1007px;left:301px;white-space:nowrap" class="ft17298"><b>Figure&#160;23: /UC C0/&#160;implementation</b></p>
</div>
<!-- Page 173 -->
<a name="173"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page173-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2173.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft17390">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft17380">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft17391">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:168px;left:85px;white-space:nowrap" class="ft17383"><b>/UC&#160;D0/</b></p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft17384">The&#160;</p>
<p style="position:absolute;top:201px;left:121px;white-space:nowrap" class="ft173100">secured_application</p>
<p style="position:absolute;top:196px;left:309px;white-space:nowrap" class="ft17384">, is started&#160;by the User in UC&#160;90 and provided the&#160;</p>
<p style="position:absolute;top:216px;left:85px;white-space:nowrap" class="ft17388">“application credential” in /UC A0/.<br/>First&#160;the&#160;</p>
<p style="position:absolute;top:246px;left:159px;white-space:nowrap" class="ft17399">secured_application</p>
<p style="position:absolute;top:244px;left:347px;white-space:nowrap" class="ft17384">, by using the function&#160;</p>
<p style="position:absolute;top:266px;left:85px;white-space:nowrap" class="ft17399">request_repository(process_id)</p>
<p style="position:absolute;top:264px;left:382px;white-space:nowrap" class="ft17384">, obtains&#160;from the&#160;</p>
<p style="position:absolute;top:266px;left:535px;white-space:nowrap" class="ft17399">storage_container</p>
<p style="position:absolute;top:264px;left:704px;white-space:nowrap" class="ft17384">&#160;a handle&#160;</p>
<p style="position:absolute;top:285px;left:85px;white-space:nowrap" class="ft17387">that&#160;it will use to&#160;perform&#160;a operation&#160;on its&#160;protected data&#160;repository.&#160;This&#160;operation&#160;<br/>is described in /UC B00/.<br/>Then, for each path of&#160;the files present the list defined by the KMA Administrator&#160;in UC&#160;<br/>2220, the&#160;</p>
<p style="position:absolute;top:353px;left:170px;white-space:nowrap" class="ft17399">secured_application</p>
<p style="position:absolute;top:351px;left:358px;white-space:nowrap" class="ft17384">&#160;requests&#160;to the&#160;</p>
<p style="position:absolute;top:353px;left:495px;white-space:nowrap" class="ft17399">storage_container</p>
<p style="position:absolute;top:351px;left:663px;white-space:nowrap" class="ft17384">&#160;the execution of&#160;</p>
<p style="position:absolute;top:372px;left:85px;white-space:nowrap" class="ft17384">the&#160;</p>
<p style="position:absolute;top:373px;left:118px;white-space:nowrap" class="ft17399">restore_application_data(handle, path)</p>
<p style="position:absolute;top:372px;left:494px;white-space:nowrap" class="ft17384">&#160;function for&#160;all files in the list defined&#160;</p>
<p style="position:absolute;top:392px;left:85px;white-space:nowrap" class="ft17388">by the KMA Administrator&#160;in UC 2220.<br/>The&#160;</p>
<p style="position:absolute;top:422px;left:121px;white-space:nowrap" class="ft17399">storage_container</p>
<p style="position:absolute;top:420px;left:290px;white-space:nowrap" class="ft17384">, using the handle value, retrieves&#160;from a&#160;</p>
<p style="position:absolute;top:422px;left:637px;white-space:nowrap" class="ft17399">repository_handle&#160;</p>
<p style="position:absolute;top:440px;left:85px;white-space:nowrap" class="ft17384">object, the&#160;</p>
<p style="position:absolute;top:442px;left:179px;white-space:nowrap" class="ft17399">repository_id</p>
<p style="position:absolute;top:440px;left:308px;white-space:nowrap" class="ft17384">&#160;associated&#160;to&#160;the&#160;</p>
<p style="position:absolute;top:442px;left:461px;white-space:nowrap" class="ft17399">process_id</p>
<p style="position:absolute;top:440px;left:560px;white-space:nowrap" class="ft17384">&#160;of the secured application&#160;</p>
<p style="position:absolute;top:460px;left:85px;white-space:nowrap" class="ft17384">and the&#160;</p>
<p style="position:absolute;top:462px;left:154px;white-space:nowrap" class="ft17399">crypt_handle</p>
<p style="position:absolute;top:460px;left:273px;white-space:nowrap" class="ft17384">&#160;that will be used to&#160;encrypt/decrypt&#160;data&#160;using the&#160;</p>
<p style="position:absolute;top:482px;left:85px;white-space:nowrap" class="ft17399">crypto_service_provider</p>
<p style="position:absolute;top:481px;left:313px;white-space:nowrap" class="ft17384">.</p>
<p style="position:absolute;top:510px;left:85px;white-space:nowrap" class="ft17384">The behaviour&#160;is the same&#160;as in /UC C0/, when performing the&#160;</p>
<p style="position:absolute;top:512px;left:606px;white-space:nowrap" class="ft17399">get_protected_data&#160;</p>
<p style="position:absolute;top:530px;left:85px;white-space:nowrap" class="ft17384">function, but&#160;the&#160;</p>
<p style="position:absolute;top:532px;left:228px;white-space:nowrap" class="ft17399">encrypted_data</p>
<p style="position:absolute;top:530px;left:367px;white-space:nowrap" class="ft17384">&#160;objects&#160;are deleted and are&#160;no longer available for&#160;</p>
<p style="position:absolute;top:550px;left:85px;white-space:nowrap" class="ft17384">the bound&#160;</p>
<p style="position:absolute;top:552px;left:175px;white-space:nowrap" class="ft17399">data_repository</p>
<p style="position:absolute;top:550px;left:323px;white-space:nowrap" class="ft17384">. Then the&#160;</p>
<p style="position:absolute;top:552px;left:413px;white-space:nowrap" class="ft17399">secured_application</p>
<p style="position:absolute;top:550px;left:601px;white-space:nowrap" class="ft17384">&#160;copies&#160;the data&#160;</p>
<p style="position:absolute;top:571px;left:85px;white-space:nowrap" class="ft17384">returned from the&#160;</p>
<p style="position:absolute;top:572px;left:239px;white-space:nowrap" class="ft17399">storage_container</p>
<p style="position:absolute;top:571px;left:407px;white-space:nowrap" class="ft17384">&#160;to the insecure filesystem.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft17391">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft17391">73/78</p>
</div>
<!-- Page 174 -->
<a name="174"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page174-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2174.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft17490">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft17480">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft17491">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft17491">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft17491">74/78</p>
<p style="position:absolute;top:847px;left:300px;white-space:nowrap" class="ft17498"><b>Figure&#160;24: /UC&#160;D0/&#160;implementation</b></p>
</div>
<!-- Page 175 -->
<a name="175"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page175-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2175.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft17590">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft17580">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft17591">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:168px;left:85px;white-space:nowrap" class="ft17583"><b>/UC&#160;B00/</b></p>
<p style="position:absolute;top:196px;left:85px;white-space:nowrap" class="ft17584">The&#160;</p>
<p style="position:absolute;top:197px;left:121px;white-space:nowrap" class="ft17599">secured_application</p>
<p style="position:absolute;top:196px;left:309px;white-space:nowrap" class="ft17584">&#160;requests&#160;to the&#160;</p>
<p style="position:absolute;top:197px;left:446px;white-space:nowrap" class="ft17599">storage_container</p>
<p style="position:absolute;top:196px;left:614px;white-space:nowrap" class="ft17584">&#160;the access&#160;to&#160;its&#160;data&#160;</p>
<p style="position:absolute;top:216px;left:85px;white-space:nowrap" class="ft17584">repository,&#160;giving its&#160;</p>
<p style="position:absolute;top:218px;left:260px;white-space:nowrap" class="ft17599">process_identifier</p>
<p style="position:absolute;top:216px;left:438px;white-space:nowrap" class="ft17584">. The complete sequence of&#160;interactions&#160;is&#160;</p>
<p style="position:absolute;top:236px;left:85px;white-space:nowrap" class="ft17588"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#177">reported in&#160;Figure 26.&#160;<br/></a>The interaction&#160;between&#160;</p>
<p style="position:absolute;top:266px;left:292px;white-space:nowrap" class="ft17599">storage_container</p>
<p style="position:absolute;top:264px;left:461px;white-space:nowrap" class="ft17584">&#160;and&#160;</p>
<p style="position:absolute;top:266px;left:502px;white-space:nowrap" class="ft17599">property_maker</p>
<p style="position:absolute;top:264px;left:641px;white-space:nowrap" class="ft17584">&#160;to execute the&#160;</p>
<p style="position:absolute;top:285px;left:85px;white-space:nowrap" class="ft17584">function&#160;</p>
<p style="position:absolute;top:286px;left:158px;white-space:nowrap" class="ft17599">get_properties(process_identifier)</p>
<p style="position:absolute;top:285px;left:495px;white-space:nowrap" class="ft17584">&#160;is expanded i<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#175">n&#160;Figure 25&#160;and</a>&#160;</p>
<p style="position:absolute;top:305px;left:85px;white-space:nowrap" class="ft17584">described in the following. The&#160;</p>
<p style="position:absolute;top:307px;left:345px;white-space:nowrap" class="ft17599">storage_container</p>
<p style="position:absolute;top:305px;left:513px;white-space:nowrap" class="ft17584">&#160;requests&#160;to&#160;the&#160;</p>
<p style="position:absolute;top:307px;left:649px;white-space:nowrap" class="ft17599">property_maker&#160;</p>
<p style="position:absolute;top:325px;left:85px;white-space:nowrap" class="ft17584">the collection of the&#160;</p>
<p style="position:absolute;top:327px;left:256px;white-space:nowrap" class="ft17599">runtime_property</p>
<p style="position:absolute;top:325px;left:414px;white-space:nowrap" class="ft17584">&#160;and&#160;</p>
<p style="position:absolute;top:327px;left:456px;white-space:nowrap" class="ft17599">runtime_tag_property</p>
<p style="position:absolute;top:325px;left:654px;white-space:nowrap" class="ft17584">&#160;objects&#160;bound to&#160;</p>
<p style="position:absolute;top:345px;left:85px;white-space:nowrap" class="ft17584">a&#160;given process&#160;identifier&#160;and of the&#160;</p>
<p style="position:absolute;top:347px;left:389px;white-space:nowrap" class="ft17599">runtime_property</p>
<p style="position:absolute;top:345px;left:548px;white-space:nowrap" class="ft17584">&#160;objects&#160;bound to&#160;the system&#160;</p>
<p style="position:absolute;top:366px;left:85px;white-space:nowrap" class="ft17584">(i.e. holding a&#160;system property).&#160;The&#160;</p>
<p style="position:absolute;top:367px;left:393px;white-space:nowrap" class="ft17599">property_maker</p>
<p style="position:absolute;top:366px;left:531px;white-space:nowrap" class="ft17584">&#160;retrieves from a&#160;</p>
<p style="position:absolute;top:388px;left:85px;white-space:nowrap" class="ft17599">runtime_tag_property</p>
<p style="position:absolute;top:386px;left:283px;white-space:nowrap" class="ft17584">&#160;object the&#160;</p>
<p style="position:absolute;top:388px;left:377px;white-space:nowrap" class="ft17599">tag</p>
<p style="position:absolute;top:386px;left:407px;white-space:nowrap" class="ft17584">&#160;value and the&#160;</p>
<p style="position:absolute;top:388px;left:531px;white-space:nowrap" class="ft17599">property_list</p>
<p style="position:absolute;top:386px;left:660px;white-space:nowrap" class="ft17584">&#160;associated&#160;to&#160;the&#160;</p>
<p style="position:absolute;top:406px;left:85px;white-space:nowrap" class="ft17584">running process&#160;of the&#160;</p>
<p style="position:absolute;top:408px;left:277px;white-space:nowrap" class="ft17599">secured_application</p>
<p style="position:absolute;top:406px;left:465px;white-space:nowrap" class="ft17584">. Then for each&#160;property first it checks if&#160;</p>
<p style="position:absolute;top:426px;left:85px;white-space:nowrap" class="ft17584">the property is related to the&#160;</p>
<p style="position:absolute;top:428px;left:330px;white-space:nowrap" class="ft17599">secured_application</p>
<p style="position:absolute;top:426px;left:519px;white-space:nowrap" class="ft17584">. In this&#160;case&#160;the current&#160;value of&#160;</p>
<p style="position:absolute;top:447px;left:85px;white-space:nowrap" class="ft17584">the property is reported from&#160;the&#160;</p>
<p style="position:absolute;top:448px;left:365px;white-space:nowrap" class="ft17599">running_application</p>
<p style="position:absolute;top:447px;left:553px;white-space:nowrap" class="ft17584">&#160;by calling&#160;the function&#160;</p>
<p style="position:absolute;top:469px;left:85px;white-space:nowrap" class="ft17599">get_property_value(process_identifier, property)</p>
<p style="position:absolute;top:467px;left:560px;white-space:nowrap" class="ft17584">.</p>
<p style="position:absolute;top:496px;left:85px;white-space:nowrap" class="ft17584">The&#160;</p>
<p style="position:absolute;top:498px;left:121px;white-space:nowrap" class="ft17599">property_maker</p>
<p style="position:absolute;top:496px;left:260px;white-space:nowrap" class="ft17584">&#160;collects&#160;all&#160;</p>
<p style="position:absolute;top:498px;left:357px;white-space:nowrap" class="ft17599">property_element</p>
<p style="position:absolute;top:496px;left:516px;white-space:nowrap" class="ft17584">&#160;objects&#160;which match&#160;the criteria&#160;</p>
<p style="position:absolute;top:518px;left:85px;white-space:nowrap" class="ft17599">property</p>
<p style="position:absolute;top:516px;left:164px;white-space:nowrap" class="ft17584">&#160;and&#160;</p>
<p style="position:absolute;top:518px;left:206px;white-space:nowrap" class="ft17599">value</p>
<p style="position:absolute;top:516px;left:255px;white-space:nowrap" class="ft17584">&#160;and returns the pairs (</p>
<p style="position:absolute;top:518px;left:447px;white-space:nowrap" class="ft17599">property</p>
<p style="position:absolute;top:516px;left:526px;white-space:nowrap" class="ft17584">,&#160;</p>
<p style="position:absolute;top:518px;left:536px;white-space:nowrap" class="ft17599">value</p>
<p style="position:absolute;top:516px;left:586px;white-space:nowrap" class="ft17584">) to&#160;the&#160;</p>
<p style="position:absolute;top:538px;left:85px;white-space:nowrap" class="ft17599">storage_container</p>
<p style="position:absolute;top:537px;left:254px;white-space:nowrap" class="ft17584">.</p>
<p style="position:absolute;top:1084px;left:85px;white-space:nowrap" class="ft17587">The complete sequence for accessing a&#160;protected repository&#160;is reported i<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#177">n&#160;Figure 26&#160;<br/></a>and described in the following. The&#160;</p>
<p style="position:absolute;top:1105px;left:381px;white-space:nowrap" class="ft17599">secured_application</p>
<p style="position:absolute;top:1103px;left:569px;white-space:nowrap" class="ft17584">&#160;requests&#160;to&#160;the&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft17591">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft17591">75/78</p>
<p style="position:absolute;top:1040px;left:261px;white-space:nowrap" class="ft17598"><b>Figure&#160;25: /UC B00/ implementation -&#160;part&#160;A</b></p>
</div>
<!-- Page 176 -->
<a name="176"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page176-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2176.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft17690">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft17680">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft17691">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:153px;left:85px;white-space:nowrap" class="ft17699">storage_container</p>
<p style="position:absolute;top:151px;left:254px;white-space:nowrap" class="ft17684">&#160;the access&#160;to its&#160;</p>
<p style="position:absolute;top:153px;left:399px;white-space:nowrap" class="ft17699">data_repository</p>
<p style="position:absolute;top:151px;left:547px;white-space:nowrap" class="ft17684">, configured by the KMA&#160;</p>
<p style="position:absolute;top:171px;left:85px;white-space:nowrap" class="ft17684">Administrator,&#160;giving its&#160;</p>
<p style="position:absolute;top:173px;left:289px;white-space:nowrap" class="ft17699">process_identifier</p>
<p style="position:absolute;top:171px;left:467px;white-space:nowrap" class="ft17684">. The&#160;</p>
<p style="position:absolute;top:173px;left:514px;white-space:nowrap" class="ft17699">storage_container</p>
<p style="position:absolute;top:171px;left:682px;white-space:nowrap" class="ft17684">&#160;first&#160;retrieves&#160;</p>
<p style="position:absolute;top:192px;left:85px;white-space:nowrap" class="ft17684">the&#160;</p>
<p style="position:absolute;top:193px;left:118px;white-space:nowrap" class="ft17699">property_element</p>
<p style="position:absolute;top:192px;left:276px;white-space:nowrap" class="ft17684">&#160;collection&#160;(as described i<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#175">n&#160;Figure 25), by call</a>ing the function&#160;</p>
<p style="position:absolute;top:213px;left:85px;white-space:nowrap" class="ft17699">get_properties(process_identifier)</p>
<p style="position:absolute;top:212px;left:422px;white-space:nowrap" class="ft17684">, then it searches&#160;for&#160;a data&#160;repository,&#160;using&#160;</p>
<p style="position:absolute;top:232px;left:85px;white-space:nowrap" class="ft17684">the&#160;</p>
<p style="position:absolute;top:234px;left:118px;white-space:nowrap" class="ft17699">find_repository(property_collection)</p>
<p style="position:absolute;top:232px;left:474px;white-space:nowrap" class="ft17684">&#160;function.&#160;If one repository&#160;is found, it&#160;</p>
<p style="position:absolute;top:252px;left:85px;white-space:nowrap" class="ft17684">retrieves the&#160;</p>
<p style="position:absolute;top:254px;left:196px;white-space:nowrap" class="ft17699">storagekey_blob</p>
<p style="position:absolute;top:252px;left:345px;white-space:nowrap" class="ft17684">&#160;using the function&#160;</p>
<p style="position:absolute;top:274px;left:85px;white-space:nowrap" class="ft17699">get_storagekey_blob(repository_id)</p>
<p style="position:absolute;top:273px;left:422px;white-space:nowrap" class="ft17684">&#160;and the&#160;</p>
<p style="position:absolute;top:274px;left:496px;white-space:nowrap" class="ft17699">cipher_method</p>
<p style="position:absolute;top:273px;left:624px;white-space:nowrap" class="ft17684">&#160;using&#160;</p>
<p style="position:absolute;top:294px;left:85px;white-space:nowrap" class="ft17699">get_cipher_method(repository_id)</p>
<p style="position:absolute;top:293px;left:402px;white-space:nowrap" class="ft17684">.</p>
<p style="position:absolute;top:322px;left:85px;white-space:nowrap" class="ft17684">Then the&#160;</p>
<p style="position:absolute;top:324px;left:164px;white-space:nowrap" class="ft17699">storage_container</p>
<p style="position:absolute;top:322px;left:332px;white-space:nowrap" class="ft17684">&#160;creates&#160;a&#160;new context&#160;from the&#160;</p>
<p style="position:absolute;top:344px;left:85px;white-space:nowrap" class="ft17699">crypto_service_provider</p>
<p style="position:absolute;top:342px;left:313px;white-space:nowrap" class="ft17684">&#160;using the function&#160;</p>
<p style="position:absolute;top:344px;left:473px;white-space:nowrap" class="ft17699">new_context(process_id,&#160;</p>
<p style="position:absolute;top:364px;left:85px;white-space:nowrap" class="ft17699">cipher_method, storagekey_blob)</p>
<p style="position:absolute;top:363px;left:392px;white-space:nowrap" class="ft17684">. The&#160;</p>
<p style="position:absolute;top:364px;left:439px;white-space:nowrap" class="ft17699">crypto_service_provider</p>
<p style="position:absolute;top:363px;left:666px;white-space:nowrap" class="ft17684">&#160;retrieves the&#160;</p>
<p style="position:absolute;top:384px;left:85px;white-space:nowrap" class="ft17699">property_collection</p>
<p style="position:absolute;top:383px;left:273px;white-space:nowrap" class="ft17684">&#160;from&#160;the&#160;</p>
<p style="position:absolute;top:384px;left:355px;white-space:nowrap" class="ft17699">property_maker</p>
<p style="position:absolute;top:383px;left:494px;white-space:nowrap" class="ft17684">&#160;by using the function&#160;</p>
<p style="position:absolute;top:405px;left:85px;white-space:nowrap" class="ft17699">get_properties(process_identifier)</p>
<p style="position:absolute;top:403px;left:422px;white-space:nowrap" class="ft17684">; the selection&#160;of only the property elements&#160;</p>
<p style="position:absolute;top:423px;left:85px;white-space:nowrap" class="ft17684">carrying&#160;the values actually&#160;assumed by the process&#160;running the&#160;</p>
<p style="position:absolute;top:444px;left:85px;white-space:nowrap" class="ft17699">secured_application</p>
<p style="position:absolute;top:442px;left:273px;white-space:nowrap" class="ft17684">&#160;is performed (it&#160;is not d<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#177">escribed in&#160;Figure 26</a><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#175">, see&#160;Figure 25&#160;for</a>&#160;</p>
<p style="position:absolute;top:463px;left:85px;white-space:nowrap" class="ft17684">details). Then the&#160;</p>
<p style="position:absolute;top:464px;left:236px;white-space:nowrap" class="ft17699">property_maker</p>
<p style="position:absolute;top:463px;left:375px;white-space:nowrap" class="ft17684">&#160;extracts&#160;the tokens from each&#160;element of the&#160;</p>
<p style="position:absolute;top:485px;left:85px;white-space:nowrap" class="ft17699">property_collection</p>
<p style="position:absolute;top:483px;left:273px;white-space:nowrap" class="ft17684">. Then it computes&#160;the&#160;</p>
<p style="position:absolute;top:485px;left:466px;white-space:nowrap" class="ft17699">combined_token</p>
<p style="position:absolute;top:483px;left:604px;white-space:nowrap" class="ft17684">&#160;by calling&#160;</p>
<p style="position:absolute;top:505px;left:85px;white-space:nowrap" class="ft17699">combine(tokens)</p>
<p style="position:absolute;top:503px;left:234px;white-space:nowrap" class="ft17684">. Lastly&#160;if&#160;the&#160;</p>
<p style="position:absolute;top:505px;left:346px;white-space:nowrap" class="ft17699">cipher_method</p>
<p style="position:absolute;top:503px;left:475px;white-space:nowrap" class="ft17684">&#160;of the data&#160;repository&#160;is “</p>
<p style="position:absolute;top:505px;left:692px;white-space:nowrap" class="ft17699">direct</p>
<p style="position:absolute;top:503px;left:752px;white-space:nowrap" class="ft17684">” the&#160;</p>
<p style="position:absolute;top:525px;left:85px;white-space:nowrap" class="ft17699">crypto_service_provider</p>
<p style="position:absolute;top:523px;left:313px;white-space:nowrap" class="ft17684">&#160;decrypts&#160;the&#160;</p>
<p style="position:absolute;top:525px;left:428px;white-space:nowrap" class="ft17699">storagekey_blob</p>
<p style="position:absolute;top:523px;left:576px;white-space:nowrap" class="ft17684">&#160;using the&#160;</p>
<p style="position:absolute;top:525px;left:664px;white-space:nowrap" class="ft17699">combined_token&#160;</p>
<p style="position:absolute;top:544px;left:85px;white-space:nowrap" class="ft17684">as&#160;decryption key, otherwise (i.e.&#160;</p>
<p style="position:absolute;top:545px;left:366px;white-space:nowrap" class="ft17699">cipher_method</p>
<p style="position:absolute;top:544px;left:494px;white-space:nowrap" class="ft17684">&#160;is “</p>
<p style="position:absolute;top:545px;left:527px;white-space:nowrap" class="ft17699">TPM</p>
<p style="position:absolute;top:544px;left:556px;white-space:nowrap" class="ft17684">”) requests&#160;to&#160;the&#160;</p>
<p style="position:absolute;top:545px;left:708px;white-space:nowrap" class="ft17699">TPM</p>
<p style="position:absolute;top:544px;left:737px;white-space:nowrap" class="ft17684">&#160;a&#160;</p>
<p style="position:absolute;top:566px;left:85px;white-space:nowrap" class="ft17699">unbind</p>
<p style="position:absolute;top:564px;left:145px;white-space:nowrap" class="ft17684">&#160;operation&#160;using the&#160;</p>
<p style="position:absolute;top:566px;left:317px;white-space:nowrap" class="ft17699">combined_token</p>
<p style="position:absolute;top:564px;left:455px;white-space:nowrap" class="ft17684">&#160;as&#160;secret&#160;for the authorization. If all&#160;</p>
<p style="position:absolute;top:584px;left:85px;white-space:nowrap" class="ft17684">operations&#160;are completed successful&#160;the&#160;</p>
<p style="position:absolute;top:586px;left:426px;white-space:nowrap" class="ft17699">crypto_service_provider</p>
<p style="position:absolute;top:584px;left:654px;white-space:nowrap" class="ft17684">&#160;creates&#160;a&#160;new&#160;</p>
<p style="position:absolute;top:606px;left:85px;white-space:nowrap" class="ft17699">crypto_handle</p>
<p style="position:absolute;top:604px;left:214px;white-space:nowrap" class="ft17684">&#160;object which takes as&#160;arguments the&#160;</p>
<p style="position:absolute;top:606px;left:530px;white-space:nowrap" class="ft17699">process_id</p>
<p style="position:absolute;top:604px;left:629px;white-space:nowrap" class="ft17684">, the&#160;</p>
<p style="position:absolute;top:606px;left:672px;white-space:nowrap" class="ft17699">cipher_method&#160;</p>
<p style="position:absolute;top:625px;left:85px;white-space:nowrap" class="ft17684">and the&#160;</p>
<p style="position:absolute;top:626px;left:154px;white-space:nowrap" class="ft17699">storagekey</p>
<p style="position:absolute;top:625px;left:253px;white-space:nowrap" class="ft17684">&#160;and&#160;returns to the&#160;</p>
<p style="position:absolute;top:626px;left:414px;white-space:nowrap" class="ft17699">storage_container</p>
<p style="position:absolute;top:625px;left:582px;white-space:nowrap" class="ft17684">&#160;the&#160;</p>
<p style="position:absolute;top:626px;left:620px;white-space:nowrap" class="ft17699">crypt_handle&#160;</p>
<p style="position:absolute;top:645px;left:85px;white-space:nowrap" class="ft17684">reference of&#160;the created&#160;</p>
<p style="position:absolute;top:647px;left:292px;white-space:nowrap" class="ft17699">crypto_handle</p>
<p style="position:absolute;top:645px;left:421px;white-space:nowrap" class="ft17684">&#160;object.&#160;The&#160;</p>
<p style="position:absolute;top:647px;left:523px;white-space:nowrap" class="ft17699">storage_container</p>
<p style="position:absolute;top:645px;left:692px;white-space:nowrap" class="ft17684">&#160;creates&#160;a&#160;</p>
<p style="position:absolute;top:665px;left:85px;white-space:nowrap" class="ft17684">new&#160;</p>
<p style="position:absolute;top:667px;left:125px;white-space:nowrap" class="ft17699">repository_handle</p>
<p style="position:absolute;top:665px;left:293px;white-space:nowrap" class="ft17684">&#160;object&#160;which bind together a&#160;generated repository&#160;</p>
<p style="position:absolute;top:667px;left:720px;white-space:nowrap" class="ft17699">handle</p>
<p style="position:absolute;top:665px;left:780px;white-space:nowrap" class="ft17684">,&#160;</p>
<p style="position:absolute;top:685px;left:85px;white-space:nowrap" class="ft17684">the&#160;</p>
<p style="position:absolute;top:687px;left:118px;white-space:nowrap" class="ft17699">repository_id</p>
<p style="position:absolute;top:685px;left:246px;white-space:nowrap" class="ft17684">&#160;and the&#160;</p>
<p style="position:absolute;top:687px;left:320px;white-space:nowrap" class="ft17699">crypt_handle</p>
<p style="position:absolute;top:685px;left:439px;white-space:nowrap" class="ft17684">&#160;that&#160;will be used to encrypt/decrypt&#160;data.&#160;</p>
<p style="position:absolute;top:706px;left:85px;white-space:nowrap" class="ft17684">The&#160;</p>
<p style="position:absolute;top:707px;left:121px;white-space:nowrap" class="ft17699">storage_container</p>
<p style="position:absolute;top:706px;left:290px;white-space:nowrap" class="ft17684">&#160;returns the&#160;</p>
<p style="position:absolute;top:707px;left:392px;white-space:nowrap" class="ft17699">handle</p>
<p style="position:absolute;top:706px;left:452px;white-space:nowrap" class="ft17684">&#160;to the&#160;</p>
<p style="position:absolute;top:707px;left:511px;white-space:nowrap" class="ft17699">secured_application</p>
<p style="position:absolute;top:706px;left:699px;white-space:nowrap" class="ft17684">. Such&#160;</p>
<p style="position:absolute;top:726px;left:85px;white-space:nowrap" class="ft17684">handle will be used in&#160;all /UC B0/,&#160;/UC C0/ and /UC D0/&#160;by the&#160;</p>
<p style="position:absolute;top:728px;left:597px;white-space:nowrap" class="ft17699">secured_application</p>
<p style="position:absolute;top:726px;left:785px;white-space:nowrap" class="ft17684">&#160;to&#160;</p>
<p style="position:absolute;top:746px;left:85px;white-space:nowrap" class="ft17684">manipulate&#160;its&#160;protected data.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft17691">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft17691">76/78</p>
</div>
<!-- Page 177 -->
<a name="177"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page177-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2177.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft17790">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft17780">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft17791">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft17791">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft17791">77/78</p>
<p style="position:absolute;top:1071px;left:261px;white-space:nowrap" class="ft17798"><b>Figure&#160;26: /UC&#160;B00/ implementation&#160;-&#160;part B</b></p>
</div>
<!-- Page 178 -->
<a name="178"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page178-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2178.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft17890">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft17880">&#160;</p>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft17891">WP03c.2 High-level key&#160;manager&#160;service&#160;design&#160;specification&#160;FINAL 2.00</p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft17893"><b>&#160;7&#160;&#160;List&#160;of&#160;Abbreviations</b></p>
<p style="position:absolute;top:218px;left:85px;white-space:nowrap" class="ft17887">Listing of term definitions and abbreviations&#160;used in this document&#160;(IT expressions and&#160;<br/>terms&#160;from the application&#160;domain).</p>
<p style="position:absolute;top:266px;left:95px;white-space:nowrap" class="ft17883"><b>Abbreviation</b></p>
<p style="position:absolute;top:266px;left:302px;white-space:nowrap" class="ft17883"><b>Explanation</b></p>
<p style="position:absolute;top:285px;left:95px;white-space:nowrap" class="ft17884">KMA</p>
<p style="position:absolute;top:285px;left:302px;white-space:nowrap" class="ft17884">Key and data&#160;Management Adaptation&#160;layer</p>
<p style="position:absolute;top:304px;left:95px;white-space:nowrap" class="ft17884">OS</p>
<p style="position:absolute;top:304px;left:302px;white-space:nowrap" class="ft17884">Operating System</p>
<p style="position:absolute;top:324px;left:95px;white-space:nowrap" class="ft17884">PKCS</p>
<p style="position:absolute;top:324px;left:302px;white-space:nowrap" class="ft17884">Public&#160;Key Cryptography Standard</p>
<p style="position:absolute;top:343px;left:95px;white-space:nowrap" class="ft17884">SRK</p>
<p style="position:absolute;top:343px;left:302px;white-space:nowrap" class="ft17884">Storage&#160;Root&#160;Keys</p>
<p style="position:absolute;top:362px;left:95px;white-space:nowrap" class="ft17884">SSH</p>
<p style="position:absolute;top:362px;left:302px;white-space:nowrap" class="ft17884">Secure SHell</p>
<p style="position:absolute;top:381px;left:95px;white-space:nowrap" class="ft17884">TCG</p>
<p style="position:absolute;top:381px;left:302px;white-space:nowrap" class="ft17884">Trusted Computing Group</p>
<p style="position:absolute;top:401px;left:95px;white-space:nowrap" class="ft17884">TPM</p>
<p style="position:absolute;top:401px;left:302px;white-space:nowrap" class="ft17884">Trusted Platform&#160;Module</p>
<p style="position:absolute;top:420px;left:95px;white-space:nowrap" class="ft17884">TSS</p>
<p style="position:absolute;top:420px;left:302px;white-space:nowrap" class="ft17884">TCG&#160;Software&#160;Stack</p>
<p style="position:absolute;top:457px;left:85px;white-space:nowrap" class="ft17893"><b>&#160;8&#160;&#160;Related&#160;Work</b></p>
<p style="position:absolute;top:487px;left:85px;white-space:nowrap" class="ft17887">/1/&#160;TCG&#160;TPM Main&#160;Specification (parts&#160;1,2,3)<br/>July 9, 2007,<br/>Version 1.2 Level 2 Revision 103</p>
<p style="position:absolute;top:564px;left:85px;white-space:nowrap" class="ft17887">/2/&#160;IETF&#160;RFC 4251, The Secure Shell (SSH) Protocol&#160;Architecture<br/>January,&#160;2006</p>
<p style="position:absolute;top:622px;left:85px;white-space:nowrap" class="ft17887">/3/&#160;IETF&#160;RFC 2401, Security Architecture for&#160;the Internet Protocol&#160;(IPsec),<br/>November,&#160;1998</p>
<p style="position:absolute;top:679px;left:85px;white-space:nowrap" class="ft17887">/4/&#160;RSAlab&#160;PKCS #11: Cryptographic&#160;Token Interface&#160;Standard<br/>January,&#160;2007<br/>v2.20 and v2.20 Amendment 3, Revision 1</p>
<p style="position:absolute;top:756px;left:85px;white-space:nowrap" class="ft17887">/5/&#160;TCG&#160;Software&#160;Stack&#160;(TSS) Specification<br/>March&#160;7, 2007,<br/>Version 1.2, Level 1, Errata&#160;A</p>
<p style="position:absolute;top:832px;left:85px;white-space:nowrap" class="ft17893"><b>&#160;9&#160;&#160;Acknowledgements</b></p>
<p style="position:absolute;top:862px;left:85px;white-space:nowrap" class="ft17887">The authors&#160;want to&#160;thank Ahmad-Reza&#160;Sadeghi from Rühr University Bochum&#160;and&#160;<br/>Chris Stüble from Sirrix AG for&#160;providing the template used for this document and an&#160;<br/>example on how to use it.&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft17891">Open_TC Deliverable&#160;03c.2</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft17891">78/78</p>
</div>
<!-- Page 179 -->
<a name="179"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page179-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2179.png" alt="background image"/>
<p style="position:absolute;top:139px;left:99px;white-space:nowrap" class="ft17980">&#160;</p>
<p style="position:absolute;top:77px;left:99px;white-space:nowrap" class="ft17981">&#160;</p>
<p style="position:absolute;top:242px;left:179px;white-space:nowrap" class="ft17982"><b>D03c.3&#160;&#160;SSL/TLS&#160;DAA-enhancement&#160;</b></p>
<p style="position:absolute;top:273px;left:350px;white-space:nowrap" class="ft17982"><b>specification</b></p>
<p style="position:absolute;top:351px;left:91px;white-space:nowrap" class="ft17983"><b>Project&#160;number</b></p>
<p style="position:absolute;top:351px;left:425px;white-space:nowrap" class="ft17984">IST-027635</p>
<p style="position:absolute;top:376px;left:91px;white-space:nowrap" class="ft17983"><b>Project&#160;acronym</b></p>
<p style="position:absolute;top:376px;left:425px;white-space:nowrap" class="ft17984">Open_TC</p>
<p style="position:absolute;top:402px;left:91px;white-space:nowrap" class="ft17983"><b>Project&#160;title</b></p>
<p style="position:absolute;top:402px;left:425px;white-space:nowrap" class="ft17984">Open Trusted Computing</p>
<p style="position:absolute;top:427px;left:91px;white-space:nowrap" class="ft17983"><b>Deliverable type</b></p>
<p style="position:absolute;top:427px;left:425px;white-space:nowrap" class="ft17984">Internal deliverable</p>
<p style="position:absolute;top:470px;left:91px;white-space:nowrap" class="ft17983"><b>Deliverable reference&#160;number</b></p>
<p style="position:absolute;top:470px;left:425px;white-space:nowrap" class="ft17984">IST-027635/D03c.3/FINAL&#160;| 1.10</p>
<p style="position:absolute;top:496px;left:91px;white-space:nowrap" class="ft17983"><b>Deliverable title</b></p>
<p style="position:absolute;top:496px;left:425px;white-space:nowrap" class="ft17984">SSL/TLS&#160;DAA-enhancement specification</p>
<p style="position:absolute;top:521px;left:91px;white-space:nowrap" class="ft17983"><b>WP contributing to the&#160;deliverable</b></p>
<p style="position:absolute;top:521px;left:425px;white-space:nowrap" class="ft17984">WP03c</p>
<p style="position:absolute;top:547px;left:91px;white-space:nowrap" class="ft17983"><b>Due date</b></p>
<p style="position:absolute;top:547px;left:425px;white-space:nowrap" class="ft17984">Dec&#160;2006 -&#160;M12</p>
<p style="position:absolute;top:572px;left:91px;white-space:nowrap" class="ft17983"><b>Actual submission&#160;date</b></p>
<p style="position:absolute;top:572px;left:425px;white-space:nowrap" class="ft17984">Jun 30, 2008 (revised version)</p>
<p style="position:absolute;top:615px;left:91px;white-space:nowrap" class="ft17983"><b>Responsible&#160;Organisation</b></p>
<p style="position:absolute;top:615px;left:424px;white-space:nowrap" class="ft17984">POL</p>
<p style="position:absolute;top:641px;left:91px;white-space:nowrap" class="ft17983"><b>Authors</b></p>
<p style="position:absolute;top:641px;left:424px;white-space:nowrap" class="ft17984">Gianluca&#160;Ramunno, Davide Vernizzi (editor)</p>
<p style="position:absolute;top:663px;left:91px;white-space:nowrap" class="ft17983"><b>Abstract</b></p>
<p style="position:absolute;top:663px;left:424px;white-space:nowrap" class="ft17987">This deliverable specifies&#160;the enhancements&#160;<br/>to&#160;TLS protocol&#160;in order to&#160;use DAA for&#160;group&#160;<br/>authentication.</p>
<p style="position:absolute;top:879px;left:91px;white-space:nowrap" class="ft17983"><b>Keywords</b></p>
<p style="position:absolute;top:879px;left:424px;white-space:nowrap" class="ft17984">OPEN_TC, TPM, TLS,&#160;DAA</p>
<p style="position:absolute;top:922px;left:92px;white-space:nowrap" class="ft17983"><b>Dissemination level</b></p>
<p style="position:absolute;top:922px;left:423px;white-space:nowrap" class="ft17984">Public</p>
<p style="position:absolute;top:948px;left:92px;white-space:nowrap" class="ft17983"><b>Revision</b></p>
<p style="position:absolute;top:948px;left:423px;white-space:nowrap" class="ft17984">FINAL&#160;| 1.10</p>
<p style="position:absolute;top:999px;left:90px;white-space:nowrap" class="ft17983"><b>Instrument</b></p>
<p style="position:absolute;top:999px;left:271px;white-space:nowrap" class="ft17984">IP</p>
<p style="position:absolute;top:989px;left:452px;white-space:nowrap" class="ft17989"><b>Start&#160;date of&#160;the&#160;<br/>project</b></p>
<p style="position:absolute;top:999px;left:633px;white-space:nowrap" class="ft17984">1</p>
<p style="position:absolute;top:999px;left:643px;white-space:nowrap" class="ft17985">st</p>
<p style="position:absolute;top:999px;left:652px;white-space:nowrap" class="ft17984">&#160;November 2005</p>
<p style="position:absolute;top:1028px;left:90px;white-space:nowrap" class="ft17983"><b>Thematic&#160;Priority</b></p>
<p style="position:absolute;top:1028px;left:271px;white-space:nowrap" class="ft17984">IST</p>
<p style="position:absolute;top:1028px;left:452px;white-space:nowrap" class="ft17983"><b>Duration</b></p>
<p style="position:absolute;top:1028px;left:633px;white-space:nowrap" class="ft17984">42 months</p>
<p style="position:absolute;top:75px;left:674px;white-space:nowrap" class="ft17986">&#160;</p>
</div>
<!-- Page 180 -->
<a name="180"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft180102{font-size:17px;line-height:23px;font-family:DAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page180-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2180.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft18090">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft18080">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft18091">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft18091">FINAL |&#160;1.10</p>
<p style="position:absolute;top:167px;left:83px;white-space:nowrap" class="ft18092"><b>Table&#160;of Contents</b></p>
<p style="position:absolute;top:204px;left:83px;white-space:nowrap" class="ft180102">1 &#160;Introduction.................................................................................................................&#160;4<br/>2 &#160;The Direct&#160;Anonymous Attestation&#160;(DAA) protocol.....................................................&#160;4<br/>3 &#160; Using the DAA for authentication...............................................................................&#160;5</p>
<p style="position:absolute;top:270px;left:92px;white-space:nowrap" class="ft18087">3.1 &#160;Application&#160;scenario...............................................................................................&#160;5<br/>3.2 &#160;Combining TLS&#160;and DAA protocols.........................................................................&#160;6</p>
<p style="position:absolute;top:313px;left:83px;white-space:nowrap" class="ft18084">4 &#160;Enhancing TLS protocol&#160;(informative).........................................................................&#160;6</p>
<p style="position:absolute;top:332px;left:92px;white-space:nowrap" class="ft18087">4.1 &#160;TLS protocol............................................................................................................&#160;6<br/>4.2 &#160;Hello&#160;extensions.....................................................................................................&#160;6<br/>4.3 &#160;Supplemental data&#160;message..................................................................................&#160;9</p>
<p style="position:absolute;top:394px;left:83px;white-space:nowrap" class="ft18084">5 &#160;DAA-enhanced TLS&#160;(DAA-TLS)...................................................................................&#160;10</p>
<p style="position:absolute;top:413px;left:92px;white-space:nowrap" class="ft18087">5.1 &#160;Overview..............................................................................................................&#160;10<br/>5.2 &#160;Summary&#160;of&#160;DAA-TLS&#160;capabilities and protocol&#160;flow............................................&#160;11<br/>5.3 &#160;Binding between TLS&#160;channel and DAA authentication........................................&#160;13<br/>5.4 &#160;Verification&#160;of the authentication.........................................................................&#160;14<br/>5.5 &#160;Definition of the hello extension&#160;DAAAuth............................................................&#160;14<br/>5.6 &#160;Definition of the supplemental data&#160;entry&#160;DAAAuth.............................................&#160;16<br/>5.7 &#160;DAA-TLS handshake.............................................................................................&#160;18</p>
<p style="position:absolute;top:552px;left:83px;white-space:nowrap" class="ft18084">6 &#160;Specification&#160;of TCG TSS/TPM DAA&#160;profile for DAA-TLS.............................................&#160;18</p>
<p style="position:absolute;top:571px;left:92px;white-space:nowrap" class="ft18087">6.1 &#160;Profile requirements and specification.................................................................&#160;19<br/>6.2 &#160;Prerequisites for&#160;using TSS functions&#160;for DAA-TLS................................................20<br/>6.3 &#160;Nonce generation&#160;and basename.........................................................................&#160;20<br/>6.4 &#160;DAA signature.......................................................................................................&#160;21<br/>6.5 &#160;Signature verification...........................................................................................&#160;22<br/>6.6 &#160;Data encoding/decoding.......................................................................................&#160;23</p>
<p style="position:absolute;top:686px;left:101px;white-space:nowrap" class="ft18087">6.6.1 &#160;Basic&#160;data types..............................................................................................&#160;23<br/>6.6.2 &#160;Complex types.................................................................................................&#160;24</p>
<p style="position:absolute;top:724px;left:109px;white-space:nowrap" class="ft18087">6.6.2.1 &#160;DAA Signature&#160;(normative).........................................................................&#160;24<br/>6.6.2.2 &#160;DAA Issuer&#160;Public&#160;Key (informative)............................................................&#160;25</p>
<p style="position:absolute;top:767px;left:83px;white-space:nowrap" class="ft18084">7 &#160;Security considerations.............................................................................................&#160;26</p>
<p style="position:absolute;top:786px;left:92px;white-space:nowrap" class="ft18087">7.1 &#160;Endorsement Key (EK) exposure..........................................................................&#160;26<br/>7.2 &#160;Basename&#160;and DAA signature..............................................................................&#160;26</p>
<p style="position:absolute;top:829px;left:83px;white-space:nowrap" class="ft180102">8 &#160;IANA&#160;considerations..................................................................................................&#160;27<br/>9 &#160;List&#160;of abbreviations..................................................................................................&#160;28<br/>10 &#160;Referenced Documents...........................................................................................&#160;28<br/>Annex A (normative) DAAAuth extension and supplemental data&#160;entry specification..&#160;29<br/>Annex B (normative)&#160;ASN.1 module for&#160;DAAsignature Portable&#160;Data...........................&#160;29</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft18091">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:773px;white-space:nowrap" class="ft18091">2/28</p>
</div>
<!-- Page 181 -->
<a name="181"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page181-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2181.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft18190">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft18180">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft18191">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft18191">FINAL |&#160;1.10</p>
<p style="position:absolute;top:167px;left:83px;white-space:nowrap" class="ft18192"><b>List&#160;of figures</b></p>
<p style="position:absolute;top:200px;left:83px;white-space:nowrap" class="ft18187">Figure 1: Messages&#160;exchanged during the TLS&#160;handshake protocol...............................&#160;7<br/>Figure 2: Supplemental data&#160;exchange in TLS handshake protocol................................&#160;9<br/>Figure 3: TLS extended to support&#160;DAA authentication&#160;(DAA-TLS)...............................&#160;12<br/>Figure 4: TCG TSS/TPM DAA profile for&#160;DAA-TLS: TLS handshake and TSS calls...........&#160;20</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft18191">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:773px;white-space:nowrap" class="ft18191">3/28</p>
</div>
<!-- Page 182 -->
<a name="182"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft182103{font-size:21px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page182-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2182.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft18290">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft18280">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft18291">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft18291">FINAL |&#160;1.10</p>
<p style="position:absolute;top:167px;left:83px;white-space:nowrap" class="ft182103"><b>1&#160;&#160;&#160;Introduction</b></p>
<p style="position:absolute;top:200px;left:83px;white-space:nowrap" class="ft18287">Secure channels&#160;allow&#160;two or&#160;more entities to&#160;communicate&#160;securely over&#160;insecure&#160;<br/>networks. These channels&#160;use cryptographic&#160;primitives to&#160;provide confidentiality,&#160;<br/>integrity and authentication of network messages.&#160;Trusted Computing (TC) technology&#160;<br/>allows&#160;to extend the network&#160;protection to&#160;the peers&#160;involved in the communication.&#160;<br/>TC, in facts,&#160;allows&#160;a platform&#160;with TC-enabled hardware to&#160;provide cryptographic&#160;<br/>proofs&#160;about&#160;its&#160;behavior.&#160;Using these information,&#160;the counterpart&#160;can&#160;be guaranteed&#160;<br/>about&#160;the security&#160;of the message&#160;not only while it is transmitted,&#160;but also&#160;after it is&#160;<br/>received on the TC-platform.</p>
<p style="position:absolute;top:381px;left:83px;white-space:nowrap" class="ft182103"><b>2&#160;&#160;&#160;The Direct Anonymous Attestation&#160;(DAA) protocol</b></p>
<p style="position:absolute;top:414px;left:83px;white-space:nowrap" class="ft18288">Direct&#160;Anonymous&#160;Attestation&#160;(DAA)&#160;([6]) is a&#160;privacy-friendly protocol&#160;that&#160;was&#160;<br/>designed to overcome&#160;the privacy&#160;issues&#160;of the privacy&#160;CA. In particular,&#160;the main&#160;<br/>problem related&#160;with the use of a&#160;privacy&#160;CA, is that it is possible for&#160;the privacy&#160;CA to&#160;<br/>disclose sensitive data that&#160;could allow a third party&#160;to link different remote attestation&#160;<br/>made by the same platform&#160;and, therefore, breaking the platform's&#160;privacy.&#160;DAA&#160;<br/>overcomes&#160;this problem using a&#160;zero-knowledge proof.<br/>In this section&#160;is given an&#160;overview of the DAA protocol&#160;and describe how this protocol&#160;<br/>can&#160;be used to&#160;provide anonymous&#160;authentication.<br/>The DAA scheme involves&#160;four&#160;principals, three mandatory&#160;and one optional:</p>
<p style="position:absolute;top:617px;left:110px;white-space:nowrap" class="ft18294">●</p>
<p style="position:absolute;top:614px;left:137px;white-space:nowrap" class="ft18284">TC-platform&#160;equipped with a TPM</p>
<p style="position:absolute;top:646px;left:110px;white-space:nowrap" class="ft18294">●</p>
<p style="position:absolute;top:643px;left:137px;white-space:nowrap" class="ft18284">DAA issuer</p>
<p style="position:absolute;top:674px;left:110px;white-space:nowrap" class="ft18294">●</p>
<p style="position:absolute;top:671px;left:137px;white-space:nowrap" class="ft18284">Verifier</p>
<p style="position:absolute;top:703px;left:110px;white-space:nowrap" class="ft18294">●</p>
<p style="position:absolute;top:700px;left:137px;white-space:nowrap" class="ft18284">A&#160;revocation&#160;authority. This last entity is optional</p>
<p style="position:absolute;top:728px;left:83px;white-space:nowrap" class="ft18287">The purpose&#160;of the DAA&#160;is to convince the verifier&#160;that a&#160;signature received from the&#160;<br/>TC-platform&#160;was&#160;made using a genuine TPM, without revealing the actual identity of&#160;<br/>the platform&#160;(in TCG architecture&#160;the identity of a platform&#160;is represented by the&#160;<br/>endorsement key (EK) of the TPM).<br/>The DAA is composed&#160;of two&#160;protocols:&#160;the Join protocol&#160;and the Sign protocol.<br/>The Join protocol&#160;happens between the platform&#160;and the issuer and results in the TC-<br/>platform&#160;receiving a DAA credential, so it can&#160;authenticate&#160;to Verifiers.&#160;In details, the&#160;<br/>issuer checks&#160;that the platform&#160;is equipped with a genuine TPM and, if this&#160;is the case,&#160;<br/>issues to&#160;the TPM&#160;the DAA&#160;credentials. This protocol&#160;occurs&#160;once for&#160;a TC-platform&#160;and&#160;<br/>has&#160;to happen before it can meaningfully interact&#160;with Verifiers.&#160;<br/>The Sign protocol&#160;allows a&#160;verifier&#160;to decide if a signature received from&#160;a TC-platform&#160;<br/>was&#160;made using a&#160;genuine TPM or&#160;no. Unlike with other protocols&#160;(e.g. those&#160;involving&#160;<br/>the use of an AIK),&#160;the Verifier does not&#160;need to see the DAA credential, but&#160;the proof&#160;<br/>of the existence of the credentials&#160;is provided through a zero-knowledge proof.<br/>In detail, the DAA signature is a&#160;group signature that&#160;provides&#160;to the verifier&#160;an&#160;<br/>evidence that&#160;the platform&#160;belongs to the group of platforms&#160;that received the DAA&#160;<br/>credentials from&#160;a particular&#160;issuer.<br/>DAA provides both complete anonymity&#160;and pseudonymity. The complete anonymity&#160;<br/>means&#160;that the verifier&#160;can only verify if the platform&#160;that made the DAA signature&#160;</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft18291">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:773px;white-space:nowrap" class="ft18291">4/28</p>
</div>
<!-- Page 183 -->
<a name="183"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft183104{font-size:20px;font-family:FAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page183-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2183.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft18390">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft18380">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft18391">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft18391">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:83px;white-space:nowrap" class="ft18387">belongs&#160;to the group of platforms&#160;that received the DAA credentials from the issuer.&#160;<br/>Therefore&#160;each issuer represents&#160;a group of platforms,&#160;but each platform&#160;can&#160;belong to&#160;<br/>different groups through DAA credentials&#160;obtained from&#160;different .<br/>The pseudonymous&#160;option allows a&#160;verifier&#160;to link together different signatures&#160;made&#160;<br/>by the same platform.&#160;Notably,&#160;the verifier can&#160;recognize the pseudonym under&#160;which&#160;<br/>a&#160;particular platform&#160;made a signature and link it to previous&#160;signatures&#160;made by the&#160;<br/>same&#160;pseudonym,&#160;but it is not possible for the verifier,&#160;to link the pseudonym with the&#160;<br/>actual&#160;platform.<br/>Furthermore,&#160;the DAA&#160;signature can&#160;selectively provide a&#160;zero-knowledge proof on a&#160;<br/>subset of the attributes that&#160;belongs to&#160;the DAA certificate;&#160;for instance, it is possible&#160;<br/>to&#160;prove that the expiration&#160;date of a DAA Credential has&#160;not been reached, without&#160;<br/>revealing it.<br/>Finally,&#160;the DAA protocol&#160;allows&#160;to use a&#160;trusted third party&#160;as&#160;a revocation&#160;authority&#160;<br/>(RA).&#160;The RA&#160;can&#160;revoke the anonymity or&#160;the pseudonymity provided by the DAA&#160;<br/>credentials under particular&#160;circumstances&#160;determined by a&#160;policy.&#160;When the RA&#160;is&#160;<br/>used, the platform&#160;encrypts&#160;its&#160;identity using the public key of the RA;&#160;the verifier&#160;then&#160;<br/>can&#160;forward&#160;the encrypted identity of the platform&#160;to&#160;the revocation&#160;authority&#160;that&#160;<br/>reveals the identity&#160;of the platform&#160;if the circumstances&#160;determined by the policy&#160;<br/>apply.<br/>Note&#160;that in this version of the document, neither the attributes or&#160;the revocation&#160;<br/>authority&#160;are used.</p>
<p style="position:absolute;top:615px;left:83px;white-space:nowrap" class="ft183103"><b>3&#160;&#160;&#160;&#160;Using the DAA&#160;for authentication</b></p>
<p style="position:absolute;top:649px;left:83px;white-space:nowrap" class="ft18387">It&#160;is possible to&#160;use the DAA to&#160;authenticate&#160;a platform,&#160;and therefore to&#160;authenticate&#160;<br/>its owner, while guaranteeing its privacy.&#160;In general, a&#160;TC-enabled platform&#160;receives&#160;<br/>the DAA credentials&#160;from an issuer, and many&#160;different verifiers challenge the platform&#160;<br/>to&#160;verify if it belongs&#160;to the group of platforms&#160;that received the DAA credentials from&#160;<br/>that&#160;issuer;&#160;the TPM&#160;guarantees&#160;that&#160;the DAA credentials cannot&#160;be shared&#160;with other&#160;<br/>platforms&#160;and actually&#160;belong to the platform,&#160;while the DAA&#160;protocol&#160;guarantees&#160;that&#160;<br/>it is not possible to link one challenge to&#160;the actual&#160;identity of the platform,&#160;preserving&#160;<br/>the privacy&#160;of the platform.<br/>The DAA signature allows&#160;a verifier to&#160;authenticate&#160;the platform&#160;that made the&#160;<br/>signature w.r.t. a&#160;group of platforms&#160;(i.e. those that&#160;received the credentials from&#160;a&#160;<br/>particular&#160;issuer), and the platform&#160;is assured that&#160;it is not possible to&#160;link such&#160;<br/>authentication to&#160;its real identity.</p>
<p style="position:absolute;top:915px;left:83px;white-space:nowrap" class="ft183104"><i><b>3.1&#160;&#160;&#160;Application scenario</b></i></p>
<p style="position:absolute;top:946px;left:83px;white-space:nowrap" class="ft18387">A&#160;possible scenario&#160;for a&#160;DAA-based&#160;authentication&#160;for a service is&#160;the following: a&#160;<br/>company&#160;wants&#160;to&#160;allow access&#160;to&#160;the internal network only to&#160;authorized platforms.&#160;<br/>This requirement can&#160;be fulfilled using a&#160;TPM-enabled platform&#160;and the DAA protocol:</p>
<p style="position:absolute;top:1013px;left:110px;white-space:nowrap" class="ft18384">1.&#160;The company&#160;issues a DAA&#160;certificate&#160;to each&#160;laptop&#160;before giving it to the&#160;</p>
<p style="position:absolute;top:1032px;left:137px;white-space:nowrap" class="ft18384">employee.</p>
<p style="position:absolute;top:1060px;left:110px;white-space:nowrap" class="ft18384">2.&#160;The company&#160;verifies that only allowed platforms&#160;(i.e. those&#160;that received a&#160;DAA&#160;</p>
<p style="position:absolute;top:1080px;left:137px;white-space:nowrap" class="ft18384">certificate) access&#160;the network&#160;with a&#160;DAA&#160;challenge.</p>
<p style="position:absolute;top:1108px;left:83px;white-space:nowrap" class="ft18384">In this scenario,&#160;the company&#160;is assured that&#160;only&#160;certified laptops&#160;can&#160;access&#160;the&#160;</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft18391">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:773px;white-space:nowrap" class="ft18391">5/28</p>
</div>
<!-- Page 184 -->
<a name="184"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft184105{font-size:17px;font-family:GAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page184-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2184.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft18490">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft18480">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft18491">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft18491">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:83px;white-space:nowrap" class="ft18487">network, and the employees are guaranteed that&#160;the company&#160;can&#160;not link the&#160;<br/>authentication to&#160;their specific&#160;platform.&#160;The company&#160;might&#160;also desire to link the&#160;<br/>accesses&#160;to&#160;different services provided to the remote users. In&#160;this case&#160;the&#160;<br/>pseudonymous option provided by DAA can&#160;meet the requirement.</p>
<p style="position:absolute;top:253px;left:83px;white-space:nowrap" class="ft184104"><i><b>3.2&#160;&#160;&#160;Combining&#160;TLS and DAA protocols</b></i></p>
<p style="position:absolute;top:285px;left:83px;white-space:nowrap" class="ft18487">An implementation of a&#160;protocol&#160;for anonymous&#160;authentication&#160;through the DAA&#160;<br/>signature is possible by enhancing the TLS protocol&#160;(see [3]) to implement the&#160;<br/>concepts&#160;described in section&#160;5. Using the TLS protocol&#160;has many&#160;advantages:&#160;it is&#160;<br/>widely supported, many open source&#160;implementations&#160;are available and it is possible&#160;<br/>to&#160;extend the protocol&#160;without&#160;losing backward&#160;compatibility.<br/>The latter point in particular&#160;is helpful because&#160;allows&#160;to&#160;design a protocol&#160;that&#160;can&#160;be&#160;<br/>used when a TPM&#160;is available to&#160;provide anonymous&#160;authentication, but can&#160;also work&#160;<br/>on platforms&#160;without TC-enabled hardware&#160;providing classical&#160;authentication.&#160;<br/>Moreover,&#160;TLS also&#160;provides&#160;confidentiality and integrity of&#160;the messages&#160;exchanged&#160;<br/>on the channel.</p>
<p style="position:absolute;top:512px;left:83px;white-space:nowrap" class="ft184103"><b>4&#160;&#160;&#160;Enhancing TLS&#160;protocol (informative)</b></p>
<p style="position:absolute;top:564px;left:83px;white-space:nowrap" class="ft184104"><i><b>4.1&#160;&#160;&#160;TLS protocol</b></i></p>
<p style="position:absolute;top:595px;left:83px;white-space:nowrap" class="ft18487">The Transport&#160;Layer&#160;Security (TLS) protocol&#160;implements a&#160;secure channel, a&#160;<br/>client/server&#160;communication&#160;guaranteeing authenticity,&#160;integrity&#160;and confidentiality of&#160;<br/>the exchanged data.&#160;Two&#160;main and subsequent phases&#160;can&#160;be identified: during the&#160;<br/>first one, a&#160;</p>
<p style="position:absolute;top:653px;left:178px;white-space:nowrap" class="ft184105"><i>handshake</i></p>
<p style="position:absolute;top:653px;left:268px;white-space:nowrap" class="ft18484">&#160;protocol&#160;is run by peers&#160;to authenticate themselves to each&#160;</p>
<p style="position:absolute;top:672px;left:83px;white-space:nowrap" class="ft18488">other and agree on a&#160;session key; then, once the handshake is completed, the&#160;<br/>communication&#160;begins and the peers&#160;exchange messages&#160;over the established secure&#160;<br/>channel.<br/><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#185">In&#160;Figure 1&#160;a diagr</a>am&#160;shows&#160;the messages&#160;exchanged by client&#160;and server during the&#160;<br/>TLS&#160;handshake.<br/>It&#160;is possible to&#160;extend the TLS handshake by defining:</p>
<p style="position:absolute;top:814px;left:110px;white-space:nowrap" class="ft18488">1.&#160;extensions to the hello messages&#160;according&#160;to the framework specified in&#160;[4]<br/>2.&#160;new data&#160;units carried&#160;over an additional handshake message,&#160;called&#160;</p>
<p style="position:absolute;top:862px;left:137px;white-space:nowrap" class="ft18487">supplemental data&#160;and specified in [5], which can&#160;be exchanged between client&#160;<br/>and the server in&#160;both&#160;directions&#160;</p>
<p style="position:absolute;top:909px;left:83px;white-space:nowrap" class="ft18487">All definitions recalled in the following are&#160;expressed using the Presentation Language&#160;<br/>specified and used in [3].</p>
<p style="position:absolute;top:974px;left:83px;white-space:nowrap" class="ft184104"><i><b>4.2&#160;&#160;&#160;Hello&#160;extensions</b></i></p>
<p style="position:absolute;top:1006px;left:83px;white-space:nowrap" class="ft18487">The hello&#160;extensions consist&#160;of&#160;additional data&#160;that may&#160;be used to&#160;add functionalities&#160;<br/>to&#160;TLS and are designed to be backwards&#160;compatible. Indeed the extensions&#160;must be&#160;<br/>negotiated: therefore TLS&#160;clients supporting the extensions can&#160;communicate&#160;with TLS&#160;<br/>servers&#160;not supporting them&#160;and vice versa.</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft18491">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:773px;white-space:nowrap" class="ft18491">6/28</p>
</div>
<!-- Page 185 -->
<a name="185"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft185106{font-size:17px;font-family:HAAAAA+BitstreamVeraSansMono;color:#000000;}
	.ft185107{font-size:15px;font-family:GAAAAA+BitstreamVeraSans;color:#000000;}
	.ft185108{font-size:17px;line-height:19px;font-family:HAAAAA+BitstreamVeraSansMono;color:#000000;}
-->
</style>
<div id="page185-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2185.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft18590">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft18580">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft18591">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft18591">FINAL |&#160;1.10</p>
<p style="position:absolute;top:727px;left:83px;white-space:nowrap" class="ft18584">The extended client hello&#160;message format&#160;is:&#160;</p>
<p style="position:absolute;top:764px;left:105px;white-space:nowrap" class="ft185106"><b>struct&#160;{</b></p>
<p style="position:absolute;top:783px;left:158px;white-space:nowrap" class="ft185108"><b>ProtocolVersion&#160;client_version;<br/>Random&#160;random;<br/>SessionID&#160;session_id;<br/>CipherSuite&#160;cipher_suites&lt;2..2^16-1&gt;;<br/>CompressionMethod&#160;compression_methods&lt;1..2^8-1&gt;;<br/>Extension&#160;client_hello_extension_list&lt;0..2^16-1&gt;;</b></p>
<p style="position:absolute;top:898px;left:105px;white-space:nowrap" class="ft185106"><b>}&#160;ClientHello;</b></p>
<p style="position:absolute;top:935px;left:83px;white-space:nowrap" class="ft18584">and, symmetrically,&#160;the extended server hello message&#160;format&#160;is:</p>
<p style="position:absolute;top:972px;left:105px;white-space:nowrap" class="ft185106"><b>struct&#160;{</b></p>
<p style="position:absolute;top:992px;left:158px;white-space:nowrap" class="ft185108"><b>ProtocolVersion&#160;server_version;<br/>Random&#160;random;<br/>SessionID&#160;session_id;<br/>CipherSuite&#160;cipher_suite;<br/>CompressionMethod&#160;compression_method;<br/>Extension&#160;server_hello_extension_list&lt;0..2^16-1&gt;;</b></p>
<p style="position:absolute;top:1107px;left:105px;white-space:nowrap" class="ft185106"><b>}&#160;ServerHello;</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft18591">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:773px;white-space:nowrap" class="ft18591">7/28</p>
<p style="position:absolute;top:659px;left:195px;white-space:nowrap" class="ft185107"><i>Figure&#160;1: Messages&#160;exchanged&#160;during&#160;the TLS handshake&#160;protocol</i></p>
</div>
<!-- Page 186 -->
<a name="186"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page186-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2186.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft18690">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft18680">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft18691">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft18691">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:83px;white-space:nowrap" class="ft18684">where&#160;</p>
<p style="position:absolute;top:149px;left:140px;white-space:nowrap" class="ft186106"><b>client_hello_extensions_list</b></p>
<p style="position:absolute;top:149px;left:418px;white-space:nowrap" class="ft18684">&#160;and&#160;</p>
<p style="position:absolute;top:149px;left:460px;white-space:nowrap" class="ft186106"><b>server_hello_extension_list&#160;</b></p>
<p style="position:absolute;top:168px;left:83px;white-space:nowrap" class="ft18688">represent the new field containing a list of extensions,&#160;while the other fields have the&#160;<br/>same&#160;meaning as&#160;in the base TLS specification&#160;([3]).<br/>Each extension is defined as:</p>
<p style="position:absolute;top:253px;left:105px;white-space:nowrap" class="ft186106"><b>struct&#160;{</b></p>
<p style="position:absolute;top:272px;left:158px;white-space:nowrap" class="ft186108"><b>ExtensionType&#160;extension_type;<br/>opaque&#160;extension_data&lt;0..2^16-1&gt;;</b></p>
<p style="position:absolute;top:310px;left:105px;white-space:nowrap" class="ft186106"><b>}&#160;Extension;</b></p>
<p style="position:absolute;top:348px;left:83px;white-space:nowrap" class="ft18684">where&#160;</p>
<p style="position:absolute;top:348px;left:140px;white-space:nowrap" class="ft186106"><b>extension_type</b></p>
<p style="position:absolute;top:348px;left:279px;white-space:nowrap" class="ft18684">&#160;is (the unique identifier of) the type of the extension and&#160;</p>
<p style="position:absolute;top:367px;left:83px;white-space:nowrap" class="ft186106"><b>extension_data</b></p>
<p style="position:absolute;top:367px;left:223px;white-space:nowrap" class="ft18684">&#160;contains&#160;data specific for&#160;the particular&#160;extension type.</p>
<p style="position:absolute;top:395px;left:83px;white-space:nowrap" class="ft18684">Clients and servers&#160;using the extensions must&#160;adhere to&#160;the following rules:</p>
<p style="position:absolute;top:423px;left:110px;white-space:nowrap" class="ft18684">1.&#160;if the client wants&#160;to&#160;request the server extended functionalities,&#160;its&#160;sends&#160;the&#160;</p>
<p style="position:absolute;top:442px;left:137px;white-space:nowrap" class="ft18684">extended client hello message&#160;instead of the standard&#160;hello message</p>
<p style="position:absolute;top:471px;left:110px;white-space:nowrap" class="ft18684">2.&#160;if the server supports&#160;the extended functionalities required by the client, it may&#160;</p>
<p style="position:absolute;top:490px;left:137px;white-space:nowrap" class="ft18687">reply with an extended server hello that&#160;contains&#160;a subset of the extensions&#160;<br/>sent by the client in order&#160;to signal to the latter which&#160;functionalities will be&#160;<br/>provided</p>
<p style="position:absolute;top:556px;left:83px;white-space:nowrap" class="ft18688">The extended server hello&#160;message can&#160;only&#160;be sent in response to&#160;received extended&#160;<br/>client&#160;hello message&#160;and cannot&#160;contain any&#160;extension that was&#160;not previously&#160;<br/>requested by the client. The complete definition of the TLS&#160;extension framework&#160;is&#160;<br/>specified&#160;in [4].<br/>Each&#160;</p>
<p style="position:absolute;top:642px;left:129px;white-space:nowrap" class="ft186106"><b>Extension</b></p>
<p style="position:absolute;top:642px;left:218px;white-space:nowrap" class="ft18684">&#160;must be defined by explicit&#160;specification.&#160;Five new extensions are&#160;</p>
<p style="position:absolute;top:661px;left:83px;white-space:nowrap" class="ft18684">specified in&#160;[4].</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft18691">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:773px;white-space:nowrap" class="ft18691">8/28</p>
</div>
<!-- Page 187 -->
<a name="187"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page187-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2187.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft18790">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft18780">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft18791">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft18791">FINAL |&#160;1.10</p>
<p style="position:absolute;top:744px;left:83px;white-space:nowrap" class="ft187104"><i><b>4.3&#160;&#160;&#160;Supplemental data message</b></i></p>
<p style="position:absolute;top:775px;left:83px;white-space:nowrap" class="ft18788">The supplemental&#160;data is an&#160;additional message of&#160;the TLS handshake, specified in [5],&#160;<br/>to&#160;carry&#160;extra&#160;authentication&#160;and/or&#160;authorization data&#160;units for&#160;the application&#160;<br/>establishing the secure channel.<br/>Different&#160;data units,&#160;called supplemental data&#160;entries,&#160;can be transferred from&#160;server&#160;<br/>to&#160;client and vice versa:&#160;however, for&#160;each direction&#160;all supplemental data&#160;entries must&#160;<br/>be carried over&#160;a single message exchanged during the handshake, as&#160;shown in&#160;<br/><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#187">Figure 2.<br/></a>The supplemental&#160;data message&#160;is defined as:</p>
<p style="position:absolute;top:965px;left:105px;white-space:nowrap" class="ft187106"><b>struct&#160;{</b></p>
<p style="position:absolute;top:984px;left:158px;white-space:nowrap" class="ft187106"><b>SupplementalDataEntry&#160;supp_data&lt;1..2^24-1&gt;;</b></p>
<p style="position:absolute;top:1003px;left:105px;white-space:nowrap" class="ft187106"><b>}&#160;SupplementalData;</b></p>
<p style="position:absolute;top:1040px;left:83px;white-space:nowrap" class="ft18784">where&#160;</p>
<p style="position:absolute;top:1040px;left:140px;white-space:nowrap" class="ft187106"><b>supp_data</b></p>
<p style="position:absolute;top:1040px;left:229px;white-space:nowrap" class="ft18784">&#160;is a&#160;list of items defined as:</p>
<p style="position:absolute;top:1077px;left:105px;white-space:nowrap" class="ft187106"><b>struct&#160;{</b></p>
<p style="position:absolute;top:1097px;left:158px;white-space:nowrap" class="ft187108"><b>SupplementalDataType&#160;supp_data_type;<br/>uint16&#160;supp_data_length;</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft18791">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:773px;white-space:nowrap" class="ft18791">9/28</p>
<p style="position:absolute;top:700px;left:198px;white-space:nowrap" class="ft187107"><i>Figure&#160;2:&#160;Supplemental&#160;data&#160;exchange&#160;in TLS handshake&#160;protocol</i></p>
</div>
<!-- Page 188 -->
<a name="188"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page188-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2188.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft18890">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft18880">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft18891">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft18891">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:158px;white-space:nowrap" class="ft188106"><b>select(SupplementalDataType)&#160;{&#160;}</b></p>
<p style="position:absolute;top:168px;left:105px;white-space:nowrap" class="ft188106"><b>}&#160;SupplementalDataEntry;</b></p>
<p style="position:absolute;top:214px;left:105px;white-space:nowrap" class="ft188106"><b>enum&#160;{</b></p>
<p style="position:absolute;top:234px;left:158px;white-space:nowrap" class="ft188106"><b>(65535)</b></p>
<p style="position:absolute;top:253px;left:105px;white-space:nowrap" class="ft188106"><b>}&#160;SupplementalDataType;</b></p>
<p style="position:absolute;top:290px;left:83px;white-space:nowrap" class="ft18884">Each&#160;</p>
<p style="position:absolute;top:290px;left:129px;white-space:nowrap" class="ft188106"><b>SupplementalDataEntry</b></p>
<p style="position:absolute;top:290px;left:338px;white-space:nowrap" class="ft18884">&#160;is defined by a unique type (</p>
<p style="position:absolute;top:290px;left:580px;white-space:nowrap" class="ft188106"><b>supp_data_type</b></p>
<p style="position:absolute;top:290px;left:719px;white-space:nowrap" class="ft18884">) and&#160;</p>
<p style="position:absolute;top:309px;left:83px;white-space:nowrap" class="ft18884">includes the length (</p>
<p style="position:absolute;top:309px;left:254px;white-space:nowrap" class="ft188106"><b>supp_data_length</b></p>
<p style="position:absolute;top:309px;left:413px;white-space:nowrap" class="ft18884">) and the value&#160;</p>
<p style="position:absolute;top:328px;left:83px;white-space:nowrap" class="ft18884">(</p>
<p style="position:absolute;top:328px;left:90px;white-space:nowrap" class="ft188106"><b>select&#160;(SupplementalDataType)&#160;{ }</b></p>
<p style="position:absolute;top:328px;left:418px;white-space:nowrap" class="ft18884">).</p>
<p style="position:absolute;top:356px;left:83px;white-space:nowrap" class="ft18884">If present, the&#160;</p>
<p style="position:absolute;top:356px;left:205px;white-space:nowrap" class="ft188106"><b>SupplementalData</b></p>
<p style="position:absolute;top:356px;left:364px;white-space:nowrap" class="ft18884">&#160;message must&#160;contain at&#160;least&#160;one non empty&#160;</p>
<p style="position:absolute;top:376px;left:83px;white-space:nowrap" class="ft188106"><b>SupplementalDataEntry</b></p>
<p style="position:absolute;top:376px;left:292px;white-space:nowrap" class="ft18884">&#160;which is then used by the application.</p>
<p style="position:absolute;top:404px;left:83px;white-space:nowrap" class="ft18884">Each&#160;</p>
<p style="position:absolute;top:404px;left:129px;white-space:nowrap" class="ft188106"><b>SupplementalDataEntry</b></p>
<p style="position:absolute;top:404px;left:338px;white-space:nowrap" class="ft18884">&#160;must be negotiated between client and server via&#160;</p>
<p style="position:absolute;top:423px;left:83px;white-space:nowrap" class="ft18884">specific hello extension; receiving an unexpected&#160;</p>
<p style="position:absolute;top:423px;left:498px;white-space:nowrap" class="ft188106"><b>SupplementalDataEntry</b></p>
<p style="position:absolute;top:423px;left:707px;white-space:nowrap" class="ft18884">&#160;must result&#160;</p>
<p style="position:absolute;top:442px;left:83px;white-space:nowrap" class="ft18888">in a fatal error,&#160;and the receiver must&#160;close the connection.<br/>Furthermore,&#160;supplemental&#160;data entries&#160;must not be evaluated&#160;during (and interfere&#160;<br/>with) the TLS&#160;handshake by the protocol&#160;implementation&#160;but&#160;only at&#160;the end of the&#160;<br/>handshake and by the applications.<br/>Each&#160;</p>
<p style="position:absolute;top:537px;left:129px;white-space:nowrap" class="ft188106"><b>SupplementalDataEntry</b></p>
<p style="position:absolute;top:537px;left:338px;white-space:nowrap" class="ft18884">&#160;must be defined by explicit&#160;specification.&#160;Supplemental&#160;</p>
<p style="position:absolute;top:556px;left:83px;white-space:nowrap" class="ft18887">data&#160;entries&#160;can be sent&#160;by client and/or server&#160;according&#160;to their&#160;definition. The&#160;<br/>supplemental data&#160;message must&#160;be sent by either party&#160;(client/server) to&#160;the other&#160;<br/>one according to&#160;which data&#160;entries have to&#160;be carried&#160;in each direction.</p>
<p style="position:absolute;top:641px;left:83px;white-space:nowrap" class="ft188103"><b>5&#160;&#160;&#160;DAA-enhanced TLS&#160;(DAA-TLS)</b></p>
<p style="position:absolute;top:692px;left:83px;white-space:nowrap" class="ft188104"><i><b>5.1&#160;&#160;&#160;Overview</b></i></p>
<p style="position:absolute;top:724px;left:83px;white-space:nowrap" class="ft18884">TLS&#160;supports&#160;different key exchange and authentication&#160;methods.&#160;</p>
<p style="position:absolute;top:724px;left:637px;white-space:nowrap" class="ft188106"><b>DH_anon</b></p>
<p style="position:absolute;top:724px;left:706px;white-space:nowrap" class="ft18884">&#160;key&#160;</p>
<p style="position:absolute;top:743px;left:83px;white-space:nowrap" class="ft18887">exchange implies&#160;non-authenticated&#160;(i.e. anonymous)&#160;TLS sessions.&#160;Any other key&#160;<br/>exchange algorithm, instead, implies&#160;server authentication&#160;being mandatory&#160;and client&#160;<br/>authentication being optional.<br/>Enhancing TLS with DAA leads to additional authentication&#160;methods. In this document&#160;<br/>the use of DAA is specified only for&#160;the client authentication and with&#160;</p>
<p style="position:absolute;top:829px;left:662px;white-space:nowrap" class="ft188106"><b>RSA</b></p>
<p style="position:absolute;top:829px;left:692px;white-space:nowrap" class="ft18884">&#160;key&#160;</p>
<p style="position:absolute;top:848px;left:83px;white-space:nowrap" class="ft18887">exchange method. Subsequent specifications&#160;may define further methods&#160;considering&#160;<br/>DAA also&#160;for the server authentication and other key exchange methods&#160;supported by&#160;<br/>TLS.<br/>In this specification DAA is used to add&#160;a group authentication&#160;scheme for client,&#160;with&#160;<br/>two&#160;variants:&#160;complete anonymity within the group or use of a pseudonym chosen by&#160;<br/>the verifier&#160;to let it link different client&#160;authentications&#160;made by the same platform&#160;<br/>with specific&#160;group credentials (i.e. with DAA credentials released by a&#160;specific issuer).<br/>For&#160;brevity, in the following the former variant&#160;will be referred to as&#160;DAA&#160;<br/>authentication while the latter&#160;as DAA&#160;authentication&#160;with pseudonymous (or&#160;also DAA&#160;<br/>pseudonymous authentication).<br/><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#189">Table&#160;1&#160;summarizes all possibl</a>e authentication methods&#160;for a TLS&#160;implementation&#160;<br/>adherent to this specification&#160;(i.e. supporting DAA-TLS).</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft18891">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft18891">10/28</p>
</div>
<!-- Page 189 -->
<a name="189"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page189-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2189.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft18990">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft18980">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft18991">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft18991">FINAL |&#160;1.10</p>
<p style="position:absolute;top:153px;left:88px;white-space:nowrap" class="ft18984">Complete anonymous&#160;TLS session</p>
<p style="position:absolute;top:153px;left:450px;white-space:nowrap" class="ft18984">Standard&#160;TLS with&#160;</p>
<p style="position:absolute;top:153px;left:606px;white-space:nowrap" class="ft189106"><b>DH_anon</b></p>
<p style="position:absolute;top:153px;left:676px;white-space:nowrap" class="ft18984">&#160;key exchange&#160;</p>
<p style="position:absolute;top:173px;left:450px;white-space:nowrap" class="ft18984">method</p>
<p style="position:absolute;top:200px;left:88px;white-space:nowrap" class="ft18984">Server&#160;authentication&#160;only</p>
<p style="position:absolute;top:200px;left:450px;white-space:nowrap" class="ft18987">Standard&#160;TLS with all key exchange&#160;<br/>methods&#160;but&#160;</p>
<p style="position:absolute;top:219px;left:561px;white-space:nowrap" class="ft189106"><b>DH_anon</b></p>
<p style="position:absolute;top:247px;left:88px;white-space:nowrap" class="ft18984">Client and server&#160;authentication</p>
<p style="position:absolute;top:247px;left:450px;white-space:nowrap" class="ft18987">Standard&#160;TLS with all key exchange&#160;<br/>methods&#160;but&#160;</p>
<p style="position:absolute;top:266px;left:561px;white-space:nowrap" class="ft189106"><b>DH_anon</b></p>
<p style="position:absolute;top:294px;left:88px;white-space:nowrap" class="ft18987">Group authentication&#160;for&#160;client and&#160;<br/>standard&#160;RSA authentication for&#160;server&#160;</p>
<p style="position:absolute;top:294px;left:450px;white-space:nowrap" class="ft18984">DAA-enhanced TLS&#160;with&#160;</p>
<p style="position:absolute;top:294px;left:653px;white-space:nowrap" class="ft189106"><b>RSA</b></p>
<p style="position:absolute;top:294px;left:683px;white-space:nowrap" class="ft18984">&#160;key exchange&#160;</p>
<p style="position:absolute;top:313px;left:450px;white-space:nowrap" class="ft18984">method</p>
<p style="position:absolute;top:340px;left:88px;white-space:nowrap" class="ft18987">Group authentication&#160;with pseudonym for&#160;<br/>client and standard&#160;RSA&#160;authentication&#160;for&#160;<br/>server&#160;</p>
<p style="position:absolute;top:340px;left:450px;white-space:nowrap" class="ft18984">DAA-enhanced TLS&#160;with&#160;</p>
<p style="position:absolute;top:340px;left:653px;white-space:nowrap" class="ft189106"><b>RSA</b></p>
<p style="position:absolute;top:340px;left:683px;white-space:nowrap" class="ft18984">&#160;key exchange&#160;</p>
<p style="position:absolute;top:360px;left:450px;white-space:nowrap" class="ft18984">method, pseudonym specified by verifier</p>
<p style="position:absolute;top:411px;left:178px;white-space:nowrap" class="ft189107"><i>Table&#160;1: Authentication&#160;methods&#160;for DAA-TLS capable&#160;client&#160;and&#160;server</i></p>
<p style="position:absolute;top:466px;left:83px;white-space:nowrap" class="ft18987">In this document the enhancement of TLS&#160;with DAA is specified through the definition&#160;<br/>of a&#160;new hello extension and a&#160;new supplemental data&#160;entry,&#160;both expressed&#160;using the&#160;<br/>Presentation&#160;Language specified and used in [3].</p>
<p style="position:absolute;top:550px;left:83px;white-space:nowrap" class="ft189104"><i><b>5.2&#160;&#160;&#160;Summary of DAA-TLS capabilities and protocol flow</b></i></p>
<p style="position:absolute;top:582px;left:83px;white-space:nowrap" class="ft18988">DAA is composed&#160;of two&#160;different sub-protocols:&#160;Join where the platform&#160;obtains&#160;a DAA&#160;<br/>credential from an issuer and Sign where the platform&#160;performs&#160;a&#160;DAA signature&#160;and a&#160;<br/>verifier verifies it.<br/>In this specification only the DAA Sign sub-protocol&#160;is used to&#160;enhance TLS for&#160;client&#160;<br/>authentication. The DAA Join sub-protocol&#160;is out of scope&#160;and not described: it is&#160;<br/>assumed&#160;as&#160;previously run to obtain the DAA credential required by DAA Sign.<br/>The enhancement defined throughout this section (Section 5) is generic to&#160;support any&#160;<br/>specification of DAA;&#160;in the next sections,&#160;instead,&#160;a binding to&#160;a particular&#160;DAA&#160;<br/>specification and design (i.e. TCG&#160;TSS/TPM) is defined.<br/>In this document, the revocation&#160;of DAA credentials and revocation&#160;checking, whilst&#160;<br/>essential elements&#160;for authentication,&#160;are not&#160;considered as&#160;part&#160;of DAA-TLS and,&#160;<br/>therefore, not specified, but&#160;left to the application.<br/>The DAA Sign sub-protocol&#160;involves a&#160;platform&#160;and a&#160;verifier;&#160;there roles are&#160;<br/>respectively mapped onto&#160;client and server&#160;TLS roles. In order to&#160;preserve its&#160;privacy,&#160;<br/>the client authenticates&#160;itself by performing a DAA signature verified by the server.<br/>The&#160;protocol&#160;flow is:</p>
<p style="position:absolute;top:943px;left:110px;white-space:nowrap" class="ft18984">1.&#160;The client starts&#160;the TLS&#160;handshake by sending the&#160;</p>
<p style="position:absolute;top:943px;left:567px;white-space:nowrap" class="ft189106"><b>ClientHello</b></p>
<p style="position:absolute;top:943px;left:677px;white-space:nowrap" class="ft18984">&#160;message.&#160;The&#160;</p>
<p style="position:absolute;top:962px;left:137px;white-space:nowrap" class="ft18987">latter&#160;must&#160;contain an&#160;extension to inform the server that&#160;the client is capable&#160;<br/>of using DAA for authentication.</p>
<p style="position:absolute;top:1010px;left:110px;white-space:nowrap" class="ft18984">2.&#160;If the server agrees on&#160;using DAA for client&#160;authentication,&#160;it replies to&#160;the client&#160;</p>
<p style="position:absolute;top:1029px;left:137px;white-space:nowrap" class="ft18984">with the&#160;</p>
<p style="position:absolute;top:1029px;left:210px;white-space:nowrap" class="ft189106"><b>ServerHello</b></p>
<p style="position:absolute;top:1029px;left:319px;white-space:nowrap" class="ft18984">&#160;message&#160;by sending back&#160;the same&#160;extension. In the&#160;</p>
<p style="position:absolute;top:1048px;left:137px;white-space:nowrap" class="ft18987">hello extension,&#160;the server also&#160;specifies the nonce needed for&#160;the DAA&#160;<br/>signature; moreover,&#160;if the server wants&#160;the client&#160;to use DAA authentication&#160;<br/>with pseudonymous,&#160;it must also&#160;specify&#160;the basename that&#160;the client must use&#160;<br/>while performing the DAA signature. If the client does not accept&#160;to&#160;use the&#160;</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft18991">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft18991">11/28</p>
</div>
<!-- Page 190 -->
<a name="190"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page190-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2190.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft19090">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft19080">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft19091">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft19091">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:137px;white-space:nowrap" class="ft19087">pseudonym, it must terminate the handshake. Otherwise the latter continues&#160;<br/>and the DAA authentication&#160;for client&#160;and the related variant is then agreed on.</p>
<p style="position:absolute;top:197px;left:110px;white-space:nowrap" class="ft19084">3.&#160;The server must&#160;also request&#160;the client authentication&#160;sending the&#160;</p>
<p style="position:absolute;top:216px;left:137px;white-space:nowrap" class="ft190106"><b>CertificateRequest</b></p>
<p style="position:absolute;top:216px;left:316px;white-space:nowrap" class="ft19084">&#160;message. This is needed to&#160;bind&#160;the TLS&#160;session to the&#160;</p>
<p style="position:absolute;top:235px;left:137px;white-space:nowrap" class="ft19084">DAA signature. See section<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#190">&#160;&#160;for furth</a>er&#160;details.</p>
<p style="position:absolute;top:263px;left:110px;white-space:nowrap" class="ft19084">4.&#160;The client performs&#160;the DAA signature over&#160;a self-signed client certificate and&#160;</p>
<p style="position:absolute;top:282px;left:137px;white-space:nowrap" class="ft19084">sends it to the server using a&#160;</p>
<p style="position:absolute;top:282px;left:384px;white-space:nowrap" class="ft190106"><b>SupplementalDataEntry</b></p>
<p style="position:absolute;top:282px;left:593px;white-space:nowrap" class="ft19084">&#160;carried&#160;over the&#160;</p>
<p style="position:absolute;top:302px;left:137px;white-space:nowrap" class="ft190106"><b>SupplementalData</b></p>
<p style="position:absolute;top:302px;left:296px;white-space:nowrap" class="ft19084">&#160;message.&#160;The former&#160;also contains&#160;all data&#160;necessary&#160;to&#160;</p>
<p style="position:absolute;top:321px;left:137px;white-space:nowrap" class="ft19084">verify the DAA signature.</p>
<p style="position:absolute;top:349px;left:110px;white-space:nowrap" class="ft19088">5.&#160;The TLS handshake protocol&#160;continues according&#160;to [3] until its completion.<br/>6.&#160;To&#160;comply with [5], any action&#160;caused by the evaluation of the data&#160;carried by&#160;</p>
<p style="position:absolute;top:396px;left:137px;white-space:nowrap" class="ft190106"><b>SupplementalData</b></p>
<p style="position:absolute;top:396px;left:296px;white-space:nowrap" class="ft19084">&#160;must&#160;be performed after the handshake is completed.&#160;</p>
<p style="position:absolute;top:416px;left:137px;white-space:nowrap" class="ft19087">Therefore, before accepting&#160;any data&#160;from the channel, the server must&#160;<br/>conclude the verification of&#160;the DAA signature over the client certificate. This&#160;<br/>operation&#160;can not&#160;happen during the handshake, but must take place&#160;<br/>immediately after the handshake is completed. If the verification&#160;fails, the&#160;<br/>server&#160;must&#160;shut down the TLS&#160;channel; otherwise the client is successfully&#160;<br/>authenticated and the data&#160;exchange over&#160;the secure channel can start.</p>
<p style="position:absolute;top:540px;left:83px;white-space:nowrap" class="ft19087">The TLS protocol&#160;extended to&#160;support&#160;the DAA authentication&#160;of the client is shown in&#160;<br/><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#190">Figure 3.</a></p>
<p style="position:absolute;top:1118px;left:83px;white-space:nowrap" class="ft190104"><i><b>5.3&#160;&#160;&#160;Binding&#160;between TLS&#160;channel and DAA authentication</b></i></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft19091">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft19091">12/28</p>
<p style="position:absolute;top:1074px;left:201px;white-space:nowrap" class="ft190107"><i>Figure&#160;3:&#160;TLS&#160;extended&#160;to&#160;support&#160;DAA&#160;authentication&#160;(DAA-TLS)</i></p>
</div>
<!-- Page 191 -->
<a name="191"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page191-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2191.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft19190">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft19180">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft19191">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft19191">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:83px;white-space:nowrap" class="ft19188">In order&#160;to complete the client authentication,&#160;it is required to provide the binding&#160;<br/>between TLS session&#160;and DAA authentication.&#160;This&#160;is must&#160;be done by the client by&#160;<br/>DAA-signing a client certificate.&#160;For&#160;the purposes of&#160;this specification, the client&#160;<br/>certificate&#160;must&#160;be a&#160;self-signed X.509v3 certificate,&#160;DER-encoded, including all&#160;<br/>extensions required by TLS specification&#160;[3]. In subsequent specifications,&#160;a&#160;format&#160;for&#160;<br/>DAA signature algorithm for&#160;X.509 certificates&#160;may be defined in order to&#160;replace&#160;the&#160;<br/>self-signed client&#160;certificate&#160;with another&#160;DAA-signed. This would imply, however, a&#160;<br/>revision of the DAA-TLS&#160;protocol&#160;as&#160;defined in this document.<br/>The binding must be provided as&#160;follows:</p>
<p style="position:absolute;top:340px;left:110px;white-space:nowrap" class="ft19184">1.&#160;The client must&#160;create a&#160;self-signed certificate&#160;with no indication&#160;about its&#160;</p>
<p style="position:absolute;top:359px;left:137px;white-space:nowrap" class="ft19184">identity (e.g. a random&#160;distinguished name) for each TLS&#160;handshake.</p>
<p style="position:absolute;top:387px;left:110px;white-space:nowrap" class="ft19184">2.&#160;The TLS handshake enhanced with hello extensions and supplemental data&#160;must&#160;</p>
<p style="position:absolute;top:407px;left:137px;white-space:nowrap" class="ft19184">proceed as&#160;described i<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#188">n section&#160;5.1.</a></p>
<p style="position:absolute;top:435px;left:110px;white-space:nowrap" class="ft19184">3.&#160;The server must&#160;require the client authentication during the handshake by&#160;</p>
<p style="position:absolute;top:454px;left:137px;white-space:nowrap" class="ft19184">sending the&#160;</p>
<p style="position:absolute;top:454px;left:240px;white-space:nowrap" class="ft191106"><b>CertificateRequest</b></p>
<p style="position:absolute;top:454px;left:419px;white-space:nowrap" class="ft19184">&#160;message.&#160;According&#160;to [3], the server&#160;can&#160;</p>
<p style="position:absolute;top:473px;left:137px;white-space:nowrap" class="ft19187">provide a list of accepted&#160;certification&#160;authorities (CAs); in this case,&#160;the client&#160;<br/>must&#160;choose&#160;a certificate issued by one of&#160;these CAs.&#160;Because the client self-<br/>generates&#160;a new certificate&#160;for each&#160;TLS connection, the server must&#160;send the&#160;</p>
<p style="position:absolute;top:531px;left:137px;white-space:nowrap" class="ft191106"><b>CertificateRequest</b></p>
<p style="position:absolute;top:531px;left:316px;white-space:nowrap" class="ft19184">&#160;message with the field&#160;</p>
<p style="position:absolute;top:531px;left:515px;white-space:nowrap" class="ft191106"><b>certificate_authorities</b></p>
<p style="position:absolute;top:531px;left:743px;white-space:nowrap" class="ft19184">&#160;empty;&#160;</p>
<p style="position:absolute;top:550px;left:137px;white-space:nowrap" class="ft19184">therefore, according&#160;to [3], the client may&#160;send any certificate.</p>
<p style="position:absolute;top:578px;left:110px;white-space:nowrap" class="ft19184">4.&#160;The client must&#160;DAA-sign the certificate&#160;used for&#160;TLS client authentication.&#160;This&#160;</p>
<p style="position:absolute;top:597px;left:137px;white-space:nowrap" class="ft19187">provides the binding between the TLS&#160;session and the DAA&#160;authentication&#160;and&#160;<br/>complete the client group authentication.&#160;The DAA signature&#160;must&#160;be sent to&#160;<br/>the server through the&#160;</p>
<p style="position:absolute;top:636px;left:330px;white-space:nowrap" class="ft191106"><b>SupplementalData</b></p>
<p style="position:absolute;top:636px;left:489px;white-space:nowrap" class="ft19184">&#160;message while the self-signed client&#160;</p>
<p style="position:absolute;top:655px;left:137px;white-space:nowrap" class="ft19184">certificate&#160;must&#160;be sent to&#160;the server&#160;through the&#160;</p>
<p style="position:absolute;top:655px;left:554px;white-space:nowrap" class="ft191106"><b>Certificate</b></p>
<p style="position:absolute;top:655px;left:663px;white-space:nowrap" class="ft19184">&#160;message.</p>
<p style="position:absolute;top:683px;left:83px;white-space:nowrap" class="ft19187">The DAA protocol&#160;may&#160;also&#160;be used to sign other data,&#160;in addition to the self-signed&#160;<br/>client&#160;certificate&#160;used for&#160;the TLS&#160;authentication.&#160;This data,&#160;if present, depends on the&#160;<br/>context&#160;of the application.&#160;The input of the DAA-signing function must be</p>
<p style="position:absolute;top:759px;left:105px;white-space:nowrap" class="ft191106"><b>SHA1&#160;(TLS_Client_Certificate&#160;|| AdditionalData)</b></p>
<p style="position:absolute;top:796px;left:83px;white-space:nowrap" class="ft19184">where&#160;</p>
<p style="position:absolute;top:796px;left:140px;white-space:nowrap" class="ft191106"><b>SHA1</b></p>
<p style="position:absolute;top:796px;left:180px;white-space:nowrap" class="ft19184">&#160;is the digest&#160;calculation using SHA-1&#160;[10]&#160;algorithm,&#160;</p>
<p style="position:absolute;top:815px;left:83px;white-space:nowrap" class="ft191106"><b>TLS_Client_Certificate</b></p>
<p style="position:absolute;top:815px;left:302px;white-space:nowrap" class="ft19184">&#160;is the self-signed certificate&#160;used for the TLS authentication&#160;</p>
<p style="position:absolute;top:834px;left:83px;white-space:nowrap" class="ft19184">and DER-encoded,&#160;</p>
<p style="position:absolute;top:834px;left:242px;white-space:nowrap" class="ft191106"><b>||</b></p>
<p style="position:absolute;top:834px;left:262px;white-space:nowrap" class="ft19184">&#160;is the concatenation&#160;operator&#160;and&#160;</p>
<p style="position:absolute;top:834px;left:553px;white-space:nowrap" class="ft191106"><b>AdditionalData</b></p>
<p style="position:absolute;top:834px;left:692px;white-space:nowrap" class="ft19184">&#160;represents&#160;</p>
<p style="position:absolute;top:853px;left:83px;white-space:nowrap" class="ft19188">any&#160;additional data&#160;the application wants&#160;to&#160;DAA-sign.<br/>An example of possible&#160;</p>
<p style="position:absolute;top:882px;left:281px;white-space:nowrap" class="ft191106"><b>AdditionalData</b></p>
<p style="position:absolute;top:882px;left:420px;white-space:nowrap" class="ft19184">&#160;to DAA-sign is an Attestation&#160;Identity Key&#160;</p>
<p style="position:absolute;top:901px;left:83px;white-space:nowrap" class="ft19187">(AIK)&#160;which&#160;can be used for&#160;a remote attestation&#160;of&#160;the configuration of the platform;&#160;<br/>in this case&#160;the AIK&#160;must be signed by the DAA to&#160;convince the verifier that&#160;the AIK&#160;<br/>was&#160;generated and is used by a genuine TPM.&#160;This document&#160;neither defines the&#160;<br/>encoding of&#160;</p>
<p style="position:absolute;top:958px;left:186px;white-space:nowrap" class="ft191106"><b>AdditionalData</b></p>
<p style="position:absolute;top:958px;left:325px;white-space:nowrap" class="ft19184">&#160;nor&#160;how it is created,&#160;but&#160;this might be specified in future&#160;</p>
<p style="position:absolute;top:978px;left:83px;white-space:nowrap" class="ft19188">documents.<br/>If no&#160;additional data&#160;is present, the input of the DAA-signing function must be:</p>
<p style="position:absolute;top:1043px;left:105px;white-space:nowrap" class="ft191106"><b>SHA1&#160;(TLS_Client_Certificate)</b></p>
<p style="position:absolute;top:1080px;left:83px;white-space:nowrap" class="ft19187">If any&#160;additional data&#160;is DAA-signed together&#160;with the self-signed certificate&#160;on the&#160;<br/>client&#160;side, the server must be informed through the hello extension in order to&#160;be able&#160;<br/>to&#160;recompute the digest and verify&#160;the signature;&#160;any additional&#160;data DAA-signed must&#160;</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft19191">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft19191">13/28</p>
</div>
<!-- Page 192 -->
<a name="192"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page192-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2192.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft19290">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft19280">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft19291">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft19291">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:83px;white-space:nowrap" class="ft19287">be transported&#160;within the supplemental data&#160;message so&#160;that it is possible for the&#160;<br/>verifier to&#160;recompute the signed digest.</p>
<p style="position:absolute;top:214px;left:83px;white-space:nowrap" class="ft192104"><i><b>5.4&#160;&#160;&#160;Verification&#160;of the authentication</b></i></p>
<p style="position:absolute;top:246px;left:83px;white-space:nowrap" class="ft19287">The server must&#160;verify the authentication&#160;of the client. This must&#160;be done by&#160;<br/>combining the different&#160;data exchanged during the handshake.&#160;<br/>First,&#160;the server&#160;needs the verification&#160;of the correctness&#160;of the DAA signature.&#160;<br/>Besides, once the DAA signature is verified, it is necessary&#160;to verify the binding&#160;<br/>between the TLS session and the DAA authentication.&#160;In order to&#160;do this, the server&#160;<br/>must&#160;verify that&#160;the digest&#160;signed by the client corresponds&#160;to the digest calculated&#160;<br/>over&#160;the data&#160;exchanged during the TLS handshake. This&#160;is done by repeating on the&#160;<br/>server&#160;side the operations&#160;previously done on the client side: concatenating&#160;the self-<br/>signed certificate&#160;received from the client through the&#160;</p>
<p style="position:absolute;top:409px;left:538px;white-space:nowrap" class="ft192106"><b>Certificate</b></p>
<p style="position:absolute;top:409px;left:648px;white-space:nowrap" class="ft19284">&#160;message with the&#160;</p>
<p style="position:absolute;top:428px;left:83px;white-space:nowrap" class="ft19284">additional data,&#160;if present,&#160;received from the client through the&#160;</p>
<p style="position:absolute;top:428px;left:614px;white-space:nowrap" class="ft192106"><b>SupplementalData&#160;</b></p>
<p style="position:absolute;top:447px;left:83px;white-space:nowrap" class="ft19288">message&#160;and computing the digest&#160;over these composed&#160;data.<br/>Since&#160;the&#160;</p>
<p style="position:absolute;top:475px;left:166px;white-space:nowrap" class="ft192106"><b>SupplementalData</b></p>
<p style="position:absolute;top:475px;left:325px;white-space:nowrap" class="ft19284">&#160;message&#160;is sent&#160;from client to&#160;server before&#160;the&#160;</p>
<p style="position:absolute;top:495px;left:83px;white-space:nowrap" class="ft192106"><b>Certificate&#160;</b></p>
<p style="position:absolute;top:495px;left:203px;white-space:nowrap" class="ft19284">message,&#160;the described verification can&#160;be done only after receiving the&#160;</p>
<p style="position:absolute;top:514px;left:83px;white-space:nowrap" class="ft19287">latter&#160;message.&#160;Moreover, according to&#160;[5], for security reasons&#160;the data&#160;exchanged as&#160;<br/>supplemental data&#160;must not&#160;have any&#160;effect on the handshake and must&#160;be evaluated&#160;<br/>only after its completion. Therefore the complete verification&#160;of the authentication&#160;<br/>must&#160;be performed only once the handshake is completed and the server&#160;must not&#160;<br/>accept&#160;any&#160;data from&#160;the TLS channel before&#160;the verification&#160;is finished and successful.&#160;<br/>If the verification&#160;fails the server must&#160;shut&#160;down the TLS channel.</p>
<p style="position:absolute;top:656px;left:83px;white-space:nowrap" class="ft192104"><i><b>5.5&#160;&#160;&#160;Definition of the hello&#160;extension&#160;DAAAuth</b></i></p>
<p style="position:absolute;top:687px;left:83px;white-space:nowrap" class="ft19284">This document specifies&#160;the&#160;</p>
<p style="position:absolute;top:687px;left:321px;white-space:nowrap" class="ft192106"><b>DAAAuth</b></p>
<p style="position:absolute;top:687px;left:390px;white-space:nowrap" class="ft19284">&#160;hello extension&#160;according&#160;to [4]. This&#160;extension&#160;</p>
<p style="position:absolute;top:707px;left:83px;white-space:nowrap" class="ft19288">indicates&#160;the intention to&#160;use the DAA authentication of&#160;the TLS client.&#160;When sent by&#160;<br/>the latter, it means that&#160;the client&#160;supports&#160;the DAA authentication&#160;and wants&#160;to use it&#160;<br/>for&#160;authenticating itself; when it is sent by the server (only as&#160;response to&#160;the client), it&#160;<br/>means&#160;that the server agrees on using DAA&#160;authentication&#160;for the client.&#160;<br/>This extension is defined as:</p>
<p style="position:absolute;top:829px;left:105px;white-space:nowrap" class="ft192108"><b>enum&#160;{<br/>&#160;&#160;&#160;DAAAuthExt&#160;(XX)<br/>}&#160;ExtensionType;</b></p>
<p style="position:absolute;top:914px;left:105px;white-space:nowrap" class="ft192106"><b>struct&#160;{</b></p>
<p style="position:absolute;top:933px;left:158px;white-space:nowrap" class="ft192108"><b>ExtensionType&#160;extension_type;<br/>opaque&#160;extension_data&lt;0..2^16-1&gt;;</b></p>
<p style="position:absolute;top:972px;left:105px;white-space:nowrap" class="ft192106"><b>}&#160;Extension;</b></p>
<p style="position:absolute;top:1009px;left:83px;white-space:nowrap" class="ft19284">where the type (</p>
<p style="position:absolute;top:1009px;left:221px;white-space:nowrap" class="ft192106"><b>XX</b></p>
<p style="position:absolute;top:1009px;left:240px;white-space:nowrap" class="ft19284">) of the extension must&#160;be assigned by the IANA&#160;through the IETF&#160;</p>
<p style="position:absolute;top:1028px;left:83px;white-space:nowrap" class="ft19284">Consensus process&#160;(see section<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#204">&#160;8&#160;for detai</a>ls).&#160;The&#160;</p>
<p style="position:absolute;top:1028px;left:504px;white-space:nowrap" class="ft192106"><b>extension_data</b></p>
<p style="position:absolute;top:1028px;left:643px;white-space:nowrap" class="ft19284">&#160;is defined as:</p>
<p style="position:absolute;top:1065px;left:105px;white-space:nowrap" class="ft192108"><b>struct&#160;{<br/>&#160;&#160; DAAAuthVersion</b></p>
<p style="position:absolute;top:1084px;left:371px;white-space:nowrap" class="ft192106"><b>daa_auth_version;</b></p>
<p style="position:absolute;top:1103px;left:105px;white-space:nowrap" class="ft192106"><b>&#160;&#160; DAAAuthParam</b></p>
<p style="position:absolute;top:1103px;left:371px;white-space:nowrap" class="ft192106"><b>daa_auth_param&#160;&lt;0..2^7-1&gt;;</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft19291">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft19291">14/28</p>
</div>
<!-- Page 193 -->
<a name="193"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page193-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2193.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft19390">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft19380">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft19391">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft19391">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:105px;white-space:nowrap" class="ft193106"><b>}&#160;DAAAuthExt;</b></p>
<p style="position:absolute;top:195px;left:105px;white-space:nowrap" class="ft193108"><b>struct&#160;{<br/>&#160;&#160; uint8&#160;daatls_version,&#160;daa_binding_version;<br/>}&#160;DAAAuthVersion;</b></p>
<p style="position:absolute;top:280px;left:105px;white-space:nowrap" class="ft193108"><b>struct&#160;{<br/>&#160;&#160; uint8</b></p>
<p style="position:absolute;top:299px;left:211px;white-space:nowrap" class="ft193106"><b>daa_auth_param_type;</b></p>
<p style="position:absolute;top:318px;left:105px;white-space:nowrap" class="ft193108"><b>&#160;&#160; opaque&#160;daa_auth_param_data&#160;&lt;0..2^8-1&gt;;<br/>}&#160;DAAAuthParam;</b></p>
<p style="position:absolute;top:374px;left:83px;white-space:nowrap" class="ft19384">where&#160;</p>
<p style="position:absolute;top:374px;left:140px;white-space:nowrap" class="ft193106"><b>DAAAuthVersion</b></p>
<p style="position:absolute;top:374px;left:279px;white-space:nowrap" class="ft19384">&#160;is the version of the DAA&#160;authentication&#160;method&#160;used to&#160;</p>
<p style="position:absolute;top:393px;left:83px;white-space:nowrap" class="ft19384">enhance&#160;TLS and&#160;</p>
<p style="position:absolute;top:393px;left:231px;white-space:nowrap" class="ft193106"><b>DAAAuthParam</b></p>
<p style="position:absolute;top:393px;left:350px;white-space:nowrap" class="ft19384">&#160;is a&#160;list that&#160;contains&#160;the parameters&#160;needed for the&#160;</p>
<p style="position:absolute;top:413px;left:83px;white-space:nowrap" class="ft19384">DAA authentication method.&#160;</p>
<p style="position:absolute;top:413px;left:323px;white-space:nowrap" class="ft193106"><b>daatls_version</b></p>
<p style="position:absolute;top:413px;left:463px;white-space:nowrap" class="ft19384">&#160;specifies the version&#160;of the DAA-</p>
<p style="position:absolute;top:432px;left:83px;white-space:nowrap" class="ft19384">enhancement&#160;of TLS and indicates&#160;the set of&#160;the&#160;</p>
<p style="position:absolute;top:432px;left:491px;white-space:nowrap" class="ft193106"><b>DAAAuthParam</b></p>
<p style="position:absolute;top:432px;left:611px;white-space:nowrap" class="ft19384">&#160;to&#160;exchange and in&#160;</p>
<p style="position:absolute;top:451px;left:83px;white-space:nowrap" class="ft19384">which sequence as&#160;well as the&#160;</p>
<p style="position:absolute;top:451px;left:340px;white-space:nowrap" class="ft193106"><b>DAAAuthReply</b></p>
<p style="position:absolute;top:451px;left:459px;white-space:nowrap" class="ft19384">&#160;within the&#160;</p>
<p style="position:absolute;top:451px;left:552px;white-space:nowrap" class="ft193106"><b>SupplementalDataEntry</b></p>
<p style="position:absolute;top:451px;left:761px;white-space:nowrap" class="ft19384">. A&#160;</p>
<p style="position:absolute;top:470px;left:83px;white-space:nowrap" class="ft19384">DAA-enhancement conforming&#160;to this specification&#160;is identified by the value 1.&#160;</p>
<p style="position:absolute;top:489px;left:83px;white-space:nowrap" class="ft193106"><b>daa_binding_version</b></p>
<p style="position:absolute;top:489px;left:272px;white-space:nowrap" class="ft19384">&#160;indicated&#160;a specific&#160;binding (i.e. profile) for which includes a&#160;</p>
<p style="position:absolute;top:509px;left:83px;white-space:nowrap" class="ft19387">standardized specification&#160;of DAA (like the one proposed&#160;by TCG)&#160;and the specific&#160;<br/>relations with the DAA&#160;enhancements, including the data&#160;encoding and optionally&#160;<br/>software&#160;interfaces&#160;to&#160;be used.&#160;Each parameter&#160;is defined by a type and a payload&#160;and&#160;<br/>must&#160;appear&#160;at&#160;most&#160;once in the list:</p>
<p style="position:absolute;top:603px;left:105px;white-space:nowrap" class="ft193108"><b>enum&#160;{<br/>&#160;&#160; additional_data_sign&#160;(0),<br/>&#160;&#160; nonce&#160;(1),<br/>&#160;&#160; basename&#160;(2),<br/>&#160;&#160; (255)<br/>}&#160;daa_auth_param_type;</b></p>
<p style="position:absolute;top:745px;left:105px;white-space:nowrap" class="ft193108"><b>struct&#160;{<br/>&#160;&#160; uint8</b></p>
<p style="position:absolute;top:765px;left:211px;white-space:nowrap" class="ft193106"><b>daa_auth_param_type;</b></p>
<p style="position:absolute;top:784px;left:105px;white-space:nowrap" class="ft193108"><b>&#160;&#160; select&#160;(daa_auth_param_type)&#160;{<br/>&#160;&#160; &#160;&#160;&#160;case&#160;additional_data_sign:&#160;AdditionalDataSign;<br/>&#160;&#160; &#160;&#160;&#160;case&#160;nonce:&#160;Nonce;<br/>&#160;&#160; &#160;&#160;&#160;case&#160;basename:&#160;Basename;<br/>&#160;&#160; }<br/>}&#160;DAAAuthParam;</b></p>
<p style="position:absolute;top:926px;left:105px;white-space:nowrap" class="ft193108"><b>struct&#160;{<br/>&#160;&#160; uint8</b></p>
<p style="position:absolute;top:945px;left:211px;white-space:nowrap" class="ft193106"><b>additional_data_is_present;</b></p>
<p style="position:absolute;top:964px;left:105px;white-space:nowrap" class="ft193106"><b>}&#160;AdditionalDataSign;</b></p>
<p style="position:absolute;top:1010px;left:105px;white-space:nowrap" class="ft193108"><b>struct&#160;{<br/>&#160;&#160;&#160;uint8&#160;nonce_length;<br/>&#160;&#160; opaque&#160;nonce&#160;&lt;0..2^8-1&gt;;<br/>}&#160;Nonce;</b></p>
<p style="position:absolute;top:1114px;left:105px;white-space:nowrap" class="ft193106"><b>struct&#160;{</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft19391">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft19391">15/28</p>
</div>
<!-- Page 194 -->
<a name="194"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page194-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2194.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft19490">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft19480">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft19491">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft19491">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:105px;white-space:nowrap" class="ft194108"><b>&#160;&#160; uint8&#160;basename_length;<br/>&#160;&#160; opaque&#160;basename&#160;&lt;0..2^8-1&gt;;<br/>}&#160;Basename;</b></p>
<p style="position:absolute;top:225px;left:83px;white-space:nowrap" class="ft19484">The semantic of&#160;the different&#160;parameters&#160;which can&#160;be carried&#160;by&#160;</p>
<p style="position:absolute;top:244px;left:83px;white-space:nowrap" class="ft194106"><b>daa_auth_param_data</b></p>
<p style="position:absolute;top:244px;left:272px;white-space:nowrap" class="ft19484">&#160;is defined as&#160;follows:</p>
<p style="position:absolute;top:275px;left:110px;white-space:nowrap" class="ft19494">●</p>
<p style="position:absolute;top:272px;left:137px;white-space:nowrap" class="ft194106"><b>AdditionalDataSign</b></p>
<p style="position:absolute;top:272px;left:316px;white-space:nowrap" class="ft19484">&#160;indicates&#160;that the client will also sign other data&#160;in&#160;</p>
<p style="position:absolute;top:292px;left:137px;white-space:nowrap" class="ft19487">addition to the certificate&#160;used for TLS authentication as&#160;described in section&#160;<br/>(5.2). This parameter&#160;can only be sent&#160;by the entity&#160;that&#160;makes the DAA&#160;<br/>signature and implies&#160;that some&#160;additional data&#160;must&#160;be transported&#160;within the&#160;<br/>supplemental data&#160;message. This is an optional parameter.&#160;When present,&#160;the&#160;<br/>additional_data_is_present field must be set to 1.</p>
<p style="position:absolute;top:400px;left:110px;white-space:nowrap" class="ft19494">●</p>
<p style="position:absolute;top:397px;left:137px;white-space:nowrap" class="ft194106"><b>Nonce</b></p>
<p style="position:absolute;top:397px;left:187px;white-space:nowrap" class="ft19484">&#160;is a DAA's&#160;own parameter,&#160;the nonce that&#160;the client must use during the&#160;</p>
<p style="position:absolute;top:416px;left:137px;white-space:nowrap" class="ft19487">DAA signature. This parameter&#160;must be always&#160;sent&#160;by the server (i.e. the DAA&#160;<br/>verifier).</p>
<p style="position:absolute;top:466px;left:110px;white-space:nowrap" class="ft19494">●</p>
<p style="position:absolute;top:463px;left:137px;white-space:nowrap" class="ft194106"><b>Basename</b></p>
<p style="position:absolute;top:463px;left:217px;white-space:nowrap" class="ft19484">&#160;is a&#160;DAA's own parameter,&#160;the basename that&#160;must be used during&#160;</p>
<p style="position:absolute;top:483px;left:137px;white-space:nowrap" class="ft19487">the DAA signature. If the server wants the client to&#160;have a pseudonymous, then&#160;<br/>this parameter&#160;must be present&#160;in the&#160;</p>
<p style="position:absolute;top:502px;left:459px;white-space:nowrap" class="ft194106"><b>DAAAuth</b></p>
<p style="position:absolute;top:502px;left:528px;white-space:nowrap" class="ft19484">&#160;server&#160;hello extension. If the&#160;</p>
<p style="position:absolute;top:521px;left:137px;white-space:nowrap" class="ft19487">server&#160;wants the client to&#160;be completely anonymous,&#160;then the server&#160;must not&#160;<br/>send the basename&#160;in its&#160;</p>
<p style="position:absolute;top:541px;left:351px;white-space:nowrap" class="ft194106"><b>DAAAuth</b></p>
<p style="position:absolute;top:541px;left:421px;white-space:nowrap" class="ft19484">&#160;hello extension:&#160;at the signature&#160;time the&#160;</p>
<p style="position:absolute;top:560px;left:137px;white-space:nowrap" class="ft19487">client&#160;must&#160;then use a randomly&#160;generated basename; the client must&#160;not ever&#160;<br/>send the basename&#160;in its&#160;</p>
<p style="position:absolute;top:579px;left:351px;white-space:nowrap" class="ft194106"><b>DAAAuth</b></p>
<p style="position:absolute;top:579px;left:421px;white-space:nowrap" class="ft19484">&#160;hello extension.</p>
<p style="position:absolute;top:625px;left:83px;white-space:nowrap" class="ft194104"><i><b>5.6&#160;&#160;&#160;Definition of the supplemental data entry&#160;DAAAuth</b></i></p>
<p style="position:absolute;top:657px;left:83px;white-space:nowrap" class="ft19484">This document specifies&#160;the&#160;</p>
<p style="position:absolute;top:657px;left:321px;white-space:nowrap" class="ft194106"><b>DAAAuth</b></p>
<p style="position:absolute;top:657px;left:390px;white-space:nowrap" class="ft19484">&#160;supplemental data&#160;entry,&#160;exchanged within the&#160;</p>
<p style="position:absolute;top:676px;left:83px;white-space:nowrap" class="ft19488">supplemental data&#160;message, according to&#160;[5].<br/>The supplemental&#160;data entry must&#160;transport&#160;all data&#160;needed by the server to verify the&#160;<br/>DAA signature performed by the client; therefore, if negotiated, it must only send by&#160;<br/>client&#160;to server and never&#160;in the opposite direction.<br/>The structure&#160;of the&#160;supplemental data&#160;entry&#160;for DAA authentication is defined as:</p>
<p style="position:absolute;top:808px;left:105px;white-space:nowrap" class="ft194108"><b>enum&#160;{<br/>&#160;&#160; DAA_auth_suppl_data_entry&#160;(XX)<br/>}&#160; SupplementalDataType;</b></p>
<p style="position:absolute;top:892px;left:105px;white-space:nowrap" class="ft194108"><b>struct&#160;{&#160;<br/>&#160;&#160; SupplementalDataType&#160;supp_data_type;<br/>&#160;&#160; uint16&#160;supp_data_length;<br/>&#160;&#160; select(SupplementalDataType)&#160;{<br/>&#160;&#160; &#160;&#160;&#160;case&#160; DAA_auth_suppl_data_entry:&#160;DAAAuthSupplDataEntry;<br/>&#160;&#160; }<br/>}&#160;SupplementalDataEntry;</b></p>
<p style="position:absolute;top:1044px;left:83px;white-space:nowrap" class="ft19484">where the type (</p>
<p style="position:absolute;top:1044px;left:221px;white-space:nowrap" class="ft194106"><b>XX</b></p>
<p style="position:absolute;top:1044px;left:240px;white-space:nowrap" class="ft19484">) of the supplemental&#160;data entry must&#160;be assigned according to&#160;[5]&#160;</p>
<p style="position:absolute;top:1064px;left:83px;white-space:nowrap" class="ft19484"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#204">(see section&#160;8&#160;for</a>&#160;details). The payload of the supplemental&#160;data entry,&#160;</p>
<p style="position:absolute;top:1083px;left:83px;white-space:nowrap" class="ft194106"><b>DAAAuthSupplDataEntry</b></p>
<p style="position:absolute;top:1083px;left:292px;white-space:nowrap" class="ft19484">, is defined as:</p>
<p style="position:absolute;top:1120px;left:105px;white-space:nowrap" class="ft194106"><b>struct&#160;{</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft19491">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft19491">16/28</p>
</div>
<!-- Page 195 -->
<a name="195"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page195-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2195.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft19590">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft19580">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft19591">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft19591">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:105px;white-space:nowrap" class="ft195106"><b>&#160;&#160; DAAAuthVersion</b></p>
<p style="position:absolute;top:149px;left:371px;white-space:nowrap" class="ft195106"><b>daa_auth_version;&#160;</b></p>
<p style="position:absolute;top:168px;left:105px;white-space:nowrap" class="ft195106"><b>&#160;&#160; DAAAuthReply</b></p>
<p style="position:absolute;top:168px;left:371px;white-space:nowrap" class="ft195106"><b>daa_auth_reply&#160;&lt;0..2^7-1&gt;;</b></p>
<p style="position:absolute;top:188px;left:105px;white-space:nowrap" class="ft195106"><b>}&#160;DAAAuthSupplDataEntry;</b></p>
<p style="position:absolute;top:234px;left:105px;white-space:nowrap" class="ft195108"><b>struct&#160;{<br/>&#160;&#160; uint8</b></p>
<p style="position:absolute;top:253px;left:211px;white-space:nowrap" class="ft195106"><b>daa_auth_reply_type;</b></p>
<p style="position:absolute;top:272px;left:105px;white-space:nowrap" class="ft195108"><b>&#160;&#160; opaque&#160;daa_auth_reply_data&#160;&lt;0..2^8-1&gt;;<br/>}&#160;DAAAuthReply;</b></p>
<p style="position:absolute;top:328px;left:83px;white-space:nowrap" class="ft19584">where&#160;</p>
<p style="position:absolute;top:328px;left:140px;white-space:nowrap" class="ft195106"><b>DAAAuthVersion</b></p>
<p style="position:absolute;top:328px;left:279px;white-space:nowrap" class="ft19584">&#160;indicates&#160;the version&#160;of the DAA-enhancement and identifies&#160;</p>
<p style="position:absolute;top:347px;left:83px;white-space:nowrap" class="ft19584">the binding with a DAA protocol&#160;specification (see section&#160;5.5) and&#160;</p>
<p style="position:absolute;top:347px;left:641px;white-space:nowrap" class="ft195106"><b>DAAAuthReply</b></p>
<p style="position:absolute;top:347px;left:760px;white-space:nowrap" class="ft19584">&#160;is a&#160;</p>
<p style="position:absolute;top:367px;left:83px;white-space:nowrap" class="ft19584">list that contains&#160;the data&#160;needed for authentication. In&#160;particular&#160;</p>
<p style="position:absolute;top:386px;left:83px;white-space:nowrap" class="ft195106"><b>daa_auth_reply_type</b></p>
<p style="position:absolute;top:386px;left:272px;white-space:nowrap" class="ft19584">&#160;indicates&#160;the type of&#160;the data&#160;and can&#160;be defined as:</p>
<p style="position:absolute;top:423px;left:105px;white-space:nowrap" class="ft195108"><b>enum&#160;{<br/>&#160;&#160; daa_signature&#160;(0),<br/>&#160;&#160; signed_digest&#160;(1),<br/>&#160;&#160; additional_data_signed&#160;(2),<br/>&#160;&#160; (255)<br/>}&#160;daa_auth_reply_type;</b></p>
<p style="position:absolute;top:565px;left:105px;white-space:nowrap" class="ft195108"><b>struct&#160;{<br/>&#160;&#160; uint8</b></p>
<p style="position:absolute;top:584px;left:211px;white-space:nowrap" class="ft195106"><b>daa_auth_reply_type;</b></p>
<p style="position:absolute;top:603px;left:105px;white-space:nowrap" class="ft195108"><b>&#160;&#160; select&#160;(daa_auth_reply_type)&#160;{<br/>&#160;&#160; &#160;&#160;&#160;case&#160;daa_signature:&#160;DAASignature;<br/>&#160;&#160; &#160;&#160;&#160;case&#160;signed_digest:&#160;SignedDigest;<br/>&#160;&#160; &#160;&#160;&#160;case&#160;additional_signed_data:&#160;AdditionalSignedData;<br/>&#160;&#160; }<br/>}&#160;DAAAuthReply;</b></p>
<p style="position:absolute;top:745px;left:105px;white-space:nowrap" class="ft195108"><b>struct&#160;{<br/>&#160;&#160; uint8&#160;daa_signature_length;<br/>&#160;&#160; opaque&#160;daa_signature&#160;&lt;0..2^8-1&gt;;<br/>}&#160;DAASignature;</b></p>
<p style="position:absolute;top:849px;left:105px;white-space:nowrap" class="ft195108"><b>struct&#160;{<br/>&#160;&#160; uint8&#160;daa_signed_digest_length;<br/>&#160;&#160; opaque&#160;daa_signed_digest&#160;&lt;0..2^8-1&gt;;<br/>}&#160;SignedDigest;</b></p>
<p style="position:absolute;top:952px;left:105px;white-space:nowrap" class="ft195108"><b>struct&#160;{<br/>&#160;&#160; uint8&#160;daa_additional_signed_data_length;<br/>&#160;&#160; opaque&#160;daa_additional_signed_data&#160;&lt;0..2^8-1&gt;;<br/>}&#160;AdditionalSignedData;</b></p>
<p style="position:absolute;top:1047px;left:83px;white-space:nowrap" class="ft19584">where&#160;</p>
<p style="position:absolute;top:1047px;left:140px;white-space:nowrap" class="ft195106"><b>DAASignature</b></p>
<p style="position:absolute;top:1047px;left:259px;white-space:nowrap" class="ft19584">&#160;contains&#160;the DAA signature whose encoding depends on the&#160;</p>
<p style="position:absolute;top:1066px;left:83px;white-space:nowrap" class="ft19584">value of&#160;</p>
<p style="position:absolute;top:1066px;left:155px;white-space:nowrap" class="ft195106"><b>daa_binding_version</b></p>
<p style="position:absolute;top:1066px;left:344px;white-space:nowrap" class="ft19584">&#160;and it is specified accordingly&#160;while&#160;</p>
<p style="position:absolute;top:1066px;left:648px;white-space:nowrap" class="ft195106"><b>SignedDigest&#160;</b></p>
<p style="position:absolute;top:1086px;left:83px;white-space:nowrap" class="ft19584">contains&#160;the SHA-1 digest&#160;actually DAA-signed.&#160;</p>
<p style="position:absolute;top:1086px;left:480px;white-space:nowrap" class="ft195106"><b>AdditionalSignedData</b></p>
<p style="position:absolute;top:1086px;left:678px;white-space:nowrap" class="ft19584">&#160;contains&#160;the&#160;</p>
<p style="position:absolute;top:1105px;left:83px;white-space:nowrap" class="ft19584">additional signed data&#160;and its&#160;presence and encoding must be negotiated through the&#160;</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft19591">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft19591">17/28</p>
</div>
<!-- Page 196 -->
<a name="196"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page196-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2196.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft19690">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft19680">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft19691">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft19691">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:83px;white-space:nowrap" class="ft196106"><b>DAAAuth</b></p>
<p style="position:absolute;top:149px;left:153px;white-space:nowrap" class="ft19684">&#160;hello extension.</p>
<p style="position:absolute;top:195px;left:83px;white-space:nowrap" class="ft196103"><b>6&#160;&#160;&#160;Specification of TCG TSS/TPM DAA profile for DAA-TLS</b></p>
<p style="position:absolute;top:229px;left:83px;white-space:nowrap" class="ft19687">To&#160;have a complete specification&#160;for DAA-TLS it is necessary&#160;to&#160;define a DAA profile,&#160;<br/>i.e. a specific&#160;design and data&#160;format&#160;for DAA; therefore&#160;each profile must refer to&#160;a&#160;<br/>specific version of DAA protocol,&#160;standardized through a&#160;specification.&#160;The profile is&#160;<br/>build upon&#160;such base specification&#160;and must&#160;defines the (sub)set&#160;of features&#160;defined in&#160;<br/>the base specification&#160;to&#160;use for&#160;DAA-TLS, data&#160;encoding/decoding, interactions&#160;with&#160;<br/>APIs&#160;(if any), and any other aspect&#160;relevant to have a&#160;complete and interoperable&#160;<br/>specification for&#160;DAA-TLS.&#160;Depending on the features&#160;selected from&#160;the base&#160;<br/>specification, when defining a&#160;new DAA profile, it might be necessary&#160;to add&#160;new types&#160;<br/>for&#160;</p>
<p style="position:absolute;top:382px;left:111px;white-space:nowrap" class="ft196106"><b>DAAParam</b></p>
<p style="position:absolute;top:382px;left:191px;white-space:nowrap" class="ft19684">&#160;and&#160;</p>
<p style="position:absolute;top:382px;left:233px;white-space:nowrap" class="ft196106"><b>DAAReply</b></p>
<p style="position:absolute;top:382px;left:312px;white-space:nowrap" class="ft19684">&#160;respectively, thus leading to a&#160;new version of DAA-TLS.</p>
<p style="position:absolute;top:410px;left:83px;white-space:nowrap" class="ft19687">In this section&#160;a DAA profile based on TCG&#160;TSS&#160;[2]&#160;and TPM&#160;[1]&#160;specifications&#160;is defined&#160;<br/>for&#160;the DAA-enhanced TLS&#160;protocol&#160;specified in Section 5. This&#160;profile is identified by&#160;<br/>the value 1 to&#160;assign to&#160;</p>
<p style="position:absolute;top:449px;left:284px;white-space:nowrap" class="ft196106"><b>daa_binding_version</b></p>
<p style="position:absolute;top:449px;left:473px;white-space:nowrap" class="ft19684">&#160;carried by a&#160;</p>
<p style="position:absolute;top:449px;left:582px;white-space:nowrap" class="ft196106"><b>DAAParam</b></p>
<p style="position:absolute;top:449px;left:661px;white-space:nowrap" class="ft19684">.&#160;</p>
<p style="position:absolute;top:495px;left:83px;white-space:nowrap" class="ft196104"><i><b>6.1&#160;&#160;&#160;Profile&#160;requirements and specification</b></i></p>
<p style="position:absolute;top:526px;left:83px;white-space:nowrap" class="ft19688">This profile specifies that&#160;all functions and data&#160;structures&#160;related to the attributes of&#160;<br/>DAA credentials and the Anonymity Revocation&#160;Authority&#160;(ARA) defined by TSS&#160;<br/>specification [] must&#160;not be used with DAA-TLS. Future versions&#160;of this&#160;DAA&#160;profile may&#160;<br/>specify the use of such&#160;features.<br/>This profile requires a&#160;TCG-enabled platform&#160;for the TLS client (assuming&#160;the&#160;</p>
<p style="position:absolute;top:612px;left:726px;white-space:nowrap" class="ft196105"><i>platform&#160;</i></p>
<p style="position:absolute;top:631px;left:83px;white-space:nowrap" class="ft19687">DAA role) equipped with a TPM&#160;1.2 [1] and a&#160;TCG Software Stack&#160;(TSS) version&#160;1.2&#160;<br/>Errata&#160;A&#160;[2], while the TLS server (assuming the&#160;</p>
<p style="position:absolute;top:651px;left:487px;white-space:nowrap" class="ft196105"><i>verifier</i></p>
<p style="position:absolute;top:651px;left:545px;white-space:nowrap" class="ft19684">&#160;DAA role) must only have&#160;</p>
<p style="position:absolute;top:670px;left:83px;white-space:nowrap" class="ft19687">installed the TSS with the same version as&#160;the client.<br/>This profile define a&#160;list of&#160;the TSS functions&#160;required for DAA-TLS; for&#160;each one, the&#160;<br/>function prototype&#160;and a summary&#160;are included.<br/>This profile also&#160;defines the data&#160;encoding/decoding rules.<br/>Both&#160;the DAA-TLS&#160;handshake messages&#160;and the interactions&#160;(i.e. the function calls)&#160;<br/>with the TSP&#160;Interface exposed by TSS are shown in the combined diagram<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#197">&#160;of&#160;Figure 4.</a></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft19691">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft19691">18/28</p>
</div>
<!-- Page 197 -->
<a name="197"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page197-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2197.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft19790">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft19780">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft19791">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft19791">FINAL |&#160;1.10</p>
<p style="position:absolute;top:686px;left:83px;white-space:nowrap" class="ft197104"><i><b>6.2&#160;&#160;&#160;Prerequisites&#160;for using&#160;TSS functions for&#160;DAA-TLS</b></i></p>
<p style="position:absolute;top:718px;left:83px;white-space:nowrap" class="ft19787">The TSP Interface&#160;(TSPI) provided by TSS, exposes&#160;objects&#160;whose instances&#160;can be&#160;<br/>referenced through handles. Therefore before using an object&#160;it is necessary&#160;to create&#160;<br/>it and obtain the related handle; this can&#160;be done using specific&#160;functions&#160;provided by&#160;<br/>TSPI:&#160;this profile does not specify which&#160;functions&#160;must be used: refer to the TSS&#160;<br/>specification [2]. For&#160;this DAA profile, the necessary&#160;objects&#160;are:</p>
<p style="position:absolute;top:826px;left:110px;white-space:nowrap" class="ft19794">●</p>
<p style="position:absolute;top:823px;left:137px;white-space:nowrap" class="ft19784">TPM&#160;object&#160;that allows&#160;to use the chip functionalities</p>
<p style="position:absolute;top:854px;left:110px;white-space:nowrap" class="ft19794">●</p>
<p style="position:absolute;top:851px;left:137px;white-space:nowrap" class="ft19784">An object that&#160;contains&#160;information&#160;about the DAA issuer</p>
<p style="position:absolute;top:883px;left:110px;white-space:nowrap" class="ft19794">●</p>
<p style="position:absolute;top:880px;left:137px;white-space:nowrap" class="ft19784">DAA credentials</p>
<p style="position:absolute;top:908px;left:83px;white-space:nowrap" class="ft19787">Furthermore&#160;DAA-TLS requires that&#160;the platform&#160;(i.e. the TLS client) receives&#160;DAA&#160;<br/>credentials from&#160;a DAA issuer. This aspect&#160;is not covered in this document&#160;and it is&#160;<br/>supposed that&#160;such credentials&#160;are available on the client&#160;before the DAA-TLS&#160;<br/>handshake begins.</p>
<p style="position:absolute;top:1012px;left:83px;white-space:nowrap" class="ft197104"><i><b>6.3&#160;&#160;&#160;Nonce generation and basename</b></i></p>
<p style="position:absolute;top:1043px;left:83px;white-space:nowrap" class="ft19787">The nonce and the basename&#160;must be generated by the server&#160;and sent&#160;to the client&#160;<br/>via server&#160;hello&#160;extension; they must obtained by calling the TSS function</p>
<p style="position:absolute;top:1100px;left:105px;white-space:nowrap" class="ft197106"><b>TSS_RESULT&#160;Tspi_DAA_Verifier_Init</b></p>
<p style="position:absolute;top:1119px;left:158px;white-space:nowrap" class="ft197106"><b>(</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft19791">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft19791">19/28</p>
<p style="position:absolute;top:642px;left:151px;white-space:nowrap" class="ft197107"><i>Figure&#160;4:&#160;TCG&#160;TSS/TPM&#160;DAA profile for DAA-TLS: TLS&#160;handshake and&#160;TSS&#160;calls</i></p>
</div>
<!-- Page 198 -->
<a name="198"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page198-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2198.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft19890">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft19880">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft19891">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft19891">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:211px;white-space:nowrap" class="ft198106"><b>TSS_HDAA_CREDENTIAL</b></p>
<p style="position:absolute;top:149px;left:477px;white-space:nowrap" class="ft198106"><b>hDAACredential,</b></p>
<p style="position:absolute;top:149px;left:690px;white-space:nowrap" class="ft198106"><b>//&#160;in</b></p>
<p style="position:absolute;top:168px;left:211px;white-space:nowrap" class="ft198106"><b>UINT32*</b></p>
<p style="position:absolute;top:168px;left:477px;white-space:nowrap" class="ft198106"><b>nonceVerifierLength,&#160;//&#160;out</b></p>
<p style="position:absolute;top:188px;left:211px;white-space:nowrap" class="ft198106"><b>BYTE**</b></p>
<p style="position:absolute;top:188px;left:477px;white-space:nowrap" class="ft198106"><b>nonceVerifier,</b></p>
<p style="position:absolute;top:188px;left:690px;white-space:nowrap" class="ft198106"><b>//&#160;out</b></p>
<p style="position:absolute;top:207px;left:211px;white-space:nowrap" class="ft198106"><b>UINT32*</b></p>
<p style="position:absolute;top:207px;left:477px;white-space:nowrap" class="ft198106"><b>baseNameLength,</b></p>
<p style="position:absolute;top:207px;left:690px;white-space:nowrap" class="ft198106"><b>//&#160;out</b></p>
<p style="position:absolute;top:226px;left:211px;white-space:nowrap" class="ft198106"><b>BYTE**</b></p>
<p style="position:absolute;top:226px;left:477px;white-space:nowrap" class="ft198106"><b>baseName</b></p>
<p style="position:absolute;top:226px;left:690px;white-space:nowrap" class="ft198106"><b>//&#160;out</b></p>
<p style="position:absolute;top:245px;left:158px;white-space:nowrap" class="ft198106"><b>);</b></p>
<p style="position:absolute;top:282px;left:83px;white-space:nowrap" class="ft19888">where the first parameter&#160;is the handle of the DAA credential; the other&#160;parameters&#160;<br/>constitute&#160;the output of the function&#160;and represent respectively&#160;the size of&#160;the nonce,&#160;<br/>the nonce, the size of the basename&#160;and the basename.&#160;<br/>The nonce must be sent to the client as&#160;</p>
<p style="position:absolute;top:349px;left:417px;white-space:nowrap" class="ft198106"><b>Nonce</b></p>
<p style="position:absolute;top:349px;left:467px;white-space:nowrap" class="ft19884">&#160;as&#160;element of the list of&#160;</p>
<p style="position:absolute;top:349px;left:674px;white-space:nowrap" class="ft198106"><b>DAAParam&#160;</b></p>
<p style="position:absolute;top:368px;left:83px;white-space:nowrap" class="ft19884">carried&#160;over the&#160;</p>
<p style="position:absolute;top:368px;left:221px;white-space:nowrap" class="ft198106"><b>DAAAuth</b></p>
<p style="position:absolute;top:368px;left:291px;white-space:nowrap" class="ft19884">&#160;server hello extension.</p>
<p style="position:absolute;top:396px;left:83px;white-space:nowrap" class="ft19884">If the basename is not returned by the function (i.e.&#160;</p>
<p style="position:absolute;top:396px;left:518px;white-space:nowrap" class="ft198106"><b>*baseNameLength</b></p>
<p style="position:absolute;top:396px;left:667px;white-space:nowrap" class="ft19884">&#160;is set to&#160;0 and&#160;</p>
<p style="position:absolute;top:415px;left:83px;white-space:nowrap" class="ft198106"><b>**baseName</b></p>
<p style="position:absolute;top:415px;left:183px;white-space:nowrap" class="ft19884">&#160;to NULL), then the&#160;</p>
<p style="position:absolute;top:415px;left:345px;white-space:nowrap" class="ft198106"><b>Basename</b></p>
<p style="position:absolute;top:415px;left:424px;white-space:nowrap" class="ft19884">&#160;must&#160;be not present as&#160;element&#160;of the list of&#160;</p>
<p style="position:absolute;top:435px;left:83px;white-space:nowrap" class="ft198106"><b>DAAParam</b></p>
<p style="position:absolute;top:435px;left:163px;white-space:nowrap" class="ft19884">&#160;carried&#160;over the&#160;</p>
<p style="position:absolute;top:435px;left:306px;white-space:nowrap" class="ft198106"><b>DAAAuth</b></p>
<p style="position:absolute;top:435px;left:375px;white-space:nowrap" class="ft19884">&#160;server hello extension.</p>
<p style="position:absolute;top:481px;left:83px;white-space:nowrap" class="ft198104"><i><b>6.4&#160;&#160;&#160;DAA signature</b></i></p>
<p style="position:absolute;top:512px;left:83px;white-space:nowrap" class="ft19887">The client must&#160;generate&#160;the DAA&#160;signature over&#160;the self-signed TLS&#160;client certificate&#160;<br/>and optionally over additional data;&#160;the signature must be sent to the server via&#160;<br/>supplemental data&#160;entry.&#160;The signature is generated by calling the TSS function</p>
<p style="position:absolute;top:588px;left:105px;white-space:nowrap" class="ft198108"><b>TSS_RESULT&#160;Tspi_TPM_DAA_Sign<br/>(</b></p>
<p style="position:absolute;top:626px;left:158px;white-space:nowrap" class="ft198106"><b>TSS_HTPM</b></p>
<p style="position:absolute;top:626px;left:424px;white-space:nowrap" class="ft198106"><b>hTPM,</b></p>
<p style="position:absolute;top:626px;left:690px;white-space:nowrap" class="ft198106"><b>//&#160;in</b></p>
<p style="position:absolute;top:645px;left:158px;white-space:nowrap" class="ft198106"><b>TSS_HDAA_CREDENTIAL</b></p>
<p style="position:absolute;top:645px;left:424px;white-space:nowrap" class="ft198106"><b>hDAACredential,</b></p>
<p style="position:absolute;top:645px;left:690px;white-space:nowrap" class="ft198106"><b>//&#160;in</b></p>
<p style="position:absolute;top:665px;left:158px;white-space:nowrap" class="ft198106"><b>TSS_HDAA_ARA_KEY</b></p>
<p style="position:absolute;top:665px;left:424px;white-space:nowrap" class="ft198106"><b>hARAKey,</b></p>
<p style="position:absolute;top:665px;left:690px;white-space:nowrap" class="ft198106"><b>//&#160;in</b></p>
<p style="position:absolute;top:684px;left:158px;white-space:nowrap" class="ft198106"><b>TSS_HHASH</b></p>
<p style="position:absolute;top:684px;left:424px;white-space:nowrap" class="ft198106"><b>hARACondition,</b></p>
<p style="position:absolute;top:684px;left:690px;white-space:nowrap" class="ft198106"><b>//&#160;in</b></p>
<p style="position:absolute;top:703px;left:158px;white-space:nowrap" class="ft198106"><b>TSS_DAA_SELECTED_ATTRIB*</b></p>
<p style="position:absolute;top:703px;left:424px;white-space:nowrap" class="ft198106"><b>revealAttributes,</b></p>
<p style="position:absolute;top:703px;left:690px;white-space:nowrap" class="ft198106"><b>//&#160;in</b></p>
<p style="position:absolute;top:722px;left:158px;white-space:nowrap" class="ft198106"><b>UINT32</b></p>
<p style="position:absolute;top:722px;left:424px;white-space:nowrap" class="ft198106"><b>verifierNonceLength,</b></p>
<p style="position:absolute;top:722px;left:690px;white-space:nowrap" class="ft198106"><b>//&#160;in</b></p>
<p style="position:absolute;top:741px;left:158px;white-space:nowrap" class="ft198106"><b>BYTE*</b></p>
<p style="position:absolute;top:741px;left:424px;white-space:nowrap" class="ft198106"><b>verifierNonce,</b></p>
<p style="position:absolute;top:741px;left:690px;white-space:nowrap" class="ft198106"><b>//&#160;in</b></p>
<p style="position:absolute;top:761px;left:158px;white-space:nowrap" class="ft198106"><b>UINT32</b></p>
<p style="position:absolute;top:761px;left:424px;white-space:nowrap" class="ft198106"><b>verifierBaseNameLength,</b></p>
<p style="position:absolute;top:761px;left:690px;white-space:nowrap" class="ft198106"><b>//&#160;in</b></p>
<p style="position:absolute;top:780px;left:158px;white-space:nowrap" class="ft198106"><b>BYTE*</b></p>
<p style="position:absolute;top:780px;left:424px;white-space:nowrap" class="ft198106"><b>verifierBaseName,</b></p>
<p style="position:absolute;top:780px;left:690px;white-space:nowrap" class="ft198106"><b>//&#160;in</b></p>
<p style="position:absolute;top:799px;left:158px;white-space:nowrap" class="ft198106"><b>TSS_HOBJECT</b></p>
<p style="position:absolute;top:799px;left:424px;white-space:nowrap" class="ft198106"><b>signData,</b></p>
<p style="position:absolute;top:799px;left:690px;white-space:nowrap" class="ft198106"><b>//&#160;in</b></p>
<p style="position:absolute;top:818px;left:158px;white-space:nowrap" class="ft198106"><b>TSS_DAA_SIGNATURE**</b></p>
<p style="position:absolute;top:818px;left:424px;white-space:nowrap" class="ft198106"><b>daaSignature</b></p>
<p style="position:absolute;top:818px;left:690px;white-space:nowrap" class="ft198106"><b>//&#160;out</b></p>
<p style="position:absolute;top:837px;left:105px;white-space:nowrap" class="ft198106"><b>);</b></p>
<p style="position:absolute;top:874px;left:83px;white-space:nowrap" class="ft19884">where the parameters&#160;are:</p>
<p style="position:absolute;top:906px;left:110px;white-space:nowrap" class="ft19894">●</p>
<p style="position:absolute;top:903px;left:137px;white-space:nowrap" class="ft198106"><b>hTPM</b></p>
<p style="position:absolute;top:903px;left:177px;white-space:nowrap" class="ft19884">&#160;is the handle of the TPM&#160;object</p>
<p style="position:absolute;top:934px;left:110px;white-space:nowrap" class="ft19894">●</p>
<p style="position:absolute;top:931px;left:137px;white-space:nowrap" class="ft198106"><b>hDAACredential</b></p>
<p style="position:absolute;top:931px;left:277px;white-space:nowrap" class="ft19884">&#160;is the handle of the object&#160;holding the DAA credential</p>
<p style="position:absolute;top:963px;left:110px;white-space:nowrap" class="ft19894">●</p>
<p style="position:absolute;top:960px;left:137px;white-space:nowrap" class="ft198106"><b>hARAKey</b></p>
<p style="position:absolute;top:960px;left:207px;white-space:nowrap" class="ft19884">&#160;is the handle of the Anonymity&#160;Revocation&#160;Authority (ARA)&#160;object.&#160;If it&#160;</p>
<p style="position:absolute;top:979px;left:137px;white-space:nowrap" class="ft19884">is NULL, then ARA&#160;is not used. This profile requires&#160;this parameter&#160;set to&#160;NULL</p>
<p style="position:absolute;top:1010px;left:110px;white-space:nowrap" class="ft19894">●</p>
<p style="position:absolute;top:1007px;left:137px;white-space:nowrap" class="ft198106"><b>hARACondition</b></p>
<p style="position:absolute;top:1007px;left:267px;white-space:nowrap" class="ft19884">&#160;is the handle of the object&#160;indicating the conditions&#160;under which&#160;</p>
<p style="position:absolute;top:1027px;left:137px;white-space:nowrap" class="ft19884">ARA&#160;should reveal the pseudonym.&#160;This&#160;must be NULL&#160;if&#160;</p>
<p style="position:absolute;top:1027px;left:608px;white-space:nowrap" class="ft198106"><b>hARAKey</b></p>
<p style="position:absolute;top:1027px;left:678px;white-space:nowrap" class="ft19884">&#160;is NULL. This&#160;</p>
<p style="position:absolute;top:1046px;left:137px;white-space:nowrap" class="ft19884">profile requires&#160;this parameter&#160;set to&#160;NULL</p>
<p style="position:absolute;top:1077px;left:110px;white-space:nowrap" class="ft19894">●</p>
<p style="position:absolute;top:1074px;left:137px;white-space:nowrap" class="ft198106"><b>revealAttributes</b></p>
<p style="position:absolute;top:1074px;left:296px;white-space:nowrap" class="ft19884">&#160;represents the attributes the credential owner wants&#160;to&#160;</p>
<p style="position:absolute;top:1094px;left:137px;white-space:nowrap" class="ft19884">reveal to the DAA verifier. This profile requires this parameter&#160;set to&#160;NULL</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft19891">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft19891">20/28</p>
</div>
<!-- Page 199 -->
<a name="199"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page199-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2199.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft19990">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft19980">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft19991">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft19991">FINAL |&#160;1.10</p>
<p style="position:absolute;top:152px;left:110px;white-space:nowrap" class="ft19994">●</p>
<p style="position:absolute;top:149px;left:137px;white-space:nowrap" class="ft199106"><b>verifierBaseName</b></p>
<p style="position:absolute;top:149px;left:296px;white-space:nowrap" class="ft19984">&#160;and&#160;</p>
<p style="position:absolute;top:149px;left:338px;white-space:nowrap" class="ft199106"><b>verifierBaseNameLength</b></p>
<p style="position:absolute;top:149px;left:557px;white-space:nowrap" class="ft19984">&#160;are the respectively&#160;</p>
<p style="position:absolute;top:169px;left:137px;white-space:nowrap" class="ft19987">basename&#160;and its&#160;length. The basename must&#160;be set to&#160;the value received by&#160;<br/>the client as&#160;</p>
<p style="position:absolute;top:188px;left:244px;white-space:nowrap" class="ft199106"><b>Basename</b></p>
<p style="position:absolute;top:188px;left:324px;white-space:nowrap" class="ft19984">&#160;as&#160;element of the list&#160;of&#160;</p>
<p style="position:absolute;top:188px;left:531px;white-space:nowrap" class="ft199106"><b>DAAParam</b></p>
<p style="position:absolute;top:188px;left:610px;white-space:nowrap" class="ft19984">&#160;carried over&#160;the&#160;</p>
<p style="position:absolute;top:207px;left:137px;white-space:nowrap" class="ft199106"><b>DAAAuth</b></p>
<p style="position:absolute;top:207px;left:207px;white-space:nowrap" class="ft19984">&#160;server&#160;hello extension. If&#160;</p>
<p style="position:absolute;top:207px;left:422px;white-space:nowrap" class="ft199106"><b>Basename</b></p>
<p style="position:absolute;top:207px;left:502px;white-space:nowrap" class="ft19984">&#160;was&#160;not present as&#160;element of the&#160;</p>
<p style="position:absolute;top:226px;left:137px;white-space:nowrap" class="ft19984">list of&#160;</p>
<p style="position:absolute;top:226px;left:188px;white-space:nowrap" class="ft199106"><b>DAAParam</b></p>
<p style="position:absolute;top:226px;left:268px;white-space:nowrap" class="ft19984">, then&#160;</p>
<p style="position:absolute;top:226px;left:321px;white-space:nowrap" class="ft199106"><b>verifierBaseName</b></p>
<p style="position:absolute;top:226px;left:480px;white-space:nowrap" class="ft19984">&#160;must be set to NULL&#160;and&#160;</p>
<p style="position:absolute;top:246px;left:137px;white-space:nowrap" class="ft199106"><b>verifierBaseNameLength</b></p>
<p style="position:absolute;top:246px;left:356px;white-space:nowrap" class="ft19984">&#160;must be set to 0</p>
<p style="position:absolute;top:277px;left:110px;white-space:nowrap" class="ft19994">●</p>
<p style="position:absolute;top:274px;left:137px;white-space:nowrap" class="ft199106"><b>verifierNonce</b></p>
<p style="position:absolute;top:274px;left:267px;white-space:nowrap" class="ft19984">&#160;and&#160;</p>
<p style="position:absolute;top:274px;left:308px;white-space:nowrap" class="ft199106"><b>verifierNonceLength</b></p>
<p style="position:absolute;top:274px;left:497px;white-space:nowrap" class="ft19984">&#160;are respectively&#160;the nonce and its&#160;</p>
<p style="position:absolute;top:293px;left:137px;white-space:nowrap" class="ft19984">length. The nonce&#160;must be set to the value received by the client as&#160;</p>
<p style="position:absolute;top:293px;left:708px;white-space:nowrap" class="ft199106"><b>Nonce&#160;</b></p>
<p style="position:absolute;top:312px;left:137px;white-space:nowrap" class="ft19984">element of the list of&#160;</p>
<p style="position:absolute;top:312px;left:315px;white-space:nowrap" class="ft199106"><b>DAAParam</b></p>
<p style="position:absolute;top:312px;left:394px;white-space:nowrap" class="ft19984">&#160;carried&#160;over the&#160;</p>
<p style="position:absolute;top:312px;left:537px;white-space:nowrap" class="ft199106"><b>DAAAuth</b></p>
<p style="position:absolute;top:312px;left:607px;white-space:nowrap" class="ft19984">&#160;server hello extension.&#160;</p>
<p style="position:absolute;top:344px;left:110px;white-space:nowrap" class="ft19994">●</p>
<p style="position:absolute;top:341px;left:137px;white-space:nowrap" class="ft199106"><b>signData</b></p>
<p style="position:absolute;top:341px;left:217px;white-space:nowrap" class="ft19984">&#160;is the handle of the object&#160;containing data&#160;to&#160;be DAA-signed to bind&#160;</p>
<p style="position:absolute;top:360px;left:137px;white-space:nowrap" class="ft19984">the TLS session to&#160;the DAA&#160;authentication;&#160;the type of the handle must be&#160;</p>
<p style="position:absolute;top:379px;left:137px;white-space:nowrap" class="ft199106"><b>TSS_HHASH</b></p>
<p style="position:absolute;top:379px;left:227px;white-space:nowrap" class="ft19984">; the data&#160;carried&#160;by the object must&#160;be the digest calculated&#160;using&#160;</p>
<p style="position:absolute;top:399px;left:137px;white-space:nowrap" class="ft19987">SHA-1 algorithm over the self-signed TLS client certificate&#160;(DER-encoded) and, if&#160;<br/>present, additional data.&#160;The details of&#160;this calculation&#160;are specified in&#160;section&#160;<br/>5.3. The output of the calculation must&#160;be used to instantiate the object&#160;<br/>referenced by&#160;</p>
<p style="position:absolute;top:456px;left:258px;white-space:nowrap" class="ft199106"><b>signData</b></p>
<p style="position:absolute;top:456px;left:338px;white-space:nowrap" class="ft19984">&#160;and must&#160;also be sent to the server as&#160;</p>
<p style="position:absolute;top:456px;left:667px;white-space:nowrap" class="ft199106"><b>SignedDigest&#160;</b></p>
<p style="position:absolute;top:475px;left:137px;white-space:nowrap" class="ft19984">(together with the additional data, if any, as&#160;</p>
<p style="position:absolute;top:475px;left:508px;white-space:nowrap" class="ft199106"><b>AdditionalSignedData</b></p>
<p style="position:absolute;top:475px;left:707px;white-space:nowrap" class="ft19984">&#160;element of&#160;</p>
<p style="position:absolute;top:495px;left:137px;white-space:nowrap" class="ft19984">the list&#160;of&#160;</p>
<p style="position:absolute;top:495px;left:221px;white-space:nowrap" class="ft199106"><b>DAAReply</b></p>
<p style="position:absolute;top:495px;left:300px;white-space:nowrap" class="ft19984">&#160;carried over&#160;the&#160;</p>
<p style="position:absolute;top:495px;left:443px;white-space:nowrap" class="ft199106"><b>DAAAuth</b></p>
<p style="position:absolute;top:495px;left:512px;white-space:nowrap" class="ft19984">&#160;supplemental data&#160;entry</p>
<p style="position:absolute;top:526px;left:110px;white-space:nowrap" class="ft19994">●</p>
<p style="position:absolute;top:523px;left:137px;white-space:nowrap" class="ft199106"><b>daaSignature</b></p>
<p style="position:absolute;top:523px;left:257px;white-space:nowrap" class="ft19984">&#160;is the output of the function, i.e. the DAA signature performed&#160;by&#160;</p>
<p style="position:absolute;top:542px;left:137px;white-space:nowrap" class="ft19984">TSS/TPM&#160;with the credential handled by&#160;</p>
<p style="position:absolute;top:542px;left:472px;white-space:nowrap" class="ft199106"><b>hDAACredential</b></p>
<p style="position:absolute;top:542px;left:611px;white-space:nowrap" class="ft19984">, over&#160;</p>
<p style="position:absolute;top:542px;left:663px;white-space:nowrap" class="ft199106"><b>SignData</b></p>
<p style="position:absolute;top:542px;left:743px;white-space:nowrap" class="ft19984">&#160;using&#160;</p>
<p style="position:absolute;top:561px;left:137px;white-space:nowrap" class="ft19987">the nonce received from&#160;the server and the basename either received from the&#160;<br/>server&#160;or randomly&#160;generated&#160;by the client&#160;itself at the signature&#160;time.&#160;</p>
<p style="position:absolute;top:600px;left:137px;white-space:nowrap" class="ft199106"><b>DaaSignature</b></p>
<p style="position:absolute;top:600px;left:257px;white-space:nowrap" class="ft19984">&#160;must&#160;be sent to&#160;the server as&#160;</p>
<p style="position:absolute;top:600px;left:511px;white-space:nowrap" class="ft199106"><b>DAASignature</b></p>
<p style="position:absolute;top:600px;left:630px;white-space:nowrap" class="ft19984">&#160;element of the list of&#160;</p>
<p style="position:absolute;top:619px;left:137px;white-space:nowrap" class="ft199106"><b>DAAReply</b></p>
<p style="position:absolute;top:619px;left:217px;white-space:nowrap" class="ft19984">&#160;carried&#160;over the&#160;</p>
<p style="position:absolute;top:619px;left:360px;white-space:nowrap" class="ft199106"><b>DAAAuth</b></p>
<p style="position:absolute;top:619px;left:429px;white-space:nowrap" class="ft19984">&#160;supplemental&#160;data entry</p>
<p style="position:absolute;top:665px;left:83px;white-space:nowrap" class="ft199104"><i><b>6.5&#160;&#160;&#160;Signature&#160;verification</b></i></p>
<p style="position:absolute;top:697px;left:83px;white-space:nowrap" class="ft19987">The server must&#160;verify the DAA&#160;signature received from client through the&#160;<br/>supplemental data.&#160;The signature is verified by calling the TSS function</p>
<p style="position:absolute;top:744px;left:105px;white-space:nowrap" class="ft199108"><b>TSS_RESULT&#160;Tspi_DAA_VerifySignature<br/>(</b></p>
<p style="position:absolute;top:782px;left:158px;white-space:nowrap" class="ft199106"><b>TSS_HDAA_CREDENTIAL</b></p>
<p style="position:absolute;top:782px;left:424px;white-space:nowrap" class="ft199106"><b>hDAACredential,</b></p>
<p style="position:absolute;top:782px;left:690px;white-space:nowrap" class="ft199106"><b>//&#160;in</b></p>
<p style="position:absolute;top:802px;left:158px;white-space:nowrap" class="ft199106"><b>TSS_HDAA_ISSUER_KEY</b></p>
<p style="position:absolute;top:802px;left:424px;white-space:nowrap" class="ft199106"><b>hIssuerKey,</b></p>
<p style="position:absolute;top:802px;left:690px;white-space:nowrap" class="ft199106"><b>//&#160;in</b></p>
<p style="position:absolute;top:821px;left:158px;white-space:nowrap" class="ft199106"><b>TSS_HDAA_ARA_KEY</b></p>
<p style="position:absolute;top:821px;left:424px;white-space:nowrap" class="ft199106"><b>hARAKey,</b></p>
<p style="position:absolute;top:821px;left:690px;white-space:nowrap" class="ft199106"><b>//&#160;in</b></p>
<p style="position:absolute;top:840px;left:158px;white-space:nowrap" class="ft199106"><b>TSS_HHASH</b></p>
<p style="position:absolute;top:840px;left:424px;white-space:nowrap" class="ft199106"><b>hARACondition,</b></p>
<p style="position:absolute;top:840px;left:690px;white-space:nowrap" class="ft199106"><b>//&#160;in</b></p>
<p style="position:absolute;top:859px;left:158px;white-space:nowrap" class="ft199106"><b>UINT32&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;</b></p>
<p style="position:absolute;top:859px;left:424px;white-space:nowrap" class="ft199106"><b>attributesLength,</b></p>
<p style="position:absolute;top:859px;left:690px;white-space:nowrap" class="ft199106"><b>//&#160;in</b></p>
<p style="position:absolute;top:878px;left:158px;white-space:nowrap" class="ft199106"><b>UINT32&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;</b></p>
<p style="position:absolute;top:878px;left:424px;white-space:nowrap" class="ft199106"><b>attributesLength2,</b></p>
<p style="position:absolute;top:878px;left:690px;white-space:nowrap" class="ft199106"><b>//&#160;in</b></p>
<p style="position:absolute;top:898px;left:158px;white-space:nowrap" class="ft199106"><b>BYTE**&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;</b></p>
<p style="position:absolute;top:898px;left:424px;white-space:nowrap" class="ft199106"><b>attributes,</b></p>
<p style="position:absolute;top:898px;left:690px;white-space:nowrap" class="ft199106"><b>//&#160;in</b></p>
<p style="position:absolute;top:917px;left:158px;white-space:nowrap" class="ft199106"><b>UINT32&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;</b></p>
<p style="position:absolute;top:917px;left:424px;white-space:nowrap" class="ft199106"><b>verifierNonceLength,</b></p>
<p style="position:absolute;top:917px;left:690px;white-space:nowrap" class="ft199106"><b>//&#160;in</b></p>
<p style="position:absolute;top:936px;left:158px;white-space:nowrap" class="ft199106"><b>BYTE*&#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;</b></p>
<p style="position:absolute;top:936px;left:424px;white-space:nowrap" class="ft199106"><b>verifierNonce,</b></p>
<p style="position:absolute;top:936px;left:690px;white-space:nowrap" class="ft199106"><b>//&#160;in</b></p>
<p style="position:absolute;top:955px;left:158px;white-space:nowrap" class="ft199106"><b>UINT32&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;</b></p>
<p style="position:absolute;top:955px;left:424px;white-space:nowrap" class="ft199106"><b>verifierBaseNameLength,</b></p>
<p style="position:absolute;top:955px;left:690px;white-space:nowrap" class="ft199106"><b>//&#160;in</b></p>
<p style="position:absolute;top:974px;left:158px;white-space:nowrap" class="ft199106"><b>BYTE*&#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;</b></p>
<p style="position:absolute;top:974px;left:424px;white-space:nowrap" class="ft199106"><b>verifierBaseName,</b></p>
<p style="position:absolute;top:974px;left:690px;white-space:nowrap" class="ft199106"><b>//&#160;in</b></p>
<p style="position:absolute;top:994px;left:158px;white-space:nowrap" class="ft199106"><b>TSS_HOBJECT&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;</b></p>
<p style="position:absolute;top:994px;left:424px;white-space:nowrap" class="ft199106"><b>signData,</b></p>
<p style="position:absolute;top:994px;left:690px;white-space:nowrap" class="ft199106"><b>//&#160;in</b></p>
<p style="position:absolute;top:1013px;left:158px;white-space:nowrap" class="ft199106"><b>TSS_DAA_SIGNATURE*&#160;&#160; &#160;</b></p>
<p style="position:absolute;top:1013px;left:424px;white-space:nowrap" class="ft199106"><b>daaSignature,</b></p>
<p style="position:absolute;top:1013px;left:690px;white-space:nowrap" class="ft199106"><b>//&#160;in</b></p>
<p style="position:absolute;top:1032px;left:158px;white-space:nowrap" class="ft199106"><b>TSS_BOOL*&#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;</b></p>
<p style="position:absolute;top:1032px;left:424px;white-space:nowrap" class="ft199106"><b>isCorrect</b></p>
<p style="position:absolute;top:1032px;left:690px;white-space:nowrap" class="ft199106"><b>//&#160;out</b></p>
<p style="position:absolute;top:1051px;left:105px;white-space:nowrap" class="ft199106"><b>);</b></p>
<p style="position:absolute;top:1088px;left:83px;white-space:nowrap" class="ft19984">where the parameters&#160;are:</p>
<p style="position:absolute;top:1119px;left:110px;white-space:nowrap" class="ft19994">●</p>
<p style="position:absolute;top:1116px;left:137px;white-space:nowrap" class="ft199106"><b>hDAACredential</b></p>
<p style="position:absolute;top:1116px;left:277px;white-space:nowrap" class="ft19984">&#160;is the handle of the object&#160;holding the DAA credential</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft19991">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft19991">21/28</p>
</div>
<!-- Page 200 -->
<a name="200"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft200109{font-size:18px;font-family:FAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page200-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2200.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft20090">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft20080">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft20091">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft20091">FINAL |&#160;1.10</p>
<p style="position:absolute;top:152px;left:110px;white-space:nowrap" class="ft20094">●</p>
<p style="position:absolute;top:149px;left:137px;white-space:nowrap" class="ft200106"><b>hIssuerKey</b></p>
<p style="position:absolute;top:149px;left:237px;white-space:nowrap" class="ft20084">&#160;is the handle of the object&#160;holding the issuer public key</p>
<p style="position:absolute;top:181px;left:110px;white-space:nowrap" class="ft20094">●</p>
<p style="position:absolute;top:178px;left:137px;white-space:nowrap" class="ft200106"><b>hARAKey</b></p>
<p style="position:absolute;top:178px;left:207px;white-space:nowrap" class="ft20084">&#160;is the handle of the Anonymity&#160;Revocation&#160;Authority (ARA)&#160;object.&#160;If it&#160;</p>
<p style="position:absolute;top:197px;left:137px;white-space:nowrap" class="ft20084">is NULL, then ARA&#160;is not used. This profile requires&#160;this parameter&#160;set to&#160;NULL</p>
<p style="position:absolute;top:228px;left:110px;white-space:nowrap" class="ft20094">●</p>
<p style="position:absolute;top:225px;left:137px;white-space:nowrap" class="ft200106"><b>hARACondition</b></p>
<p style="position:absolute;top:225px;left:267px;white-space:nowrap" class="ft20084">&#160;is the handle of the object&#160;indicating the conditions&#160;under which&#160;</p>
<p style="position:absolute;top:245px;left:137px;white-space:nowrap" class="ft20084">ARA&#160;should reveal the pseudonym.&#160;This&#160;must be NULL&#160;if&#160;</p>
<p style="position:absolute;top:245px;left:608px;white-space:nowrap" class="ft200106"><b>hARAKey</b></p>
<p style="position:absolute;top:245px;left:678px;white-space:nowrap" class="ft20084">&#160;is NULL. This&#160;</p>
<p style="position:absolute;top:264px;left:137px;white-space:nowrap" class="ft20084">profile requires&#160;this parameter&#160;set to&#160;NULL</p>
<p style="position:absolute;top:295px;left:110px;white-space:nowrap" class="ft20094">●</p>
<p style="position:absolute;top:292px;left:137px;white-space:nowrap" class="ft200106"><b>attributesLength</b></p>
<p style="position:absolute;top:292px;left:296px;white-space:nowrap" class="ft20084">,&#160;</p>
<p style="position:absolute;top:292px;left:307px;white-space:nowrap" class="ft200106"><b>attributesLength2</b></p>
<p style="position:absolute;top:292px;left:476px;white-space:nowrap" class="ft20084">&#160;and&#160;</p>
<p style="position:absolute;top:292px;left:518px;white-space:nowrap" class="ft200106"><b>attributes</b></p>
<p style="position:absolute;top:292px;left:617px;white-space:nowrap" class="ft20084">&#160;are&#160;respectively the&#160;</p>
<p style="position:absolute;top:312px;left:137px;white-space:nowrap" class="ft20087">number&#160;of attributes revealed by the owner of the DAA&#160;credential, the size in&#160;<br/>bytes of each&#160;attribute and the list of the revealed attributes. This profile&#160;<br/>requires&#160;the first two&#160;parameters&#160;set to&#160;0 and the last&#160;one set&#160;to NULL</p>
<p style="position:absolute;top:381px;left:110px;white-space:nowrap" class="ft20094">●</p>
<p style="position:absolute;top:378px;left:137px;white-space:nowrap" class="ft200106"><b>verifierBaseName</b></p>
<p style="position:absolute;top:378px;left:296px;white-space:nowrap" class="ft20084">&#160;and&#160;</p>
<p style="position:absolute;top:378px;left:338px;white-space:nowrap" class="ft200106"><b>verifierBaseNameLength</b></p>
<p style="position:absolute;top:378px;left:557px;white-space:nowrap" class="ft20084">&#160;are respectively&#160;the&#160;</p>
<p style="position:absolute;top:398px;left:137px;white-space:nowrap" class="ft20084">basename&#160;and its&#160;length used for the signature.&#160;If the function&#160;</p>
<p style="position:absolute;top:417px;left:137px;white-space:nowrap" class="ft200106"><b>Tspi_DAA_VerifyInit</b></p>
<p style="position:absolute;top:417px;left:326px;white-space:nowrap" class="ft20084">&#160;previously called by the server returned a&#160;basename,&#160;</p>
<p style="position:absolute;top:436px;left:137px;white-space:nowrap" class="ft20084">then&#160;</p>
<p style="position:absolute;top:436px;left:180px;white-space:nowrap" class="ft200106"><b>verifierBaseName</b></p>
<p style="position:absolute;top:436px;left:339px;white-space:nowrap" class="ft20084">&#160;and&#160;</p>
<p style="position:absolute;top:436px;left:381px;white-space:nowrap" class="ft200106"><b>verifierBaseNameLength</b></p>
<p style="position:absolute;top:436px;left:599px;white-space:nowrap" class="ft20084">&#160;must&#160;be set to&#160;</p>
<p style="position:absolute;top:456px;left:137px;white-space:nowrap" class="ft20084">corresponding&#160;values returned by&#160;</p>
<p style="position:absolute;top:456px;left:423px;white-space:nowrap" class="ft200106"><b>Tspi_DAA_VerifyInit</b></p>
<p style="position:absolute;top:456px;left:612px;white-space:nowrap" class="ft20084">. Instead, if the latter&#160;</p>
<p style="position:absolute;top:475px;left:137px;white-space:nowrap" class="ft20084">returned NULL,&#160;then&#160;</p>
<p style="position:absolute;top:475px;left:311px;white-space:nowrap" class="ft200106"><b>verifierBaseName</b></p>
<p style="position:absolute;top:475px;left:470px;white-space:nowrap" class="ft20084">&#160;and&#160;</p>
<p style="position:absolute;top:475px;left:511px;white-space:nowrap" class="ft200106"><b>verifierBaseNameLength</b></p>
<p style="position:absolute;top:475px;left:730px;white-space:nowrap" class="ft20084">&#160;must be&#160;</p>
<p style="position:absolute;top:494px;left:137px;white-space:nowrap" class="ft20084">set to&#160;the basename randomly chosen&#160;by the client and sent to&#160;the server&#160;as&#160;</p>
<p style="position:absolute;top:513px;left:137px;white-space:nowrap" class="ft200106"><b>Basename</b></p>
<p style="position:absolute;top:513px;left:217px;white-space:nowrap" class="ft20084">&#160;element of the list of&#160;</p>
<p style="position:absolute;top:513px;left:400px;white-space:nowrap" class="ft200106"><b>DAAReply</b></p>
<p style="position:absolute;top:513px;left:479px;white-space:nowrap" class="ft20084">, carried&#160;over the&#160;</p>
<p style="position:absolute;top:513px;left:627px;white-space:nowrap" class="ft200106"><b>DAAAuth&#160;</b></p>
<p style="position:absolute;top:532px;left:137px;white-space:nowrap" class="ft20084">supplemental data&#160;entry</p>
<p style="position:absolute;top:563px;left:110px;white-space:nowrap" class="ft20094">●</p>
<p style="position:absolute;top:561px;left:137px;white-space:nowrap" class="ft200106"><b>verifierNonce</b></p>
<p style="position:absolute;top:561px;left:267px;white-space:nowrap" class="ft20084">&#160;and&#160;</p>
<p style="position:absolute;top:561px;left:308px;white-space:nowrap" class="ft200106"><b>verifierNonceLength</b></p>
<p style="position:absolute;top:561px;left:497px;white-space:nowrap" class="ft20084">&#160;are respectively&#160;the nonce and its&#160;</p>
<p style="position:absolute;top:580px;left:137px;white-space:nowrap" class="ft20087">length used for the signature and must&#160;be set to&#160;the corresponding&#160;values&#160;<br/>returned by the function&#160;</p>
<p style="position:absolute;top:599px;left:345px;white-space:nowrap" class="ft200106"><b>Tspi_DAA_VerifyInit</b></p>
<p style="position:absolute;top:599px;left:534px;white-space:nowrap" class="ft20084">&#160;previously called by the server</p>
<p style="position:absolute;top:630px;left:110px;white-space:nowrap" class="ft20094">●</p>
<p style="position:absolute;top:627px;left:137px;white-space:nowrap" class="ft200106"><b>signData</b></p>
<p style="position:absolute;top:627px;left:217px;white-space:nowrap" class="ft20084">&#160;is the handle of the object&#160;containing data&#160;DAA-signed by the client&#160;to&#160;</p>
<p style="position:absolute;top:647px;left:137px;white-space:nowrap" class="ft20084">bind the TLS session to&#160;the DAA&#160;authentication;&#160;the type of the handle must be&#160;</p>
<p style="position:absolute;top:666px;left:137px;white-space:nowrap" class="ft200106"><b>TSS_HHASH</b></p>
<p style="position:absolute;top:666px;left:227px;white-space:nowrap" class="ft20084">; this&#160;object&#160;must be created with using the data received from the&#160;</p>
<p style="position:absolute;top:685px;left:137px;white-space:nowrap" class="ft20084">client&#160;as&#160;</p>
<p style="position:absolute;top:685px;left:212px;white-space:nowrap" class="ft200106"><b>SignedDigest</b></p>
<p style="position:absolute;top:685px;left:331px;white-space:nowrap" class="ft20084">&#160;element of the list of&#160;</p>
<p style="position:absolute;top:685px;left:514px;white-space:nowrap" class="ft200106"><b>DAAReply</b></p>
<p style="position:absolute;top:685px;left:593px;white-space:nowrap" class="ft20084">&#160;carried&#160;over the&#160;</p>
<p style="position:absolute;top:685px;left:736px;white-space:nowrap" class="ft200106"><b>DAAAuth&#160;</b></p>
<p style="position:absolute;top:705px;left:137px;white-space:nowrap" class="ft20084">supplemental data&#160;entry&#160;&#160;</p>
<p style="position:absolute;top:736px;left:110px;white-space:nowrap" class="ft20094">●</p>
<p style="position:absolute;top:733px;left:137px;white-space:nowrap" class="ft200106"><b>daaSignature</b></p>
<p style="position:absolute;top:733px;left:257px;white-space:nowrap" class="ft20084">&#160;is the actual&#160;signature to&#160;be verified, received by the client as&#160;</p>
<p style="position:absolute;top:752px;left:137px;white-space:nowrap" class="ft200106"><b>DAASignature</b></p>
<p style="position:absolute;top:752px;left:257px;white-space:nowrap" class="ft20084">&#160;element of the list of&#160;</p>
<p style="position:absolute;top:752px;left:439px;white-space:nowrap" class="ft200106"><b>DAAReply</b></p>
<p style="position:absolute;top:752px;left:519px;white-space:nowrap" class="ft20084">&#160;carried&#160;over the&#160;</p>
<p style="position:absolute;top:752px;left:662px;white-space:nowrap" class="ft200106"><b>DAAAuth&#160;</b></p>
<p style="position:absolute;top:771px;left:137px;white-space:nowrap" class="ft20084">supplemental data&#160;entry</p>
<p style="position:absolute;top:803px;left:110px;white-space:nowrap" class="ft20094">●</p>
<p style="position:absolute;top:800px;left:137px;white-space:nowrap" class="ft200106"><b>isCorrect</b></p>
<p style="position:absolute;top:800px;left:227px;white-space:nowrap" class="ft20084">&#160;is the function output and indicates&#160;if the verification of the DAA&#160;</p>
<p style="position:absolute;top:819px;left:137px;white-space:nowrap" class="ft20084">signature was&#160;successful</p>
<p style="position:absolute;top:865px;left:83px;white-space:nowrap" class="ft200104"><i><b>6.6&#160;&#160;&#160;Data&#160;encoding/decoding</b></i></p>
<p style="position:absolute;top:915px;left:83px;white-space:nowrap" class="ft200109"><i><b>6.6.1 &#160;&#160;Basic data types</b></i></p>
<p style="position:absolute;top:945px;left:83px;white-space:nowrap" class="ft20087">According to&#160;[2], Section 4.3.4.29.10, all DAA-related data&#160;structures&#160;used as&#160;<br/>input/output to/from&#160;TSS are&#160;encoded with the big endian&#160;(or network order byte)&#160;<br/>format,&#160;with the Most&#160;Significant&#160;Byte at&#160;the far left of a&#160;multi-byte data&#160;unit (e.g.&#160;<br/>buffer or&#160;word) and th Least&#160;Significant&#160;Byte at&#160;the far&#160;right. Since&#160;data structures&#160;can&#160;<br/>contain&#160;other embedded structures&#160;but are&#160;at the end made up of elementary&#160;data,&#160;<br/>also&#160;the latter are encoded with the big endian format<br/>According to&#160;[3], Section 4, all data&#160;types&#160;defined using the Presentation Language for&#160;<br/>TLS&#160;(like&#160;</p>
<p style="position:absolute;top:1088px;left:159px;white-space:nowrap" class="ft200106"><b>DAAAuth</b></p>
<p style="position:absolute;top:1088px;left:229px;white-space:nowrap" class="ft20084">&#160;hello&#160;extension and supplemental data&#160;entry) and holding multi-byte&#160;</p>
<p style="position:absolute;top:1107px;left:83px;white-space:nowrap" class="ft20084">values are encoded with the big endian (or&#160;network&#160;order byte) format.</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft20091">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft20091">22/28</p>
</div>
<!-- Page 201 -->
<a name="201"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft201110{font-size:17px;font-family:FAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page201-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2201.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft20190">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft20180">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft20191">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft20191">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:83px;white-space:nowrap" class="ft20187">Therefore converting elementary&#160;data&#160;as&#160;buffers&#160;or&#160;words from/to&#160;TSS encoding&#160;<br/>to/from&#160;TLS&#160;encoding does not require any&#160;adaptation of&#160;the order byte but only, if&#160;<br/>necessary,&#160;the adjustment&#160;of the length in&#160;bytes.</p>
<p style="position:absolute;top:234px;left:83px;white-space:nowrap" class="ft201109"><i><b>6.6.2 &#160;&#160;Complex types</b></i></p>
<p style="position:absolute;top:282px;left:83px;white-space:nowrap" class="ft201110"><i><b>6.6.2.1 &#160;&#160;DAA&#160;Signature (normative)</b></i></p>
<p style="position:absolute;top:305px;left:83px;white-space:nowrap" class="ft20184">The DAA Signature, sent by the server as&#160;</p>
<p style="position:absolute;top:305px;left:431px;white-space:nowrap" class="ft201106"><b>DAASignature</b></p>
<p style="position:absolute;top:305px;left:550px;white-space:nowrap" class="ft20184">&#160;element of&#160;the list of&#160;</p>
<p style="position:absolute;top:324px;left:83px;white-space:nowrap" class="ft201106"><b>DAAReply</b></p>
<p style="position:absolute;top:324px;left:163px;white-space:nowrap" class="ft20184">&#160;carried&#160;over the&#160;</p>
<p style="position:absolute;top:324px;left:306px;white-space:nowrap" class="ft201106"><b>DAAAuth</b></p>
<p style="position:absolute;top:324px;left:375px;white-space:nowrap" class="ft20184">&#160;supplemental&#160;data entry,&#160;must&#160;be BER-encoded&#160;</p>
<p style="position:absolute;top:344px;left:83px;white-space:nowrap" class="ft20187">according to&#160; the ASN.1&#160;definition of the Portable&#160;Data&#160;specified in the following.&#160;<br/>Each member of the TSS structure&#160;must&#160;be individually re-encoded to&#160;BER and vice&#160;<br/>versa.&#160;If the member&#160;is not&#160;an elementary&#160;data,&#160;it must be recursively&#160;expanded until&#160;<br/>all elementary&#160;data&#160;are exposed: then they can&#160;be re-encoded as the corresponding&#160;<br/>members for&#160;the target&#160;encoding rules.</p>
<p style="position:absolute;top:449px;left:105px;white-space:nowrap" class="ft201108"><b>DaaSignature&#160;::=&#160;SEQUENCE<br/>{</b></p>
<p style="position:absolute;top:487px;left:158px;white-space:nowrap" class="ft201106"><b>versionInfo</b></p>
<p style="position:absolute;top:487px;left:424px;white-space:nowrap" class="ft201106"><b>TssVersion,</b></p>
<p style="position:absolute;top:506px;left:158px;white-space:nowrap" class="ft201106"><b>zeta</b></p>
<p style="position:absolute;top:506px;left:424px;white-space:nowrap" class="ft201106"><b>INTEGER,</b></p>
<p style="position:absolute;top:506px;left:530px;white-space:nowrap" class="ft201106"><b>&#160;&#160; &#160;-- z</b></p>
<p style="position:absolute;top:525px;left:158px;white-space:nowrap" class="ft201106"><b>capitalT</b></p>
<p style="position:absolute;top:525px;left:424px;white-space:nowrap" class="ft201106"><b>INTEGER,</b></p>
<p style="position:absolute;top:525px;left:530px;white-space:nowrap" class="ft201106"><b>&#160;&#160; &#160;-- T</b></p>
<p style="position:absolute;top:545px;left:158px;white-space:nowrap" class="ft201106"><b>challenge</b></p>
<p style="position:absolute;top:545px;left:424px;white-space:nowrap" class="ft201106"><b>OCTET&#160;STRING,&#160; --&#160;20&#160;bytes&#160;long</b></p>
<p style="position:absolute;top:564px;left:158px;white-space:nowrap" class="ft201106"><b>nonceTpm</b></p>
<p style="position:absolute;top:564px;left:424px;white-space:nowrap" class="ft201106"><b>OCTET&#160;STRING,&#160; --&#160;20&#160;bytes&#160;long&#160;(vrfy)</b></p>
<p style="position:absolute;top:583px;left:158px;white-space:nowrap" class="ft201106"><b>sV</b></p>
<p style="position:absolute;top:583px;left:424px;white-space:nowrap" class="ft201106"><b>INTEGER,</b></p>
<p style="position:absolute;top:583px;left:530px;white-space:nowrap" class="ft201106"><b>&#160;&#160; --&#160;sV</b></p>
<p style="position:absolute;top:602px;left:158px;white-space:nowrap" class="ft201106"><b>sF0</b></p>
<p style="position:absolute;top:602px;left:424px;white-space:nowrap" class="ft201106"><b>INTEGER,</b></p>
<p style="position:absolute;top:602px;left:530px;white-space:nowrap" class="ft201106"><b>&#160;&#160; --&#160;sF0</b></p>
<p style="position:absolute;top:621px;left:158px;white-space:nowrap" class="ft201106"><b>sF1</b></p>
<p style="position:absolute;top:621px;left:424px;white-space:nowrap" class="ft201106"><b>INTEGER,</b></p>
<p style="position:absolute;top:621px;left:530px;white-space:nowrap" class="ft201106"><b>&#160;&#160; --&#160;sF1</b></p>
<p style="position:absolute;top:641px;left:158px;white-space:nowrap" class="ft201106"><b>sE</b></p>
<p style="position:absolute;top:641px;left:424px;white-space:nowrap" class="ft201106"><b>INTEGER,</b></p>
<p style="position:absolute;top:641px;left:530px;white-space:nowrap" class="ft201106"><b>&#160;&#160; --&#160;sE</b></p>
<p style="position:absolute;top:660px;left:158px;white-space:nowrap" class="ft201106"><b>sA</b></p>
<p style="position:absolute;top:660px;left:424px;white-space:nowrap" class="ft201106"><b>INTEGER,</b></p>
<p style="position:absolute;top:660px;left:530px;white-space:nowrap" class="ft201106"><b>&#160;&#160; --&#160;sA</b></p>
<p style="position:absolute;top:679px;left:158px;white-space:nowrap" class="ft201106"><b>attribCommitSequence</b></p>
<p style="position:absolute;top:679px;left:424px;white-space:nowrap" class="ft201106"><b>AttribCommitSequence,</b></p>
<p style="position:absolute;top:698px;left:158px;white-space:nowrap" class="ft201106"><b>tssDaaPseudonym</b></p>
<p style="position:absolute;top:698px;left:424px;white-space:nowrap" class="ft201106"><b>TssDaaPseudonym,</b></p>
<p style="position:absolute;top:717px;left:158px;white-space:nowrap" class="ft201106"><b>tssDaaSignCallback</b></p>
<p style="position:absolute;top:717px;left:424px;white-space:nowrap" class="ft201106"><b>TssDaaSignCallback</b></p>
<p style="position:absolute;top:737px;left:105px;white-space:nowrap" class="ft201106"><b>}</b></p>
<p style="position:absolute;top:783px;left:105px;white-space:nowrap" class="ft201108"><b>TssVersion&#160;::=&#160;SEQUENCE<br/>{</b></p>
<p style="position:absolute;top:821px;left:158px;white-space:nowrap" class="ft201106"><b>major</b></p>
<p style="position:absolute;top:821px;left:424px;white-space:nowrap" class="ft201106"><b>INTEGER,</b></p>
<p style="position:absolute;top:821px;left:530px;white-space:nowrap" class="ft201106"><b>&#160;&#160; &#160;</b></p>
<p style="position:absolute;top:840px;left:158px;white-space:nowrap" class="ft201106"><b>minor</b></p>
<p style="position:absolute;top:840px;left:424px;white-space:nowrap" class="ft201106"><b>INTEGER,</b></p>
<p style="position:absolute;top:840px;left:530px;white-space:nowrap" class="ft201106"><b>&#160;&#160;&#160;</b></p>
<p style="position:absolute;top:859px;left:158px;white-space:nowrap" class="ft201106"><b>revMajor</b></p>
<p style="position:absolute;top:859px;left:424px;white-space:nowrap" class="ft201106"><b>INTEGER,</b></p>
<p style="position:absolute;top:859px;left:530px;white-space:nowrap" class="ft201106"><b>&#160;&#160; &#160;</b></p>
<p style="position:absolute;top:879px;left:158px;white-space:nowrap" class="ft201106"><b>revMinor</b></p>
<p style="position:absolute;top:879px;left:424px;white-space:nowrap" class="ft201106"><b>INTEGER&#160;&#160;&#160;</b></p>
<p style="position:absolute;top:898px;left:105px;white-space:nowrap" class="ft201106"><b>}</b></p>
<p style="position:absolute;top:944px;left:105px;white-space:nowrap" class="ft201106"><b>AttribCommitSequence&#160;::=&#160;SEQUENCE&#160;SIZE&#160;(0..MAX)&#160;OF&#160;TssDaaAttribCommit</b></p>
<p style="position:absolute;top:990px;left:105px;white-space:nowrap" class="ft201108"><b>TssDaaAttribCommit&#160;::=&#160;SEQUENCE<br/>{</b></p>
<p style="position:absolute;top:1028px;left:158px;white-space:nowrap" class="ft201106"><b>versionInfo</b></p>
<p style="position:absolute;top:1028px;left:424px;white-space:nowrap" class="ft201106"><b>TssVersion,</b></p>
<p style="position:absolute;top:1047px;left:158px;white-space:nowrap" class="ft201106"><b>beta</b></p>
<p style="position:absolute;top:1047px;left:424px;white-space:nowrap" class="ft201106"><b>INTEGER,</b></p>
<p style="position:absolute;top:1066px;left:158px;white-space:nowrap" class="ft201106"><b>sMu</b></p>
<p style="position:absolute;top:1066px;left:424px;white-space:nowrap" class="ft201106"><b>INTEGER</b></p>
<p style="position:absolute;top:1086px;left:105px;white-space:nowrap" class="ft201106"><b>}</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft20191">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft20191">23/28</p>
</div>
<!-- Page 202 -->
<a name="202"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page202-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2202.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft20290">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft20280">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft20291">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft20291">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:105px;white-space:nowrap" class="ft202108"><b>TssDaaPseudonym&#160;::=&#160;SEQUENCE<br/>{</b></p>
<p style="position:absolute;top:188px;left:158px;white-space:nowrap" class="ft202106"><b>versionInfo</b></p>
<p style="position:absolute;top:188px;left:424px;white-space:nowrap" class="ft202106"><b>TssVersion,</b></p>
<p style="position:absolute;top:207px;left:158px;white-space:nowrap" class="ft202106"><b>payloadFlag</b></p>
<p style="position:absolute;top:207px;left:424px;white-space:nowrap" class="ft202106"><b>INTEGER,</b></p>
<p style="position:absolute;top:207px;left:530px;white-space:nowrap" class="ft202106"><b>&#160;&#160; --&#160;TSS_FLAG&#160;(uint32)</b></p>
<p style="position:absolute;top:226px;left:158px;white-space:nowrap" class="ft202106"><b>payload</b></p>
<p style="position:absolute;top:226px;left:424px;white-space:nowrap" class="ft202106"><b>OCTET&#160;STRING&#160;&#160;--&#160;(verify)</b></p>
<p style="position:absolute;top:245px;left:105px;white-space:nowrap" class="ft202106"><b>}</b></p>
<p style="position:absolute;top:291px;left:105px;white-space:nowrap" class="ft202108"><b>TssDaaSignCallback&#160;::=&#160;SEQUENCE<br/>{</b></p>
<p style="position:absolute;top:330px;left:158px;white-space:nowrap" class="ft202106"><b>versionInfo</b></p>
<p style="position:absolute;top:330px;left:424px;white-space:nowrap" class="ft202106"><b>TssVersion,</b></p>
<p style="position:absolute;top:349px;left:158px;white-space:nowrap" class="ft202106"><b>challenge</b></p>
<p style="position:absolute;top:349px;left:424px;white-space:nowrap" class="ft202106"><b>OCTET&#160;STRING,&#160;--&#160;20 bytes&#160;long</b></p>
<p style="position:absolute;top:368px;left:158px;white-space:nowrap" class="ft202106"><b>payloadFlag</b></p>
<p style="position:absolute;top:368px;left:424px;white-space:nowrap" class="ft202106"><b>INTEGER,</b></p>
<p style="position:absolute;top:368px;left:530px;white-space:nowrap" class="ft202106"><b>&#160;&#160; --&#160;TSS_FLAG&#160;(uint32)</b></p>
<p style="position:absolute;top:387px;left:158px;white-space:nowrap" class="ft202106"><b>payload</b></p>
<p style="position:absolute;top:387px;left:424px;white-space:nowrap" class="ft202106"><b>OCTET&#160;STRING&#160;&#160;--&#160;(verify)</b></p>
<p style="position:absolute;top:406px;left:105px;white-space:nowrap" class="ft202106"><b>}</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft20291">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft20291">24/28</p>
</div>
<!-- Page 203 -->
<a name="203"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page203-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2203.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft20390">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft20380">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft20391">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft20391">FINAL |&#160;1.10</p>
<p style="position:absolute;top:167px;left:83px;white-space:nowrap" class="ft203103"><b>7&#160;&#160;&#160;Security considerations</b></p>
<p style="position:absolute;top:218px;left:83px;white-space:nowrap" class="ft203104"><i><b>7.1&#160;&#160;&#160;Endorsement&#160;Key (EK) exposure</b></i></p>
<p style="position:absolute;top:250px;left:83px;white-space:nowrap" class="ft20387">TCG&#160;design ([1,2]) of DAA protocol&#160;gives the verifier&#160;assurance&#160;about&#160;the genuineness&#160;<br/>of the TPM making DAA signatures.&#160;By&#160;issuing the DAA&#160;credentials, the issuer&#160;<br/>guarantees&#160;that&#160;the TPM is genuine.<br/>To&#160;enforce&#160;this&#160;behavior, once&#160;the issuer verified the credentials (e.g. EK certificate)&#160;<br/>provided by the platform&#160;requesting a DAA credential, the issuer creates&#160;the latter and&#160;<br/>encrypts&#160;it with the public&#160;part of&#160;the Endorsement&#160;Key (EK) of the TPM requesting the&#160;<br/>credential. This&#160;procedure guarantees&#160;that TPM&#160;owning the private&#160;part of the&#160;<br/>Endorsement&#160;Key can decrypt,&#160;install and use the received DAA credential.<br/>This procedure has&#160;the drawback&#160;that&#160;the issuer gets to&#160;know the public part&#160;of the EK:&#160;<br/>being unique to&#160;every&#160;TPM, the EK can&#160;be used as&#160;a identifier to track&#160;TPM&#160;operations&#160;<br/>that&#160;involves the EK (i.e. requesting other&#160;DAA credentials&#160;or an AIK&#160;certificate). For&#160;<br/>this reason,&#160;the issuer must&#160;be a&#160;trusted third party&#160;that&#160;guarantees&#160;to the verifier that&#160;<br/>the genuineness&#160;of the TPM is checked and to the platform&#160;the sensitive data&#160;(i.e. the&#160;<br/>public part&#160;of the EK) are&#160;kept secure.<br/>While this is not&#160;a problem in the reference scenario&#160;(where the company&#160;is the&#160;<br/>issuer), it may&#160;become&#160;a problem in more&#160;open scenarios;&#160;in these latter&#160;cases,&#160;the&#160;<br/>platform&#160;must carefully choose&#160;the DAA issuer.</p>
<p style="position:absolute;top:630px;left:83px;white-space:nowrap" class="ft203104"><i><b>7.2&#160;&#160;&#160;Basename and DAA signature</b></i></p>
<p style="position:absolute;top:662px;left:83px;white-space:nowrap" class="ft20387">In some&#160;scenarios,&#160;the basename or&#160;the DAA signature may&#160;be considered sensitive&#160;<br/>data.&#160;For&#160;instance,&#160;a&#160;man in the middle can&#160;forge the basename by modifying the&#160;<br/>server&#160;hello message.&#160;In this case&#160;it can persuade the client to make a&#160;DAA signature&#160;<br/>over&#160;a chosen basename.&#160;If the basename&#160;was chosen&#160;to be fixed, it is possible for the&#160;<br/>attacker&#160;to track&#160;successive&#160;DAA signatures&#160;of the same platform&#160;over the same&#160;<br/>basename.<br/>The TLS protocol&#160;allows&#160;both the client&#160;and the server to&#160;detect&#160;the attack,&#160;but&#160;only&#160;<br/>after&#160;the DAA signature was&#160;made. This&#160;attack&#160;can&#160;be detected when the finished&#160;<br/>messages&#160;are exchanged: these messages&#160;are&#160;a hash of all the messages&#160;exchanged&#160;<br/>during the handshake;&#160;if the attacker&#160;modified the server hello, the server will&#160;<br/>compute&#160;a hash different from the hash computed by the client, leading to the&#160;<br/>discover&#160;of the attack.<br/>Furthermore,&#160;by listening to the channel in the case&#160;of a&#160;pseudonymous&#160;<br/>authentication, an eavesdropper&#160;could be able to link together&#160;different DAA signature&#160;<br/>made by the same platform.&#160;Listening the channel leads&#160;the attacker&#160;to know both the&#160;<br/>basename&#160;and the DAA signature; in&#160;the case&#160;of pseudonymity,&#160;these two&#160;data&#160;are&#160;<br/>enough to&#160;link different signatures&#160;made by the same platform.&#160;Differently&#160;from the&#160;<br/>previous attack,&#160;this attack&#160;can not&#160;be detected&#160;by the client nor&#160;the server and,&#160;<br/>hence,&#160;it puts at&#160;risk the privacy&#160;of the client.<br/>For&#160;these reasons&#160;in some&#160;scenarios,&#160;the data&#160;exchanged within the supplemental&#160;<br/>data&#160;message&#160;must&#160;be protected.&#160;[5] asserts&#160;that&#160;such protection&#160;must be provided&#160;<br/>through the use of&#160;a double handshake. The first handshake is a regular&#160;one that only&#160;<br/>aims&#160;to the creation&#160;of a secure channel. Next, within the secure channel a second&#160;</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft20391">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft20391">25/28</p>
</div>
<!-- Page 204 -->
<a name="204"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page204-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2204.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft20490">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft20480">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft20491">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft20491">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:83px;white-space:nowrap" class="ft20487">handshake happens;&#160;this latter&#160;handshake carries&#160;the hello&#160;extensions and the&#160;<br/>supplemental data&#160;necessary&#160;for the anonymous&#160;authentication.<br/>Note&#160;that in the case&#160;of a&#160;double handshake, the first&#160;handshake must&#160;be done in a&#160;<br/>way&#160;that exposes&#160;no information&#160;about the peer that&#160;must be authenticated&#160;<br/>anonymously&#160;using the DAA in the second handshake.</p>
<p style="position:absolute;top:281px;left:83px;white-space:nowrap" class="ft204103"><b>8&#160;&#160;&#160;IANA considerations</b></p>
<p style="position:absolute;top:314px;left:83px;white-space:nowrap" class="ft20487">The hello&#160;extensions and the supplemental data&#160;entries are defined by their types. The&#160;<br/>hello extensions&#160;types MUST be assigned by the IANA&#160;through a&#160;IETF&#160;consensus&#160;<br/>procedure, while the supplemental data&#160;specification&#160;allows the use of private&#160;types&#160;<br/>for&#160;the supplemental data&#160;entries.<br/>Because&#160;each supplemental data&#160;entry MUST be negotiated using the hello extensions&#160;<br/>mechanism,&#160;it is not&#160;actually possible to use the private types for&#160;the supplemental&#160;<br/>data&#160;entry defined in&#160;this document.<br/>For&#160;this reason&#160;this&#160;document does not defines&#160;the types of the hello extension nor&#160;the&#160;<br/>type of the supplemental data&#160;entry.</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft20491">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft20491">26/28</p>
</div>
<!-- Page 205 -->
<a name="205"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page205-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2205.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft20590">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft20580">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft20591">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft20591">FINAL |&#160;1.10</p>
<p style="position:absolute;top:167px;left:83px;white-space:nowrap" class="ft205103"><b>9&#160;&#160;&#160;List&#160;of&#160;abbreviations</b></p>
<p style="position:absolute;top:200px;left:83px;white-space:nowrap" class="ft20587">Listing of term definitions and abbreviations&#160;used in this document&#160;(IT expressions and&#160;<br/>terms&#160;from the application&#160;domain).</p>
<p style="position:absolute;top:258px;left:93px;white-space:nowrap" class="ft20583"><b>Abbreviation</b></p>
<p style="position:absolute;top:258px;left:301px;white-space:nowrap" class="ft20583"><b>Explanation</b></p>
<p style="position:absolute;top:277px;left:93px;white-space:nowrap" class="ft20584">AIK</p>
<p style="position:absolute;top:277px;left:301px;white-space:nowrap" class="ft20584">Attestation&#160;Identity Key</p>
<p style="position:absolute;top:297px;left:93px;white-space:nowrap" class="ft20584">ARA</p>
<p style="position:absolute;top:297px;left:301px;white-space:nowrap" class="ft20584">Anonymity Revocation&#160;Authority</p>
<p style="position:absolute;top:316px;left:93px;white-space:nowrap" class="ft20584">ASN.1</p>
<p style="position:absolute;top:316px;left:301px;white-space:nowrap" class="ft20584">Abstract&#160;Syntax&#160;Notation&#160;1</p>
<p style="position:absolute;top:335px;left:93px;white-space:nowrap" class="ft20584">BER</p>
<p style="position:absolute;top:335px;left:301px;white-space:nowrap" class="ft20584">Basic&#160;Encoding Rules</p>
<p style="position:absolute;top:354px;left:93px;white-space:nowrap" class="ft20584">CA</p>
<p style="position:absolute;top:354px;left:301px;white-space:nowrap" class="ft20584">Certification Authority</p>
<p style="position:absolute;top:374px;left:93px;white-space:nowrap" class="ft20584">DAA</p>
<p style="position:absolute;top:374px;left:301px;white-space:nowrap" class="ft20584">Direct&#160;Anonymous Attestation</p>
<p style="position:absolute;top:393px;left:93px;white-space:nowrap" class="ft20584">DER</p>
<p style="position:absolute;top:393px;left:301px;white-space:nowrap" class="ft20584">Distinguished Encoding Rules</p>
<p style="position:absolute;top:412px;left:93px;white-space:nowrap" class="ft20584">EK</p>
<p style="position:absolute;top:412px;left:301px;white-space:nowrap" class="ft20584">Endorsement Key</p>
<p style="position:absolute;top:432px;left:93px;white-space:nowrap" class="ft20584">SHA-1</p>
<p style="position:absolute;top:432px;left:301px;white-space:nowrap" class="ft20584">Secure Hash&#160;Algorithm&#160;1</p>
<p style="position:absolute;top:451px;left:93px;white-space:nowrap" class="ft20584">TCG</p>
<p style="position:absolute;top:451px;left:301px;white-space:nowrap" class="ft20584">Trusted Computing Group</p>
<p style="position:absolute;top:470px;left:93px;white-space:nowrap" class="ft20584">TLS</p>
<p style="position:absolute;top:470px;left:301px;white-space:nowrap" class="ft20584">Transport&#160;Layer&#160;Security</p>
<p style="position:absolute;top:489px;left:93px;white-space:nowrap" class="ft20584">TPM</p>
<p style="position:absolute;top:489px;left:301px;white-space:nowrap" class="ft20584">Trusted Platform&#160;Module</p>
<p style="position:absolute;top:509px;left:93px;white-space:nowrap" class="ft20584">TSS</p>
<p style="position:absolute;top:509px;left:301px;white-space:nowrap" class="ft20584">TCG Software Stack</p>
<p style="position:absolute;top:574px;left:83px;white-space:nowrap" class="ft205103"><b>10 &#160;&#160;Referenced Documents</b></p>
<p style="position:absolute;top:607px;left:83px;white-space:nowrap" class="ft20587">/1/&#160;TCG&#160;TPM Main&#160;Specification (parts&#160;1,2,3)<br/>July 9, 2007,<br/>Version 1.2 Level 2 Revision 103</p>
<p style="position:absolute;top:684px;left:83px;white-space:nowrap" class="ft20587">/2/&#160;TCG&#160;Software&#160;Stack&#160;(TSS) Specification<br/>March&#160;7, 2007,&#160;<br/>Version 1.2, Level 1, Errata&#160;A</p>
<p style="position:absolute;top:761px;left:83px;white-space:nowrap" class="ft20587">/3/&#160;IETF&#160;RFC 4346, The Transport&#160;Layer&#160;Security&#160;(TLS) Protocol&#160;Version 1.1<br/>April, 2006</p>
<p style="position:absolute;top:819px;left:83px;white-space:nowrap" class="ft20587">/4/&#160;IETF&#160;RFC 4366, Transport&#160;Layer Security (TLS) Extensions<br/>April, 2006</p>
<p style="position:absolute;top:876px;left:83px;white-space:nowrap" class="ft20587">/5/&#160;IETF&#160;RFC 4680, TLS Handshake Message for Supplemental Data<br/>September, 2006</p>
<p style="position:absolute;top:934px;left:83px;white-space:nowrap" class="ft20587">/6/&#160;Direct&#160;Anonymous&#160;Attestation<br/>Ernie Brickell, Jan&#160;Camenisch,&#160;Liqun Chen<br/>CCS '04: 11th ACM conference on Computer and Communications&#160;Security<br/>2004</p>
<p style="position:absolute;top:1030px;left:83px;white-space:nowrap" class="ft20587">/7/&#160;ITU-T Rec.&#160;X.208, Specification&#160;of Abstract&#160;Syntax&#160;Notation&#160;One (ASN.1)<br/>1988</p>
<p style="position:absolute;top:1087px;left:83px;white-space:nowrap" class="ft20584">/8/&#160;ITU-T Recommendation&#160;X.690, Information&#160;Technology – ASN.1&#160;encoding rules:&#160;</p>
<p style="position:absolute;top:1107px;left:105px;white-space:nowrap" class="ft20584">Specification of Basic&#160;Encoding Rules&#160;(BER),&#160;Canonical&#160;Encoding Rules&#160;(CER) and&#160;</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft20591">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft20591">27/28</p>
</div>
<!-- Page 206 -->
<a name="206"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page206-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2206.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft20690">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft20680">&#160;</p>
<p style="position:absolute;top:92px;left:271px;white-space:nowrap" class="ft20691">SSL/TLS&#160;DAA-enhancement&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft20691">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:105px;white-space:nowrap" class="ft20684">Distinguished Encoding Rules (DER)</p>
<p style="position:absolute;top:168px;left:83px;white-space:nowrap" class="ft20684">1997</p>
<p style="position:absolute;top:207px;left:83px;white-space:nowrap" class="ft20684">/9/&#160;ITU-T Recommendation&#160;X.509, Information&#160;technology – Open Systems&#160;</p>
<p style="position:absolute;top:226px;left:105px;white-space:nowrap" class="ft20684">Interconnection – The Directory:&#160;Public-key and attribute certificate frameworks</p>
<p style="position:absolute;top:264px;left:83px;white-space:nowrap" class="ft20687">/10/&#160;IETF&#160;RFC 3174, US&#160;Secure Hash Algorithm 1 (SHA1)<br/>September, 2001</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft20691">Open_TC Deliverable 03c.3</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft20691">28/28</p>
</div>
<!-- Page 207 -->
<a name="207"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page207-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2207.png" alt="background image"/>
<p style="position:absolute;top:242px;left:103px;white-space:nowrap" class="ft2070"><b>WP03c.4 Key Management Adaptation&#160;(KMA)</b></p>
<p style="position:absolute;top:273px;left:143px;white-space:nowrap" class="ft2070"><b>service source&#160;code and documentation</b></p>
<p style="position:absolute;top:351px;left:91px;white-space:nowrap" class="ft2071"><b>Project&#160;number</b></p>
<p style="position:absolute;top:351px;left:425px;white-space:nowrap" class="ft2072">IST-&#160;027635</p>
<p style="position:absolute;top:376px;left:91px;white-space:nowrap" class="ft2071"><b>Project&#160;acronym</b></p>
<p style="position:absolute;top:376px;left:425px;white-space:nowrap" class="ft2072">Open_TC</p>
<p style="position:absolute;top:402px;left:91px;white-space:nowrap" class="ft2071"><b>Project&#160;title</b></p>
<p style="position:absolute;top:402px;left:425px;white-space:nowrap" class="ft2072">Open Trusted Computing</p>
<p style="position:absolute;top:427px;left:91px;white-space:nowrap" class="ft2071"><b>Deliverable&#160;type</b></p>
<p style="position:absolute;top:427px;left:425px;white-space:nowrap" class="ft2072">Internal&#160;document</p>
<p style="position:absolute;top:470px;left:91px;white-space:nowrap" class="ft2071"><b>Deliverable&#160;reference&#160;number</b></p>
<p style="position:absolute;top:470px;left:425px;white-space:nowrap" class="ft2072">IST-027635/D03c.4/FINAL&#160;2.00</p>
<p style="position:absolute;top:502px;left:91px;white-space:nowrap" class="ft2071"><b>Deliverable&#160;title</b></p>
<p style="position:absolute;top:493px;left:425px;white-space:nowrap" class="ft2074">Key&#160;Management Adaptation&#160;(KMA) service<br/>source code&#160;and&#160;documentation</p>
<p style="position:absolute;top:534px;left:91px;white-space:nowrap" class="ft2071"><b>WP&#160;contributing&#160;to&#160;the&#160;deliverable</b></p>
<p style="position:absolute;top:534px;left:425px;white-space:nowrap" class="ft2072">WP3</p>
<p style="position:absolute;top:560px;left:91px;white-space:nowrap" class="ft2071"><b>Due&#160;date</b></p>
<p style="position:absolute;top:560px;left:425px;white-space:nowrap" class="ft2072">May&#160;2007&#160;-&#160;M19</p>
<p style="position:absolute;top:585px;left:91px;white-space:nowrap" class="ft2071"><b>Actual&#160;submission&#160;date</b></p>
<p style="position:absolute;top:585px;left:425px;white-space:nowrap" class="ft2072">Jun 2008&#160;- M32&#160;(revised&#160;version)</p>
<p style="position:absolute;top:628px;left:91px;white-space:nowrap" class="ft2071"><b>Responsible&#160;Organisation</b></p>
<p style="position:absolute;top:628px;left:424px;white-space:nowrap" class="ft2072">Politecnico di&#160;Torino</p>
<p style="position:absolute;top:654px;left:91px;white-space:nowrap" class="ft2071"><b>Authors</b></p>
<p style="position:absolute;top:654px;left:424px;white-space:nowrap" class="ft2072">Gianluca Ramunno&#160;and&#160;Roberto&#160;Sassu&#160;(POL)</p>
<p style="position:absolute;top:676px;left:91px;white-space:nowrap" class="ft2071"><b>Abstract</b></p>
<p style="position:absolute;top:676px;left:424px;white-space:nowrap" class="ft2074">Key and&#160;data&#160;Management&#160;Adaptation&#160;layer<br/>(KMA),&#160;formerly&#160;“High-level&#160;Key Manager<br/>service”,&#160;is intended&#160;to&#160;be&#160;a&#160;software&#160;system<br/>built&#160;upon&#160;TPM and&#160;TSS,&#160;whose&#160;goals are<br/>protecting&#160;keys&#160;and other&#160;sensitive&#160;data&#160;for<br/>generic applications&#160;and&#160;services&#160;and<br/>binding&#160;the&#160;access&#160;to the&#160;protected<br/>information&#160;to&#160;the&#160;integrity&#160;of the system.<br/>This&#160;document&#160;describes&#160;the procedures&#160;for<br/>building,&#160;installing&#160;and&#160;configuring&#160;KMA<br/>version&#160;0.1.0.</p>
<p style="position:absolute;top:937px;left:91px;white-space:nowrap" class="ft2071"><b>Keywords</b></p>
<p style="position:absolute;top:937px;left:424px;white-space:nowrap" class="ft2072">Open_TC, KMA, TPM,&#160;TSS</p>
<p style="position:absolute;top:980px;left:92px;white-space:nowrap" class="ft2071"><b>Dissemination&#160;level</b></p>
<p style="position:absolute;top:980px;left:423px;white-space:nowrap" class="ft2072">Public</p>
<p style="position:absolute;top:1005px;left:92px;white-space:nowrap" class="ft2071"><b>Revision</b></p>
<p style="position:absolute;top:1005px;left:423px;white-space:nowrap" class="ft2072">FINAL&#160;2.00</p>
<p style="position:absolute;top:1056px;left:90px;white-space:nowrap" class="ft2071"><b>Instrument</b></p>
<p style="position:absolute;top:1056px;left:271px;white-space:nowrap" class="ft2072">IP</p>
<p style="position:absolute;top:1047px;left:452px;white-space:nowrap" class="ft2076"><b>Start&#160;date&#160;of the<br/>project</b></p>
<p style="position:absolute;top:1056px;left:632px;white-space:nowrap" class="ft2072">1</p>
<p style="position:absolute;top:1056px;left:643px;white-space:nowrap" class="ft2073">st</p>
<p style="position:absolute;top:1056px;left:652px;white-space:nowrap" class="ft2072">&#160;November&#160;2005</p>
<p style="position:absolute;top:1085px;left:90px;white-space:nowrap" class="ft2071"><b>Thematic&#160;Priority</b></p>
<p style="position:absolute;top:1085px;left:271px;white-space:nowrap" class="ft2072">IST</p>
<p style="position:absolute;top:1085px;left:452px;white-space:nowrap" class="ft2071"><b>Duration</b></p>
<p style="position:absolute;top:1085px;left:632px;white-space:nowrap" class="ft2072">42 months</p>
</div>
<!-- Page 208 -->
<a name="208"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page208-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2208.png" alt="background image"/>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft2087">WP03c.4 KMA service&#160;source&#160;code&#160;and&#160;documentation&#160;</p>
<p style="position:absolute;top:92px;left:684px;white-space:nowrap" class="ft2087">FINAL 2.00</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft2089"><b>Table of&#160;Contents</b></p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft2084">&#160;1&#160;Introduction..............................................................................................................5<br/>&#160;2&#160;Building&#160;and&#160;installing&#160;KMA.......................................................................................6</p>
<p style="position:absolute;top:226px;left:94px;white-space:nowrap" class="ft2084">&#160;2.&#160;1 Important&#160;notes (to&#160;read&#160;carefully&#160;before&#160;building or&#160;using&#160;KMA)........................6<br/>&#160;2.&#160;2&#160;Introduction..........................................................................................................6<br/>&#160;2.&#160;3 KMA&#160;package dependencies&#160;(prerequisites).........................................................6</p>
<p style="position:absolute;top:284px;left:102px;white-space:nowrap" class="ft2084">&#160;2.3.&#160;1&#160;Prerequisites....................................................................................................6<br/>&#160;2.3.&#160;2 Adding OpenTC&#160;repository&#160;via&#160;zypper.............................................................7<br/>&#160;2.3.&#160;3 Adding OpenTC&#160;repository&#160;via Yast&#160;(alternative&#160;procedure)............................7<br/>&#160;2.3.&#160;4 Installing&#160;required&#160;packages&#160;(prerequisites)....................................................8<br/>&#160;2.3.&#160;5 KMA&#160;building&#160;procedure...................................................................................8</p>
<p style="position:absolute;top:380px;left:119px;white-space:nowrap" class="ft2084">&#160;2.3.5.&#160;1 Building&#160;from&#160;the source&#160;tarball................................................................8<br/>&#160;2.3.5.&#160;2 Parameters&#160;defined&#160;in configuration&#160;file&#160;buildkmasettings........................9</p>
<p style="position:absolute;top:418px;left:94px;white-space:nowrap" class="ft2084">&#160;2.&#160;4 KMA&#160;package overview......................................................................................10<br/>&#160;2.&#160;5 KMA&#160;installation&#160;guide........................................................................................10</p>
<p style="position:absolute;top:457px;left:102px;white-space:nowrap" class="ft2084">&#160;2.5.&#160;1&#160;Installation&#160;via zypper....................................................................................11<br/>&#160;2.5.&#160;2 Installation&#160;via Yast&#160;(alternative&#160;procedure)..................................................11<br/>&#160;2.5.&#160;3 Installation&#160;via Yast&#160;(alternative&#160;procedure)..................................................12</p>
<p style="position:absolute;top:514px;left:94px;white-space:nowrap" class="ft2082">&#160;2.&#160;6 KMA&#160;configuration..............................................................................................12</p>
<p style="position:absolute;top:534px;left:102px;white-space:nowrap" class="ft2084">&#160;2.6.&#160;1&#160;Step-by-step&#160;procedure.................................................................................12<br/>&#160;2.6.&#160;2&#160;Other&#160;aspects................................................................................................13</p>
<p style="position:absolute;top:572px;left:119px;white-space:nowrap" class="ft2084">&#160;2.6.2.&#160;1 Usage&#160;of the kma_start_sign&#160;certification&#160;utility......................................13<br/>&#160;2.6.2.&#160;2 Recovering&#160;sealed data&#160;upon platform&#160;setting changes..........................13<br/>&#160;2.6.2.&#160;3 Resetting the configuration&#160;of&#160;secured&#160;applications................................14</p>
<p style="position:absolute;top:630px;left:85px;white-space:nowrap" class="ft2084">&#160;&#160;3&#160;List&#160;of Abbreviations...............................................................................................14<br/>&#160;4&#160;Related&#160;Work..........................................................................................................14</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2087">Open_TC&#160;Deliverable&#160;03c.4</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft2087">2/12</p>
</div>
<!-- Page 209 -->
<a name="209"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft209111{font-size:14px;font-family:FJLCBA+OpenSymbol;color:#000000;}
-->
</style>
<div id="page209-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2209.png" alt="background image"/>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft2097">WP03c.4 KMA service&#160;source&#160;code&#160;and&#160;documentation&#160;</p>
<p style="position:absolute;top:92px;left:684px;white-space:nowrap" class="ft2097">FINAL 2.00</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft20911"><b>&#160;1&#160;&#160;Introduction</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft2095">Key and&#160;data Management&#160;Adaptation&#160;layer&#160;(KMA),&#160;formerly “High-level&#160;Key Manager<br/>service”,&#160;is a&#160;software&#160;system&#160;built upon&#160;TPM&#160;[1]&#160;and TSS&#160;[3],&#160;whose goals&#160;are<br/>protecting&#160;keys&#160;and other&#160;sensitive&#160;data&#160;for generic applications&#160;and&#160;services&#160;and<br/>binding&#160;the&#160;access&#160;to&#160;the protected&#160;information&#160;to&#160;the integrity&#160;of the&#160;system.<br/>Specific&#160;objectives for&#160;KMA&#160;are:</p>
<p style="position:absolute;top:316px;left:112px;white-space:nowrap" class="ft209111">●</p>
<p style="position:absolute;top:313px;left:139px;white-space:nowrap" class="ft2094">access&#160;to protected&#160;data&#160;granted&#160;only&#160;if&#160;the&#160;integrity of&#160;system&#160;and the<br/>application/service&#160;requiring the access&#160;are&#160;verified</p>
<p style="position:absolute;top:364px;left:112px;white-space:nowrap" class="ft209111">●</p>
<p style="position:absolute;top:361px;left:139px;white-space:nowrap" class="ft2094">(optional)&#160;access to&#160;protected&#160;data&#160;granted&#160;only if the&#160;system and&#160;the<br/>application/service&#160;have&#160;specific&#160;values&#160;for selected&#160;run-time&#160;properties&#160;(e.g.<br/>the user&#160;currently logged&#160;in)</p>
<p style="position:absolute;top:431px;left:112px;white-space:nowrap" class="ft209111">●</p>
<p style="position:absolute;top:428px;left:139px;white-space:nowrap" class="ft2094">isolation&#160;between protected data&#160;of different&#160;applications/services&#160;at&#160;run-time<br/>to&#160;prevent&#160;that, if&#160;an&#160;application&#160;gets&#160;compromised&#160;(e.g.&#160;because of a&#160;flaw)&#160;and<br/>the protected&#160;data&#160;can&#160;be accessed&#160;in memory&#160;by&#160;an&#160;attacker,&#160;the protected<br/>data&#160;of all&#160;other applications/services&#160;can&#160;be&#160;accessed&#160;by the attacker</p>
<p style="position:absolute;top:517px;left:112px;white-space:nowrap" class="ft209111">●</p>
<p style="position:absolute;top:514px;left:139px;white-space:nowrap" class="ft2092">data&#160;protection&#160;robust&#160;against&#160;off-line&#160;attacks&#160;to the storage&#160;device</p>
<p style="position:absolute;top:545px;left:112px;white-space:nowrap" class="ft209111">●</p>
<p style="position:absolute;top:542px;left:139px;white-space:nowrap" class="ft2094">generic&#160;protection&#160;mechanism&#160;for&#160;data&#160;files&#160;that&#160;does not&#160;require&#160;any<br/>modification&#160;to the&#160;application/service&#160;at build&#160;time,&#160;in&#160;order&#160;to&#160;use&#160;KMA&#160;with<br/>standard&#160;distributions</p>
<p style="position:absolute;top:612px;left:112px;white-space:nowrap" class="ft209111">●</p>
<p style="position:absolute;top:609px;left:139px;white-space:nowrap" class="ft2094">support&#160;for&#160;the access to&#160;TPM&#160;keys&#160;bound&#160;to system/application&#160;integrity&#160;and<br/>properties,&#160;requiring&#160;minimal&#160;modifications&#160;at&#160;build time&#160;for application&#160;directly<br/>using&#160;the TPM keys</p>
<p style="position:absolute;top:679px;left:112px;white-space:nowrap" class="ft209111">●</p>
<p style="position:absolute;top:676px;left:139px;white-space:nowrap" class="ft2094">seamless&#160;upgrade&#160;of the&#160;operating&#160;system&#160;and&#160;the&#160;protected&#160;applications&#160;while<br/>keeping the data&#160;protection</p>
<p style="position:absolute;top:727px;left:112px;white-space:nowrap" class="ft209111">●</p>
<p style="position:absolute;top:724px;left:139px;white-space:nowrap" class="ft2094">support&#160;for&#160;platforms&#160;with a&#160;single&#160;operating&#160;systems&#160;running&#160;or (optionally)&#160;full<br/>virtual&#160;machines</p>
<p style="position:absolute;top:771px;left:85px;white-space:nowrap" class="ft2092">This&#160;is the companion&#160;document&#160;for&#160;</p>
<p style="position:absolute;top:776px;left:388px;white-space:nowrap" class="ft20916">D03c.4_KMA_source_code_and_RPMS.zip</p>
<p style="position:absolute;top:771px;left:735px;white-space:nowrap" class="ft2092">, the</p>
<p style="position:absolute;top:792px;left:85px;white-space:nowrap" class="ft2094">tarball&#160;including&#160;source&#160;code&#160;and&#160;binary&#160;RPM packages.&#160;This&#160;document&#160;describes&#160;the<br/>procedures&#160;for building,&#160;installing,&#160;configuring&#160;KMA version&#160;0.1.0&#160;and testing&#160;the<br/>secured version&#160;of OpenSSH,&#160;an implementation&#160;of&#160;SSH&#160;[2]&#160;protocol.<br/>With respect&#160;to the&#160;high-level specification&#160;document&#160;[4],&#160;this&#160;first&#160;version&#160;of KMA&#160;is a<br/>proof&#160;of&#160;concept.&#160;The&#160;storage&#160;manager&#160;is&#160;implemented&#160;completely in&#160;user memory<br/>space&#160;for faster&#160;prototyping.&#160;In&#160;future&#160;versions,&#160;the components of&#160;the storage<br/>manager&#160;dealing&#160;with&#160;sensitive&#160;data will be&#160;moved&#160;to&#160;the&#160;kernel memory&#160;space.<br/>Currently,&#160;in&#160;addition&#160;to&#160;the&#160;“application”&#160;credential,&#160;only&#160;the&#160;“user”&#160;credential&#160;is<br/>supported&#160;and&#160;the selection of&#160;one or&#160;both&#160;credentials is currently&#160;hard-coded&#160;for&#160;ssh<br/>and sshd.&#160;In&#160;future&#160;versions&#160;this&#160;aspect&#160;will&#160;be easily configurable&#160;for each&#160;application<br/>to&#160;be secured.&#160;Currently&#160;only the main&#160;executable&#160;file is certified while&#160;the&#160;shared<br/>libraries&#160;are&#160;not taken&#160;into account;&#160;in future&#160;versions&#160;all shared&#160;libraries&#160;an<br/>application&#160;depends&#160;on will&#160;be&#160;also certified.&#160;Finally, with&#160;the&#160;current&#160;version&#160;of KMA<br/>the applications&#160;to&#160;be secured&#160;must&#160;be slightly&#160;modified&#160;and rebuilt&#160;while&#160;in&#160;future<br/>versions&#160;a secured&#160;application&#160;will not&#160;require&#160;any modification&#160;at build&#160;time.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2097">Open_TC&#160;Deliverable&#160;03c.4</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft2097">3/12</p>
</div>
<!-- Page 210 -->
<a name="210"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page210-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2210.png" alt="background image"/>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft2107">WP03c.4 KMA service&#160;source&#160;code&#160;and&#160;documentation&#160;</p>
<p style="position:absolute;top:92px;left:684px;white-space:nowrap" class="ft2107">FINAL 2.00</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft21011"><b>&#160;2&#160;&#160;Building and installing KMA</b></p>
<p style="position:absolute;top:199px;left:92px;white-space:nowrap" class="ft2101"><b>&#160;2.1&#160;&#160;Important&#160;notes&#160;(to read&#160;carefully&#160;before&#160;building&#160;or&#160;using&#160;KMA)</b></p>
<p style="position:absolute;top:227px;left:85px;white-space:nowrap" class="ft2104">The version&#160;0.1.0&#160;of KMA&#160;is the&#160;first&#160;one&#160;made&#160;available&#160;to the&#160;OpenTC&#160;consortium.&#160;It<br/>is still&#160;a proof&#160;of&#160;concept&#160;prototype:&#160;in order&#160;to test&#160;it&#160;a&#160;single&#160;bundle&#160;is provided&#160;also<br/>including&#160;a preconfigured&#160;secured&#160;application,&#160;namely&#160;a modified&#160;version&#160;of OpenSSH<br/>(providing&#160;ssh&#160;and&#160;sshd).&#160;The main&#160;differences&#160;between&#160;this&#160;proof&#160;of concept<br/>prototype&#160;and&#160;the&#160;requirements stated&#160;in&#160;[4]&#160;are&#160;presented in&#160;the&#160;introduction of&#160;this<br/>document.<br/>KMA&#160;version&#160;0.1.0&#160;includes&#160;patches applied&#160;to&#160;the&#160;Linux&#160;kernel&#160;and&#160;it&#160;requires&#160;the<br/>installation&#160;of&#160;the&#160;boot&#160;loader&#160;TrustedGRUB&#160;which may&#160;result&#160;in&#160;a platform&#160;not&#160;booting<br/>anymore,&#160;if something&#160;fails.&#160;The&#160;passwords&#160;in&#160;this version&#160;are&#160;input&#160;in&#160;clear&#160;text.&#160;KMA<br/>has not&#160;been deeply&#160;tested&#160;yet&#160;and in&#160;particular&#160;stress&#160;tests&#160;or&#160;tests&#160;about&#160;concurrent<br/>use&#160;of KMA&#160;other than&#160;a pair&#160;of&#160;ssh/sshd&#160;applications at&#160;the&#160;same&#160;time&#160;have&#160;not yet<br/>been&#160;performed.</p>
<p style="position:absolute;top:476px;left:85px;white-space:nowrap" class="ft2106"><b>For all aforementioned&#160;reasons,&#160;KMA&#160;version 0.1.0&#160;must&#160;be&#160;considered&#160;as<br/>preliminary and&#160;experimental&#160;software:&#160;it should&#160;not&#160;be installed&#160;on<br/>platforms&#160;in production&#160;while&#160;it&#160;should&#160;be&#160;only&#160;installed&#160;on&#160;testing&#160;platforms<br/>by experienced&#160;users.</b></p>
<p style="position:absolute;top:579px;left:92px;white-space:nowrap" class="ft2101"><b>&#160;2.2&#160;&#160;Introduction</b></p>
<p style="position:absolute;top:608px;left:85px;white-space:nowrap" class="ft2102">KMA version&#160;0.1.0&#160;is distributed&#160;in&#160;two forms:</p>
<p style="position:absolute;top:639px;left:112px;white-space:nowrap" class="ft210111">●</p>
<p style="position:absolute;top:636px;left:139px;white-space:nowrap" class="ft2102">a tarball&#160;</p>
<p style="position:absolute;top:641px;left:213px;white-space:nowrap" class="ft21016">pol-kma-sources.tar.bz2</p>
<p style="position:absolute;top:636px;left:441px;white-space:nowrap" class="ft2102">&#160;including&#160;source&#160;code and&#160;scripts&#160;for</p>
<p style="position:absolute;top:656px;left:139px;white-space:nowrap" class="ft2102">building</p>
<p style="position:absolute;top:687px;left:112px;white-space:nowrap" class="ft210111">●</p>
<p style="position:absolute;top:684px;left:139px;white-space:nowrap" class="ft2102">a tarball&#160;</p>
<p style="position:absolute;top:689px;left:213px;white-space:nowrap" class="ft21016">pol-kma-rpms.tar.bz2</p>
<p style="position:absolute;top:684px;left:411px;white-space:nowrap" class="ft2102">&#160;including&#160;RPM&#160;packages&#160;with&#160;binaries&#160;only for</p>
<p style="position:absolute;top:705px;left:139px;white-space:nowrap" class="ft2102">direct&#160;installation</p>
<p style="position:absolute;top:733px;left:85px;white-space:nowrap" class="ft2102">Both&#160;have to&#160;be extracted&#160;from&#160;the tarball&#160;</p>
<p style="position:absolute;top:738px;left:442px;white-space:nowrap" class="ft21016">D03c.4_KMA_source_code_and_RPMS.zip</p>
<p style="position:absolute;top:753px;left:85px;white-space:nowrap" class="ft2105">associated&#160;to&#160;this&#160;document.<br/>Two&#160;procedures&#160;will be&#160;specified:</p>
<p style="position:absolute;top:812px;left:112px;white-space:nowrap" class="ft210111">●</p>
<p style="position:absolute;top:809px;left:139px;white-space:nowrap" class="ft2104">building&#160;RPMs&#160;packages&#160;with binaries&#160;from the source&#160;tarball&#160;and&#160;installing&#160;KMA<br/>from&#160;the&#160;newly&#160;generated RPM&#160;packages</p>
<p style="position:absolute;top:860px;left:112px;white-space:nowrap" class="ft210111">●</p>
<p style="position:absolute;top:857px;left:139px;white-space:nowrap" class="ft2102">installing&#160;KMA&#160;directly from&#160;the&#160;provided&#160;RPM&#160;binary&#160;packages</p>
<p style="position:absolute;top:886px;left:85px;white-space:nowrap" class="ft2104">Before&#160;installing&#160;KMA packages,&#160;some&#160;prerequisites&#160;must&#160;be met.&#160;To build&#160;KMA&#160;there<br/>are&#160;also&#160;additional&#160;requirements.&#160;In&#160;the following&#160;subsection&#160;all&#160;prerequisites&#160;are<br/>listed, indicating&#160;whether they&#160;are&#160;required&#160;for&#160;installing&#160;only&#160;or also for&#160;building.</p>
<p style="position:absolute;top:970px;left:92px;white-space:nowrap" class="ft2101"><b>&#160;2.3&#160;&#160;KMA package&#160;dependencies&#160;(prerequisites)</b></p>
<p style="position:absolute;top:998px;left:85px;white-space:nowrap" class="ft2104">The prerequisites&#160;are&#160;mostly&#160;expressed&#160;in&#160;terms of software&#160;packages&#160;to&#160;be installed.<br/>For&#160;each package&#160;(or&#160;group&#160;of packages),&#160;it&#160;is&#160;indicated&#160;if&#160;the&#160;package&#160;is&#160;required<br/>when&#160;</p>
<p style="position:absolute;top:1037px;left:135px;white-space:nowrap" class="ft21014"><i>building</i></p>
<p style="position:absolute;top:1037px;left:201px;white-space:nowrap" class="ft2102">&#160;KMA&#160;or when&#160;</p>
<p style="position:absolute;top:1037px;left:320px;white-space:nowrap" class="ft21014"><i>installing</i></p>
<p style="position:absolute;top:1037px;left:395px;white-space:nowrap" class="ft2102">&#160;it.</p>
<p style="position:absolute;top:1083px;left:85px;white-space:nowrap" class="ft21012"><b>&#160;2.3.1&#160;&#160;Prerequisites</b></p>
<p style="position:absolute;top:1112px;left:112px;white-space:nowrap" class="ft210111">●</p>
<p style="position:absolute;top:1110px;left:139px;white-space:nowrap" class="ft2102">a&#160;hardware&#160;platform&#160;with TPM 1.1 or&#160;1.2&#160;and&#160;ownership&#160;correctly&#160;taken;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2107">Open_TC&#160;Deliverable&#160;03c.4</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft2107">4/12</p>
</div>
<!-- Page 211 -->
<a name="211"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft211112{font-size:16px;font-family:FJLCJC+Courier;color:#000000;}
	.ft211113{font-size:10px;font-family:CourierNewPSMT;color:#000000;}
-->
</style>
<div id="page211-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2211.png" alt="background image"/>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft2117">WP03c.4 KMA service&#160;source&#160;code&#160;and&#160;documentation&#160;</p>
<p style="position:absolute;top:92px;left:684px;white-space:nowrap" class="ft2117">FINAL 2.00</p>
<p style="position:absolute;top:151px;left:139px;white-space:nowrap" class="ft2114">currently&#160;it&#160;has been&#160;tested only&#160;on HP Compaq&#160;nw8000&#160;and&#160;HP dc7700<br/>platforms&#160;(</p>
<p style="position:absolute;top:170px;left:230px;white-space:nowrap" class="ft21114"><i>installing</i></p>
<p style="position:absolute;top:170px;left:305px;white-space:nowrap" class="ft2112">)</p>
<p style="position:absolute;top:201px;left:112px;white-space:nowrap" class="ft211111">●</p>
<p style="position:absolute;top:198px;left:139px;white-space:nowrap" class="ft2112">a specific&#160;Linux distribution&#160;and version&#160;installed,&#160;</p>
<p style="position:absolute;top:203px;left:554px;white-space:nowrap" class="ft211112">openSUSE 10.3</p>
<p style="position:absolute;top:198px;left:682px;white-space:nowrap" class="ft2112">, with&#160;a</p>
<p style="position:absolute;top:219px;left:139px;white-space:nowrap" class="ft2112">specific&#160;SUSE&#160;Linux kernel,&#160;version&#160;</p>
<p style="position:absolute;top:224px;left:433px;white-space:nowrap" class="ft21116">2.6.22-17</p>
<p style="position:absolute;top:219px;left:522px;white-space:nowrap" class="ft2112">: with&#160;future&#160;versions&#160;of the Linux</p>
<p style="position:absolute;top:239px;left:139px;white-space:nowrap" class="ft2112">kernel&#160;KMA&#160;v&#160;0.1.0&#160;might&#160;not&#160;work&#160;(</p>
<p style="position:absolute;top:239px;left:437px;white-space:nowrap" class="ft21114"><i>building</i></p>
<p style="position:absolute;top:239px;left:503px;white-space:nowrap" class="ft2112">,&#160;</p>
<p style="position:absolute;top:239px;left:514px;white-space:nowrap" class="ft21114"><i>installing</i></p>
<p style="position:absolute;top:239px;left:589px;white-space:nowrap" class="ft2112">)</p>
<p style="position:absolute;top:270px;left:112px;white-space:nowrap" class="ft211111">●</p>
<p style="position:absolute;top:267px;left:139px;white-space:nowrap" class="ft2112">superuser&#160;privileges,&#160;i.e.&#160;access&#160;to&#160;</p>
<p style="position:absolute;top:272px;left:431px;white-space:nowrap" class="ft21116">root</p>
<p style="position:absolute;top:267px;left:470px;white-space:nowrap" class="ft2112">&#160;account (</p>
<p style="position:absolute;top:267px;left:553px;white-space:nowrap" class="ft21114"><i>building</i></p>
<p style="position:absolute;top:267px;left:619px;white-space:nowrap" class="ft2112">,&#160;</p>
<p style="position:absolute;top:267px;left:630px;white-space:nowrap" class="ft21114"><i>installing</i></p>
<p style="position:absolute;top:267px;left:705px;white-space:nowrap" class="ft2112">)</p>
<p style="position:absolute;top:299px;left:112px;white-space:nowrap" class="ft211111">●</p>
<p style="position:absolute;top:296px;left:139px;white-space:nowrap" class="ft2112">packages&#160;required&#160;for&#160;kernel&#160;development&#160;(gcc,&#160;make,&#160;etc.)&#160;(</p>
<p style="position:absolute;top:296px;left:648px;white-space:nowrap" class="ft21114"><i>building</i></p>
<p style="position:absolute;top:296px;left:714px;white-space:nowrap" class="ft2112">)</p>
<p style="position:absolute;top:328px;left:112px;white-space:nowrap" class="ft211111">●</p>
<p style="position:absolute;top:325px;left:139px;white-space:nowrap" class="ft2112">kernel&#160;(</p>
<p style="position:absolute;top:330px;left:203px;white-space:nowrap" class="ft211112">kernel-source</p>
<p style="position:absolute;top:325px;left:331px;white-space:nowrap" class="ft2112">) and&#160;OpenSSH&#160;(</p>
<p style="position:absolute;top:330px;left:468px;white-space:nowrap" class="ft211112">openssh</p>
<p style="position:absolute;top:325px;left:538px;white-space:nowrap" class="ft2112">)&#160;source packages&#160;(</p>
<p style="position:absolute;top:325px;left:700px;white-space:nowrap" class="ft21114"><i>building</i></p>
<p style="position:absolute;top:325px;left:766px;white-space:nowrap" class="ft2112">)</p>
<p style="position:absolute;top:357px;left:112px;white-space:nowrap" class="ft211111">●</p>
<p style="position:absolute;top:359px;left:139px;white-space:nowrap" class="ft21116">makedumpfile</p>
<p style="position:absolute;top:354px;left:258px;white-space:nowrap" class="ft2112">&#160;(</p>
<p style="position:absolute;top:354px;left:270px;white-space:nowrap" class="ft21114"><i>building</i></p>
<p style="position:absolute;top:354px;left:336px;white-space:nowrap" class="ft2112">)</p>
<p style="position:absolute;top:386px;left:112px;white-space:nowrap" class="ft211111">●</p>
<p style="position:absolute;top:388px;left:139px;white-space:nowrap" class="ft21116">fuse-devel</p>
<p style="position:absolute;top:383px;left:238px;white-space:nowrap" class="ft2112">&#160;(</p>
<p style="position:absolute;top:383px;left:250px;white-space:nowrap" class="ft21114"><i>building</i></p>
<p style="position:absolute;top:383px;left:316px;white-space:nowrap" class="ft2112">)</p>
<p style="position:absolute;top:416px;left:112px;white-space:nowrap" class="ft211111">●</p>
<p style="position:absolute;top:418px;left:139px;white-space:nowrap" class="ft21116">wget</p>
<p style="position:absolute;top:413px;left:179px;white-space:nowrap" class="ft2112">&#160;(</p>
<p style="position:absolute;top:413px;left:190px;white-space:nowrap" class="ft21114"><i>building</i></p>
<p style="position:absolute;top:413px;left:257px;white-space:nowrap" class="ft2112">)</p>
<p style="position:absolute;top:445px;left:112px;white-space:nowrap" class="ft211111">●</p>
<p style="position:absolute;top:447px;left:139px;white-space:nowrap" class="ft21116">audit-devel</p>
<p style="position:absolute;top:442px;left:248px;white-space:nowrap" class="ft2112">&#160;(</p>
<p style="position:absolute;top:442px;left:260px;white-space:nowrap" class="ft21114"><i>building</i></p>
<p style="position:absolute;top:442px;left:326px;white-space:nowrap" class="ft2112">)</p>
<p style="position:absolute;top:474px;left:112px;white-space:nowrap" class="ft211111">●</p>
<p style="position:absolute;top:476px;left:139px;white-space:nowrap" class="ft21116">krb5-devel</p>
<p style="position:absolute;top:471px;left:238px;white-space:nowrap" class="ft2112">&#160;(</p>
<p style="position:absolute;top:471px;left:250px;white-space:nowrap" class="ft21114"><i>building</i></p>
<p style="position:absolute;top:471px;left:316px;white-space:nowrap" class="ft2112">)</p>
<p style="position:absolute;top:503px;left:112px;white-space:nowrap" class="ft211111">●</p>
<p style="position:absolute;top:505px;left:139px;white-space:nowrap" class="ft21116">opensc-devel</p>
<p style="position:absolute;top:500px;left:258px;white-space:nowrap" class="ft2112">&#160;(</p>
<p style="position:absolute;top:500px;left:270px;white-space:nowrap" class="ft21114"><i>building</i></p>
<p style="position:absolute;top:500px;left:336px;white-space:nowrap" class="ft2112">)</p>
<p style="position:absolute;top:533px;left:112px;white-space:nowrap" class="ft211111">●</p>
<p style="position:absolute;top:535px;left:139px;white-space:nowrap" class="ft21116">tcpd-devel</p>
<p style="position:absolute;top:530px;left:238px;white-space:nowrap" class="ft2112">&#160;(</p>
<p style="position:absolute;top:530px;left:250px;white-space:nowrap" class="ft21114"><i>building</i></p>
<p style="position:absolute;top:530px;left:316px;white-space:nowrap" class="ft2112">)</p>
<p style="position:absolute;top:562px;left:112px;white-space:nowrap" class="ft211111">●</p>
<p style="position:absolute;top:564px;left:139px;white-space:nowrap" class="ft21116">createrepo</p>
<p style="position:absolute;top:559px;left:238px;white-space:nowrap" class="ft2112">&#160;(</p>
<p style="position:absolute;top:559px;left:250px;white-space:nowrap" class="ft21114"><i>building</i></p>
<p style="position:absolute;top:559px;left:316px;white-space:nowrap" class="ft2112">)</p>
<p style="position:absolute;top:591px;left:112px;white-space:nowrap" class="ft211111">●</p>
<p style="position:absolute;top:593px;left:139px;white-space:nowrap" class="ft21116">trousers-devel</p>
<p style="position:absolute;top:592px;left:278px;white-space:nowrap" class="ft211113">1</p>
<p style="position:absolute;top:588px;left:283px;white-space:nowrap" class="ft2112">&#160;(</p>
<p style="position:absolute;top:588px;left:295px;white-space:nowrap" class="ft21114"><i>building</i></p>
<p style="position:absolute;top:588px;left:361px;white-space:nowrap" class="ft2112">,&#160;</p>
<p style="position:absolute;top:588px;left:372px;white-space:nowrap" class="ft21114"><i>installing</i></p>
<p style="position:absolute;top:588px;left:447px;white-space:nowrap" class="ft2112">)</p>
<p style="position:absolute;top:620px;left:112px;white-space:nowrap" class="ft211111">●</p>
<p style="position:absolute;top:622px;left:139px;white-space:nowrap" class="ft21116">trusted-grub</p>
<p style="position:absolute;top:621px;left:258px;white-space:nowrap" class="ft211113">2</p>
<p style="position:absolute;top:617px;left:264px;white-space:nowrap" class="ft2112">&#160;(</p>
<p style="position:absolute;top:617px;left:275px;white-space:nowrap" class="ft21114"><i>installing</i></p>
<p style="position:absolute;top:617px;left:350px;white-space:nowrap" class="ft2112">)</p>
<p style="position:absolute;top:647px;left:85px;white-space:nowrap" class="ft2114">The installation&#160;of openSUSE&#160;10.3&#160;can&#160;be&#160;done&#160;using&#160;an&#160;off-line distribution&#160;medium<br/>(i.e. CDs&#160;or DVD).&#160;Then&#160;connecting&#160;the&#160;platform&#160;to&#160;a&#160;network&#160;allowing&#160;surfing&#160;the<br/>Internet&#160;is recommended&#160;(required&#160;at least&#160;to install&#160;</p>
<p style="position:absolute;top:690px;left:525px;white-space:nowrap" class="ft21116">trousers-devel</p>
<p style="position:absolute;top:685px;left:664px;white-space:nowrap" class="ft2112">&#160;and&#160;</p>
<p style="position:absolute;top:690px;left:705px;white-space:nowrap" class="ft21116">trusted-</p>
<p style="position:absolute;top:710px;left:85px;white-space:nowrap" class="ft21116">grub</p>
<p style="position:absolute;top:705px;left:125px;white-space:nowrap" class="ft2112">&#160;which&#160;are&#160;not included&#160;in the standard&#160;distribution&#160;media).</p>
<p style="position:absolute;top:735px;left:85px;white-space:nowrap" class="ft2114">An&#160;on-line system&#160;update&#160;is recommended&#160;before&#160;building&#160;or installing KMA.&#160;Then&#160;the<br/>OpenTC&#160;@SUSE repository&#160;for RPM&#160;packages&#160;must&#160;be&#160;added&#160;to&#160;the&#160;Yast&#160;configuration.</p>
<p style="position:absolute;top:800px;left:85px;white-space:nowrap" class="ft21112"><b>&#160;2.3.2&#160;&#160;Adding&#160;OpenTC&#160;repository&#160;via&#160;zypper</b></p>
<p style="position:absolute;top:826px;left:85px;white-space:nowrap" class="ft2112">This&#160;can be&#160;done with&#160;the&#160;following console&#160;command:</p>
<p style="position:absolute;top:855px;left:112px;white-space:nowrap" class="ft211111">●</p>
<p style="position:absolute;top:858px;left:139px;white-space:nowrap" class="ft21173">zypper addrepo -t rpm-md&#160;<br/>http://download.opensuse.org/repositories/security:/OpenTC/openSUSE_10.3/<br/>OpenTC</p>
<p style="position:absolute;top:933px;left:85px;white-space:nowrap" class="ft21112"><b>&#160;2.3.3&#160;&#160;Adding&#160;OpenTC&#160;repository&#160;via Yast&#160;(alternative&#160;procedure)</b></p>
<p style="position:absolute;top:959px;left:85px;white-space:nowrap" class="ft2114">An alternative&#160;procedure&#160;for installing&#160;KMA&#160;can be&#160;performed&#160;using Yast from<br/>console</p>
<p style="position:absolute;top:978px;left:148px;white-space:nowrap" class="ft2113">3</p>
<p style="position:absolute;top:978px;left:154px;white-space:nowrap" class="ft2112">. Yast&#160;can&#160;be started&#160;via&#160;console command:</p>
<p style="position:absolute;top:1017px;left:85px;white-space:nowrap" class="ft2117">1&#160;available&#160;from&#160;the&#160;OpenTC&#160;opensuse&#160;repository&#160;reachable at&#160;the address:</p>
<p style="position:absolute;top:1037px;left:106px;white-space:nowrap" class="ft21172">http://download.opensuse.org/repositories/security:/OpenTC/openSUSE_10.3/</p>
<p style="position:absolute;top:1051px;left:85px;white-space:nowrap" class="ft2117">2&#160;available&#160;from&#160;the&#160;OpenTC&#160;opensuse&#160;repository&#160;reachable at&#160;the address:</p>
<p style="position:absolute;top:1072px;left:106px;white-space:nowrap" class="ft21172">http://download.opensuse.org/repositories/security:/OpenTC/openSUSE_10.3/</p>
<p style="position:absolute;top:1086px;left:85px;white-space:nowrap" class="ft2117">3&#160;a&#160;similar&#160;sequence can be&#160;performed using the&#160;GUI&#160;version of&#160;Yast,&#160;which can be&#160;started&#160;by</p>
<p style="position:absolute;top:1108px;left:106px;white-space:nowrap" class="ft21172">Menu Computer -&gt; Control Center -&gt; Yast -&gt; Software Repositories</p>
<p style="position:absolute;top:1103px;left:682px;white-space:nowrap" class="ft2117">&#160;for&#160;adding&#160;a</p>
<p style="position:absolute;top:1122px;left:106px;white-space:nowrap" class="ft2117">new repository</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2117">Open_TC&#160;Deliverable&#160;03c.4</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft2117">5/12</p>
</div>
<!-- Page 212 -->
<a name="212"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page212-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2212.png" alt="background image"/>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft2127">WP03c.4 KMA service&#160;source&#160;code&#160;and&#160;documentation&#160;</p>
<p style="position:absolute;top:92px;left:684px;white-space:nowrap" class="ft2127">FINAL 2.00</p>
<p style="position:absolute;top:154px;left:85px;white-space:nowrap" class="ft21216">yast</p>
<p style="position:absolute;top:179px;left:85px;white-space:nowrap" class="ft2122">then select&#160;</p>
<p style="position:absolute;top:184px;left:182px;white-space:nowrap" class="ft212112">Software -&gt; Software repositories -&gt; Add -&gt; HTTP</p>
<p style="position:absolute;top:179px;left:657px;white-space:nowrap" class="ft2122">. Then fill&#160;in&#160;the</p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft2122">field&#160;“Server Name” with:</p>
<p style="position:absolute;top:231px;left:85px;white-space:nowrap" class="ft21216">download.opensuse.org</p>
<p style="position:absolute;top:255px;left:85px;white-space:nowrap" class="ft2122">and&#160;the&#160;field “Directory on Server”&#160;with:</p>
<p style="position:absolute;top:286px;left:85px;white-space:nowrap" class="ft21216">/repositories/security:/OpenTC/openSUSE_10.3/</p>
<p style="position:absolute;top:329px;left:85px;white-space:nowrap" class="ft21212"><b>&#160;2.3.4&#160;&#160;Installing&#160;required&#160;packages&#160;(prerequisites)</b></p>
<p style="position:absolute;top:355px;left:85px;white-space:nowrap" class="ft2125">Now&#160;the&#160;packages&#160;previously&#160;listed can&#160;be&#160;installed.<br/>The packages&#160;with&#160;the&#160;source&#160;code&#160;(required&#160;only&#160;for&#160;</p>
<p style="position:absolute;top:383px;left:533px;white-space:nowrap" class="ft21214"><i>building</i></p>
<p style="position:absolute;top:383px;left:599px;white-space:nowrap" class="ft2122">) can&#160;be installed&#160;by</p>
<p style="position:absolute;top:403px;left:85px;white-space:nowrap" class="ft2122">executing the console&#160;command:</p>
<p style="position:absolute;top:434px;left:85px;white-space:nowrap" class="ft21216">zypper source-install kernel-source openssh</p>
<p style="position:absolute;top:458px;left:85px;white-space:nowrap" class="ft2124">The other&#160;packages&#160;(with&#160;the&#160;binaries)&#160;can&#160;be&#160;installed&#160;by&#160;executing&#160;the&#160;console<br/>command:</p>
<p style="position:absolute;top:509px;left:85px;white-space:nowrap" class="ft21216">zypper install &lt;package&gt; &lt;package&gt; ...</p>
<p style="position:absolute;top:534px;left:85px;white-space:nowrap" class="ft2122">where&#160;</p>
<p style="position:absolute;top:538px;left:141px;white-space:nowrap" class="ft21216">&lt;package&gt;</p>
<p style="position:absolute;top:534px;left:231px;white-space:nowrap" class="ft2122">&#160;is each&#160;one of&#160;the&#160;listed&#160;packages&#160;according&#160;to the&#160;requirements</p>
<p style="position:absolute;top:554px;left:85px;white-space:nowrap" class="ft2122">(</p>
<p style="position:absolute;top:554px;left:92px;white-space:nowrap" class="ft21214"><i>building</i></p>
<p style="position:absolute;top:554px;left:158px;white-space:nowrap" class="ft2122">&#160;and/or&#160;</p>
<p style="position:absolute;top:554px;left:222px;white-space:nowrap" class="ft21214"><i>installing</i></p>
<p style="position:absolute;top:554px;left:297px;white-space:nowrap" class="ft2122">)</p>
<p style="position:absolute;top:582px;left:85px;white-space:nowrap" class="ft2124">While&#160;installing&#160;the&#160;listed&#160;packages,&#160;if they depend&#160;on&#160;additional&#160;packages,&#160;also&#160;the<br/>latter are&#160;automatically&#160;installed.</p>
<p style="position:absolute;top:647px;left:85px;white-space:nowrap" class="ft21212"><b>&#160;2.3.5&#160;&#160;KMA&#160;building&#160;procedure</b></p>
<p style="position:absolute;top:692px;left:85px;white-space:nowrap" class="ft2127">&#160;2.3.5.1&#160;&#160;Building&#160;from&#160;the source&#160;tarball</p>
<p style="position:absolute;top:718px;left:112px;white-space:nowrap" class="ft2122">1.&#160;Copy&#160;the&#160;distributed&#160;tarball&#160;with&#160;source&#160;code (</p>
<p style="position:absolute;top:723px;left:524px;white-space:nowrap" class="ft21216">pol-kma-sources.tar.bz2</p>
<p style="position:absolute;top:718px;left:752px;white-space:nowrap" class="ft2122">) to&#160;a</p>
<p style="position:absolute;top:739px;left:139px;white-space:nowrap" class="ft2122">temporary directory (</p>
<p style="position:absolute;top:744px;left:317px;white-space:nowrap" class="ft21216">TEMPDIR</p>
<p style="position:absolute;top:739px;left:386px;white-space:nowrap" class="ft2122">, where&#160;“</p>
<p style="position:absolute;top:744px;left:462px;white-space:nowrap" class="ft21216">TEMPDIR</p>
<p style="position:absolute;top:739px;left:531px;white-space:nowrap" class="ft2122">”&#160;</p>
<p style="position:absolute;top:739px;left:545px;white-space:nowrap" class="ft2121"><b>is&#160;a&#160;full path&#160;including&#160;the</b></p>
<p style="position:absolute;top:759px;left:139px;white-space:nowrap" class="ft2121"><b>root “/” of the&#160;file&#160;system</b></p>
<p style="position:absolute;top:759px;left:380px;white-space:nowrap" class="ft2122">), enter this directory&#160;and extract&#160;the&#160;content&#160;from</p>
<p style="position:absolute;top:778px;left:139px;white-space:nowrap" class="ft2122">the tarball&#160;with the following&#160;command;</p>
<p style="position:absolute;top:820px;left:139px;white-space:nowrap" class="ft21216">tar jzvf pol-kma-sources.tar.bz2</p>
<p style="position:absolute;top:844px;left:112px;white-space:nowrap" class="ft2122">2.&#160;Check&#160;the&#160;configuration&#160;of the&#160;script&#160;</p>
<p style="position:absolute;top:849px;left:447px;white-space:nowrap" class="ft21216">buildkma</p>
<p style="position:absolute;top:844px;left:526px;white-space:nowrap" class="ft2122">&#160;by&#160;editing the file</p>
<p style="position:absolute;top:869px;left:139px;white-space:nowrap" class="ft21216">buildkmasettings</p>
<p style="position:absolute;top:864px;left:298px;white-space:nowrap" class="ft2122">&#160;in&#160;the directory&#160;</p>
<p style="position:absolute;top:869px;left:435px;white-space:nowrap" class="ft21216">TEMPDIR/pol-kma</p>
<p style="position:absolute;top:864px;left:583px;white-space:nowrap" class="ft2122">; for&#160;a&#160;default&#160;build</p>
<p style="position:absolute;top:885px;left:139px;white-space:nowrap" class="ft2122">nothing&#160;should&#160;be&#160;done&#160;and&#160;this step&#160;can&#160;be skipped;</p>
<p style="position:absolute;top:913px;left:112px;white-space:nowrap" class="ft2122">3.&#160;Check&#160;the&#160;list of&#160;the packages&#160;that&#160;will&#160;be built by&#160;editing the&#160;file&#160;</p>
<p style="position:absolute;top:918px;left:684px;white-space:nowrap" class="ft21216">buildkmadb</p>
<p style="position:absolute;top:913px;left:783px;white-space:nowrap" class="ft2122">&#160;in</p>
<p style="position:absolute;top:933px;left:139px;white-space:nowrap" class="ft2122">the directory&#160;</p>
<p style="position:absolute;top:938px;left:251px;white-space:nowrap" class="ft21216">TEMPDIR/pol-kma</p>
<p style="position:absolute;top:933px;left:399px;white-space:nowrap" class="ft2122">;&#160;for&#160;a default&#160;build&#160;nothing&#160;should&#160;be done and</p>
<p style="position:absolute;top:953px;left:139px;white-space:nowrap" class="ft2122">this&#160;step can&#160;be skipped;</p>
<p style="position:absolute;top:982px;left:112px;white-space:nowrap" class="ft2122">4.&#160;Execute&#160;</p>
<p style="position:absolute;top:986px;left:211px;white-space:nowrap" class="ft21216">./buildkma --source=tarballs</p>
<p style="position:absolute;top:982px;left:488px;white-space:nowrap" class="ft2122">&#160;to start&#160;the build&#160;process.&#160;It may</p>
<p style="position:absolute;top:1002px;left:139px;white-space:nowrap" class="ft2124">takes&#160;a&#160;long time&#160;(up&#160;to few hours&#160;depending&#160;on the&#160;platform)&#160;and 4-5 GB&#160;of<br/>free&#160;space&#160;on&#160;the&#160;hard&#160;disk&#160;are&#160;required;</p>
<p style="position:absolute;top:1049px;left:112px;white-space:nowrap" class="ft2122">5.&#160;If the&#160;building&#160;procedure&#160;stops&#160;because&#160;the&#160;creation&#160;of&#160;</p>
<p style="position:absolute;top:1054px;left:599px;white-space:nowrap" class="ft21216">pol-kma-userspace-</p>
<p style="position:absolute;top:1074px;left:139px;white-space:nowrap" class="ft21216">apps</p>
<p style="position:absolute;top:1069px;left:179px;white-space:nowrap" class="ft2122">&#160;package&#160;fails (for&#160;a problem&#160;with&#160;package&#160;dependencies),&#160;then&#160;the</p>
<p style="position:absolute;top:1090px;left:139px;white-space:nowrap" class="ft2124">following&#160;procedure&#160;must&#160;be executed.&#160;One package&#160;just generated and<br/>required&#160;to&#160;build the&#160;next&#160;one&#160;must&#160;be manually&#160;installed&#160;with the following</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2127">Open_TC&#160;Deliverable&#160;03c.4</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft2127">6/12</p>
</div>
<!-- Page 213 -->
<a name="213"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft213114{font-size:16px;line-height:18px;font-family:CourierNewPSMT;color:#000000;}
-->
</style>
<div id="page213-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2213.png" alt="background image"/>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft2137">WP03c.4 KMA service&#160;source&#160;code&#160;and&#160;documentation&#160;</p>
<p style="position:absolute;top:92px;left:684px;white-space:nowrap" class="ft2137">FINAL 2.00</p>
<p style="position:absolute;top:151px;left:139px;white-space:nowrap" class="ft2132">command:</p>
<p style="position:absolute;top:193px;left:139px;white-space:nowrap" class="ft213114">rpm -Uhvi --nodeps ./packages/RPMS/i586/kma-userspace-libs-devel-<br/>0.1.0_initial-1.i586.rpm</p>
<p style="position:absolute;top:227px;left:139px;white-space:nowrap" class="ft2134">&#160;<br/>Then&#160;execute again&#160;</p>
<p style="position:absolute;top:251px;left:308px;white-space:nowrap" class="ft21316">./buildkma --source=tarballs</p>
<p style="position:absolute;top:246px;left:585px;white-space:nowrap" class="ft2132">; this time&#160;the&#160;process</p>
<p style="position:absolute;top:266px;left:139px;white-space:nowrap" class="ft2132">should&#160;end&#160;successfully.</p>
<p style="position:absolute;top:294px;left:85px;white-space:nowrap" class="ft2134">If the&#160;building&#160;procedure&#160;fails&#160;at&#160;some&#160;point&#160;it&#160;is possible&#160;to&#160;see&#160;the&#160;error&#160;occurred&#160;by<br/>viewing&#160;the file&#160;with the name&#160;of the package&#160;created&#160;in&#160;the&#160;</p>
<p style="position:absolute;top:319px;left:591px;white-space:nowrap" class="ft213112">lastlog</p>
<p style="position:absolute;top:314px;left:660px;white-space:nowrap" class="ft2132">&#160;directory.</p>
<p style="position:absolute;top:361px;left:85px;white-space:nowrap" class="ft2137">&#160;2.3.5.2&#160;&#160;Parameters&#160;defined in configuration&#160;file&#160;</p>
<p style="position:absolute;top:365px;left:466px;white-space:nowrap" class="ft21372">buildkmasettings</p>
<p style="position:absolute;top:388px;left:85px;white-space:nowrap" class="ft2134">The following&#160;notes are&#160;only&#160;for&#160;experienced users&#160;and&#160;no&#160;parameter&#160;must&#160;be&#160;changed<br/>for&#160;a&#160;standard&#160;building&#160;procedure.&#160;Some&#160;parameters&#160;or&#160;commands&#160;refer&#160;to&#160;a&#160;SVN<br/>server&#160;which&#160;can&#160;host&#160;the&#160;source&#160;code&#160;for&#160;KMA: they&#160;can&#160;be&#160;ignored&#160;when&#160;building<br/>KMA from&#160;a source&#160;tarball.</p>
<p style="position:absolute;top:477px;left:112px;white-space:nowrap" class="ft213111">●</p>
<p style="position:absolute;top:474px;left:139px;white-space:nowrap" class="ft2131"><b>PKGSUFFX</b></p>
<p style="position:absolute;top:474px;left:238px;white-space:nowrap" class="ft2132">:&#160;indicates&#160;a directory, different&#160;from&#160;</p>
<p style="position:absolute;top:479px;left:549px;white-space:nowrap" class="ft213112">/usr/src/packages/RPMS</p>
<p style="position:absolute;top:474px;left:767px;white-space:nowrap" class="ft2132">,</p>
<p style="position:absolute;top:494px;left:139px;white-space:nowrap" class="ft2132">where&#160;the binary&#160;RPMs&#160;will be&#160;created;</p>
<p style="position:absolute;top:526px;left:112px;white-space:nowrap" class="ft213111">●</p>
<p style="position:absolute;top:523px;left:139px;white-space:nowrap" class="ft2131"><b>PKGSRCSUFFX</b></p>
<p style="position:absolute;top:523px;left:275px;white-space:nowrap" class="ft2132">:&#160;indicates&#160;a&#160;directory,&#160;different&#160;from</p>
<p style="position:absolute;top:547px;left:139px;white-space:nowrap" class="ft213112">/usr/src/packages/SRPMS</p>
<p style="position:absolute;top:542px;left:367px;white-space:nowrap" class="ft2132">, where&#160;the source&#160;RPMs&#160;will be&#160;created;</p>
<p style="position:absolute;top:574px;left:112px;white-space:nowrap" class="ft213111">●</p>
<p style="position:absolute;top:571px;left:139px;white-space:nowrap" class="ft2131"><b>SVNADDRESS</b></p>
<p style="position:absolute;top:571px;left:265px;white-space:nowrap" class="ft2132">: indicates&#160;the URL of&#160;a&#160;SVN&#160;server&#160;providing&#160;all&#160;KMA&#160;packages;</p>
<p style="position:absolute;top:603px;left:112px;white-space:nowrap" class="ft213111">●</p>
<p style="position:absolute;top:600px;left:139px;white-space:nowrap" class="ft2131"><b>OWNREPO</b></p>
<p style="position:absolute;top:600px;left:235px;white-space:nowrap" class="ft2132">:&#160;indicates&#160;an&#160;existent&#160;repository&#160;of&#160;RPMs:&#160;the script&#160;</p>
<p style="position:absolute;top:605px;left:673px;white-space:nowrap" class="ft213112">buildkma</p>
<p style="position:absolute;top:600px;left:752px;white-space:nowrap" class="ft2132">&#160;builds</p>
<p style="position:absolute;top:620px;left:139px;white-space:nowrap" class="ft2134">a&#160;package&#160;only&#160;if its&#160;current&#160;version&#160;on&#160;SVN is greater&#160;than&#160;the version&#160;for&#160;the<br/>same&#160;package&#160;present in the local and&#160;in the&#160;given&#160;repositories;</p>
<p style="position:absolute;top:670px;left:112px;white-space:nowrap" class="ft213111">●</p>
<p style="position:absolute;top:668px;left:139px;white-space:nowrap" class="ft2131"><b>CREATEREPO</b></p>
<p style="position:absolute;top:668px;left:261px;white-space:nowrap" class="ft2132">:&#160;indicates,&#160;if&#160;yes&#160;(default),&#160;that&#160;the&#160;command&#160;</p>
<p style="position:absolute;top:672px;left:646px;white-space:nowrap" class="ft213112">createrepo</p>
<p style="position:absolute;top:668px;left:745px;white-space:nowrap" class="ft2132">&#160;will&#160;be</p>
<p style="position:absolute;top:688px;left:139px;white-space:nowrap" class="ft2132">executed&#160;in the&#160;directory&#160;defined&#160;by&#160;the&#160;</p>
<p style="position:absolute;top:693px;left:478px;white-space:nowrap" class="ft213112">PKGSUFFX</p>
<p style="position:absolute;top:688px;left:558px;white-space:nowrap" class="ft2132">&#160;variable&#160;or&#160;in</p>
<p style="position:absolute;top:713px;left:139px;white-space:nowrap" class="ft213112">/usr/src/packages/RPMS;</p>
<p style="position:absolute;top:708px;left:367px;white-space:nowrap" class="ft2132">&#160;the command&#160;</p>
<p style="position:absolute;top:713px;left:492px;white-space:nowrap" class="ft213112">createrepo</p>
<p style="position:absolute;top:708px;left:591px;white-space:nowrap" class="ft2132">&#160;is used&#160;to&#160;make&#160;a</p>
<p style="position:absolute;top:728px;left:139px;white-space:nowrap" class="ft2132">directory&#160;suitable&#160;for&#160;package&#160;installation&#160;using YaST;</p>
<p style="position:absolute;top:759px;left:112px;white-space:nowrap" class="ft213111">●</p>
<p style="position:absolute;top:756px;left:139px;white-space:nowrap" class="ft2131"><b>TARBALREP</b></p>
<p style="position:absolute;top:756px;left:248px;white-space:nowrap" class="ft2132">: indicates&#160;a&#160;directory where the tarballs&#160;created before&#160;the&#160;RPM</p>
<p style="position:absolute;top:776px;left:139px;white-space:nowrap" class="ft2132">package&#160;creation&#160;procedure&#160;will&#160;be&#160;stored.</p>
<p style="position:absolute;top:804px;left:85px;white-space:nowrap" class="ft2132">The script&#160;</p>
<p style="position:absolute;top:809px;left:172px;white-space:nowrap" class="ft213112">buildkma</p>
<p style="position:absolute;top:804px;left:252px;white-space:nowrap" class="ft2132">&#160;takes&#160;some&#160;command&#160;line parameters:</p>
<p style="position:absolute;top:836px;left:112px;white-space:nowrap" class="ft213111">●</p>
<p style="position:absolute;top:833px;left:139px;white-space:nowrap" class="ft2131"><b>--fetch-only</b></p>
<p style="position:absolute;top:833px;left:247px;white-space:nowrap" class="ft2132">:&#160;executes&#160;the command&#160;</p>
<p style="position:absolute;top:838px;left:458px;white-space:nowrap" class="ft21316">svn checkout</p>
<p style="position:absolute;top:833px;left:577px;white-space:nowrap" class="ft2132">&#160;for each&#160;package listed&#160;in</p>
<p style="position:absolute;top:854px;left:139px;white-space:nowrap" class="ft2132">the file&#160;</p>
<p style="position:absolute;top:859px;left:202px;white-space:nowrap" class="ft213112">buildkmadb;</p>
<p style="position:absolute;top:886px;left:112px;white-space:nowrap" class="ft213111">●</p>
<p style="position:absolute;top:883px;left:139px;white-space:nowrap" class="ft2131"><b>--source=[svn,tarballs]</b></p>
<p style="position:absolute;top:883px;left:354px;white-space:nowrap" class="ft2132">:&#160;selects the&#160;source&#160;repository&#160;for&#160;building&#160;RPM</p>
<p style="position:absolute;top:902px;left:139px;white-space:nowrap" class="ft2132">packages:&#160;it can be the&#160;</p>
<p style="position:absolute;top:907px;left:338px;white-space:nowrap" class="ft213112">SVN</p>
<p style="position:absolute;top:902px;left:368px;white-space:nowrap" class="ft2132">&#160;repository&#160;specified&#160;in the&#160;</p>
<p style="position:absolute;top:907px;left:594px;white-space:nowrap" class="ft213112">SVNADDRESS</p>
<p style="position:absolute;top:902px;left:693px;white-space:nowrap" class="ft2132">&#160;variable&#160;or</p>
<p style="position:absolute;top:923px;left:139px;white-space:nowrap" class="ft2132">the directory&#160;specified in&#160;the&#160;</p>
<p style="position:absolute;top:928px;left:383px;white-space:nowrap" class="ft213112">TARBALREP</p>
<p style="position:absolute;top:923px;left:472px;white-space:nowrap" class="ft2132">&#160;variable&#160;containing&#160;the tarballs&#160;with&#160;the</p>
<p style="position:absolute;top:943px;left:139px;white-space:nowrap" class="ft2132">source&#160;code;</p>
<p style="position:absolute;top:974px;left:112px;white-space:nowrap" class="ft213111">●</p>
<p style="position:absolute;top:971px;left:139px;white-space:nowrap" class="ft2132">-</p>
<p style="position:absolute;top:971px;left:145px;white-space:nowrap" class="ft2131"><b>-make-tarballs</b></p>
<p style="position:absolute;top:971px;left:281px;white-space:nowrap" class="ft2132">: used with&#160;</p>
<p style="position:absolute;top:976px;left:376px;white-space:nowrap" class="ft213112">–-source=rpm&#160;</p>
<p style="position:absolute;top:971px;left:505px;white-space:nowrap" class="ft2132">allows&#160;to create&#160;only&#160;the&#160;tarballs</p>
<p style="position:absolute;top:991px;left:139px;white-space:nowrap" class="ft2134">from&#160;the&#160;source&#160;code&#160;files&#160;freshly&#160;downloaded&#160;from&#160;the SVN&#160;repository&#160;(no&#160;RPM<br/>package&#160;generated).</p>
<p style="position:absolute;top:1039px;left:85px;white-space:nowrap" class="ft2132">The script&#160;</p>
<p style="position:absolute;top:1044px;left:172px;white-space:nowrap" class="ft213112">buildkma</p>
<p style="position:absolute;top:1039px;left:252px;white-space:nowrap" class="ft2132">&#160;downloads&#160;the&#160;required&#160;source&#160;files&#160;and&#160;creates the RPM&#160;for&#160;each</p>
<p style="position:absolute;top:1059px;left:85px;white-space:nowrap" class="ft2132">package&#160;defined&#160;in&#160;the&#160;</p>
<p style="position:absolute;top:1064px;left:280px;white-space:nowrap" class="ft213112">buildkmadb</p>
<p style="position:absolute;top:1059px;left:379px;white-space:nowrap" class="ft2132">&#160;file and&#160;places them&#160;in&#160;the&#160;directory&#160;defined&#160;by</p>
<p style="position:absolute;top:1079px;left:85px;white-space:nowrap" class="ft2132">the&#160;</p>
<p style="position:absolute;top:1084px;left:117px;white-space:nowrap" class="ft213112">PKGSUFFX</p>
<p style="position:absolute;top:1079px;left:197px;white-space:nowrap" class="ft2132">&#160;(if&#160;not empty)&#160;or&#160;in&#160;the&#160;</p>
<p style="position:absolute;top:1084px;left:396px;white-space:nowrap" class="ft213112">/usr/src/packages/RPMS</p>
<p style="position:absolute;top:1079px;left:614px;white-space:nowrap" class="ft2132">&#160;directory.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2137">Open_TC&#160;Deliverable&#160;03c.4</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft2137">7/12</p>
</div>
<!-- Page 214 -->
<a name="214"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft214115{font-size:14px;font-family:FJLDCP+ArialUnicodeMS;color:#000000;}
-->
</style>
<div id="page214-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2214.png" alt="background image"/>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft2147">WP03c.4 KMA service&#160;source&#160;code&#160;and&#160;documentation&#160;</p>
<p style="position:absolute;top:92px;left:684px;white-space:nowrap" class="ft2147">FINAL 2.00</p>
<p style="position:absolute;top:151px;left:92px;white-space:nowrap" class="ft2141"><b>&#160;2.4&#160;&#160;KMA package&#160;overview</b></p>
<p style="position:absolute;top:179px;left:85px;white-space:nowrap" class="ft2145">The KMA&#160;software&#160;is formed&#160;by&#160;two&#160;groups&#160;of components:&#160;one&#160;group&#160;runs&#160;in kernel<br/>memory&#160;space&#160;while the other&#160;one in&#160;user&#160;memory&#160;space.<br/>The components&#160;running&#160;in&#160;kernel memory&#160;space&#160;are installed through&#160;the&#160;</p>
<p style="position:absolute;top:227px;left:713px;white-space:nowrap" class="ft2141"><b>pol-</b></p>
<p style="position:absolute;top:246px;left:85px;white-space:nowrap" class="ft2141"><b>kernel-kma</b></p>
<p style="position:absolute;top:246px;left:190px;white-space:nowrap" class="ft2142">&#160;package&#160;and&#160;consist&#160;of:</p>
<p style="position:absolute;top:277px;left:112px;white-space:nowrap" class="ft214111">●</p>
<p style="position:absolute;top:274px;left:139px;white-space:nowrap" class="ft2142">a&#160;modified&#160;Linux kernel&#160;with some&#160;KMA&#160;modules&#160;built-in:</p>
<p style="position:absolute;top:304px;left:139px;white-space:nowrap" class="ft214115">○</p>
<p style="position:absolute;top:303px;left:166px;white-space:nowrap" class="ft2141"><b>kmakeys</b></p>
<p style="position:absolute;top:303px;left:248px;white-space:nowrap" class="ft2142">: Key Repository;</p>
<p style="position:absolute;top:332px;left:139px;white-space:nowrap" class="ft214115">○</p>
<p style="position:absolute;top:331px;left:166px;white-space:nowrap" class="ft2141"><b>kmauth-authority</b></p>
<p style="position:absolute;top:331px;left:330px;white-space:nowrap" class="ft2142">:&#160;Authority&#160;for&#160;credentials management;&#160;</p>
<p style="position:absolute;top:361px;left:139px;white-space:nowrap" class="ft214115">○</p>
<p style="position:absolute;top:360px;left:166px;white-space:nowrap" class="ft2141"><b>kmauth-loader</b></p>
<p style="position:absolute;top:360px;left:303px;white-space:nowrap" class="ft2142">: Linux&#160;Security Module that&#160;executes KMA&#160;functions&#160;when&#160;a</p>
<p style="position:absolute;top:379px;left:166px;white-space:nowrap" class="ft2142">process&#160;(of a secured&#160;application)&#160;is created&#160;or&#160;terminated;</p>
<p style="position:absolute;top:410px;left:112px;white-space:nowrap" class="ft214111">●</p>
<p style="position:absolute;top:407px;left:139px;white-space:nowrap" class="ft2142">others&#160;kernel modules&#160;loaded&#160;at&#160;the&#160;bootstrap&#160;of&#160;the platform:</p>
<p style="position:absolute;top:437px;left:139px;white-space:nowrap" class="ft214115">○</p>
<p style="position:absolute;top:436px;left:166px;white-space:nowrap" class="ft2141"><b>kmauth-bootstrap</b></p>
<p style="position:absolute;top:436px;left:335px;white-space:nowrap" class="ft2142">:&#160;KMA&#160;Bootstrap&#160;performs&#160;the&#160;initialization&#160;of&#160;KMA during</p>
<p style="position:absolute;top:455px;left:166px;white-space:nowrap" class="ft2144">the boot&#160;process,&#160;and&#160;requests&#160;the&#160;sealing/unsealing&#160;function&#160;to&#160;the&#160;TPM<br/>directly within&#160;the kernel;</p>
<p style="position:absolute;top:504px;left:139px;white-space:nowrap" class="ft214115">○</p>
<p style="position:absolute;top:503px;left:166px;white-space:nowrap" class="ft2141"><b>kmauth-ticket</b></p>
<p style="position:absolute;top:503px;left:297px;white-space:nowrap" class="ft2142">:&#160;Ticket Manager,&#160;builds and&#160;transmits&#160;tickets&#160;through&#160;a</p>
<p style="position:absolute;top:522px;left:166px;white-space:nowrap" class="ft2144">device&#160;driver;&#160;used&#160;by TrouSerS&#160;during&#160;the&#160;authorization&#160;process&#160;for&#160;using<br/>TPM keys;</p>
<p style="position:absolute;top:570px;left:85px;white-space:nowrap" class="ft2142">The components&#160;running&#160;in&#160;user memory&#160;space&#160;are installed&#160;through&#160;these&#160;packages:</p>
<p style="position:absolute;top:601px;left:112px;white-space:nowrap" class="ft214111">●</p>
<p style="position:absolute;top:598px;left:139px;white-space:nowrap" class="ft2141"><b>pol-kma-userspace-libs</b></p>
<p style="position:absolute;top:598px;left:355px;white-space:nowrap" class="ft2142">: contains the&#160;libraries&#160;used&#160;by&#160;the&#160;signing&#160;utility, the</p>
<p style="position:absolute;top:617px;left:139px;white-space:nowrap" class="ft2144">FUSE&#160;daemon,&#160;the KMAD&#160;daemon&#160;and&#160;a library&#160;that&#160;export&#160;a function&#160;called&#160;by<br/>the modified&#160;applications&#160;(i.e.&#160;the secured&#160;applications)&#160;like ssh&#160;and&#160;sshd;</p>
<p style="position:absolute;top:666px;left:139px;white-space:nowrap" class="ft214115">○</p>
<p style="position:absolute;top:665px;left:166px;white-space:nowrap" class="ft21414"><i>/usr/lib/libkmauser.so</i></p>
<p style="position:absolute;top:665px;left:344px;white-space:nowrap" class="ft2142">:&#160;used&#160;by KMAD,&#160;FUSE&#160;and&#160;the signing&#160;tool;</p>
<p style="position:absolute;top:694px;left:139px;white-space:nowrap" class="ft214115">○</p>
<p style="position:absolute;top:693px;left:166px;white-space:nowrap" class="ft21414"><i>/usr/lib/libkmauserapp.so</i></p>
<p style="position:absolute;top:693px;left:375px;white-space:nowrap" class="ft2142">:&#160;library&#160;linked&#160;with the&#160;modified&#160;applications.</p>
<p style="position:absolute;top:725px;left:112px;white-space:nowrap" class="ft214111">●</p>
<p style="position:absolute;top:722px;left:139px;white-space:nowrap" class="ft2141"><b>pol-kma-userspace-apps</b></p>
<p style="position:absolute;top:722px;left:367px;white-space:nowrap" class="ft2142">: contains&#160;the&#160;KMAD&#160;daemon&#160;that&#160;is used&#160;to&#160;activate</p>
<p style="position:absolute;top:741px;left:139px;white-space:nowrap" class="ft2144">the data&#160;repository&#160;bound&#160;to a secured&#160;application&#160;when&#160;it&#160;makes&#160;a&#160;request;&#160;the<br/>FUSE&#160;daemon&#160;whose&#160;instances&#160;manage&#160;each&#160;one a&#160;data&#160;repository&#160;at&#160;once;</p>
<p style="position:absolute;top:790px;left:139px;white-space:nowrap" class="ft214115">○</p>
<p style="position:absolute;top:789px;left:166px;white-space:nowrap" class="ft21414"><i>/usr/sbin/kmad</i></p>
<p style="position:absolute;top:789px;left:289px;white-space:nowrap" class="ft2142">: KMAD&#160;daemon;</p>
<p style="position:absolute;top:818px;left:139px;white-space:nowrap" class="ft214115">○</p>
<p style="position:absolute;top:817px;left:166px;white-space:nowrap" class="ft21414"><i>/usr/sbin/kmafsd</i></p>
<p style="position:absolute;top:817px;left:303px;white-space:nowrap" class="ft2142">: FUSE&#160;daemon.</p>
<p style="position:absolute;top:848px;left:112px;white-space:nowrap" class="ft214111">●</p>
<p style="position:absolute;top:846px;left:139px;white-space:nowrap" class="ft2141"><b>pol-bsign-kma</b></p>
<p style="position:absolute;top:846px;left:272px;white-space:nowrap" class="ft2142">: contains&#160;Binary&#160;Sign&#160;(bSign)&#160;a&#160;tool&#160;used&#160;to&#160;modify&#160;the ELF</p>
<p style="position:absolute;top:865px;left:139px;white-space:nowrap" class="ft2142">header&#160;of the binaries&#160;that&#160;will&#160;be&#160;certified in order to&#160;embed&#160;the&#160;certification;</p>
<p style="position:absolute;top:894px;left:139px;white-space:nowrap" class="ft214115">○</p>
<p style="position:absolute;top:893px;left:166px;white-space:nowrap" class="ft21414"><i>/usr/bin/kma_start_sign</i></p>
<p style="position:absolute;top:923px;left:139px;white-space:nowrap" class="ft214115">○</p>
<p style="position:absolute;top:922px;left:166px;white-space:nowrap" class="ft21414"><i>/usr/bin/bsign</i></p>
<p style="position:absolute;top:922px;left:279px;white-space:nowrap" class="ft2142">.</p>
<p style="position:absolute;top:953px;left:112px;white-space:nowrap" class="ft214111">●</p>
<p style="position:absolute;top:950px;left:139px;white-space:nowrap" class="ft2141"><b>pol-openssh-kma</b></p>
<p style="position:absolute;top:950px;left:298px;white-space:nowrap" class="ft2142">; contains&#160;a&#160;modified&#160;(i.e.&#160;secured) version&#160;of&#160;ssh&#160;and&#160;sshd;</p>
<p style="position:absolute;top:980px;left:139px;white-space:nowrap" class="ft214115">○</p>
<p style="position:absolute;top:979px;left:166px;white-space:nowrap" class="ft21414"><i>/usr/bin/ssh</i></p>
<p style="position:absolute;top:979px;left:262px;white-space:nowrap" class="ft2142">;</p>
<p style="position:absolute;top:1008px;left:139px;white-space:nowrap" class="ft214115">○</p>
<p style="position:absolute;top:1007px;left:166px;white-space:nowrap" class="ft21414"><i>/usr/sbin/sshd</i></p>
<p style="position:absolute;top:1007px;left:281px;white-space:nowrap" class="ft2142">.</p>
<p style="position:absolute;top:1054px;left:92px;white-space:nowrap" class="ft2141"><b>&#160;2.5&#160;&#160;KMA installation guide</b></p>
<p style="position:absolute;top:1082px;left:85px;white-space:nowrap" class="ft2145">The&#160;requirements&#160;for installing&#160;KMA&#160;are&#160;listed in Section&#160;2.3.<br/>There&#160;are&#160;two ways&#160;to install&#160;KMA&#160;from&#160;the provided&#160;tarballs:</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2147">Open_TC&#160;Deliverable&#160;03c.4</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft2147">8/12</p>
</div>
<!-- Page 215 -->
<a name="215"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page215-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2215.png" alt="background image"/>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft2157">WP03c.4 KMA service&#160;source&#160;code&#160;and&#160;documentation&#160;</p>
<p style="position:absolute;top:92px;left:684px;white-space:nowrap" class="ft2157">FINAL 2.00</p>
<p style="position:absolute;top:154px;left:112px;white-space:nowrap" class="ft215111">●</p>
<p style="position:absolute;top:151px;left:139px;white-space:nowrap" class="ft2152">directly from&#160;the tarball&#160;(</p>
<p style="position:absolute;top:156px;left:347px;white-space:nowrap" class="ft21516">pol-kma-rpms.tar.bz2</p>
<p style="position:absolute;top:151px;left:545px;white-space:nowrap" class="ft2152">) containing&#160;the RPM&#160;packages</p>
<p style="position:absolute;top:171px;left:139px;white-space:nowrap" class="ft2154">(this&#160;option&#160;does&#160;not&#160;require a previous&#160;build&#160;process);&#160;the&#160;distributed&#160;tarball<br/>must&#160;be&#160;expanded:&#160;copy&#160;it&#160;to a&#160;temporary&#160;directory&#160;(</p>
<p style="position:absolute;top:195px;left:581px;white-space:nowrap" class="ft21516">TEMPDIR</p>
<p style="position:absolute;top:191px;left:650px;white-space:nowrap" class="ft2152">, where “</p>
<p style="position:absolute;top:195px;left:725px;white-space:nowrap" class="ft21516">TEMPDIR</p>
<p style="position:absolute;top:191px;left:795px;white-space:nowrap" class="ft2152">”</p>
<p style="position:absolute;top:211px;left:139px;white-space:nowrap" class="ft2151"><b>is&#160;a full&#160;path&#160;including&#160;the root “/” of the&#160;file&#160;system</b></p>
<p style="position:absolute;top:211px;left:630px;white-space:nowrap" class="ft2152">),&#160;enter&#160;this&#160;directory</p>
<p style="position:absolute;top:230px;left:139px;white-space:nowrap" class="ft2152">and&#160;extract&#160;the content&#160;from the&#160;tarball&#160;with&#160;the following&#160;command:</p>
<p style="position:absolute;top:272px;left:139px;white-space:nowrap" class="ft21516">tar jxvf pol-kma-rpms.tar.bz2</p>
<p style="position:absolute;top:306px;left:139px;white-space:nowrap" class="ft2152">the folder&#160;</p>
<p style="position:absolute;top:311px;left:225px;white-space:nowrap" class="ft21516">TEMPDIR/pol-kma-rpms&#160;</p>
<p style="position:absolute;top:306px;left:433px;white-space:nowrap" class="ft2152">will&#160;be created containing&#160;all&#160;RPM packages</p>
<p style="position:absolute;top:326px;left:139px;white-space:nowrap" class="ft2152">with&#160;the&#160;binaries</p>
<p style="position:absolute;top:357px;left:112px;white-space:nowrap" class="ft215111">●</p>
<p style="position:absolute;top:354px;left:139px;white-space:nowrap" class="ft2154">from&#160;the&#160;RPM&#160;packages&#160;created after the building&#160;procedure&#160;performed&#160;using<br/>the tarball&#160;containing&#160;(</p>
<p style="position:absolute;top:379px;left:328px;white-space:nowrap" class="ft21516">pol-kma-sources.tar.bz2</p>
<p style="position:absolute;top:374px;left:556px;white-space:nowrap" class="ft2152">) the&#160;source&#160;code</p>
<p style="position:absolute;top:421px;left:85px;white-space:nowrap" class="ft21512"><b>&#160;2.5.1&#160;&#160;Installation&#160;via zypper</b></p>
<p style="position:absolute;top:447px;left:85px;white-space:nowrap" class="ft2154">In&#160;both&#160;cases it&#160;is necessary&#160;to add&#160;the path&#160;of the&#160;local repository&#160;containing&#160;the KMA<br/>packages&#160;with the following&#160;console commands:</p>
<p style="position:absolute;top:496px;left:112px;white-space:nowrap" class="ft215111">●</p>
<p style="position:absolute;top:498px;left:139px;white-space:nowrap" class="ft21516">zypper addrepo -t rpm-md file://TEMPDIR/pol-kma-rpms/ KMA</p>
<p style="position:absolute;top:513px;left:139px;white-space:nowrap" class="ft2152">for&#160;direct installation from&#160;the&#160;provided&#160;RPM packages</p>
<p style="position:absolute;top:543px;left:112px;white-space:nowrap" class="ft215111">●</p>
<p style="position:absolute;top:545px;left:139px;white-space:nowrap" class="ft21516">zypper addrepo -t rpm-md file://TEMPDIR/pol-kma/packages/RPMS KMA</p>
<p style="position:absolute;top:560px;left:139px;white-space:nowrap" class="ft2152">for&#160;installation&#160;from&#160;packages&#160;just&#160;built&#160;from&#160;the&#160;source&#160;tarball</p>
<p style="position:absolute;top:589px;left:85px;white-space:nowrap" class="ft2152">Now&#160;the&#160;KMA packages can&#160;be&#160;installed&#160;with the following console&#160;command:</p>
<p style="position:absolute;top:620px;left:85px;white-space:nowrap" class="ft21516">zypper install openssh_kma</p>
<p style="position:absolute;top:644px;left:85px;white-space:nowrap" class="ft2152">all&#160;other packages&#160;will be automatically&#160;installed.</p>
<p style="position:absolute;top:691px;left:85px;white-space:nowrap" class="ft21512"><b>&#160;2.5.2&#160;&#160;Installation&#160;via Yast&#160;(alternative procedure)</b></p>
<p style="position:absolute;top:717px;left:85px;white-space:nowrap" class="ft2154">An alternative&#160;procedure&#160;for installing&#160;KMA&#160;can be&#160;performed&#160;using Yast from<br/>console</p>
<p style="position:absolute;top:736px;left:148px;white-space:nowrap" class="ft2153">4</p>
<p style="position:absolute;top:736px;left:154px;white-space:nowrap" class="ft2152">. Yast&#160;can&#160;be started&#160;via&#160;console command:</p>
<p style="position:absolute;top:768px;left:85px;white-space:nowrap" class="ft21516">yast</p>
<p style="position:absolute;top:792px;left:85px;white-space:nowrap" class="ft2152">then select&#160;</p>
<p style="position:absolute;top:797px;left:182px;white-space:nowrap" class="ft215112">Software -&gt; Software repositories -&gt; Add -&gt; Local Directory</p>
<p style="position:absolute;top:792px;left:766px;white-space:nowrap" class="ft2152">.</p>
<p style="position:absolute;top:812px;left:85px;white-space:nowrap" class="ft2152">Then&#160;fill&#160;in the&#160;field “Path&#160;to&#160;Directory”&#160;with:</p>
<p style="position:absolute;top:844px;left:112px;white-space:nowrap" class="ft215111">●</p>
<p style="position:absolute;top:846px;left:139px;white-space:nowrap" class="ft21516">TEMPDIR/pol-kma-rpms</p>
<p style="position:absolute;top:841px;left:337px;white-space:nowrap" class="ft2152">&#160;for&#160;direct&#160;installation&#160;from the provided&#160;RPM&#160;packages</p>
<p style="position:absolute;top:873px;left:112px;white-space:nowrap" class="ft215111">●</p>
<p style="position:absolute;top:875px;left:139px;white-space:nowrap" class="ft21516">TEMPDIR/pol-kma/packages/RPMS</p>
<p style="position:absolute;top:870px;left:426px;white-space:nowrap" class="ft2152">&#160;for&#160;installation&#160;from&#160;packages&#160;just&#160;built&#160;from</p>
<p style="position:absolute;top:890px;left:139px;white-space:nowrap" class="ft2152">the source&#160;tarball</p>
<p style="position:absolute;top:918px;left:85px;white-space:nowrap" class="ft2152">After having added&#160;the&#160;repository,&#160;without&#160;leaving&#160;Yast&#160;access&#160;the section&#160;</p>
<p style="position:absolute;top:923px;left:707px;white-space:nowrap" class="ft215112">Software</p>
<p style="position:absolute;top:943px;left:85px;white-space:nowrap" class="ft215112">-&gt; Software Management</p>
<p style="position:absolute;top:939px;left:303px;white-space:nowrap" class="ft2152">&#160;section,&#160;then select the&#160;“</p>
<p style="position:absolute;top:943px;left:516px;white-space:nowrap" class="ft215112">Repositories</p>
<p style="position:absolute;top:939px;left:635px;white-space:nowrap" class="ft2152">” filter. By&#160;clicking</p>
<p style="position:absolute;top:959px;left:85px;white-space:nowrap" class="ft2152">on&#160;“</p>
<p style="position:absolute;top:964px;left:120px;white-space:nowrap" class="ft21516">KMA</p>
<p style="position:absolute;top:959px;left:149px;white-space:nowrap" class="ft2152">” repository,&#160;the&#160;Administrator&#160;can see&#160;all packages&#160;required&#160;for&#160;KMA&#160;to&#160;work.</p>
<p style="position:absolute;top:988px;left:85px;white-space:nowrap" class="ft2152">The only&#160;action&#160;required&#160;is&#160;to&#160;select&#160;the&#160;package&#160;</p>
<p style="position:absolute;top:993px;left:494px;white-space:nowrap" class="ft215112">openssh_kma</p>
<p style="position:absolute;top:988px;left:603px;white-space:nowrap" class="ft2152">; all&#160;other packages&#160;will</p>
<p style="position:absolute;top:1008px;left:85px;white-space:nowrap" class="ft2152">be automatically&#160;installed.</p>
<p style="position:absolute;top:1066px;left:85px;white-space:nowrap" class="ft2157">4&#160;a&#160;similar&#160;sequence can be&#160;performed using the&#160;GUI&#160;version of&#160;Yast,&#160;which can be&#160;started&#160;by</p>
<p style="position:absolute;top:1088px;left:106px;white-space:nowrap" class="ft21572">Menu Computer -&gt; Control Center -&gt; Yast -&gt; Software Repositories</p>
<p style="position:absolute;top:1084px;left:682px;white-space:nowrap" class="ft2157">&#160;for&#160;adding&#160;a</p>
<p style="position:absolute;top:1102px;left:106px;white-space:nowrap" class="ft2157">new repository and&#160;</p>
<p style="position:absolute;top:1107px;left:256px;white-space:nowrap" class="ft21572">Menu Computer -&gt; Control Center -&gt; Yast -&gt; Software</p>
<p style="position:absolute;top:1125px;left:106px;white-space:nowrap" class="ft21572">Management</p>
<p style="position:absolute;top:1121px;left:196px;white-space:nowrap" class="ft2157">&#160;for installing&#160;new packages</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2157">Open_TC&#160;Deliverable&#160;03c.4</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft2157">9/12</p>
</div>
<!-- Page 216 -->
<a name="216"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft216116{font-size:16px;line-height:19px;font-family:KKCECB+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page216-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2216.png" alt="background image"/>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft2167">WP03c.4 KMA service&#160;source&#160;code&#160;and&#160;documentation&#160;</p>
<p style="position:absolute;top:92px;left:684px;white-space:nowrap" class="ft2167">FINAL 2.00</p>
<p style="position:absolute;top:151px;left:92px;white-space:nowrap" class="ft2161"><b>&#160;2.6&#160;&#160;KMA configuration</b></p>
<p style="position:absolute;top:197px;left:85px;white-space:nowrap" class="ft21612"><b>&#160;2.6.1&#160;&#160;Step-by-step&#160;procedure</b></p>
<p style="position:absolute;top:224px;left:85px;white-space:nowrap" class="ft2164">After having installed&#160;the packages&#160;with&#160;the&#160;root&#160;privilege,&#160;the&#160;following&#160;steps must&#160;be<br/>performed:</p>
<p style="position:absolute;top:271px;left:112px;white-space:nowrap" class="ft2162">1.</p>
<p style="position:absolute;top:271px;left:139px;white-space:nowrap" class="ft2161"><b>Creating&#160;the file&#160;list&#160;/var/kma/data/kma_filelist</b></p>
<p style="position:absolute;top:271px;left:573px;white-space:nowrap" class="ft2162">:&#160;this&#160;is the list&#160;of&#160;files that</p>
<p style="position:absolute;top:290px;left:139px;white-space:nowrap" class="ft2164">will&#160;be&#160;included in&#160;the configuration&#160;that&#160;will&#160;be enforced&#160;(via&#160;sealing/unsealing)<br/>at&#160;every platform&#160;bootstrap&#160;to&#160;make&#160;KMA&#160;start&#160;properly.</p>
<p style="position:absolute;top:348px;left:139px;white-space:nowrap" class="ft216116"><i>NOTE: this&#160;file must&#160;be&#160;created by&#160;adding the&#160;files the&#160;administrator&#160;wants to<br/>use&#160;for sealing;&#160;for&#160;testing purposes&#160;this&#160;step&#160;can be&#160;skipped</i></p>
<p style="position:absolute;top:395px;left:112px;white-space:nowrap" class="ft2162">2.</p>
<p style="position:absolute;top:395px;left:139px;white-space:nowrap" class="ft2161"><b>Configuring&#160;TrustedGRUB</b></p>
<p style="position:absolute;top:395px;left:378px;white-space:nowrap" class="ft2162">&#160;(i.e.&#160;installing&#160;it&#160;onto&#160;the Master Boot&#160;Record&#160;or</p>
<p style="position:absolute;top:415px;left:139px;white-space:nowrap" class="ft2162">boot&#160;sector,&#160;only&#160;once):&#160;this can&#160;be done&#160;by starting</p>
<p style="position:absolute;top:437px;left:139px;white-space:nowrap" class="ft216114">grub<br/>setup &lt;device&gt;</p>
<p style="position:absolute;top:471px;left:139px;white-space:nowrap" class="ft2164">if&#160;openSUSE&#160;was&#160;installed&#160;on a the first&#160;(clean) hard&#160;disk, most&#160;likely &lt;device&gt;<br/>can&#160;be:</p>
<p style="position:absolute;top:513px;left:139px;white-space:nowrap" class="ft21616">(hd0)</p>
<p style="position:absolute;top:528px;left:139px;white-space:nowrap" class="ft2162">this&#160;step&#160;it&#160;must be&#160;executed&#160;by&#160;experienced and aware users;</p>
<p style="position:absolute;top:556px;left:112px;white-space:nowrap" class="ft2162">3.</p>
<p style="position:absolute;top:556px;left:139px;white-space:nowrap" class="ft2161"><b>Rebooting the&#160;platform</b></p>
<p style="position:absolute;top:556px;left:357px;white-space:nowrap" class="ft2162">: from&#160;the&#160;boot&#160;menu&#160;choose the following&#160;option:</p>
<p style="position:absolute;top:579px;left:139px;white-space:nowrap" class="ft21616">Kma – openSUSE 10.3 – 2.6.22.18-x</p>
<p style="position:absolute;top:603px;left:112px;white-space:nowrap" class="ft2162">4.</p>
<p style="position:absolute;top:603px;left:139px;white-space:nowrap" class="ft2161"><b>Sealing&#160;against&#160;configuration</b></p>
<p style="position:absolute;top:603px;left:414px;white-space:nowrap" class="ft2162">: a script executed in the&#160;initial&#160;ramdisk&#160;starts</p>
<p style="position:absolute;top:622px;left:139px;white-space:nowrap" class="ft2162">the&#160;sealing&#160;procedure:</p>
<p style="position:absolute;top:651px;left:166px;white-space:nowrap" class="ft2162">1.</p>
<p style="position:absolute;top:651px;left:193px;white-space:nowrap" class="ft2161"><b>Requesting&#160;the&#160;SRK&#160;password</b></p>
<p style="position:absolute;top:651px;left:473px;white-space:nowrap" class="ft2162">:&#160;the KMA&#160;Administrator&#160;must&#160;decide if</p>
<p style="position:absolute;top:670px;left:193px;white-space:nowrap" class="ft2164">setting the&#160;Storage Root&#160;Key (SRK) or&#160;not;&#160;if&#160;set,&#160;this will&#160;be&#160;then&#160;asked at<br/>every&#160;bootstrap&#160;of the&#160;platform;&#160;a wrong&#160;input&#160;password&#160;will&#160;make&#160;KMA<br/>not operational.</p>
<p style="position:absolute;top:736px;left:166px;white-space:nowrap" class="ft2162">2.</p>
<p style="position:absolute;top:736px;left:193px;white-space:nowrap" class="ft2161"><b>Requesting&#160;the&#160;Admin&#160;password</b></p>
<p style="position:absolute;top:736px;left:495px;white-space:nowrap" class="ft2162">: the KMA&#160;Administrator&#160;is&#160;required</p>
<p style="position:absolute;top:756px;left:193px;white-space:nowrap" class="ft2162">to&#160;choose a secret&#160;that&#160;will&#160;be&#160;used&#160;to&#160;certify&#160;the binaries&#160;with&#160;the&#160;</p>
<p style="position:absolute;top:761px;left:748px;white-space:nowrap" class="ft216112">bsign</p>
<p style="position:absolute;top:776px;left:193px;white-space:nowrap" class="ft2162">utility.</p>
<p style="position:absolute;top:804px;left:112px;white-space:nowrap" class="ft2162">5.</p>
<p style="position:absolute;top:804px;left:139px;white-space:nowrap" class="ft2161"><b>Logging&#160;in</b></p>
<p style="position:absolute;top:804px;left:237px;white-space:nowrap" class="ft2162">: as&#160;superuser&#160;(root)</p>
<p style="position:absolute;top:832px;left:112px;white-space:nowrap" class="ft2162">6.</p>
<p style="position:absolute;top:832px;left:139px;white-space:nowrap" class="ft2161"><b>Certifying&#160;binaries</b></p>
<p style="position:absolute;top:832px;left:312px;white-space:nowrap" class="ft2162">:&#160;the KMA&#160;Administrator&#160;logs&#160;in&#160;to&#160;the&#160;system&#160;and&#160;executes</p>
<p style="position:absolute;top:851px;left:139px;white-space:nowrap" class="ft2162">the command&#160;</p>
<p style="position:absolute;top:856px;left:259px;white-space:nowrap" class="ft216112">kma_start_sign</p>
<p style="position:absolute;top:851px;left:398px;white-space:nowrap" class="ft2162">.&#160;This causes,&#160;after the KMA&#160;Administrator&#160;inputs</p>
<p style="position:absolute;top:872px;left:139px;white-space:nowrap" class="ft2164">his secret,&#160;an&#160;automatic&#160;procedure&#160;to certify&#160;all&#160;binaries&#160;required&#160;by&#160;KMA&#160;to<br/>work propertly;</p>
<p style="position:absolute;top:919px;left:112px;white-space:nowrap" class="ft2162">7.</p>
<p style="position:absolute;top:919px;left:139px;white-space:nowrap" class="ft2161"><b>Rebooting the&#160;platform</b></p>
<p style="position:absolute;top:919px;left:357px;white-space:nowrap" class="ft2162">: from&#160;the&#160;boot&#160;menu&#160;choose the following&#160;option:</p>
<p style="position:absolute;top:942px;left:139px;white-space:nowrap" class="ft21616">Kma – openSUSE 10.3 – 2.6.22.18-x</p>
<p style="position:absolute;top:966px;left:112px;white-space:nowrap" class="ft2162">8.</p>
<p style="position:absolute;top:966px;left:139px;white-space:nowrap" class="ft2161"><b>Unsealing&#160;against&#160;configuration</b></p>
<p style="position:absolute;top:966px;left:437px;white-space:nowrap" class="ft2162">: when&#160;the system&#160;starts&#160;up&#160;the&#160;user&#160;must</p>
<p style="position:absolute;top:985px;left:139px;white-space:nowrap" class="ft2164">enter&#160;the&#160;SRK&#160;password&#160;(if previously&#160;set)&#160;in&#160;order&#160;to&#160;make&#160;KMA perform&#160;the<br/>unsealing&#160;operation.&#160;KMA&#160;executes&#160;the&#160;operation&#160;and displays&#160;the result.&#160;If&#160;not<br/>successful,&#160;KMA&#160;will not&#160;be&#160;operational;</p>
<p style="position:absolute;top:1052px;left:112px;white-space:nowrap" class="ft2162">9.</p>
<p style="position:absolute;top:1052px;left:139px;white-space:nowrap" class="ft2161"><b>Securing&#160;and using&#160;application</b></p>
<p style="position:absolute;top:1052px;left:427px;white-space:nowrap" class="ft2162">:&#160;with&#160;this version&#160;of&#160;KMA,&#160;modified&#160;</p>
<p style="position:absolute;top:1057px;left:725px;white-space:nowrap" class="ft21616">ssh</p>
<p style="position:absolute;top:1052px;left:755px;white-space:nowrap" class="ft2162">&#160;and</p>
<p style="position:absolute;top:1077px;left:139px;white-space:nowrap" class="ft21616">sshd</p>
<p style="position:absolute;top:1072px;left:179px;white-space:nowrap" class="ft2162">&#160;are&#160;provided&#160;in&#160;bundle.&#160;The&#160;</p>
<p style="position:absolute;top:1077px;left:418px;white-space:nowrap" class="ft216112">sshd</p>
<p style="position:absolute;top:1072px;left:457px;white-space:nowrap" class="ft2162">&#160;application&#160;is automatically&#160;secured,&#160;via</p>
<p style="position:absolute;top:1092px;left:139px;white-space:nowrap" class="ft2162">startup&#160;script;&#160;</p>
<p style="position:absolute;top:1097px;left:261px;white-space:nowrap" class="ft21616">ssh</p>
<p style="position:absolute;top:1092px;left:290px;white-space:nowrap" class="ft2162">&#160;must&#160;be&#160;started&#160;once,&#160;unprotected,&#160;and configured for using</p>
<p style="position:absolute;top:1113px;left:139px;white-space:nowrap" class="ft2162">a RSA&#160;key for the client&#160;authentication.&#160;Then&#160;the&#160;user&#160;can test&#160;ssh&#160;secured&#160;by</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2167">Open_TC&#160;Deliverable&#160;03c.4</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft2167">10/12</p>
</div>
<!-- Page 217 -->
<a name="217"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page217-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2217.png" alt="background image"/>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft2177">WP03c.4 KMA service&#160;source&#160;code&#160;and&#160;documentation&#160;</p>
<p style="position:absolute;top:92px;left:684px;white-space:nowrap" class="ft2177">FINAL 2.00</p>
<p style="position:absolute;top:151px;left:139px;white-space:nowrap" class="ft2172">KMA by&#160;giving&#160;the commands:</p>
<p style="position:absolute;top:182px;left:166px;white-space:nowrap" class="ft217111">■</p>
<p style="position:absolute;top:184px;left:193px;white-space:nowrap" class="ft217112">ssh -Kmakesecure &lt;host&gt;</p>
<p style="position:absolute;top:179px;left:421px;white-space:nowrap" class="ft2172">: this&#160;makes the&#160;files&#160;</p>
<p style="position:absolute;top:184px;left:598px;white-space:nowrap" class="ft217112">.ssh/id_rsa</p>
<p style="position:absolute;top:179px;left:707px;white-space:nowrap" class="ft2172">&#160;and</p>
<p style="position:absolute;top:204px;left:193px;white-space:nowrap" class="ft217112">.ssh/id_rsa.pub</p>
<p style="position:absolute;top:200px;left:342px;white-space:nowrap" class="ft2172">&#160;be&#160;moved&#160;to&#160;a protected KMA&#160;repository&#160;only</p>
<p style="position:absolute;top:220px;left:193px;white-space:nowrap" class="ft2174">accessible&#160;by&#160;the&#160;secured application&#160;and&#160;replaced&#160;with&#160;symbolic&#160;links<br/>pointing&#160;to&#160;the protected files;&#160;after this phase&#160;the execution ends and</p>
<p style="position:absolute;top:263px;left:193px;white-space:nowrap" class="ft217112">&lt;host&gt;</p>
<p style="position:absolute;top:258px;left:253px;white-space:nowrap" class="ft2172">&#160;is&#160;ignored;</p>
<p style="position:absolute;top:290px;left:166px;white-space:nowrap" class="ft217111">■</p>
<p style="position:absolute;top:292px;left:193px;white-space:nowrap" class="ft217112">ssh -Ksecure &lt;host&gt;</p>
<p style="position:absolute;top:287px;left:381px;white-space:nowrap" class="ft2172">: this&#160;makes the&#160;user&#160;able&#160;to&#160;connect&#160;to remote</p>
<p style="position:absolute;top:308px;left:193px;white-space:nowrap" class="ft2172">hosts&#160;using&#160;his&#160;private&#160;key&#160;which&#160;is&#160;never&#160;exposed&#160;to&#160;other applications;</p>
<p style="position:absolute;top:332px;left:193px;white-space:nowrap" class="ft217112">&lt;host&gt;</p>
<p style="position:absolute;top:327px;left:253px;white-space:nowrap" class="ft2172">&#160;can&#160;also&#160;be&#160;</p>
<p style="position:absolute;top:332px;left:357px;white-space:nowrap" class="ft21716">localhost</p>
<p style="position:absolute;top:327px;left:446px;white-space:nowrap" class="ft2172">, thus&#160;connecting&#160;to the&#160;KMA-protected</p>
<p style="position:absolute;top:352px;left:193px;white-space:nowrap" class="ft21716">sshd</p>
<p style="position:absolute;top:347px;left:233px;white-space:nowrap" class="ft2172">;</p>
<p style="position:absolute;top:379px;left:166px;white-space:nowrap" class="ft217111">■</p>
<p style="position:absolute;top:381px;left:193px;white-space:nowrap" class="ft217112">ssh -Kmakeinsecure &lt;host&gt;</p>
<p style="position:absolute;top:376px;left:441px;white-space:nowrap" class="ft2172">: this&#160;makes the&#160;files protected&#160;by&#160;KMA&#160;be</p>
<p style="position:absolute;top:397px;left:193px;white-space:nowrap" class="ft2174">moved&#160;to their original&#160;location,&#160;thus&#160;restoring&#160;the&#160;configuration&#160;in place<br/>before&#160;the “securing”&#160;operation;&#160;after&#160;this phase&#160;the execution&#160;ends and</p>
<p style="position:absolute;top:440px;left:193px;white-space:nowrap" class="ft217112">&lt;host&gt;</p>
<p style="position:absolute;top:435px;left:253px;white-space:nowrap" class="ft2172">&#160;is&#160;ignored.</p>
<p style="position:absolute;top:482px;left:85px;white-space:nowrap" class="ft21712"><b>&#160;2.6.2&#160;&#160;Other&#160;aspects</b></p>
<p style="position:absolute;top:527px;left:85px;white-space:nowrap" class="ft2177">&#160;2.6.2.1&#160;&#160;Usage&#160;of&#160;the&#160;</p>
<p style="position:absolute;top:531px;left:263px;white-space:nowrap" class="ft21772">kma_start_sign</p>
<p style="position:absolute;top:527px;left:389px;white-space:nowrap" class="ft2177">&#160;certification utility</p>
<p style="position:absolute;top:554px;left:85px;white-space:nowrap" class="ft2174">During&#160;the normal&#160;use&#160;of&#160;openSUSE,&#160;some&#160;packages&#160;can&#160;be&#160;automatically&#160;updated<br/>(also&#160;KMA&#160;packages&#160;might&#160;require&#160;an&#160;upgrade):&#160;this&#160;operation&#160;results&#160;in files<br/>previously&#160;certified&#160;being replaced&#160;by new “uncertified” versions.&#160;Therefore,&#160;upon<br/>completion&#160;of updates&#160;involving&#160;secured&#160;applications&#160;or&#160;the bash&#160;shell,&#160;the&#160;KMA<br/>Administrator&#160;must&#160;execute&#160;the command&#160;</p>
<p style="position:absolute;top:636px;left:442px;white-space:nowrap" class="ft217112">kma_start_sign</p>
<p style="position:absolute;top:631px;left:580px;white-space:nowrap" class="ft2172">&#160;in&#160;order&#160;to&#160;certify the new</p>
<p style="position:absolute;top:651px;left:85px;white-space:nowrap" class="ft2174">versions&#160;of the binary&#160;files. It is responsibility&#160;of&#160;KMA Administrator&#160;verifying&#160;that&#160;the<br/>updated&#160;components&#160;still meet the desired&#160;security requirements.<br/>If during&#160;normal&#160;operations&#160;some&#160;files are damaged&#160;or&#160;altered,&#160;secured&#160;applications<br/>may&#160;not&#160;be able to&#160;access&#160;their&#160;data&#160;repositories.&#160;The command&#160;</p>
<p style="position:absolute;top:723px;left:625px;white-space:nowrap" class="ft21716">kma_start_sign</p>
<p style="position:absolute;top:718px;left:764px;white-space:nowrap" class="ft2172">&#160;can</p>
<p style="position:absolute;top:738px;left:85px;white-space:nowrap" class="ft2174">be&#160;started&#160;to&#160;check the binaries&#160;and&#160;if it&#160;detects&#160;this&#160;issue,&#160;it interactively&#160;proposes<br/>two&#160;options.&#160;Either&#160;restoring&#160;the original&#160;binary&#160;file&#160;before&#160;the&#160;certification&#160;procedure<br/>or&#160;it&#160;proposes&#160;to&#160;replace the&#160;bad&#160;signature&#160;with a new one. In this&#160;case&#160;when&#160;the</p>
<p style="position:absolute;top:801px;left:85px;white-space:nowrap" class="ft21716">kma_start_sign</p>
<p style="position:absolute;top:796px;left:224px;white-space:nowrap" class="ft2172">&#160;requests&#160;the&#160;“Authority&#160;type”,&#160;the&#160;KMA&#160;Administrator&#160;must&#160;use&#160;the</p>
<p style="position:absolute;top:816px;left:85px;white-space:nowrap" class="ft2172">type&#160;“1” for&#160;</p>
<p style="position:absolute;top:821px;left:188px;white-space:nowrap" class="ft21716">/bin/bash</p>
<p style="position:absolute;top:816px;left:277px;white-space:nowrap" class="ft2172">,&#160;the&#160;type&#160;“0” for all&#160;other binaries.</p>
<p style="position:absolute;top:863px;left:85px;white-space:nowrap" class="ft21712"><b>&#160;2.6.2.2&#160;&#160;Recovering sealed&#160;data&#160;upon&#160;platform&#160;setting&#160;changes</b></p>
<p style="position:absolute;top:890px;left:85px;white-space:nowrap" class="ft2172">If a&#160;platform&#160;component&#160;involved&#160;in&#160;the sealing&#160;phase&#160;is&#160;updated,&#160;like&#160;a&#160;file listed&#160;in</p>
<p style="position:absolute;top:914px;left:85px;white-space:nowrap" class="ft217112">/var/kma/data/kma_filelist</p>
<p style="position:absolute;top:909px;left:343px;white-space:nowrap" class="ft2172">&#160;or&#160;the&#160;</p>
<p style="position:absolute;top:914px;left:402px;white-space:nowrap" class="ft217112">kernel</p>
<p style="position:absolute;top:909px;left:462px;white-space:nowrap" class="ft2172">, the unsealing&#160;procedure&#160;performed&#160;at</p>
<p style="position:absolute;top:929px;left:85px;white-space:nowrap" class="ft2175">boot&#160;time&#160;will fail&#160;and&#160;KMA&#160;will not&#160;be activated.<br/>The sealed&#160;data&#160;is&#160;the master&#160;key used&#160;by&#160;KMA&#160;to&#160;verify&#160;the certification&#160;of&#160;the binary<br/>files.&#160;Therefore,&#160;if the&#160;KMA&#160;Administrator&#160;starts&#160;a new sealing&#160;procedure,&#160;which implies<br/>the creation&#160;of a&#160;new&#160;master&#160;key,&#160;the binaries&#160;cannot be&#160;recognized&#160;anymore&#160;and&#160;all<br/>data&#160;files stored&#160;by secured&#160;applications&#160;are&#160;definitely lost.<br/>However&#160;KMA supports&#160;a recovery&#160;procedure&#160;for&#160;the sealed&#160;data.<br/>In&#160;this&#160;case&#160;the&#160;KMA&#160;Administrator&#160;must&#160;delete&#160;the&#160;file&#160;</p>
<p style="position:absolute;top:1076px;left:543px;white-space:nowrap" class="ft217112">/var/kma/data/blobfile</p>
<p style="position:absolute;top:1071px;left:761px;white-space:nowrap" class="ft2172">,</p>
<p style="position:absolute;top:1092px;left:85px;white-space:nowrap" class="ft2175">which&#160;containing&#160;the sealed blob&#160;of&#160;the&#160;master&#160;key,&#160;and restart&#160;the&#160;platform.<br/>During&#160;the boot&#160;phase&#160;the&#160;script&#160;in the&#160;initial&#160;ramdisk&#160;automatically&#160;detects that&#160;the</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2177">Open_TC&#160;Deliverable&#160;03c.4</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft2177">11/12</p>
</div>
<!-- Page 218 -->
<a name="218"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page218-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2218.png" alt="background image"/>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft2187">WP03c.4 KMA service&#160;source&#160;code&#160;and&#160;documentation&#160;</p>
<p style="position:absolute;top:92px;left:684px;white-space:nowrap" class="ft2187">FINAL 2.00</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft2184">sealed&#160;blob&#160;is&#160;missing&#160;and&#160;asks&#160;the&#160;KMA&#160;administrator&#160;to&#160;input the Admin&#160;password.<br/>Using&#160;this password,&#160;the&#160;script&#160;unlocks the copy&#160;of&#160;the&#160;master&#160;key&#160;bound&#160;to&#160;a TPM key<br/>(and&#160;normally&#160;used&#160;to&#160;certify the binaries) and&#160;seals the&#160;master&#160;keys against&#160;the<br/>current&#160;configuration.<br/>After&#160;restarting&#160;the platform,&#160;KMA&#160;will&#160;be again&#160;operational&#160;and&#160;the&#160;secured<br/>applications&#160;will be able again&#160;to access&#160;their protected data.<br/>Before&#160;starting&#160;the&#160;recovery procedure,&#160;it&#160;is responsibility&#160;of KMA Administrator<br/>verifying&#160;that&#160;the updated&#160;components&#160;still&#160;meet&#160;the&#160;desired&#160;security&#160;requirements.</p>
<p style="position:absolute;top:350px;left:85px;white-space:nowrap" class="ft21812"><b>&#160;2.6.2.3&#160;&#160;Resetting&#160;the configuration&#160;of&#160;secured applications</b></p>
<p style="position:absolute;top:376px;left:85px;white-space:nowrap" class="ft2184">If a&#160;secured application&#160;fails&#160;while&#160;reading&#160;its&#160;data files&#160;from&#160;the&#160;protected repository<br/>and&#160;the&#160;two aforementioned&#160;events (i.e.&#160;updates&#160;of components,&#160;either&#160;certified or<br/>involved&#160;in&#160;sealing)&#160;have&#160;not&#160;occurred, the&#160;KMA Administrator&#160;must&#160;create&#160;a&#160;new<br/>configuration&#160;for&#160;all&#160;data&#160;repositories:&#160;all&#160;data&#160;for&#160;all&#160;application will&#160;be&#160;lost:&#160;this is a<br/>limitation&#160;of&#160;the&#160;current&#160;version&#160;of KMA.&#160;To&#160;perform&#160;this action, the daemon&#160;</p>
<p style="position:absolute;top:458px;left:720px;white-space:nowrap" class="ft218112">kmad</p>
<p style="position:absolute;top:453px;left:759px;white-space:nowrap" class="ft2182">&#160;must</p>
<p style="position:absolute;top:473px;left:85px;white-space:nowrap" class="ft2182">be stopped&#160;and&#160;the&#160;file&#160;</p>
<p style="position:absolute;top:478px;left:282px;white-space:nowrap" class="ft218112">/etc/kma/kmadb.db</p>
<p style="position:absolute;top:473px;left:450px;white-space:nowrap" class="ft2182">&#160;must&#160;be&#160;deleted&#160;from&#160;the filesystem.</p>
<p style="position:absolute;top:493px;left:85px;white-space:nowrap" class="ft2182">Then the KMA&#160;Administrator&#160;can then&#160;restart&#160;the&#160;</p>
<p style="position:absolute;top:498px;left:494px;white-space:nowrap" class="ft218112">kmad</p>
<p style="position:absolute;top:493px;left:534px;white-space:nowrap" class="ft2182">&#160;daemon,&#160;which creates a&#160;new</p>
<p style="position:absolute;top:514px;left:85px;white-space:nowrap" class="ft2182">fresh&#160;and&#160;empty&#160;database&#160;for&#160;the&#160;protected storage&#160;of all&#160;secured&#160;applications.</p>
<p style="position:absolute;top:560px;left:85px;white-space:nowrap" class="ft21811"><b>&#160;3&#160;&#160;List of&#160;Abbreviations</b></p>
<p style="position:absolute;top:590px;left:85px;white-space:nowrap" class="ft2184">Listing&#160;of&#160;term definitions and abbreviations&#160;used&#160;in&#160;this document&#160;(IT expressions&#160;and<br/>terms&#160;from&#160;the&#160;application&#160;domain).</p>
<p style="position:absolute;top:637px;left:95px;white-space:nowrap" class="ft2181"><b>Abbreviation</b></p>
<p style="position:absolute;top:637px;left:302px;white-space:nowrap" class="ft2181"><b>Explanation</b></p>
<p style="position:absolute;top:657px;left:95px;white-space:nowrap" class="ft2182">KMA</p>
<p style="position:absolute;top:657px;left:302px;white-space:nowrap" class="ft2182">Key and&#160;data&#160;Management&#160;Adaptation&#160;layer</p>
<p style="position:absolute;top:676px;left:95px;white-space:nowrap" class="ft2182">SRK</p>
<p style="position:absolute;top:676px;left:302px;white-space:nowrap" class="ft2182">Storage&#160;Root&#160;Key</p>
<p style="position:absolute;top:695px;left:95px;white-space:nowrap" class="ft2182">TCG</p>
<p style="position:absolute;top:695px;left:302px;white-space:nowrap" class="ft2182">Trusted Computing&#160;Group</p>
<p style="position:absolute;top:714px;left:95px;white-space:nowrap" class="ft2182">TPM</p>
<p style="position:absolute;top:714px;left:302px;white-space:nowrap" class="ft2182">Trusted&#160;Platform&#160;Module</p>
<p style="position:absolute;top:734px;left:95px;white-space:nowrap" class="ft2182">TSS</p>
<p style="position:absolute;top:734px;left:302px;white-space:nowrap" class="ft2182">TCG Software&#160;Stack</p>
<p style="position:absolute;top:771px;left:85px;white-space:nowrap" class="ft21811"><b>&#160;4&#160;&#160;Related Work</b></p>
<p style="position:absolute;top:801px;left:85px;white-space:nowrap" class="ft2184">/1/ TCG TPM&#160;Main&#160;Specification&#160;(parts&#160;1,2,3)<br/>July 9,&#160;2007,<br/>Version&#160;1.2&#160;Level&#160;2&#160;Revision&#160;103</p>
<p style="position:absolute;top:878px;left:85px;white-space:nowrap" class="ft2184">/2/&#160;IETF&#160;RFC&#160;4251,&#160;The&#160;Secure&#160;Shell&#160;(SSH)&#160;Protocol&#160;Architecture<br/>January,&#160;2006</p>
<p style="position:absolute;top:935px;left:85px;white-space:nowrap" class="ft2184">/3/ TCG Software&#160;Stack&#160;(TSS)&#160;Specification<br/>March&#160;7,&#160;2007,<br/>Version&#160;1.2,&#160;Level&#160;1,&#160;Errata&#160;A</p>
<p style="position:absolute;top:1012px;left:85px;white-space:nowrap" class="ft2184">/4/&#160;OpenTC&#160;IST-027635/D03c.2/FINAL&#160;2.00<br/>High-level&#160;key&#160;manager&#160;service design&#160;specification<br/>Version&#160;2.00<br/>June, 2008</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2187">Open_TC&#160;Deliverable&#160;03c.4</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft2187">12/12</p>
</div>
<!-- Page 219 -->
<a name="219"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page219-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2219.png" alt="background image"/>
<p style="position:absolute;top:242px;left:117px;white-space:nowrap" class="ft2190"><b>D03c.5 OpenSSH adaptation service source</b></p>
<p style="position:absolute;top:273px;left:258px;white-space:nowrap" class="ft2190"><b>code and documentation</b></p>
<p style="position:absolute;top:351px;left:91px;white-space:nowrap" class="ft2191"><b>Project&#160;number</b></p>
<p style="position:absolute;top:351px;left:425px;white-space:nowrap" class="ft2192">IST-&#160;027635</p>
<p style="position:absolute;top:376px;left:91px;white-space:nowrap" class="ft2191"><b>Project&#160;acronym</b></p>
<p style="position:absolute;top:376px;left:425px;white-space:nowrap" class="ft2192">Open_TC</p>
<p style="position:absolute;top:402px;left:91px;white-space:nowrap" class="ft2191"><b>Project&#160;title</b></p>
<p style="position:absolute;top:402px;left:425px;white-space:nowrap" class="ft2192">Open Trusted Computing</p>
<p style="position:absolute;top:427px;left:91px;white-space:nowrap" class="ft2191"><b>Deliverable&#160;type</b></p>
<p style="position:absolute;top:427px;left:425px;white-space:nowrap" class="ft2192">Internal&#160;document</p>
<p style="position:absolute;top:470px;left:91px;white-space:nowrap" class="ft2191"><b>Deliverable&#160;reference&#160;number</b></p>
<p style="position:absolute;top:470px;left:425px;white-space:nowrap" class="ft2192">IST-027635/D03c.5/FINAL&#160;2.00</p>
<p style="position:absolute;top:502px;left:91px;white-space:nowrap" class="ft2191"><b>Deliverable&#160;title</b></p>
<p style="position:absolute;top:493px;left:425px;white-space:nowrap" class="ft2194">OpenSSH&#160;adaptation&#160;service&#160;source&#160;code<br/>and documentation</p>
<p style="position:absolute;top:534px;left:91px;white-space:nowrap" class="ft2191"><b>WP&#160;contributing&#160;to&#160;the&#160;deliverable</b></p>
<p style="position:absolute;top:534px;left:425px;white-space:nowrap" class="ft2192">WP3</p>
<p style="position:absolute;top:560px;left:91px;white-space:nowrap" class="ft2191"><b>Due&#160;date</b></p>
<p style="position:absolute;top:560px;left:425px;white-space:nowrap" class="ft2192">Jul&#160;2007&#160;- M21</p>
<p style="position:absolute;top:585px;left:91px;white-space:nowrap" class="ft2191"><b>Actual&#160;submission&#160;date</b></p>
<p style="position:absolute;top:585px;left:425px;white-space:nowrap" class="ft2192">Jun 2008&#160;- M32&#160;(revised&#160;version)</p>
<p style="position:absolute;top:628px;left:91px;white-space:nowrap" class="ft2191"><b>Responsible&#160;Organisation</b></p>
<p style="position:absolute;top:628px;left:424px;white-space:nowrap" class="ft2192">Politecnico di&#160;Torino</p>
<p style="position:absolute;top:654px;left:91px;white-space:nowrap" class="ft2191"><b>Authors</b></p>
<p style="position:absolute;top:654px;left:424px;white-space:nowrap" class="ft2192">Gianluca Ramunno&#160;and&#160;Roberto&#160;Sassu&#160;(POL)</p>
<p style="position:absolute;top:676px;left:91px;white-space:nowrap" class="ft2191"><b>Abstract</b></p>
<p style="position:absolute;top:676px;left:424px;white-space:nowrap" class="ft2194">This document&#160;only describes the<br/>modifications&#160;applied&#160;to&#160;the&#160;source&#160;code<br/>OpenSSH&#160;to adapt&#160;it for&#160;KMA.<br/>The&#160;modified&#160;source&#160;code,&#160;the procedures&#160;for<br/>building,&#160;installing&#160;and&#160;configuring&#160;this&#160;KMA-<br/>enhanced&#160;version&#160;of&#160;OpenSSH&#160;are&#160;provided<br/>through&#160;the OpenTC&#160;deliverable:<br/>IST-027635/D03c.4/FINAL&#160;2.00.</p>
<p style="position:absolute;top:892px;left:91px;white-space:nowrap" class="ft2191"><b>Keywords</b></p>
<p style="position:absolute;top:892px;left:424px;white-space:nowrap" class="ft2192">Open_TC,&#160;KMA,&#160;TPM,&#160;TSS,&#160;SSH,&#160;OpenSSH</p>
<p style="position:absolute;top:935px;left:92px;white-space:nowrap" class="ft2191"><b>Dissemination&#160;level</b></p>
<p style="position:absolute;top:935px;left:423px;white-space:nowrap" class="ft2192">Public</p>
<p style="position:absolute;top:960px;left:92px;white-space:nowrap" class="ft2191"><b>Revision</b></p>
<p style="position:absolute;top:960px;left:423px;white-space:nowrap" class="ft2192">FINAL&#160;2.00</p>
<p style="position:absolute;top:1012px;left:90px;white-space:nowrap" class="ft2191"><b>Instrument</b></p>
<p style="position:absolute;top:1012px;left:271px;white-space:nowrap" class="ft2192">IP</p>
<p style="position:absolute;top:1002px;left:452px;white-space:nowrap" class="ft2196"><b>Start&#160;date&#160;of the<br/>project</b></p>
<p style="position:absolute;top:1012px;left:632px;white-space:nowrap" class="ft2192">1</p>
<p style="position:absolute;top:1011px;left:643px;white-space:nowrap" class="ft2193">st</p>
<p style="position:absolute;top:1012px;left:652px;white-space:nowrap" class="ft2192">&#160;November&#160;2005</p>
<p style="position:absolute;top:1041px;left:90px;white-space:nowrap" class="ft2191"><b>Thematic&#160;Priority</b></p>
<p style="position:absolute;top:1041px;left:271px;white-space:nowrap" class="ft2192">IST</p>
<p style="position:absolute;top:1041px;left:452px;white-space:nowrap" class="ft2191"><b>Duration</b></p>
<p style="position:absolute;top:1041px;left:632px;white-space:nowrap" class="ft2192">42 months</p>
</div>
<!-- Page 220 -->
<a name="220"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page220-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2220.png" alt="background image"/>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft2207">WP03c.5 OpenSSH&#160;adaptation&#160;source&#160;code&#160;and documentation&#160;&#160;FINAL 2.00</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft2209"><b>Table of&#160;Contents</b></p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft2204">&#160;1&#160;Introduction..............................................................................................................5<br/>&#160;2&#160;OpenSSH&#160;modifications for&#160;KMA...............................................................................5</p>
<p style="position:absolute;top:226px;left:94px;white-space:nowrap" class="ft2204">&#160;2.&#160;1 Content of the file&#160;ssh_kma_list&#160;...........................................................................6<br/>&#160;2.&#160;2 Content of the&#160;file&#160;sshd_kma_list&#160;.........................................................................6</p>
<p style="position:absolute;top:265px;left:85px;white-space:nowrap" class="ft2204">&#160;&#160;3&#160;List&#160;of Abbreviations.................................................................................................6<br/>&#160;4&#160;Related&#160;Work............................................................................................................7</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2207">Open_TC&#160;Deliverable&#160;03c.5</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft2207">2/5</p>
</div>
<!-- Page 221 -->
<a name="221"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft221117{font-size:16px;line-height:18px;font-family:FJLCJC+Courier;color:#000000;}
-->
</style>
<div id="page221-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2221.png" alt="background image"/>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft2217">WP03c.5 OpenSSH&#160;adaptation&#160;source&#160;code&#160;and documentation&#160;&#160;FINAL 2.00</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft22111"><b>&#160;1&#160;&#160;Introduction</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft2214">This document&#160;only&#160;describes the modifications&#160;applied to the source&#160;code&#160;OpenSSH<br/>[1],&#160;an&#160;implementation&#160;of SSH&#160;[2] protocol&#160;to adapt&#160;it for&#160;KMA.<br/>The modified&#160;source&#160;code, the procedures&#160;for&#160;building,&#160;installing&#160;and&#160;configuring&#160;this<br/>KMA-enhanced version&#160;of&#160;OpenSSH&#160;are&#160;provided&#160;through&#160;the OpenTC&#160;deliverable&#160;“Key<br/>Management&#160;Adaptation&#160;(KMA)&#160;service&#160;source&#160;code&#160;and&#160;documentation”&#160;[3].&#160;Refer&#160;to<br/>the latter&#160;document&#160;for&#160;any&#160;detail&#160;about&#160;packages&#160;referenced&#160;in the&#160;following.</p>
<p style="position:absolute;top:350px;left:85px;white-space:nowrap" class="ft22111"><b>&#160;2&#160;&#160;OpenSSH modifications for KMA</b></p>
<p style="position:absolute;top:380px;left:85px;white-space:nowrap" class="ft2212">The source&#160;tarball&#160;</p>
<p style="position:absolute;top:385px;left:240px;white-space:nowrap" class="ft221112">openssh_kma</p>
<p style="position:absolute;top:380px;left:349px;white-space:nowrap" class="ft2212">, available&#160;when&#160;unpacking&#160;contains&#160;all&#160;required</p>
<p style="position:absolute;top:401px;left:85px;white-space:nowrap" class="ft2212">elements to&#160;patch&#160;the&#160;original&#160;source&#160;code available&#160;from&#160;the&#160;</p>
<p style="position:absolute;top:405px;left:602px;white-space:nowrap" class="ft221112">openssh</p>
<p style="position:absolute;top:401px;left:671px;white-space:nowrap" class="ft2212">&#160;source&#160;RPM</p>
<p style="position:absolute;top:421px;left:85px;white-space:nowrap" class="ft2212">package.&#160;To&#160;obtain&#160;</p>
<p style="position:absolute;top:426px;left:248px;white-space:nowrap" class="ft221112">openssh_kma</p>
<p style="position:absolute;top:421px;left:357px;white-space:nowrap" class="ft2212">, it&#160;is&#160;necessary&#160;first&#160;to unpack&#160;the&#160;main&#160;archive</p>
<p style="position:absolute;top:441px;left:85px;white-space:nowrap" class="ft2212">provided&#160;with&#160;[3],&#160;i.e.&#160;</p>
<p style="position:absolute;top:446px;left:268px;white-space:nowrap" class="ft22116">D03c.4_KMA_source_code_and_RPMS.zip</p>
<p style="position:absolute;top:441px;left:614px;white-space:nowrap" class="ft2212">,&#160;then&#160;take and&#160;unpack</p>
<p style="position:absolute;top:466px;left:85px;white-space:nowrap" class="ft22116">pol-kma-sources.tar.bz2</p>
<p style="position:absolute;top:461px;left:313px;white-space:nowrap" class="ft2212">.</p>
<p style="position:absolute;top:491px;left:85px;white-space:nowrap" class="ft2214">If an&#160;experienced&#160;user&#160;wants to&#160;build&#160;the package&#160;manually,&#160;instead&#160;of&#160;using&#160;the<br/>procedure&#160;described&#160;in&#160;[3],&#160;first&#160;he must download&#160;the&#160;</p>
<p style="position:absolute;top:515px;left:543px;white-space:nowrap" class="ft221112">openssh</p>
<p style="position:absolute;top:510px;left:612px;white-space:nowrap" class="ft2212">&#160;source&#160;package&#160;from</p>
<p style="position:absolute;top:530px;left:85px;white-space:nowrap" class="ft2212">an&#160;</p>
<p style="position:absolute;top:535px;left:111px;white-space:nowrap" class="ft221112">openSUSE</p>
<p style="position:absolute;top:530px;left:190px;white-space:nowrap" class="ft2212">&#160;repository.&#160;Then&#160;he&#160;must&#160;apply&#160;the patches&#160;contained&#160;in&#160;the&#160;</p>
<p style="position:absolute;top:535px;left:702px;white-space:nowrap" class="ft221112">patches</p>
<p style="position:absolute;top:550px;left:85px;white-space:nowrap" class="ft2212">directory obtained&#160;by&#160;unpacking&#160;the tarball&#160;</p>
<p style="position:absolute;top:555px;left:450px;white-space:nowrap" class="ft22116">pol-kma-sources.tar.bz2</p>
<p style="position:absolute;top:550px;left:678px;white-space:nowrap" class="ft2212">&#160;and&#160;must&#160;start</p>
<p style="position:absolute;top:570px;left:85px;white-space:nowrap" class="ft2212">to compile it&#160;by executing the command&#160;</p>
<p style="position:absolute;top:575px;left:426px;white-space:nowrap" class="ft221112">make</p>
<p style="position:absolute;top:570px;left:465px;white-space:nowrap" class="ft2212">.&#160;After&#160;building&#160;the&#160;modified&#160;package,</p>
<p style="position:absolute;top:591px;left:85px;white-space:nowrap" class="ft2212">the user&#160;must&#160;install&#160;the binaries&#160;just&#160;built by executing&#160;the command&#160;</p>
<p style="position:absolute;top:596px;left:673px;white-space:nowrap" class="ft221112">make install</p>
<p style="position:absolute;top:591px;left:792px;white-space:nowrap" class="ft2212">.</p>
<p style="position:absolute;top:611px;left:85px;white-space:nowrap" class="ft2212">Lastly&#160;the&#160;user must replace&#160;the&#160;</p>
<p style="position:absolute;top:616px;left:358px;white-space:nowrap" class="ft221112">openssh</p>
<p style="position:absolute;top:611px;left:428px;white-space:nowrap" class="ft2212">&#160;init script&#160;with&#160;the&#160;one stored&#160;in&#160;the&#160;</p>
<p style="position:absolute;top:616px;left:735px;white-space:nowrap" class="ft221112">others</p>
<p style="position:absolute;top:631px;left:85px;white-space:nowrap" class="ft2212">directory of the expanded&#160;</p>
<p style="position:absolute;top:636px;left:305px;white-space:nowrap" class="ft22116">pol-kma-sources.tar.bz2&#160;</p>
<p style="position:absolute;top:631px;left:543px;white-space:nowrap" class="ft2212">tarball&#160;and&#160;named</p>
<p style="position:absolute;top:656px;left:85px;white-space:nowrap" class="ft221112">sshd_kma_initd</p>
<p style="position:absolute;top:651px;left:224px;white-space:nowrap" class="ft2212">.</p>
<p style="position:absolute;top:681px;left:85px;white-space:nowrap" class="ft2212">The binaries&#160;</p>
<p style="position:absolute;top:686px;left:192px;white-space:nowrap" class="ft221112">ssh</p>
<p style="position:absolute;top:681px;left:222px;white-space:nowrap" class="ft2212">&#160;and&#160;</p>
<p style="position:absolute;top:686px;left:263px;white-space:nowrap" class="ft221112">sshd</p>
<p style="position:absolute;top:681px;left:303px;white-space:nowrap" class="ft2212">&#160;have&#160;been&#160;modified&#160;to&#160;request&#160;the&#160;KMA&#160;to&#160;have&#160;access&#160;to</p>
<p style="position:absolute;top:701px;left:85px;white-space:nowrap" class="ft2214">the protected&#160;data&#160;repository at&#160;the&#160;time&#160;of&#160;execution&#160;and&#160;to&#160;let users&#160;specify&#160;what<br/>type&#160;of operation&#160;must&#160;be&#160;performed&#160;(</p>
<p style="position:absolute;top:725px;left:404px;white-space:nowrap" class="ft22116">makesecure</p>
<p style="position:absolute;top:720px;left:503px;white-space:nowrap" class="ft2212">,&#160;</p>
<p style="position:absolute;top:725px;left:514px;white-space:nowrap" class="ft22116">secure</p>
<p style="position:absolute;top:720px;left:573px;white-space:nowrap" class="ft2212">&#160;or&#160;</p>
<p style="position:absolute;top:725px;left:600px;white-space:nowrap" class="ft22116">makeinsecure</p>
<p style="position:absolute;top:720px;left:719px;white-space:nowrap" class="ft2212">).&#160;</p>
<p style="position:absolute;top:749px;left:85px;white-space:nowrap" class="ft2214">The first&#160;modification&#160;required&#160;by each&#160;application&#160;is introducing&#160;a new command&#160;line<br/>parameter&#160;to notify&#160;the&#160;type&#160;of operation&#160;requested&#160;by the user.&#160;For&#160;this purpose&#160;the<br/>files&#160;</p>
<p style="position:absolute;top:793px;left:124px;white-space:nowrap" class="ft221112">readconf.c</p>
<p style="position:absolute;top:788px;left:223px;white-space:nowrap" class="ft2212">&#160;and&#160;</p>
<p style="position:absolute;top:793px;left:265px;white-space:nowrap" class="ft221112">servconf.c</p>
<p style="position:absolute;top:788px;left:364px;white-space:nowrap" class="ft2212">&#160;have&#160;been updated&#160;by adding&#160;the new&#160;field</p>
<p style="position:absolute;top:813px;left:85px;white-space:nowrap" class="ft221112">kma_mode</p>
<p style="position:absolute;top:808px;left:164px;white-space:nowrap" class="ft2212">&#160;in&#160;the&#160;“</p>
<p style="position:absolute;top:813px;left:231px;white-space:nowrap" class="ft221112">options</p>
<p style="position:absolute;top:808px;left:300px;white-space:nowrap" class="ft2212">” structure&#160;and&#160;by&#160;modifying&#160;the&#160;routine&#160;that&#160;parses&#160;the</p>
<p style="position:absolute;top:828px;left:85px;white-space:nowrap" class="ft2212">command&#160;line&#160;in the&#160;</p>
<p style="position:absolute;top:833px;left:260px;white-space:nowrap" class="ft22116">main()</p>
<p style="position:absolute;top:828px;left:320px;white-space:nowrap" class="ft2212">&#160;function.</p>
<p style="position:absolute;top:858px;left:85px;white-space:nowrap" class="ft2212">The&#160;output&#160;of the diff&#160;command&#160;applied&#160;to&#160;the&#160;original&#160;source&#160;code&#160;of&#160;</p>
<p style="position:absolute;top:862px;left:668px;white-space:nowrap" class="ft22116">ssh</p>
<p style="position:absolute;top:858px;left:697px;white-space:nowrap" class="ft2212">&#160;(</p>
<p style="position:absolute;top:862px;left:709px;white-space:nowrap" class="ft22116">ssh.c</p>
<p style="position:absolute;top:858px;left:759px;white-space:nowrap" class="ft2212">) and</p>
<p style="position:absolute;top:878px;left:85px;white-space:nowrap" class="ft2212">the source&#160;code&#160;of the&#160;KMA-enabled&#160;version:</p>
<p style="position:absolute;top:909px;left:85px;white-space:nowrap" class="ft221112">&#160;</p>
<p style="position:absolute;top:909px;left:138px;white-space:nowrap" class="ft221112">while ((opt = getopt(ac, av,</p>
<p style="position:absolute;top:928px;left:85px;white-space:nowrap" class="ft221112">-</p>
<p style="position:absolute;top:928px;left:138px;white-space:nowrap" class="ft221112">&#160; &#160; &#34;1246ab:c:e:fgi:kl:m:no:p:qstvxACD:F:I:L:MNO:PR:S:TVw:XY&#34;)) !=</p>
<p style="position:absolute;top:947px;left:85px;white-space:nowrap" class="ft221117">-1) {<br/>+</p>
<p style="position:absolute;top:965px;left:138px;white-space:nowrap" class="ft221112">&#160; &#160; &#34;1246K:ab:c:e:fgi:kl:m:no:p:qstvxACD:F:I:L:MNO:PR:S:TVw:XY&#34;)) !</p>
<p style="position:absolute;top:984px;left:85px;white-space:nowrap" class="ft221117">= -1) {<br/>&#160;</p>
<p style="position:absolute;top:1003px;left:192px;white-space:nowrap" class="ft221112">switch (opt) {</p>
<p style="position:absolute;top:1021px;left:85px;white-space:nowrap" class="ft221112">&#160;case&#160;</p>
<p style="position:absolute;top:1021px;left:241px;white-space:nowrap" class="ft221112">'1':</p>
<p style="position:absolute;top:1040px;left:85px;white-space:nowrap" class="ft221112">&#160;</p>
<p style="position:absolute;top:1040px;left:245px;white-space:nowrap" class="ft221112">options.protocol = SSH_PROTO_1;</p>
<p style="position:absolute;top:1059px;left:85px;white-space:nowrap" class="ft221117">@@ -286,6 +288,14 @@ main(int ac, char **av)<br/>&#160;case&#160;</p>
<p style="position:absolute;top:1077px;left:241px;white-space:nowrap" class="ft221112">'6':</p>
<p style="position:absolute;top:1096px;left:85px;white-space:nowrap" class="ft221112">&#160;</p>
<p style="position:absolute;top:1096px;left:245px;white-space:nowrap" class="ft221112">options.address_family = AF_INET6;</p>
<p style="position:absolute;top:1115px;left:85px;white-space:nowrap" class="ft221112">&#160;break;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2217">Open_TC&#160;Deliverable&#160;03c.5</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft2217">3/5</p>
</div>
<!-- Page 222 -->
<a name="222"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft222118{font-size:14px;font-family:CEPDGG+OpenSymbol;color:#000000;}
	.ft222119{font-size:16px;font-family:CEPDJG+Courier;color:#000000;}
-->
</style>
<div id="page222-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2222.png" alt="background image"/>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft2227">WP03c.5 OpenSSH&#160;adaptation&#160;source&#160;code&#160;and documentation&#160;&#160;FINAL 2.00</p>
<p style="position:absolute;top:154px;left:85px;white-space:nowrap" class="ft222112">+</p>
<p style="position:absolute;top:154px;left:192px;white-space:nowrap" class="ft222112">case 'K':</p>
<p style="position:absolute;top:173px;left:85px;white-space:nowrap" class="ft222112">+</p>
<p style="position:absolute;top:173px;left:245px;white-space:nowrap" class="ft222112">if (strcmp(optarg, &#34;makesecure&#34;) == 0)</p>
<p style="position:absolute;top:192px;left:85px;white-space:nowrap" class="ft222112">+</p>
<p style="position:absolute;top:192px;left:298px;white-space:nowrap" class="ft222112">options.kma_mode = 1;</p>
<p style="position:absolute;top:210px;left:85px;white-space:nowrap" class="ft222112">+</p>
<p style="position:absolute;top:210px;left:245px;white-space:nowrap" class="ft222112">if (strcmp(optarg, &#34;secure&#34;) == 0)</p>
<p style="position:absolute;top:229px;left:85px;white-space:nowrap" class="ft222112">+</p>
<p style="position:absolute;top:229px;left:298px;white-space:nowrap" class="ft222112">options.kma_mode = 2;</p>
<p style="position:absolute;top:248px;left:85px;white-space:nowrap" class="ft222112">+</p>
<p style="position:absolute;top:248px;left:245px;white-space:nowrap" class="ft222112">if (strcmp(optarg, &#34;makeinsecure&#34;) == 0)</p>
<p style="position:absolute;top:266px;left:85px;white-space:nowrap" class="ft222112">+</p>
<p style="position:absolute;top:266px;left:298px;white-space:nowrap" class="ft222112">options.kma_mode = 3;</p>
<p style="position:absolute;top:283px;left:85px;white-space:nowrap" class="ft222118">•</p>
<p style="position:absolute;top:285px;left:112px;white-space:nowrap" class="ft222112">break;</p>
<p style="position:absolute;top:319px;left:85px;white-space:nowrap" class="ft2222">Then both of applications,&#160;in&#160;</p>
<p style="position:absolute;top:324px;left:326px;white-space:nowrap" class="ft222112">ssh.c</p>
<p style="position:absolute;top:319px;left:375px;white-space:nowrap" class="ft2222">&#160;and&#160;</p>
<p style="position:absolute;top:324px;left:417px;white-space:nowrap" class="ft222112">sshd.c</p>
<p style="position:absolute;top:319px;left:476px;white-space:nowrap" class="ft2222">,&#160;call the&#160;function&#160;</p>
<p style="position:absolute;top:324px;left:626px;white-space:nowrap" class="ft222112">kmafs_main()</p>
<p style="position:absolute;top:319px;left:744px;white-space:nowrap" class="ft2222">,</p>
<p style="position:absolute;top:339px;left:85px;white-space:nowrap" class="ft2224">exported&#160;by&#160;a&#160;KMA&#160;shared&#160;library,&#160;passing&#160;to it&#160;the type&#160;of&#160;operation&#160;as&#160;argument&#160;and<br/>wait&#160;for&#160;KMA to activate&#160;the&#160;data&#160;repository&#160;associated;&#160;finally&#160;the&#160;applications&#160;read<br/>the exit&#160;status:</p>
<p style="position:absolute;top:409px;left:85px;white-space:nowrap" class="ft222112">+</p>
<p style="position:absolute;top:409px;left:138px;white-space:nowrap" class="ft222112">if(options.kma_mode &gt;0)</p>
<p style="position:absolute;top:428px;left:85px;white-space:nowrap" class="ft222112">+</p>
<p style="position:absolute;top:428px;left:192px;white-space:nowrap" class="ft222112">if((kma_status=kmafs_main(0, options.kma_mode, buf)) != 0)</p>
<p style="position:absolute;top:447px;left:85px;white-space:nowrap" class="ft222112">+</p>
<p style="position:absolute;top:447px;left:245px;white-space:nowrap" class="ft222112">return kma_status;</p>
<p style="position:absolute;top:481px;left:85px;white-space:nowrap" class="ft2222">If the&#160;requested&#160;operation is&#160;</p>
<p style="position:absolute;top:486px;left:325px;white-space:nowrap" class="ft222112">makesecure</p>
<p style="position:absolute;top:481px;left:424px;white-space:nowrap" class="ft2222">&#160;or&#160;</p>
<p style="position:absolute;top:486px;left:452px;white-space:nowrap" class="ft222112">makeinsecure</p>
<p style="position:absolute;top:481px;left:570px;white-space:nowrap" class="ft2222">, after&#160;the completion&#160;of the</p>
<p style="position:absolute;top:501px;left:85px;white-space:nowrap" class="ft2224">requested operation,&#160;the&#160;applications&#160;end&#160;without executing their normal&#160;tasks.<br/>Otherwise,&#160;if the requested&#160;operation&#160;is&#160;</p>
<p style="position:absolute;top:525px;left:419px;white-space:nowrap" class="ft22216">secure</p>
<p style="position:absolute;top:520px;left:479px;white-space:nowrap" class="ft2222">&#160;and&#160;the&#160;exit&#160;status&#160;of&#160;the</p>
<p style="position:absolute;top:545px;left:85px;white-space:nowrap" class="ft222112">kmafs_main()</p>
<p style="position:absolute;top:540px;left:204px;white-space:nowrap" class="ft2222">&#160;function&#160;is zero&#160;(i.e. operation&#160;successful),&#160;then&#160;the&#160;applications&#160;behave</p>
<p style="position:absolute;top:561px;left:85px;white-space:nowrap" class="ft2224">as&#160;expected&#160;and&#160;perform&#160;the&#160;input/output&#160;operations&#160;on their&#160;files using the&#160;KMA<br/>protected repository.&#160;If&#160;the&#160;</p>
<p style="position:absolute;top:585px;left:313px;white-space:nowrap" class="ft222112">kmafs_main()</p>
<p style="position:absolute;top:580px;left:432px;white-space:nowrap" class="ft2222">&#160;function&#160;fails,&#160;none&#160;of the&#160;previous</p>
<p style="position:absolute;top:600px;left:85px;white-space:nowrap" class="ft2225">operations&#160;is&#160;executed&#160;and&#160;the&#160;application&#160;just&#160;ends.<br/>The&#160;</p>
<p style="position:absolute;top:633px;left:121px;white-space:nowrap" class="ft22216">makesecure</p>
<p style="position:absolute;top:628px;left:220px;white-space:nowrap" class="ft2222">&#160;and&#160;</p>
<p style="position:absolute;top:633px;left:262px;white-space:nowrap" class="ft22216">makeinsecure</p>
<p style="position:absolute;top:628px;left:380px;white-space:nowrap" class="ft2222">&#160;operations&#160;makes&#160;KMA&#160;read&#160;the list&#160;of&#160;files that</p>
<p style="position:absolute;top:649px;left:85px;white-space:nowrap" class="ft2224">will&#160;be copied&#160;from&#160;the original&#160;location&#160;to&#160;the KMA&#160;protected&#160;repository&#160;(i.e.<br/>protected)&#160;in the&#160;first&#160;case&#160;and&#160;vice versa&#160;in&#160;the second&#160;case&#160;(i.e.&#160;restored).&#160;The&#160;list&#160;of<br/>files to&#160;protect&#160;is&#160;stored&#160;in&#160;the&#160;files&#160;</p>
<p style="position:absolute;top:692px;left:379px;white-space:nowrap" class="ft222112">/etc/kma/ssh_kma_list</p>
<p style="position:absolute;top:687px;left:587px;white-space:nowrap" class="ft2222">&#160;for&#160;</p>
<p style="position:absolute;top:692px;left:620px;white-space:nowrap" class="ft222112">ssh&#160;</p>
<p style="position:absolute;top:687px;left:659px;white-space:nowrap" class="ft2222">and</p>
<p style="position:absolute;top:712px;left:85px;white-space:nowrap" class="ft222112">/etc/kma/sshd_kma_list</p>
<p style="position:absolute;top:707px;left:303px;white-space:nowrap" class="ft2222">&#160;for&#160;</p>
<p style="position:absolute;top:712px;left:336px;white-space:nowrap" class="ft222112">sshd</p>
<p style="position:absolute;top:707px;left:376px;white-space:nowrap" class="ft2222">.</p>
<p style="position:absolute;top:754px;left:92px;white-space:nowrap" class="ft2221"><b>&#160;2.1&#160;&#160;Content&#160;of&#160;the&#160;file&#160;</b></p>
<p style="position:absolute;top:759px;left:324px;white-space:nowrap" class="ft222119"><b>ssh_kma_list</b></p>
<p style="position:absolute;top:754px;left:443px;white-space:nowrap" class="ft2221"><b>&#160;</b></p>
<p style="position:absolute;top:787px;left:85px;white-space:nowrap" class="ft22216">e</p>
<p style="position:absolute;top:787px;left:138px;white-space:nowrap" class="ft22216">$HOME/.ssh/config</p>
<p style="position:absolute;top:787px;left:404px;white-space:nowrap" class="ft22216">config</p>
<p style="position:absolute;top:806px;left:85px;white-space:nowrap" class="ft22216">e</p>
<p style="position:absolute;top:806px;left:138px;white-space:nowrap" class="ft22216">$HOME/.ssh/id_rsa</p>
<p style="position:absolute;top:806px;left:404px;white-space:nowrap" class="ft22216">id_rsa</p>
<p style="position:absolute;top:824px;left:85px;white-space:nowrap" class="ft22216">e</p>
<p style="position:absolute;top:824px;left:138px;white-space:nowrap" class="ft22216">$HOME/.ssh/id_rsa.pub</p>
<p style="position:absolute;top:824px;left:404px;white-space:nowrap" class="ft22216">id_rsa.pub</p>
<p style="position:absolute;top:843px;left:85px;white-space:nowrap" class="ft22216">e</p>
<p style="position:absolute;top:843px;left:138px;white-space:nowrap" class="ft22216">$HOME/.ssh/id_dsa</p>
<p style="position:absolute;top:843px;left:404px;white-space:nowrap" class="ft22216">id_dsa</p>
<p style="position:absolute;top:862px;left:85px;white-space:nowrap" class="ft22216">e</p>
<p style="position:absolute;top:862px;left:138px;white-space:nowrap" class="ft22216">$HOME/.ssh/known_hosts</p>
<p style="position:absolute;top:862px;left:404px;white-space:nowrap" class="ft22216">known_hosts</p>
<p style="position:absolute;top:895px;left:92px;white-space:nowrap" class="ft2221"><b>&#160;2.2&#160;&#160;Content&#160;of&#160;the&#160;file&#160;</b></p>
<p style="position:absolute;top:900px;left:324px;white-space:nowrap" class="ft222119"><b>sshd_kma_list</b></p>
<p style="position:absolute;top:895px;left:453px;white-space:nowrap" class="ft2221"><b>&#160;</b></p>
<p style="position:absolute;top:928px;left:85px;white-space:nowrap" class="ft22216">e</p>
<p style="position:absolute;top:928px;left:138px;white-space:nowrap" class="ft22216">/etc/ssh/sshd_config</p>
<p style="position:absolute;top:928px;left:457px;white-space:nowrap" class="ft22216">sshd_config</p>
<p style="position:absolute;top:946px;left:85px;white-space:nowrap" class="ft22216">e</p>
<p style="position:absolute;top:946px;left:138px;white-space:nowrap" class="ft22216">/etc/ssh/ssh_host_key</p>
<p style="position:absolute;top:946px;left:457px;white-space:nowrap" class="ft22216">ssh_host_key</p>
<p style="position:absolute;top:965px;left:85px;white-space:nowrap" class="ft22216">e</p>
<p style="position:absolute;top:965px;left:138px;white-space:nowrap" class="ft22216">/etc/ssh/ssh_host_rsa_key</p>
<p style="position:absolute;top:965px;left:457px;white-space:nowrap" class="ft22216">ssh_host_rsa_key</p>
<p style="position:absolute;top:984px;left:85px;white-space:nowrap" class="ft22216">e</p>
<p style="position:absolute;top:984px;left:138px;white-space:nowrap" class="ft22216">/etc/ssh/ssh_host_dsa_key</p>
<p style="position:absolute;top:984px;left:457px;white-space:nowrap" class="ft22216">ssh_host_dsa_key</p>
<p style="position:absolute;top:1002px;left:85px;white-space:nowrap" class="ft22216">e</p>
<p style="position:absolute;top:1002px;left:138px;white-space:nowrap" class="ft22216">/etc/ssh/ssh_host_key.pub</p>
<p style="position:absolute;top:1002px;left:457px;white-space:nowrap" class="ft22216">ssh_host_key.pub</p>
<p style="position:absolute;top:1021px;left:85px;white-space:nowrap" class="ft22216">e</p>
<p style="position:absolute;top:1021px;left:138px;white-space:nowrap" class="ft22216">/etc/ssh/ssh_host_rsa_key.pub</p>
<p style="position:absolute;top:1021px;left:457px;white-space:nowrap" class="ft22216">ssh_host_rsa_key.pub</p>
<p style="position:absolute;top:1040px;left:85px;white-space:nowrap" class="ft22216">e</p>
<p style="position:absolute;top:1040px;left:138px;white-space:nowrap" class="ft22216">/etc/ssh/ssh_host_dsa_key.pub</p>
<p style="position:absolute;top:1040px;left:457px;white-space:nowrap" class="ft22216">ssh_host_dsa_key.pub</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2227">Open_TC&#160;Deliverable&#160;03c.5</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft2227">4/5</p>
</div>
<!-- Page 223 -->
<a name="223"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page223-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2223.png" alt="background image"/>
<p style="position:absolute;top:92px;left:197px;white-space:nowrap" class="ft2237">WP03c.5 OpenSSH&#160;adaptation&#160;source&#160;code&#160;and documentation&#160;&#160;FINAL 2.00</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft22311"><b>&#160;3&#160;&#160;List of&#160;Abbreviations</b></p>
<p style="position:absolute;top:181px;left:85px;white-space:nowrap" class="ft2234">Listing&#160;of&#160;term definitions and abbreviations&#160;used&#160;in&#160;this document&#160;(IT expressions&#160;and<br/>terms&#160;from&#160;the&#160;application&#160;domain).</p>
<p style="position:absolute;top:229px;left:95px;white-space:nowrap" class="ft2231"><b>Abbreviation</b></p>
<p style="position:absolute;top:229px;left:302px;white-space:nowrap" class="ft2231"><b>Explanation</b></p>
<p style="position:absolute;top:248px;left:95px;white-space:nowrap" class="ft2232">KMA</p>
<p style="position:absolute;top:248px;left:302px;white-space:nowrap" class="ft2232">Key and&#160;data&#160;Management&#160;Adaptation&#160;layer</p>
<p style="position:absolute;top:267px;left:95px;white-space:nowrap" class="ft2232">SSH</p>
<p style="position:absolute;top:267px;left:302px;white-space:nowrap" class="ft2232">Secure SHell</p>
<p style="position:absolute;top:304px;left:85px;white-space:nowrap" class="ft22311"><b>&#160;4&#160;&#160;Related Work</b></p>
<p style="position:absolute;top:334px;left:85px;white-space:nowrap" class="ft2234">/1/&#160;OpenSSH<br/>http://www.openssh.org/</p>
<p style="position:absolute;top:392px;left:85px;white-space:nowrap" class="ft2234">/2/&#160;IETF&#160;RFC&#160;4251,&#160;The&#160;Secure&#160;Shell&#160;(SSH)&#160;Protocol&#160;Architecture<br/>January,&#160;2006</p>
<p style="position:absolute;top:450px;left:85px;white-space:nowrap" class="ft2234">/3/&#160;OpenTC&#160;IST-027635/D03c.4/FINAL&#160;2.00<br/>Key Management&#160;Adaptation&#160;(KMA)&#160;service&#160;source&#160;code&#160;and&#160;documentation<br/>Version&#160;2.00<br/>June, 2008</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2237">Open_TC&#160;Deliverable&#160;03c.5</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft2237">5/5</p>
</div>
<!-- Page 224 -->
<a name="224"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page224-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2224.png" alt="background image"/>
<p style="position:absolute;top:138px;left:99px;white-space:nowrap" class="ft22480">&#160;</p>
<p style="position:absolute;top:77px;left:99px;white-space:nowrap" class="ft22481">&#160;</p>
<p style="position:absolute;top:242px;left:116px;white-space:nowrap" class="ft22482"><b>D03c.6&#160;&#160;OpenSSL engine/DAA enhancement&#160;</b></p>
<p style="position:absolute;top:273px;left:294px;white-space:nowrap" class="ft22482"><b>design specification</b></p>
<p style="position:absolute;top:351px;left:91px;white-space:nowrap" class="ft22483"><b>Project&#160;number</b></p>
<p style="position:absolute;top:351px;left:425px;white-space:nowrap" class="ft22484">IST-027635</p>
<p style="position:absolute;top:376px;left:91px;white-space:nowrap" class="ft22483"><b>Project&#160;acronym</b></p>
<p style="position:absolute;top:376px;left:425px;white-space:nowrap" class="ft22484">Open_TC</p>
<p style="position:absolute;top:402px;left:91px;white-space:nowrap" class="ft22483"><b>Project&#160;title</b></p>
<p style="position:absolute;top:402px;left:425px;white-space:nowrap" class="ft22484">Open Trusted Computing</p>
<p style="position:absolute;top:427px;left:91px;white-space:nowrap" class="ft22483"><b>Deliverable type</b></p>
<p style="position:absolute;top:427px;left:425px;white-space:nowrap" class="ft22484">Internal deliverable</p>
<p style="position:absolute;top:470px;left:91px;white-space:nowrap" class="ft22483"><b>Deliverable reference&#160;number</b></p>
<p style="position:absolute;top:470px;left:425px;white-space:nowrap" class="ft22484">IST-027635/D06c.6/FINAL&#160;| 1.10</p>
<p style="position:absolute;top:502px;left:91px;white-space:nowrap" class="ft22483"><b>Deliverable title</b></p>
<p style="position:absolute;top:493px;left:425px;white-space:nowrap" class="ft22487">OpenSSL&#160;engine/DAA enhancement design&#160;<br/>specification</p>
<p style="position:absolute;top:534px;left:91px;white-space:nowrap" class="ft22483"><b>WP contributing to the&#160;deliverable</b></p>
<p style="position:absolute;top:534px;left:425px;white-space:nowrap" class="ft22484">WP03c</p>
<p style="position:absolute;top:560px;left:91px;white-space:nowrap" class="ft22483"><b>Due date</b></p>
<p style="position:absolute;top:560px;left:425px;white-space:nowrap" class="ft22484">Dec&#160;2007 – M24&#160;</p>
<p style="position:absolute;top:585px;left:91px;white-space:nowrap" class="ft22483"><b>Actual submission&#160;date</b></p>
<p style="position:absolute;top:585px;left:425px;white-space:nowrap" class="ft22484">Jun 30, 2008 (revised version)&#160;</p>
<p style="position:absolute;top:628px;left:91px;white-space:nowrap" class="ft22483"><b>Responsible&#160;Organisation</b></p>
<p style="position:absolute;top:628px;left:424px;white-space:nowrap" class="ft22484">POL</p>
<p style="position:absolute;top:654px;left:91px;white-space:nowrap" class="ft22483"><b>Authors</b></p>
<p style="position:absolute;top:654px;left:424px;white-space:nowrap" class="ft22484">Gianluca&#160;Ramunno, Davide Vernizzi (editor)</p>
<p style="position:absolute;top:676px;left:91px;white-space:nowrap" class="ft22483"><b>Abstract</b></p>
<p style="position:absolute;top:676px;left:424px;white-space:nowrap" class="ft22487">This deliverable specifies&#160;the design of the&#160;<br/>enhancements&#160;to OpenSSL to&#160;support&#160;DAA-<br/>TLS,&#160;a flavor&#160;of TLS&#160;enhanced with group&#160;<br/>authentication through the DAA protocol.</p>
<p style="position:absolute;top:892px;left:91px;white-space:nowrap" class="ft22483"><b>Keywords</b></p>
<p style="position:absolute;top:892px;left:424px;white-space:nowrap" class="ft22484">OPEN_TC, TPM, TLS,&#160;OpenSSL, DAA</p>
<p style="position:absolute;top:935px;left:92px;white-space:nowrap" class="ft22483"><b>Dissemination level</b></p>
<p style="position:absolute;top:935px;left:423px;white-space:nowrap" class="ft22484">Public</p>
<p style="position:absolute;top:960px;left:92px;white-space:nowrap" class="ft22483"><b>Revision</b></p>
<p style="position:absolute;top:960px;left:423px;white-space:nowrap" class="ft22484">FINAL&#160;| 1.10</p>
<p style="position:absolute;top:1012px;left:90px;white-space:nowrap" class="ft22483"><b>Instrument</b></p>
<p style="position:absolute;top:1012px;left:271px;white-space:nowrap" class="ft22484">IP</p>
<p style="position:absolute;top:1002px;left:452px;white-space:nowrap" class="ft22489"><b>Start&#160;date of&#160;the&#160;<br/>project</b></p>
<p style="position:absolute;top:1012px;left:633px;white-space:nowrap" class="ft22484">1</p>
<p style="position:absolute;top:1012px;left:643px;white-space:nowrap" class="ft22485">st</p>
<p style="position:absolute;top:1012px;left:652px;white-space:nowrap" class="ft22484">&#160;November 2005</p>
<p style="position:absolute;top:1041px;left:90px;white-space:nowrap" class="ft22483"><b>Thematic&#160;Priority</b></p>
<p style="position:absolute;top:1041px;left:271px;white-space:nowrap" class="ft22484">IST</p>
<p style="position:absolute;top:1041px;left:452px;white-space:nowrap" class="ft22483"><b>Duration</b></p>
<p style="position:absolute;top:1041px;left:633px;white-space:nowrap" class="ft22484">42 months</p>
<p style="position:absolute;top:75px;left:674px;white-space:nowrap" class="ft22486">&#160;</p>
</div>
<!-- Page 225 -->
<a name="225"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page225-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2225.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft22590">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft22580">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft22591">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft22591">FINAL |&#160;1.10</p>
<p style="position:absolute;top:167px;left:83px;white-space:nowrap" class="ft22592"><b>Table&#160;of Contents</b></p>
<p style="position:absolute;top:204px;left:83px;white-space:nowrap" class="ft225102">1 &#160;Introduction.................................................................................................................&#160;4<br/>2 &#160;Overview of the enhancements to&#160;OpenSSL...............................................................&#160;4<br/>3 &#160;Low&#160;level enhancement for generic applications........................................................&#160;4</p>
<p style="position:absolute;top:270px;left:92px;white-space:nowrap" class="ft22587">3.1 &#160;Hello&#160;extensions.....................................................................................................&#160;4<br/>3.2 &#160;Supplemental data&#160;message..................................................................................&#160;9<br/>3.3 &#160;Supplemental data&#160;negotiation using the extensions...........................................13</p>
<p style="position:absolute;top:332px;left:83px;white-space:nowrap" class="ft22584">4 &#160;DAA authentication library&#160;API..................................................................................&#160;16</p>
<p style="position:absolute;top:351px;left:92px;white-space:nowrap" class="ft22587">4.1 &#160;Platform-only functions.........................................................................................18<br/>4.2 &#160;Verifier-only functions..........................................................................................&#160;20<br/>4.3 &#160;Functions used by both the platform&#160;and the verifier...........................................21<br/>4.4 &#160;Execution flow example........................................................................................22</p>
<p style="position:absolute;top:432px;left:83px;white-space:nowrap" class="ft225102">5 &#160;List&#160;of abbreviations..................................................................................................&#160;25<br/>6 &#160;Referenced Documents.............................................................................................&#160;25<br/>Annex A (normative): API&#160;header files...........................................................................26</p>
<p style="position:absolute;top:498px;left:92px;white-space:nowrap" class="ft22587">A.1 &#160;Low&#160;level enhancement........................................................................................26<br/>A.2 &#160;DAA Authentication&#160;library...................................................................................&#160;27</p>
<p style="position:absolute;top:541px;left:83px;white-space:nowrap" class="ft22584">Annex B (informative):&#160;code examples.........................................................................&#160;30</p>
<p style="position:absolute;top:560px;left:92px;white-space:nowrap" class="ft22584">B.1 &#160;Low&#160;level enhancement.......................................................................................&#160;30</p>
<p style="position:absolute;top:579px;left:101px;white-space:nowrap" class="ft22584">B.1.1 &#160;Hello extensions..............................................................................................&#160;30</p>
<p style="position:absolute;top:599px;left:109px;white-space:nowrap" class="ft22587">B.1.1.1&#160; &#160;Simple example.........................................................................................&#160;30<br/>B.1.1.2&#160; Improved example......................................................................................&#160;31</p>
<p style="position:absolute;top:637px;left:101px;white-space:nowrap" class="ft22584">B.1.2 &#160;Supplemental&#160;data..........................................................................................&#160;33</p>
<p style="position:absolute;top:656px;left:109px;white-space:nowrap" class="ft22587">B.1.2.1&#160; Simple example..........................................................................................&#160;33<br/>B.1.2.2&#160; Improved example......................................................................................&#160;35</p>
<p style="position:absolute;top:695px;left:92px;white-space:nowrap" class="ft22584">B.2 &#160;DAA anonymous&#160;authentication...........................................................................&#160;38</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft22591">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:773px;white-space:nowrap" class="ft22591">2/39</p>
</div>
<!-- Page 226 -->
<a name="226"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page226-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2226.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft22690">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft22680">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft22691">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft22691">FINAL |&#160;1.10</p>
<p style="position:absolute;top:167px;left:83px;white-space:nowrap" class="ft22692"><b>List&#160;of figures</b></p>
<p style="position:absolute;top:200px;left:83px;white-space:nowrap" class="ft22687">Figure 1: operations to&#160;set up the usage of hello extensions&#160;in OpenSSL.......................&#160;5<br/>Figure 2: Client hello extension&#160;sent to&#160;(and parsed by) server......................................&#160;8<br/>Figure 3: Server hello extension sent&#160;to (and parsed by) client......................................&#160;9<br/>Figure 4: Steps&#160;to setup the supplemental data...........................................................&#160;12<br/>Figure 5: Handshake between client and server&#160;using the supplemental data.............&#160;13<br/>Figure 6: Supplemental data&#160;negotiation using the extensions....................................&#160;15</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft22691">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:773px;white-space:nowrap" class="ft22691">3/39</p>
</div>
<!-- Page 227 -->
<a name="227"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft227120{font-size:17px;font-family:EAAAAA+BitstreamVeraSansMono;color:#000000;}
-->
</style>
<div id="page227-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2227.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft22790">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft22780">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft22791">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft22791">FINAL |&#160;1.10</p>
<p style="position:absolute;top:167px;left:83px;white-space:nowrap" class="ft227103"><b>1&#160;&#160;&#160;Introduction</b></p>
<p style="position:absolute;top:200px;left:83px;white-space:nowrap" class="ft22787">This document specifies&#160;the design and the interfaces&#160;of the enhancements to&#160;<br/>OpenSSL [3] to implement DAA-TLS, a flavor&#160;of the Transport&#160;Layer&#160;Security&#160;(TLS) [5]&#160;<br/>protocol&#160;enhanced with a&#160;(anonymous/pseudonymous)&#160;group authentication&#160;scheme&#160;<br/>for&#160;the client side, based on Direct&#160;Anonymous&#160;Attestation&#160;protocol&#160;(DAA)&#160;[7]&#160;and&#160;<br/>specified in&#160;[4].<br/>In the first part&#160;of the document&#160;a low level enhancement to OpenSSL is specified to&#160;<br/>support&#160;generic TLS hello extensions&#160;as&#160;defined in [5] and the TLS&#160;supplemental data&#160;<br/>handshake message defined in [6]; this enhancement is generic&#160;and can&#160;be used for&#160;<br/>any&#160;other&#160;application&#160;than the DAA-based authentication.<br/>The second part&#160;of the document focuses on&#160;a high-level module based&#160;on the low&#160;<br/>level enhancement and on the TCG Software Stack&#160;(TSS). This&#160;module implements&#160;the&#160;<br/>DAA-based authentication&#160;via TLS&#160;hello extensions and supplemental data&#160;and&#160;<br/>provides an application with a simple API&#160;to&#160;ease the setup the DAA-based&#160;<br/>authentication on the client side. Using this module, any existing application&#160;built upon&#160;<br/>OpenSSL can&#160;easily modified (only a slight update is required) to use the new&#160;<br/>authentication scheme with TLS.</p>
<p style="position:absolute;top:552px;left:83px;white-space:nowrap" class="ft227103"><b>2&#160;&#160;&#160;Overview of the enhancements to OpenSSL</b></p>
<p style="position:absolute;top:586px;left:83px;white-space:nowrap" class="ft22788">OpenSSL can&#160;be used to implement the DAA-based authentication. OpenSSL offers&#160;<br/>various&#160;advantages;&#160;the most&#160;interesting are&#160;that it fully implements&#160;the TLS protocol,&#160;<br/>it is released under&#160;an open source&#160;license and it offers the possibility to separate&#160;the&#160;<br/>execution of the protocol&#160;from the cryptographic&#160;functions&#160;using the engine interface.<br/>In order&#160;to use OpenSSL for DAA-TLS, it is necessary&#160;to add the support&#160;to the features&#160;<br/>used in the design of the protocol.&#160;The stable version of OpenSSL (0.9.8x) does not&#160;<br/>provide any of these features,&#160;while the development version&#160;(0.9.9x) only has&#160;a&#160;<br/>limited support for&#160;the extensions to TLS&#160;handshake hello messages.&#160;No&#160;support&#160;is&#160;<br/>natively provided for supplemental data&#160;message. Both&#160;these extensions of the TLS&#160;<br/>protocol&#160;were used in the design of DAA enhancement for&#160;TLS; therefore, such&#160;support&#160;<br/>must&#160;be added to OpenSSL.<br/>In detail, the major&#160;modifications&#160;have to&#160;be done to&#160;</p>
<p style="position:absolute;top:815px;left:524px;white-space:nowrap" class="ft227120"><b>libssl</b></p>
<p style="position:absolute;top:815px;left:584px;white-space:nowrap" class="ft22784">, the OpenSSL module&#160;</p>
<p style="position:absolute;top:834px;left:83px;white-space:nowrap" class="ft22787">implementing the TLS protocol.&#160;In this library&#160;we added a&#160;generalized support to&#160;the&#160;<br/>extensions of the hello&#160;messages&#160;and a&#160;new message&#160;of the handshake to transport&#160;<br/>the supplemental&#160;data.</p>
<p style="position:absolute;top:919px;left:83px;white-space:nowrap" class="ft227103"><b>3&#160;&#160;&#160;Low level enhancement for generic applications</b></p>
<p style="position:absolute;top:970px;left:83px;white-space:nowrap" class="ft227104"><i><b>3.1&#160;&#160;&#160;Hello&#160;extensions</b></i></p>
<p style="position:absolute;top:1002px;left:83px;white-space:nowrap" class="ft22787">A&#160;hello message&#160;may&#160;transport&#160;many different hello&#160;extensions that&#160;are handled by&#160;<br/>the receiver&#160;[5]. An extension is defined by a type (identifier) and a payload.&#160;OpenSSL&#160;<br/>version 0.9.9.x provides only a partial&#160;support&#160;to&#160;few extensions&#160;specified in [5]. This&#160;<br/>document defines the design of an enhancement to&#160;OpenSSL, based on&#160;internal lists,&#160;<br/>to&#160;manage the extensions. Each extension is added to&#160;a list that is parsed&#160;by OpenSSL&#160;<br/>when the hello message is prepared. OpenSSL adds the extensions present in&#160;the list&#160;<br/>to&#160;the client&#160;hello.&#160;When this message&#160;is transmitted, the receiver parses&#160;the list of&#160;the&#160;</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft22791">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:773px;white-space:nowrap" class="ft22791">4/39</p>
</div>
<!-- Page 228 -->
<a name="228"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page228-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2228.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft22890">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft22880">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft22891">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft22891">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:83px;white-space:nowrap" class="ft22887">received extensions.<br/>The received extensions&#160;are handled using callback&#160;functions.&#160;Each extension must&#160;be&#160;<br/>associated&#160;with its own&#160;callback&#160;function,&#160;but each&#160;function can&#160;be associated&#160;with&#160;<br/>many&#160;different extensions.<br/>The complete workflow&#160;for the management&#160;of an ext<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#228">ension is shown in&#160;Figure 1,</a>&#160;<br/><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#231">Figure 2</a><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#232">&#160;and&#160;Figure 3</a><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#228">. &#160;Figure 1&#160;shows</a>&#160;the steps needed to set&#160;up the extension while&#160;</p>
<p style="position:absolute;top:781px;left:83px;white-space:nowrap" class="ft22887"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#231">Figure 2</a><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#232">&#160;and&#160;Figure 3&#160;show</a>&#160;the transmission&#160;and the handling of the received&#160;<br/>extensions on both client and server&#160;sides.<br/>In order&#160;to create&#160;an extension, a&#160;SSL object&#160;must be instantiated.&#160;This is a&#160;standard&#160;<br/>object provided by OpenSSL libraries&#160;to manage&#160;a SSL/TLS connection&#160;and can be&#160;<br/>created&#160;using specific&#160;functions;&#160;the creation&#160;of the SSL&#160;object&#160;is out of the scope of&#160;<br/>this specification,&#160;but further information&#160;can be found in&#160;[3].<br/>On the client side, once the SSL&#160;object&#160;is created, it is possible to&#160;add to it the TLS&#160;<br/>extensions to send, by calling the function</p>
<p style="position:absolute;top:970px;left:105px;white-space:nowrap" class="ft228120"><b>TLSEXT_GENERIC&#160;*&#160;SSL_TLSEXT_client_create&#160;(SSL&#160;*ssl,&#160;</b></p>
<p style="position:absolute;top:970px;left:743px;white-space:nowrap" class="ft228120"><b>//&#160;in</b></p>
<p style="position:absolute;top:990px;left:530px;white-space:nowrap" class="ft228120"><b>int&#160;type,&#160;</b></p>
<p style="position:absolute;top:990px;left:743px;white-space:nowrap" class="ft228120"><b>//&#160;in&#160;</b></p>
<p style="position:absolute;top:1009px;left:530px;white-space:nowrap" class="ft228120"><b>int&#160;size,&#160;</b></p>
<p style="position:absolute;top:1009px;left:743px;white-space:nowrap" class="ft228120"><b>//&#160;in</b></p>
<p style="position:absolute;top:1028px;left:530px;white-space:nowrap" class="ft228120"><b>unsigned&#160;char&#160;*data</b></p>
<p style="position:absolute;top:1028px;left:743px;white-space:nowrap" class="ft228120"><b>//&#160;in</b></p>
<p style="position:absolute;top:1047px;left:477px;white-space:nowrap" class="ft228120"><b>&#160; &#160;&#160; );</b></p>
<p style="position:absolute;top:1084px;left:83px;white-space:nowrap" class="ft22884">where&#160;</p>
<p style="position:absolute;top:1084px;left:140px;white-space:nowrap" class="ft228120"><b>ssl</b></p>
<p style="position:absolute;top:1084px;left:170px;white-space:nowrap" class="ft22884">&#160;it the pointer&#160;to the SSL&#160;object,&#160;</p>
<p style="position:absolute;top:1084px;left:439px;white-space:nowrap" class="ft228120"><b>type</b></p>
<p style="position:absolute;top:1084px;left:479px;white-space:nowrap" class="ft22884">&#160;is the type of the extension&#160;</p>
<p style="position:absolute;top:1104px;left:83px;white-space:nowrap" class="ft22884">corresponding&#160;to the field&#160;</p>
<p style="position:absolute;top:1104px;left:302px;white-space:nowrap" class="ft228120"><b>extension_type</b></p>
<p style="position:absolute;top:1104px;left:441px;white-space:nowrap" class="ft22884">&#160;defined in&#160;[5]&#160;(whose value is defined by&#160;</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft22891">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:773px;white-space:nowrap" class="ft22891">5/39</p>
<p style="position:absolute;top:731px;left:177px;white-space:nowrap" class="ft228107"><i>Figure&#160;1:&#160;operations&#160;to&#160;set up&#160;the&#160;usage&#160;of hello&#160;extensions&#160;in&#160;OpenSSL</i></p>
</div>
<!-- Page 229 -->
<a name="229"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft229121{font-size:17px;line-height:19px;font-family:EAAAAA+BitstreamVeraSansMono;color:#000000;}
-->
</style>
<div id="page229-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2229.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft22990">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft22980">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft22991">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft22991">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:83px;white-space:nowrap" class="ft22984">each&#160;extension specification)&#160;and&#160;</p>
<p style="position:absolute;top:149px;left:367px;white-space:nowrap" class="ft229120"><b>data</b></p>
<p style="position:absolute;top:149px;left:406px;white-space:nowrap" class="ft22984">&#160;is a buffer,&#160;</p>
<p style="position:absolute;top:149px;left:505px;white-space:nowrap" class="ft229120"><b>size</b></p>
<p style="position:absolute;top:149px;left:545px;white-space:nowrap" class="ft22984">&#160;bytes long, containing the&#160;</p>
<p style="position:absolute;top:168px;left:83px;white-space:nowrap" class="ft22987">extension's payload&#160;to be transmitted. The encoding of the payload depends on the&#160;<br/>extension specification;&#160;therefore it must the managed by the calling application.<br/>If the extension is successfully added to&#160;the internal list, the function returns a&#160;pointer&#160;<br/>to&#160;</p>
<p style="position:absolute;top:235px;left:105px;white-space:nowrap" class="ft229120"><b>TLSEXT_GENERIC</b></p>
<p style="position:absolute;top:235px;left:244px;white-space:nowrap" class="ft22984">, an internal object&#160;that contains&#160;the extension type&#160;</p>
<p style="position:absolute;top:235px;left:680px;white-space:nowrap" class="ft229120"><b>tlsext_type</b></p>
<p style="position:absolute;top:235px;left:789px;white-space:nowrap" class="ft22984">,&#160;</p>
<p style="position:absolute;top:254px;left:83px;white-space:nowrap" class="ft22984">the payload&#160;</p>
<p style="position:absolute;top:254px;left:187px;white-space:nowrap" class="ft229120"><b>tlsext_data</b></p>
<p style="position:absolute;top:254px;left:296px;white-space:nowrap" class="ft22984">&#160;long&#160;</p>
<p style="position:absolute;top:254px;left:342px;white-space:nowrap" class="ft229120"><b>tlsext_data_length</b></p>
<p style="position:absolute;top:254px;left:521px;white-space:nowrap" class="ft22984">&#160;bytes and&#160;</p>
<p style="position:absolute;top:254px;left:613px;white-space:nowrap" class="ft229120"><b>ctx_data_t</b></p>
<p style="position:absolute;top:254px;left:713px;white-space:nowrap" class="ft22984">&#160;a pointer&#160;</p>
<p style="position:absolute;top:273px;left:83px;white-space:nowrap" class="ft22987">to&#160;the data&#160;context.&#160;If the extension cannot&#160;be added, the function returns NULL.&#160;This&#160;<br/>function must be called before the time when OpenSSL has to&#160;send the client hello&#160;<br/>extension; since&#160;the latter is carried&#160;over the first&#160;message exchanged between client&#160;<br/>and server,&#160;</p>
<p style="position:absolute;top:331px;left:183px;white-space:nowrap" class="ft229120"><b>SSL_TLSEXT_client_create&#160;()</b></p>
<p style="position:absolute;top:331px;left:451px;white-space:nowrap" class="ft22984">&#160;must be called before the handshake&#160;</p>
<p style="position:absolute;top:350px;left:83px;white-space:nowrap" class="ft22984">begins.</p>
<p style="position:absolute;top:378px;left:83px;white-space:nowrap" class="ft229120"><b>TLSEXT_GENERIC</b></p>
<p style="position:absolute;top:378px;left:223px;white-space:nowrap" class="ft22984">&#160;is defined as:</p>
<p style="position:absolute;top:415px;left:105px;white-space:nowrap" class="ft229120"><b>typedef&#160;struct&#160;tlsext_generic_st&#160;{</b></p>
<p style="position:absolute;top:435px;left:158px;white-space:nowrap" class="ft229120"><b>int&#160;tlsext_type;</b></p>
<p style="position:absolute;top:435px;left:477px;white-space:nowrap" class="ft229120"><b>/*&#160;Type&#160;of&#160;the&#160;extension&#160;*/</b></p>
<p style="position:absolute;top:454px;left:158px;white-space:nowrap" class="ft229120"><b>int&#160;tlsext_data_length;</b></p>
<p style="position:absolute;top:454px;left:477px;white-space:nowrap" class="ft229120"><b>/*&#160;Length&#160;of&#160;the&#160;payload&#160;*/</b></p>
<p style="position:absolute;top:473px;left:158px;white-space:nowrap" class="ft229120"><b>unsigned&#160;char&#160;*&#160;tlsext_data;</b></p>
<p style="position:absolute;top:473px;left:477px;white-space:nowrap" class="ft229121"><b>/*&#160;Buffer&#160;containing&#160;the&#160;<br/>&#160;*&#160;payload's&#160;extension&#160;&#160; */</b></p>
<p style="position:absolute;top:511px;left:158px;white-space:nowrap" class="ft229120"><b>void&#160;*ssl_tlsext_ctx_data;</b></p>
<p style="position:absolute;top:511px;left:477px;white-space:nowrap" class="ft229121"><b>/*&#160;Context:&#160;application&#160;<br/>&#160;*&#160;defined&#160;data&#160;structure&#160;<br/>&#160;*&#160;passed&#160;to&#160;callback&#160;<br/>&#160;*&#160;functions&#160; &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; */</b></p>
<p style="position:absolute;top:588px;left:105px;white-space:nowrap" class="ft229120"><b>}&#160;TLSEXT_GENERIC;</b></p>
<p style="position:absolute;top:625px;left:83px;white-space:nowrap" class="ft22987">Each extension to be received is handled by a callback&#160;function. Therefore&#160;it is&#160;<br/>necessary&#160;to&#160;register&#160;such callback function in advance&#160;(i.e. before&#160;the handshake&#160;<br/>begins) for&#160;the extension the server will send, by calling the function:</p>
<p style="position:absolute;top:701px;left:105px;white-space:nowrap" class="ft229120"><b>int&#160;SSL_TLSEXT_client_cb_set&#160;(SSL&#160;*ssl,&#160;&#160;</b></p>
<p style="position:absolute;top:701px;left:637px;white-space:nowrap" class="ft229120"><b>//&#160;in</b></p>
<p style="position:absolute;top:720px;left:371px;white-space:nowrap" class="ft229120"><b>&#160; &#160;int&#160;type,&#160;&#160;</b></p>
<p style="position:absolute;top:720px;left:637px;white-space:nowrap" class="ft229120"><b>//&#160;in</b></p>
<p style="position:absolute;top:739px;left:371px;white-space:nowrap" class="ft229120"><b>&#160; &#160;void&#160;*cb_prt_t,&#160;</b></p>
<p style="position:absolute;top:739px;left:637px;white-space:nowrap" class="ft229120"><b>//&#160;in</b></p>
<p style="position:absolute;top:759px;left:371px;white-space:nowrap" class="ft229120"><b>&#160; &#160;void&#160;*ctx_data_t&#160;</b></p>
<p style="position:absolute;top:759px;left:637px;white-space:nowrap" class="ft229120"><b>//&#160;in</b></p>
<p style="position:absolute;top:778px;left:371px;white-space:nowrap" class="ft229120"><b>&#160; );</b></p>
<p style="position:absolute;top:815px;left:83px;white-space:nowrap" class="ft22984">where&#160;</p>
<p style="position:absolute;top:815px;left:140px;white-space:nowrap" class="ft229120"><b>ssl</b></p>
<p style="position:absolute;top:815px;left:170px;white-space:nowrap" class="ft22984">&#160;it the pointer&#160;to SSL object,&#160;</p>
<p style="position:absolute;top:815px;left:406px;white-space:nowrap" class="ft229120"><b>type</b></p>
<p style="position:absolute;top:815px;left:446px;white-space:nowrap" class="ft22984">&#160;is the type of the extension,&#160;</p>
<p style="position:absolute;top:815px;left:689px;white-space:nowrap" class="ft229120"><b>cb_prt_t</b></p>
<p style="position:absolute;top:815px;left:769px;white-space:nowrap" class="ft22984">&#160;is a&#160;</p>
<p style="position:absolute;top:834px;left:83px;white-space:nowrap" class="ft22984">pointer to the callback function to&#160;register and&#160;</p>
<p style="position:absolute;top:834px;left:475px;white-space:nowrap" class="ft229120"><b>ctx_data_t</b></p>
<p style="position:absolute;top:834px;left:574px;white-space:nowrap" class="ft22984">&#160;is a pointer&#160;to the data&#160;</p>
<p style="position:absolute;top:853px;left:83px;white-space:nowrap" class="ft22987">context,&#160;a structure&#160;that&#160;contains&#160;any data&#160;that might&#160;be useful for the callback&#160;<br/>function to correctly&#160;handle the data:&#160;it can&#160;be used by the calling application to&#160;pass&#160;<br/>preset data&#160;to&#160;the callback&#160;functions&#160;and/or by the callback function&#160;to return data&#160;to&#160;<br/>the calling application.&#160;Therefore&#160;this structure&#160;must&#160;be defined within the calling&#160;<br/>application, and its type cast&#160;to&#160;</p>
<p style="position:absolute;top:930px;left:350px;white-space:nowrap" class="ft229120"><b>(void&#160;*)</b></p>
<p style="position:absolute;top:930px;left:429px;white-space:nowrap" class="ft22984">&#160;when passed&#160;to the aforementioned function&#160;</p>
<p style="position:absolute;top:949px;left:83px;white-space:nowrap" class="ft22987">to&#160;set up the callback&#160;function. The latter must then cast&#160;back&#160;the structure&#160;to&#160;its&#160;<br/>original data type before&#160;accessing&#160;it through the member&#160;</p>
<p style="position:absolute;top:968px;left:574px;white-space:nowrap" class="ft229120"><b>ssl_tlsext_ctx_data</b></p>
<p style="position:absolute;top:968px;left:763px;white-space:nowrap" class="ft22984">&#160;of&#160;</p>
<p style="position:absolute;top:988px;left:83px;white-space:nowrap" class="ft229120"><b>TLSEXT_GENERIC</b></p>
<p style="position:absolute;top:988px;left:223px;white-space:nowrap" class="ft22984">&#160;structure.</p>
<p style="position:absolute;top:1016px;left:83px;white-space:nowrap" class="ft22984">The callback function must have the following prototype:</p>
<p style="position:absolute;top:1053px;left:105px;white-space:nowrap" class="ft229120"><b>void&#160;cb_func&#160;(SSL&#160;*,&#160;TLSEXT_GENERIC&#160;*);</b></p>
<p style="position:absolute;top:1090px;left:83px;white-space:nowrap" class="ft22987">There operations (creating&#160;an extension and registering a callback&#160;function) must&#160;be&#160;<br/>performed for each&#160;extension which&#160;the application&#160;on the client side has to&#160;</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft22991">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:773px;white-space:nowrap" class="ft22991">6/39</p>
</div>
<!-- Page 230 -->
<a name="230"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page230-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2230.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft23090">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft23080">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft23091">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft23091">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:83px;white-space:nowrap" class="ft23087">respectively send and receive. Then the application&#160;can implement the standard&#160;<br/>OpenSSL workflow: when the client calls the function&#160;</p>
<p style="position:absolute;top:168px;left:528px;white-space:nowrap" class="ft230120"><b>SSL_connect()</b></p>
<p style="position:absolute;top:168px;left:657px;white-space:nowrap" class="ft23084">, the network&#160;</p>
<p style="position:absolute;top:188px;left:83px;white-space:nowrap" class="ft23088">connection&#160;is created and the handshake begins: the extensions&#160;will be automatically&#160;<br/>handled by OpenSSL.<br/>Server side versions&#160;of these functions also&#160;exist</p>
<p style="position:absolute;top:272px;left:105px;white-space:nowrap" class="ft230120"><b>TLSEXT_GENERIC&#160;*&#160;SSL_TLSEXT_server_create&#160;(SSL&#160;*ssl,&#160;</b></p>
<p style="position:absolute;top:272px;left:743px;white-space:nowrap" class="ft230120"><b>//&#160;in</b></p>
<p style="position:absolute;top:291px;left:530px;white-space:nowrap" class="ft230120"><b>int&#160;type,&#160;</b></p>
<p style="position:absolute;top:291px;left:743px;white-space:nowrap" class="ft230120"><b>//&#160;in&#160;</b></p>
<p style="position:absolute;top:310px;left:530px;white-space:nowrap" class="ft230120"><b>int&#160;size,&#160;</b></p>
<p style="position:absolute;top:310px;left:743px;white-space:nowrap" class="ft230120"><b>//&#160;in</b></p>
<p style="position:absolute;top:330px;left:530px;white-space:nowrap" class="ft230120"><b>unsigned&#160;char&#160;*data</b></p>
<p style="position:absolute;top:330px;left:743px;white-space:nowrap" class="ft230120"><b>//&#160;in</b></p>
<p style="position:absolute;top:349px;left:477px;white-space:nowrap" class="ft230120"><b>&#160; &#160;&#160; );</b></p>
<p style="position:absolute;top:387px;left:105px;white-space:nowrap" class="ft230120"><b>int&#160;SSL_TLSEXT_server_cb_set&#160;(SSL&#160;*ssl,&#160;&#160;</b></p>
<p style="position:absolute;top:387px;left:637px;white-space:nowrap" class="ft230120"><b>//&#160;in</b></p>
<p style="position:absolute;top:406px;left:371px;white-space:nowrap" class="ft230120"><b>&#160; &#160;int&#160;type,&#160;&#160;</b></p>
<p style="position:absolute;top:406px;left:637px;white-space:nowrap" class="ft230120"><b>//&#160;in</b></p>
<p style="position:absolute;top:426px;left:371px;white-space:nowrap" class="ft230120"><b>&#160; &#160;void&#160;*cb_prt_t,&#160;</b></p>
<p style="position:absolute;top:426px;left:637px;white-space:nowrap" class="ft230120"><b>//&#160;in</b></p>
<p style="position:absolute;top:445px;left:371px;white-space:nowrap" class="ft230120"><b>&#160; &#160;void&#160;*ctx_data_t&#160;</b></p>
<p style="position:absolute;top:445px;left:637px;white-space:nowrap" class="ft230120"><b>//&#160;in</b></p>
<p style="position:absolute;top:464px;left:371px;white-space:nowrap" class="ft230120"><b>&#160; );</b></p>
<p style="position:absolute;top:501px;left:83px;white-space:nowrap" class="ft23084">respectively. The server&#160;must&#160;call the function&#160;</p>
<p style="position:absolute;top:501px;left:473px;white-space:nowrap" class="ft230120"><b>SSL_accept()</b></p>
<p style="position:absolute;top:501px;left:593px;white-space:nowrap" class="ft23084">&#160;to&#160;prepare&#160;itself for the&#160;</p>
<p style="position:absolute;top:520px;left:83px;white-space:nowrap" class="ft23084">handshake.</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft23091">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:773px;white-space:nowrap" class="ft23091">7/39</p>
</div>
<!-- Page 231 -->
<a name="231"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page231-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2231.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft23190">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft23180">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft23191">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft23191">FINAL |&#160;1.10</p>
<p style="position:absolute;top:750px;left:83px;white-space:nowrap" class="ft23187">The first&#160;message of the TLS handshake is the client&#160;hello&#160;message,&#160;sent by the client&#160;<br/>to&#160;the server&#160;(se<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#231">e&#160;Figure 2). Th</a>e client&#160;creates&#160;the message&#160;including all extensions&#160;<br/>previously defined using</p>
<p style="position:absolute;top:825px;left:105px;white-space:nowrap" class="ft231120"><b>SSL_TLSEXT_client_create&#160;(ssl,&#160;type,&#160;size,&#160;data);</b></p>
<p style="position:absolute;top:862px;left:83px;white-space:nowrap" class="ft23187">An example on how to set&#160;up the extension is given in Annex&#160;B.1.1.1. When the&#160;<br/>message&#160;is ready, it is sent over&#160;the network to&#160;the server.&#160;The latter parses&#160;the&#160;<br/>message&#160;and for any TLS&#160;extension found, it verifies if the related callback&#160;function&#160;<br/>was&#160;previously&#160;registered; if the case,&#160;this&#160;function is called.<br/>When executed, the callback&#160;function can&#160;access&#160;the payload&#160;of the received&#160;<br/>extension as well as&#160;the context data&#160;via&#160;</p>
<p style="position:absolute;top:967px;left:428px;white-space:nowrap" class="ft231120"><b>ssl_tlsext_ctx_data</b></p>
<p style="position:absolute;top:967px;left:617px;white-space:nowrap" class="ft23184">, member of the&#160;</p>
<p style="position:absolute;top:986px;left:83px;white-space:nowrap" class="ft231120"><b>TLSEXT_GENERIC</b></p>
<p style="position:absolute;top:986px;left:223px;white-space:nowrap" class="ft23184">&#160;and set to the pointer&#160;</p>
<p style="position:absolute;top:986px;left:413px;white-space:nowrap" class="ft231120"><b>ctx_data_t</b></p>
<p style="position:absolute;top:986px;left:512px;white-space:nowrap" class="ft23184">&#160;passed&#160;when registering the&#160;</p>
<p style="position:absolute;top:1006px;left:83px;white-space:nowrap" class="ft23184">callback&#160;function.</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft23191">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:773px;white-space:nowrap" class="ft23191">8/39</p>
<p style="position:absolute;top:705px;left:213px;white-space:nowrap" class="ft231107"><i>Figure&#160;2: Client hello&#160;extension&#160;sent&#160;to&#160;(and&#160;parsed&#160;by)&#160;server</i></p>
</div>
<!-- Page 232 -->
<a name="232"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page232-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2232.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft23290">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft23280">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft23291">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft23291">FINAL |&#160;1.10</p>
<p style="position:absolute;top:614px;left:83px;white-space:nowrap" class="ft23287">When the server has&#160;processed the client hello, it creates&#160;the server&#160;hello&#160;message&#160;<br/>including the extensions&#160;and sends&#160;it to&#160;the the cli<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#232">ent (see&#160;Figure 3). The hand</a>ling of&#160;<br/>the server hello on the client is similar&#160;to the handling of the client hello on the server&#160;<br/>described before. However, the client requires some&#160;additional checks:&#160;[5] imposes&#160;<br/>that&#160;the extensions sent by server must&#160;be a subset&#160;of the extensions&#160;sent by the&#160;<br/>client;&#160;if the server sends&#160;an extension of a&#160;type that&#160;was&#160;not sent by the client&#160;in its&#160;<br/>client&#160;hello, the client should terminate&#160;the TLS&#160;handshake. In order&#160;to do this, the&#160;<br/>client&#160;verifies that&#160;the extensions sent by the server are a&#160;subset of the extensions&#160;<br/>previously sent by itself. This&#160;behavior is natively enforced by OpenSSL.<br/>If the server application creates&#160;any&#160;extension before the handshake begins&#160;and&#160;<br/>afterwards&#160;the client does not&#160;send the such extension in the client&#160;hello&#160;message,&#160;<br/>then the server behavior – sending an extension of a type that was&#160;not requested by&#160;<br/>the client – is not compliant&#160;with the specification,&#160;causing the termination of the&#160;<br/>handshake by the client.&#160;This wrong&#160;behavior&#160;can be avoided in the server&#160;application&#160;<br/>by creating any&#160;extension for the server hello message only for&#160;the extensions&#160;<br/>included in the received client hello message.&#160;In order to&#160;do this,&#160;any call to the&#160;<br/>function:</p>
<p style="position:absolute;top:967px;left:105px;white-space:nowrap" class="ft232120"><b>SSL_TLSEXT_server_create&#160;(ssl,&#160;type,&#160;size,&#160;data);</b></p>
<p style="position:absolute;top:1005px;left:83px;white-space:nowrap" class="ft23287">must&#160;be moved inside the callback function&#160;on the server&#160;application&#160;handling the&#160;<br/>received client extension of the same&#160;</p>
<p style="position:absolute;top:1024px;left:400px;white-space:nowrap" class="ft232120"><b>type</b></p>
<p style="position:absolute;top:1024px;left:440px;white-space:nowrap" class="ft23284">.</p>
<p style="position:absolute;top:1070px;left:83px;white-space:nowrap" class="ft232104"><i><b>3.2&#160;&#160;&#160;Supplemental data message</b></i></p>
<p style="position:absolute;top:1101px;left:83px;white-space:nowrap" class="ft23287">Supplemental&#160;data are&#160;defined in&#160;[6]. A&#160;supplemental data&#160;is an additional message&#160;<br/>sent by the server and/or&#160;the client. The specification&#160;imposes each&#160;party can&#160;send at&#160;</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft23291">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:773px;white-space:nowrap" class="ft23291">9/39</p>
<p style="position:absolute;top:572px;left:212px;white-space:nowrap" class="ft232107"><i>Figure&#160;3: Server&#160;hello extension&#160;sent&#160;to (and&#160;parsed&#160;by) client</i></p>
</div>
<!-- Page 233 -->
<a name="233"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page233-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2233.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft23390">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft23380">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft23391">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft23391">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:83px;white-space:nowrap" class="ft23384">most&#160;one single supplemental&#160;data message,&#160;each one carrying&#160;one or&#160;more&#160;</p>
<p style="position:absolute;top:168px;left:83px;white-space:nowrap" class="ft233120"><b>supplemental&#160;data&#160;entries</b></p>
<p style="position:absolute;top:168px;left:332px;white-space:nowrap" class="ft23384">. Each one must be defined through a specification.&#160;</p>
<p style="position:absolute;top:188px;left:83px;white-space:nowrap" class="ft23387">Hence&#160;if an application&#160;wants&#160;to send many different supplemental data&#160;entries,&#160;these&#160;<br/>must&#160;be packed into one single message.<br/>All functions&#160;defined in the following may&#160;be use by both client&#160;and server applications.<br/>The supplemental&#160;data message&#160;will be created&#160;by a callback function called OpenSSL&#160;<br/>during the handshake, just before being sent (according to&#160;[6]); this way&#160;the callback&#160;<br/>function can&#160;retrieve data&#160;carried by a&#160;hello extension just&#160;received. It is possible to&#160;<br/>register such callback&#160;function as:</p>
<p style="position:absolute;top:358px;left:105px;white-space:nowrap" class="ft233120"><b>int&#160;SSL_SUPPL_DATA_prepare_set&#160;(SSL&#160;*ssl,&#160;&#160;</b></p>
<p style="position:absolute;top:358px;left:584px;white-space:nowrap" class="ft233120"><b>&#160;</b></p>
<p style="position:absolute;top:358px;left:637px;white-space:nowrap" class="ft233120"><b>//&#160;in</b></p>
<p style="position:absolute;top:377px;left:424px;white-space:nowrap" class="ft233120"><b>void&#160;*my_prepare,&#160;</b></p>
<p style="position:absolute;top:377px;left:637px;white-space:nowrap" class="ft233120"><b>//&#160;in</b></p>
<p style="position:absolute;top:396px;left:424px;white-space:nowrap" class="ft233120"><b>void&#160;*ctx_data</b></p>
<p style="position:absolute;top:396px;left:637px;white-space:nowrap" class="ft233120"><b>//&#160;in</b></p>
<p style="position:absolute;top:415px;left:371px;white-space:nowrap" class="ft233120"><b>&#160; &#160;&#160; );</b></p>
<p style="position:absolute;top:453px;left:83px;white-space:nowrap" class="ft23384">where&#160;</p>
<p style="position:absolute;top:453px;left:140px;white-space:nowrap" class="ft233120"><b>ssl</b></p>
<p style="position:absolute;top:453px;left:170px;white-space:nowrap" class="ft23384">&#160;is the pointer to the SSL object,&#160;</p>
<p style="position:absolute;top:453px;left:441px;white-space:nowrap" class="ft233120"><b>my_prepare</b></p>
<p style="position:absolute;top:453px;left:540px;white-space:nowrap" class="ft23384">&#160;is the pointer to&#160;the callback&#160;</p>
<p style="position:absolute;top:472px;left:83px;white-space:nowrap" class="ft23384">function that will create&#160;the supplemental data&#160;message and&#160;</p>
<p style="position:absolute;top:472px;left:594px;white-space:nowrap" class="ft233120"><b>ctx_data</b></p>
<p style="position:absolute;top:472px;left:673px;white-space:nowrap" class="ft23384">&#160;is a&#160;pointer to&#160;a&#160;</p>
<p style="position:absolute;top:491px;left:83px;white-space:nowrap" class="ft23387">structure&#160;that&#160;contains any&#160;context data&#160;that&#160;the callback&#160;function may&#160;need to create&#160;<br/>the message; it can&#160;be used by the calling application&#160;to pass&#160;preset data&#160;to the&#160;<br/>callback&#160;functions&#160;and/or by the callback function to return data&#160;to&#160;the calling&#160;<br/>application. Therefore this&#160;structure must&#160;be defined within the calling application,&#160;and&#160;<br/>its type cast&#160;to&#160;</p>
<p style="position:absolute;top:568px;left:212px;white-space:nowrap" class="ft233120"><b>(void&#160;*)</b></p>
<p style="position:absolute;top:568px;left:291px;white-space:nowrap" class="ft23384">&#160;when passed&#160;to the aforementioned function to set&#160;up the&#160;</p>
<p style="position:absolute;top:587px;left:83px;white-space:nowrap" class="ft23387">callback&#160;function. The latter must&#160;then cast&#160;back&#160;the structure&#160;to&#160;its&#160;original data&#160;type&#160;<br/>before accessing&#160;it. The structure&#160;pointed by&#160;</p>
<p style="position:absolute;top:606px;left:460px;white-space:nowrap" class="ft233120"><b>ctx_data</b></p>
<p style="position:absolute;top:606px;left:540px;white-space:nowrap" class="ft23384">&#160;can be the same passed&#160;to the&#160;</p>
<p style="position:absolute;top:625px;left:83px;white-space:nowrap" class="ft23387">callback&#160;function handling the received hello&#160;extension. This&#160;way it is possible to&#160;pass&#160;<br/>data&#160;carried&#160;over the extension to the callback function handling the supplemental&#160;<br/>data&#160;message&#160;to be sent.<br/>OpenSSL will call the callback&#160;function&#160;during the handshake, when it needs to prepare&#160;<br/>the supplemental&#160;data message,&#160;namely&#160;just before sending it over&#160;the network.<br/>According to&#160;[6] at&#160;least one supplemental entry&#160;must be carried by the message.&#160;<br/>Each supplemental data&#160;entry to deliver must&#160;be prepared within the callback&#160;function&#160;</p>
<p style="position:absolute;top:778px;left:83px;white-space:nowrap" class="ft233120"><b>my_prepare</b></p>
<p style="position:absolute;top:778px;left:183px;white-space:nowrap" class="ft23384">&#160;by calling the function</p>
<p style="position:absolute;top:815px;left:105px;white-space:nowrap" class="ft233120"><b>int&#160;SSL_SUPPL_DATA_push&#160;(SSL&#160;*ssl,&#160;</b></p>
<p style="position:absolute;top:815px;left:637px;white-space:nowrap" class="ft233120"><b>//&#160;in</b></p>
<p style="position:absolute;top:834px;left:318px;white-space:nowrap" class="ft233120"><b>&#160;&#160; &#160;int&#160;type,&#160;</b></p>
<p style="position:absolute;top:834px;left:637px;white-space:nowrap" class="ft233120"><b>//&#160;in&#160;</b></p>
<p style="position:absolute;top:853px;left:318px;white-space:nowrap" class="ft233120"><b>&#160;&#160; &#160;int&#160;size,&#160;</b></p>
<p style="position:absolute;top:853px;left:637px;white-space:nowrap" class="ft233120"><b>//&#160;in</b></p>
<p style="position:absolute;top:873px;left:318px;white-space:nowrap" class="ft233120"><b>&#160;&#160; &#160;unsigned&#160;char&#160;*data</b></p>
<p style="position:absolute;top:873px;left:637px;white-space:nowrap" class="ft233120"><b>//&#160;in</b></p>
<p style="position:absolute;top:892px;left:318px;white-space:nowrap" class="ft233120"><b>&#160;&#160; );</b></p>
<p style="position:absolute;top:929px;left:83px;white-space:nowrap" class="ft23384">where&#160;</p>
<p style="position:absolute;top:929px;left:140px;white-space:nowrap" class="ft233120"><b>ssl</b></p>
<p style="position:absolute;top:929px;left:170px;white-space:nowrap" class="ft23384">&#160;is the pointer to the SSL object,&#160;</p>
<p style="position:absolute;top:929px;left:441px;white-space:nowrap" class="ft233120"><b>type</b></p>
<p style="position:absolute;top:929px;left:481px;white-space:nowrap" class="ft23384">&#160;is the type of the supplemental data&#160;</p>
<p style="position:absolute;top:948px;left:83px;white-space:nowrap" class="ft23384">entry corresponding to&#160;</p>
<p style="position:absolute;top:948px;left:278px;white-space:nowrap" class="ft233120"><b>supp_data_type</b></p>
<p style="position:absolute;top:948px;left:417px;white-space:nowrap" class="ft23384">&#160;defined in [6] (whose&#160;value is defined by each&#160;</p>
<p style="position:absolute;top:967px;left:83px;white-space:nowrap" class="ft23384">supplemental data&#160;entry&#160;specification),&#160;and&#160;</p>
<p style="position:absolute;top:967px;left:450px;white-space:nowrap" class="ft233120"><b>data</b></p>
<p style="position:absolute;top:967px;left:490px;white-space:nowrap" class="ft23384">&#160;is a buffer,&#160;</p>
<p style="position:absolute;top:967px;left:589px;white-space:nowrap" class="ft233120"><b>size</b></p>
<p style="position:absolute;top:967px;left:629px;white-space:nowrap" class="ft23384">&#160;bytes long,&#160;</p>
<p style="position:absolute;top:986px;left:83px;white-space:nowrap" class="ft23387">containing the supplemental data&#160;entry's&#160;payload to&#160;be transmitted.&#160;The encoding of&#160;<br/>the payload depends on the supplemental data&#160;entry specification;&#160;therefore it must&#160;<br/>the managed by the calling application.&#160;This&#160;function will add&#160;</p>
<p style="position:absolute;top:1025px;left:598px;white-space:nowrap" class="ft233120"><b>data</b></p>
<p style="position:absolute;top:1025px;left:638px;white-space:nowrap" class="ft23384">&#160;to an internal list&#160;</p>
<p style="position:absolute;top:1044px;left:83px;white-space:nowrap" class="ft23387">that&#160;will be parsed by OpenSSL when the message is prepared.<br/>Once the message&#160;is ready, it is sent&#160;over the network; the message is then handled&#160;<br/>by OpenSSL via callback&#160;functions called when the message is received. Each&#160;callback&#160;<br/>function handles a&#160;supplemental data&#160;entry of one single specific type; a&#160;callback&#160;</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft23391">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft23391">10/39</p>
</div>
<!-- Page 234 -->
<a name="234"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page234-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2234.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft23490">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft23480">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft23491">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft23491">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:83px;white-space:nowrap" class="ft23484">function can&#160;be registered using the function:</p>
<p style="position:absolute;top:186px;left:105px;white-space:nowrap" class="ft234120"><b>SSL_SUPPL_DATA_cb_set&#160;(SSL&#160;*ssl,&#160;</b></p>
<p style="position:absolute;top:186px;left:637px;white-space:nowrap" class="ft234120"><b>//&#160;in</b></p>
<p style="position:absolute;top:205px;left:318px;white-space:nowrap" class="ft234120"><b>&#160;&#160; int&#160;type,&#160;</b></p>
<p style="position:absolute;top:205px;left:637px;white-space:nowrap" class="ft234120"><b>//&#160;in&#160;</b></p>
<p style="position:absolute;top:225px;left:318px;white-space:nowrap" class="ft234120"><b>&#160;&#160; void&#160;*cb_handle</b></p>
<p style="position:absolute;top:225px;left:637px;white-space:nowrap" class="ft234120"><b>//&#160;in</b></p>
<p style="position:absolute;top:244px;left:318px;white-space:nowrap" class="ft234120"><b>&#160;&#160; void&#160;*ctx_data</b></p>
<p style="position:absolute;top:244px;left:637px;white-space:nowrap" class="ft234120"><b>//&#160;in</b></p>
<p style="position:absolute;top:263px;left:318px;white-space:nowrap" class="ft234120"><b>&#160;&#160;);</b></p>
<p style="position:absolute;top:300px;left:83px;white-space:nowrap" class="ft23484">where&#160;</p>
<p style="position:absolute;top:300px;left:140px;white-space:nowrap" class="ft234120"><b>ssl</b></p>
<p style="position:absolute;top:300px;left:170px;white-space:nowrap" class="ft23484">&#160;is the pointer to SSL object,&#160;</p>
<p style="position:absolute;top:300px;left:408px;white-space:nowrap" class="ft234120"><b>type</b></p>
<p style="position:absolute;top:300px;left:448px;white-space:nowrap" class="ft23484">&#160;is the type of the supplemental data&#160;</p>
<p style="position:absolute;top:319px;left:83px;white-space:nowrap" class="ft23484">entry,&#160;</p>
<p style="position:absolute;top:319px;left:138px;white-space:nowrap" class="ft234120"><b>cb_handle</b></p>
<p style="position:absolute;top:319px;left:227px;white-space:nowrap" class="ft23484">&#160;is the pointer to the callback function used to handle a&#160;supplemental&#160;</p>
<p style="position:absolute;top:339px;left:83px;white-space:nowrap" class="ft23484">data&#160;entry of type&#160;</p>
<p style="position:absolute;top:339px;left:238px;white-space:nowrap" class="ft234120"><b>t</b></p>
<p style="position:absolute;top:339px;left:248px;white-space:nowrap" class="ft23484">&#160;and&#160;</p>
<p style="position:absolute;top:339px;left:290px;white-space:nowrap" class="ft234120"><b>ctx_data</b></p>
<p style="position:absolute;top:339px;left:369px;white-space:nowrap" class="ft23484">&#160;is a&#160;pointer to&#160;a structure&#160;that contains&#160;any&#160;context&#160;</p>
<p style="position:absolute;top:358px;left:83px;white-space:nowrap" class="ft23487">data&#160;that&#160;the callback&#160;function may&#160;need. The callback&#160;function&#160;must&#160;have the&#160;<br/>following prototype:</p>
<p style="position:absolute;top:414px;left:105px;white-space:nowrap" class="ft234121"><b>void&#160;cb_handle&#160;(SSL&#160;*ssl,&#160;int&#160;type,<br/>&#160;&#160; &#160;&#160;&#160; unsigned&#160;char&#160;*data,&#160;int&#160;size,&#160;void&#160;*&#160;ctx_data);</b></p>
<p style="position:absolute;top:470px;left:83px;white-space:nowrap" class="ft23484">where&#160;</p>
<p style="position:absolute;top:470px;left:140px;white-space:nowrap" class="ft234120"><b>ssl</b></p>
<p style="position:absolute;top:470px;left:170px;white-space:nowrap" class="ft23484">&#160;is the pointer to the SSL object,&#160;</p>
<p style="position:absolute;top:470px;left:441px;white-space:nowrap" class="ft234120"><b>type</b></p>
<p style="position:absolute;top:470px;left:481px;white-space:nowrap" class="ft23484">&#160;is the type of the supplemental data&#160;</p>
<p style="position:absolute;top:490px;left:83px;white-space:nowrap" class="ft23484">entry to&#160;handle,&#160;</p>
<p style="position:absolute;top:490px;left:221px;white-space:nowrap" class="ft234120"><b>data</b></p>
<p style="position:absolute;top:490px;left:261px;white-space:nowrap" class="ft23484">&#160;is a buffer of size&#160;</p>
<p style="position:absolute;top:490px;left:413px;white-space:nowrap" class="ft234120"><b>size</b></p>
<p style="position:absolute;top:490px;left:453px;white-space:nowrap" class="ft23484">&#160;that contains&#160;the payload of the&#160;</p>
<p style="position:absolute;top:509px;left:83px;white-space:nowrap" class="ft23484">supplemental data&#160;entry&#160;and&#160;</p>
<p style="position:absolute;top:509px;left:329px;white-space:nowrap" class="ft234120"><b>ctx_data</b></p>
<p style="position:absolute;top:509px;left:408px;white-space:nowrap" class="ft23484">&#160;is a pointer&#160;to a&#160;structure that&#160;contains&#160;any&#160;</p>
<p style="position:absolute;top:528px;left:83px;white-space:nowrap" class="ft23487">context&#160;data&#160;that the callback function may&#160;need.<br/>It&#160;is also possible to define a callback&#160;function for&#160;debug purposes.&#160;Such&#160;function will&#160;<br/>be called by OpenSSL after the supplemental&#160;data message&#160;creation&#160;is complete, just&#160;<br/>before sending it. This function&#160;allows&#160;developers to&#160;check whether the creation of the&#160;<br/>supplemental data&#160;was&#160;successful. The debug callback function&#160;can be defined as:</p>
<p style="position:absolute;top:651px;left:105px;white-space:nowrap" class="ft234120"><b>ssl-&gt;suppl_data-&gt;debug_cb&#160;= &amp;(suppl_data_debug);</b></p>
<p style="position:absolute;top:688px;left:83px;white-space:nowrap" class="ft23484">where&#160;</p>
<p style="position:absolute;top:688px;left:140px;white-space:nowrap" class="ft234120"><b>ssl</b></p>
<p style="position:absolute;top:688px;left:170px;white-space:nowrap" class="ft23484">&#160;is the SSL object, and&#160;</p>
<p style="position:absolute;top:688px;left:359px;white-space:nowrap" class="ft234120"><b>suppl_data_debug_cb</b></p>
<p style="position:absolute;top:688px;left:548px;white-space:nowrap" class="ft23484">&#160;is the debug function. Such&#160;</p>
<p style="position:absolute;top:707px;left:83px;white-space:nowrap" class="ft23484">function must have the following prototype:</p>
<p style="position:absolute;top:744px;left:105px;white-space:nowrap" class="ft234120"><b>&#160;void&#160;suppl_data_cb_srvr&#160;(SSL&#160;*ssl,&#160;unsigned&#160;char&#160;*data,&#160;int&#160;size);</b></p>
<p style="position:absolute;top:781px;left:83px;white-space:nowrap" class="ft23484">where&#160;</p>
<p style="position:absolute;top:781px;left:140px;white-space:nowrap" class="ft234120"><b>ssl</b></p>
<p style="position:absolute;top:781px;left:170px;white-space:nowrap" class="ft23484">&#160;is the pointer to the SSL object&#160;and&#160;</p>
<p style="position:absolute;top:781px;left:472px;white-space:nowrap" class="ft234120"><b>data</b></p>
<p style="position:absolute;top:781px;left:512px;white-space:nowrap" class="ft23484">&#160;is a buffer of size&#160;</p>
<p style="position:absolute;top:781px;left:664px;white-space:nowrap" class="ft234120"><b>size</b></p>
<p style="position:absolute;top:781px;left:704px;white-space:nowrap" class="ft23484">.</p>
<p style="position:absolute;top:810px;left:83px;white-space:nowrap" class="ft23487">The complete workflow&#160;for the supplemental data<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#235">&#160;is shown in&#160;Figure 4</a><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#236">&#160;and&#160;Figure 5.</a>&#160;<br/><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#235">Figure 4&#160;shows</a>&#160;the steps needed to setup the supplemental data,<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#236">&#160;and&#160;Figure 5&#160;show</a>s&#160;<br/>the handshake between client and server.</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft23491">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft23491">11/39</p>
</div>
<!-- Page 235 -->
<a name="235"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page235-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2235.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft23590">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft23580">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft23591">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft23591">FINAL |&#160;1.10</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft23591">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft23591">12/39</p>
<p style="position:absolute;top:603px;left:266px;white-space:nowrap" class="ft235107"><i>Figure&#160;4: Steps&#160;to&#160;setup&#160;the supplemental&#160;data.</i></p>
</div>
<!-- Page 236 -->
<a name="236"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page236-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2236.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft23690">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft23680">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft23691">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft23691">FINAL |&#160;1.10</p>
<p style="position:absolute;top:894px;left:83px;white-space:nowrap" class="ft236104"><i><b>3.3&#160;&#160;&#160;Supplemental data negotiation&#160;using the extensions</b></i></p>
<p style="position:absolute;top:926px;left:83px;white-space:nowrap" class="ft23687">The supplemental&#160;data specification imposes&#160;that each&#160;supplemental data&#160;entry MUST&#160;<br/>be negotiated using the hello extensions.&#160;Furthermore,&#160;the hello&#160;extension&#160;<br/>specification imposes&#160;that&#160;the server must not&#160;send any extension that was&#160;not&#160;<br/>explicitly requested by the client. In the following it is explained how&#160;to achieve such&#160;<br/>negotiation. Note that&#160;in the example the supplemental data&#160;message&#160;is sent&#160;by both&#160;<br/>the client and the server. In real scenarios,&#160;it is also&#160;possible that&#160;one of the peers&#160;<br/>does not&#160;send any&#160;supplemental data&#160;message;&#160;the actual&#160;behavior&#160;depends on the&#160;<br/>type of the supplemental data&#160;message.&#160;Furthermore, according to&#160;[6], if a&#160;<br/>supplemental data&#160;message is present, it MUST be non empty, meaning that&#160;at&#160;least&#160;<br/>one supplemental data&#160;entry&#160;MUST be transported&#160;within. The negotiation happens as&#160;<br/>follow.</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft23691">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft23691">13/39</p>
<p style="position:absolute;top:859px;left:154px;white-space:nowrap" class="ft236107"><i>Figure&#160;5:&#160;Handshake&#160;between&#160;client and&#160;server using&#160;the supplemental&#160;data.</i></p>
</div>
<!-- Page 237 -->
<a name="237"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page237-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2237.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft23790">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft23780">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft23791">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft23791">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:110px;white-space:nowrap" class="ft23784">1.&#160;The client creates&#160;the hello&#160;extension for requesting the supplemental data&#160;</p>
<p style="position:absolute;top:168px;left:137px;white-space:nowrap" class="ft23787">entry and sends the extended client&#160;hello&#160;message.&#160;This&#160;extension means that&#160;<br/>the client is proposing to&#160;the server to&#160;use a particular&#160;feature&#160;that&#160;requires the&#160;<br/>exchange of a supplemental data&#160;entry.</p>
<p style="position:absolute;top:235px;left:110px;white-space:nowrap" class="ft23784">2.&#160;If the server receives the hello&#160;extension, it creates&#160;the corresponding extended&#160;</p>
<p style="position:absolute;top:254px;left:137px;white-space:nowrap" class="ft23787">server&#160;hello. This can&#160;be done by moving the creation&#160;of the extension within&#160;<br/>the callback function that handle the corresponding extension sent&#160;by the client&#160;<br/>as&#160;specified in&#160;section&#160;3.1.<br/>Furthermore&#160;the server&#160;creates&#160;the supplemental data&#160;entry&#160;corresponding to&#160;<br/>the extension received from&#160;the client and sets the appropriate callback&#160;function&#160;<br/>to&#160;handle the supplemental data&#160;that the client will send.</p>
<p style="position:absolute;top:378px;left:110px;white-space:nowrap" class="ft23784">3.&#160;The client receives the extended server hello message.&#160;The presence of the&#160;</p>
<p style="position:absolute;top:398px;left:137px;white-space:nowrap" class="ft23787">extension means&#160;that the server agreed to use that&#160;feature and, thus, an&#160;<br/>appropriate&#160;supplemental&#160;data entry must&#160;be created;&#160;such creation&#160;happens&#160;<br/>while the client is handling the server extension. &#160;Moreover,&#160;the client&#160;sets the&#160;<br/>appropriate&#160;callback function to handle the supplemental data&#160;that the server&#160;<br/>will send.</p>
<p style="position:absolute;top:503px;left:110px;white-space:nowrap" class="ft23784">4.&#160;The handshake continues as&#160;described previously.</p>
<p style="position:absolute;top:531px;left:83px;white-space:nowrap" class="ft23784">A&#160;sketch&#160;of the negotiation is shown i<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#238">n&#160;Figure 6.</a></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft23791">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft23791">14/39</p>
</div>
<!-- Page 238 -->
<a name="238"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page238-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2238.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft23890">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft23880">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft23891">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft23891">FINAL |&#160;1.10</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft23891">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft23891">15/39</p>
<p style="position:absolute;top:1100px;left:213px;white-space:nowrap" class="ft238107"><i>Figure&#160;6:&#160;Supplemental&#160;data&#160;negotiation&#160;using&#160;the extensions</i></p>
</div>
<!-- Page 239 -->
<a name="239"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page239-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2239.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft23990">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft23980">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft23991">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft23991">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:83px;white-space:nowrap" class="ft239103"><b>4&#160;&#160;&#160;DAA authentication library API</b></p>
<p style="position:absolute;top:183px;left:83px;white-space:nowrap" class="ft23987">In order&#160;to ease the work of the developers, it is possible to&#160;simplify the creation&#160;of a&#160;<br/>TLS&#160;channels that&#160;implements&#160;the anonymous&#160;authentication&#160;through the DAA&#160;<br/>protocol&#160;by using the&#160;</p>
<p style="position:absolute;top:221px;left:264px;white-space:nowrap" class="ft239120"><b>DAA&#160;authentication&#160;library</b></p>
<p style="position:absolute;top:221px;left:522px;white-space:nowrap" class="ft23984">&#160;(</p>
<p style="position:absolute;top:221px;left:534px;white-space:nowrap" class="ft239120"><b>DaaAuthLib</b></p>
<p style="position:absolute;top:221px;left:633px;white-space:nowrap" class="ft23984">). This library&#160;takes&#160;</p>
<p style="position:absolute;top:240px;left:83px;white-space:nowrap" class="ft23988">care&#160;of creating the hello extensions&#160;and supplemental data&#160;necessary&#160;to&#160;use the DAA&#160;<br/>for&#160;anonymous&#160;or pseudonymous authentication. Note&#160;that the DAA protocol&#160;requires&#160;<br/>interaction&#160;with the Trusted Software Stack&#160;(TSS) for&#160;running the DAA-specific&#160;<br/>functions.<br/>The library&#160;is built around the data structure&#160;</p>
<p style="position:absolute;top:326px;left:457px;white-space:nowrap" class="ft239120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:326px;left:536px;white-space:nowrap" class="ft23984"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#239">; this object</a></p>
<p style="position:absolute;top:326px;left:633px;white-space:nowrap" class="ft23985"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#239">1</a></p>
<p style="position:absolute;top:326px;left:640px;white-space:nowrap" class="ft23984"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#239">&#160;contains</a>&#160;all the&#160;</p>
<p style="position:absolute;top:345px;left:83px;white-space:nowrap" class="ft23984">information&#160;needed for the DAA for anonymous&#160;authentication.&#160;</p>
<p style="position:absolute;top:345px;left:612px;white-space:nowrap" class="ft239120"><b>DaaAuthLib</b></p>
<p style="position:absolute;top:345px;left:711px;white-space:nowrap" class="ft23984">&#160;provides&#160;</p>
<p style="position:absolute;top:364px;left:83px;white-space:nowrap" class="ft23988">constructors&#160;and destructors&#160;for its objects&#160;as&#160;well as&#160;getters&#160;and setters for&#160;the&#160;<br/>members of the objects.<br/>A&#160;</p>
<p style="position:absolute;top:412px;left:100px;white-space:nowrap" class="ft239120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:412px;left:180px;white-space:nowrap" class="ft23984">&#160;can be created using the constructor:</p>
<p style="position:absolute;top:449px;left:105px;white-space:nowrap" class="ft239121"><b>Daa_Auth&#160;*daa;<br/>daa&#160;=&#160;DAuth_new&#160;(peer);</b></p>
<p style="position:absolute;top:505px;left:83px;white-space:nowrap" class="ft23984">where&#160;</p>
<p style="position:absolute;top:505px;left:140px;white-space:nowrap" class="ft239120"><b>peer</b></p>
<p style="position:absolute;top:505px;left:180px;white-space:nowrap" class="ft23984">&#160;can assume&#160;the values&#160;</p>
<p style="position:absolute;top:505px;left:380px;white-space:nowrap" class="ft239120"><b>PLATFORM</b></p>
<p style="position:absolute;top:505px;left:460px;white-space:nowrap" class="ft23984">&#160;or&#160;</p>
<p style="position:absolute;top:505px;left:487px;white-space:nowrap" class="ft239120"><b>VERIFIER</b></p>
<p style="position:absolute;top:505px;left:567px;white-space:nowrap" class="ft23984">&#160;and indicates&#160;to&#160;the&#160;</p>
<p style="position:absolute;top:524px;left:83px;white-space:nowrap" class="ft23988">constructor&#160;whether the function is used by the TC-enabled platform&#160;or&#160;by the verifier.&#160;<br/>This is necessary&#160;because the behavior&#160;of the platform&#160;and of the verifier is different&#160;<br/>and this flag allows&#160;the library&#160;to behave correctly.<br/>The structure&#160;can be deallocated&#160;using the destructor:</p>
<p style="position:absolute;top:628px;left:105px;white-space:nowrap" class="ft239120"><b>DAuth_del&#160;(daa);</b></p>
<p style="position:absolute;top:665px;left:83px;white-space:nowrap" class="ft239120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:665px;left:163px;white-space:nowrap" class="ft23984">&#160; contains&#160;all the data&#160;necessary&#160;for the DAA anonymous&#160;authentication:&#160;both&#160;</p>
<p style="position:absolute;top:684px;left:83px;white-space:nowrap" class="ft23988">the data&#160;that must&#160;be transmitted&#160;to the counterpart&#160;and the local&#160;data&#160;(e.g. handlers&#160;<br/>to&#160;TSS objects)&#160;that must&#160;be used locally to&#160;sign or&#160;verify the signature.<br/>The&#160;</p>
<p style="position:absolute;top:732px;left:119px;white-space:nowrap" class="ft239120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:732px;left:199px;white-space:nowrap" class="ft23984">&#160;structure&#160;is defined as:</p>
<p style="position:absolute;top:769px;left:105px;white-space:nowrap" class="ft239121"><b>typedef&#160;struct&#160;Daa_Auth_st&#160;{<br/>&#160;&#160; Basename&#160;</b></p>
<p style="position:absolute;top:788px;left:424px;white-space:nowrap" class="ft239120"><b>wanted_basename;</b></p>
<p style="position:absolute;top:807px;left:105px;white-space:nowrap" class="ft239120"><b>&#160;&#160; Basename</b></p>
<p style="position:absolute;top:807px;left:424px;white-space:nowrap" class="ft239120"><b>basename;</b></p>
<p style="position:absolute;top:826px;left:105px;white-space:nowrap" class="ft239120"><b>&#160;&#160; Nonce&#160;</b></p>
<p style="position:absolute;top:826px;left:424px;white-space:nowrap" class="ft239120"><b>nonce;</b></p>
<p style="position:absolute;top:846px;left:105px;white-space:nowrap" class="ft239120"><b>&#160;&#160; SignedAdditionalData</b></p>
<p style="position:absolute;top:846px;left:424px;white-space:nowrap" class="ft239120"><b>signed_additional_data;</b></p>
<p style="position:absolute;top:865px;left:105px;white-space:nowrap" class="ft239120"><b>&#160;&#160; SignedHash</b></p>
<p style="position:absolute;top:865px;left:424px;white-space:nowrap" class="ft239120"><b>signed_hash;</b></p>
<p style="position:absolute;top:903px;left:105px;white-space:nowrap" class="ft239120"><b>&#160;&#160; TSS_HTPM*</b></p>
<p style="position:absolute;top:903px;left:424px;white-space:nowrap" class="ft239120"><b>hTPM;</b></p>
<p style="position:absolute;top:922px;left:105px;white-space:nowrap" class="ft239120"><b>&#160;&#160; TSS_HDAA_CREDENTIAL*</b></p>
<p style="position:absolute;top:922px;left:424px;white-space:nowrap" class="ft239120"><b>hDAACredential;</b></p>
<p style="position:absolute;top:942px;left:105px;white-space:nowrap" class="ft239120"><b>&#160;&#160; TSS_HDAA_ISSUER_KEY*</b></p>
<p style="position:absolute;top:942px;left:424px;white-space:nowrap" class="ft239120"><b>hIssuerKey;</b></p>
<p style="position:absolute;top:961px;left:105px;white-space:nowrap" class="ft239120"><b>&#160;&#160; TSS_HDAA_ARA_KEY*</b></p>
<p style="position:absolute;top:961px;left:424px;white-space:nowrap" class="ft239120"><b>hARAKey;</b></p>
<p style="position:absolute;top:980px;left:105px;white-space:nowrap" class="ft239120"><b>&#160;&#160; TSS_HHASH*</b></p>
<p style="position:absolute;top:980px;left:424px;white-space:nowrap" class="ft239120"><b>hARACondition;</b></p>
<p style="position:absolute;top:1018px;left:105px;white-space:nowrap" class="ft239120"><b>&#160;&#160; TSS_DAA_SIGNATURE*</b></p>
<p style="position:absolute;top:1018px;left:424px;white-space:nowrap" class="ft239120"><b>signature;</b></p>
<p style="position:absolute;top:1064px;left:83px;white-space:nowrap" class="ft23984">1&#160;</p>
<p style="position:absolute;top:1064px;left:99px;white-space:nowrap" class="ft239120"><b>DaaAuthLib&#160;</b></p>
<p style="position:absolute;top:1064px;left:209px;white-space:nowrap" class="ft23984">is written in C, a non-object-oriented programming language, but its&#160;</p>
<p style="position:absolute;top:1083px;left:83px;white-space:nowrap" class="ft23987">logical organization reminds the object--oriented paradigm, hence the main data&#160;<br/>structures&#160;will be referred as&#160;</p>
<p style="position:absolute;top:1103px;left:327px;white-space:nowrap" class="ft239120"><b>objects</b></p>
<p style="position:absolute;top:1103px;left:397px;white-space:nowrap" class="ft23984">.</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft23991">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft23991">16/39</p>
</div>
<!-- Page 240 -->
<a name="240"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page240-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2240.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft24090">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft24080">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft24091">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft24091">FINAL |&#160;1.10</p>
<p style="position:absolute;top:168px;left:105px;white-space:nowrap" class="ft240120"><b>&#160;&#160; uint8_t</b></p>
<p style="position:absolute;top:168px;left:424px;white-space:nowrap" class="ft240120"><b>is_auth_valid;</b></p>
<p style="position:absolute;top:188px;left:105px;white-space:nowrap" class="ft240120"><b>}&#160;Daa_Auth;</b></p>
<p style="position:absolute;top:234px;left:105px;white-space:nowrap" class="ft240121"><b>typedef&#160;struct&#160;Basename_st&#160;{<br/>&#160;&#160; uint8&#160;basename_length;<br/>&#160;&#160; unsigned&#160;char&#160;* basename;<br/>}&#160;Basename;</b></p>
<p style="position:absolute;top:337px;left:105px;white-space:nowrap" class="ft240121"><b>typedef&#160;struct&#160;Nonce_st&#160;{<br/>&#160;&#160; uint8&#160;nonce_length;<br/>&#160;&#160; unsigned&#160;char&#160;* nonce;<br/>}&#160;Nonce;</b></p>
<p style="position:absolute;top:441px;left:105px;white-space:nowrap" class="ft240121"><b>typedef&#160;struct&#160;SignedAdditionalData_st&#160;{<br/>&#160;&#160; uint16&#160;data_length;<br/>&#160;&#160; unsigned&#160;char&#160;* data;<br/>}&#160;SignedAdditionalData;</b></p>
<p style="position:absolute;top:544px;left:105px;white-space:nowrap" class="ft240121"><b>typedef&#160;SignedHash_st&#160;{<br/>&#160;&#160; uint8&#160;hash_length;<br/>&#160;&#160; unsigned&#160;char&#160;* hash;<br/>}&#160;SignedHash;</b></p>
<p style="position:absolute;top:639px;left:83px;white-space:nowrap" class="ft24084">where:</p>
<p style="position:absolute;top:670px;left:110px;white-space:nowrap" class="ft24094">●</p>
<p style="position:absolute;top:667px;left:137px;white-space:nowrap" class="ft240120"><b>wanted_basename</b></p>
<p style="position:absolute;top:667px;left:287px;white-space:nowrap" class="ft24084">&#160;is the basename wanted by the verifier. If the verifier wants&#160;</p>
<p style="position:absolute;top:687px;left:137px;white-space:nowrap" class="ft24087">to&#160;use the pseudonymity,&#160;it must&#160;place&#160;the information&#160;needed to compute&#160;the&#160;<br/>fixed basename here. If it wants to&#160;use the anonymity,&#160;then this&#160;field must&#160;be&#160;<br/>NULL.</p>
<p style="position:absolute;top:756px;left:110px;white-space:nowrap" class="ft24094">●</p>
<p style="position:absolute;top:753px;left:137px;white-space:nowrap" class="ft240120"><b>basename</b></p>
<p style="position:absolute;top:753px;left:217px;white-space:nowrap" class="ft24084">&#160;is the actual&#160;basename used in the DAA&#160;signature. This field is&#160;</p>
<p style="position:absolute;top:773px;left:137px;white-space:nowrap" class="ft24084">automatically filled on&#160;the verifier by the library&#160;using the&#160;</p>
<p style="position:absolute;top:792px;left:137px;white-space:nowrap" class="ft240120"><b>Tspi_DAA_Verifier_Init&#160;()</b></p>
<p style="position:absolute;top:792px;left:386px;white-space:nowrap" class="ft24084">&#160;function provided by the TSS.</p>
<p style="position:absolute;top:823px;left:110px;white-space:nowrap" class="ft24094">●</p>
<p style="position:absolute;top:820px;left:137px;white-space:nowrap" class="ft240120"><b>nonce</b></p>
<p style="position:absolute;top:820px;left:187px;white-space:nowrap" class="ft24084">&#160;is the nonce generated&#160;by the&#160;</p>
<p style="position:absolute;top:820px;left:447px;white-space:nowrap" class="ft240120"><b>Tspi_DAA_Verifier_Init&#160;()</b></p>
<p style="position:absolute;top:820px;left:696px;white-space:nowrap" class="ft24084">&#160;function;&#160;</p>
<p style="position:absolute;top:840px;left:137px;white-space:nowrap" class="ft24087">this nonce is computed by the verifier&#160;and the it's&#160;transmitted to&#160;the TC-<br/>platform.</p>
<p style="position:absolute;top:890px;left:110px;white-space:nowrap" class="ft24094">●</p>
<p style="position:absolute;top:887px;left:137px;white-space:nowrap" class="ft240120"><b>signed_additional_data</b></p>
<p style="position:absolute;top:887px;left:356px;white-space:nowrap" class="ft24084">&#160;if present contains&#160;the additional data&#160;that&#160;compose&#160;</p>
<p style="position:absolute;top:907px;left:137px;white-space:nowrap" class="ft24087">the DAA signature together&#160;with the client certificate.&#160;For&#160;the TC-platform,&#160;this&#160;<br/>represents the data&#160;that must&#160;be signed, while for the verifier this represents&#160;<br/>the data&#160;that was&#160;signed by the platform.&#160;The verifier uses this field, if present,&#160;<br/>to&#160;verify the DAA signature.</p>
<p style="position:absolute;top:995px;left:110px;white-space:nowrap" class="ft24094">●</p>
<p style="position:absolute;top:992px;left:137px;white-space:nowrap" class="ft240120"><b>signed_hash</b></p>
<p style="position:absolute;top:992px;left:247px;white-space:nowrap" class="ft24084">&#160;is the hash that&#160;was actually&#160;signed by the TC-platform.&#160;This filed&#160;</p>
<p style="position:absolute;top:1012px;left:137px;white-space:nowrap" class="ft24087">is set by the platform&#160;and is used by the verifier to&#160;verity&#160;the DAA signature.&#160;<br/>Note&#160;that this field and the previous&#160;one must be used at&#160;the end of the&#160;<br/>handshake to verify the authentication. In&#160;details the verifier&#160;must&#160;concatenate&#160;<br/>the certificate&#160;used for the TLS authentication&#160;of the TC-platform&#160;and the&#160;</p>
<p style="position:absolute;top:1089px;left:137px;white-space:nowrap" class="ft240120"><b>signed_additional_data</b></p>
<p style="position:absolute;top:1089px;left:356px;white-space:nowrap" class="ft24084">&#160;and then it must compute&#160;a hash of the concatenated&#160;</p>
<p style="position:absolute;top:1108px;left:137px;white-space:nowrap" class="ft24084">data;&#160;if this latter&#160;hash corresponds&#160;to&#160;the signed hash,&#160;then the DAA&#160;</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft24091">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft24091">17/39</p>
</div>
<!-- Page 241 -->
<a name="241"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page241-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2241.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft24190">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft24180">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft24191">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft24191">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:137px;white-space:nowrap" class="ft24184">anonymous&#160;authentication&#160;is verified.</p>
<p style="position:absolute;top:180px;left:110px;white-space:nowrap" class="ft24194">●</p>
<p style="position:absolute;top:177px;left:137px;white-space:nowrap" class="ft241120"><b>hTPM</b></p>
<p style="position:absolute;top:177px;left:177px;white-space:nowrap" class="ft24184">&#160;is the handler to&#160;the TPM&#160;object.&#160;This field contains&#160;the handler&#160;as it was&#160;</p>
<p style="position:absolute;top:197px;left:137px;white-space:nowrap" class="ft24187">created&#160;by the TSS. This object&#160;is used by the TC-platform&#160;when it makes the&#160;<br/>DAA signature.</p>
<p style="position:absolute;top:247px;left:110px;white-space:nowrap" class="ft24194">●</p>
<p style="position:absolute;top:244px;left:137px;white-space:nowrap" class="ft241120"><b>hDAACredential</b></p>
<p style="position:absolute;top:244px;left:277px;white-space:nowrap" class="ft24184">&#160;is the handler&#160;to the object&#160;that contains&#160;the DAA credentials.</p>
<p style="position:absolute;top:276px;left:110px;white-space:nowrap" class="ft24194">●</p>
<p style="position:absolute;top:273px;left:137px;white-space:nowrap" class="ft241120"><b>hIssuerKey</b></p>
<p style="position:absolute;top:273px;left:237px;white-space:nowrap" class="ft24184">&#160;is the handler&#160;to the object&#160;that contains&#160;the information&#160;about the&#160;</p>
<p style="position:absolute;top:292px;left:137px;white-space:nowrap" class="ft24187">issuer needed by the verifier to verify the DAA&#160;signature. This information&#160;is&#160;<br/>used by the verifier.</p>
<p style="position:absolute;top:343px;left:110px;white-space:nowrap" class="ft24194">●</p>
<p style="position:absolute;top:340px;left:137px;white-space:nowrap" class="ft241120"><b>hARAKey</b></p>
<p style="position:absolute;top:340px;left:207px;white-space:nowrap" class="ft24184">&#160;is the handler to&#160;the revocation&#160;authority&#160;object.&#160;At the moment it is&#160;</p>
<p style="position:absolute;top:359px;left:137px;white-space:nowrap" class="ft24184">not&#160;used and should be set to&#160;NULL.</p>
<p style="position:absolute;top:390px;left:110px;white-space:nowrap" class="ft24194">●</p>
<p style="position:absolute;top:387px;left:137px;white-space:nowrap" class="ft241120"><b>hARACondition</b></p>
<p style="position:absolute;top:387px;left:267px;white-space:nowrap" class="ft24184">&#160;is the handler&#160;to the object&#160;that describes the condition under&#160;</p>
<p style="position:absolute;top:407px;left:137px;white-space:nowrap" class="ft24187">which the revocation&#160;authority should reveal the identity&#160;of the platform.&#160;At the&#160;<br/>moment&#160;it is not used and should be set to&#160;NULL.</p>
<p style="position:absolute;top:457px;left:110px;white-space:nowrap" class="ft24194">●</p>
<p style="position:absolute;top:454px;left:137px;white-space:nowrap" class="ft241120"><b>signature&#160;</b></p>
<p style="position:absolute;top:454px;left:237px;white-space:nowrap" class="ft24184">contains&#160;the information&#160;related with the DAA signature. The&#160;</p>
<p style="position:absolute;top:474px;left:137px;white-space:nowrap" class="ft24184">signature is computed on the TC-platform&#160;and then is sent to&#160;the verifier.</p>
<p style="position:absolute;top:505px;left:110px;white-space:nowrap" class="ft24194">●</p>
<p style="position:absolute;top:502px;left:137px;white-space:nowrap" class="ft241120"><b>is_auth_valid</b></p>
<p style="position:absolute;top:502px;left:267px;white-space:nowrap" class="ft24184">&#160;is an integer value that&#160;is used on the verifier to specify if&#160;the&#160;</p>
<p style="position:absolute;top:522px;left:137px;white-space:nowrap" class="ft24184">authentication was&#160;verified or&#160;not. This field can assume&#160;the following values:</p>
<p style="position:absolute;top:559px;left:186px;white-space:nowrap" class="ft241121"><b>enum&#160;{<br/>&#160;&#160; Rogue&#160;(0),&#160;Unknown&#160;(1),&#160;DAA_signature_ok&#160;(2),<br/>&#160;&#160; Authenticated&#160;(3)<br/>}</b></p>
<p style="position:absolute;top:653px;left:137px;white-space:nowrap" class="ft24184">where&#160;</p>
<p style="position:absolute;top:653px;left:194px;white-space:nowrap" class="ft241120"><b>Rogue</b></p>
<p style="position:absolute;top:653px;left:243px;white-space:nowrap" class="ft24184">&#160;means&#160;that the verifier&#160;was not&#160;able to&#160;authenticate&#160;the platform;&#160;</p>
<p style="position:absolute;top:672px;left:137px;white-space:nowrap" class="ft24187">this could happen if the DAA signature is incorrect&#160;or&#160;if the verifier was&#160;not able&#160;<br/>to&#160;verify the hash that&#160;was signed by the platform;&#160;</p>
<p style="position:absolute;top:692px;left:564px;white-space:nowrap" class="ft241120"><b>Unknown</b></p>
<p style="position:absolute;top:692px;left:633px;white-space:nowrap" class="ft24184">&#160;is the default value&#160;</p>
<p style="position:absolute;top:711px;left:137px;white-space:nowrap" class="ft24184">that&#160;is used at&#160;the beginning of the TLS handshake;&#160;</p>
<p style="position:absolute;top:711px;left:571px;white-space:nowrap" class="ft241120"><b>DAA_signature_ok</b></p>
<p style="position:absolute;top:711px;left:730px;white-space:nowrap" class="ft24184">&#160;means&#160;</p>
<p style="position:absolute;top:730px;left:137px;white-space:nowrap" class="ft24187">that&#160;the verifier was&#160;able to&#160;verify the DAA signature, but&#160;the hash that&#160;was&#160;<br/>signed is not yet verified;&#160;</p>
<p style="position:absolute;top:749px;left:353px;white-space:nowrap" class="ft241120"><b>Authenticated</b></p>
<p style="position:absolute;top:749px;left:482px;white-space:nowrap" class="ft24184">&#160;is the last value that the field assume&#160;</p>
<p style="position:absolute;top:768px;left:137px;white-space:nowrap" class="ft24187">in the case&#160;the authentication&#160;was successful.&#160;This&#160;field is updated by the library&#160;<br/>and it should only be read by the verifier at&#160;the end of the handshake: reading&#160;<br/>this field before the handshake is completed returns an non-meaningful value.</p>
<p style="position:absolute;top:835px;left:83px;white-space:nowrap" class="ft24187">The library&#160;provides&#160;a set of functions that&#160;can&#160;be used to correctly&#160;write into and&#160;<br/>retrieve data from&#160;the&#160;</p>
<p style="position:absolute;top:854px;left:272px;white-space:nowrap" class="ft241120"><b>Daa_Auth&#160;</b></p>
<p style="position:absolute;top:854px;left:362px;white-space:nowrap" class="ft24184">structure.&#160;The functions&#160;allocates&#160;the necessary&#160;data&#160;</p>
<p style="position:absolute;top:873px;left:83px;white-space:nowrap" class="ft24188">memory;&#160;this memory&#160;must&#160;be deallocated when non needed anymore.<br/>These functions&#160;can be used by the TC-platform,&#160;by the verifier&#160;or by both the entities.</p>
<p style="position:absolute;top:948px;left:83px;white-space:nowrap" class="ft241104"><i><b>4.1&#160;&#160;&#160;Platform-only functions</b></i></p>
<p style="position:absolute;top:982px;left:110px;white-space:nowrap" class="ft24194">●</p>
<p style="position:absolute;top:979px;left:137px;white-space:nowrap" class="ft24184">A&#160;function to&#160;read the basename:</p>
<p style="position:absolute;top:1017px;left:158px;white-space:nowrap" class="ft241120"><b>int&#160;DAuth_Bname_get&#160;(Daa_Auth*&#160;daa,</b></p>
<p style="position:absolute;top:1017px;left:584px;white-space:nowrap" class="ft241120"><b>//&#160;in</b></p>
<p style="position:absolute;top:1036px;left:158px;white-space:nowrap" class="ft241120"><b>&#160; &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; char**&#160;bname,</b></p>
<p style="position:absolute;top:1036px;left:584px;white-space:nowrap" class="ft241120"><b>//&#160;out&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;</b></p>
<p style="position:absolute;top:1055px;left:158px;white-space:nowrap" class="ft241120"><b>&#160; &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; uint8*&#160;len</b></p>
<p style="position:absolute;top:1055px;left:584px;white-space:nowrap" class="ft241120"><b>//&#160;out</b></p>
<p style="position:absolute;top:1055px;left:743px;white-space:nowrap" class="ft241120"><b>&#160;</b></p>
<p style="position:absolute;top:1074px;left:318px;white-space:nowrap" class="ft241120"><b>&#160;&#160; &#160;);</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft24191">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft24191">18/39</p>
</div>
<!-- Page 242 -->
<a name="242"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page242-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2242.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft24290">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft24280">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft24291">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft24291">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:137px;white-space:nowrap" class="ft24284">where&#160;</p>
<p style="position:absolute;top:149px;left:194px;white-space:nowrap" class="ft242120"><b>daa</b></p>
<p style="position:absolute;top:149px;left:224px;white-space:nowrap" class="ft24284">&#160;is a pointer&#160;to the&#160;</p>
<p style="position:absolute;top:149px;left:381px;white-space:nowrap" class="ft242120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:149px;left:461px;white-space:nowrap" class="ft24284">&#160;structure&#160;and&#160;</p>
<p style="position:absolute;top:149px;left:583px;white-space:nowrap" class="ft242120"><b>bname</b></p>
<p style="position:absolute;top:149px;left:632px;white-space:nowrap" class="ft24284">&#160;and&#160;</p>
<p style="position:absolute;top:149px;left:674px;white-space:nowrap" class="ft242120"><b>len</b></p>
<p style="position:absolute;top:149px;left:704px;white-space:nowrap" class="ft24284">&#160;represent a&#160;</p>
<p style="position:absolute;top:168px;left:137px;white-space:nowrap" class="ft24287">buffer that&#160;will contain the basename and its length respectively. The function&#160;<br/>fills the buffer&#160;and the length variables and returns 1 if the operation&#160;is&#160;<br/>successful,&#160;and 0 otherwise.</p>
<p style="position:absolute;top:238px;left:110px;white-space:nowrap" class="ft24294">●</p>
<p style="position:absolute;top:235px;left:137px;white-space:nowrap" class="ft24284">A&#160;function to&#160;read the nonce:</p>
<p style="position:absolute;top:272px;left:159px;white-space:nowrap" class="ft242120"><b>int&#160;DAuth_Nonce_get&#160;(Daa_Auth*&#160;daa,</b></p>
<p style="position:absolute;top:272px;left:637px;white-space:nowrap" class="ft242120"><b>//&#160;in</b></p>
<p style="position:absolute;top:292px;left:159px;white-space:nowrap" class="ft242120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;unsigned&#160;char**&#160;nonce,</b></p>
<p style="position:absolute;top:292px;left:637px;white-space:nowrap" class="ft242120"><b>//&#160;out</b></p>
<p style="position:absolute;top:311px;left:159px;white-space:nowrap" class="ft242120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;uint8*&#160;len</b></p>
<p style="position:absolute;top:311px;left:637px;white-space:nowrap" class="ft242120"><b>//&#160;out</b></p>
<p style="position:absolute;top:330px;left:159px;white-space:nowrap" class="ft242120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;);</b></p>
<p style="position:absolute;top:367px;left:137px;white-space:nowrap" class="ft24284">where&#160;</p>
<p style="position:absolute;top:367px;left:194px;white-space:nowrap" class="ft242120"><b>daa</b></p>
<p style="position:absolute;top:367px;left:224px;white-space:nowrap" class="ft24284">&#160;is a pointer&#160;to the&#160;</p>
<p style="position:absolute;top:367px;left:381px;white-space:nowrap" class="ft242120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:367px;left:461px;white-space:nowrap" class="ft24284">&#160;structure&#160;and&#160;</p>
<p style="position:absolute;top:367px;left:583px;white-space:nowrap" class="ft242120"><b>nonce</b></p>
<p style="position:absolute;top:367px;left:632px;white-space:nowrap" class="ft24284">&#160;and&#160;</p>
<p style="position:absolute;top:367px;left:674px;white-space:nowrap" class="ft242120"><b>len</b></p>
<p style="position:absolute;top:367px;left:704px;white-space:nowrap" class="ft24284">&#160;represent a&#160;</p>
<p style="position:absolute;top:386px;left:137px;white-space:nowrap" class="ft24287">buffer that&#160;will contain the nonce&#160;and its&#160;length respectively. A fresh nonce is&#160;<br/>automatically created&#160;by the library&#160;when the relative hello&#160;extension is sent to&#160;<br/>the TC-platform.&#160;The function fills the buffer&#160;and the length variables and&#160;<br/>returns 1 if the operation&#160;is successful, and 0 otherwise. This&#160;function is not&#160;<br/>necessary&#160;because the Nonce&#160;is automatically&#160;used by the library&#160;and not&#160;<br/>meaningful for the applications,&#160;but&#160;it is provided in case&#160;the application wants&#160;<br/>to&#160;use the nonce for any&#160;other purpose.</p>
<p style="position:absolute;top:533px;left:110px;white-space:nowrap" class="ft24294">●</p>
<p style="position:absolute;top:530px;left:137px;white-space:nowrap" class="ft24284">A&#160;function to&#160;set the hash&#160;to sign:</p>
<p style="position:absolute;top:567px;left:159px;white-space:nowrap" class="ft242120"><b>int&#160;DAuth_SignedHash_set&#160;(Daa_Auth*&#160;daa,</b></p>
<p style="position:absolute;top:567px;left:637px;white-space:nowrap" class="ft242120"><b>//&#160;in</b></p>
<p style="position:absolute;top:586px;left:159px;white-space:nowrap" class="ft242120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;unsigned&#160;char*&#160;data</b></p>
<p style="position:absolute;top:586px;left:637px;white-space:nowrap" class="ft242120"><b>//&#160;in</b></p>
<p style="position:absolute;top:606px;left:159px;white-space:nowrap" class="ft242120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;uint8&#160;len</b></p>
<p style="position:absolute;top:606px;left:637px;white-space:nowrap" class="ft242120"><b>//&#160;in</b></p>
<p style="position:absolute;top:625px;left:159px;white-space:nowrap" class="ft242120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;);</b></p>
<p style="position:absolute;top:662px;left:137px;white-space:nowrap" class="ft24284">where&#160;</p>
<p style="position:absolute;top:662px;left:194px;white-space:nowrap" class="ft242120"><b>daa</b></p>
<p style="position:absolute;top:662px;left:224px;white-space:nowrap" class="ft24284">&#160;is a pointer&#160;to the&#160;</p>
<p style="position:absolute;top:662px;left:381px;white-space:nowrap" class="ft242120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:662px;left:461px;white-space:nowrap" class="ft24284">&#160;structure&#160;and&#160;</p>
<p style="position:absolute;top:662px;left:583px;white-space:nowrap" class="ft242120"><b>data</b></p>
<p style="position:absolute;top:662px;left:623px;white-space:nowrap" class="ft24284">&#160;and&#160;</p>
<p style="position:absolute;top:662px;left:664px;white-space:nowrap" class="ft242120"><b>len</b></p>
<p style="position:absolute;top:662px;left:694px;white-space:nowrap" class="ft24284">&#160;represent a&#160;</p>
<p style="position:absolute;top:681px;left:137px;white-space:nowrap" class="ft24287">buffer that&#160;contains&#160;the data&#160;to&#160;sign and its length respectively. This function&#160;is&#160;<br/>only called by the TC-platform&#160;before the handshake begins and sets in the&#160;<br/>s</p>
<p style="position:absolute;top:719px;left:146px;white-space:nowrap" class="ft242120"><b>igned_hash</b></p>
<p style="position:absolute;top:719px;left:245px;white-space:nowrap" class="ft24284">&#160;field in the&#160;</p>
<p style="position:absolute;top:719px;left:344px;white-space:nowrap" class="ft242120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:719px;left:424px;white-space:nowrap" class="ft24284">&#160;structure.&#160;These data&#160;will be copied by the&#160;</p>
<p style="position:absolute;top:739px;left:137px;white-space:nowrap" class="ft24287">library&#160;in the Verifier's&#160;structure&#160;during the handshake. The verifier can&#160;use the&#160;<br/>data&#160;after the handshake finishes. The function returns&#160;1 if the operation&#160;is&#160;<br/>successful,&#160;and 0 otherwise.</p>
<p style="position:absolute;top:808px;left:110px;white-space:nowrap" class="ft24294">●</p>
<p style="position:absolute;top:805px;left:137px;white-space:nowrap" class="ft24284">&#160;A&#160;function to&#160;set the additional data&#160;to sign:</p>
<p style="position:absolute;top:843px;left:159px;white-space:nowrap" class="ft242120"><b>int&#160;DAuth_SignedData_set&#160;(Daa_Auth*&#160;daa,</b></p>
<p style="position:absolute;top:843px;left:637px;white-space:nowrap" class="ft242120"><b>//&#160;in</b></p>
<p style="position:absolute;top:862px;left:159px;white-space:nowrap" class="ft242120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;unsigned&#160;char*&#160;data,</b></p>
<p style="position:absolute;top:862px;left:637px;white-space:nowrap" class="ft242120"><b>//&#160;in</b></p>
<p style="position:absolute;top:881px;left:159px;white-space:nowrap" class="ft242120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;uint8&#160;len</b></p>
<p style="position:absolute;top:881px;left:637px;white-space:nowrap" class="ft242120"><b>//&#160;in</b></p>
<p style="position:absolute;top:900px;left:159px;white-space:nowrap" class="ft242120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;);</b></p>
<p style="position:absolute;top:940px;left:110px;white-space:nowrap" class="ft24294">●</p>
<p style="position:absolute;top:937px;left:137px;white-space:nowrap" class="ft24284">where&#160;</p>
<p style="position:absolute;top:937px;left:194px;white-space:nowrap" class="ft242120"><b>daa</b></p>
<p style="position:absolute;top:937px;left:224px;white-space:nowrap" class="ft24284">&#160;is a pointer&#160;to the&#160;</p>
<p style="position:absolute;top:937px;left:381px;white-space:nowrap" class="ft242120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:937px;left:461px;white-space:nowrap" class="ft24284">&#160;structure&#160;and&#160;</p>
<p style="position:absolute;top:937px;left:583px;white-space:nowrap" class="ft242120"><b>data</b></p>
<p style="position:absolute;top:937px;left:623px;white-space:nowrap" class="ft24284">&#160;and&#160;</p>
<p style="position:absolute;top:937px;left:664px;white-space:nowrap" class="ft242120"><b>len</b></p>
<p style="position:absolute;top:937px;left:694px;white-space:nowrap" class="ft24284">&#160;represent a&#160;</p>
<p style="position:absolute;top:957px;left:137px;white-space:nowrap" class="ft24287">buffer that&#160;contains&#160;the data&#160;to&#160;sign and its length respectively. This function&#160;is&#160;<br/>only called by the TC-platform&#160;before the handshake begins and sets in the&#160;</p>
<p style="position:absolute;top:995px;left:137px;white-space:nowrap" class="ft242120"><b>signed_additional_data</b></p>
<p style="position:absolute;top:995px;left:356px;white-space:nowrap" class="ft24284">&#160;field in the&#160;</p>
<p style="position:absolute;top:995px;left:455px;white-space:nowrap" class="ft242120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:995px;left:534px;white-space:nowrap" class="ft24284">&#160;structure.&#160;The platform&#160;should&#160;</p>
<p style="position:absolute;top:1014px;left:137px;white-space:nowrap" class="ft24287">call this function&#160;only&#160;if it wants to&#160;sign additional data&#160;more than the certificate&#160;<br/>used for the client authentication.&#160;These data will be copied by the library&#160;in the&#160;<br/>Verifier's&#160;structure&#160;during the handshake. The verifier can&#160;use the data&#160;after the&#160;<br/>handshake finishes.&#160;The function&#160;returns 1 if the operation is successful,&#160;and 0&#160;<br/>otherwise.</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft24291">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft24291">19/39</p>
</div>
<!-- Page 243 -->
<a name="243"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page243-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2243.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft24390">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft24380">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft24391">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft24391">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:83px;white-space:nowrap" class="ft243104"><i><b>4.2&#160;&#160;&#160;Verifier-only&#160;functions</b></i></p>
<p style="position:absolute;top:184px;left:110px;white-space:nowrap" class="ft24394">●</p>
<p style="position:absolute;top:181px;left:137px;white-space:nowrap" class="ft24384">A&#160;function to&#160;set the basename:</p>
<p style="position:absolute;top:218px;left:159px;white-space:nowrap" class="ft243120"><b>int&#160;DAuth_Bname_set&#160;(Daa_Auth*&#160;daa,</b></p>
<p style="position:absolute;top:218px;left:637px;white-space:nowrap" class="ft243120"><b>//&#160;in</b></p>
<p style="position:absolute;top:237px;left:159px;white-space:nowrap" class="ft243120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;unsigned&#160;char*&#160;bname,</b></p>
<p style="position:absolute;top:237px;left:637px;white-space:nowrap" class="ft243120"><b>//&#160;in</b></p>
<p style="position:absolute;top:257px;left:159px;white-space:nowrap" class="ft243120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;uint8&#160;len</b></p>
<p style="position:absolute;top:257px;left:637px;white-space:nowrap" class="ft243120"><b>//&#160;in</b></p>
<p style="position:absolute;top:276px;left:159px;white-space:nowrap" class="ft243120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;);</b></p>
<p style="position:absolute;top:313px;left:137px;white-space:nowrap" class="ft24384">where&#160;</p>
<p style="position:absolute;top:313px;left:194px;white-space:nowrap" class="ft243120"><b>daa</b></p>
<p style="position:absolute;top:313px;left:224px;white-space:nowrap" class="ft24384">&#160;is a pointer&#160;to the&#160;</p>
<p style="position:absolute;top:313px;left:381px;white-space:nowrap" class="ft243120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:313px;left:461px;white-space:nowrap" class="ft24384">&#160;structure&#160;and&#160;</p>
<p style="position:absolute;top:313px;left:583px;white-space:nowrap" class="ft243120"><b>bname</b></p>
<p style="position:absolute;top:313px;left:632px;white-space:nowrap" class="ft24384">&#160;and&#160;</p>
<p style="position:absolute;top:313px;left:674px;white-space:nowrap" class="ft243120"><b>len</b></p>
<p style="position:absolute;top:313px;left:704px;white-space:nowrap" class="ft24384">&#160;represent a&#160;</p>
<p style="position:absolute;top:332px;left:137px;white-space:nowrap" class="ft24387">buffer that&#160;contains&#160;the basename and its&#160;length respectively. This&#160;function&#160;<br/>should be used only by the Verifier before&#160;the DAA authentication starts.&#160;If the&#160;<br/>peers&#160;agreed to use pseudonymity,&#160;</p>
<p style="position:absolute;top:370px;left:437px;white-space:nowrap" class="ft243120"><b>bname</b></p>
<p style="position:absolute;top:370px;left:486px;white-space:nowrap" class="ft24384">&#160;must&#160;be&#160;</p>
<p style="position:absolute;top:370px;left:564px;white-space:nowrap" class="ft243120"><b>NULL</b></p>
<p style="position:absolute;top:370px;left:604px;white-space:nowrap" class="ft24384">&#160;and len must&#160;be 0; in&#160;</p>
<p style="position:absolute;top:390px;left:137px;white-space:nowrap" class="ft24387">this case,&#160;the TC-platform&#160;will generate&#160;a fresh random&#160;basename for each&#160;<br/>anonymous&#160;authentication&#160;and will return such basename to&#160;the Verifier;&#160;finally,&#160;<br/>at&#160;the end of the TLS&#160;handshake, the library&#160;will copy the random&#160;basename in&#160;<br/>the structure.&#160;The function returns 1 if&#160;the operation is successful,&#160;and 0&#160;<br/>otherwise.</p>
<p style="position:absolute;top:498px;left:110px;white-space:nowrap" class="ft24394">●</p>
<p style="position:absolute;top:495px;left:137px;white-space:nowrap" class="ft24384">A&#160;function to&#160;read the additional data&#160;signed:</p>
<p style="position:absolute;top:532px;left:159px;white-space:nowrap" class="ft243120"><b>int&#160;DAuth_SignedData_get&#160;(Daa_Auth*&#160;daa,</b></p>
<p style="position:absolute;top:532px;left:637px;white-space:nowrap" class="ft243120"><b>//&#160;in</b></p>
<p style="position:absolute;top:551px;left:159px;white-space:nowrap" class="ft243121"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;unsigned&#160;char**&#160;data,&#160;//&#160;out<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;uint8*&#160;len</b></p>
<p style="position:absolute;top:571px;left:637px;white-space:nowrap" class="ft243120"><b>//&#160;out</b></p>
<p style="position:absolute;top:590px;left:159px;white-space:nowrap" class="ft243120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;);</b></p>
<p style="position:absolute;top:627px;left:137px;white-space:nowrap" class="ft24384">where&#160;</p>
<p style="position:absolute;top:627px;left:194px;white-space:nowrap" class="ft243120"><b>daa</b></p>
<p style="position:absolute;top:627px;left:224px;white-space:nowrap" class="ft24384">&#160;is a pointer&#160;to the&#160;</p>
<p style="position:absolute;top:627px;left:381px;white-space:nowrap" class="ft243120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:627px;left:461px;white-space:nowrap" class="ft24384">&#160;structure&#160;and&#160;</p>
<p style="position:absolute;top:627px;left:583px;white-space:nowrap" class="ft243120"><b>data</b></p>
<p style="position:absolute;top:627px;left:623px;white-space:nowrap" class="ft24384">&#160;and&#160;</p>
<p style="position:absolute;top:627px;left:664px;white-space:nowrap" class="ft243120"><b>len</b></p>
<p style="position:absolute;top:627px;left:694px;white-space:nowrap" class="ft24384">&#160;represent a&#160;</p>
<p style="position:absolute;top:646px;left:137px;white-space:nowrap" class="ft24387">buffer that&#160;will contain the additional data&#160;signed and its length respectively.&#160;<br/>This function&#160;is only called by the Verifier after&#160;the handshake finishes.&#160;The&#160;<br/>function fills&#160;the buffer and the length variables&#160;and returns 1 if the operation is&#160;<br/>successful,&#160;and 0 otherwise.</p>
<p style="position:absolute;top:735px;left:110px;white-space:nowrap" class="ft24394">●</p>
<p style="position:absolute;top:732px;left:137px;white-space:nowrap" class="ft24384">A&#160;function to&#160;read the hash&#160;signed:</p>
<p style="position:absolute;top:769px;left:159px;white-space:nowrap" class="ft243120"><b>int&#160;DAuth_SignedHash_get&#160;(Daa_Auth*&#160;daa,</b></p>
<p style="position:absolute;top:769px;left:637px;white-space:nowrap" class="ft243120"><b>//&#160;in</b></p>
<p style="position:absolute;top:788px;left:159px;white-space:nowrap" class="ft243121"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;unsigned&#160;char**&#160;data,&#160;//&#160;out<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;uint8*&#160;len</b></p>
<p style="position:absolute;top:808px;left:637px;white-space:nowrap" class="ft243120"><b>//&#160;out</b></p>
<p style="position:absolute;top:827px;left:159px;white-space:nowrap" class="ft243120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;);</b></p>
<p style="position:absolute;top:864px;left:137px;white-space:nowrap" class="ft24384">where&#160;</p>
<p style="position:absolute;top:864px;left:194px;white-space:nowrap" class="ft243120"><b>daa</b></p>
<p style="position:absolute;top:864px;left:224px;white-space:nowrap" class="ft24384">&#160;is a pointer&#160;to the&#160;</p>
<p style="position:absolute;top:864px;left:381px;white-space:nowrap" class="ft243120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:864px;left:461px;white-space:nowrap" class="ft24384">&#160;structure&#160;and&#160;</p>
<p style="position:absolute;top:864px;left:583px;white-space:nowrap" class="ft243120"><b>data</b></p>
<p style="position:absolute;top:864px;left:623px;white-space:nowrap" class="ft24384">&#160;and&#160;</p>
<p style="position:absolute;top:864px;left:664px;white-space:nowrap" class="ft243120"><b>len</b></p>
<p style="position:absolute;top:864px;left:694px;white-space:nowrap" class="ft24384">&#160;represent a&#160;</p>
<p style="position:absolute;top:883px;left:137px;white-space:nowrap" class="ft24387">buffer that&#160;will contain the signed hash and its length respectively. This function&#160;<br/>is only called by the Verifier after the handshake finishes. The function fills the&#160;<br/>buffer and the length variables&#160;and returns 1 if the operation is successful,&#160;and&#160;<br/>0 otherwise.</p>
<p style="position:absolute;top:972px;left:110px;white-space:nowrap" class="ft24394">●</p>
<p style="position:absolute;top:969px;left:137px;white-space:nowrap" class="ft24384">A&#160;function to&#160;read the DAA&#160;signature made by the TC-platform:</p>
<p style="position:absolute;top:1006px;left:159px;white-space:nowrap" class="ft243120"><b>int&#160;DAuth_Signature_get&#160;(Daa_Auth*&#160;daa,</b></p>
<p style="position:absolute;top:1006px;left:637px;white-space:nowrap" class="ft243120"><b>//&#160;in</b></p>
<p style="position:absolute;top:1026px;left:159px;white-space:nowrap" class="ft243120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;unsigned&#160;char**&#160;data,</b></p>
<p style="position:absolute;top:1026px;left:637px;white-space:nowrap" class="ft243120"><b>//&#160;out</b></p>
<p style="position:absolute;top:1045px;left:159px;white-space:nowrap" class="ft243120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;uint8*&#160;len</b></p>
<p style="position:absolute;top:1045px;left:637px;white-space:nowrap" class="ft243120"><b>//&#160;out</b></p>
<p style="position:absolute;top:1064px;left:159px;white-space:nowrap" class="ft243120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;);</b></p>
<p style="position:absolute;top:1101px;left:137px;white-space:nowrap" class="ft24384">where&#160;</p>
<p style="position:absolute;top:1101px;left:194px;white-space:nowrap" class="ft243120"><b>daa</b></p>
<p style="position:absolute;top:1101px;left:224px;white-space:nowrap" class="ft24384">&#160;is a pointer&#160;to the&#160;</p>
<p style="position:absolute;top:1101px;left:381px;white-space:nowrap" class="ft243120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:1101px;left:461px;white-space:nowrap" class="ft24384">&#160;structure&#160;and&#160;</p>
<p style="position:absolute;top:1101px;left:583px;white-space:nowrap" class="ft243120"><b>data</b></p>
<p style="position:absolute;top:1101px;left:623px;white-space:nowrap" class="ft24384">&#160;and&#160;</p>
<p style="position:absolute;top:1101px;left:664px;white-space:nowrap" class="ft243120"><b>len</b></p>
<p style="position:absolute;top:1101px;left:694px;white-space:nowrap" class="ft24384">&#160;represent a&#160;</p>
<p style="position:absolute;top:1120px;left:137px;white-space:nowrap" class="ft24384">buffer that&#160;will contain the signature and its length respectively. This function is&#160;</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft24391">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft24391">20/39</p>
</div>
<!-- Page 244 -->
<a name="244"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page244-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2244.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft24490">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft24480">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft24491">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft24491">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:137px;white-space:nowrap" class="ft24487">only called by the Verifier after the handshake finishes. The function fills the&#160;<br/>buffer and the length variables&#160;and returns 1 if the operation is successful,&#160;and&#160;<br/>0 otherwise.</p>
<p style="position:absolute;top:219px;left:110px;white-space:nowrap" class="ft24494">●</p>
<p style="position:absolute;top:216px;left:137px;white-space:nowrap" class="ft24484">A&#160;function to&#160;verify the authentication:</p>
<p style="position:absolute;top:253px;left:159px;white-space:nowrap" class="ft244120"><b>int&#160;DAuth_verify_authentication&#160;(Daa_Auth*&#160;daa</b></p>
<p style="position:absolute;top:253px;left:690px;white-space:nowrap" class="ft244120"><b>//&#160;in</b></p>
<p style="position:absolute;top:272px;left:159px;white-space:nowrap" class="ft244120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;X509&#160;* x509cert</b></p>
<p style="position:absolute;top:272px;left:690px;white-space:nowrap" class="ft244120"><b>//&#160;in</b></p>
<p style="position:absolute;top:292px;left:159px;white-space:nowrap" class="ft244120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;);</b></p>
<p style="position:absolute;top:329px;left:137px;white-space:nowrap" class="ft24484">where&#160;</p>
<p style="position:absolute;top:329px;left:194px;white-space:nowrap" class="ft244120"><b>daa</b></p>
<p style="position:absolute;top:329px;left:224px;white-space:nowrap" class="ft24484">&#160;is a pointer&#160;to the&#160;</p>
<p style="position:absolute;top:329px;left:381px;white-space:nowrap" class="ft244120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:329px;left:461px;white-space:nowrap" class="ft24484">&#160;structure&#160;used in the handshake and&#160;</p>
<p style="position:absolute;top:348px;left:137px;white-space:nowrap" class="ft244120"><b>x509cert</b></p>
<p style="position:absolute;top:348px;left:217px;white-space:nowrap" class="ft24484">&#160;is a&#160;pointer to&#160;the certificate&#160;used by the TC-platform&#160;during the&#160;</p>
<p style="position:absolute;top:367px;left:137px;white-space:nowrap" class="ft24487">authentication. This function&#160;concatenates&#160;the TLS certificate and the additional&#160;<br/>signed data,&#160;computes&#160;the hash&#160;of this&#160;concatenated&#160;data,&#160;compares&#160;it to the&#160;<br/>hash&#160;signed by the platform&#160;and eventually updates the field is_auth_OK of the&#160;<br/>Daa&#160;structure&#160;and returns&#160;1 if it was&#160;successful or&#160;0 if any error&#160;happened.</p>
<p style="position:absolute;top:456px;left:110px;white-space:nowrap" class="ft24494">●</p>
<p style="position:absolute;top:453px;left:137px;white-space:nowrap" class="ft24484">A&#160;function to&#160;check the state&#160;of the authentication:</p>
<p style="position:absolute;top:490px;left:159px;white-space:nowrap" class="ft244120"><b>int&#160;DAuth_authentication_state&#160;(Daa_Auth*&#160;daa</b></p>
<p style="position:absolute;top:490px;left:637px;white-space:nowrap" class="ft244120"><b>//&#160;in</b></p>
<p style="position:absolute;top:510px;left:159px;white-space:nowrap" class="ft244120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; );</b></p>
<p style="position:absolute;top:547px;left:137px;white-space:nowrap" class="ft24484">where&#160;</p>
<p style="position:absolute;top:547px;left:194px;white-space:nowrap" class="ft244120"><b>daa</b></p>
<p style="position:absolute;top:547px;left:224px;white-space:nowrap" class="ft24484">&#160;is a pointer&#160;to the&#160;</p>
<p style="position:absolute;top:547px;left:381px;white-space:nowrap" class="ft244120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:547px;left:461px;white-space:nowrap" class="ft24484">&#160;structure&#160;used in the handshake. This&#160;</p>
<p style="position:absolute;top:566px;left:137px;white-space:nowrap" class="ft24487">function returns the current status&#160;of the authentication&#160;verification process.&#160;In&#160;<br/>particular,&#160;if&#160;used after the handshake is finished, it tells&#160;if the verifier&#160;<br/>authenticated the platform&#160;or&#160;not.</p>
<p style="position:absolute;top:635px;left:110px;white-space:nowrap" class="ft24494">●</p>
<p style="position:absolute;top:632px;left:137px;white-space:nowrap" class="ft24484">A&#160;function to&#160;store a&#160;DAA signature:</p>
<p style="position:absolute;top:670px;left:159px;white-space:nowrap" class="ft244120"><b>int&#160;DAuth_Signature_store&#160;(Daa_Auth*&#160;daa</b></p>
<p style="position:absolute;top:670px;left:637px;white-space:nowrap" class="ft244120"><b>//&#160;in</b></p>
<p style="position:absolute;top:689px;left:159px;white-space:nowrap" class="ft244120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;);</b></p>
<p style="position:absolute;top:726px;left:137px;white-space:nowrap" class="ft24484">where&#160;</p>
<p style="position:absolute;top:726px;left:194px;white-space:nowrap" class="ft244120"><b>daa</b></p>
<p style="position:absolute;top:726px;left:224px;white-space:nowrap" class="ft24484">&#160;is a pointer&#160;to the&#160;</p>
<p style="position:absolute;top:726px;left:381px;white-space:nowrap" class="ft244120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:726px;left:461px;white-space:nowrap" class="ft24484">&#160;structure&#160;used in the handshake. This&#160;</p>
<p style="position:absolute;top:745px;left:137px;white-space:nowrap" class="ft24487">function is used when pseudonymity is in&#160;place to&#160;keep track&#160;of successive&#160;<br/>signatures made by the same&#160;platform;&#160;this function&#160;saves in the internal store&#160;<br/>of the library&#160;the DAA&#160;signature. This function is only&#160;called by the Verifier&#160;after&#160;<br/>the handshake finishes. The function returns&#160;1 if the operation&#160;is successful, and&#160;<br/>0 otherwise.</p>
<p style="position:absolute;top:853px;left:110px;white-space:nowrap" class="ft24494">●</p>
<p style="position:absolute;top:850px;left:137px;white-space:nowrap" class="ft24484">A&#160;function to&#160;store a&#160;DAA signature:</p>
<p style="position:absolute;top:888px;left:159px;white-space:nowrap" class="ft244120"><b>int&#160;DAuth_Signature_count&#160;(Daa_Auth*&#160;daa</b></p>
<p style="position:absolute;top:888px;left:637px;white-space:nowrap" class="ft244120"><b>//&#160;in</b></p>
<p style="position:absolute;top:907px;left:159px;white-space:nowrap" class="ft244120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;);</b></p>
<p style="position:absolute;top:944px;left:137px;white-space:nowrap" class="ft24484">where&#160;</p>
<p style="position:absolute;top:944px;left:194px;white-space:nowrap" class="ft244120"><b>daa</b></p>
<p style="position:absolute;top:944px;left:224px;white-space:nowrap" class="ft24484">&#160;is a pointer&#160;to the&#160;</p>
<p style="position:absolute;top:944px;left:381px;white-space:nowrap" class="ft244120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:944px;left:461px;white-space:nowrap" class="ft24484">&#160;structure&#160;used in the handshake This&#160;</p>
<p style="position:absolute;top:963px;left:137px;white-space:nowrap" class="ft24487">function is used when pseudonymity is in&#160;place to&#160;keep track&#160;of successive&#160;<br/>signatures made by the same&#160;platform;&#160;this function&#160;look in the internal store of&#160;<br/>the library&#160;for the other DAA signature made by the same&#160;platform.&#160;This function&#160;<br/>is only called by the Verifier after the handshake finishes. The function returns&#160;<br/>the number of the DAA signature found, 0 if no previous&#160;signature were found&#160;<br/>and -1 if the operation was&#160;not successful.</p>
<p style="position:absolute;top:1105px;left:83px;white-space:nowrap" class="ft244104"><i><b>4.3&#160;&#160;&#160;Functions&#160;used by both&#160;the platform and the verifier</b></i></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft24491">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft24491">21/39</p>
</div>
<!-- Page 245 -->
<a name="245"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page245-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2245.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft24590">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft24580">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft24591">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft24591">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:83px;white-space:nowrap" class="ft24584">Once the&#160;</p>
<p style="position:absolute;top:149px;left:164px;white-space:nowrap" class="ft245120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:149px;left:243px;white-space:nowrap" class="ft24584">&#160;object has&#160;been created, it contains&#160;all the information&#160;needed to&#160;</p>
<p style="position:absolute;top:168px;left:83px;white-space:nowrap" class="ft24587">start&#160;an anonymous&#160;authentication&#160;made usign the DAA and the TLS&#160;protocol.&#160;In order&#160;<br/>to&#160;setup all the hello&#160;extensions and supplemental data&#160;needed it is necessary&#160;to call&#160;<br/>the function:</p>
<p style="position:absolute;top:244px;left:105px;white-space:nowrap" class="ft245120"><b>DAuth_DAA_anonym_auth_new&#160;(SSL*&#160;ssl,</b></p>
<p style="position:absolute;top:244px;left:584px;white-space:nowrap" class="ft245120"><b>//&#160;in</b></p>
<p style="position:absolute;top:263px;left:105px;white-space:nowrap" class="ft245120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; Daa_Auth*&#160;daa</b></p>
<p style="position:absolute;top:263px;left:584px;white-space:nowrap" class="ft245120"><b>//&#160;in</b></p>
<p style="position:absolute;top:282px;left:105px;white-space:nowrap" class="ft245120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;);</b></p>
<p style="position:absolute;top:319px;left:83px;white-space:nowrap" class="ft24584">where&#160;</p>
<p style="position:absolute;top:319px;left:140px;white-space:nowrap" class="ft245120"><b>ssl</b></p>
<p style="position:absolute;top:319px;left:170px;white-space:nowrap" class="ft24584">&#160;is the SSL object created&#160;and used by OpenSSL and&#160;</p>
<p style="position:absolute;top:319px;left:608px;white-space:nowrap" class="ft245120"><b>daa</b></p>
<p style="position:absolute;top:319px;left:638px;white-space:nowrap" class="ft24584">&#160;is a&#160;pointer to&#160;the&#160;</p>
<p style="position:absolute;top:339px;left:83px;white-space:nowrap" class="ft245120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:339px;left:163px;white-space:nowrap" class="ft24584">&#160;structure&#160;that&#160;contains all the information&#160;needed. Note&#160;that&#160;the this&#160;</p>
<p style="position:absolute;top:358px;left:83px;white-space:nowrap" class="ft24584">function must be called after&#160;the&#160;</p>
<p style="position:absolute;top:358px;left:360px;white-space:nowrap" class="ft245120"><b>ssl</b></p>
<p style="position:absolute;top:358px;left:390px;white-space:nowrap" class="ft24584">&#160;object was&#160;created&#160;using:</p>
<p style="position:absolute;top:395px;left:105px;white-space:nowrap" class="ft245120"><b>ssl&#160;=&#160;SSL_new(...);</b></p>
<p style="position:absolute;top:432px;left:83px;white-space:nowrap" class="ft24584">After this function&#160;is called, the application&#160;does not need to&#160;call the&#160;</p>
<p style="position:absolute;top:432px;left:655px;white-space:nowrap" class="ft245120"><b>DaaAuthLib&#160;</b></p>
<p style="position:absolute;top:451px;left:83px;white-space:nowrap" class="ft24584">library&#160;again and the TLS channel can be created with the OpenSSL function</p>
<p style="position:absolute;top:488px;left:105px;white-space:nowrap" class="ft245120"><b>SSL_connect(ssl);</b></p>
<p style="position:absolute;top:525px;left:83px;white-space:nowrap" class="ft24584">where&#160;</p>
<p style="position:absolute;top:525px;left:140px;white-space:nowrap" class="ft245120"><b>ssl</b></p>
<p style="position:absolute;top:525px;left:170px;white-space:nowrap" class="ft24584">&#160;is the same&#160;object&#160;of type&#160;</p>
<p style="position:absolute;top:525px;left:395px;white-space:nowrap" class="ft245120"><b>SSL</b></p>
<p style="position:absolute;top:525px;left:425px;white-space:nowrap" class="ft24584">&#160;used in the creation&#160;of the &#160;</p>
<p style="position:absolute;top:525px;left:660px;white-space:nowrap" class="ft245120"><b>Daa_Auth</b></p>
<p style="position:absolute;top:525px;left:739px;white-space:nowrap" class="ft24584">&#160;object.</p>
<p style="position:absolute;top:553px;left:83px;white-space:nowrap" class="ft24584">A&#160;the end of the handshake, the library&#160;will fill the missing fields of&#160;</p>
<p style="position:absolute;top:553px;left:643px;white-space:nowrap" class="ft245120"><b>daa</b></p>
<p style="position:absolute;top:553px;left:672px;white-space:nowrap" class="ft24584">&#160;so&#160;that the&#160;</p>
<p style="position:absolute;top:573px;left:83px;white-space:nowrap" class="ft24584">anonymous&#160;authentication&#160;can&#160;be completed.</p>
<p style="position:absolute;top:619px;left:83px;white-space:nowrap" class="ft245104"><i><b>4.4&#160;&#160;&#160;Execution flow example</b></i></p>
<p style="position:absolute;top:655px;left:89px;white-space:nowrap" class="ft245120"><b>Client</b></p>
<p style="position:absolute;top:655px;left:450px;white-space:nowrap" class="ft245120"><b>Server</b></p>
<p style="position:absolute;top:682px;left:89px;white-space:nowrap" class="ft245120"><b>Setup</b></p>
<p style="position:absolute;top:704px;left:116px;white-space:nowrap" class="ft24594">●</p>
<p style="position:absolute;top:701px;left:143px;white-space:nowrap" class="ft24587">The application&#160;creates&#160;the TSS&#160;<br/>context&#160;objects&#160;(</p>
<p style="position:absolute;top:721px;left:282px;white-space:nowrap" class="ft245120"><b>hDAACredential</b></p>
<p style="position:absolute;top:721px;left:421px;white-space:nowrap" class="ft24584">,&#160;</p>
<p style="position:absolute;top:740px;left:143px;white-space:nowrap" class="ft245120"><b>hTPM</b></p>
<p style="position:absolute;top:740px;left:182px;white-space:nowrap" class="ft24584">,&#160;</p>
<p style="position:absolute;top:740px;left:193px;white-space:nowrap" class="ft245120"><b>signData</b></p>
<p style="position:absolute;top:740px;left:272px;white-space:nowrap" class="ft24584">,&#160;</p>
<p style="position:absolute;top:740px;left:283px;white-space:nowrap" class="ft245120"><b>hARAKey</b></p>
<p style="position:absolute;top:740px;left:353px;white-space:nowrap" class="ft24584">*,&#160;</p>
<p style="position:absolute;top:759px;left:143px;white-space:nowrap" class="ft245120"><b>hARACondition</b></p>
<p style="position:absolute;top:759px;left:272px;white-space:nowrap" class="ft24584">*)</p>
<p style="position:absolute;top:781px;left:116px;white-space:nowrap" class="ft24594">●</p>
<p style="position:absolute;top:778px;left:143px;white-space:nowrap" class="ft24587">The application&#160;creates&#160;the DAA&#160;<br/>context&#160;using the function&#160;</p>
<p style="position:absolute;top:817px;left:143px;white-space:nowrap" class="ft245120"><b>DAuth_new&#160;()</b></p>
<p style="position:absolute;top:817px;left:262px;white-space:nowrap" class="ft24584">&#160;and sets&#160;the&#160;</p>
<p style="position:absolute;top:836px;left:143px;white-space:nowrap" class="ft24587">additional sign data&#160;and the hash&#160;<br/>to&#160;sign with the functions&#160;</p>
<p style="position:absolute;top:875px;left:143px;white-space:nowrap" class="ft245120"><b>Dauth_SignedData_set</b></p>
<p style="position:absolute;top:875px;left:341px;white-space:nowrap" class="ft24584">&#160;and&#160;</p>
<p style="position:absolute;top:894px;left:143px;white-space:nowrap" class="ft245120"><b>Dauth_SignedHash_set</b></p>
<p style="position:absolute;top:916px;left:116px;white-space:nowrap" class="ft24594">●</p>
<p style="position:absolute;top:913px;left:143px;white-space:nowrap" class="ft24587">The TSS objects&#160;are connected&#160;with&#160;<br/>the DAA context</p>
<p style="position:absolute;top:955px;left:116px;white-space:nowrap" class="ft24594">●</p>
<p style="position:absolute;top:952px;left:143px;white-space:nowrap" class="ft245120"><b>Dauth_DAA_anonym_auth_new()</b></p>
<p style="position:absolute;top:952px;left:411px;white-space:nowrap" class="ft24584">&#160;is&#160;</p>
<p style="position:absolute;top:971px;left:143px;white-space:nowrap" class="ft24587">called to setup the anonymous&#160;<br/>authentication</p>
<p style="position:absolute;top:1013px;left:116px;white-space:nowrap" class="ft24594">●</p>
<p style="position:absolute;top:1010px;left:143px;white-space:nowrap" class="ft24587">The application&#160;creates&#160;the&#160;<br/>OpenSSL context</p>
<p style="position:absolute;top:1051px;left:116px;white-space:nowrap" class="ft24594">●</p>
<p style="position:absolute;top:1048px;left:143px;white-space:nowrap" class="ft24587">The application&#160;calls the OpenSSL&#160;<br/>function&#160;</p>
<p style="position:absolute;top:1068px;left:215px;white-space:nowrap" class="ft245120"><b>SSL_connect()</b></p>
<p style="position:absolute;top:1068px;left:345px;white-space:nowrap" class="ft24584">&#160;to&#160;setup&#160;</p>
<p style="position:absolute;top:1087px;left:143px;white-space:nowrap" class="ft24584">the channel</p>
<p style="position:absolute;top:682px;left:450px;white-space:nowrap" class="ft245120"><b>Setup</b></p>
<p style="position:absolute;top:704px;left:477px;white-space:nowrap" class="ft24594">●</p>
<p style="position:absolute;top:701px;left:504px;white-space:nowrap" class="ft24587">The application creates&#160;the TSS&#160;<br/>context objects&#160;(</p>
<p style="position:absolute;top:721px;left:643px;white-space:nowrap" class="ft245120"><b>hDAACredential</b></p>
<p style="position:absolute;top:721px;left:782px;white-space:nowrap" class="ft24584">,&#160;</p>
<p style="position:absolute;top:740px;left:504px;white-space:nowrap" class="ft245120"><b>hTPM</b></p>
<p style="position:absolute;top:740px;left:544px;white-space:nowrap" class="ft24584">,&#160;</p>
<p style="position:absolute;top:740px;left:554px;white-space:nowrap" class="ft245120"><b>signData</b></p>
<p style="position:absolute;top:740px;left:634px;white-space:nowrap" class="ft24584">,&#160;</p>
<p style="position:absolute;top:740px;left:644px;white-space:nowrap" class="ft245120"><b>hARAKey</b></p>
<p style="position:absolute;top:740px;left:714px;white-space:nowrap" class="ft24584">*,&#160;</p>
<p style="position:absolute;top:759px;left:504px;white-space:nowrap" class="ft245120"><b>hARACondition</b></p>
<p style="position:absolute;top:759px;left:633px;white-space:nowrap" class="ft24584">*)</p>
<p style="position:absolute;top:781px;left:477px;white-space:nowrap" class="ft24594">●</p>
<p style="position:absolute;top:778px;left:504px;white-space:nowrap" class="ft24587">The application creates&#160;the DAA&#160;<br/>context</p>
<p style="position:absolute;top:820px;left:477px;white-space:nowrap" class="ft24594">●</p>
<p style="position:absolute;top:817px;left:504px;white-space:nowrap" class="ft24587">Wanted basename&#160; is set up in the&#160;<br/>DAA context</p>
<p style="position:absolute;top:859px;left:477px;white-space:nowrap" class="ft24594">●</p>
<p style="position:absolute;top:856px;left:504px;white-space:nowrap" class="ft245120"><b>Dauth_DAA_anonym_auth_new()</b></p>
<p style="position:absolute;top:856px;left:772px;white-space:nowrap" class="ft24584">&#160;is&#160;</p>
<p style="position:absolute;top:875px;left:504px;white-space:nowrap" class="ft24587">called to&#160;setup the anonymous&#160;<br/>authentication</p>
<p style="position:absolute;top:917px;left:477px;white-space:nowrap" class="ft24594">●</p>
<p style="position:absolute;top:914px;left:504px;white-space:nowrap" class="ft24587">The application creates&#160;the&#160;<br/>OpenSSL&#160;context</p>
<p style="position:absolute;top:955px;left:477px;white-space:nowrap" class="ft24594">●</p>
<p style="position:absolute;top:952px;left:504px;white-space:nowrap" class="ft24587">The application calls&#160;the OpenSSL&#160;<br/>function&#160;</p>
<p style="position:absolute;top:972px;left:576px;white-space:nowrap" class="ft245120"><b>SSL_accept()</b></p>
<p style="position:absolute;top:972px;left:696px;white-space:nowrap" class="ft24584">&#160;to&#160;setup the&#160;</p>
<p style="position:absolute;top:991px;left:504px;white-space:nowrap" class="ft24584">channel</p>
<p style="position:absolute;top:1115px;left:89px;white-space:nowrap" class="ft245120"><b>Hello&#160;extension</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft24591">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft24591">22/39</p>
</div>
<!-- Page 246 -->
<a name="246"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft246122{font-size:14px;font-family:IAAAAA+ArialUnicodeMS;color:#000000;}
-->
</style>
<div id="page246-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2246.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft24690">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft24680">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft24691">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft24691">FINAL |&#160;1.10</p>
<p style="position:absolute;top:156px;left:116px;white-space:nowrap" class="ft24694">●</p>
<p style="position:absolute;top:153px;left:143px;white-space:nowrap" class="ft24684">The extension was&#160;created in the&#160;</p>
<p style="position:absolute;top:173px;left:143px;white-space:nowrap" class="ft246120"><b>setup</b></p>
<p style="position:absolute;top:173px;left:192px;white-space:nowrap" class="ft24684">&#160;phase&#160;by the&#160;</p>
<p style="position:absolute;top:192px;left:143px;white-space:nowrap" class="ft246120"><b>Dauth_DAA_anonym_auth_new()&#160;</b></p>
<p style="position:absolute;top:211px;left:143px;white-space:nowrap" class="ft24684">function.</p>
<p style="position:absolute;top:233px;left:116px;white-space:nowrap" class="ft24694">●</p>
<p style="position:absolute;top:231px;left:143px;white-space:nowrap" class="ft24687">In this step it is send automatically&#160;<br/>by OpenSSL</p>
<p style="position:absolute;top:277px;left:450px;white-space:nowrap" class="ft246120"><b>Preparing&#160;the&#160;hello&#160;extension</b></p>
<p style="position:absolute;top:300px;left:477px;white-space:nowrap" class="ft24694">●</p>
<p style="position:absolute;top:297px;left:504px;white-space:nowrap" class="ft24687">If the server receives&#160;the hello&#160;<br/>extension from&#160;the client, then the&#160;<br/>callback function prepared&#160;in the&#160;<br/>setup phase&#160;is called; this function&#160;<br/>will:</p>
<p style="position:absolute;top:394px;left:504px;white-space:nowrap" class="ft246122">○</p>
<p style="position:absolute;top:393px;left:531px;white-space:nowrap" class="ft24684">call the TSS function&#160;</p>
<p style="position:absolute;top:412px;left:531px;white-space:nowrap" class="ft246120"><b>Tspi_DAA_Verifier_Init()&#160;</b></p>
<p style="position:absolute;top:432px;left:531px;white-space:nowrap" class="ft24687">which return the basename and&#160;<br/>the nonce</p>
<p style="position:absolute;top:471px;left:504px;white-space:nowrap" class="ft246122">○</p>
<p style="position:absolute;top:470px;left:531px;white-space:nowrap" class="ft24687">create an&#160;extension to send&#160;<br/>back to&#160;the client&#160;within the&#160;<br/>server hello</p>
<p style="position:absolute;top:529px;left:504px;white-space:nowrap" class="ft246122">○</p>
<p style="position:absolute;top:528px;left:531px;white-space:nowrap" class="ft24687">register&#160;a callback function for&#160;<br/>the supplemental data</p>
<p style="position:absolute;top:575px;left:89px;white-space:nowrap" class="ft246121"><b>Handling&#160;hello&#160;extension&#160;from&#160;the&#160;<br/>server</b></p>
<p style="position:absolute;top:616px;left:116px;white-space:nowrap" class="ft24694">●</p>
<p style="position:absolute;top:613px;left:143px;white-space:nowrap" class="ft24687">if the client receives the extension&#160;<br/>in response from the server, then&#160;<br/>the callback is called; this&#160;function&#160;<br/>will:</p>
<p style="position:absolute;top:692px;left:143px;white-space:nowrap" class="ft246122">○</p>
<p style="position:absolute;top:691px;left:170px;white-space:nowrap" class="ft24687">retrieve nonce&#160;and basename&#160;<br/>from&#160;the extension</p>
<p style="position:absolute;top:730px;left:143px;white-space:nowrap" class="ft246122">○</p>
<p style="position:absolute;top:729px;left:170px;white-space:nowrap" class="ft24687">retrieve the hash to&#160;sign from&#160;<br/>the DAA context</p>
<p style="position:absolute;top:769px;left:143px;white-space:nowrap" class="ft246122">○</p>
<p style="position:absolute;top:768px;left:170px;white-space:nowrap" class="ft24684">call the TSS function&#160;</p>
<p style="position:absolute;top:787px;left:170px;white-space:nowrap" class="ft246120"><b>Tspi_TPM_DAA_Sign</b></p>
<p style="position:absolute;top:808px;left:143px;white-space:nowrap" class="ft246122">○</p>
<p style="position:absolute;top:807px;left:170px;white-space:nowrap" class="ft24687">prepare the supplemental&#160;data&#160;<br/>to&#160;send back</p>
<p style="position:absolute;top:854px;left:311px;white-space:nowrap" class="ft24684">Handshake continues as&#160;usual ...</p>
<p style="position:absolute;top:881px;left:450px;white-space:nowrap" class="ft246121"><b>Receiving&#160;the&#160;supplemental&#160;data&#160;<br/>from&#160;the&#160;client</b></p>
<p style="position:absolute;top:923px;left:477px;white-space:nowrap" class="ft24694">●</p>
<p style="position:absolute;top:920px;left:504px;white-space:nowrap" class="ft24687">if the supplemental data&#160;message&#160;is&#160;<br/>received, then the appropriate&#160;<br/>callback function is called; this&#160;<br/>function will:</p>
<p style="position:absolute;top:998px;left:504px;white-space:nowrap" class="ft246122">○</p>
<p style="position:absolute;top:997px;left:531px;white-space:nowrap" class="ft24687">verify the DAA signature;&#160;in&#160;<br/>order to&#160;to this, it must retrieve&#160;<br/>the signature and the hash&#160;<br/>signed from the supplemental&#160;<br/>data&#160;and the other parameters&#160;<br/>(nonce,&#160;basename, handlers,&#160;...)&#160;<br/>from the DAA context&#160;</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft24691">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft24691">23/39</p>
</div>
<!-- Page 247 -->
<a name="247"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page247-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2247.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft24790">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft24780">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft24791">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft24791">FINAL |&#160;1.10</p>
<p style="position:absolute;top:155px;left:504px;white-space:nowrap" class="ft247122">○</p>
<p style="position:absolute;top:153px;left:531px;white-space:nowrap" class="ft24784">Update the field&#160;</p>
<p style="position:absolute;top:153px;left:669px;white-space:nowrap" class="ft247120"><b>is_auth_valid&#160;</b></p>
<p style="position:absolute;top:173px;left:531px;white-space:nowrap" class="ft24784">in the DAA context</p>
<p style="position:absolute;top:200px;left:311px;white-space:nowrap" class="ft24784">Handshake continues as&#160;usual ...</p>
<p style="position:absolute;top:228px;left:450px;white-space:nowrap" class="ft247120"><b>Final&#160;check</b></p>
<p style="position:absolute;top:250px;left:477px;white-space:nowrap" class="ft24794">●</p>
<p style="position:absolute;top:247px;left:504px;white-space:nowrap" class="ft24787">the server&#160;application&#160;retrieves the&#160;<br/>certificate&#160;used by the client for&#160;the&#160;<br/>authentication,&#160;concatenates&#160;the&#160;<br/>additional signed data,&#160;if&#160;present,&#160;<br/>then</p>
<p style="position:absolute;top:345px;left:504px;white-space:nowrap" class="ft247122">○</p>
<p style="position:absolute;top:343px;left:531px;white-space:nowrap" class="ft24787">computes&#160;a hash of this&#160;<br/>composed&#160;data</p>
<p style="position:absolute;top:383px;left:504px;white-space:nowrap" class="ft247122">○</p>
<p style="position:absolute;top:382px;left:531px;white-space:nowrap" class="ft24787">verify if it is equal to&#160;the one&#160;<br/>signed by the client.</p>
<p style="position:absolute;top:422px;left:504px;white-space:nowrap" class="ft247122">○</p>
<p style="position:absolute;top:421px;left:531px;white-space:nowrap" class="ft24787">If this&#160;is the case,&#160;then client&#160;<br/>was&#160;successfully authenticates.</p>
<p style="position:absolute;top:463px;left:477px;white-space:nowrap" class="ft24794">●</p>
<p style="position:absolute;top:460px;left:504px;white-space:nowrap" class="ft24787">The computation&#160;is done using the&#160;<br/>function&#160;</p>
<p style="position:absolute;top:498px;left:504px;white-space:nowrap" class="ft247120"><b>Dauth_verify_authentication()</b></p>
<p style="position:absolute;top:498px;left:792px;white-space:nowrap" class="ft24784">,&#160;</p>
<p style="position:absolute;top:517px;left:504px;white-space:nowrap" class="ft24787">while the final check is done with&#160;<br/>the function&#160;</p>
<p style="position:absolute;top:556px;left:504px;white-space:nowrap" class="ft247120"><b>Dauth_authentication_state()</b></p>
<p style="position:absolute;top:556px;left:782px;white-space:nowrap" class="ft24784">.</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft24791">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft24791">24/39</p>
</div>
<!-- Page 248 -->
<a name="248"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft248123{font-size:17px;font-family:DAAAAA+BitstreamVeraSans;color:#0000ff;}
-->
</style>
<div id="page248-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2248.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft24890">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft24880">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft24891">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft24891">FINAL |&#160;1.10</p>
<p style="position:absolute;top:167px;left:83px;white-space:nowrap" class="ft248103"><b>5&#160;&#160;&#160;List&#160;of&#160;abbreviations</b></p>
<p style="position:absolute;top:200px;left:83px;white-space:nowrap" class="ft24887">Listing of term definitions and abbreviations&#160;used in this document&#160;(IT expressions and&#160;<br/>terms&#160;from the application&#160;domain).</p>
<p style="position:absolute;top:258px;left:93px;white-space:nowrap" class="ft24883"><b>Abbreviation</b></p>
<p style="position:absolute;top:258px;left:301px;white-space:nowrap" class="ft24883"><b>Explanation</b></p>
<p style="position:absolute;top:277px;left:93px;white-space:nowrap" class="ft24884">TCG</p>
<p style="position:absolute;top:277px;left:301px;white-space:nowrap" class="ft24884">Trusted Computing Group</p>
<p style="position:absolute;top:297px;left:93px;white-space:nowrap" class="ft24884">DAA</p>
<p style="position:absolute;top:297px;left:301px;white-space:nowrap" class="ft24884">Direct&#160;Anonymous Attestation</p>
<p style="position:absolute;top:316px;left:93px;white-space:nowrap" class="ft24884">TLS</p>
<p style="position:absolute;top:316px;left:301px;white-space:nowrap" class="ft24884">Transport&#160;Layer&#160;Security</p>
<p style="position:absolute;top:381px;left:83px;white-space:nowrap" class="ft248103"><b>6&#160;&#160;&#160;Referenced&#160;Documents</b></p>
<p style="position:absolute;top:415px;left:83px;white-space:nowrap" class="ft24884">/1/&#160;TCG&#160;Specification,&#160;Architecture&#160;Overview</p>
<p style="position:absolute;top:434px;left:83px;white-space:nowrap" class="ft248123">http://www.trustedcomputing.org</p>
<p style="position:absolute;top:453px;left:83px;white-space:nowrap" class="ft24887">April 28, 2004,&#160;<br/>Version 1.2&#160;</p>
<p style="position:absolute;top:511px;left:83px;white-space:nowrap" class="ft24887">/2/&#160;TCG&#160;Software&#160;Stack&#160;(TSS) Specification<br/>January&#160;6, 2006,&#160;<br/>Version 1.2</p>
<p style="position:absolute;top:587px;left:83px;white-space:nowrap" class="ft24884">/3/&#160;OpenSSL Toolkit<a href="http://www.openssl.org/">&#160;</a></p>
<p style="position:absolute;top:587px;left:251px;white-space:nowrap" class="ft248123"><a href="http://www.openssl.org/">www.openssl.org</a></p>
<p style="position:absolute;top:587px;left:250px;white-space:nowrap" class="ft248123"><a href="http://www.openssl.org/">&#160;&#160;</a></p>
<p style="position:absolute;top:587px;left:392px;white-space:nowrap" class="ft248123"><a href="http://www.openssl.org/">/&#160;&#160;</a></p>
<p style="position:absolute;top:626px;left:83px;white-space:nowrap" class="ft24884">/4/&#160;OpenTC&#160;D03c.3:&#160;SSL/TLS&#160;DAA-enhancement specification</p>
<p style="position:absolute;top:664px;left:83px;white-space:nowrap" class="ft24887">/5/&#160;RFC4366&#160;Transport&#160;Layer&#160;Security&#160;(TLS) Extensions<br/>April 2006</p>
<p style="position:absolute;top:722px;left:83px;white-space:nowrap" class="ft24887">/6/&#160;RFC4680&#160;TLS Handshake Message&#160;for Supplemental Data<br/>September 2006</p>
<p style="position:absolute;top:779px;left:83px;white-space:nowrap" class="ft24887">/7/&#160;Direct&#160;Anonymous&#160;Attestation<br/>Ernie Brickell, Jan&#160;Camenisch,&#160;Liqun Chen<br/>CCS '04: 11th ACM conference on Computer and Communications&#160;Security<br/>2004</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft24891">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft24891">25/39</p>
</div>
<!-- Page 249 -->
<a name="249"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page249-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2249.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft24990">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft24980">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft24991">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft24991">FINAL |&#160;1.10</p>
<p style="position:absolute;top:167px;left:83px;white-space:nowrap" class="ft249103"><b>Annex A&#160;(normative):&#160;API header&#160;files</b></p>
<p style="position:absolute;top:218px;left:83px;white-space:nowrap" class="ft249104"><i><b>A.1&#160;&#160;&#160;Low level enhancement</b></i></p>
<p style="position:absolute;top:250px;left:105px;white-space:nowrap" class="ft249121"><b>/*&#160;Functions&#160;used&#160;by&#160;the&#160;applications&#160;*/<br/>int&#160;SSL_SUPPL_DATA_prepare_set&#160;(SSL&#160;*ssl,&#160;void&#160;*callback_func,&#160;void&#160;<br/>*context_data);<br/>int&#160;SSL_SUPPL_DATA_cb_set&#160;(SSL&#160;*ssl,&#160;int&#160;type,&#160;void&#160;*callback_func,&#160;<br/>void&#160;*context_data);<br/>int&#160;SSL_SUPPL_DATA_push&#160;(SSL&#160;*ssl,&#160;int&#160;type,&#160;int&#160;size,&#160;unsigned&#160;char&#160;<br/>*data);</b></p>
<p style="position:absolute;top:404px;left:105px;white-space:nowrap" class="ft249121"><b>/*&#160;Structures&#160;*/<br/>typedef&#160;struct&#160;tlsext_generic_list_st&#160;TLSEXT_GENERIC_STACK;<br/>typedef&#160;struct&#160;tlsext_generic_st&#160;TLSEXT_GENERIC;</b></p>
<p style="position:absolute;top:481px;left:105px;white-space:nowrap" class="ft249120"><b>struct&#160;tlsext_generic_st&#160;{</b></p>
<p style="position:absolute;top:500px;left:158px;white-space:nowrap" class="ft249120"><b>int&#160;tlsext_type;</b></p>
<p style="position:absolute;top:500px;left:477px;white-space:nowrap" class="ft249120"><b>/*&#160;Type&#160;of&#160;the&#160;extension&#160;*/</b></p>
<p style="position:absolute;top:519px;left:158px;white-space:nowrap" class="ft249120"><b>int&#160;tlsext_data_length;</b></p>
<p style="position:absolute;top:519px;left:477px;white-space:nowrap" class="ft249120"><b>/*&#160;Length&#160;of&#160;the&#160;extension&#160;*/</b></p>
<p style="position:absolute;top:538px;left:158px;white-space:nowrap" class="ft249120"><b>unsigned&#160;char&#160;*&#160;tlsext_data;</b></p>
<p style="position:absolute;top:538px;left:477px;white-space:nowrap" class="ft249121"><b>/*&#160;Buffer&#160;containing&#160;data<br/>&#160;*&#160;of the&#160;extension</b></p>
<p style="position:absolute;top:557px;left:743px;white-space:nowrap" class="ft249120"><b>&#160;*/</b></p>
<p style="position:absolute;top:577px;left:158px;white-space:nowrap" class="ft249120"><b>void&#160;*ssl_tlsext_ctx_data;</b></p>
<p style="position:absolute;top:577px;left:477px;white-space:nowrap" class="ft249121"><b>/*&#160;Context:&#160;application&#160;<br/>&#160;*&#160;defined&#160;data&#160;structure&#160;<br/>&#160;*&#160;passed&#160;to&#160;callback&#160;<br/>&#160;*&#160;functions&#160;*/</b></p>
<p style="position:absolute;top:653px;left:105px;white-space:nowrap" class="ft249120"><b>};</b></p>
<p style="position:absolute;top:711px;left:105px;white-space:nowrap" class="ft249120"><b>/*&#160;Functions&#160;used&#160;by&#160;the&#160;applications&#160;*/</b></p>
<p style="position:absolute;top:749px;left:105px;white-space:nowrap" class="ft249121"><b>/*&#160;The&#160;two&#160;functions&#160;for&#160;creating&#160;the&#160;extension,&#160;return&#160;the&#160;extension<br/>&#160;* they&#160;created.&#160;This&#160;is&#160;not&#160;really&#160;necessary,&#160;but&#160;may&#160;be&#160;handy&#160;when<br/>&#160;* the&#160;application&#160;needs&#160;to do&#160;something&#160;with&#160;those&#160;data.<br/>&#160;*/<br/>TLSEXT_GENERIC&#160;*&#160;SSL_TLSEXT_client_create&#160;(SSL&#160;*ssl,&#160;int&#160;type,&#160;int&#160;<br/>size,&#160;unsigned&#160;char&#160;*data);<br/>TLSEXT_GENERIC&#160;*&#160;SSL_TLSEXT_server_create&#160;(SSL&#160;*ssl,&#160;int&#160;type,&#160;int&#160;<br/>size,&#160;unsigned&#160;char&#160;*data);<br/>int&#160;SSL_TLSEXT_client_cb_set&#160;(SSL&#160;*ssl,&#160;int&#160;type,&#160;void&#160;*callback_func,&#160;<br/>void&#160;*context_data);<br/>int&#160;SSL_TLSEXT_server_cb_set&#160;(SSL&#160;*ssl,&#160;int&#160;type,&#160;void&#160;*callback_func,&#160;<br/>void&#160;*context_data);</b></p>
<p style="position:absolute;top:999px;left:105px;white-space:nowrap" class="ft249120"><b>struct&#160;ssl_st&#160;{</b></p>
<p style="position:absolute;top:1037px;left:158px;white-space:nowrap" class="ft249120"><b>/*&#160;OpenSSL&#160;standard&#160;ssl_st&#160;struct&#160;definition&#160;here&#160;*/</b></p>
<p style="position:absolute;top:1076px;left:158px;white-space:nowrap" class="ft249121"><b>/*&#160;Support&#160;to generic&#160;extensions&#160;*/<br/>TLSEXT_GENERIC_STACK&#160;*tlsext_generic;</b></p>
<p style="position:absolute;top:1133px;left:158px;white-space:nowrap" class="ft249120"><b>/*&#160;Supplemental&#160;data&#160;*/</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft24991">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft24991">26/39</p>
</div>
<!-- Page 250 -->
<a name="250"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page250-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2250.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft25090">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft25080">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft25091">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft25091">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:158px;white-space:nowrap" class="ft250120"><b>struct&#160;suppl_data_st&#160;*suppl_data;</b></p>
<p style="position:absolute;top:168px;left:105px;white-space:nowrap" class="ft250120"><b>}</b></p>
<p style="position:absolute;top:206px;left:83px;white-space:nowrap" class="ft250104"><i><b>A.2&#160;&#160;&#160;DAA Authentication library</b></i></p>
<p style="position:absolute;top:237px;left:105px;white-space:nowrap" class="ft250121"><b>#include&#160;&lt;trousers/tss.h&gt;<br/>#include&#160;&lt;stdint.h&gt;<br/>#include&#160;&lt;openssl/ssl.h&gt;<br/>#include&#160;&lt;openssl/x509v3.h&gt;</b></p>
<p style="position:absolute;top:333px;left:105px;white-space:nowrap" class="ft250120"><b>/*&#160;Data&#160;structures&#160;*/</b></p>
<p style="position:absolute;top:372px;left:105px;white-space:nowrap" class="ft250121"><b>enum&#160;Auth_state_enum&#160;{<br/>&#160;&#160; Rogue&#160;= 0,&#160;<br/>&#160;&#160; Unknown&#160;=&#160;1,&#160;<br/>&#160;&#160; DAA_signature_ok&#160;=&#160;2,<br/>&#160;&#160; Authenticated&#160;= 3<br/>}&#160;Auth_state;</b></p>
<p style="position:absolute;top:506px;left:105px;white-space:nowrap" class="ft250121"><b>typedef&#160;struct&#160;Basename_st&#160;{<br/>&#160;&#160; unsigned&#160;char&#160;* basename;<br/>&#160;&#160; uint8_t&#160;basename_length;<br/>}&#160;Basename;</b></p>
<p style="position:absolute;top:602px;left:105px;white-space:nowrap" class="ft250121"><b>typedef&#160;struct&#160;Nonce_st&#160;{<br/>&#160;&#160; uint8_t&#160;nonce_length;<br/>&#160;&#160; unsigned&#160;char&#160;* nonce;<br/>}&#160;Nonce;</b></p>
<p style="position:absolute;top:698px;left:105px;white-space:nowrap" class="ft250121"><b>typedef&#160;struct&#160;SignedAdditionalData_st&#160;{<br/>&#160;&#160; uint16_t&#160;data_length;<br/>&#160;&#160; unsigned&#160;char&#160;* data;<br/>}&#160;SignedAdditionalData;</b></p>
<p style="position:absolute;top:794px;left:105px;white-space:nowrap" class="ft250121"><b>typedef&#160;struct&#160;SignedHash_st&#160;{<br/>&#160;&#160; uint8_t&#160;hash_length;<br/>&#160;&#160; unsigned&#160;char&#160;* hash;<br/>}&#160;SignedHash;</b></p>
<p style="position:absolute;top:890px;left:105px;white-space:nowrap" class="ft250121"><b>typedef&#160;struct&#160;Daa_Auth_st&#160;{<br/>&#160;&#160; Basename&#160;</b></p>
<p style="position:absolute;top:909px;left:424px;white-space:nowrap" class="ft250120"><b>wanted_basename;</b></p>
<p style="position:absolute;top:928px;left:105px;white-space:nowrap" class="ft250120"><b>&#160;&#160; Basename</b></p>
<p style="position:absolute;top:928px;left:424px;white-space:nowrap" class="ft250120"><b>basename;</b></p>
<p style="position:absolute;top:948px;left:105px;white-space:nowrap" class="ft250120"><b>&#160;&#160; Nonce&#160;</b></p>
<p style="position:absolute;top:948px;left:424px;white-space:nowrap" class="ft250120"><b>nonce;</b></p>
<p style="position:absolute;top:986px;left:105px;white-space:nowrap" class="ft250120"><b>&#160;&#160; SignedAdditionalData</b></p>
<p style="position:absolute;top:986px;left:424px;white-space:nowrap" class="ft250120"><b>signed_additional_data;</b></p>
<p style="position:absolute;top:1005px;left:105px;white-space:nowrap" class="ft250120"><b>&#160;&#160; SignedHash</b></p>
<p style="position:absolute;top:1005px;left:424px;white-space:nowrap" class="ft250120"><b>signed_hash;</b></p>
<p style="position:absolute;top:1044px;left:105px;white-space:nowrap" class="ft250120"><b>&#160;&#160; TSS_HTPM*</b></p>
<p style="position:absolute;top:1044px;left:424px;white-space:nowrap" class="ft250120"><b>hTPM;</b></p>
<p style="position:absolute;top:1063px;left:105px;white-space:nowrap" class="ft250120"><b>&#160;&#160; TSS_HDAA_CREDENTIAL*</b></p>
<p style="position:absolute;top:1063px;left:424px;white-space:nowrap" class="ft250120"><b>hDAACredential;</b></p>
<p style="position:absolute;top:1082px;left:105px;white-space:nowrap" class="ft250120"><b>&#160;&#160; TSS_HDAA_ISSUER_KEY*</b></p>
<p style="position:absolute;top:1082px;left:424px;white-space:nowrap" class="ft250120"><b>hIssuerKey;</b></p>
<p style="position:absolute;top:1101px;left:105px;white-space:nowrap" class="ft250120"><b>&#160;&#160; TSS_HDAA_ARA_KEY*</b></p>
<p style="position:absolute;top:1101px;left:424px;white-space:nowrap" class="ft250120"><b>hARAKey;</b></p>
<p style="position:absolute;top:1120px;left:105px;white-space:nowrap" class="ft250120"><b>&#160;&#160; TSS_HHASH*</b></p>
<p style="position:absolute;top:1120px;left:424px;white-space:nowrap" class="ft250120"><b>hARACondition;</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft25091">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft25091">27/39</p>
</div>
<!-- Page 251 -->
<a name="251"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page251-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2251.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft25190">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft25180">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft25191">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft25191">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:105px;white-space:nowrap" class="ft251121"><b>&#160;&#160;&#160;<br/>&#160;&#160; TSS_DAA_SIGNATURE*</b></p>
<p style="position:absolute;top:168px;left:424px;white-space:nowrap" class="ft251120"><b>signature;</b></p>
<p style="position:absolute;top:188px;left:105px;white-space:nowrap" class="ft251121"><b>&#160;&#160;&#160;<br/>&#160;&#160; uint8_t</b></p>
<p style="position:absolute;top:207px;left:424px;white-space:nowrap" class="ft251120"><b>is_auth_valid;</b></p>
<p style="position:absolute;top:226px;left:105px;white-space:nowrap" class="ft251120"><b>}&#160;Daa_Auth;</b></p>
<p style="position:absolute;top:264px;left:105px;white-space:nowrap" class="ft251120"><b>/*&#160;Function&#160;prototypes&#160;*/</b></p>
<p style="position:absolute;top:303px;left:105px;white-space:nowrap" class="ft251120"><b>int&#160;DAuth_Bname_get&#160;(Daa_Auth*,</b></p>
<p style="position:absolute;top:303px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;in</b></p>
<p style="position:absolute;top:322px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;unsigned&#160;char**,</b></p>
<p style="position:absolute;top:322px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;out&#160;</b></p>
<p style="position:absolute;top:341px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;uint8_t*</b></p>
<p style="position:absolute;top:341px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;out</b></p>
<p style="position:absolute;top:360px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;);</b></p>
<p style="position:absolute;top:418px;left:105px;white-space:nowrap" class="ft251120"><b>int&#160;DAuth_Nonce_get&#160;(Daa_Auth*,</b></p>
<p style="position:absolute;top:418px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;in</b></p>
<p style="position:absolute;top:437px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;unsigned&#160;char**,</b></p>
<p style="position:absolute;top:437px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;out</b></p>
<p style="position:absolute;top:456px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;uint8_t*</b></p>
<p style="position:absolute;top:456px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;out</b></p>
<p style="position:absolute;top:476px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;);</b></p>
<p style="position:absolute;top:514px;left:105px;white-space:nowrap" class="ft251120"><b>int&#160;DAuth_SignedHash_set&#160;(Daa_Auth*,</b></p>
<p style="position:absolute;top:514px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;in</b></p>
<p style="position:absolute;top:533px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;unsigned&#160;char*,</b></p>
<p style="position:absolute;top:533px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;in</b></p>
<p style="position:absolute;top:552px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;uint8_t</b></p>
<p style="position:absolute;top:552px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;in</b></p>
<p style="position:absolute;top:572px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;);</b></p>
<p style="position:absolute;top:610px;left:105px;white-space:nowrap" class="ft251120"><b>int&#160;DAuth_SignedData_set&#160;(Daa_Auth*,</b></p>
<p style="position:absolute;top:610px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;in</b></p>
<p style="position:absolute;top:629px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;unsigned&#160;char*,</b></p>
<p style="position:absolute;top:629px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;in</b></p>
<p style="position:absolute;top:648px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;uint8_t</b></p>
<p style="position:absolute;top:648px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;in</b></p>
<p style="position:absolute;top:668px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;);</b></p>
<p style="position:absolute;top:706px;left:105px;white-space:nowrap" class="ft251120"><b>int&#160;DAuth_Bname_set&#160;(Daa_Auth*,</b></p>
<p style="position:absolute;top:706px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;in</b></p>
<p style="position:absolute;top:725px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;unsigned&#160;char*,</b></p>
<p style="position:absolute;top:725px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;in</b></p>
<p style="position:absolute;top:744px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;uint8_t</b></p>
<p style="position:absolute;top:744px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;in</b></p>
<p style="position:absolute;top:764px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;);</b></p>
<p style="position:absolute;top:802px;left:105px;white-space:nowrap" class="ft251120"><b>int&#160;DAuth_SignedData_get&#160;(Daa_Auth*,</b></p>
<p style="position:absolute;top:802px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;in</b></p>
<p style="position:absolute;top:821px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;unsigned&#160;char**,</b></p>
<p style="position:absolute;top:821px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;out</b></p>
<p style="position:absolute;top:840px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;uint8_t*</b></p>
<p style="position:absolute;top:840px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;out</b></p>
<p style="position:absolute;top:860px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;);</b></p>
<p style="position:absolute;top:898px;left:105px;white-space:nowrap" class="ft251120"><b>int&#160;DAuth_SignedHash_get&#160;(Daa_Auth*,</b></p>
<p style="position:absolute;top:898px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;in</b></p>
<p style="position:absolute;top:917px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;unsigned&#160;char**,</b></p>
<p style="position:absolute;top:917px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;out</b></p>
<p style="position:absolute;top:936px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;uint8_t*</b></p>
<p style="position:absolute;top:936px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;out</b></p>
<p style="position:absolute;top:956px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;);</b></p>
<p style="position:absolute;top:994px;left:105px;white-space:nowrap" class="ft251120"><b>int&#160;DAuth_Signature_get&#160;(Daa_Auth*,</b></p>
<p style="position:absolute;top:994px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;in</b></p>
<p style="position:absolute;top:1013px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;unsigned&#160;char**,</b></p>
<p style="position:absolute;top:1013px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;out</b></p>
<p style="position:absolute;top:1032px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;uint8_t*</b></p>
<p style="position:absolute;top:1032px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;out</b></p>
<p style="position:absolute;top:1052px;left:105px;white-space:nowrap" class="ft251121"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;);<br/>int&#160;DAuth_verify_authentication&#160;(Daa_Auth*,</b></p>
<p style="position:absolute;top:1071px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;in</b></p>
<p style="position:absolute;top:1090px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;X509&#160;*</b></p>
<p style="position:absolute;top:1090px;left:584px;white-space:nowrap" class="ft251120"><b>//&#160;in</b></p>
<p style="position:absolute;top:1109px;left:105px;white-space:nowrap" class="ft251120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;);</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft25191">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft25191">28/39</p>
</div>
<!-- Page 252 -->
<a name="252"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page252-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2252.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft25290">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft25280">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft25291">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft25291">FINAL |&#160;1.10</p>
<p style="position:absolute;top:168px;left:105px;white-space:nowrap" class="ft252120"><b>int&#160;DAuth_authentication_state&#160;(Daa_Auth*&#160;daa</b></p>
<p style="position:absolute;top:168px;left:584px;white-space:nowrap" class="ft252120"><b>//&#160;in</b></p>
<p style="position:absolute;top:188px;left:105px;white-space:nowrap" class="ft252120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; );</b></p>
<p style="position:absolute;top:226px;left:105px;white-space:nowrap" class="ft252120"><b>int&#160;DAuth_Signature_store&#160;(Daa_Auth*</b></p>
<p style="position:absolute;top:226px;left:584px;white-space:nowrap" class="ft252120"><b>//&#160;in</b></p>
<p style="position:absolute;top:245px;left:105px;white-space:nowrap" class="ft252120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;);</b></p>
<p style="position:absolute;top:284px;left:105px;white-space:nowrap" class="ft252120"><b>int&#160;DAuth_Signature_count&#160;(Daa_Auth*</b></p>
<p style="position:absolute;top:284px;left:584px;white-space:nowrap" class="ft252120"><b>//&#160;in</b></p>
<p style="position:absolute;top:303px;left:105px;white-space:nowrap" class="ft252120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;);</b></p>
<p style="position:absolute;top:341px;left:105px;white-space:nowrap" class="ft252120"><b>Daa_Auth&#160;* DAuth_DAA_anonym_auth_new&#160;(SSL*,</b></p>
<p style="position:absolute;top:341px;left:584px;white-space:nowrap" class="ft252120"><b>//&#160;in</b></p>
<p style="position:absolute;top:360px;left:105px;white-space:nowrap" class="ft252120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; Daa_Auth*</b></p>
<p style="position:absolute;top:360px;left:584px;white-space:nowrap" class="ft252120"><b>//&#160;in</b></p>
<p style="position:absolute;top:380px;left:105px;white-space:nowrap" class="ft252120"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;);</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft25291">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft25291">29/39</p>
</div>
<!-- Page 253 -->
<a name="253"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page253-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2253.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft25390">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft25380">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft25391">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft25391">FINAL |&#160;1.10</p>
<p style="position:absolute;top:167px;left:83px;white-space:nowrap" class="ft253103"><b>Annex B&#160;(informative):&#160;code&#160;examples</b></p>
<p style="position:absolute;top:218px;left:83px;white-space:nowrap" class="ft253104"><i><b>B.1&#160;&#160;&#160;Low&#160;level enhancement</b></i></p>
<p style="position:absolute;top:268px;left:83px;white-space:nowrap" class="ft253109"><i><b>B.1.1 &#160;&#160;Hello&#160;extensions</b></i></p>
<p style="position:absolute;top:316px;left:83px;white-space:nowrap" class="ft253110"><i><b>B.1.1.1 &#160;&#160;&#160;Simple example</b></i></p>
<p style="position:absolute;top:344px;left:83px;white-space:nowrap" class="ft25384">Source&#160;code for the client application.</p>
<p style="position:absolute;top:373px;left:105px;white-space:nowrap" class="ft253121"><b>int&#160;cb_clnt&#160;(SSL&#160;*ssl,&#160;TLSEXT_GENERIC&#160;*ext)&#160;{<br/>&#160;&#160; /*&#160;Fetching&#160;context&#160;data&#160;*/<br/>&#160;&#160; my_data_stuct&#160;ctx_data&#160;= ext-&gt;ssl_tlsext_ctx_data;</b></p>
<p style="position:absolute;top:449px;left:105px;white-space:nowrap" class="ft253121"><b>&#160;&#160; /*&#160;Handling&#160;of&#160;the&#160;extension&#160;here&#160;*/<br/>&#160;&#160; ...</b></p>
<p style="position:absolute;top:507px;left:105px;white-space:nowrap" class="ft253121"><b>&#160;&#160; /*&#160;As&#160;example,&#160;just&#160;a&#160;print&#160;out&#160;*/<br/>&#160;&#160; printf&#160;(&#34;Received&#160;tls&#160;extension&#160;of&#160;type&#160;%d&#160;and&#160;length&#160;%d\n&#34;,<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;ext-&gt;tlsext_type,&#160;ext-&gt;tlsext_data_length);</b></p>
<p style="position:absolute;top:584px;left:105px;white-space:nowrap" class="ft253121"><b>&#160;&#160; for&#160;(i=0;&#160;i&lt;ext-&gt;tlsext_data_length;&#160;i++)&#160;{<br/>&#160;&#160; &#160;&#160;&#160;printf&#160;(&#34;%02x&#160;&#34;,&#160;(ext-&gt;tlsext_data)[i]);<br/>&#160;&#160; }<br/>&#160;&#160; printf&#160;(&#34;\n\n&#34;);<br/>}</b></p>
<p style="position:absolute;top:699px;left:105px;white-space:nowrap" class="ft253121"><b>int&#160;main&#160;() {<br/>&#160;&#160; int&#160;type&#160;=&#160;...&#160;/*&#160;type&#160;of&#160;the&#160;extension&#160;*/<br/>&#160;&#160; int&#160;size&#160;=&#160;...&#160;/*&#160;size&#160;of&#160;the&#160;extension&#160;*/<br/>&#160;&#160; unsigned&#160;char&#160;data&#160;= ...&#160;/*&#160;payload&#160;of&#160;the&#160;extension&#160;*/<br/>&#160;&#160; my_data_struct&#160;ctx_data&#160;=&#160;...&#160;/* context&#160;data&#160;*/<br/>&#160;&#160;&#160;<br/>&#160;&#160; ...</b></p>
<p style="position:absolute;top:853px;left:105px;white-space:nowrap" class="ft253121"><b>&#160;&#160; /*&#160;OpenSSL&#160;standard&#160;stuffs&#160;here&#160;*/<br/>&#160;&#160; if&#160;(!(ssl&#160;= SSL_new(ctx)))<br/>&#160;&#160; &#160;&#160;&#160;int_error(&#34;Error&#160;creating&#160;an&#160;SSL&#160;context&#34;);</b></p>
<p style="position:absolute;top:929px;left:105px;white-space:nowrap" class="ft253120"><b>&#160;&#160; ...</b></p>
<p style="position:absolute;top:968px;left:105px;white-space:nowrap" class="ft253121"><b>&#160;&#160; SSL_TLSEXT_client_create&#160;(ssl,&#160;type,&#160;len,&#160;data);<br/>&#160;&#160; SSL_TLSEXT_client_cb_set&#160;(ssl,&#160;type,&#160;&amp;cb_clnt,&#160;ctx_data);</b></p>
<p style="position:absolute;top:1025px;left:105px;white-space:nowrap" class="ft253120"><b>&#160;&#160; ...</b></p>
<p style="position:absolute;top:1064px;left:105px;white-space:nowrap" class="ft253121"><b>&#160;&#160; if&#160;(SSL_connect(ssl)&#160;&lt;=&#160;0)<br/>&#160;&#160; &#160;&#160;&#160;int_error(&#34;Error&#160;connecting&#160;SSL&#160;object&#34;);</b></p>
<p style="position:absolute;top:1121px;left:105px;white-space:nowrap" class="ft253120"><b>&#160;&#160; /*&#160;Now&#160;the&#160;secure&#160;channel&#160;is established&#160;*/</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft25391">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft25391">30/39</p>
</div>
<!-- Page 254 -->
<a name="254"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page254-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2254.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft25490">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft25480">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft25491">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft25491">FINAL |&#160;1.10</p>
<p style="position:absolute;top:168px;left:83px;white-space:nowrap" class="ft25484">Source&#160;code for the server application.</p>
<p style="position:absolute;top:197px;left:105px;white-space:nowrap" class="ft254121"><b>int&#160;cb_srvr&#160;(SSL&#160;*ssl,&#160;TLSEXT_GENERIC&#160;*ext)&#160;{<br/>&#160;&#160; /*&#160;Fetching&#160;context&#160;data&#160;*/<br/>&#160;&#160; my_data_stuct&#160;ctx_data&#160;= ext-&gt;ssl_tlsext_ctx_data;</b></p>
<p style="position:absolute;top:273px;left:105px;white-space:nowrap" class="ft254121"><b>&#160;&#160; /*&#160;Handling&#160;of&#160;the&#160;extension&#160;here&#160;*/<br/>&#160;&#160; ...</b></p>
<p style="position:absolute;top:331px;left:105px;white-space:nowrap" class="ft254121"><b>&#160;&#160; /*&#160;As&#160;example,&#160;just&#160;a&#160;print&#160;out&#160;*/<br/>&#160;&#160; printf&#160;(&#34;Received&#160;tls&#160;extension&#160;of&#160;type&#160;%d&#160;and&#160;length&#160;%d\n&#34;,<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;ext-&gt;tlsext_type,&#160;ext-&gt;tlsext_data_length);</b></p>
<p style="position:absolute;top:408px;left:105px;white-space:nowrap" class="ft254121"><b>&#160;&#160; for&#160;(i=0;&#160;i&lt;ext-&gt;tlsext_data_length;&#160;i++)&#160;{<br/>&#160;&#160; &#160;&#160;&#160;printf&#160;(&#34;%02x&#160;&#34;,&#160;(ext-&gt;tlsext_data)[i]);<br/>&#160;&#160; }<br/>&#160;&#160; printf&#160;(&#34;\n\n&#34;);<br/>}</b></p>
<p style="position:absolute;top:523px;left:105px;white-space:nowrap" class="ft254121"><b>int&#160;main&#160;() {<br/>&#160;&#160; int&#160;type&#160;=&#160;...&#160;/*&#160;type&#160;of&#160;the&#160;extension&#160;*/<br/>&#160;&#160; int&#160;size&#160;=&#160;...&#160;/*&#160;size&#160;of&#160;the&#160;extension&#160;*/<br/>&#160;&#160; unsigned&#160;char&#160;data&#160;= ...&#160;/*&#160;payload&#160;of&#160;the&#160;extension&#160;*/<br/>&#160;&#160; my_data_struct&#160;ctx_data&#160;=&#160;...&#160;/* context&#160;data&#160;*/<br/>&#160;&#160;&#160;<br/>&#160;&#160; ...</b></p>
<p style="position:absolute;top:677px;left:105px;white-space:nowrap" class="ft254121"><b>&#160;&#160; /*&#160;OpenSSL&#160;standard&#160;stuffs&#160;here&#160;*/<br/>&#160;&#160; if&#160;(!(ssl&#160;= SSL_new(ctx)))<br/>&#160;&#160; &#160;&#160;&#160;int_error(&#34;Error&#160;creating&#160;an&#160;SSL&#160;context&#34;);</b></p>
<p style="position:absolute;top:753px;left:105px;white-space:nowrap" class="ft254120"><b>&#160;&#160; ...</b></p>
<p style="position:absolute;top:792px;left:105px;white-space:nowrap" class="ft254121"><b>&#160;&#160; SSL_TLSEXT_server_create&#160;(ssl,&#160;type,&#160;len,&#160;data);<br/>&#160;&#160; SSL_TLSEXT_server_cb_set&#160;(ssl,&#160;type,&#160;&amp;cb_srvr,&#160;ctx_data);</b></p>
<p style="position:absolute;top:849px;left:105px;white-space:nowrap" class="ft254120"><b>&#160;&#160; ...</b></p>
<p style="position:absolute;top:888px;left:105px;white-space:nowrap" class="ft254121"><b>&#160;&#160; if&#160;(SSL_accept(ssl)&#160;&lt;=&#160;0)<br/>&#160;&#160; &#160;&#160;&#160;int_error(&#34;Error&#160;accepting&#160;SSL&#160;connection&#34;);</b></p>
<p style="position:absolute;top:945px;left:105px;white-space:nowrap" class="ft254121"><b>&#160;&#160; /*&#160;Now&#160;the&#160;secure&#160;channel&#160;is established&#160;*/<br/>}</b></p>
<p style="position:absolute;top:1002px;left:83px;white-space:nowrap" class="ft254110"><i><b>B.1.1.2 &#160;&#160;Improved&#160;example</b></i></p>
<p style="position:absolute;top:1030px;left:83px;white-space:nowrap" class="ft25487">The code for&#160;the client and for&#160;the server&#160;are very similar&#160;in the previous&#160;example.&#160;<br/>While the previous code works,&#160;it can be slightly improved.&#160;In the example, the server&#160;<br/>creates&#160;the extensions&#160;before accepting the connection. If the client did not&#160;send the&#160;<br/>same&#160;extension in the client hello, then the server would break the RFC&#160;specification&#160;<br/>(by sending an extension that&#160;was&#160;not requested by the client), leading to&#160;the end of&#160;</p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft25491">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft25491">31/39</p>
</div>
<!-- Page 255 -->
<a name="255"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page255-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2255.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft25590">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft25580">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft25591">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft25591">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:83px;white-space:nowrap" class="ft25587">the handshake. This can&#160;be avoided by defining the extension for the server only if a&#160;<br/>client&#160;hello with that extension was&#160;received. In order to&#160;do this,&#160;the&#160;</p>
<p style="position:absolute;top:205px;left:105px;white-space:nowrap" class="ft255120"><b>SSL_TLSEXT_server_create&#160;(ssl,&#160;type,&#160;len,&#160;data);</b></p>
<p style="position:absolute;top:243px;left:83px;white-space:nowrap" class="ft25584">must&#160;be moved inside the callback function.&#160;The resulting code&#160;for the server&#160;is:</p>
<p style="position:absolute;top:271px;left:105px;white-space:nowrap" class="ft255121"><b>int&#160;cb_srvr&#160;(SSL&#160;*ssl,&#160;TLSEXT_GENERIC&#160;*ext)&#160;{<br/>&#160;&#160; /*&#160;Fetching&#160;context&#160;data&#160;*/<br/>&#160;&#160; my_data_stuct&#160;ctx_data&#160;= ext-&gt;ssl_tlsext_ctx_data;</b></p>
<p style="position:absolute;top:348px;left:105px;white-space:nowrap" class="ft255121"><b>&#160;&#160; /*&#160;The&#160;server&#160;received&#160;the&#160;extension,<br/>&#160;&#160; &#160;*&#160;hence&#160;is&#160;can&#160;safely&#160;send&#160;it&#160;back<br/>&#160;&#160; &#160;*&#160;to&#160;the&#160;client<br/>&#160;&#160; &#160;*/<br/>&#160;&#160; SSL_TLSEXT_server_create&#160;(ssl,&#160;type,&#160;len,&#160;data);</b></p>
<p style="position:absolute;top:463px;left:105px;white-space:nowrap" class="ft255121"><b>&#160;&#160; /*&#160;Handling&#160;of&#160;the&#160;extension&#160;here&#160;*/<br/>&#160;&#160; ...</b></p>
<p style="position:absolute;top:520px;left:105px;white-space:nowrap" class="ft255121"><b>&#160;&#160; /*&#160;As&#160;example,&#160;just&#160;a&#160;print&#160;out&#160;*/<br/>&#160;&#160; printf&#160;(&#34;Received&#160;tls&#160;extension&#160;of&#160;type&#160;%d&#160;and&#160;length&#160;%d\n&#34;,<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;ext-&gt;tlsext_type,&#160;ext-&gt;tlsext_data_length);</b></p>
<p style="position:absolute;top:597px;left:105px;white-space:nowrap" class="ft255121"><b>&#160;&#160; for&#160;(i=0;&#160;i&lt;ext-&gt;tlsext_data_length;&#160;i++)&#160;{<br/>&#160;&#160; &#160;&#160;&#160;printf&#160;(&#34;%02x&#160;&#34;,&#160;(ext-&gt;tlsext_data)[i]);<br/>&#160;&#160; }<br/>&#160;&#160; printf&#160;(&#34;\n\n&#34;);<br/>}</b></p>
<p style="position:absolute;top:712px;left:105px;white-space:nowrap" class="ft255121"><b>int&#160;main&#160;() {<br/>&#160;&#160; int&#160;type&#160;=&#160;...&#160;/*&#160;type&#160;of&#160;the&#160;extension&#160;*/<br/>&#160;&#160; int&#160;size&#160;=&#160;...&#160;/*&#160;size&#160;of&#160;the&#160;extension&#160;*/<br/>&#160;&#160; unsigned&#160;char&#160;data&#160;= ...&#160;/*&#160;payload&#160;of&#160;the&#160;extension&#160;*/<br/>&#160;&#160; my_data_struct&#160;ctx_data&#160;=&#160;...&#160;/* context&#160;data&#160;*/<br/>&#160;&#160;&#160;<br/>&#160;&#160; ...</b></p>
<p style="position:absolute;top:866px;left:105px;white-space:nowrap" class="ft255121"><b>&#160;&#160; /*&#160;OpenSSL&#160;standard&#160;stuffs&#160;here&#160;*/<br/>&#160;&#160; if&#160;(!(ssl&#160;= SSL_new(ctx)))<br/>&#160;&#160; &#160;&#160;&#160;int_error(&#34;Error&#160;creating&#160;an&#160;SSL&#160;context&#34;);</b></p>
<p style="position:absolute;top:943px;left:105px;white-space:nowrap" class="ft255120"><b>&#160;&#160; ...</b></p>
<p style="position:absolute;top:981px;left:105px;white-space:nowrap" class="ft255120"><b>&#160;&#160; SSL_TLSEXT_server_cb_set&#160;(ssl,&#160;type,&#160;&amp;cb_srvr,&#160;ctx_data);</b></p>
<p style="position:absolute;top:1020px;left:105px;white-space:nowrap" class="ft255120"><b>&#160;&#160; ...</b></p>
<p style="position:absolute;top:1058px;left:105px;white-space:nowrap" class="ft255121"><b>&#160;&#160; if&#160;(SSL_accept(ssl)&#160;&lt;=&#160;0)<br/>&#160;&#160; &#160;&#160;&#160;int_error(&#34;Error&#160;accepting&#160;SSL&#160;connection&#34;);</b></p>
<p style="position:absolute;top:1116px;left:105px;white-space:nowrap" class="ft255120"><b>&#160;&#160; /*&#160;Now&#160;the&#160;secure&#160;channel&#160;is established&#160;*/</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft25591">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft25591">32/39</p>
</div>
<!-- Page 256 -->
<a name="256"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page256-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2256.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft25690">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft25680">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft25691">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft25691">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:83px;white-space:nowrap" class="ft256109"><i><b>B.1.2 &#160;&#160;Supplemental&#160;data</b></i></p>
<p style="position:absolute;top:197px;left:83px;white-space:nowrap" class="ft256110"><i><b>B.1.2.1 &#160;&#160;Simple example</b></i></p>
<p style="position:absolute;top:225px;left:83px;white-space:nowrap" class="ft25684">Source&#160;code for the client application.</p>
<p style="position:absolute;top:254px;left:105px;white-space:nowrap" class="ft256121"><b>int&#160;my_prepare_clnt&#160;(SSL&#160;*ssl,&#160;void&#160;*ctx_data)&#160;{<br/>&#160;&#160; my_data_stuct&#160;*c_data&#160;= (my_data_struct)&#160;ctx_data;<br/>&#160;&#160; unsigned&#160;char&#160;*data;<br/>&#160;&#160;&#160;<br/>&#160;&#160; /*&#160;Do&#160;anything&#160;need&#160;with&#160;context&#160;data&#160;in order<br/>&#160;&#160; &#160;*&#160;to&#160;define&#160;the&#160;type,&#160;the&#160;len&#160;and&#160;the&#160;payload<br/>&#160;&#160; &#160;*/<br/>&#160;&#160; type&#160;=&#160;...&#160;;<br/>&#160;&#160; len&#160;=&#160;...&#160;;<br/>&#160;&#160; data&#160;=&#160;...&#160;;</b></p>
<p style="position:absolute;top:465px;left:105px;white-space:nowrap" class="ft256121"><b>&#160;&#160; /*&#160;We&#160;add&#160;the&#160;supplemental&#160;data&#160;to&#160;the&#160;list<br/>&#160;&#160; &#160;*&#160;of&#160;supplemental&#160;data&#160;to&#160;be&#160;sent&#160;<br/>&#160;&#160; &#160;*/<br/>&#160;&#160; SSL_SUPPL_DATA_push&#160;(ssl,&#160;type,&#160;len,&#160;data);<br/>}</b></p>
<p style="position:absolute;top:580px;left:105px;white-space:nowrap" class="ft256121"><b>int&#160;suppl_data_handle_clnt&#160;(SSL&#160;*ssl,&#160;int&#160;type,&#160;<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;unsigned&#160;char&#160;*data,&#160;int&#160;len,&#160;void&#160;*&#160;ctx_data)&#160;{</b></p>
<p style="position:absolute;top:638px;left:105px;white-space:nowrap" class="ft256121"><b>&#160;&#160; /*&#160;Handling&#160;the&#160;supplemental&#160;data&#160;entry&#160;here...<br/>&#160;&#160; &#160;*&#160;Just&#160;a&#160;print&#160;out&#160;as&#160;example<br/>&#160;&#160; &#160;*/<br/>&#160;&#160; printf&#160;(&#34;Received&#160;suppl&#160;data&#160;of&#160;type&#160;%d&#160;and&#160;size&#160;%d\n&#34;,&#160;<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; type,&#160;len);</b></p>
<p style="position:absolute;top:753px;left:105px;white-space:nowrap" class="ft256121"><b>&#160;&#160; for&#160;(i=0;&#160;i&lt;len;&#160;i++)&#160;{<br/>&#160;&#160; &#160;&#160;&#160;printf&#160;(&#34;%x&#160;&#34;,&#160;*(data++));<br/>&#160;&#160; }<br/>&#160;&#160; printf&#160;(&#34;\n&#34;);<br/>}</b></p>
<p style="position:absolute;top:868px;left:105px;white-space:nowrap" class="ft256121"><b>int&#160;main&#160;() {<br/>&#160;&#160; int&#160;type&#160;=&#160;...&#160;/*&#160;type&#160;of&#160;the&#160;supplemental&#160;data&#160;*/<br/>&#160;&#160; my_data_struct&#160;ctx_data&#160;=&#160;...&#160;/* context&#160;data&#160;*/<br/>&#160;&#160;&#160;<br/>&#160;&#160; ...</b></p>
<p style="position:absolute;top:983px;left:105px;white-space:nowrap" class="ft256121"><b>&#160;&#160; /*&#160;OpenSSL&#160;standard&#160;stuffs&#160;here&#160;*/<br/>&#160;&#160; if&#160;(!(ssl&#160;= SSL_new(ctx)))<br/>&#160;&#160; &#160;&#160;&#160;int_error(&#34;Error&#160;creating&#160;an&#160;SSL&#160;context&#34;);</b></p>
<p style="position:absolute;top:1060px;left:105px;white-space:nowrap" class="ft256121"><b>&#160;&#160; ...<br/>&#160;&#160; SSL_SUPPL_DATA_prepare_set<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;(ssl,&#160;&amp;my_prepare_clnt,&#160;ctx_data);<br/>&#160;&#160; SSL_SUPPL_DATA_cb_set&#160;</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft25691">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft25691">33/39</p>
</div>
<!-- Page 257 -->
<a name="257"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page257-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2257.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft25790">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft25780">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft25791">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft25791">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:105px;white-space:nowrap" class="ft257121"><b>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;(ssl,&#160;type,&#160;&amp;suppl_data_handle_clnt,&#160;ctx_data);<br/>&#160;&#160; ...</b></p>
<p style="position:absolute;top:207px;left:105px;white-space:nowrap" class="ft257121"><b>&#160;&#160; if&#160;(SSL_connect(ssl)&#160;&lt;=&#160;0)<br/>&#160;&#160; &#160;&#160;&#160;int_error(&#34;Error&#160;connecting&#160;SSL&#160;object&#34;);</b></p>
<p style="position:absolute;top:264px;left:105px;white-space:nowrap" class="ft257121"><b>&#160;&#160; /*&#160;Now&#160;the&#160;secure&#160;channel&#160;is established&#160;*/<br/>}</b></p>
<p style="position:absolute;top:322px;left:83px;white-space:nowrap" class="ft25784">Source&#160;code for the server application.</p>
<p style="position:absolute;top:350px;left:105px;white-space:nowrap" class="ft257121"><b>int&#160;my_prepare_srvr&#160;(SSL&#160;*ssl,&#160;void&#160;*ctx_data)&#160;{<br/>&#160;&#160; my_data_stuct&#160;Oggi,*c_data&#160;= (my_data_struct)&#160;ctx_data;<br/>&#160;&#160; unsigned&#160;char&#160;*data;<br/>&#160;&#160;&#160;<br/>&#160;&#160; /*&#160;Do&#160;anything&#160;need&#160;with&#160;context&#160;data&#160;in order<br/>&#160;&#160; &#160;*&#160;to&#160;define&#160;the&#160;type,&#160;the&#160;len&#160;and&#160;the&#160;payload<br/>&#160;&#160; &#160;*/<br/>&#160;&#160; type&#160;=&#160;...&#160;;<br/>&#160;&#160; len&#160;=&#160;...&#160;;<br/>&#160;&#160; data&#160;=&#160;...&#160;;</b></p>
<p style="position:absolute;top:561px;left:105px;white-space:nowrap" class="ft257121"><b>&#160;&#160; /*&#160;We&#160;add&#160;the&#160;supplemental&#160;data&#160;to&#160;the&#160;list<br/>&#160;&#160; &#160;*&#160;of&#160;supplemental&#160;data&#160;to&#160;be&#160;sent&#160;<br/>&#160;&#160; &#160;*/<br/>&#160;&#160; SSL_SUPPL_DATA_push&#160;(ssl,&#160;type,&#160;len,&#160;data);<br/>}</b></p>
<p style="position:absolute;top:677px;left:105px;white-space:nowrap" class="ft257121"><b>int&#160;suppl_data_handle_srvr&#160;(SSL&#160;*ssl,&#160;int&#160;type,&#160;<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;unsigned&#160;char&#160;*data,&#160;int&#160;len,&#160;void&#160;*&#160;ctx_data)&#160;{</b></p>
<p style="position:absolute;top:734px;left:105px;white-space:nowrap" class="ft257121"><b>&#160;&#160; /*&#160;Handling&#160;the&#160;supplemental&#160;data&#160;entry&#160;here...<br/>&#160;&#160; &#160;*&#160;Just&#160;a&#160;print&#160;out&#160;as&#160;example<br/>&#160;&#160; &#160;*/<br/>&#160;&#160; printf&#160;(&#34;Received&#160;suppl&#160;data&#160;of&#160;type&#160;%d&#160;and&#160;size&#160;%d\n&#34;,&#160;<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; type,&#160;len);</b></p>
<p style="position:absolute;top:849px;left:105px;white-space:nowrap" class="ft257121"><b>&#160;&#160; for&#160;(i=0;&#160;i&lt;len;&#160;i++)&#160;{<br/>&#160;&#160; &#160;&#160;&#160;printf&#160;(&#34;%x&#160;&#34;,&#160;*(data++));<br/>&#160;&#160; }<br/>&#160;&#160; printf&#160;(&#34;\n&#34;);<br/>}</b></p>
<p style="position:absolute;top:984px;left:105px;white-space:nowrap" class="ft257121"><b>int&#160;main&#160;() {<br/>&#160;&#160; int&#160;type&#160;=&#160;...&#160;/*&#160;type&#160;of&#160;the&#160;supplemental&#160;data&#160;*/<br/>&#160;&#160; my_data_struct&#160;ctx_data&#160;=&#160;...&#160;/* context&#160;data&#160;*/<br/>&#160;&#160;&#160;<br/>&#160;&#160; ...</b></p>
<p style="position:absolute;top:1099px;left:105px;white-space:nowrap" class="ft257121"><b>&#160;&#160; /*&#160;OpenSSL&#160;standard&#160;stuffs&#160;here&#160;*/<br/>&#160;&#160; if&#160;(!(ssl&#160;= SSL_new(ctx)))</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft25791">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft25791">34/39</p>
</div>
<!-- Page 258 -->
<a name="258"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page258-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2258.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft25890">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft25880">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft25891">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft25891">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:105px;white-space:nowrap" class="ft258120"><b>&#160;&#160; &#160;&#160;&#160;int_error(&#34;Error&#160;creating&#160;an&#160;SSL&#160;context&#34;);</b></p>
<p style="position:absolute;top:188px;left:105px;white-space:nowrap" class="ft258121"><b>&#160;&#160; ...<br/>&#160;&#160; SSL_SUPPL_DATA_prepare_set<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;(ssl,&#160;&amp;my_prepare_srvr,&#160;ctx_data);<br/>&#160;&#160; SSL_SUPPL_DATA_cb_set<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;(ssl,&#160;type,&#160;&amp;suppl_data_handle_srvr,&#160;ctx_data);<br/>&#160;&#160; ...</b></p>
<p style="position:absolute;top:322px;left:105px;white-space:nowrap" class="ft258121"><b>&#160;&#160; if&#160;(SSL_accept(ssl)&#160;&lt;=&#160;0)<br/>&#160;&#160; &#160;&#160;&#160;int_error(&#34;Error&#160;accepting&#160;SSL&#160;connection&#34;);</b></p>
<p style="position:absolute;top:380px;left:105px;white-space:nowrap" class="ft258121"><b>&#160;&#160; /*&#160;Now&#160;the&#160;secure&#160;channel&#160;is established&#160;*/<br/>}</b></p>
<p style="position:absolute;top:436px;left:83px;white-space:nowrap" class="ft258110"><i><b>B.1.2.2 &#160;&#160;Improved&#160;example</b></i></p>
<p style="position:absolute;top:464px;left:83px;white-space:nowrap" class="ft25888">Any supplemental data&#160;entry&#160;must be negotiated using the TLS hello extensions.&#160;<br/>Receiving a&#160;supplemental&#160;data entry that&#160;was&#160;not negotiated, brings&#160;to a&#160;fatal error,&#160;<br/>and the receiver&#160;must&#160;close the connection.<br/>An overall example that uses the hello&#160;extensions to&#160;negotiate a&#160;supplemental&#160;data&#160;<br/>message&#160;is shown below.<br/>Source&#160;code for the client application.</p>
<p style="position:absolute;top:606px;left:105px;white-space:nowrap" class="ft258121"><b>int&#160;my_prepare_clnt&#160;(SSL&#160;*ssl,&#160;void&#160;*ctx_data)&#160;{<br/>&#160;&#160; my_data_stuct&#160;*c_data&#160;= (my_data_struct)&#160;ctx_data;<br/>&#160;&#160; unsigned&#160;char&#160;*data;<br/>&#160;&#160;&#160;<br/>&#160;&#160; /*&#160;Do&#160;anything&#160;need&#160;with&#160;context&#160;data&#160;in order<br/>&#160;&#160; &#160;*&#160;to&#160;define&#160;the&#160;type,&#160;the&#160;len&#160;and&#160;the&#160;payload<br/>&#160;&#160; &#160;*/<br/>&#160;&#160; type&#160;=&#160;...&#160;;<br/>&#160;&#160; len&#160;=&#160;...&#160;;<br/>&#160;&#160; data&#160;=&#160;...&#160;;</b></p>
<p style="position:absolute;top:818px;left:105px;white-space:nowrap" class="ft258121"><b>&#160;&#160; /*&#160;We&#160;add&#160;the&#160;supplemental&#160;data&#160;to&#160;the&#160;list<br/>&#160;&#160; &#160;*&#160;of&#160;supplemental&#160;data&#160;to&#160;be&#160;sent&#160;<br/>&#160;&#160; &#160;*/<br/>&#160;&#160; SSL_SUPPL_DATA_push&#160;(ssl,&#160;type,&#160;len,&#160;data);<br/>}</b></p>
<p style="position:absolute;top:933px;left:105px;white-space:nowrap" class="ft258121"><b>int&#160;suppl_data_handle_clnt&#160;(SSL&#160;*ssl,&#160;int&#160;type,&#160;<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;unsigned&#160;char&#160;*data,&#160;int&#160;len,&#160;void&#160;*&#160;ctx_data)&#160;{</b></p>
<p style="position:absolute;top:990px;left:105px;white-space:nowrap" class="ft258121"><b>&#160;&#160; /*&#160;Handling&#160;the&#160;supplemental&#160;data&#160;entry&#160;here...<br/>&#160;&#160; &#160;*&#160;Just&#160;a&#160;print&#160;out&#160;as&#160;example<br/>&#160;&#160; &#160;*/<br/>&#160;&#160; printf&#160;(&#34;Received&#160;suppl&#160;data&#160;of&#160;type&#160;%d&#160;and&#160;size&#160;%d\n&#34;,&#160;<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; type,&#160;len);</b></p>
<p style="position:absolute;top:1106px;left:105px;white-space:nowrap" class="ft258120"><b>&#160;&#160; for&#160;(i=0;&#160;i&lt;len;&#160;i++)&#160;{</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft25891">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft25891">35/39</p>
</div>
<!-- Page 259 -->
<a name="259"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page259-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2259.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft25990">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft25980">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft25991">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft25991">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:105px;white-space:nowrap" class="ft259121"><b>&#160;&#160; &#160;&#160;&#160;printf&#160;(&#34;%x&#160;&#34;,&#160;*(data++));<br/>&#160;&#160; }<br/>&#160;&#160; printf&#160;(&#34;\n&#34;);<br/>}</b></p>
<p style="position:absolute;top:245px;left:105px;white-space:nowrap" class="ft259121"><b>int&#160;cb_clnt&#160;(SSL&#160;*ssl,&#160;TLSEXT_GENERIC&#160;*ext)&#160;{<br/>&#160;&#160; /*&#160;Fetching&#160;context&#160;data&#160;*/<br/>&#160;&#160; my_data_stuct&#160;ctx_data&#160;= ext-&gt;ssl_tlsext_ctx_data;</b></p>
<p style="position:absolute;top:322px;left:105px;white-space:nowrap" class="ft259121"><b>&#160;&#160; SSL_SUPPL_DATA_prepare_set<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;(ssl,&#160;&amp;my_prepare_clnt,&#160;ctx_data);<br/>&#160;&#160; SSL_SUPPL_DATA_cb_set<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;(ssl,&#160;type,&#160;&amp;suppl_data_handle_clnt,&#160;ctx_data);<br/>}</b></p>
<p style="position:absolute;top:437px;left:105px;white-space:nowrap" class="ft259121"><b>int&#160;main&#160;() {<br/>&#160;&#160; int&#160;type&#160;=&#160;...&#160;/*&#160;type&#160;of&#160;the&#160;extension&#160;*/<br/>&#160;&#160; int&#160;size&#160;=&#160;...&#160;/*&#160;size&#160;of&#160;the&#160;extension&#160;*/<br/>&#160;&#160; unsigned&#160;char&#160;data&#160;= ...&#160;/*&#160;payload&#160;of&#160;the&#160;extension&#160;*/<br/>&#160;&#160; my_data_struct&#160;ctx_data&#160;=&#160;...&#160;/* context&#160;data&#160;*/<br/>&#160;&#160;&#160;<br/>&#160;&#160; ...</b></p>
<p style="position:absolute;top:591px;left:105px;white-space:nowrap" class="ft259121"><b>&#160;&#160; /*&#160;OpenSSL&#160;standard&#160;stuffs&#160;here&#160;*/<br/>&#160;&#160; if&#160;(!(ssl&#160;= SSL_new(ctx)))<br/>&#160;&#160; &#160;&#160;&#160;int_error(&#34;Error&#160;creating&#160;an&#160;SSL&#160;context&#34;);</b></p>
<p style="position:absolute;top:668px;left:105px;white-space:nowrap" class="ft259120"><b>&#160;&#160; ...</b></p>
<p style="position:absolute;top:706px;left:105px;white-space:nowrap" class="ft259121"><b>&#160;&#160; SSL_TLSEXT_client_create&#160;(ssl,&#160;type,&#160;len,&#160;data);<br/>&#160;&#160; SSL_TLSEXT_client_cb_set&#160;(ssl,&#160;type,&#160;&amp;cb_clnt,&#160;ctx_data);</b></p>
<p style="position:absolute;top:764px;left:105px;white-space:nowrap" class="ft259120"><b>&#160;&#160; ...</b></p>
<p style="position:absolute;top:802px;left:105px;white-space:nowrap" class="ft259121"><b>&#160;&#160; if&#160;(SSL_connect(ssl)&#160;&lt;=&#160;0)<br/>&#160;&#160; &#160;&#160;&#160;int_error(&#34;Error&#160;connecting&#160;SSL&#160;object&#34;);</b></p>
<p style="position:absolute;top:860px;left:105px;white-space:nowrap" class="ft259121"><b>&#160;&#160; /*&#160;Now&#160;the&#160;secure&#160;channel&#160;is established&#160;*/<br/>}</b></p>
<p style="position:absolute;top:917px;left:83px;white-space:nowrap" class="ft25984">Source&#160;code for the server application.</p>
<p style="position:absolute;top:945px;left:105px;white-space:nowrap" class="ft259121"><b>int&#160;my_prepare_srvr&#160;(SSL&#160;*ssl,&#160;void&#160;*ctx_data)&#160;{<br/>&#160;&#160; my_data_stuct&#160;*c_data&#160;= (my_data_struct)&#160;ctx_data;<br/>&#160;&#160; unsigned&#160;char&#160;*data;<br/>&#160;&#160;&#160;<br/>&#160;&#160; /*&#160;Do&#160;anything&#160;need&#160;with&#160;context&#160;data&#160;in order<br/>&#160;&#160; &#160;*&#160;to&#160;define&#160;the&#160;type,&#160;the&#160;len&#160;and&#160;the&#160;payload<br/>&#160;&#160; &#160;*/<br/>&#160;&#160; type&#160;=&#160;...&#160;;<br/>&#160;&#160; len&#160;=&#160;...&#160;;<br/>&#160;&#160; data&#160;=&#160;...&#160;;</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft25991">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft25991">36/39</p>
</div>
<!-- Page 260 -->
<a name="260"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page260-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2260.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft26090">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft26080">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft26091">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft26091">FINAL |&#160;1.10</p>
<p style="position:absolute;top:168px;left:105px;white-space:nowrap" class="ft260121"><b>&#160;&#160; /*&#160;We&#160;add&#160;the&#160;supplemental&#160;data&#160;to&#160;the&#160;list<br/>&#160;&#160; &#160;*&#160;of&#160;supplemental&#160;data&#160;to&#160;be&#160;sent&#160;<br/>&#160;&#160; &#160;*/<br/>&#160;&#160; SSL_SUPPL_DATA_push&#160;(ssl,&#160;type,&#160;len,&#160;data);<br/>}</b></p>
<p style="position:absolute;top:284px;left:105px;white-space:nowrap" class="ft260121"><b>int&#160;suppl_data_handle_srvr&#160;(SSL&#160;*ssl,&#160;int&#160;type,&#160;<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;unsigned&#160;char&#160;*data,&#160;int&#160;len,&#160;void&#160;*&#160;ctx_data)&#160;{</b></p>
<p style="position:absolute;top:341px;left:105px;white-space:nowrap" class="ft260121"><b>&#160;&#160; /*&#160;Handling&#160;the&#160;supplemental&#160;data&#160;entry&#160;here...<br/>&#160;&#160; &#160;*&#160;Just&#160;a&#160;print&#160;out&#160;as&#160;example<br/>&#160;&#160; &#160;*/<br/>&#160;&#160; printf&#160;(&#34;Received&#160;suppl&#160;data&#160;of&#160;type&#160;%d&#160;and&#160;size&#160;%d\n&#34;,&#160;<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; type,&#160;len);</b></p>
<p style="position:absolute;top:456px;left:105px;white-space:nowrap" class="ft260121"><b>&#160;&#160; for&#160;(i=0;&#160;i&lt;len;&#160;i++)&#160;{<br/>&#160;&#160; &#160;&#160;&#160;printf&#160;(&#34;%x&#160;&#34;,&#160;*(data++));<br/>&#160;&#160; }<br/>&#160;&#160; printf&#160;(&#34;\n&#34;);<br/>}</b></p>
<p style="position:absolute;top:572px;left:105px;white-space:nowrap" class="ft260121"><b>int&#160;cb_srvr&#160;(SSL&#160;*ssl,&#160;TLSEXT_GENERIC&#160;*ext)&#160;{<br/>&#160;&#160; /*&#160;Fetching&#160;context&#160;data&#160;*/<br/>&#160;&#160; my_data_stuct&#160;ctx_data&#160;= ext-&gt;ssl_tlsext_ctx_data;</b></p>
<p style="position:absolute;top:648px;left:105px;white-space:nowrap" class="ft260121"><b>&#160;&#160; /*&#160;The&#160;server&#160;received&#160;the&#160;extension,<br/>&#160;&#160; &#160;*&#160;hence&#160;is&#160;can&#160;safely&#160;send&#160;it&#160;back<br/>&#160;&#160; &#160;*&#160;to&#160;the&#160;client<br/>&#160;&#160; &#160;*/<br/>&#160;&#160; SSL_TLSEXT_server_create&#160;(ssl,&#160;type,&#160;len,&#160;data);</b></p>
<p style="position:absolute;top:764px;left:105px;white-space:nowrap" class="ft260121"><b>&#160;&#160; SSL_SUPPL_DATA_prepare_set<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;(ssl,&#160;&amp;my_prepare_srvr,&#160;ctx_data);<br/>&#160;&#160; SSL_SUPPL_DATA_cb_set<br/>&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;(ssl,&#160;type,&#160;&amp;suppl_data_handle_srvr,&#160;ctx_data);<br/>}</b></p>
<p style="position:absolute;top:879px;left:105px;white-space:nowrap" class="ft260121"><b>int&#160;main&#160;() {<br/>&#160;&#160; int&#160;type&#160;=&#160;...&#160;/*&#160;type&#160;of&#160;the&#160;extension&#160;*/<br/>&#160;&#160; int&#160;size&#160;=&#160;...&#160;/*&#160;size&#160;of&#160;the&#160;extension&#160;*/<br/>&#160;&#160; unsigned&#160;char&#160;data&#160;= ...&#160;/*&#160;payload&#160;of&#160;the&#160;extension&#160;*/<br/>&#160;&#160; my_data_struct&#160;ctx_data&#160;=&#160;...&#160;/* context&#160;data&#160;*/<br/>&#160;&#160;&#160;<br/>&#160;&#160; ...</b></p>
<p style="position:absolute;top:1032px;left:105px;white-space:nowrap" class="ft260121"><b>&#160;&#160; /*&#160;OpenSSL&#160;standard&#160;stuffs&#160;here&#160;*/<br/>&#160;&#160; if&#160;(!(ssl&#160;= SSL_new(ctx)))<br/>&#160;&#160; &#160;&#160;&#160;int_error(&#34;Error&#160;creating&#160;an&#160;SSL&#160;context&#34;);</b></p>
<p style="position:absolute;top:1109px;left:105px;white-space:nowrap" class="ft260120"><b>&#160;&#160; ...</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft26091">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft26091">37/39</p>
</div>
<!-- Page 261 -->
<a name="261"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page261-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2261.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft26190">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft26180">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft26191">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft26191">FINAL |&#160;1.10</p>
<p style="position:absolute;top:168px;left:105px;white-space:nowrap" class="ft261120"><b>&#160;&#160; SSL_TLSEXT_server_cb_set&#160;(ssl,&#160;type,&#160;&amp;cb_srvr,&#160;ctx_data);</b></p>
<p style="position:absolute;top:207px;left:105px;white-space:nowrap" class="ft261120"><b>&#160;&#160; ...</b></p>
<p style="position:absolute;top:245px;left:105px;white-space:nowrap" class="ft261121"><b>&#160;&#160; if&#160;(SSL_accept(ssl)&#160;&lt;=&#160;0)<br/>&#160;&#160; &#160;&#160;&#160;int_error(&#34;Error&#160;accepting&#160;SSL&#160;connection&#34;);</b></p>
<p style="position:absolute;top:303px;left:105px;white-space:nowrap" class="ft261121"><b>&#160;&#160; /*&#160;Now&#160;the&#160;secure&#160;channel&#160;is established&#160;*/<br/>}</b></p>
<p style="position:absolute;top:359px;left:83px;white-space:nowrap" class="ft261104"><i><b>B.2&#160;&#160;&#160;DAA&#160;anonymous&#160;authentication</b></i></p>
<p style="position:absolute;top:391px;left:83px;white-space:nowrap" class="ft26184">Source&#160;code for the client application.</p>
<p style="position:absolute;top:419px;left:105px;white-space:nowrap" class="ft261121"><b>/*&#160;Needed&#160;variables&#160;*/<br/>unsigned&#160;char&#160;* signed_data&#160;=&#160;...&#160;;<br/>uint16_t&#160;signed_data_len&#160;= ...&#160;;</b></p>
<p style="position:absolute;top:496px;left:105px;white-space:nowrap" class="ft261121"><b>unsigned&#160;char&#160;* signed_hash&#160;=&#160;...&#160;;<br/>uint8_t&#160;signed_hash_len&#160;=&#160;...&#160;;</b></p>
<p style="position:absolute;top:553px;left:105px;white-space:nowrap" class="ft261120"><b>/*&#160;Creation&#160;of&#160;the&#160;TSS&#160;objects&#160;here&#160;...&#160;*/</b></p>
<p style="position:absolute;top:592px;left:105px;white-space:nowrap" class="ft261121"><b>/*&#160;Creating&#160;the&#160;DAA&#160;object&#160;*/<br/>Dauth&#160;* daa&#160;=&#160;Dauth_new&#160;(PLATFORM);</b></p>
<p style="position:absolute;top:649px;left:105px;white-space:nowrap" class="ft261121"><b>/*&#160;Passing&#160;the&#160;necesasry&#160;parameters&#160;*/<br/>Dauth_SignedData_set&#160;(daa,&#160;signed_data,&#160;signed_data_len);<br/>Dauth_SignedData_set&#160;(daa,&#160;signed_hash,&#160;signed_hash_len);</b></p>
<p style="position:absolute;top:726px;left:105px;white-space:nowrap" class="ft261121"><b>/*&#160;Creating&#160;SSL&#160;context&#160;*/<br/>if&#160;(!(ssl&#160;= SSL_new(ctx)))<br/>&#160;&#160; int_error(&#34;Error&#160;creating&#160;an SSL&#160;context&#34;);</b></p>
<p style="position:absolute;top:803px;left:105px;white-space:nowrap" class="ft261120"><b>Dauth_DAA_anonym_auth_new&#160;(ssl,&#160;daa);</b></p>
<p style="position:absolute;top:841px;left:105px;white-space:nowrap" class="ft261121"><b>/*&#160;Standard&#160;OpenSSL&#160;TLS&#160;connection&#160;here&#160;*/<br/>SSL_connect&#160;(ssl);</b></p>
<p style="position:absolute;top:899px;left:83px;white-space:nowrap" class="ft26184">Source&#160;code for the server application.</p>
<p style="position:absolute;top:927px;left:105px;white-space:nowrap" class="ft261121"><b>/*&#160;Needed&#160;variables&#160;*/<br/>unsigned&#160;char&#160;* basename&#160;= ...&#160;;<br/>uint8_t&#160;basename_len&#160;= ...&#160;;</b></p>
<p style="position:absolute;top:1004px;left:105px;white-space:nowrap" class="ft261121"><b>/*&#160;Client&#160;certificate&#160;*/<br/>X509&#160;*cert&#160;=&#160;NULL;</b></p>
<p style="position:absolute;top:1100px;left:105px;white-space:nowrap" class="ft261120"><b>/*&#160;Creation&#160;of&#160;the&#160;TSS&#160;objects&#160;here&#160;...&#160;*/</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft26191">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft26191">38/39</p>
</div>
<!-- Page 262 -->
<a name="262"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page262-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2262.png" alt="background image"/>
<p style="position:absolute;top:128px;left:97px;white-space:nowrap" class="ft26290">&#160;</p>
<p style="position:absolute;top:85px;left:96px;white-space:nowrap" class="ft26280">&#160;</p>
<p style="position:absolute;top:92px;left:212px;white-space:nowrap" class="ft26291">OpenSSL&#160;engine/DAA&#160;enhancement&#160;design&#160;specification</p>
<p style="position:absolute;top:92px;left:673px;white-space:nowrap" class="ft26291">FINAL |&#160;1.10</p>
<p style="position:absolute;top:149px;left:105px;white-space:nowrap" class="ft262121"><b>/*&#160;Creating&#160;the&#160;DAA&#160;object&#160;*/<br/>Dauth&#160;* daa&#160;=&#160;Dauth_new&#160;(VERIFIER);</b></p>
<p style="position:absolute;top:207px;left:105px;white-space:nowrap" class="ft262121"><b>/*&#160;Passing&#160;the&#160;necesasry&#160;parameters&#160;*/<br/>Dauth_Basename_set&#160;(daa,&#160;basename,&#160;basename_len);</b></p>
<p style="position:absolute;top:264px;left:105px;white-space:nowrap" class="ft262121"><b>/*&#160;Creating&#160;SSL&#160;context&#160;*/<br/>if&#160;(!(ssl&#160;= SSL_new(ctx)))<br/>&#160;&#160; int_error(&#34;Error&#160;creating&#160;an SSL&#160;context&#34;);</b></p>
<p style="position:absolute;top:341px;left:105px;white-space:nowrap" class="ft262120"><b>Dauth_DAA_anonym_auth_new&#160;(ssl,&#160;daa);</b></p>
<p style="position:absolute;top:380px;left:105px;white-space:nowrap" class="ft262121"><b>/*&#160;Standard&#160;OpenSSL&#160;TLS&#160;connection&#160;here&#160;*/<br/>SSL_accept&#160;(ssl)</b></p>
<p style="position:absolute;top:437px;left:105px;white-space:nowrap" class="ft262121"><b>/*&#160;Verify&#160;anonymous&#160;authentication&#160;*/<br/>cert&#160;= SSL_get_peer_certificate&#160;(ssl);&#160;/*Getting&#160;client&#160;certificate*/<br/>Dauth_verify_authentication&#160;(daa,&#160;cert);<br/>if&#160;(Dauth_authentication_state&#160;(daa)&#160;!= Authenticated)<br/>&#160;&#160; int_error&#160;(&#34;Error&#160;verifying&#160;the&#160;DAA&#160;authentication&#34;);</b></p>
<p style="position:absolute;top:552px;left:105px;white-space:nowrap" class="ft262120"><b>...</b></p>
<p style="position:absolute;top:1160px;left:83px;white-space:nowrap" class="ft26291">Open_TC Deliverable 03c.6</p>
<p style="position:absolute;top:1160px;left:763px;white-space:nowrap" class="ft26291">39/39</p>
</div>
<!-- Page 263 -->
<a name="263"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page263-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2263.png" alt="background image"/>
<p style="position:absolute;top:242px;left:195px;white-space:nowrap" class="ft2630"><b>D03d.1&#160;JAVA&#160;High Level&#160;overview</b></p>
<p style="position:absolute;top:319px;left:91px;white-space:nowrap" class="ft2631"><b>Project&#160;number</b></p>
<p style="position:absolute;top:319px;left:425px;white-space:nowrap" class="ft2632">IST-027635</p>
<p style="position:absolute;top:345px;left:91px;white-space:nowrap" class="ft2631"><b>Project&#160;acronym</b></p>
<p style="position:absolute;top:345px;left:425px;white-space:nowrap" class="ft2632">Open_TC</p>
<p style="position:absolute;top:370px;left:91px;white-space:nowrap" class="ft2631"><b>Project&#160;title</b></p>
<p style="position:absolute;top:370px;left:425px;white-space:nowrap" class="ft2632">Open Trusted Computing</p>
<p style="position:absolute;top:396px;left:91px;white-space:nowrap" class="ft2631"><b>Deliverable&#160;type</b></p>
<p style="position:absolute;top:396px;left:425px;white-space:nowrap" class="ft2632">Report&#160;(see&#160;p&#160;84/85&#160;Annex&#160;1 -&#160;Nature)</p>
<p style="position:absolute;top:439px;left:91px;white-space:nowrap" class="ft2631"><b>Deliverable&#160;reference&#160;number</b></p>
<p style="position:absolute;top:439px;left:425px;white-space:nowrap" class="ft2632">IST-027635/D3.1/RC1</p>
<p style="position:absolute;top:464px;left:91px;white-space:nowrap" class="ft2631"><b>Deliverable&#160;title</b></p>
<p style="position:absolute;top:464px;left:425px;white-space:nowrap" class="ft2632">JAVA&#160;High&#160;Level&#160;overview</p>
<p style="position:absolute;top:490px;left:91px;white-space:nowrap" class="ft2631"><b>WP&#160;contributing&#160;to&#160;the&#160;deliverable</b></p>
<p style="position:absolute;top:490px;left:425px;white-space:nowrap" class="ft2632">WP3</p>
<p style="position:absolute;top:515px;left:91px;white-space:nowrap" class="ft2631"><b>Due&#160;date</b></p>
<p style="position:absolute;top:515px;left:425px;white-space:nowrap" class="ft2632">JUL2007</p>
<p style="position:absolute;top:541px;left:91px;white-space:nowrap" class="ft2631"><b>Actual&#160;submission&#160;date</b></p>
<p style="position:absolute;top:584px;left:91px;white-space:nowrap" class="ft2631"><b>Responsible&#160;Organisation</b></p>
<p style="position:absolute;top:584px;left:424px;white-space:nowrap" class="ft2632">IAIK</p>
<p style="position:absolute;top:609px;left:91px;white-space:nowrap" class="ft2631"><b>Authors</b></p>
<p style="position:absolute;top:609px;left:424px;white-space:nowrap" class="ft2632">IAIK</p>
<p style="position:absolute;top:632px;left:91px;white-space:nowrap" class="ft2631"><b>Abstract</b></p>
<p style="position:absolute;top:635px;left:424px;white-space:nowrap" class="ft26364">The&#160;&#160;Java&#160;&#160;programming&#160;&#160;language&#160;&#160;and&#160;&#160;related<br/>technologies&#160;&#160;have&#160;&#160;undergone&#160;&#160;a&#160;&#160;broad&#160;&#160;adoption<br/>ranging&#160;&#160;from&#160;&#160;large-scale&#160;&#160;business&#160;&#160;applications<br/>hosted&#160;&#160;in&#160;&#160;dedicated&#160;&#160;data&#160;&#160;centers&#160;&#160;to&#160;&#160;resource<br/>constrained&#160;&#160;environments&#160;&#160;as&#160;&#160;found&#160;&#160;in&#160;&#160;mobile<br/>phones&#160;or&#160;Personal&#160;Digital&#160;Assistants&#160;(PDAs).&#160;Java<br/>programs&#160;are&#160;not&#160;compiled&#160;to&#160;native&#160;machine&#160;code<br/>but&#160;to&#160;a&#160;special&#160;form&#160;of&#160;&#160;intermediate&#160;code,&#160;called<br/>byte&#160;&#160;code.&#160;&#160;This&#160;&#160;byte&#160;&#160;code&#160;&#160;is&#160;&#160;then&#160;&#160;executed&#160;&#160;by&#160;&#160;a<br/>virtual&#160;&#160;machine&#160;&#160;(VM)&#160;&#160;called&#160;&#160;the&#160;&#160;Java&#160;&#160;VM.&#160;&#160;This<br/>characteristic&#160;&#160;makes&#160;&#160;Java&#160;&#160;an&#160;&#160;excellent&#160;&#160;choice&#160;&#160;for<br/>development&#160;aiming&#160;at&#160;heterogenous&#160;environments<br/>as&#160;for example&#160;grid&#160;computing provides.</p>
<p style="position:absolute;top:888px;left:91px;white-space:nowrap" class="ft2631"><b>Keywords</b></p>
<p style="position:absolute;top:878px;left:424px;white-space:nowrap" class="ft2634">TPM,&#160;TSS,&#160;JAVA,&#160;Virtualisation,&#160;TC&#160;enhanced<br/>JAVA</p>
<p style="position:absolute;top:938px;left:92px;white-space:nowrap" class="ft2631"><b>Dissemination&#160;level</b></p>
<p style="position:absolute;top:938px;left:423px;white-space:nowrap" class="ft2632">Public&#160;</p>
<p style="position:absolute;top:963px;left:92px;white-space:nowrap" class="ft2631"><b>Revision</b></p>
<p style="position:absolute;top:963px;left:423px;white-space:nowrap" class="ft2632">RC1</p>
<p style="position:absolute;top:1014px;left:90px;white-space:nowrap" class="ft2631"><b>Instrument</b></p>
<p style="position:absolute;top:1014px;left:271px;white-space:nowrap" class="ft2632">IP</p>
<p style="position:absolute;top:1005px;left:452px;white-space:nowrap" class="ft2636"><b>Start&#160;date&#160;of the<br/>project</b></p>
<p style="position:absolute;top:1014px;left:632px;white-space:nowrap" class="ft2632">1</p>
<p style="position:absolute;top:1014px;left:643px;white-space:nowrap" class="ft2633">st</p>
<p style="position:absolute;top:1014px;left:652px;white-space:nowrap" class="ft2632">&#160;November&#160;2005</p>
<p style="position:absolute;top:1043px;left:90px;white-space:nowrap" class="ft2631"><b>Thematic&#160;Priority</b></p>
<p style="position:absolute;top:1043px;left:271px;white-space:nowrap" class="ft2632">IST</p>
<p style="position:absolute;top:1043px;left:452px;white-space:nowrap" class="ft2631"><b>Duration</b></p>
<p style="position:absolute;top:1043px;left:632px;white-space:nowrap" class="ft2632">42 months</p>
</div>
<!-- Page 264 -->
<a name="264"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page264-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2264.png" alt="background image"/>
<p style="position:absolute;top:92px;left:329px;white-space:nowrap" class="ft2647">JAVA&#160;High&#160;Level overview</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft2647">RC1</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft2649"><b>Table of&#160;Contents</b></p>
<p style="position:absolute;top:206px;left:94px;white-space:nowrap" class="ft2644">1.1&#160;The Role&#160;of Java......................................................................................................5<br/>1.2&#160;Integration of Trusted Computing&#160;into Java............................................................5<br/>1.3&#160;Network&#160;Security&#160;and&#160;Isolation&#160;of&#160;Security-Critical&#160;Applications............................7<br/>1.4&#160;Applicability&#160;of&#160;TC-Enhanced&#160;Java..........................................................................8</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2647">Open_TC&#160;Deliverable&#160;D03d.1</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft2647">2/6</p>
</div>
<!-- Page 265 -->
<a name="265"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft265124{font-size:21px;font-family:ArialMT;color:#000000;}
	.ft265125{font-size:18px;font-family:ArialMT;color:#000000;}
	.ft265126{font-size:18px;line-height:20px;font-family:ArialMT;color:#000000;}
-->
</style>
<div id="page265-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2265.png" alt="background image"/>
<p style="position:absolute;top:92px;left:329px;white-space:nowrap" class="ft2657">JAVA&#160;High&#160;Level overview</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft2657">RC1</p>
<p style="position:absolute;top:174px;left:85px;white-space:nowrap" class="ft265124">WP03d.1: Java Integration – Highlevel Overview</p>
<p style="position:absolute;top:206px;left:85px;white-space:nowrap" class="ft265126">revision 2.0<br/>Institute for&#160;Applied&#160;Information Processing&#160;and Communications&#160;(IAIK), Technical<br/>University&#160;Graz</p>
<p style="position:absolute;top:287px;left:85px;white-space:nowrap" class="ft26564">Work&#160;package&#160;03d&#160;focuses&#160;on&#160;the&#160;integration&#160;of&#160;Trusted&#160;Computing&#160;(TC)&#160;technology&#160;into&#160;the&#160;Java<br/>programming&#160;language.&#160;This&#160;section outlines&#160;the&#160;importance&#160;of&#160;this work&#160;and&#160;presents&#160;an&#160;overview<br/>of&#160;the individual&#160;aspects&#160;addressed as&#160;part&#160;of&#160;this work&#160;package.</p>
<p style="position:absolute;top:377px;left:85px;white-space:nowrap" class="ft2651"><b>1.1&#160;The&#160;Role&#160;of&#160;Java</b></p>
<p style="position:absolute;top:409px;left:85px;white-space:nowrap" class="ft26564">The&#160;&#160;Java&#160;&#160;programming&#160;&#160;language&#160;&#160;and&#160;&#160;related&#160;&#160;technologies&#160;&#160;have&#160;&#160;undergone&#160;&#160;a&#160;&#160;broad&#160;&#160;adoption<br/>ranging&#160;&#160;from&#160;&#160;large-scale&#160;&#160;business&#160;&#160;applications&#160;&#160;hosted&#160;&#160;in&#160;&#160;dedicated&#160;&#160;data&#160;&#160;centers&#160;&#160;to&#160;&#160;resource<br/>constrained&#160;environments&#160;as&#160;found&#160;in&#160;mobile&#160;phones&#160;or&#160;Personal&#160;Digital&#160;Assistants&#160;(PDAs).&#160;Java<br/>programs&#160;are&#160;not&#160;compiled&#160;to&#160;native&#160;machine&#160;code&#160;but&#160;to&#160;a&#160;special&#160;form&#160;of&#160;intermediate&#160;code,<br/>called&#160;byte&#160;code.&#160;This&#160;byte&#160;code&#160;is&#160;then&#160;executed&#160;by&#160;a&#160;virtual&#160;machine&#160;(VM)&#160;called&#160;the&#160;Java&#160;VM.<br/>This&#160;&#160;characteristic&#160;&#160;makes&#160;&#160;Java&#160;&#160;an&#160;&#160;excellent&#160;&#160;choice&#160;&#160;for&#160;&#160;development&#160;&#160;aiming&#160;&#160;at&#160;&#160;heterogenous<br/>environments&#160;as for example&#160;grid computing&#160;provides.<br/>In&#160;contrast&#160;to&#160;other&#160;programming&#160;languages&#160;such&#160;as&#160;C&#160;or&#160;C++,&#160;Java&#160;is&#160;equipped&#160;with&#160;inherent<br/>security&#160;features&#160;supporting&#160;the&#160;development&#160;of&#160;more&#160;secure&#160;software.&#160;Among&#160;those&#160;features&#160;are<br/>automatic&#160;array-bounds&#160;checking&#160;and&#160;garbage&#160;collection.&#160;These&#160;features&#160;help&#160;to&#160;avoid&#160;common<br/>problems&#160;such&#160;as&#160;buffer&#160;overflows&#160;or&#160;memory&#160;leaks.&#160;Additional&#160;aspects&#160;that&#160;distinguish&#160;Java&#160;from<br/>other&#160;environments&#160;are code-signing mechanisms and&#160;the&#160;verification of code&#160;when&#160;it is&#160;loaded.</p>
<p style="position:absolute;top:670px;left:85px;white-space:nowrap" class="ft2651"><b>1.2&#160;Integration&#160;of Trusted&#160;Computing&#160;into&#160;Java</b></p>
<p style="position:absolute;top:702px;left:85px;white-space:nowrap" class="ft26564">With&#160;the&#160;advent&#160;of&#160;Trusted&#160;Computing&#160;(TC)&#160;as&#160;envisioned&#160;by&#160;the&#160;Trusted Computing&#160;Group&#160;(TCG),<br/>it&#160;becomes&#160;possible&#160;to&#160;further&#160;enhance&#160;Java&#160;in&#160;terms&#160;of&#160;security.&#160;As&#160;a&#160;first&#160;step,&#160;it&#160;is&#160;required&#160;to<br/>provide&#160;&#160;simple&#160;&#160;mechanisms&#160;&#160;for&#160;&#160;Java&#160;&#160;developers&#160;&#160;to&#160;&#160;access&#160;&#160;the&#160;&#160;functionality&#160;&#160;provided&#160;&#160;by&#160;&#160;the<br/>Trusted&#160;Platform Module&#160;(TPM)&#160;and the TCG&#160;Software&#160;Stack&#160;(TSS).&#160;<br/>Note&#160;that&#160;the TSS not&#160;only&#160;exposes&#160;a&#160;software&#160;interface&#160;to&#160;access&#160;the&#160;functionality&#160;of&#160;the&#160;TPM,&#160;but<br/>also&#160;&#160;features&#160;&#160;more&#160;&#160;complex&#160;&#160;operations,&#160;&#160;which&#160;&#160;are&#160;&#160;typically&#160;&#160;combining&#160;&#160;several&#160;&#160;basic&#160;&#160;functions.<br/>Amongst&#160;&#160;others,&#160;&#160;the&#160;&#160;TSS&#160;&#160;provides&#160;&#160;functions&#160;&#160;to&#160;&#160;generate&#160;&#160;cryptographic&#160;&#160;keys&#160;&#160;and&#160;&#160;signatures.<br/>Furthermore,&#160;&#160;it&#160;&#160;provides&#160;&#160;functions&#160;&#160;to&#160;&#160;measure&#160;&#160;and&#160;&#160;attest&#160;&#160;the&#160;&#160;state&#160;&#160;of&#160;&#160;a&#160;&#160;platform&#160;&#160;and&#160;&#160;to<br/>cryptographically protect&#160;data via&#160;sealing&#160;and binding functions.<br/>The&#160;TSS itself&#160;is&#160;designed&#160;to be&#160;implemented&#160;using&#160;the&#160;C&#160;programming&#160;language&#160;and&#160;thus&#160;offers&#160;a<br/>very&#160;straightforward&#160;way&#160;to&#160;call&#160;each&#160;function.&#160;In&#160;the&#160;Java&#160;environment&#160;a&#160;programming&#160;interface&#160;is<br/>expected&#160;to&#160;be&#160;an&#160;object&#160;oriented&#160;Application&#160;Programming&#160;Interface&#160;(API).&#160;To&#160;enable&#160;the&#160;use&#160;of<br/>the&#160;TSS&#160;functionality&#160;from&#160;Java,&#160;additional&#160;layers&#160;have&#160;to&#160;be&#160;introduced.&#160;&#160;&#160;Illustration&#160;1&#160;depicts&#160;a<br/>possible&#160;implementation,&#160;giving&#160;an&#160;overview&#160;of&#160;the&#160;stacked&#160;layers&#160;from&#160;highest&#160;abstraction&#160;(Java)<br/>down&#160;&#160;to&#160;&#160;the&#160;&#160;hardware.&#160;&#160;Each&#160;&#160;layer&#160;&#160;transforms&#160;&#160;and&#160;&#160;adapts&#160;&#160;calls&#160;&#160;to&#160;&#160;the&#160;&#160;next&#160;&#160;layer,&#160;&#160;offering<br/>functionality&#160;as&#160;possible&#160;by&#160;the&#160;specific&#160;environment&#160;constraints.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2657">Open_TC&#160;Deliverable&#160;D03d.1</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft2657">3/6</p>
</div>
<!-- Page 266 -->
<a name="266"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page266-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2266.png" alt="background image"/>
<p style="position:absolute;top:92px;left:329px;white-space:nowrap" class="ft2667">JAVA&#160;High&#160;Level overview</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft2667">RC1</p>
<p style="position:absolute;top:601px;left:85px;white-space:nowrap" class="ft26664">In&#160;order&#160;to&#160;allow&#160;access&#160;not&#160;only&#160;to&#160;the&#160;local&#160;TSS&#160;but&#160;also&#160;to&#160;trusted&#160;environments&#160;located&#160;on<br/>remote&#160;&#160;machines,&#160;&#160;the&#160;&#160;Java&#160;&#160;TSS&#160;&#160;API&#160;&#160;has&#160;&#160;to&#160;&#160;implement&#160;&#160;a&#160;&#160;remote&#160;&#160;procedure&#160;&#160;call&#160;&#160;mechanism.<br/>Conforming&#160;to&#160;the&#160;TSS&#160;1.2&#160;specification,&#160;this&#160;facility&#160;will&#160;be&#160;based&#160;on&#160;the&#160;Simple&#160;Object&#160;Access<br/>Protocol&#160;(SOAP) ensuring interoperability with&#160;TSS implementations&#160;from&#160;different vendors&#160;running<br/>on&#160;a&#160;variety&#160;of&#160;platforms.&#160;The&#160;two&#160;ways&#160;to&#160;access&#160;the&#160;TSS&#160;from&#160;Java&#160;(local&#160;API&#160;calls&#160;and&#160;SOAP)<br/>are presented&#160;in&#160;Illustration&#160;2.<br/>Java&#160;&#160;integration,&#160;&#160;as&#160;&#160;planned&#160;&#160;for&#160;&#160;the<br/>OpenTC&#160;&#160;project,&#160;&#160;will&#160;&#160;go&#160;&#160;beyond&#160;&#160;simply<br/>allowing&#160;&#160;Java&#160;&#160;developers&#160;&#160;to&#160;&#160;access&#160;&#160;TPM<br/>and&#160;&#160;TSS&#160;&#160;functionality.&#160;&#160;The&#160;&#160;features&#160;&#160;of&#160;&#160;the<br/>TC&#160;architecture&#160;will&#160;be&#160;used&#160;to&#160;extend&#160;&#160;the<br/>trust and&#160;security&#160;provided&#160;by the underlying<br/>operating&#160;&#160;systems&#160;&#160;to&#160;&#160;the&#160;&#160;Java&#160;&#160;VM&#160;&#160;and&#160;&#160;its<br/>applications.&#160;A&#160;fundamental&#160;part&#160;of&#160;the&#160;TCG<br/>specification&#160;&#160;is&#160;&#160;the&#160;&#160;creation&#160;&#160;of&#160;&#160;a&#160;&#160;chain&#160;&#160;of<br/>trust&#160;&#160;that&#160;&#160;is&#160;&#160;rooted&#160;&#160;in&#160;&#160;the&#160;&#160;TPM&#160;&#160;and&#160;&#160;its<br/>surrounding&#160;&#160;trusted&#160;&#160;building&#160;&#160;blocks.&#160;&#160;These<br/>building&#160;blocks&#160;include&#160;the&#160;core&#160;root&#160;of&#160;trust<br/>for&#160;measurement&#160;which&#160;measures&#160;the&#160;BIOS<br/>before&#160;&#160;it&#160;&#160;hands&#160;&#160;over&#160;&#160;control&#160;&#160;to&#160;&#160;it.&#160;&#160;The<br/>measurements,&#160;&#160;which&#160;&#160;actually&#160;&#160;are<br/>cryptographic&#160;&#160;hashes&#160;&#160;of&#160;&#160;the&#160;&#160;code,&#160;&#160;are<br/>securely&#160;&#160;stored&#160;&#160;in&#160;&#160;the&#160;&#160;TPM.&#160;&#160;The&#160;&#160;chain&#160;&#160;of&#160;&#160;trust&#160;&#160;is&#160;&#160;continued&#160;&#160;up&#160;&#160;to&#160;&#160;the&#160;&#160;operating&#160;&#160;system&#160;&#160;and<br/>application&#160;&#160;level.&#160;In&#160;fact,&#160;a&#160;Java&#160;VM&#160;is&#160;nothing&#160;else&#160;but&#160;an&#160;application&#160;that&#160;is&#160;executed&#160;by&#160;the<br/>operating&#160;system.&#160;After&#160;control&#160;has&#160;been&#160;passed&#160;to&#160;the&#160;Java&#160;VM,&#160;it&#160;is&#160;up&#160;to&#160;the&#160;VM&#160;to&#160;enforce&#160;TC<br/>features.&#160;&#160;Java&#160;&#160;allows&#160;&#160;to&#160;&#160;dynamically&#160;&#160;load&#160;&#160;additional&#160;&#160;code&#160;&#160;in&#160;&#160;the&#160;&#160;form&#160;&#160;of&#160;&#160;classes&#160;&#160;at&#160;&#160;runtime.<br/>Consequently,&#160;the&#160;class&#160;loading&#160;mechanisms&#160;have&#160;to&#160;be&#160;extended&#160;in&#160;such&#160;a&#160;way&#160;that&#160;all&#160;loaded<br/>classes&#160;get&#160;measured&#160;and&#160;the&#160;hash&#160;values&#160;are&#160;stored&#160;in&#160;the&#160;platform&#160;configuration&#160;registers&#160;of&#160;the</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2667">Open_TC&#160;Deliverable&#160;D03d.1</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft2667">4/6</p>
<p style="position:absolute;top:542px;left:201px;white-space:nowrap" class="ft26612"><b>Illustration 1:&#160;TSS Abstraction Layers</b></p>
<p style="position:absolute;top:968px;left:452px;white-space:nowrap" class="ft26612"><b>Illustration 2:&#160;TSS Access&#160;Mechanisms</b></p>
</div>
<!-- Page 267 -->
<a name="267"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page267-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2267.png" alt="background image"/>
<p style="position:absolute;top:92px;left:329px;white-space:nowrap" class="ft2677">JAVA&#160;High&#160;Level overview</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft2677">RC1</p>
<p style="position:absolute;top:155px;left:85px;white-space:nowrap" class="ft26764">TPM.&#160;This&#160;measuring&#160;however&#160;is&#160;not&#160;limited&#160;to&#160;classes&#160;loaded&#160;from&#160;local&#160;storage.&#160;Other&#160;variations<br/>of&#160;dynamically&#160;loaded&#160;code&#160;such&#160;as&#160;Java&#160;Applets&#160;have&#160;to&#160;be&#160;taken&#160;into&#160;account.&#160;Additionally,&#160;the<br/>behavior&#160;and&#160;trustworthiness&#160;of&#160;applications&#160;can&#160;considerably&#160;be&#160;influenced&#160;by&#160;configuration&#160;files<br/>or&#160;external&#160;scripts&#160;processed&#160;by&#160;the&#160;application.&#160;Therefore,&#160;these&#160;aspects&#160;have&#160;to&#160;be&#160;considered<br/>as&#160;well&#160;as&#160;native&#160;code.&#160;With&#160;the&#160;Java&#160;Native&#160;Interface&#160;(JNI),&#160;developers&#160;are&#160;able&#160;to&#160;write&#160;native<br/>libraries&#160;&#160;which&#160;&#160;can&#160;&#160;be&#160;&#160;loaded&#160;&#160;by&#160;&#160;the&#160;&#160;Java&#160;&#160;VM.&#160;&#160;Not&#160;&#160;all&#160;&#160;these&#160;&#160;goals&#160;&#160;can&#160;&#160;be&#160;&#160;achieved&#160;&#160;by<br/>modifications&#160;and&#160;extensions&#160;of&#160;the&#160;Java&#160;class&#160;library.&#160;Additionally,&#160;enhancements&#160;of&#160;the&#160;VM&#160;itself<br/>are&#160;required.&#160;Illustration&#160;3&#160;shows&#160;the&#160;chain&#160;of&#160;trust,&#160;beginning&#160;by&#160;the&#160;root&#160;of&#160;trust&#160;and&#160;ending&#160;in&#160;the<br/>dynamically loaded classes.</p>
<p style="position:absolute;top:340px;left:482px;white-space:nowrap" class="ft2676"><b>1.3&#160;Network&#160;Security&#160;and<br/>Isolation&#160;of&#160;Security-Critical<br/>Applications</b></p>
<p style="position:absolute;top:410px;left:482px;white-space:nowrap" class="ft26764">Remote&#160;&#160;attestation&#160;&#160;-&#160;&#160;which&#160;&#160;means&#160;&#160;that&#160;&#160;a<br/>remote&#160;party&#160;is&#160;able&#160;to&#160;verify&#160;that&#160;a&#160;platform<br/>is&#160;&#160;in&#160;&#160;a&#160;&#160;specific&#160;&#160;state&#160;&#160;regarding&#160;&#160;the<br/>applications&#160;&#160;it&#160;&#160;is&#160;&#160;executing&#160;&#160;-&#160;&#160;is&#160;&#160;one&#160;&#160;of&#160;&#160;the<br/>core&#160;issues&#160;of&#160;Trusted&#160;Computing.&#160;It&#160;allows<br/>a&#160;&#160;remote&#160;&#160;party,&#160;&#160;such&#160;&#160;as&#160;&#160;an&#160;&#160;Internet-<br/>merchant,&#160;to&#160;verify&#160;that&#160;it&#160;is&#160;communicating<br/>with&#160;a&#160;valid&#160;customer&#160;and&#160;that&#160;the&#160;machine<br/>of&#160;the&#160;&#160;customer&#160;is&#160;in&#160;a&#160;proper&#160;state&#160;–&#160;e.g.<br/>not&#160;infected&#160;with&#160;viruses&#160;or&#160;worms&#160;that&#160;could<br/>illegally&#160;&#160;interfere&#160;&#160;with&#160;&#160;a&#160;&#160;business<br/>transaction.&#160;At&#160;the&#160;same&#160;time,&#160;the&#160;customer<br/>significantly&#160;benefits&#160;from&#160;trusted&#160;computing<br/>because&#160;it&#160;enables&#160;him to&#160;undoubtedly verify<br/>that&#160;the&#160;merchant&#160;is&#160;the&#160;one&#160;he&#160;claims&#160;to&#160;be.<br/>Additionally,&#160;&#160;the&#160;&#160;customer&#160;&#160;can&#160;&#160;ensure&#160;&#160;that<br/>the&#160;&#160;server&#160;&#160;of&#160;&#160;the&#160;&#160;merchant&#160;&#160;was&#160;&#160;not<br/>manipulated&#160;&#160;by&#160;&#160;a&#160;&#160;third&#160;&#160;party&#160;&#160;in&#160;&#160;order&#160;&#160;to<br/>reveal&#160;&#160;sensitive&#160;&#160;information.&#160;&#160;Remote<br/>attestation&#160;&#160;as&#160;&#160;well&#160;&#160;as&#160;&#160;verification</p>
<p style="position:absolute;top:790px;left:85px;white-space:nowrap" class="ft26764">mechanisms have&#160;to&#160;be made available&#160;to&#160;Java.<br/>Aside&#160;from&#160;verifying&#160;the&#160;state&#160;of&#160;the&#160;connection&#160;partners,&#160;the&#160;protection&#160;of&#160;network&#160;connections&#160;is<br/>an&#160;important&#160;topic.&#160;This&#160;topic&#160;is&#160;addressed&#160;by&#160;the&#160;Trusted&#160;Network&#160;Connect&#160;(TNC)&#160;working&#160;group<br/>of&#160;the&#160;TCG.&#160;As&#160;part&#160;of&#160;this&#160;effort,&#160;Transport&#160;Layer&#160;Security&#160;(TLS)&#160;Attestation&#160;is&#160;specified&#160;providing<br/>an&#160;extension&#160;to&#160;the&#160;currently&#160;deployed&#160;TLS&#160;protocol.&#160;The&#160;secure&#160;network&#160;communication&#160;facilities<br/>already&#160;present in&#160;Java&#160;will be enhanced&#160;to&#160;take&#160;advantage of TLS attestation.<br/>Securing&#160;an&#160;entire&#160;general&#160;purpose&#160;operating&#160;system&#160;might&#160;not&#160;always&#160;be&#160;practical&#160;or&#160;feasible.<br/>With&#160;&#160;the&#160;&#160;availability&#160;&#160;of&#160;&#160;virtualization&#160;&#160;technologies,&#160;&#160;it&#160;&#160;becomes&#160;&#160;possible&#160;&#160;to&#160;&#160;establish&#160;&#160;secure&#160;&#160;and<br/>isolated&#160;compartments&#160;within&#160;one&#160;physical&#160;machine.&#160;While&#160;a&#160;legacy&#160;operating&#160;system&#160;is&#160;running&#160;in<br/>an&#160;untrusted&#160;compartment,&#160;a&#160;secure&#160;application&#160;for&#160;doing&#160;sensitive&#160;transactions&#160;over&#160;the&#160;network<br/>can&#160;&#160;be&#160;&#160;executed&#160;&#160;in&#160;&#160;another,&#160;&#160;secure&#160;&#160;compartment.&#160;&#160;Java&#160;&#160;could&#160;&#160;significantly&#160;&#160;benefit&#160;&#160;from&#160;&#160;that<br/>approach&#160;by&#160;running&#160;&#160;the&#160;&#160;Java&#160;&#160;VM&#160;in&#160;such&#160;&#160;a&#160;&#160;compartment.&#160;&#160;This&#160;allows&#160;&#160;to&#160;&#160;keep&#160;&#160;the&#160;&#160;underlying<br/>hardware&#160;abstraction&#160;and&#160;operating&#160;system&#160;layer&#160;as&#160;small&#160;as&#160;possible.&#160;By&#160;minimizing&#160;the&#160;secure<br/>code&#160;&#160;base,&#160;&#160;the&#160;&#160;complexity&#160;&#160;of&#160;&#160;measurement&#160;&#160;and&#160;&#160;remote&#160;&#160;attestation&#160;&#160;is&#160;&#160;greatly&#160;&#160;reduced.<br/>Notwithstanding,&#160;the&#160;TC&#160;enhanced&#160;Java&#160;environment&#160;will&#160;be&#160;able&#160;to&#160;run&#160;in&#160;a&#160;striped-down,&#160;special-<br/>purpose&#160;compartment&#160;as&#160;well as on&#160;full&#160;featured&#160;operating systems.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2677">Open_TC&#160;Deliverable&#160;D03d.1</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft2677">5/6</p>
<p style="position:absolute;top:745px;left:92px;white-space:nowrap" class="ft26712"><b>Illustration 3: Chain of Trust</b></p>
</div>
<!-- Page 268 -->
<a name="268"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page268-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2268.png" alt="background image"/>
<p style="position:absolute;top:92px;left:329px;white-space:nowrap" class="ft2687">JAVA&#160;High&#160;Level overview</p>
<p style="position:absolute;top:92px;left:735px;white-space:nowrap" class="ft2687">RC1</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft2681"><b>1.4&#160;Applicability&#160;of&#160;TC-Enhanced&#160;Java</b></p>
<p style="position:absolute;top:183px;left:85px;white-space:nowrap" class="ft26864">As&#160;mentioned&#160;before,&#160;Java&#160;is&#160;used&#160;for network&#160;oriented&#160;applications such&#160;as grid&#160;computing&#160;or&#160;any<br/>kind&#160;&#160;of&#160;&#160;web&#160;&#160;service.&#160;&#160;This&#160;&#160;type&#160;&#160;of&#160;&#160;application&#160;&#160;will&#160;&#160;especially&#160;&#160;benefit&#160;&#160;from&#160;&#160;the&#160;&#160;integration&#160;&#160;of&#160;&#160;TC<br/>capabilities&#160;&#160;into&#160;&#160;Java&#160;&#160;environments.&#160;&#160;For&#160;the&#160;&#160;first&#160;time,&#160;&#160;it&#160;&#160;becomes&#160;&#160;possible&#160;to&#160;establish&#160;trust&#160;&#160;in<br/>properties&#160;of&#160;communication&#160;partners&#160;that&#160;is&#160;not&#160;only&#160;based&#160;on&#160;software&#160;but&#160;rooted&#160;in&#160;a&#160;trusted<br/>piece&#160;of&#160;hardware.&#160;<br/>Other&#160;&#160;kinds&#160;&#160;of&#160;&#160;application&#160;&#160;that&#160;&#160;are&#160;&#160;gaining&#160;&#160;more&#160;&#160;and&#160;&#160;more&#160;&#160;momentum&#160;&#160;across&#160;&#160;Europe&#160;&#160;are&#160;&#160;e-<br/>Government&#160;and&#160;e-Commerce&#160;applications.&#160;They&#160;cover&#160;various&#160;areas&#160;such&#160;as&#160;civil&#160;services&#160;like<br/>financial&#160;management,&#160;health&#160;services,&#160;netbanking&#160;or&#160;e-voting&#160;which&#160;require&#160;a&#160;very&#160;high&#160;level&#160;of<br/>trust and&#160;security.<br/>In&#160;order&#160;to&#160;demonstrate&#160;the&#160;benefits&#160;of&#160;TC&#160;in&#160;combination&#160;with&#160;Java&#160;a&#160;proof-of-concept&#160;prototype<br/>will&#160;be&#160;developed.&#160;A&#160;reasonable&#160;demonstrator&#160;could&#160;be&#160;for&#160;example&#160;an&#160;adaption&#160;of&#160;the&#160;&#160;Austrian<br/>Security-Layer&#160;framework&#160;to&#160;the&#160;features&#160;of&#160;TC.&#160;Other&#160;prototypes&#160;could&#160;show&#160;for&#160;example&#160;the&#160;use<br/>of&#160;&#160;trusted&#160;&#160;computing&#160;&#160;in&#160;&#160;the&#160;&#160;areas&#160;&#160;of&#160;&#160;grid&#160;&#160;computing,&#160;&#160;peer-to-peer&#160;&#160;applications&#160;&#160;or&#160;&#160;any&#160;&#160;kind&#160;&#160;of<br/>distributed&#160;computing.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft2687">Open_TC&#160;Deliverable&#160;D03d.1</p>
<p style="position:absolute;top:1160px;left:784px;white-space:nowrap" class="ft2687">6/6</p>
</div>
<!-- Page 269 -->
<a name="269"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft269127{font-size:51px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
	.ft269128{font-size:21px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
	.ft269129{font-size:17px;font-family:DAAAAA+BitstreamVeraSans;color:#000000;}
	.ft269130{font-size:17px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
	.ft269131{font-size:21px;font-family:DAAAAA+BitstreamVeraSans;color:#000000;}
	.ft269132{font-size:15px;font-family:DAAAAA+BitstreamVeraSans;color:#000000;}
	.ft269133{font-size:17px;line-height:19px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page269-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2269.png" alt="background image"/>
<p style="position:absolute;top:137px;left:92px;white-space:nowrap" class="ft26980">&#160;</p>
<p style="position:absolute;top:76px;left:91px;white-space:nowrap" class="ft26981">&#160;</p>
<p style="position:absolute;top:225px;left:200px;white-space:nowrap" class="ft269127">Integrating&#160;Trusted&#160;</p>
<p style="position:absolute;top:284px;left:192px;white-space:nowrap" class="ft269127">Computing&#160;into&#160;the&#160;</p>
<p style="position:absolute;top:344px;left:212px;white-space:nowrap" class="ft269127">Java&#160;Programming&#160;</p>
<p style="position:absolute;top:403px;left:321px;white-space:nowrap" class="ft269127">Language</p>
<p style="position:absolute;top:472px;left:176px;white-space:nowrap" class="ft269128">D03.d2:&#160;VM&#160;for&#160;TCP&#160;integration&#160;design&#160;specification</p>
<p style="position:absolute;top:505px;left:144px;white-space:nowrap" class="ft269128">D03.d3:&#160;Java&#160;API&#160;and&#160;library&#160;integration&#160;design&#160;document</p>
<p style="position:absolute;top:575px;left:91px;white-space:nowrap" class="ft269129"><b>Project&#160;number</b></p>
<p style="position:absolute;top:575px;left:425px;white-space:nowrap" class="ft269130">IST-027635</p>
<p style="position:absolute;top:601px;left:91px;white-space:nowrap" class="ft269129"><b>Project&#160;acronym</b></p>
<p style="position:absolute;top:601px;left:425px;white-space:nowrap" class="ft269130">Open_TC</p>
<p style="position:absolute;top:626px;left:91px;white-space:nowrap" class="ft269129"><b>Project&#160;title</b></p>
<p style="position:absolute;top:626px;left:425px;white-space:nowrap" class="ft269130">Open&#160;Trusted&#160;Computing</p>
<p style="position:absolute;top:652px;left:91px;white-space:nowrap" class="ft269129"><b>Deliverable&#160;type</b></p>
<p style="position:absolute;top:652px;left:425px;white-space:nowrap" class="ft269130">Internal&#160;Specification</p>
<p style="position:absolute;top:703px;left:91px;white-space:nowrap" class="ft269129"><b>Responsible&#160;Organisation</b></p>
<p style="position:absolute;top:703px;left:424px;white-space:nowrap" class="ft269130">IAIK</p>
<p style="position:absolute;top:745px;left:91px;white-space:nowrap" class="ft269129"><b>Authors</b></p>
<p style="position:absolute;top:725px;left:424px;white-space:nowrap" class="ft269133">IAIK&#160;(Markus&#160;Demuth,&#160;Kurt&#160;Dietrich,&#160;Jürgen&#160;<br/>Malin,&#160;Peter&#160;Lipp,&#160;Martin&#160;Pirker,&#160;Thomas&#160;<br/>Winkler)</p>
<p style="position:absolute;top:812px;left:92px;white-space:nowrap" class="ft269129"><b>Dissemination&#160;level</b></p>
<p style="position:absolute;top:812px;left:423px;white-space:nowrap" class="ft269130">Internal&#160;Deliverable</p>
<p style="position:absolute;top:838px;left:92px;white-space:nowrap" class="ft269129"><b>Revision</b></p>
<p style="position:absolute;top:838px;left:423px;white-space:nowrap" class="ft269130">1</p>
<p style="position:absolute;top:901px;left:85px;white-space:nowrap" class="ft269131"><b>Revision&#160;Sheet</b></p>
<p style="position:absolute;top:963px;left:101px;white-space:nowrap" class="ft269132"><b>ReleaseNo</b></p>
<p style="position:absolute;top:963px;left:246px;white-space:nowrap" class="ft269132"><b>Date</b></p>
<p style="position:absolute;top:963px;left:480px;white-space:nowrap" class="ft269132"><b>Revision&#160;Description</b></p>
<p style="position:absolute;top:997px;left:140px;white-space:nowrap" class="ft269130">1</p>
<p style="position:absolute;top:997px;left:219px;white-space:nowrap" class="ft269130">04.12.2006</p>
<p style="position:absolute;top:997px;left:511px;white-space:nowrap" class="ft269130">Initial&#160;release</p>
<p style="position:absolute;top:75px;left:674px;white-space:nowrap" class="ft26986">&#160;</p>
</div>
<!-- Page 270 -->
<a name="270"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft270134{font-size:15px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
	.ft270135{font-size:24px;font-family:DAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page270-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2270.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft27090">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft27080">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft270134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft270134">DRAFT|1.0</p>
<p style="position:absolute;top:260px;left:85px;white-space:nowrap" class="ft270135"><b>Table&#160;of&#160;Contents</b></p>
<p style="position:absolute;top:297px;left:85px;white-space:nowrap" class="ft270130">1&#160;&#160;</p>
<p style="position:absolute;top:297px;left:200px;white-space:nowrap" class="ft270130">Introduction..............................................................................................4</p>
<p style="position:absolute;top:325px;left:94px;white-space:nowrap" class="ft270130">1.1</p>
<p style="position:absolute;top:325px;left:200px;white-space:nowrap" class="ft270130">Areas&#160;of&#160;Applications&#160;for&#160;Trusted&#160;Computing&#160;enhanced&#160;Java...................4</p>
<p style="position:absolute;top:352px;left:94px;white-space:nowrap" class="ft270130">1.2</p>
<p style="position:absolute;top:352px;left:200px;white-space:nowrap" class="ft270130">Scope&#160;of&#160;Trusted&#160;Computing&#160;Integration&#160;into&#160;Java...................................5</p>
<p style="position:absolute;top:380px;left:85px;white-space:nowrap" class="ft270130">2&#160;&#160;</p>
<p style="position:absolute;top:380px;left:200px;white-space:nowrap" class="ft270130">TSS&#160;and&#160;TPM&#160;Access&#160;from&#160;Java.................................................................6</p>
<p style="position:absolute;top:408px;left:94px;white-space:nowrap" class="ft270130">2.1</p>
<p style="position:absolute;top:408px;left:200px;white-space:nowrap" class="ft270130">TCG&#160;Software&#160;Stack&#160;Overview..................................................................6</p>
<p style="position:absolute;top:436px;left:102px;white-space:nowrap" class="ft270130">2.1.1</p>
<p style="position:absolute;top:436px;left:200px;white-space:nowrap" class="ft270130">TPM&#160;(Hardware)........................................................................................7</p>
<p style="position:absolute;top:463px;left:102px;white-space:nowrap" class="ft270130">2.1.2</p>
<p style="position:absolute;top:463px;left:200px;white-space:nowrap" class="ft270130">TPM&#160;Device&#160;Driver&#160;(TDD)..........................................................................7</p>
<p style="position:absolute;top:491px;left:102px;white-space:nowrap" class="ft270130">2.1.3</p>
<p style="position:absolute;top:491px;left:200px;white-space:nowrap" class="ft270130">TSS&#160;Device&#160;Driver&#160;Library&#160;(TDDL).............................................................7</p>
<p style="position:absolute;top:519px;left:102px;white-space:nowrap" class="ft270130">2.1.4</p>
<p style="position:absolute;top:519px;left:200px;white-space:nowrap" class="ft270130">TSS&#160;Core&#160;Services&#160;(TCS)...........................................................................7</p>
<p style="position:absolute;top:546px;left:102px;white-space:nowrap" class="ft270130">2.1.5</p>
<p style="position:absolute;top:546px;left:200px;white-space:nowrap" class="ft270130">TSS&#160;Service&#160;Provider&#160;(TSP).......................................................................8</p>
<p style="position:absolute;top:574px;left:94px;white-space:nowrap" class="ft270130">2.2</p>
<p style="position:absolute;top:574px;left:200px;white-space:nowrap" class="ft270130">TSS&#160;Communication&#160;Mechanisms.............................................................8</p>
<p style="position:absolute;top:602px;left:94px;white-space:nowrap" class="ft270130">2.3</p>
<p style="position:absolute;top:602px;left:200px;white-space:nowrap" class="ft270130">Java&#160;TSS&#160;Bindings.....................................................................................9</p>
<p style="position:absolute;top:629px;left:102px;white-space:nowrap" class="ft270130">2.3.1</p>
<p style="position:absolute;top:629px;left:200px;white-space:nowrap" class="ft270130">Java&#160;TSS&#160;Bindings&#160;Architecture.................................................................9</p>
<p style="position:absolute;top:657px;left:102px;white-space:nowrap" class="ft270130">2.3.2</p>
<p style="position:absolute;top:657px;left:200px;white-space:nowrap" class="ft270130">Detailed&#160;Design&#160;Aspects.........................................................................10</p>
<p style="position:absolute;top:685px;left:94px;white-space:nowrap" class="ft270130">2.4</p>
<p style="position:absolute;top:685px;left:200px;white-space:nowrap" class="ft270130">Requirements&#160;and&#160;Assumptions.............................................................13</p>
<p style="position:absolute;top:712px;left:94px;white-space:nowrap" class="ft270130">2.5</p>
<p style="position:absolute;top:712px;left:200px;white-space:nowrap" class="ft270130">A&#160;native&#160;Java&#160;TSS....................................................................................14</p>
<p style="position:absolute;top:740px;left:85px;white-space:nowrap" class="ft270130">3&#160;&#160;</p>
<p style="position:absolute;top:740px;left:200px;white-space:nowrap" class="ft270130">Java&#160;Virtual&#160;Machine&#160;Modifications.........................................................18</p>
<p style="position:absolute;top:768px;left:94px;white-space:nowrap" class="ft270130">3.1</p>
<p style="position:absolute;top:768px;left:200px;white-space:nowrap" class="ft270130">Execution&#160;of&#160;Java&#160;programs....................................................................19</p>
<p style="position:absolute;top:795px;left:94px;white-space:nowrap" class="ft270130">3.2</p>
<p style="position:absolute;top:795px;left:200px;white-space:nowrap" class="ft270130">Java&#160;Security&#160;Model................................................................................22</p>
<p style="position:absolute;top:823px;left:102px;white-space:nowrap" class="ft270130">3.2.1</p>
<p style="position:absolute;top:823px;left:200px;white-space:nowrap" class="ft270130">Class&#160;Loading..........................................................................................22</p>
<p style="position:absolute;top:851px;left:102px;white-space:nowrap" class="ft270130">3.2.2</p>
<p style="position:absolute;top:851px;left:200px;white-space:nowrap" class="ft270130">Class&#160;Verifier&#160;and&#160;Bytecode&#160;Verifier.......................................................25</p>
<p style="position:absolute;top:878px;left:102px;white-space:nowrap" class="ft270130">3.2.3</p>
<p style="position:absolute;top:878px;left:200px;white-space:nowrap" class="ft270130">Security&#160;Manager....................................................................................26</p>
<p style="position:absolute;top:906px;left:94px;white-space:nowrap" class="ft270130">3.3</p>
<p style="position:absolute;top:906px;left:200px;white-space:nowrap" class="ft270130">Integration&#160;of&#160;Trusted&#160;Computing&#160;in&#160;a&#160;Java&#160;Virtual&#160;Machine...................26</p>
<p style="position:absolute;top:934px;left:102px;white-space:nowrap" class="ft270130">3.3.1</p>
<p style="position:absolute;top:934px;left:200px;white-space:nowrap" class="ft270130">Measuring...............................................................................................26</p>
<p style="position:absolute;top:961px;left:102px;white-space:nowrap" class="ft270130">3.3.2</p>
<p style="position:absolute;top:961px;left:200px;white-space:nowrap" class="ft270130">Sealing....................................................................................................27</p>
<p style="position:absolute;top:989px;left:102px;white-space:nowrap" class="ft270130">3.3.3</p>
<p style="position:absolute;top:989px;left:200px;white-space:nowrap" class="ft270130">The&#160;Property-based&#160;approach.................................................................28</p>
<p style="position:absolute;top:1017px;left:85px;white-space:nowrap" class="ft270130">4&#160;&#160;</p>
<p style="position:absolute;top:1017px;left:200px;white-space:nowrap" class="ft270130">Evaluation&#160;of&#160;existing&#160;Java&#160;Virtual&#160;Machines...........................................28</p>
<p style="position:absolute;top:1044px;left:94px;white-space:nowrap" class="ft270130">4.1</p>
<p style="position:absolute;top:1044px;left:200px;white-space:nowrap" class="ft270130">Search....................................................................................................28</p>
<p style="position:absolute;top:1072px;left:102px;white-space:nowrap" class="ft270130">4.1.1</p>
<p style="position:absolute;top:1072px;left:200px;white-space:nowrap" class="ft270130">Requirements.........................................................................................28</p>
<p style="position:absolute;top:1100px;left:102px;white-space:nowrap" class="ft270130">4.1.2</p>
<p style="position:absolute;top:1100px;left:200px;white-space:nowrap" class="ft270130">Selected&#160;Candidates...............................................................................29</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft270134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft270134">2/47</p>
</div>
<!-- Page 271 -->
<a name="271"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page271-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2271.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft27190">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft27180">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft271134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft271134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:94px;white-space:nowrap" class="ft271130">4.2</p>
<p style="position:absolute;top:151px;left:200px;white-space:nowrap" class="ft271130">Evaluation...............................................................................................29</p>
<p style="position:absolute;top:179px;left:102px;white-space:nowrap" class="ft271130">4.2.1</p>
<p style="position:absolute;top:179px;left:200px;white-space:nowrap" class="ft271130">Evaluation&#160;criteria&#160;..................................................................................30</p>
<p style="position:absolute;top:206px;left:119px;white-space:nowrap" class="ft271130">4.2.1.1</p>
<p style="position:absolute;top:206px;left:200px;white-space:nowrap" class="ft271130">License&#160;(Cost)&#160;........................................................................................30</p>
<p style="position:absolute;top:234px;left:119px;white-space:nowrap" class="ft271130">4.2.1.2</p>
<p style="position:absolute;top:234px;left:200px;white-space:nowrap" class="ft271130">Sourcecode&#160;Availability...........................................................................30</p>
<p style="position:absolute;top:262px;left:119px;white-space:nowrap" class="ft271130">4.2.1.3</p>
<p style="position:absolute;top:262px;left:200px;white-space:nowrap" class="ft271130">Quality&#160;...................................................................................................31</p>
<p style="position:absolute;top:289px;left:119px;white-space:nowrap" class="ft271130">4.2.1.4</p>
<p style="position:absolute;top:289px;left:200px;white-space:nowrap" class="ft271130">Project&#160;Status&#160;........................................................................................32</p>
<p style="position:absolute;top:317px;left:119px;white-space:nowrap" class="ft271130">4.2.1.5</p>
<p style="position:absolute;top:317px;left:200px;white-space:nowrap" class="ft271130">Project&#160;Activity&#160;.......................................................................................33</p>
<p style="position:absolute;top:345px;left:119px;white-space:nowrap" class="ft271130">4.2.1.6</p>
<p style="position:absolute;top:345px;left:200px;white-space:nowrap" class="ft271130">Performance...........................................................................................33</p>
<p style="position:absolute;top:372px;left:119px;white-space:nowrap" class="ft271130">4.2.1.7</p>
<p style="position:absolute;top:372px;left:200px;white-space:nowrap" class="ft271130">Operating&#160;System&#160;Compatibility&#160;............................................................34</p>
<p style="position:absolute;top:400px;left:119px;white-space:nowrap" class="ft271130">4.2.1.8</p>
<p style="position:absolute;top:400px;left:200px;white-space:nowrap" class="ft271130">Installation&#160;Process&#160;................................................................................34</p>
<p style="position:absolute;top:428px;left:119px;white-space:nowrap" class="ft271130">4.2.1.9</p>
<p style="position:absolute;top:428px;left:200px;white-space:nowrap" class="ft271130">Distribution&#160;............................................................................................34</p>
<p style="position:absolute;top:456px;left:119px;white-space:nowrap" class="ft271130">4.2.1.10&#160;Miscellaneous&#160;........................................................................................34</p>
<p style="position:absolute;top:483px;left:102px;white-space:nowrap" class="ft271130">4.2.2</p>
<p style="position:absolute;top:483px;left:200px;white-space:nowrap" class="ft271130">&#160;Testing&#160;Environment..............................................................................34</p>
<p style="position:absolute;top:511px;left:85px;white-space:nowrap" class="ft271130">5&#160;&#160;</p>
<p style="position:absolute;top:511px;left:200px;white-space:nowrap" class="ft271130">Complete&#160;list&#160;of&#160;Virtual&#160;Machines...........................................................35</p>
<p style="position:absolute;top:538px;left:94px;white-space:nowrap" class="ft271130">5.1</p>
<p style="position:absolute;top:538px;left:200px;white-space:nowrap" class="ft271130">Apparently&#160;Dead&#160;Projects.......................................................................36</p>
<p style="position:absolute;top:566px;left:94px;white-space:nowrap" class="ft271130">5.2</p>
<p style="position:absolute;top:566px;left:200px;white-space:nowrap" class="ft271130">Not&#160;applicable&#160;VMs.................................................................................37</p>
<p style="position:absolute;top:594px;left:94px;white-space:nowrap" class="ft271130">5.3</p>
<p style="position:absolute;top:594px;left:200px;white-space:nowrap" class="ft271130">Summarized&#160;examination&#160;results&#160;..........................................................38</p>
<p style="position:absolute;top:622px;left:102px;white-space:nowrap" class="ft271130">5.3.1</p>
<p style="position:absolute;top:622px;left:200px;white-space:nowrap" class="ft271130">Aegis.......................................................................................................38</p>
<p style="position:absolute;top:649px;left:102px;white-space:nowrap" class="ft271130">5.3.2</p>
<p style="position:absolute;top:649px;left:200px;white-space:nowrap" class="ft271130">Chockcino...............................................................................................38</p>
<p style="position:absolute;top:677px;left:102px;white-space:nowrap" class="ft271130">5.3.3</p>
<p style="position:absolute;top:677px;left:200px;white-space:nowrap" class="ft271130">ElectricalFire&#160;..........................................................................................39</p>
<p style="position:absolute;top:705px;left:102px;white-space:nowrap" class="ft271130">5.3.4</p>
<p style="position:absolute;top:705px;left:200px;white-space:nowrap" class="ft271130">GCJ&#160;.........................................................................................................39</p>
<p style="position:absolute;top:732px;left:102px;white-space:nowrap" class="ft271130">5.3.5</p>
<p style="position:absolute;top:732px;left:200px;white-space:nowrap" class="ft271130">IBM&#160;Jalapeño&#160;..........................................................................................40</p>
<p style="position:absolute;top:760px;left:102px;white-space:nowrap" class="ft271130">5.3.6</p>
<p style="position:absolute;top:760px;left:200px;white-space:nowrap" class="ft271130">IVKM.......................................................................................................41</p>
<p style="position:absolute;top:788px;left:102px;white-space:nowrap" class="ft271130">5.3.7</p>
<p style="position:absolute;top:788px;left:200px;white-space:nowrap" class="ft271130">JAOS&#160;.......................................................................................................41</p>
<p style="position:absolute;top:815px;left:102px;white-space:nowrap" class="ft271130">5.3.8</p>
<p style="position:absolute;top:815px;left:200px;white-space:nowrap" class="ft271130">Japhar&#160;....................................................................................................41</p>
<p style="position:absolute;top:843px;left:102px;white-space:nowrap" class="ft271130">5.3.9</p>
<p style="position:absolute;top:843px;left:200px;white-space:nowrap" class="ft271130">JC............................................................................................................42</p>
<p style="position:absolute;top:871px;left:102px;white-space:nowrap" class="ft271130">5.3.10</p>
<p style="position:absolute;top:871px;left:200px;white-space:nowrap" class="ft271130">Jnode&#160;......................................................................................................42</p>
<p style="position:absolute;top:898px;left:102px;white-space:nowrap" class="ft271130">5.3.11</p>
<p style="position:absolute;top:898px;left:200px;white-space:nowrap" class="ft271130">Jupiter.....................................................................................................43</p>
<p style="position:absolute;top:926px;left:102px;white-space:nowrap" class="ft271130">5.3.12</p>
<p style="position:absolute;top:926px;left:200px;white-space:nowrap" class="ft271130">KaffePC&#160;&#160;.................................................................................................44</p>
<p style="position:absolute;top:954px;left:102px;white-space:nowrap" class="ft271130">5.3.13</p>
<p style="position:absolute;top:954px;left:200px;white-space:nowrap" class="ft271130">LaTTe&#160;&#160;....................................................................................................44</p>
<p style="position:absolute;top:981px;left:102px;white-space:nowrap" class="ft271130">5.3.14</p>
<p style="position:absolute;top:981px;left:200px;white-space:nowrap" class="ft271130">leJOS&#160;......................................................................................................44</p>
<p style="position:absolute;top:1009px;left:102px;white-space:nowrap" class="ft271130">5.3.15</p>
<p style="position:absolute;top:1009px;left:200px;white-space:nowrap" class="ft271130">teaseme&#160;.................................................................................................45</p>
<p style="position:absolute;top:1037px;left:85px;white-space:nowrap" class="ft271130">6&#160;&#160;</p>
<p style="position:absolute;top:1037px;left:200px;white-space:nowrap" class="ft271130">Prototype&#160;Application.............................................................................45</p>
<p style="position:absolute;top:1064px;left:85px;white-space:nowrap" class="ft271130">7&#160;&#160;</p>
<p style="position:absolute;top:1064px;left:200px;white-space:nowrap" class="ft271130">References..............................................................................................46</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft271134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft271134">3/47</p>
</div>
<!-- Page 272 -->
<a name="272"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft272136{font-size:15px;font-family:EAAAAA+BitstreamVeraSerif;color:#000000;}
	.ft272137{font-size:18px;font-family:DAAAAA+BitstreamVeraSans;color:#000000;}
	.ft272138{font-size:17px;line-height:27px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
	.ft272139{font-size:17px;line-height:19px;font-family:DAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page272-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2272.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft27290">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft27280">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft272134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft272134">DRAFT|1.0</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft272136"><b>1&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft272137"><b>Introduction</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft272133">This&#160;deliverable&#160;deals&#160;with&#160;the&#160;design&#160;of&#160;the&#160;integration&#160;of&#160;Trusted&#160;Computing&#160;into&#160;the&#160;<br/>Java&#160;&#160;&#160;programming&#160;&#160;&#160;language&#160;&#160;&#160;environment.&#160;&#160;&#160;The&#160;&#160;&#160;Java&#160;&#160;&#160;programming&#160;&#160;&#160;environment&#160;&#160;&#160;has&#160;<br/>seen&#160;&#160;&#160;a&#160;&#160;&#160;broad&#160;&#160;&#160;adoption&#160;&#160;&#160;ranging&#160;&#160;&#160;from&#160;&#160;&#160;large-scale&#160;&#160;&#160;business&#160;&#160;&#160;applications&#160;&#160;&#160;hosted&#160;&#160;&#160;in&#160;<br/>dedicated&#160;&#160;&#160;data&#160;&#160;&#160;centers&#160;&#160;&#160;to&#160;&#160;&#160;resource&#160;&#160;&#160;constrained&#160;&#160;&#160;environments&#160;&#160;&#160;as&#160;&#160;&#160;found&#160;&#160;&#160;in&#160;&#160;&#160;mobile&#160;<br/>phones&#160;or&#160;Personal&#160;Digital&#160;Assistants&#160;(PDAs).&#160;Java&#160;programs&#160;are&#160;not&#160;compiled&#160;to&#160;native&#160;<br/>machine&#160;code&#160;but&#160;to&#160;a&#160;special&#160;form&#160;of&#160;intermediate&#160;code,&#160;called&#160;byte&#160;code.&#160;This&#160;byte&#160;<br/>code&#160;is&#160;then&#160;executed&#160;by&#160;a&#160;virtual&#160;machine&#160;(VM)&#160;called&#160;the&#160;Java&#160;VM.&#160;This&#160;characteristic&#160;<br/>makes&#160;&#160;&#160;Java&#160;&#160;&#160;an&#160;&#160;&#160;excellent&#160;&#160;&#160;choice&#160;&#160;&#160;for&#160;&#160;&#160;development&#160;&#160;&#160;aiming&#160;&#160;&#160;at&#160;&#160;&#160;heterogeneous&#160;<br/>environments&#160;as&#160;for&#160;example&#160;grid&#160;computing.<br/>In&#160;&#160;&#160;contrast&#160;&#160;&#160;to&#160;&#160;&#160;conventional&#160;&#160;&#160;programming&#160;&#160;&#160;languages&#160;&#160;&#160;such&#160;&#160;&#160;as&#160;&#160;&#160;C&#160;&#160;&#160;or&#160;&#160;&#160;C++,&#160;&#160;&#160;Java&#160;&#160;&#160;is&#160;<br/>equipped&#160;with&#160;inherent&#160;security&#160;features&#160;supporting&#160;the&#160;development&#160;of&#160;more&#160;secure&#160;<br/>software.&#160;&#160;Among&#160;those&#160;features&#160;are&#160;automatic&#160;array-bounds&#160;checking&#160;and&#160;garbage&#160;<br/>collection.&#160;These&#160;features&#160;help&#160;to&#160;avoid&#160;common&#160;problems&#160;such&#160;as&#160;buffer&#160;overflows&#160;or&#160;<br/>memory&#160;leaks.&#160;Additional&#160;aspects&#160;that&#160;distinguish&#160;Java&#160;from&#160;other&#160;environments&#160;are&#160;<br/>code-signing&#160;mechanisms&#160;and&#160;the&#160;verification&#160;of&#160;byte&#160;code&#160;when&#160;it&#160;is&#160;loaded.</p>
<p style="position:absolute;top:504px;left:85px;white-space:nowrap" class="ft272139"><b>Note:&#160;&#160;&#160;This&#160;&#160;&#160;is&#160;&#160;&#160;a&#160;&#160;&#160;preliminary&#160;&#160;&#160;version&#160;&#160;&#160;of&#160;&#160;&#160;this&#160;&#160;&#160;deliverable.&#160;&#160;&#160;Due&#160;&#160;&#160;to&#160;&#160;&#160;massive&#160;<br/>involvement&#160;into&#160;the&#160;demonstrator&#160;prototype&#160;work,&#160;some&#160;of&#160;the&#160;work&#160;behind&#160;<br/>this&#160;&#160;&#160;deliverable&#160;&#160;&#160;is&#160;&#160;&#160;still&#160;&#160;&#160;ongoing.&#160;&#160;&#160;During&#160;&#160;&#160;2007&#160;&#160;&#160;an&#160;&#160;&#160;updated&#160;&#160;&#160;version&#160;&#160;&#160;will&#160;&#160;&#160;be&#160;<br/>made&#160;&#160;&#160;available.&#160;&#160;&#160;Also,&#160;&#160;&#160;deliverables&#160;&#160;&#160;D03d.2&#160;&#160;&#160;(VM&#160;&#160;&#160;for&#160;&#160;&#160;TCP&#160;&#160;&#160;integration&#160;&#160;&#160;design&#160;<br/>specification)&#160;and&#160;D03d.3&#160;(Java&#160;API&#160;and&#160;library&#160;integration&#160;design&#160;document)&#160;<br/>have&#160;&#160;&#160;been&#160;&#160;&#160;combined&#160;&#160;&#160;into&#160;&#160;&#160;one&#160;&#160;&#160;deliverable&#160;&#160;&#160;for&#160;&#160;&#160;practicability&#160;&#160;&#160;purposes.&#160;&#160;&#160;The&#160;<br/>final&#160;version&#160;may&#160;be&#160;delivered&#160;in&#160;form&#160;of&#160;separate&#160;documents&#160;again.</b></p>
<p style="position:absolute;top:665px;left:85px;white-space:nowrap" class="ft272129"><b>1.1&#160;Areas&#160;of&#160;Applications&#160;for&#160;Trusted&#160;Computing&#160;enhanced&#160;Java</b></p>
<p style="position:absolute;top:693px;left:85px;white-space:nowrap" class="ft272133">This&#160;section&#160;tries&#160;to&#160;identify&#160;two&#160;exemplary&#160;areas&#160;of&#160;application&#160;that&#160;could&#160;benefit&#160;from&#160;<br/>a&#160;&#160;&#160;trusted&#160;&#160;&#160;computing&#160;&#160;&#160;enhanced&#160;&#160;&#160;Java&#160;&#160;&#160;environment.&#160;&#160;&#160;The&#160;&#160;&#160;first&#160;&#160;&#160;area&#160;&#160;&#160;are&#160;&#160;&#160;business&#160;<br/>environments&#160;that&#160;highly&#160;depend&#160;on&#160;secure&#160;trustworthy&#160;infrastructure.&#160;The&#160;other&#160;one&#160;<br/>are&#160;network&#160;centric&#160;applications&#160;deployed&#160;on&#160;a&#160;large&#160;number&#160;of&#160;machines.<br/>Over&#160;time,&#160;Java&#160;has&#160;become&#160;one&#160;of&#160;the&#160;major&#160;development&#160;environments&#160;for&#160;business&#160;<br/>applications.&#160;Many&#160;enterprises&#160;rely&#160;on&#160;Java&#160;technology&#160;and&#160;large&#160;amounts&#160;of&#160;money&#160;<br/>and&#160;work&#160;&#160;have&#160;been&#160;spent&#160;on&#160;building&#160;Java&#160;frameworks.&#160;&#160;This&#160;commercial&#160;&#160;business&#160;<br/>environment&#160;is&#160;one&#160;of&#160;those&#160;fields&#160;where&#160;trusted&#160;computing&#160;technologies&#160;are&#160;expected&#160;<br/>to&#160;&#160;&#160;see&#160;&#160;&#160;first&#160;&#160;&#160;deployments.&#160;&#160;&#160;Businesses&#160;&#160;&#160;that&#160;&#160;&#160;highly&#160;&#160;&#160;depend&#160;&#160;&#160;on&#160;&#160;&#160;the&#160;&#160;&#160;security&#160;&#160;&#160;and&#160;<br/>trustworthiness&#160;&#160;&#160;of&#160;&#160;computer&#160;&#160;systems&#160;&#160;&#160;are&#160;&#160;&#160;e.g.&#160;&#160;&#160;financial&#160;&#160;&#160;service&#160;&#160;providers.&#160;&#160;&#160;The&#160;&#160;&#160;wide&#160;<br/>deployment&#160;&#160;&#160;of&#160;&#160;&#160;Java&#160;&#160;&#160;based&#160;&#160;&#160;software&#160;&#160;&#160;in&#160;&#160;&#160;this&#160;&#160;&#160;area&#160;&#160;&#160;and&#160;&#160;&#160;the&#160;&#160;&#160;need&#160;&#160;&#160;for&#160;&#160;&#160;trustworthy&#160;<br/>computing&#160;systems&#160;are&#160;one&#160;reason&#160;why&#160;the&#160;integration&#160;of&#160;Trusted&#160;Computing&#160;into&#160;Java&#160;<br/>is&#160;of&#160;high&#160;importance.<br/>Another&#160;area&#160;of&#160;application&#160;is&#160;network&#160;based&#160;software.&#160;By&#160;its&#160;nature,&#160;Java&#160;applications&#160;<br/>can&#160;be&#160;executed&#160;on&#160;any&#160;platform&#160;a&#160;virtual&#160;machine&#160;is&#160;available&#160;for.&#160;This&#160;is&#160;one&#160;reason&#160;<br/>why&#160;Java&#160;is&#160;a&#160;logical&#160;choice&#160;for&#160;highly&#160;networked&#160;applications&#160;that&#160;are&#160;deployed&#160;in&#160;<br/>heterogeneous&#160;environments.&#160;On&#160;of&#160;these&#160;areas&#160;currently&#160;facing&#160;a&#160;large&#160;interest&#160;is&#160;<br/>grid&#160;computing.&#160;The&#160;idea&#160;of&#160;grid&#160;computing&#160;is&#160;to&#160;offer&#160;computing&#160;resources&#160;to&#160;others.&#160;<br/>By&#160;bundling&#160;these&#160;resources,&#160;users&#160;are&#160;enabled&#160;to&#160;solve&#160;highly&#160;complex&#160;computations&#160;<br/>which&#160;&#160;&#160;otherwise&#160;&#160;&#160;could&#160;&#160;&#160;not&#160;&#160;&#160;be&#160;&#160;&#160;solved&#160;&#160;&#160;or&#160;&#160;&#160;would&#160;&#160;&#160;require&#160;&#160;&#160;a&#160;&#160;&#160;dedicated&#160;&#160;&#160;computing&#160;<br/>infrastructure.&#160;&#160;&#160;Since&#160;&#160;&#160;the&#160;&#160;&#160;users&#160;&#160;&#160;of&#160;&#160;&#160;a&#160;&#160;&#160;grid&#160;&#160;&#160;are&#160;&#160;&#160;unaware&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;environment&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;<br/>machines&#160;&#160;that&#160;&#160;&#160;are&#160;&#160;&#160;actually&#160;&#160;&#160;doing&#160;&#160;&#160;the&#160;&#160;&#160;computations,&#160;&#160;&#160;mechanisms&#160;&#160;&#160;are&#160;&#160;&#160;required&#160;&#160;&#160;that&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft272134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft272134">4/47</p>
</div>
<!-- Page 273 -->
<a name="273"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft273140{font-size:14px;font-family:FAAAAA+OpenSymbol;color:#000000;}
-->
</style>
<div id="page273-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2273.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft27390">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft27380">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft273134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft273134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft273133">ensure&#160;a&#160;certain&#160;level&#160;of&#160;trustworthiness&#160;of&#160;these&#160;machines.&#160;With&#160;the&#160;availability&#160;of&#160;<br/>Trusted&#160;&#160;&#160;Computing&#160;&#160;&#160;technologies&#160;&#160;in&#160;&#160;&#160;Java,&#160;&#160;&#160;mechanisms&#160;&#160;&#160;ensuring&#160;&#160;&#160;this&#160;&#160;&#160;trustworthiness&#160;<br/>can&#160;be&#160;implemented.</p>
<p style="position:absolute;top:235px;left:85px;white-space:nowrap" class="ft273129"><b>1.2&#160;Scope&#160;of&#160;Trusted&#160;Computing&#160;Integration&#160;into&#160;Java</b></p>
<p style="position:absolute;top:263px;left:85px;white-space:nowrap" class="ft273133">The&#160;&#160;&#160;wide&#160;&#160;&#160;spread&#160;&#160;&#160;use&#160;&#160;&#160;of&#160;&#160;&#160;Java&#160;&#160;&#160;in&#160;&#160;&#160;commercial&#160;&#160;&#160;environments&#160;&#160;&#160;as&#160;&#160;&#160;well&#160;&#160;&#160;as&#160;&#160;&#160;the&#160;&#160;&#160;already&#160;<br/>existing&#160;security&#160;features&#160;make&#160;Java&#160;an&#160;excellent&#160;choice&#160;to&#160;be&#160;enhanced&#160;with&#160;trusted&#160;<br/>computing&#160;&#160;&#160;functionality.&#160;&#160;&#160;The&#160;&#160;&#160;individual&#160;&#160;&#160;aspects&#160;&#160;&#160;addressed&#160;&#160;&#160;as&#160;&#160;part&#160;&#160;&#160;of&#160;&#160;&#160;OpenTC&#160;&#160;&#160;work&#160;<br/>package&#160;03d&#160;are:</p>
<p style="position:absolute;top:353px;left:112px;white-space:nowrap" class="ft273140">●</p>
<p style="position:absolute;top:349px;left:139px;white-space:nowrap" class="ft273139"><b>Making&#160;&#160;&#160;Trusted&#160;&#160;&#160;Computing&#160;&#160;&#160;Functionality&#160;&#160;&#160;available&#160;&#160;&#160;to&#160;&#160;&#160;a&#160;&#160;&#160;Java&#160;<br/>developers:</b></p>
<p style="position:absolute;top:387px;left:139px;white-space:nowrap" class="ft273133">The&#160;&#160;&#160;Trusted&#160;&#160;&#160;Computing&#160;&#160;&#160;Group&#160;&#160;&#160;(TCG)&#160;&#160;&#160;not&#160;&#160;&#160;only&#160;&#160;&#160;specifies&#160;&#160;&#160;Trusted&#160;&#160;&#160;Platform&#160;<br/>Modules&#160;&#160;(TPMs)&#160;&#160;&#160;but&#160;&#160;&#160;also&#160;&#160;an&#160;&#160;accompanying&#160;&#160;&#160;software&#160;&#160;&#160;infrastructure&#160;&#160;&#160;called&#160;&#160;&#160;the&#160;<br/>TCG&#160;&#160;&#160;Software&#160;&#160;&#160;Stack&#160;&#160;&#160;(TSS).&#160;&#160;&#160;This&#160;&#160;&#160;stack&#160;&#160;&#160;is&#160;&#160;&#160;defined&#160;&#160;&#160;as&#160;&#160;&#160;a&#160;&#160;&#160;system&#160;&#160;&#160;service&#160;&#160;&#160;to&#160;&#160;&#160;be&#160;<br/>implemented&#160;using&#160;the&#160;C&#160;programming&#160;language.&#160;It&#160;offers&#160;a&#160;flat&#160;C&#160;interface&#160;for&#160;<br/>applications&#160;&#160;&#160;to&#160;&#160;&#160;access&#160;&#160;&#160;the&#160;&#160;&#160;TPM&#160;&#160;&#160;and&#160;&#160;&#160;its&#160;&#160;&#160;functionality.&#160;&#160;&#160;One&#160;&#160;&#160;goal&#160;&#160;&#160;of&#160;&#160;&#160;this&#160;&#160;&#160;work&#160;<br/>package&#160;is&#160;to&#160;make&#160;the&#160;services&#160;of&#160;the&#160;TSS&#160;available&#160;to&#160;Java&#160;developers&#160;in&#160;a&#160;<br/>consistent&#160;&#160;&#160;and&#160;&#160;&#160;object&#160;&#160;&#160;oriented&#160;&#160;&#160;way.&#160;&#160;&#160;Section&#160;<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#274">&#160;2&#160;&#160;</a>is&#160;&#160;&#160;dedicated&#160;&#160;&#160;to&#160;&#160;&#160;the&#160;&#160;&#160;topic&#160;&#160;&#160;of&#160;<br/>accessing&#160;the&#160;TPM&#160;and&#160;TSS&#160;from&#160;within&#160;Java.&#160;</p>
<p style="position:absolute;top:554px;left:112px;white-space:nowrap" class="ft273140">●</p>
<p style="position:absolute;top:549px;left:139px;white-space:nowrap" class="ft273129"><b>Enhancing&#160;&#160;&#160;the&#160;&#160;&#160;Java&#160;&#160;&#160;virtual&#160;&#160;&#160;machine&#160;&#160;&#160;with&#160;&#160;&#160;Trusted&#160;&#160;&#160;Computing:</b></p>
<p style="position:absolute;top:568px;left:139px;white-space:nowrap" class="ft273133">The&#160;Java&#160;virtual&#160;machine&#160;by&#160;design&#160;is&#160;offers&#160;security&#160;features&#160;such&#160;as&#160;byte&#160;code&#160;<br/>verification&#160;or&#160;signed&#160;code.&#160;Section<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#287">&#160;3&#160;</a>presents&#160;who&#160;a&#160;Java&#160;VM&#160;can&#160;be&#160;modified&#160;<br/>such&#160;that&#160;the&#160;chain&#160;of&#160;trust,&#160;rooted&#160;in&#160;the&#160;CRTM&#160;and&#160;the&#160;TPM,&#160;can&#160;be&#160;extended&#160;<br/>to&#160;Java&#160;applications.&#160;This&#160;involves&#160;an&#160;evaluation&#160;of&#160;potential&#160;open&#160;source&#160;Java&#160;<br/>virtual&#160;machines&#160;as&#160;well&#160;as&#160;considerations&#160;related&#160;to&#160;modifications&#160;of&#160;the&#160;Java&#160;<br/>class&#160;loading&#160;process&#160;such&#160;that&#160;Java&#160;applications&#160;become&#160;part&#160;of&#160;the&#160;chain&#160;of&#160;<br/>trust.</p>
<p style="position:absolute;top:716px;left:112px;white-space:nowrap" class="ft273140">●</p>
<p style="position:absolute;top:711px;left:139px;white-space:nowrap" class="ft273129"><b>Adding&#160;Trusted&#160;Computing&#160;enhanced&#160;networking&#160;functionality&#160;to&#160;Java:</b></p>
<p style="position:absolute;top:730px;left:139px;white-space:nowrap" class="ft273133">An&#160;&#160;important&#160;&#160;&#160;aspect&#160;&#160;&#160;of&#160;&#160;TCG's&#160;&#160;efforts&#160;&#160;towards&#160;&#160;a&#160;&#160;more&#160;&#160;trustworthy&#160;&#160;computing&#160;<br/>environment&#160;is&#160;the&#160;attestation&#160;&#160;of&#160;the&#160;configuration&#160;of&#160;a&#160;platform.&#160;Apart&#160;from&#160;<br/>establishing&#160;the&#160;chain&#160;of&#160;trust&#160;by&#160;measuring&#160;all&#160;applications&#160;that&#160;are&#160;executed&#160;<br/>on&#160;a&#160;platform,&#160;this&#160;also&#160;requires&#160;secure&#160;and&#160;standardized&#160;ways&#160;of&#160;how&#160;to&#160;report&#160;<br/>these&#160;measurements&#160;to&#160;interested&#160;parties.&#160;Section&#160;<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#273">&#160;&#160;&#160;</a>deals&#160;with&#160;attestation&#160;and&#160;<br/>other&#160;&#160;&#160;networking&#160;&#160;&#160;related&#160;&#160;&#160;aspects&#160;&#160;&#160;and&#160;&#160;&#160;details&#160;&#160;&#160;how&#160;&#160;&#160;attestation&#160;&#160;&#160;can&#160;&#160;&#160;be&#160;&#160;&#160;made&#160;<br/>available&#160;to&#160;Java&#160;applications.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft273134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft273134">5/47</p>
</div>
<!-- Page 274 -->
<a name="274"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page274-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2274.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft27490">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft27480">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft274134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft274134">DRAFT|1.0</p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft274136"><b>2&#160;</b></p>
<p style="position:absolute;top:197px;left:117px;white-space:nowrap" class="ft274137"><b>TSS&#160;and&#160;TPM&#160;Access&#160;from&#160;Java</b></p>
<p style="position:absolute;top:227px;left:85px;white-space:nowrap" class="ft274133">This&#160;&#160;&#160;chapter&#160;&#160;&#160;is&#160;&#160;&#160;dedicated&#160;&#160;&#160;to&#160;&#160;&#160;all&#160;&#160;&#160;aspects&#160;&#160;&#160;related&#160;&#160;&#160;to&#160;&#160;&#160;accessing&#160;&#160;&#160;the&#160;&#160;&#160;Trusted&#160;&#160;&#160;Platform&#160;<br/>module&#160;&#160;&#160;(TPM)&#160;&#160;&#160;and&#160;&#160;&#160;the&#160;&#160;&#160;TCG&#160;&#160;&#160;Software&#160;&#160;&#160;Stack&#160;&#160;&#160;(TSS)&#160;&#160;&#160;from&#160;&#160;&#160;within&#160;&#160;&#160;Java.&#160;&#160;&#160;The&#160;&#160;&#160;Trusted&#160;<br/>Computing&#160;Group&#160;(TCG)&#160;specifies&#160;the&#160;TSS&#160;as&#160;the&#160;default&#160;mechanism&#160;for&#160;applications&#160;to&#160;<br/>interact&#160;with&#160;the&#160;TPM.&#160;In&#160;addition&#160;to&#160;passing&#160;application&#160;requests&#160;to&#160;the&#160;TPM,&#160;the&#160;TSS&#160;<br/>provides&#160;&#160;&#160;a&#160;&#160;&#160;number&#160;&#160;&#160;of&#160;&#160;&#160;other&#160;&#160;&#160;services&#160;&#160;&#160;such&#160;&#160;&#160;as&#160;&#160;&#160;managing&#160;&#160;&#160;concurrent&#160;&#160;&#160;TPM&#160;&#160;&#160;access&#160;&#160;&#160;or&#160;<br/>providing&#160;a&#160;persistent&#160;storage&#160;for&#160;cryptographic&#160;keys&#160;generated&#160;inside&#160;the&#160;TPM.<br/>Before&#160;addressing&#160;aspects&#160;of&#160;making&#160;TSS&#160;functionality&#160;available&#160;to&#160;Java,&#160;section&#160;<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#274">&#160;2.1</a>&#160;<br/>will&#160;provide&#160;an&#160;overview&#160;of&#160;the&#160;TSS&#160;architecture&#160;and&#160;its&#160;functionality.</p>
<p style="position:absolute;top:415px;left:85px;white-space:nowrap" class="ft274129"><b>2.1&#160;TCG&#160;Software&#160;Stack&#160;Overview</b></p>
<p style="position:absolute;top:444px;left:85px;white-space:nowrap" class="ft274133">TPMs&#160;&#160;&#160;are&#160;&#160;&#160;designed&#160;&#160;&#160;as&#160;&#160;&#160;low&#160;&#160;&#160;cost&#160;&#160;&#160;devices&#160;&#160;&#160;providing&#160;&#160;&#160;protected&#160;&#160;&#160;storage&#160;&#160;&#160;and&#160;&#160;&#160;protected&#160;<br/>capabilities.&#160;&#160;&#160;Due&#160;&#160;&#160;to&#160;&#160;&#160;their&#160;&#160;&#160;inexpensive&#160;&#160;&#160;nature,&#160;&#160;&#160;the&#160;&#160;&#160;internal&#160;&#160;&#160;resources&#160;&#160;&#160;and&#160;&#160;&#160;external&#160;<br/>interfaces&#160;provided&#160;by&#160;TPMs&#160;are&#160;kept&#160;to&#160;a&#160;minimum.&#160;To&#160;nevertheless&#160;provide&#160;a&#160;certain&#160;<br/>level&#160;of&#160;usability&#160;and&#160;functionality,&#160;the&#160;TCG&#160;defines&#160;the&#160;TSS.&#160;Functions&#160;that&#160;require&#160;<br/>protected&#160;capabilities&#160;are&#160;implemented&#160;in&#160;the&#160;TPM&#160;while&#160;non-sensitive&#160;features&#160;which&#160;<br/>do&#160;not&#160;require&#160;hardware&#160;protection&#160;are&#160;implemented&#160;in&#160;software.&#160;To&#160;allow&#160;a&#160;standard&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft274134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft274134">6/47</p>
<p style="position:absolute;top:1086px;left:313px;white-space:nowrap" class="ft274107"><i>Illustration&#160;1:&#160;TCG&#160;Software&#160;Stack&#160;Layers</i></p>
</div>
<!-- Page 275 -->
<a name="275"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page275-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2275.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft27590">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft27580">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft275134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft275134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft275133">way&#160;&#160;&#160;to&#160;&#160;&#160;access&#160;&#160;&#160;Trusted&#160;&#160;&#160;Computing&#160;&#160;&#160;functionality,&#160;&#160;&#160;these&#160;&#160;&#160;software&#160;&#160;&#160;components&#160;&#160;&#160;are&#160;<br/>combined&#160;into&#160;the&#160;TSS&#160;offering&#160;standardized&#160;interfaces.&#160;This&#160;way,&#160;the&#160;TCG&#160;intends&#160;to&#160;<br/>provide&#160;a&#160;standard&#160;environment&#160;for&#160;applications.</p>
<p style="position:absolute;top:245px;left:85px;white-space:nowrap" class="ft275133">For&#160;the&#160;TSS,&#160;the&#160;TCG&#160;choose&#160;a&#160;layered&#160;architecture&#160;where&#160;higher&#160;layers&#160;provide&#160;higher&#160;<br/>abstractions&#160;of&#160;the&#160;Trusted&#160;Computing&#160;functions.<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#274">&#160;&#160;Illustration&#160;1&#160;</a>presents&#160;an&#160;overview&#160;<br/>of&#160;the&#160;individual&#160;TSS&#160;layers.</p>
<p style="position:absolute;top:329px;left:85px;white-space:nowrap" class="ft275137"><b>2.1.1&#160;TPM&#160;(Hardware)</b></p>
<p style="position:absolute;top:359px;left:85px;white-space:nowrap" class="ft275133">In&#160;case&#160;of&#160;the&#160;PC&#160;platform,&#160;the&#160;hardware&#160;TPM&#160;is&#160;soldered&#160;onto&#160;the&#160;mainboard&#160;and&#160;can&#160;<br/>not&#160;easily&#160;be&#160;removed&#160;or&#160;replaced.&#160;It&#160;typically&#160;is&#160;connected&#160;to&#160;the&#160;rest&#160;of&#160;the&#160;system&#160;<br/>via&#160;the&#160;LPC&#160;bus.</p>
<p style="position:absolute;top:443px;left:85px;white-space:nowrap" class="ft275137"><b>2.1.2&#160;TPM&#160;Device&#160;Driver&#160;(TDD)</b></p>
<p style="position:absolute;top:473px;left:85px;white-space:nowrap" class="ft275133">The&#160;TPM&#160;device&#160;driver&#160;resides&#160;in&#160;Kernel&#160;space.&#160;For&#160;1.1b&#160;TPMs,&#160;this&#160;driver&#160;is&#160;vendor&#160;<br/>specific&#160;since&#160;the&#160;TPM&#160;is&#160;equipped&#160;with&#160;a&#160;proprietary&#160;interface.&#160;For&#160;1.2&#160;TPMs,&#160;there&#160;<br/>also&#160;is&#160;a&#160;generic&#160;device&#160;driver&#160;available&#160;called&#160;TIS&#160;(TPM&#160;Interface&#160;Specification)&#160;driver.&#160;<br/>TIS&#160;&#160;&#160;provides&#160;&#160;&#160;a&#160;&#160;&#160;generic,&#160;&#160;&#160;vendor&#160;&#160;&#160;independent&#160;&#160;&#160;interface&#160;&#160;&#160;to&#160;&#160;&#160;access&#160;&#160;&#160;TPM&#160;&#160;&#160;functionality.&#160;<br/>Depending&#160;on&#160;the&#160;platform&#160;and&#160;operating&#160;system,&#160;the&#160;TDD&#160;may&#160;provide&#160;additional&#160;<br/>functionality&#160;such&#160;as&#160;power&#160;management.</p>
<p style="position:absolute;top:615px;left:85px;white-space:nowrap" class="ft275137"><b>2.1.3&#160;TSS&#160;Device&#160;Driver&#160;Library&#160;(TDDL)</b></p>
<p style="position:absolute;top:645px;left:85px;white-space:nowrap" class="ft275133">The&#160;TDDL&#160;(Trusted&#160;Device&#160;Driver&#160;Library)&#160;is&#160;located&#160;in&#160;user&#160;space.&#160;From&#160;the&#160;user's&#160;<br/>point&#160;of&#160;view&#160;it&#160;exposes&#160;an&#160;OS&#160;and&#160;TPM&#160;independent&#160;set&#160;of&#160;functions&#160;that&#160;allows&#160;basic&#160;<br/>interaction&#160;with&#160;the&#160;TPM.&#160;This&#160;includes&#160;sending&#160;commands&#160;in&#160;the&#160;form&#160;of&#160;byte&#160;streams&#160;<br/>to&#160;the&#160;TPM&#160;and&#160;receiving&#160;the&#160;TPM's&#160;responses.&#160;The&#160;intention&#160;of&#160;the&#160;TDDL&#160;is&#160;to&#160;offer&#160;a&#160;<br/>standard&#160;&#160;&#160;TPM&#160;&#160;&#160;interface&#160;&#160;&#160;regardless&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;fact&#160;&#160;&#160;who&#160;&#160;manufactured&#160;&#160;&#160;the&#160;&#160;&#160;TPM&#160;&#160;&#160;and&#160;&#160;&#160;the&#160;<br/>accompanying&#160;TPM&#160;device&#160;driver.&#160;This&#160;ensures&#160;that&#160;different&#160;TSS&#160;implementations&#160;can&#160;<br/>communicate&#160;with&#160;any&#160;given&#160;TPM.&#160;To&#160;make&#160;that&#160;possible,&#160;the&#160;TCG&#160;specifies&#160;the&#160;TDDL&#160;<br/>interface&#160;(TDDLI)&#160;which&#160;is&#160;a&#160;required&#160;set&#160;of&#160;functions&#160;to&#160;be&#160;implemented&#160;by&#160;the&#160;TDDL.&#160;<br/>In&#160;&#160;&#160;contrast&#160;&#160;&#160;to&#160;&#160;&#160;that,&#160;&#160;&#160;the&#160;&#160;&#160;communication&#160;&#160;&#160;between&#160;&#160;&#160;the&#160;&#160;&#160;TDDL&#160;&#160;&#160;and&#160;&#160;&#160;the&#160;&#160;&#160;TPM&#160;&#160;&#160;is&#160;&#160;&#160;vendor&#160;<br/>specific.<br/>The&#160;TDDL&#160;is&#160;designed&#160;to&#160;be&#160;a&#160;single-instance,&#160;single-threaded&#160;component.&#160;The&#160;TCS&#160;are&#160;<br/>responsible&#160;for&#160;proper&#160;command&#160;serialization.</p>
<p style="position:absolute;top:910px;left:85px;white-space:nowrap" class="ft275137"><b>2.1.4&#160;TSS&#160;Core&#160;Services&#160;(TCS)</b></p>
<p style="position:absolute;top:940px;left:85px;white-space:nowrap" class="ft275138">The&#160;Trusted&#160;Core&#160;Services&#160;(TCS)&#160;are&#160;defined&#160;to&#160;be&#160;implemented&#160;as&#160;a&#160;system&#160;service.&#160;<br/>There&#160;only&#160;is&#160;one&#160;TCS&#160;instance&#160;for&#160;a&#160;TPM.&#160;For&#160;communication&#160;with&#160;the&#160;TPM&#160;it&#160;relies&#160;on&#160;<br/>the&#160;TDDL&#160;and&#160;ensures&#160;that&#160;commands&#160;are&#160;sent&#160;to&#160;the&#160;TPM&#160;properly&#160;serialized.&#160;For&#160;the&#160;<br/>TCS,&#160;the&#160;TCG&#160;specifies&#160;a&#160;C&#160;style&#160;interface&#160;called&#160;TCS&#160;interface&#160;(TCSI).<br/>The&#160;main&#160;functionalities&#160;implemented&#160;in&#160;the&#160;TCS&#160;are:</p>
<p style="position:absolute;top:1058px;left:112px;white-space:nowrap" class="ft275140">●</p>
<p style="position:absolute;top:1053px;left:139px;white-space:nowrap" class="ft275129"><b>Key&#160;Management&#160;and&#160;Persistent&#160;Storage:</b></p>
<p style="position:absolute;top:1053px;left:542px;white-space:nowrap" class="ft275130">&#160;&#160;Cryptographic&#160;keys&#160;generated&#160;</p>
<p style="position:absolute;top:1072px;left:139px;white-space:nowrap" class="ft275133">by&#160;the&#160;TPM&#160;are&#160;not&#160;intended&#160;to&#160;be&#160;stored&#160;permanently&#160;inside&#160;the&#160;TPM.&#160;Due&#160;to&#160;<br/>the&#160;low&#160;cost&#160;nature&#160;of&#160;the&#160;TPM,&#160;it's&#160;internal&#160;memory&#160;is&#160;limited.&#160;Therefore&#160;keys&#160;<br/>that&#160;are&#160;not&#160;only&#160;temporarily&#160;used&#160;have&#160;to&#160;be&#160;stored&#160;securely&#160;in&#160;a&#160;persistent&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft275134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft275134">7/47</p>
</div>
<!-- Page 276 -->
<a name="276"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page276-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2276.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft27690">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft27680">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft276134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft276134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:139px;white-space:nowrap" class="ft276133">storage&#160;&#160;&#160;outside&#160;&#160;&#160;the&#160;&#160;&#160;TPM.&#160;&#160;&#160;The&#160;&#160;&#160;key&#160;&#160;&#160;management&#160;&#160;&#160;component&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;TSS&#160;&#160;&#160;is&#160;<br/>responsible&#160;to&#160;manage&#160;this&#160;storage.&#160;When&#160;creating&#160;a&#160;key&#160;inside&#160;the&#160;TPM,&#160;the&#160;<br/>user&#160;has&#160;to&#160;provide&#160;a&#160;parent&#160;key.&#160;At&#160;the&#160;time&#160;such&#160;a&#160;key&#160;leaves&#160;the&#160;TPM&#160;and&#160;is&#160;<br/>written&#160;to&#160;the&#160;persistent&#160;storage,&#160;the&#160;key&#160;is&#160;encrypted&#160;using&#160;the&#160;parent&#160;key.&#160;<br/>This&#160;encryption&#160;is&#160;taking&#160;place&#160;inside&#160;the&#160;TPM&#160;and&#160;consequently,&#160;no&#160;key&#160;leaves&#160;<br/>the&#160;TPM&#160;in&#160;an&#160;unencrypted&#160;form.&#160;The&#160;key&#160;forming&#160;the&#160;root&#160;of&#160;this&#160;key&#160;hierarchy&#160;<br/>is&#160;the&#160;storage&#160;root&#160;key&#160;(SRK)&#160;which&#160;is&#160;permanently&#160;stored&#160;inside&#160;the&#160;TPM.</p>
<p style="position:absolute;top:299px;left:112px;white-space:nowrap" class="ft276140">●</p>
<p style="position:absolute;top:294px;left:139px;white-space:nowrap" class="ft276129"><b>Key&#160;Cache&#160;Management:</b></p>
<p style="position:absolute;top:294px;left:371px;white-space:nowrap" class="ft276130">&#160;To&#160;be&#160;able&#160;to&#160;use&#160;a&#160;key&#160;inside&#160;the&#160;TPM,&#160;it&#160;has&#160;to&#160;be&#160;</p>
<p style="position:absolute;top:313px;left:139px;white-space:nowrap" class="ft276133">ensured&#160;that&#160;the&#160;key&#160;is&#160;loaded&#160;in&#160;one&#160;of&#160;the&#160;key&#160;slots&#160;of&#160;the&#160;TPM.&#160;The&#160;number&#160;of&#160;<br/>key&#160;slots&#160;is&#160;limited.&#160;To&#160;avoid&#160;that&#160;application&#160;developers&#160;or&#160;users&#160;have&#160;to&#160;keep&#160;<br/>track&#160;of&#160;how&#160;many&#160;key&#160;slots&#160;have&#160;already&#160;been&#160;used,&#160;the&#160;key&#160;cache&#160;manager&#160;<br/>has&#160;&#160;the&#160;&#160;responsibility&#160;&#160;to&#160;&#160;unload&#160;&#160;keys&#160;from&#160;&#160;&#160;the&#160;&#160;TPM&#160;&#160;&#160;if&#160;&#160;the&#160;&#160;available&#160;&#160;space&#160;&#160;&#160;is&#160;<br/>depleted.&#160;This&#160;process&#160;is&#160;transparent&#160;to&#160;the&#160;user.&#160;If&#160;e.g.&#160;a&#160;user&#160;key&#160;has&#160;been&#160;<br/>swapped&#160;out,&#160;the&#160;key&#160;cache&#160;manager&#160;will&#160;load&#160;it&#160;into&#160;the&#160;TPM&#160;the&#160;next&#160;time&#160;the&#160;<br/>user&#160;makes&#160;use&#160;of&#160;the&#160;key.&#160;Since&#160;the&#160;key&#160;handle&#160;held&#160;by&#160;the&#160;user&#160;remains&#160;the&#160;<br/>same,&#160;this&#160;entire&#160;process&#160;is&#160;transparent&#160;to&#160;the&#160;user.</p>
<p style="position:absolute;top:480px;left:112px;white-space:nowrap" class="ft276140">●</p>
<p style="position:absolute;top:475px;left:139px;white-space:nowrap" class="ft276129"><b>TPM&#160;Command&#160;Generation:</b></p>
<p style="position:absolute;top:475px;left:394px;white-space:nowrap" class="ft276130">&#160;Commands&#160;are&#160;sent&#160;as&#160;byte&#160;streams&#160;to&#160;the&#160;TPM.&#160;</p>
<p style="position:absolute;top:494px;left:139px;white-space:nowrap" class="ft276133">The&#160;command&#160;generation&#160;component&#160;of&#160;the&#160;TSS&#160;is&#160;responsible&#160;for&#160;assembling&#160;<br/>these&#160;commands.</p>
<p style="position:absolute;top:546px;left:112px;white-space:nowrap" class="ft276140">●</p>
<p style="position:absolute;top:541px;left:139px;white-space:nowrap" class="ft276129"><b>Communication&#160;&#160;&#160;Mechanisms:</b></p>
<p style="position:absolute;top:541px;left:416px;white-space:nowrap" class="ft276130">&#160;&#160;Access&#160;&#160;&#160;to&#160;&#160;&#160;the&#160;&#160;&#160;services&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;TCS&#160;&#160;&#160;can&#160;&#160;&#160;be&#160;</p>
<p style="position:absolute;top:561px;left:139px;white-space:nowrap" class="ft276133">provided&#160;&#160;&#160;in&#160;&#160;&#160;two&#160;&#160;&#160;different&#160;&#160;&#160;ways:&#160;&#160;&#160;Via&#160;&#160;&#160;Remote&#160;&#160;&#160;Procedure&#160;&#160;&#160;Calls&#160;&#160;(RPCs)&#160;&#160;&#160;oder&#160;&#160;&#160;via&#160;<br/>SOAP.&#160;Please&#160;refer&#160;to&#160;section<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#276">&#160;2.2&#160;</a>for&#160;further&#160;details.</p>
<p style="position:absolute;top:625px;left:85px;white-space:nowrap" class="ft276137"><b>2.1.5&#160;TSS&#160;Service&#160;Provider&#160;(TSP)</b></p>
<p style="position:absolute;top:655px;left:85px;white-space:nowrap" class="ft276133">The&#160;&#160;&#160;TSS&#160;&#160;&#160;Service&#160;&#160;&#160;Provider&#160;&#160;&#160;(TSP)&#160;&#160;&#160;is&#160;&#160;&#160;the&#160;&#160;&#160;component&#160;&#160;&#160;that&#160;&#160;&#160;provides&#160;&#160;&#160;TCG&#160;&#160;&#160;services&#160;&#160;&#160;to&#160;<br/>applications.&#160;&#160;&#160;Typically,&#160;&#160;&#160;the&#160;&#160;&#160;TSP&#160;&#160;&#160;is&#160;&#160;&#160;implemented&#160;&#160;&#160;as&#160;&#160;&#160;a&#160;&#160;&#160;shared&#160;&#160;&#160;library&#160;&#160;&#160;that&#160;&#160;&#160;is&#160;&#160;&#160;directly&#160;<br/>linked&#160;to&#160;the&#160;application.&#160;Interaction&#160;with&#160;the&#160;TCS&#160;takes&#160;place&#160;via&#160;an&#160;inter&#160;process&#160;<br/>communication&#160;mechanism&#160;such&#160;as&#160;RPC.&#160;The&#160;TSP&#160;is&#160;required&#160;to&#160;provide&#160;a&#160;standardized&#160;<br/>TSP&#160;interface&#160;(TSPI).&#160;TCG&#160;defines&#160;the&#160;TSPI&#160;interface&#160;as&#160;a&#160;C&#160;style&#160;API&#160;but&#160;with&#160;object&#160;<br/>orientation&#160;in&#160;mind.</p>
<p style="position:absolute;top:797px;left:85px;white-space:nowrap" class="ft276129"><b>2.2&#160;TSS&#160;Communication&#160;Mechanisms</b></p>
<p style="position:absolute;top:825px;left:85px;white-space:nowrap" class="ft276133">The&#160;standard&#160;interface&#160;of&#160;the&#160;TSS&#160;for&#160;applications&#160;&#160;is&#160;the&#160;TDDL&#160;interface.&#160;Applications&#160;<br/>can&#160;directly&#160;link&#160;to&#160;the&#160;TDDL&#160;library&#160;and&#160;use&#160;this&#160;interface&#160;to&#160;access&#160;the&#160;TPM.&#160;Via&#160;the&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft276134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft276134">8/47</p>
<p style="position:absolute;top:1151px;left:267px;white-space:nowrap" class="ft276107"><i>Illustration&#160;2:&#160;TSS&#160;Access&#160;methods:&#160;RPC&#160;and&#160;SOAP</i></p>
</div>
<!-- Page 277 -->
<a name="277"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page277-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2277.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft27790">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft27780">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft277134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft277134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft277133">TDDL&#160;library,&#160;the&#160;application&#160;can&#160;not&#160;only&#160;access&#160;the&#160;local&#160;TSS&#160;but&#160;also&#160;remote&#160;TSSs.&#160;<br/>Interaction&#160;between&#160;the&#160;TDDL&#160;and&#160;the&#160;TCS&#160;is&#160;specified&#160;to&#160;be&#160;implemented&#160;based&#160;on&#160;<br/>Remote&#160;Procedure&#160;Calls&#160;(RPC).&#160;The&#160;actual&#160;RPC&#160;mechanism&#160;as&#160;well&#160;as&#160;the&#160;marshalling&#160;<br/>and&#160;unmarshalling&#160;of&#160;data&#160;sent&#160;to&#160;and&#160;received&#160;from&#160;the&#160;TCS&#160;is&#160;vendor&#160;specific.&#160;</p>
<p style="position:absolute;top:264px;left:85px;white-space:nowrap" class="ft277133">As&#160;a&#160;consequence,&#160;the&#160;RPC&#160;mechanism&#160;of&#160;the&#160;TSS&#160;does&#160;not&#160;ensure&#160;interoperability&#160;<br/>between&#160;stacks&#160;of&#160;different&#160;vendors.<br/>To&#160;overcome&#160;this&#160;limitation,&#160;TCG&#160;defines&#160;an&#160;alternative&#160;interface&#160;for&#160;the&#160;TCS&#160;which&#160;is&#160;<br/>agnostic&#160;to&#160;the&#160;platform&#160;and&#160;the&#160;programming&#160;language&#160;used&#160;to&#160;implement&#160;the&#160;TSS.&#160;<br/>This&#160;interface&#160;is&#160;based&#160;on&#160;the&#160;Simple&#160;Object&#160;Access&#160;Protocol&#160;(SOAP)&#160;version&#160;1.1&#160;using&#160;<br/>HTTP&#160;as&#160;transport&#160;protocol.&#160;The&#160;functionality&#160;that&#160;has&#160;to&#160;be&#160;exposed&#160;by&#160;this&#160;interface&#160;<br/>is&#160;defined&#160;in&#160;the&#160;form&#160;of&#160;a&#160;Web&#160;Service&#160;Description&#160;Language&#160;(WSDL)&#160;file&#160;provided&#160;by&#160;<br/>the&#160;TCG.&#160;The&#160;approach&#160;of&#160;using&#160;a&#160;standardized&#160;and&#160;platform&#160;independent&#160;interface&#160;is&#160;<br/>envisioned&#160;to&#160;ensure&#160;interoperability&#160;between&#160;stacks&#160;of&#160;different&#160;vendors.</p>
<p style="position:absolute;top:472px;left:85px;white-space:nowrap" class="ft277129"><b>2.3&#160;Java&#160;TSS&#160;Bindings</b></p>
<p style="position:absolute;top:500px;left:85px;white-space:nowrap" class="ft277133">The&#160;goal&#160;this&#160;effort&#160;is&#160;to&#160;make&#160;the&#160;TSS&#160;functionality&#160;described&#160;in&#160;the&#160;previous&#160;sections&#160;<br/>accessible&#160;to&#160;Java&#160;applications.&#160;As&#160;outlined&#160;before,&#160;there&#160;are&#160;two&#160;basic&#160;approaches&#160;for&#160;<br/>interacting&#160;with&#160;the&#160;TCS&#160;of&#160;the&#160;TSS:&#160;RPC&#160;based&#160;communication&#160;using&#160;the&#160;TDDL&#160;and&#160;<br/>SOAP&#160;using&#160;the&#160;SOAP&#160;service&#160;provided&#160;by&#160;the&#160;TCS.<br/>To&#160;&#160;&#160;support&#160;&#160;&#160;a&#160;&#160;&#160;broad&#160;&#160;&#160;variety&#160;&#160;&#160;of&#160;&#160;&#160;TSS&#160;&#160;&#160;implementations,&#160;&#160;&#160;botch&#160;&#160;&#160;approaches&#160;&#160;&#160;should&#160;&#160;&#160;be&#160;<br/>supported&#160;&#160;&#160;by&#160;&#160;&#160;the&#160;&#160;&#160;Java&#160;&#160;&#160;TSS&#160;&#160;&#160;bindings&#160;&#160;&#160;(alternatively&#160;&#160;&#160;also&#160;&#160;&#160;referred&#160;&#160;&#160;to&#160;&#160;&#160;as&#160;&#160;&#160;Java&#160;&#160;&#160;TSS&#160;<br/>Wrapper).</p>
<p style="position:absolute;top:669px;left:85px;white-space:nowrap" class="ft277137"><b>2.3.1&#160;Java&#160;TSS&#160;Bindings&#160;Architecture</b></p>
<p style="position:absolute;top:699px;left:85px;white-space:nowrap" class="ft277138">To&#160;&#160;&#160;enable&#160;&#160;&#160;the&#160;&#160;&#160;use&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;TSS&#160;&#160;&#160;functionality&#160;&#160;&#160;in&#160;&#160;&#160;Java,&#160;&#160;&#160;additional&#160;&#160;&#160;layers&#160;&#160;&#160;have&#160;&#160;&#160;to&#160;&#160;&#160;be&#160;<br/>introduced&#160;on&#160;top&#160;of&#160;the&#160;existing&#160;TSS&#160;layers.<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#277">&#160;Illustration&#160;3&#160;</a>presents&#160;an&#160;overview&#160;of&#160;the&#160;<br/>chosen&#160;approach.<br/>These&#160;additional&#160;layers&#160;are&#160;drawn&#160;as&#160;blue&#160;and&#160;orange&#160;boxes&#160;in<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#277">&#160;Illustration&#160;3.</a>&#160;The&#160;blue&#160;<br/>layer&#160;represents&#160;the&#160;high&#160;level&#160;Java&#160;API&#160;that&#160;is&#160;used&#160;by&#160;application.<br/>The&#160;&#160;&#160;orange&#160;&#160;&#160;boxes&#160;&#160;&#160;denote&#160;&#160;&#160;implementation&#160;&#160;&#160;components&#160;&#160;&#160;that&#160;&#160;&#160;are&#160;&#160;&#160;specific&#160;&#160;&#160;to&#160;&#160;&#160;the&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft277134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft277134">9/47</p>
<p style="position:absolute;top:1228px;left:115px;white-space:nowrap" class="ft277107"><i>Illustration&#160;3:&#160;Java&#160;TSS&#160;Abstraction&#160;Layers&#160;(left&#160;side:&#160;RPC&#160;based&#160;connection,&#160;right&#160;side:&#160;</i></p>
<p style="position:absolute;top:1245px;left:346px;white-space:nowrap" class="ft277107"><i>SOAP&#160;based&#160;connection)</i></p>
</div>
<!-- Page 278 -->
<a name="278"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft278141{font-size:10px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page278-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2278.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft27890">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft27880">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft278134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft278134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft278133">connection&#160;&#160;&#160;mechanism&#160;&#160;&#160;used&#160;&#160;&#160;to&#160;&#160;&#160;interact&#160;&#160;&#160;with&#160;&#160;&#160;the&#160;&#160;&#160;TCS.&#160;&#160;&#160;According&#160;&#160;&#160;to&#160;&#160;&#160;the&#160;&#160;&#160;TSS&#160;<br/>specification&#160;&#160;&#160;this&#160;&#160;&#160;can&#160;&#160;&#160;be&#160;&#160;&#160;a&#160;&#160;&#160;vendor&#160;&#160;&#160;specific&#160;&#160;&#160;RPC&#160;&#160;&#160;call&#160;&#160;&#160;mechanism&#160;&#160;&#160;or&#160;&#160;&#160;a&#160;&#160;&#160;standardized&#160;<br/>Simple&#160;Object&#160;Access&#160;Protocol&#160;&#160;(SOAP)&#160;API.&#160;&#160;For&#160;Windows&#160;operating&#160;system,&#160;&#160;the&#160;TSS&#160;<br/>specification&#160;also&#160;mentions&#160;a&#160;COM&#160;(Component&#160;Object&#160;Model)&#160;interface&#160;without&#160;going&#160;<br/>into&#160;further&#160;details.</p>
<p style="position:absolute;top:301px;left:85px;white-space:nowrap" class="ft278137"><b>2.3.2&#160;Detailed&#160;Design&#160;Aspects</b></p>
<p style="position:absolute;top:331px;left:85px;white-space:nowrap" class="ft278133">This&#160;section&#160;is&#160;dedicated&#160;to&#160;a&#160;more&#160;detailed&#160;discussion&#160;of&#160;certain&#160;design&#160;aspects&#160;of&#160;the&#160;<br/>Java&#160;TSS&#160;Wrapper.<br/>To&#160;allow&#160;a&#160;high&#160;degree&#160;of&#160;flexibility,&#160;the&#160;design&#160;is&#160;split&#160;into&#160;two&#160;parts:&#160;The&#160;Java&#160;TSS&#160;<br/>frontend&#160;and&#160;connection&#160;backends&#160;that&#160;are&#160;responsible&#160;for&#160;the&#160;actual&#160;connection&#160;to&#160;<br/>the&#160;&#160;&#160;TCS.&#160;<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#278">&#160;Illustration&#160;&#160;&#160;4&#160;&#160;</a>presents&#160;&#160;&#160;an&#160;&#160;&#160;overview&#160;&#160;&#160;of&#160;&#160;&#160;this&#160;&#160;&#160;architecture.&#160;&#160;&#160;Components&#160;<br/>belonging&#160;to&#160;the&#160;frontend&#160;have&#160;a&#160;blue&#160;background&#160;while&#160;backend&#160;components&#160;have&#160;<br/>and&#160;orange&#160;background.</p>
<p style="position:absolute;top:836px;left:112px;white-space:nowrap" class="ft278140">●</p>
<p style="position:absolute;top:832px;left:139px;white-space:nowrap" class="ft278129"><b>Frontend&#160;Components</b></p>
<p style="position:absolute;top:859px;left:139px;white-space:nowrap" class="ft278133">The&#160;main&#160;part&#160;of&#160;the&#160;frontend&#160;components&#160;is&#160;the&#160;Java&#160;TSS&#160;Frontend&#160;API&#160;which&#160;is&#160;<br/>implemented&#160;&#160;&#160;as&#160;&#160;&#160;a&#160;&#160;&#160;Java&#160;&#160;&#160;interface.&#160;&#160;&#160;This&#160;&#160;&#160;interface&#160;&#160;&#160;provides&#160;&#160;&#160;all&#160;&#160;&#160;functionality&#160;<br/>required&#160;by&#160;Java&#160;developers&#160;to&#160;access&#160;the&#160;TSS.&#160;This&#160;interface&#160;is&#160;the&#160;same,&#160;no&#160;<br/>matter&#160;what&#160;the&#160;actual&#160;mechanism&#160;for&#160;communication&#160;with&#160;the&#160;TCS&#160;is&#160;(RPC,&#160;<br/>SOAP,&#160;...).&#160;This&#160;way,&#160;a&#160;Java&#160;application&#160;that&#160;is&#160;accessing&#160;the&#160;TSS&#160;does&#160;not&#160;have&#160;<br/>to&#160;be&#160;modified&#160;in&#160;case&#160;the&#160;underlying&#160;TCS&#160;connection&#160;mechanism&#160;is&#160;changed.<br/>The&#160;&#160;&#160;frontend&#160;&#160;&#160;interface&#160;&#160;&#160;is&#160;&#160;&#160;designed&#160;&#160;&#160;to&#160;&#160;&#160;be&#160;&#160;&#160;similar&#160;&#160;&#160;to&#160;&#160;&#160;the&#160;&#160;&#160;standardized&#160;&#160;&#160;TSP&#160;<br/>interface&#160;for&#160;two&#160;reasons:&#160;Developers&#160;already&#160;familiar&#160;with&#160;the&#160;TSPI&#160;should&#160;be&#160;<br/>able&#160;to&#160;use&#160;the&#160;Java&#160;bindings&#160;without&#160;steep&#160;learning&#160;curve.&#160;Reason&#160;number&#160;two&#160;<br/>is&#160;that&#160;an&#160;interface&#160;similar&#160;to&#160;that&#160;of&#160;the&#160;TSPI&#160;provides&#160;all&#160;the&#160;flexibility&#160;of&#160;the&#160;<br/>underlying&#160;&#160;&#160;stack&#160;&#160;&#160;to&#160;&#160;&#160;Java&#160;&#160;&#160;developers.&#160;&#160;&#160;Existing&#160;&#160;&#160;resources,&#160;&#160;&#160;such&#160;&#160;&#160;as&#160;&#160;&#160;TSPI&#160;&#160;&#160;based&#160;<br/>demo&#160;code,&#160;can&#160;therefore&#160;more&#160;easily&#160;be&#160;mapped&#160;to&#160;Java<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#278">.</a></p>
<p style="position:absolute;top:1079px;left:621px;white-space:nowrap" class="ft278141"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#278">1</a></p>
<p style="position:absolute;top:1122px;left:85px;white-space:nowrap" class="ft278134">1&#160;The&#160;TSPI,&#160;and&#160;consequently&#160;its&#160;Java&#160;equivalent,&#160;offers&#160;the&#160;full&#160;range&#160;of&#160;functionality&#160;provided&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft278134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft278134">10/47</p>
<p style="position:absolute;top:763px;left:109px;white-space:nowrap" class="ft278107"><i>Illustration&#160;4:&#160;The&#160;Java&#160;TSS&#160;Wrapper&#160;is&#160;split&#160;into&#160;frontend&#160;components&#160;(blue)&#160;and&#160;different&#160;</i></p>
<p style="position:absolute;top:780px;left:311px;white-space:nowrap" class="ft278107"><i>backend&#160;implementations&#160;(orange).</i></p>
</div>
<!-- Page 279 -->
<a name="279"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft279142{font-size:15px;line-height:17px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page279-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2279.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft27990">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft27980">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft279134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft279134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:139px;white-space:nowrap" class="ft279133">While&#160;the&#160;basic&#160;concepts&#160;and&#160;functionality&#160;of&#160;the&#160;native&#160;TSP&#160;remains&#160;the&#160;same&#160;<br/>in&#160;its&#160;Java&#160;counterpart,&#160;several&#160;aspects&#160;have&#160;been&#160;adopted&#160;to&#160;meet&#160;the&#160;object&#160;<br/>oriented&#160;nature&#160;of&#160;Java:&#160;All&#160;TSS&#160;entities&#160;such&#160;as&#160;contexts,&#160;keys,&#160;hashes&#160;or&#160;the&#160;<br/>TPM&#160;&#160;&#160;are&#160;&#160;&#160;represented&#160;&#160;&#160;by&#160;&#160;&#160;actual&#160;&#160;&#160;Java&#160;&#160;&#160;objects&#160;&#160;&#160;relieving&#160;&#160;&#160;the&#160;&#160;&#160;developer&#160;&#160;&#160;from&#160;<br/>managing&#160;object&#160;handles&#160;as&#160;it&#160;is&#160;required&#160;in&#160;the&#160;original&#160;TSP.</p>
<p style="position:absolute;top:256px;left:170px;white-space:nowrap" class="ft279130">The&#160;following&#160;interface&#160;classes&#160;form&#160;the&#160;core&#160;of&#160;the&#160;AP<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#279">I</a></p>
<p style="position:absolute;top:256px;left:627px;white-space:nowrap" class="ft279141"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#279">2</a></p>
<p style="position:absolute;top:256px;left:633px;white-space:nowrap" class="ft279130"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#279">:</a></p>
<p style="position:absolute;top:288px;left:165px;white-space:nowrap" class="ft279140"></p>
<p style="position:absolute;top:283px;left:192px;white-space:nowrap" class="ft279129"><b>TcIContext</b></p>
<p style="position:absolute;top:311px;left:192px;white-space:nowrap" class="ft279133">A&#160;context&#160;represents&#160;a&#160;connection&#160;to&#160;the&#160;TSS&#160;core&#160;services.&#160;Since&#160;the&#160;TCS&#160;<br/>can&#160;be&#160;executed&#160;locally&#160;or&#160;remote,&#160;the&#160;context&#160;allows&#160;to&#160;specify&#160;the&#160;host&#160;<br/>to&#160;connect&#160;to.<br/>The&#160;context&#160;is&#160;used&#160;to&#160;created&#160;all&#160;further&#160;TSS&#160;objects&#160;(e.g.&#160;keys&#160;or&#160;policy&#160;<br/>objects).&#160;Moreover,&#160;the&#160;context&#160;is&#160;the&#160;entity&#160;that&#160;is&#160;used&#160;to&#160;access&#160;the&#160;<br/>TSS's&#160;persistent&#160;storage:&#160;The&#160;context&#160;provides&#160;functions&#160;to&#160;register,&#160;load&#160;<br/>or&#160;unregister&#160;keys&#160;from&#160;the&#160;persistent&#160;storage.<br/>The&#160;&#160;&#160;context&#160;&#160;&#160;is&#160;&#160;&#160;also&#160;&#160;&#160;responsible&#160;&#160;&#160;for&#160;&#160;&#160;housekeeping&#160;&#160;&#160;tasks&#160;&#160;&#160;such&#160;&#160;&#160;closing&#160;<br/>objects&#160;(releasing&#160;their&#160;handles),&#160;getting&#160;information&#160;(capabilities)&#160;about&#160;<br/>the&#160;TCS&#160;as&#160;well&#160;as&#160;freeing&#160;TSS&#160;memory.<br/>Memory&#160;for&#160;structures&#160;allocated&#160;by&#160;the&#160;TSS&#160;typically&#160;have&#160;to&#160;be&#160;freed&#160;by&#160;<br/>the&#160;application&#160;that&#160;has&#160;done&#160;the&#160;call.&#160;The&#160;Java&#160;TSS&#160;wrapper&#160;copies&#160;data&#160;<br/>received&#160;from&#160;the&#160;TSS&#160;into&#160;Java&#160;objects&#160;and&#160;releases&#160;TSS&#160;memory&#160;before&#160;<br/>returning&#160;the&#160;newly&#160;constructed&#160;Java&#160;objects&#160;to&#160;the&#160;caller.&#160;Thereby,&#160;Java&#160;<br/>developers&#160;a&#160;relieved&#160;from&#160;the&#160;need&#160;to&#160;explicitly&#160;free&#160;TSS&#160;memory.</p>
<p style="position:absolute;top:637px;left:165px;white-space:nowrap" class="ft279140"></p>
<p style="position:absolute;top:633px;left:192px;white-space:nowrap" class="ft279129"><b>TcITPM</b></p>
<p style="position:absolute;top:652px;left:192px;white-space:nowrap" class="ft279133">The&#160;TPM,&#160;&#160;and&#160;parts&#160;of&#160;its&#160;functionality,&#160;is&#160;represented&#160;by&#160;this&#160;class.&#160;&#160;It&#160;<br/>provides&#160;functionality&#160;to&#160;take&#160;or&#160;clear&#160;TPM&#160;ownership,&#160;read&#160;and&#160;set&#160;the&#160;<br/>TPM&#160;status,&#160;obtain&#160;random&#160;numbers&#160;from&#160;the&#160;TPM&#160;or&#160;read&#160;and&#160;extend&#160;<br/>PCR&#160;registers.&#160;Aside&#160;from&#160;providing&#160;low&#160;level&#160;functions&#160;to&#160;e.g.&#160;trigger&#160;a&#160;<br/>TPM&#160;&#160;&#160;self&#160;&#160;&#160;test,&#160;&#160;&#160;it&#160;&#160;&#160;offers&#160;&#160;&#160;functions&#160;&#160;&#160;to&#160;&#160;&#160;create&#160;&#160;&#160;“attestation&#160;&#160;&#160;identities”&#160;&#160;&#160;and&#160;<br/>doing&#160;&#160;&#160;quote&#160;&#160;&#160;operations&#160;&#160;&#160;to&#160;&#160;&#160;attest&#160;&#160;&#160;the&#160;&#160;&#160;current&#160;&#160;&#160;state&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;platform&#160;<br/>represented&#160;by&#160;the&#160;contents&#160;of&#160;the&#160;PCR&#160;registers.</p>
<p style="position:absolute;top:799px;left:165px;white-space:nowrap" class="ft279140"></p>
<p style="position:absolute;top:795px;left:192px;white-space:nowrap" class="ft279129"><b>TcIRsaKey</b></p>
<p style="position:absolute;top:823px;left:192px;white-space:nowrap" class="ft279133">Instances&#160;&#160;&#160;of&#160;&#160;&#160;this&#160;&#160;&#160;class&#160;&#160;&#160;represent&#160;&#160;&#160;keys&#160;&#160;&#160;in&#160;&#160;&#160;the&#160;&#160;&#160;TPM's&#160;&#160;&#160;key&#160;&#160;&#160;hierarchy.&#160;&#160;&#160;It&#160;<br/>provides&#160;functionality&#160;to&#160;create&#160;a&#160;new&#160;key,&#160;to&#160;load&#160;a&#160;key&#160;into&#160;a&#160;key&#160;slot&#160;of&#160;<br/>the&#160;TPM&#160;or&#160;to&#160;certify&#160;keys.</p>
<p style="position:absolute;top:893px;left:165px;white-space:nowrap" class="ft279140"></p>
<p style="position:absolute;top:889px;left:192px;white-space:nowrap" class="ft279129"><b>TcIEncData</b></p>
<p style="position:absolute;top:916px;left:192px;white-space:nowrap" class="ft279133">This&#160;&#160;&#160;class&#160;&#160;&#160;provides&#160;&#160;&#160;access&#160;&#160;&#160;to&#160;&#160;&#160;the&#160;&#160;&#160;TPM's&#160;&#160;&#160;bind/unbind&#160;&#160;&#160;and&#160;&#160;&#160;seal/unseal&#160;<br/>functions.&#160;By&#160;binding,&#160;data&#160;is&#160;encrypted&#160;using&#160;a&#160;TPM&#160;key.&#160;If&#160;this&#160;key&#160;is&#160;not&#160;</p>
<p style="position:absolute;top:973px;left:107px;white-space:nowrap" class="ft279142">by&#160;&#160;&#160;the&#160;&#160;&#160;TSS.&#160;&#160;&#160;While&#160;&#160;&#160;this&#160;&#160;&#160;is&#160;&#160;&#160;desired&#160;&#160;&#160;(and&#160;&#160;&#160;required)&#160;&#160;&#160;for&#160;&#160;&#160;sophisticates&#160;&#160;&#160;Trusted&#160;&#160;&#160;Computing&#160;<br/>applications,&#160;&#160;&#160;developers&#160;&#160;&#160;new&#160;&#160;&#160;to&#160;&#160;&#160;trusted&#160;&#160;&#160;computing&#160;&#160;&#160;might&#160;&#160;&#160;be&#160;&#160;&#160;overwhelmed.&#160;&#160;&#160;It&#160;&#160;&#160;therefore&#160;</p>
<p style="position:absolute;top:1008px;left:107px;white-space:nowrap" class="ft279142">might&#160;be&#160;beneficial&#160;to&#160;add&#160;an&#160;additional,&#160;simplified&#160;interface&#160;on&#160;top&#160;of&#160;the&#160;Java&#160;TSS&#160;frontend&#160;<br/>that&#160;&#160;&#160;provides&#160;&#160;&#160;a&#160;&#160;&#160;set&#160;&#160;&#160;of&#160;&#160;&#160;well&#160;&#160;&#160;defined&#160;&#160;&#160;functions&#160;&#160;&#160;covering&#160;&#160;&#160;typical&#160;&#160;&#160;trusted&#160;&#160;&#160;computing&#160;&#160;&#160;usage&#160;</p>
<p style="position:absolute;top:1043px;left:107px;white-space:nowrap" class="ft279142">scenarios.&#160;Since&#160;there&#160;is&#160;no&#160;broad&#160;experience&#160;with&#160;trusted&#160;computing&#160;applications&#160;yet,&#160;this&#160;<br/>topic&#160;is&#160;to&#160;be&#160;addressed&#160;at&#160;a&#160;later&#160;time.</p>
<p style="position:absolute;top:1087px;left:85px;white-space:nowrap" class="ft279134">2&#160;Note&#160;that&#160;the&#160;current&#160;API&#160;design&#160;is&#160;focused&#160;towards&#160;1.1b&#160;TCG&#160;Software&#160;Stacks.&#160;As&#160;1.2&#160;stacks&#160;</p>
<p style="position:absolute;top:1104px;left:107px;white-space:nowrap" class="ft279142">become&#160;available,&#160;the&#160;design&#160;will&#160;be&#160;extended&#160;to&#160;cover&#160;1.2&#160;functionalities&#160;(see&#160;also&#160;section&#160;<br/><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#281">2.4).</a></p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft279134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft279134">11/47</p>
</div>
<!-- Page 280 -->
<a name="280"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page280-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2280.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft28090">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft28080">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft280134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft280134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:192px;white-space:nowrap" class="ft280133">migratable,&#160;the&#160;only&#160;entity&#160;that&#160;is&#160;able&#160;to&#160;unbind&#160;(i.e.&#160;decrypt)&#160;the&#160;key&#160;is&#160;<br/>the&#160;&#160;&#160;TPM&#160;&#160;&#160;that&#160;&#160;&#160;holds&#160;&#160;the&#160;&#160;private&#160;&#160;&#160;key.&#160;&#160;&#160;Sealing&#160;&#160;&#160;takes&#160;&#160;this&#160;&#160;concept&#160;&#160;&#160;a&#160;&#160;step&#160;<br/>further:&#160;When&#160;sealing&#160;data,&#160;the&#160;platform&#160;configuration&#160;is&#160;included&#160;in&#160;the&#160;<br/>seal&#160;&#160;&#160;operation.&#160;&#160;&#160;By&#160;&#160;&#160;that,&#160;&#160;&#160;the&#160;&#160;&#160;sealed&#160;&#160;&#160;data&#160;&#160;&#160;can&#160;&#160;&#160;only&#160;&#160;&#160;be&#160;&#160;&#160;unsealed&#160;&#160;&#160;if&#160;&#160;&#160;the&#160;<br/>platform&#160;&#160;&#160;is&#160;&#160;in&#160;&#160;the&#160;&#160;state&#160;&#160;&#160;specified&#160;&#160;&#160;when&#160;&#160;sealing&#160;&#160;&#160;the&#160;&#160;data.&#160;&#160;&#160;The&#160;&#160;platform&#160;<br/>configuration&#160;is&#160;represented&#160;by&#160;the&#160;contents&#160;of&#160;the&#160;TPM's&#160;PCRs.</p>
<p style="position:absolute;top:279px;left:165px;white-space:nowrap" class="ft280140"></p>
<p style="position:absolute;top:275px;left:192px;white-space:nowrap" class="ft280129"><b>TcIHash</b></p>
<p style="position:absolute;top:302px;left:192px;white-space:nowrap" class="ft280133">This&#160;class&#160;provides&#160;access&#160;to&#160;the&#160;TSS's&#160;hashing&#160;functions.&#160;That&#160;includes&#160;<br/>hash&#160;calculation,&#160;hash&#160;verification&#160;as&#160;well&#160;as&#160;creating&#160;signatures&#160;of&#160;data&#160;<br/>blocks&#160;using&#160;a&#160;TPM&#160;key.</p>
<p style="position:absolute;top:373px;left:165px;white-space:nowrap" class="ft280140"></p>
<p style="position:absolute;top:369px;left:192px;white-space:nowrap" class="ft280129"><b>TcIPcrComposite</b></p>
<p style="position:absolute;top:396px;left:192px;white-space:nowrap" class="ft280133">The&#160;platform&#160;configuration&#160;registers&#160;(PCRs)&#160;can&#160;e.g.&#160;be&#160;used&#160;to&#160;attest&#160;the&#160;<br/>state&#160;&#160;&#160;of&#160;&#160;&#160;a&#160;&#160;&#160;platform&#160;&#160;&#160;(quote&#160;&#160;&#160;operation)&#160;&#160;&#160;or&#160;&#160;&#160;to&#160;&#160;&#160;seal&#160;&#160;&#160;data&#160;&#160;&#160;to&#160;&#160;&#160;a&#160;&#160;&#160;specific&#160;<br/>configuration.&#160;&#160;&#160;Instances&#160;&#160;&#160;of&#160;&#160;&#160;this&#160;&#160;&#160;class&#160;&#160;&#160;are&#160;&#160;&#160;used&#160;&#160;&#160;to&#160;&#160;&#160;select&#160;&#160;&#160;one&#160;&#160;&#160;or&#160;&#160;&#160;more&#160;<br/>platform&#160;configuration&#160;registers.&#160;This&#160;selection&#160;is&#160;then&#160;handed&#160;to&#160;e.g.&#160;the&#160;<br/>quote&#160;or&#160;seal&#160;functions.</p>
<p style="position:absolute;top:533px;left:165px;white-space:nowrap" class="ft280140"></p>
<p style="position:absolute;top:528px;left:192px;white-space:nowrap" class="ft280129"><b>TcIPolicy</b></p>
<p style="position:absolute;top:556px;left:192px;white-space:nowrap" class="ft280133">The&#160;policy&#160;class&#160;is&#160;designed&#160;to&#160;handle&#160;authorization&#160;data&#160;for&#160;TSS&#160;objects&#160;<br/>such&#160;as&#160;keys.</p>
<p style="position:absolute;top:603px;left:139px;white-space:nowrap" class="ft280133">The&#160;handling&#160;of&#160;errors&#160;in&#160;the&#160;TSP&#160;is&#160;based&#160;on&#160;return&#160;code.&#160;In&#160;Java,&#160;this&#160;concept&#160;is&#160;<br/>replaced&#160;by&#160;exceptions&#160;which&#160;encapsulate&#160;the&#160;errors&#160;returned&#160;from&#160;the&#160;TSS.&#160;<br/>This&#160;&#160;&#160;allows&#160;&#160;&#160;to&#160;&#160;&#160;handles&#160;&#160;&#160;TSS&#160;&#160;&#160;errors&#160;&#160;&#160;with&#160;&#160;&#160;conventional&#160;&#160;&#160;Java&#160;&#160;&#160;error&#160;&#160;&#160;handling&#160;<br/>mechanisms.<br/>For&#160;the&#160;reason&#160;of&#160;flexibility,&#160;the&#160;TSS&#160;has&#160;been&#160;designed&#160;to&#160;return&#160;generic&#160;byte&#160;<br/>arrays&#160;instead&#160;of&#160;concrete&#160;structures.&#160;This&#160;allows&#160;&#160;to&#160;e.g.&#160;use&#160;one&#160;single&#160;function&#160;<br/>to&#160;retrieve&#160;different&#160;types&#160;of&#160;data.&#160;It&#160;is&#160;the&#160;responsibility&#160;of&#160;the&#160;developer&#160;to&#160;<br/>treat&#160;&#160;&#160;the&#160;&#160;&#160;returned&#160;&#160;&#160;data&#160;&#160;&#160;correctly.&#160;&#160;&#160;Where&#160;&#160;&#160;possible,&#160;&#160;&#160;the&#160;&#160;&#160;Java&#160;&#160;&#160;TSS&#160;&#160;&#160;Wrapper&#160;<br/>converts&#160;&#160;&#160;the&#160;&#160;&#160;generic&#160;&#160;&#160;byte&#160;&#160;&#160;blobs&#160;&#160;&#160;into&#160;&#160;&#160;the&#160;&#160;&#160;correct&#160;&#160;&#160;objects.&#160;&#160;&#160;Where&#160;&#160;&#160;this&#160;&#160;&#160;is&#160;&#160;&#160;not&#160;<br/>possible,&#160;easy&#160;to&#160;use&#160;Java&#160;representations&#160;of&#160;the&#160;equivalent&#160;C&#160;structures&#160;are&#160;<br/>available&#160;that&#160;provide&#160;developers&#160;with&#160;a&#160;simple&#160;mechanism&#160;for&#160;converting&#160;byte&#160;<br/>blobs&#160;received&#160;from&#160;lower&#160;layers&#160;into&#160;objects.&#160;This&#160;is&#160;commonly&#160;used&#160;for&#160;e.g.&#160;<br/>structures&#160;received&#160;directly&#160;from&#160;the&#160;TPM.&#160;Since&#160;this&#160;functionality&#160;is&#160;required&#160;<br/>regardless&#160;of&#160;the&#160;TCS&#160;backend,&#160;it&#160;logically&#160;is&#160;part&#160;of&#160;the&#160;TSS&#160;frontend&#160;API&#160;(see&#160;<br/>the&#160;blue&#160;boxes&#160;in<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#278">&#160;Illustration&#160;4)</a>.</p>
<p style="position:absolute;top:912px;left:112px;white-space:nowrap" class="ft280140">●</p>
<p style="position:absolute;top:908px;left:139px;white-space:nowrap" class="ft280129"><b>Backend&#160;Components</b></p>
<p style="position:absolute;top:936px;left:139px;white-space:nowrap" class="ft280133">With&#160;&#160;&#160;the&#160;&#160;&#160;split&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;design&#160;&#160;&#160;into&#160;&#160;&#160;a&#160;&#160;&#160;an&#160;&#160;&#160;interface&#160;&#160;&#160;based&#160;&#160;&#160;frontend&#160;&#160;&#160;and&#160;&#160;&#160;several&#160;<br/>backends,&#160;different&#160;TCS&#160;connection&#160;types&#160;can&#160;&#160;be&#160;realized.&#160;The&#160;most&#160;&#160;obvious&#160;<br/>type&#160;is&#160;the&#160;RPC&#160;based&#160;connection.&#160;For&#160;this,&#160;a&#160;Java&#160;Native&#160;Interface&#160;(JNI)&#160;binding&#160;<br/>to&#160;the&#160;TSP&#160;is&#160;required.&#160;This&#160;JNI&#160;interface&#160;consists&#160;of&#160;a&#160;native&#160;C&#160;part&#160;that&#160;is&#160;linked&#160;<br/>to&#160;the&#160;TSP&#160;library&#160;and&#160;a&#160;Java&#160;part&#160;that&#160;implements&#160;the&#160;frontend&#160;interface.&#160;Calls&#160;<br/>the&#160;the&#160;Java&#160;level&#160;methods&#160;are&#160;routed&#160;via&#160;the&#160;JNI&#160;intermediate&#160;layer&#160;to&#160;the&#160;TSP.<br/>The&#160;&#160;&#160;SOAP&#160;&#160;&#160;interface&#160;&#160;&#160;for&#160;&#160;&#160;the&#160;&#160;&#160;TCS&#160;&#160;&#160;specified&#160;&#160;&#160;by&#160;&#160;&#160;the&#160;&#160;&#160;TCG&#160;&#160;&#160;is&#160;&#160;&#160;a&#160;&#160;&#160;more&#160;&#160;&#160;versatile&#160;<br/>interface&#160;to&#160;the&#160;TCS&#160;because&#160;it,&#160;in&#160;contrast&#160;to&#160;RPC,&#160;offers&#160;a&#160;well&#160;defined&#160;remote&#160;<br/>interface.&#160;&#160;&#160;This&#160;&#160;&#160;SOAP&#160;&#160;&#160;interface&#160;&#160;&#160;is&#160;&#160;&#160;planned&#160;&#160;&#160;to&#160;&#160;&#160;be&#160;&#160;&#160;supported&#160;&#160;&#160;by&#160;&#160;&#160;the&#160;&#160;&#160;Java&#160;&#160;&#160;TSS&#160;<br/>Wrapper&#160;with&#160;an&#160;own&#160;backend.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft280134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft280134">12/47</p>
</div>
<!-- Page 281 -->
<a name="281"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft281143{font-size:17px;font-family:CAAAAA+BitstreamVeraSans;color:#000080;}
-->
</style>
<div id="page281-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2281.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft28190">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft28180">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft281134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft281134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:139px;white-space:nowrap" class="ft281133">To&#160;&#160;&#160;allow&#160;&#160;&#160;simple&#160;&#160;&#160;switching&#160;&#160;&#160;from&#160;&#160;&#160;one&#160;&#160;&#160;backend&#160;&#160;&#160;to&#160;&#160;&#160;another,&#160;&#160;&#160;all&#160;&#160;&#160;backend&#160;<br/>components&#160;&#160;&#160;are&#160;&#160;&#160;created&#160;&#160;&#160;based&#160;&#160;&#160;on&#160;&#160;&#160;the&#160;&#160;&#160;factory&#160;&#160;&#160;pattern.&#160;&#160;&#160;Selecting&#160;&#160;&#160;another&#160;<br/>backend&#160;therefor&#160;is&#160;a&#160;matter&#160;of&#160;choosing&#160;another&#160;object&#160;factory.&#160;The&#160;application&#160;<br/>relying&#160;on&#160;the&#160;frontend&#160;interface&#160;does&#160;not&#160;need&#160;to&#160;be&#160;modified.<br/>Should&#160;the&#160;need&#160;arise&#160;to&#160;implement&#160;additional&#160;communication&#160;backends,&#160;the&#160;<br/>proposed&#160;&#160;&#160;architecture&#160;&#160;&#160;is&#160;&#160;&#160;flexible&#160;&#160;&#160;enough&#160;&#160;&#160;to&#160;&#160;&#160;add&#160;&#160;&#160;those&#160;&#160;&#160;backends&#160;&#160;&#160;without&#160;<br/>problems.</p>
<p style="position:absolute;top:320px;left:85px;white-space:nowrap" class="ft281129"><b>2.4&#160;Requirements&#160;and&#160;Assumptions</b></p>
<p style="position:absolute;top:349px;left:85px;white-space:nowrap" class="ft281133">This&#160;section&#160;summarizes&#160;the&#160;requirements&#160;and&#160;assumptions&#160;that&#160;have&#160;been&#160;taken&#160;for&#160;<br/>the&#160;design&#160;of&#160;the&#160;Java&#160;TSS&#160;Bindings.<br/>At&#160;the&#160;time&#160;of&#160;writing&#160;this&#160;document,&#160;the&#160;only&#160;available&#160;TSS&#160;for&#160;Linux&#160;is&#160;the&#160;TrouSerS&#160;<br/>TSS&#160;<a href="http://trousers.sf.net/">(</a></p>
<p style="position:absolute;top:415px;left:130px;white-space:nowrap" class="ft281143"><a href="http://trousers.sf.net/">http://trousers.sf.net</a></p>
<p style="position:absolute;top:415px;left:301px;white-space:nowrap" class="ft281130"><a href="http://trousers.sf.net/">)</a>.&#160;It&#160;currently&#160;only&#160;supports&#160;TSS&#160;specification&#160;1.1&#160;<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#315">&#160;[TSS1.1]&#160;&#160;.</a>&#160;</p>
<p style="position:absolute;top:434px;left:85px;white-space:nowrap" class="ft281138">The&#160;only&#160;implemented&#160;connection&#160;mechanism&#160;between&#160;the&#160;TSP&#160;and&#160;the&#160;TCS&#160;is&#160;the&#160;<br/>vendor&#160;specific&#160;RPC&#160;interface.&#160;There&#160;currently&#160;is&#160;no&#160;support&#160;for&#160;the&#160;SOAP&#160;interface.&#160;<br/>Therefore&#160;&#160;&#160;all&#160;&#160;&#160;experiments&#160;&#160;&#160;and&#160;&#160;&#160;prototyping&#160;&#160;&#160;done&#160;&#160;&#160;so&#160;&#160;&#160;far&#160;&#160;&#160;is&#160;&#160;&#160;limited&#160;&#160;&#160;to&#160;&#160;&#160;the&#160;&#160;&#160;1.1&#160;&#160;&#160;TSS&#160;<br/>specification&#160;&#160;&#160;and&#160;&#160;&#160;the&#160;&#160;&#160;JNI&#160;&#160;&#160;based&#160;&#160;&#160;backend&#160;&#160;&#160;implementation.&#160;&#160;&#160;As&#160;&#160;&#160;a&#160;&#160;&#160;consequence,&#160;&#160;&#160;this&#160;<br/>design&#160;is&#160;based&#160;on&#160;the&#160;knowledge&#160;gained&#160;from&#160;the&#160;TSS&#160;specifications&#160;and&#160;the&#160;work&#160;<br/>with&#160;the&#160;TrouSerS&#160;TSS.<br/>It&#160;&#160;&#160;is&#160;&#160;&#160;assumed&#160;&#160;&#160;that&#160;&#160;&#160;there&#160;&#160;&#160;will&#160;&#160;&#160;be&#160;&#160;&#160;a&#160;&#160;&#160;1.2&#160;<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#315">&#160;[TSS1.2]&#160;&#160;&#160;&#160;</a>compliant&#160;&#160;&#160;TSS&#160;&#160;&#160;featuring&#160;&#160;&#160;a&#160;&#160;&#160;SOAP&#160;<br/>interface&#160;available&#160;within&#160;the&#160;project&#160;within&#160;a&#160;reasonable&#160;time&#160;frame.<br/>TPM&#160;and&#160;OS&#160;driver</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft281134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft281134">13/47</p>
</div>
<!-- Page 282 -->
<a name="282"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page282-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2282.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft28290">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft28280">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft282134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft282134">DRAFT|1.0</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft282129"><b>2.5&#160;A&#160;native&#160;Java&#160;TSS</b></p>
<p style="position:absolute;top:197px;left:85px;white-space:nowrap" class="ft282130">An&#160;alternative&#160;approach&#160;to&#160;using&#160;a&#160;3</p>
<p style="position:absolute;top:197px;left:391px;white-space:nowrap" class="ft282141">rd</p>
<p style="position:absolute;top:197px;left:401px;white-space:nowrap" class="ft282130">&#160;party&#160;TSS&#160;with&#160;a&#160;Java&#160;wrapper&#160;on&#160;top&#160;of&#160;it&#160;is&#160;the&#160;</p>
<p style="position:absolute;top:216px;left:85px;white-space:nowrap" class="ft282133">implementation&#160;&#160;&#160;of&#160;&#160;&#160;a&#160;&#160;&#160;native&#160;&#160;&#160;Java&#160;&#160;&#160;TSS.&#160;&#160;&#160;This&#160;&#160;&#160;section&#160;&#160;&#160;is&#160;&#160;&#160;dedicated&#160;&#160;&#160;to&#160;&#160;&#160;describing&#160;&#160;&#160;the&#160;<br/>benefits&#160;of&#160;such&#160;a&#160;solution&#160;and&#160;to&#160;identify&#160;the&#160;challenges&#160;that&#160;are&#160;involved.<br/>It&#160;has&#160;to&#160;be&#160;noted&#160;that&#160;the&#160;exploration&#160;of&#160;such&#160;a&#160;solution&#160;currently&#160;is&#160;at&#160;an&#160;early&#160;stage&#160;<br/>and&#160;not&#160;all&#160;aspects&#160;have&#160;yet&#160;been&#160;examined&#160;in&#160;detail.&#160;Therefore&#160;at&#160;the&#160;time&#160;of&#160;this&#160;<br/>writing&#160;it&#160;can&#160;not&#160;be&#160;foreseen&#160;if&#160;such&#160;an&#160;approach&#160;could&#160;supplement&#160;or&#160;even&#160;replace&#160;a&#160;<br/>wrapper&#160;for&#160;an&#160;existing&#160;TSS&#160;as&#160;described&#160;in&#160;previous&#160;sections.<br/>A&#160;TSS&#160;is&#160;composed&#160;of&#160;two&#160;main&#160;parts,&#160;namely&#160;the&#160;Trusted&#160;Core&#160;Services&#160;(TCS)&#160;and&#160;the&#160;<br/>Trusted&#160;Service&#160;Provider&#160;(TSP).&#160;Contrary&#160;&#160;to&#160;the&#160;Wrapper&#160;approach,&#160;&#160;not&#160;only&#160;a&#160;Java&#160;<br/>front&#160;end&#160;for&#160;the&#160;TSPI&#160;and&#160;parts&#160;of&#160;the&#160;TSP&#160;have&#160;to&#160;be&#160;implemented,&#160;but&#160;also&#160;the&#160;TCS.&#160;<br/>To&#160;get&#160;an&#160;overview&#160;of&#160;the&#160;individual&#160;components&#160;that&#160;make&#160;up&#160;the&#160;TCS,<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#284">&#160;Illustration&#160;5</a>&#160;<br/>presents&#160;the&#160;main&#160;components&#160;and&#160;their&#160;interdependencies.&#160;The&#160;following&#160;paragraphs&#160;<br/>briefly&#160;&#160;&#160;describe&#160;&#160;&#160;the&#160;&#160;&#160;individual&#160;&#160;&#160;components&#160;&#160;&#160;shown&#160;&#160;&#160;in&#160;<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#284">&#160;Illustration&#160;&#160;&#160;5,&#160;</a>&#160;&#160;starting&#160;&#160;&#160;at&#160;&#160;&#160;the&#160;<br/>hardware&#160;(TPM)&#160;level&#160;up&#160;to&#160;the&#160;Trusted&#160;Core&#160;Services&#160;Interface&#160;(TCSI)&#160;and&#160;the&#160;server&#160;<br/>component.</p>
<p style="position:absolute;top:515px;left:112px;white-space:nowrap" class="ft282140">●</p>
<p style="position:absolute;top:511px;left:139px;white-space:nowrap" class="ft282129"><b>TPM&#160;and&#160;OS&#160;driver</b></p>
<p style="position:absolute;top:530px;left:139px;white-space:nowrap" class="ft282133">The&#160;TPM&#160;chip&#160;forms&#160;the&#160;lowest&#160;level&#160;of&#160;the&#160;stack.&#160;TPMs&#160;are&#160;implemented&#160;by&#160;<br/>different&#160;manufacturers&#160;according&#160;to&#160;the&#160;specification&#160;of&#160;the&#160;TCG.&#160;The&#160;TSS&#160;<br/>should&#160;support&#160;both&#160;TPM&#160;specification&#160;versions:&#160;1.1b&#160;and&#160;1.2.&#160;Taking&#160;into&#160;<br/>account&#160;the&#160;rapid&#160;development&#160;of&#160;the&#160;IT&#160;industry,&#160;it&#160;can&#160;be&#160;assumed&#160;that&#160;<br/>hardware&#160;equipped&#160;with&#160;1.2&#160;TPMs&#160;will&#160;become&#160;dominant&#160;in&#160;the&#160;near&#160;future.&#160;<br/>Therefore,&#160;it&#160;seems&#160;to&#160;be&#160;acceptable&#160;to&#160;focus&#160;on&#160;the&#160;support&#160;of&#160;TPMs&#160;version&#160;<br/>1.2.<br/>The&#160;OS&#160;driver,&#160;typically&#160;running&#160;in&#160;Kernel&#160;mode,&#160;is&#160;the&#160;first&#160;software&#160;component&#160;<br/>of&#160;the&#160;stack.&#160;When&#160;implementing&#160;a&#160;TSS,&#160;it&#160;can&#160;be&#160;assumed&#160;that&#160;the&#160;driver&#160;is&#160;<br/>supplied&#160;either&#160;by&#160;the&#160;TPM&#160;vendor&#160;or&#160;is&#160;already&#160;part&#160;of&#160;the&#160;operating&#160;system.&#160;<br/>Modern&#160;1.2&#160;TPMs&#160;no&#160;longer&#160;need&#160;a&#160;vendor&#160;specific&#160;driver&#160;but&#160;can&#160;be&#160;accessed&#160;<br/>via&#160;a&#160;TIS&#160;(TPM&#160;Interface&#160;Specification)&#160;driver.&#160;</p>
<p style="position:absolute;top:773px;left:112px;white-space:nowrap" class="ft282140">●</p>
<p style="position:absolute;top:769px;left:139px;white-space:nowrap" class="ft282129"><b>Trusted&#160;Device&#160;Driver&#160;Library&#160;(TDDL)</b></p>
<p style="position:absolute;top:788px;left:139px;white-space:nowrap" class="ft282133">The&#160;TDDL&#160;is&#160;a&#160;standardized&#160;software&#160;layer&#160;with&#160;the&#160;main&#160;purpose&#160;of&#160;providing&#160;<br/>an&#160;abstraction&#160;of&#160;the&#160;underlying&#160;OS&#160;specific&#160;TPM&#160;interface.&#160;As&#160;shown&#160;in&#160;<br/><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#284">Illustration&#160;5,</a>&#160;the&#160;TDDL&#160;is&#160;designed&#160;such&#160;that&#160;implementations&#160;for&#160;different&#160;<br/>systems&#160;can&#160;easily&#160;be&#160;added.&#160;For&#160;the&#160;Linux&#160;operating&#160;system,&#160;the&#160;TDDL&#160;would&#160;<br/>be&#160;implemented&#160;such&#160;that&#160;it&#160;opens&#160;the&#160;TPM&#160;device&#160;file&#160;(/dev/tpm)&#160;that&#160;is&#160;<br/>provided&#160;by&#160;the&#160;underlying&#160;driver.&#160;Microsoft&#160;Windows&#160;Vista&#160;is&#160;shipped&#160;with&#160;a&#160;<br/>generic&#160;TIS&#160;driver.&#160;TPM&#160;functionality&#160;is&#160;made&#160;available&#160;via&#160;the&#160;so&#160;called&#160;Trusted&#160;<br/>Based&#160;Services&#160;(TBS).&#160;This&#160;service&#160;interface&#160;should&#160;allow&#160;similar&#160;access&#160;to&#160;the&#160;<br/>TPM&#160;as&#160;the&#160;device&#160;file&#160;under&#160;Linux&#160;does.&#160;Consequently,&#160;for&#160;Windows&#160;Vista,&#160;the&#160;<br/>TDDL&#160;layer&#160;can&#160;be&#160;implemented&#160;using&#160;the&#160;TBS&#160;API.</p>
<p style="position:absolute;top:993px;left:112px;white-space:nowrap" class="ft282140">●</p>
<p style="position:absolute;top:988px;left:139px;white-space:nowrap" class="ft282129"><b>Parameter&#160;Block&#160;Generator&#160;and&#160;TPM&#160;Structure&#160;Parser</b></p>
<p style="position:absolute;top:1008px;left:139px;white-space:nowrap" class="ft282133">The&#160;TPM&#160;offers&#160;a&#160;byte&#160;stream&#160;oriented&#160;interface.&#160;That&#160;means&#160;that&#160;all&#160;commands&#160;<br/>sent&#160;to&#160;the&#160;TPM&#160;have&#160;to&#160;be&#160;marshaled&#160;into&#160;byte&#160;streams&#160;which&#160;are&#160;then&#160;sent&#160;to&#160;<br/>the&#160;TPM.&#160;As&#160;the&#160;TPM&#160;specification&#160;defines&#160;the&#160;data&#160;exchanged&#160;with&#160;the&#160;TPM&#160;<br/>based&#160;on&#160;C&#160;structures,&#160;at&#160;first&#160;all&#160;primitive&#160;data&#160;types&#160;used&#160;(e.g.&#160;UINT32)&#160;have&#160;<br/>to&#160;be&#160;mapped&#160;to&#160;equivalent&#160;Java&#160;types.&#160;Then&#160;the&#160;C&#160;structures&#160;have&#160;to&#160;be&#160;<br/>modeled&#160;by&#160;Java&#160;classes.&#160;When&#160;sending&#160;commands&#160;to&#160;the&#160;TPM,&#160;the&#160;contents&#160;of&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft282134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft282134">14/47</p>
</div>
<!-- Page 283 -->
<a name="283"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page283-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2283.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft28390">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft28380">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft283134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft283134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:139px;white-space:nowrap" class="ft283133">those&#160;class&#160;instances&#160;has&#160;to&#160;be&#160;packed&#160;into&#160;a&#160;byte&#160;stream.&#160;When&#160;receiving&#160;a&#160;<br/>response&#160;from&#160;the&#160;TPM,&#160;the&#160;byte&#160;stream&#160;has&#160;to&#160;be&#160;unpacked&#160;and&#160;decoded&#160;into&#160;<br/>Java&#160;objects.</p>
<p style="position:absolute;top:222px;left:112px;white-space:nowrap" class="ft283140">●</p>
<p style="position:absolute;top:217px;left:139px;white-space:nowrap" class="ft283129"><b>Authorization&#160;Manager</b></p>
<p style="position:absolute;top:245px;left:139px;white-space:nowrap" class="ft283133">The&#160;TPM&#160;is&#160;designed&#160;as&#160;low&#160;cost&#160;chip&#160;with&#160;a&#160;limited&#160;amount&#160;of&#160;internal&#160;<br/>resources.&#160;One&#160;of&#160;those&#160;resources&#160;that&#160;are&#160;managed&#160;by&#160;the&#160;TSS&#160;are&#160;<br/>authorization&#160;sessions.&#160;The&#160;authorization&#160;manager&#160;keeps&#160;track&#160;of&#160;the&#160;<br/>authorization&#160;sessions&#160;and&#160;if&#160;required,&#160;it&#160;swaps,&#160;evicts&#160;or&#160;re-loads&#160;TPM&#160;<br/>authorization&#160;sessions.</p>
<p style="position:absolute;top:354px;left:112px;white-space:nowrap" class="ft283140">●</p>
<p style="position:absolute;top:349px;left:139px;white-space:nowrap" class="ft283129"><b>Event&#160;Manager&#160;and&#160;Event&#160;Log</b></p>
<p style="position:absolute;top:377px;left:139px;white-space:nowrap" class="ft283133">When&#160;doing&#160;a&#160;PCR&#160;extend&#160;operation,&#160;an&#160;event&#160;log&#160;message&#160;can&#160;be&#160;specified.&#160;It&#160;<br/>is&#160;the&#160;task&#160;of&#160;the&#160;TCS&#160;to&#160;store,&#160;manage&#160;and&#160;report&#160;this&#160;information.&#160;The&#160;event&#160;<br/>log&#160;however&#160;is&#160;not&#160;limited&#160;to&#160;events&#160;that&#160;were&#160;generated&#160;via&#160;the&#160;TSS.&#160;During&#160;<br/>boot,&#160;measurements&#160;are&#160;done&#160;by&#160;the&#160;BIOS&#160;storing&#160;the&#160;log&#160;information&#160;in&#160;ACPI&#160;<br/>memory.&#160;To&#160;provide&#160;a&#160;complete&#160;event&#160;log,&#160;the&#160;TSS&#160;also&#160;has&#160;to&#160;collect&#160;this&#160;log&#160;<br/>information&#160;stored&#160;outside&#160;the&#160;TSS.&#160;Other&#160;log&#160;entries,&#160;such&#160;as&#160;those&#160;collected&#160;by&#160;<br/>IMA&#160;(Integrity&#160;Measurement&#160;Architecture)&#160;should&#160;be&#160;collected&#160;as&#160;well.</p>
<p style="position:absolute;top:524px;left:112px;white-space:nowrap" class="ft283140">●</p>
<p style="position:absolute;top:520px;left:139px;white-space:nowrap" class="ft283129"><b>Key&#160;and&#160;Credential&#160;Manager,&#160;Persistent&#160;System&#160;Storage</b></p>
<p style="position:absolute;top:547px;left:139px;white-space:nowrap" class="ft283133">Applications&#160;might&#160;need&#160;to&#160;store&#160;keys&#160;permanently.&#160;The&#160;TCS&#160;offers&#160;a&#160;system&#160;<br/>wide&#160;storage&#160;for&#160;that&#160;purpose.&#160;In&#160;this&#160;storage,&#160;a&#160;key&#160;hierarchy&#160;is&#160;defined&#160;with&#160;<br/>the&#160;Storage&#160;Root&#160;Key&#160;(SRK)&#160;as&#160;it's&#160;root.&#160;Keys&#160;stored&#160;in&#160;the&#160;persistent&#160;storage&#160;are&#160;<br/>assigned&#160;a&#160;unique&#160;identifier&#160;called&#160;UUID.&#160;This&#160;UUID&#160;can&#160;be&#160;used&#160;by&#160;applications&#160;<br/>to&#160;look&#160;up&#160;and&#160;reference&#160;keys.&#160;The&#160;key&#160;manager&#160;is&#160;responsible&#160;for&#160;storing&#160;key&#160;<br/>blobs&#160;in&#160;the&#160;persistent&#160;storage&#160;as&#160;well&#160;as&#160;for&#160;retrieving&#160;and&#160;loading&#160;keys.&#160;As&#160;part&#160;<br/>of&#160;this&#160;process,&#160;the&#160;key&#160;manager&#160;must&#160;ensure&#160;that&#160;the&#160;key&#160;chain&#160;from&#160;the&#160;SRK&#160;<br/>to&#160;the&#160;key&#160;to&#160;be&#160;loaded&#160;is&#160;established&#160;correctly.<br/>Credentials&#160;such&#160;as&#160;the&#160;endorsement&#160;or&#160;the&#160;platform&#160;credential&#160;are&#160;managed&#160;by&#160;<br/>the&#160;TCS.&#160;By&#160;that,&#160;it&#160;is&#160;ensured&#160;that&#160;all&#160;applications&#160;have&#160;access&#160;to&#160;these&#160;<br/>credentials&#160;using&#160;a&#160;well&#160;defined&#160;mechanism.&#160;The&#160;credentials&#160;are&#160;e.g.&#160;used&#160;as&#160;<br/>part&#160;of&#160;the&#160;CollateIdentity/ActivateIdentity&#160;cycle&#160;to&#160;create&#160;Attestation&#160;Identity&#160;<br/>Keys&#160;(AIKs).</p>
<p style="position:absolute;top:819px;left:112px;white-space:nowrap" class="ft283140">●</p>
<p style="position:absolute;top:814px;left:139px;white-space:nowrap" class="ft283129"><b>TCS&#160;Context&#160;Manager</b></p>
<p style="position:absolute;top:842px;left:139px;white-space:nowrap" class="ft283133">Resources&#160;are&#160;bound&#160;to&#160;a&#160;context&#160;representing&#160;a&#160;calling&#160;application.&#160;These&#160;<br/>application&#160;contexts&#160;are&#160;managed&#160;by&#160;the&#160;context&#160;manager.</p>
<p style="position:absolute;top:893px;left:112px;white-space:nowrap" class="ft283140">●</p>
<p style="position:absolute;top:889px;left:139px;white-space:nowrap" class="ft283129"><b>TCSI&#160;API</b></p>
<p style="position:absolute;top:916px;left:139px;white-space:nowrap" class="ft283133">This&#160;layer&#160;represents&#160;the&#160;standardized&#160;API&#160;of&#160;the&#160;TCS.&#160;The&#160;TSS&#160;specification&#160;<br/>defines&#160;this&#160;API&#160;in&#160;a&#160;C&#160;style&#160;fashion&#160;which&#160;has&#160;to&#160;be&#160;mapped&#160;to&#160;Java.</p>
<p style="position:absolute;top:968px;left:112px;white-space:nowrap" class="ft283140">●</p>
<p style="position:absolute;top:963px;left:139px;white-space:nowrap" class="ft283129"><b>TCS&#160;Server&#160;Components</b></p>
<p style="position:absolute;top:991px;left:139px;white-space:nowrap" class="ft283133">The&#160;TCS&#160;is&#160;designed&#160;to&#160;be&#160;implemented&#160;as&#160;a&#160;system&#160;service&#160;or&#160;daemon.&#160;<br/>Therefore,&#160;multiple&#160;applications&#160;are&#160;able&#160;to&#160;concurrently&#160;access&#160;the&#160;TCS.&#160;This&#160;is&#160;<br/>facilitated&#160;by&#160;the&#160;TCS&#160;server&#160;component.&#160;It&#160;accepts&#160;incoming&#160;connection&#160;<br/>requests&#160;from&#160;applications&#160;and&#160;passes&#160;them&#160;to&#160;the&#160;underlying&#160;layer.&#160;It&#160;has&#160;to&#160;<br/>ensure&#160;proper&#160;synchronization&#160;such&#160;that&#160;only&#160;one&#160;thread&#160;is&#160;allowed&#160;to&#160;enter&#160;<br/>critical&#160;sections&#160;of&#160;the&#160;TCS.&#160;The&#160;TCS&#160;server&#160;interface&#160;must&#160;be&#160;flexible&#160;enough&#160;to&#160;<br/>allow&#160;different&#160;connection&#160;mechanisms&#160;such&#160;as&#160;local&#160;calls,&#160;Java&#160;RMI&#160;or&#160;SOAP.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft283134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft283134">15/47</p>
</div>
<!-- Page 284 -->
<a name="284"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page284-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2284.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft28490">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft28480">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft284134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft284134">DRAFT|1.0</p>
<p style="position:absolute;top:974px;left:85px;white-space:nowrap" class="ft284133">After&#160;having&#160;covered&#160;the&#160;main&#160;building&#160;blocks&#160;of&#160;the&#160;TCS,<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#287">&#160;Illustration&#160;6&#160;</a>now&#160;provides&#160;<br/>an&#160;overview&#160;of&#160;the&#160;major&#160;building&#160;blocks&#160;of&#160;the&#160;Trusted&#160;Service&#160;Provider&#160;(TSP).&#160;The&#160;<br/>TSP&#160;typically&#160;is&#160;designed&#160;as&#160;a&#160;library&#160;that&#160;is&#160;linked&#160;to&#160;an&#160;application.&#160;Starting&#160;at&#160;the&#160;<br/>bottom&#160;of&#160;the&#160;TSP,&#160;the&#160;major&#160;components&#160;are:</p>
<p style="position:absolute;top:1064px;left:112px;white-space:nowrap" class="ft284140">●</p>
<p style="position:absolute;top:1059px;left:139px;white-space:nowrap" class="ft284129"><b>TCS&#160;Bindings</b></p>
<p style="position:absolute;top:1078px;left:139px;white-space:nowrap" class="ft284133">Since&#160;the&#160;TCS&#160;can&#160;support&#160;different&#160;communication&#160;mechanisms,&#160;also&#160;the&#160;TSP&#160;<br/>has&#160;to&#160;offer&#160;support&#160;for&#160;different&#160;communication&#160;facilities.&#160;The&#160;TCS&#160;binding&#160;<br/>component&#160;provides&#160;an&#160;abstraction&#160;layer&#160;that&#160;allows&#160;to&#160;add&#160;communication&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft284134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft284134">16/47</p>
<p style="position:absolute;top:939px;left:86px;white-space:nowrap" class="ft284107"><i>Illustration&#160;5:&#160;Trusted&#160;Core&#160;Services&#160;Components.&#160;Request&#160;from&#160;the&#160;TSP&#160;are&#160;received&#160;via&#160;one&#160;of&#160;</i></p>
<p style="position:absolute;top:956px;left:188px;white-space:nowrap" class="ft284107"><i>the&#160;communication&#160;facilities&#160;provided&#160;by&#160;the&#160;TCS&#160;server&#160;component.</i></p>
</div>
<!-- Page 285 -->
<a name="285"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page285-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2285.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft28590">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft28580">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft285134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft285134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:139px;white-space:nowrap" class="ft285130">components&#160;later&#160;on&#160;without&#160;requiring&#160;changes&#160;of&#160;upper&#160;layers&#160;of&#160;the&#160;TSP.</p>
<p style="position:absolute;top:183px;left:112px;white-space:nowrap" class="ft285140">●</p>
<p style="position:absolute;top:179px;left:139px;white-space:nowrap" class="ft285129"><b>Authorization&#160;and&#160;Validation&#160;Component</b></p>
<p style="position:absolute;top:206px;left:139px;white-space:nowrap" class="ft285133">Access&#160;to&#160;the&#160;TPM&#160;and&#160;the&#160;TPM's&#160;resources&#160;requires&#160;proper&#160;authorization.&#160;The&#160;<br/>TPM&#160;specification&#160;defines&#160;special&#160;authorization&#160;protocols&#160;used&#160;to&#160;establish&#160;<br/>authorization&#160;for&#160;those&#160;resources.&#160;The&#160;authorization&#160;and&#160;validation&#160;component&#160;<br/>is&#160;responsible&#160;for&#160;creating&#160;and&#160;managing&#160;authorization&#160;sessions.&#160;Additionally,&#160;it&#160;<br/>validates&#160;response&#160;data&#160;received&#160;from&#160;the&#160;TPM.</p>
<p style="position:absolute;top:315px;left:112px;white-space:nowrap" class="ft285140">●</p>
<p style="position:absolute;top:311px;left:139px;white-space:nowrap" class="ft285129"><b>TSP&#160;Context&#160;Manager</b></p>
<p style="position:absolute;top:339px;left:139px;white-space:nowrap" class="ft285133">Communication&#160;sessions&#160;with&#160;the&#160;TCS&#160;are&#160;mapped&#160;to&#160;contexts.&#160;The&#160;context&#160;<br/>manager&#160;is&#160;responsible&#160;to&#160;keep&#160;track&#160;of&#160;context&#160;sessions&#160;and&#160;the&#160;management&#160;<br/>of&#160;the&#160;associated&#160;resources.</p>
<p style="position:absolute;top:409px;left:112px;white-space:nowrap" class="ft285140">●</p>
<p style="position:absolute;top:405px;left:139px;white-space:nowrap" class="ft285129"><b>Key&#160;Manager&#160;and&#160;Persistent&#160;User&#160;Storage</b></p>
<p style="position:absolute;top:432px;left:139px;white-space:nowrap" class="ft285133">TPM&#160;keys&#160;are&#160;organized&#160;in&#160;a&#160;key&#160;hierarchy&#160;where&#160;every&#160;key&#160;has&#160;a&#160;parent&#160;key&#160;in&#160;<br/>the&#160;layer&#160;above.&#160;The&#160;root&#160;of&#160;this&#160;hierarchy&#160;is&#160;the&#160;SRK.&#160;When&#160;loading&#160;a&#160;key&#160;into&#160;<br/>the&#160;TPM,&#160;the&#160;key&#160;manager&#160;has&#160;to&#160;establish&#160;the&#160;entire&#160;key&#160;chain&#160;starting&#160;at&#160;the&#160;<br/>SRK&#160;down&#160;to&#160;the&#160;key&#160;to&#160;be&#160;loaded.&#160;Users&#160;or&#160;applications&#160;can&#160;store&#160;keys&#160;in&#160;the&#160;<br/>user&#160;persistent&#160;storage.&#160;Contrary&#160;to&#160;the&#160;system&#160;persistent&#160;storage,&#160;this&#160;storage&#160;<br/>is&#160;individual&#160;for&#160;every&#160;user&#160;of&#160;the&#160;system.</p>
<p style="position:absolute;top:561px;left:112px;white-space:nowrap" class="ft285140">●</p>
<p style="position:absolute;top:556px;left:139px;white-space:nowrap" class="ft285129"><b>TSPI&#160;and&#160;TSP&#160;Working&#160;Objects</b></p>
<p style="position:absolute;top:584px;left:139px;white-space:nowrap" class="ft285133">The&#160;top&#160;level&#160;interface&#160;of&#160;the&#160;TSP&#160;is&#160;called&#160;Trusted&#160;Service&#160;Provider&#160;Interface&#160;<br/>(TSPI)&#160;and&#160;is&#160;standardized&#160;in&#160;the&#160;TSS&#160;specification.&#160;From&#160;the&#160;user's&#160;point&#160;of&#160;<br/>view,&#160;the&#160;TSPI&#160;consists&#160;of&#160;a&#160;set&#160;of&#160;“working&#160;objects”&#160;such&#160;as&#160;keys,&#160;encrypted&#160;<br/>data&#160;or&#160;hashes.&#160;These&#160;objects&#160;have&#160;been&#160;described&#160;in&#160;section<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#278">&#160;2.3.2&#160;(Detailed<br/>Design&#160;Aspects)</a>.</p>
<p style="position:absolute;top:693px;left:112px;white-space:nowrap" class="ft285140">●</p>
<p style="position:absolute;top:688px;left:139px;white-space:nowrap" class="ft285129"><b>Transport&#160;Session&#160;Component</b></p>
<p style="position:absolute;top:716px;left:139px;white-space:nowrap" class="ft285133">Transport&#160;Sessions&#160;are&#160;a&#160;new&#160;feature&#160;introduced&#160;in&#160;TPM&#160;specification&#160;1.2.&#160;It&#160;<br/>allows&#160;the&#160;TSS&#160;to&#160;encrypt&#160;commands&#160;and&#160;data&#160;sent&#160;to&#160;the&#160;TPM.&#160;This&#160;provides&#160;<br/>protection&#160;against&#160;attackers&#160;who&#160;intercept&#160;the&#160;data&#160;transmitted&#160;over&#160;the&#160;<br/>system's&#160;LPC&#160;bus.</p>
<p style="position:absolute;top:801px;left:85px;white-space:nowrap" class="ft285129"><b>Benefits&#160;and&#160;Challenges</b></p>
<p style="position:absolute;top:829px;left:85px;white-space:nowrap" class="ft285133">Having&#160;&#160;&#160;a&#160;&#160;&#160;native&#160;&#160;&#160;Java&#160;&#160;&#160;TSS&#160;&#160;&#160;implementation&#160;&#160;&#160;clearly&#160;&#160;&#160;reduces&#160;&#160;&#160;the&#160;&#160;&#160;number&#160;&#160;&#160;of&#160;&#160;&#160;involved&#160;<br/>components&#160;and&#160;dependencies&#160;when&#160;accessing&#160;a&#160;TPM.&#160;Consequently&#160;this&#160;approach&#160;<br/>would&#160;result&#160;in&#160;less&#160;side-effects&#160;resulting&#160;from&#160;incompatible&#160;TSS&#160;implementations&#160;or&#160;<br/>different&#160;&#160;&#160;interpretations&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;TSS&#160;&#160;&#160;specification.&#160;&#160;&#160;Moreover,&#160;&#160;&#160;a&#160;&#160;&#160;pure&#160;&#160;&#160;Java&#160;&#160;&#160;stack&#160;&#160;&#160;can&#160;<br/>easily&#160;be&#160;ported&#160;to&#160;other&#160;operating&#160;systems&#160;and&#160;platforms.&#160;This&#160;is&#160;not&#160;limited&#160;to&#160;PC&#160;<br/>type&#160;systems&#160;but&#160;also&#160;could&#160;include&#160;embedded&#160;systems&#160;equipped&#160;with&#160;a&#160;TPM.<br/>One&#160;of&#160;the&#160;main&#160;challenges&#160;of&#160;a&#160;TSS&#160;as&#160;proposed&#160;here&#160;is&#160;the&#160;requirement&#160;to&#160;support&#160;<br/>TPMs&#160;&#160;&#160;from&#160;&#160;&#160;different&#160;&#160;&#160;vendors.&#160;&#160;&#160;While&#160;&#160;&#160;vendor&#160;&#160;&#160;specific&#160;&#160;&#160;stacks&#160;&#160;&#160;can&#160;&#160;&#160;limit&#160;&#160;&#160;themselves&#160;&#160;&#160;to&#160;<br/>supporting&#160;a&#160;few&#160;specific&#160;TPM&#160;types,&#160;a&#160;vendor-independent&#160;TSS&#160;has&#160;to&#160;support&#160;TPMs&#160;<br/>from&#160;different&#160;vendors&#160;with&#160;all&#160;their&#160;quirks.<br/>The&#160;&#160;&#160;proposes&#160;&#160;&#160;approach&#160;&#160;&#160;of&#160;&#160;&#160;a&#160;&#160;&#160;native&#160;&#160;&#160;Java&#160;&#160;&#160;TSS&#160;&#160;&#160;will&#160;&#160;&#160;be&#160;&#160;&#160;examined&#160;&#160;&#160;further&#160;&#160;&#160;regarding&#160;<br/>feasibility&#160;and&#160;practicability.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft285134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft285134">17/47</p>
</div>
<!-- Page 286 -->
<a name="286"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page286-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2286.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft28690">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft28680">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft286134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft286134">DRAFT|1.0</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft286134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft286134">18/47</p>
</div>
<!-- Page 287 -->
<a name="287"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft287144{font-size:17px;line-height:28px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page287-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2287.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft28790">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft28780">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft287134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft287134">DRAFT|1.0</p>
<p style="position:absolute;top:830px;left:85px;white-space:nowrap" class="ft287136"><b>3&#160;</b></p>
<p style="position:absolute;top:827px;left:117px;white-space:nowrap" class="ft287137"><b>Java&#160;Virtual&#160;Machine&#160;Modifications</b></p>
<p style="position:absolute;top:858px;left:85px;white-space:nowrap" class="ft287133">This&#160;chapter&#160;summarizes&#160;the&#160;extension&#160;of&#160;the&#160;chain&#160;of&#160;trust&#160;from&#160;the&#160;operating&#160;system&#160;<br/>level&#160;to&#160;the&#160;Java&#160;virtual&#160;machine&#160;level&#160;and&#160;the&#160;Java&#160;application&#160;level.&#160;The&#160;first&#160;section&#160;<br/>describes&#160;the&#160;life-cycle&#160;of&#160;a&#160;Java&#160;program&#160;and&#160;especially&#160;the&#160;central&#160;points&#160;of&#160;interest&#160;<br/>for&#160;this&#160;project&#160;in&#160;detail:&#160;the&#160;ClassLoader&#160;and&#160;the&#160;ClassVerification&#160;Process.&#160;The&#160;next&#160;<br/>introduces&#160;&#160;&#160;the&#160;&#160;&#160;fundamentals&#160;&#160;&#160;and&#160;&#160;&#160;concepts&#160;&#160;&#160;of&#160;&#160;&#160;Java&#160;&#160;&#160;security&#160;&#160;&#160;as&#160;&#160;&#160;specified&#160;&#160;&#160;by&#160;&#160;&#160;SUN&#160;<br/>[SUNSEC].&#160;Section<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#295">&#160;3.3&#160;</a>discusses&#160;the&#160;modifications&#160;to&#160;a&#160;Java&#160;virtual&#160;machine&#160;that&#160;have&#160;<br/>to&#160;be&#160;done&#160;in&#160;order&#160;to&#160;integrate&#160;basic&#160;TC&#160;technologies.&#160;The&#160;final&#160;section&#160;of&#160;this&#160;chapter&#160;<br/>presents&#160;an&#160;evaluation&#160;of&#160;existing&#160;virtual&#160;machines&#160;according&#160;to&#160;criteria&#160;like&#160;licensee&#160;<br/>model,&#160;source&#160;availability&#160;etc.&#160;Based&#160;on&#160;this&#160;evaluation,&#160;will&#160;choose&#160;a&#160;JVM&#160;that&#160;will&#160;be&#160;<br/>adapted&#160;to&#160;TC&#160;requirements.<br/>Unless&#160;explicitly&#160;specified&#160;the&#160;following&#160;descriptions&#160;refer&#160;to&#160;version&#160;1.4.2&#160;of&#160;the&#160;J2SE&#160;<br/>which&#160;also&#160;is&#160;the&#160;reference&#160;for&#160;the&#160;evaluation&#160;process.&#160;Descriptions,&#160;source&#160;code&#160;<br/>snippets&#160;and&#160;implementation&#160;details&#160;also&#160;point&#160;to&#160;that&#160;JDK.&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft287134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft287134">19/47</p>
<p style="position:absolute;top:764px;left:252px;white-space:nowrap" class="ft287107"><i>Illustration&#160;6:&#160;Trusted&#160;Service&#160;Provider&#160;Components</i></p>
</div>
<!-- Page 288 -->
<a name="288"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page288-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2288.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft28890">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft28880">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft288134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft288134">DRAFT|1.0</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft288134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft288134">20/47</p>
<p style="position:absolute;top:1028px;left:169px;white-space:nowrap" class="ft288107"><i>Figure&#160;1:&#160;Life&#160;cycle&#160;of&#160;a&#160;Java&#160;program&#160;running&#160;on&#160;a&#160;J2SE&#160;Virtual&#160;Machine</i></p>
</div>
<!-- Page 289 -->
<a name="289"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft289145{font-size:17px;font-family:HAAAAA+CourierNewPSMT;color:#000000;}
	.ft289146{font-size:17px;line-height:27px;font-family:HAAAAA+CourierNewPSMT;color:#000000;}
-->
</style>
<div id="page289-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2289.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft28990">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft28980">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft289134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft289134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft289129"><b>3.1&#160;Execution&#160;of&#160;Java&#160;programs</b></p>
<p style="position:absolute;top:179px;left:85px;white-space:nowrap" class="ft289133">One&#160;central&#160;idea&#160;of&#160;the&#160;Java&#160;programming&#160;language&#160;is&#160;that&#160;Java&#160;compilers&#160;create&#160;code&#160;<br/>–&#160;</p>
<p style="position:absolute;top:198px;left:99px;white-space:nowrap" class="ft289105"><i>Java&#160;Bytecode</i></p>
<p style="position:absolute;top:198px;left:216px;white-space:nowrap" class="ft289130">&#160;–&#160;which&#160;has&#160;to&#160;be&#160;executed&#160;on&#160;a&#160;Java&#160;Virtual&#160;Machine.&#160;That&#160;executable&#160;</p>
<p style="position:absolute;top:218px;left:85px;white-space:nowrap" class="ft289133">code&#160;has&#160;a&#160;special,&#160;platform-independent&#160;format&#160;which&#160;differs&#160;from&#160;other&#160;executables&#160;<br/>in&#160;a&#160;number&#160;of&#160;important&#160;ways.&#160;<br/><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#288">Figure&#160;1&#160;</a>shows&#160;the&#160;sequence&#160;of&#160;executing&#160;a&#160;Java&#160;program&#160;as&#160;described&#160;in&#160;chapter&#160;2.17&#160;<br/>of&#160;the&#160;Java&#160;Virtual&#160;Machine&#160;Specification&#160;-Second&#160;Edition<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#315">&#160;[JVM]&#160;&#160;</a>and&#160;chapter&#160;12&#160;in&#160;The&#160;<br/>Java&#160;Language&#160;Specification&#160;-2nd&#160;Ed.<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#315">&#160;[JLS].</a>&#160;This&#160;references&#160;imply&#160;that&#160;the&#160;diagram&#160;as&#160;<br/>well&#160;as&#160;its&#160;description&#160;concerns&#160;every&#160;Java&#160;Virtual&#160;Machine&#160;that&#160;follows&#160;that&#160;<br/>specifications,&#160;especially&#160;the&#160;Virtual&#160;Machines&#160;of&#160;Sun&#160;Microsystems&#160;Inc.&#160;from&#160;the&#160;Java&#160;<br/>2&#160;Platform&#160;Standard&#160;Edition.&#160;It&#160;also&#160;helps&#160;identifying&#160;where&#160;it&#160;is&#160;meaningful&#160;and&#160;<br/>necessary&#160;to&#160;deviate&#160;from&#160;the&#160;basic&#160;design&#160;for&#160;fulfillment&#160;of&#160;the&#160;requirements&#160;of&#160;<br/>OpenTC.&#160;<br/>For&#160;example,&#160;a&#160;standard&#160;Java&#160;program&#160;does&#160;not&#160;consist&#160;of&#160;a&#160;single&#160;executable&#160;file.&#160;It&#160;is&#160;<br/>usually&#160;composed&#160;of&#160;many&#160;class&#160;files,&#160;each&#160;corresponding&#160;to&#160;a&#160;single&#160;Java&#160;class.&#160;<br/>Depending&#160;on&#160;the&#160;Java&#160;Virtual&#160;Machine&#160;used&#160;,&#160;this&#160;class&#160;files&#160;normally&#160;are&#160;loaded&#160;on&#160;<br/>demand&#160;by&#160;the&#160;ClassLoader.&#160;<br/>The&#160;program&#160;“Test”&#160;which&#160;is&#160;referenced&#160;in&#160;the&#160;diagram&#160;and&#160;also&#160;in&#160;the&#160;original&#160;<br/>chapters&#160;can&#160;be&#160;any&#160;Java&#160;program&#160;that&#160;has&#160;at&#160;least&#160;one&#160;class&#160;named&#160;Test&#160;which&#160;<br/>includes&#160;the&#160;main&#160;method.&#160;An&#160;exemplary&#160;program&#160;which&#160;fulfill&#160;these&#160;requirements&#160;in&#160;a&#160;<br/>very&#160;simple&#160;way&#160;is&#160;shown&#160;in<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#289">&#160;Listing&#160;1:</a></p>
<p style="position:absolute;top:868px;left:85px;white-space:nowrap" class="ft289133">The&#160;following&#160;sections&#160;summarizes&#160;every&#160;step&#160;in&#160;the&#160;execution&#160;&#160;of&#160;such&#160;a&#160;program&#160;as&#160;<br/>specified&#160;by&#160;the&#160;corresponding&#160;resources&#160;as&#160;mentioned&#160;above.&#160;Additionally&#160;it&#160;shows&#160;<br/>possible&#160;points&#160;of&#160;relevance&#160;for&#160;OpenTC.&#160;</p>
<p style="position:absolute;top:934px;left:112px;white-space:nowrap" class="ft289129"><b>1.&#160;Virtual&#160;Machine&#160;Start-Up</b></p>
<p style="position:absolute;top:962px;left:141px;white-space:nowrap" class="ft289133">Initial&#160;attempt&#160;of&#160;executing&#160;the&#160;method&#160;main&#160;of&#160;class&#160;Test&#160;discovers&#160;that&#160;it&#160;is&#160;<br/>not&#160;loaded.&#160;This&#160;triggers&#160;the&#160;next&#160;step.&#160;<br/>OpenTC:&#160;Starting&#160;the&#160;Virtual&#160;Machine&#160;(e.g.&#160;manually&#160;from&#160;the&#160;command&#160;line&#160;or&#160;<br/>automatically)&#160;at&#160;first&#160;requires&#160;verification&#160;if&#160;the&#160;executable&#160;of&#160;the&#160;Virtual&#160;<br/>Machine&#160;itself&#160;is&#160;the&#160;right&#160;one&#160;and&#160;if&#160;it&#160;has&#160;not&#160;been&#160;manipulated.&#160;Because&#160;this&#160;<br/>point&#160;is&#160;beyond&#160;the&#160;scope&#160;of&#160;this&#160;chapter&#160;it&#160;is&#160;not&#160;further&#160;mentioned.&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft289134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft289134">21/47</p>
<p style="position:absolute;top:606px;left:222px;white-space:nowrap" class="ft289146">public class Test&#160;<br/>{&#160;</p>
<p style="position:absolute;top:660px;left:273px;white-space:nowrap" class="ft289146">public static void main(String[] args)&#160;<br/>{&#160;</p>
<p style="position:absolute;top:714px;left:312px;white-space:nowrap" class="ft289145">System.out.println(&#34;Test&#34;);&#160;</p>
<p style="position:absolute;top:742px;left:273px;white-space:nowrap" class="ft289145">}&#160;</p>
<p style="position:absolute;top:769px;left:222px;white-space:nowrap" class="ft289145">}&#160;</p>
<p style="position:absolute;top:805px;left:222px;white-space:nowrap" class="ft289107"><i>Listing&#160;1:&#160;sample&#160;Java&#160;program</i></p>
</div>
<!-- Page 290 -->
<a name="290"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page290-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2290.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft29090">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft29080">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft290134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft290134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:112px;white-space:nowrap" class="ft290129"><b>2.&#160;Loading</b></p>
<p style="position:absolute;top:179px;left:143px;white-space:nowrap" class="ft290133">In&#160;general&#160;this&#160;process&#160;tries&#160;to&#160;find&#160;the&#160;binary&#160;representation&#160;(normally&#160;the&#160;<br/>class&#160;file&#160;format)&#160;of&#160;a&#160;class&#160;or&#160;interface&#160;type.&#160;If&#160;this&#160;search&#160;is&#160;not&#160;successful&#160;as&#160;<br/>in&#160;the&#160;Test&#160;example,&#160;that&#160;representation&#160;must&#160;be&#160;created,&#160;leading&#160;to&#160;the&#160;next&#160;<br/>step:&#160;Linking.&#160;A&#160;more&#160;detailed&#160;description&#160;of&#160;the&#160;ClassLoder&#160;follows&#160;later<br/>OpenTC&#160;...requires&#160;on&#160;demand&#160;verification&#160;of&#160;custom&#160;ClassLoader(s)&#160;and&#160;<br/>verification&#160;of&#160;class&#160;files&#160;before&#160;loading.</p>
<p style="position:absolute;top:311px;left:112px;white-space:nowrap" class="ft290129"><b>3.&#160;Linking</b></p>
<p style="position:absolute;top:339px;left:144px;white-space:nowrap" class="ft290133">takes&#160;a&#160;binary&#160;form&#160;of&#160;a&#160;class&#160;or&#160;an&#160;interface&#160;type&#160;and&#160;prepares&#160;it&#160;for&#160;<br/>execution.&#160;The&#160;Java&#160;programming&#160;language&#160;allows&#160;some&#160;leeway&#160;(see&#160;<br/>Resolution&#160;below),&#160;therefore&#160;the&#160;linking&#160;process&#160;is&#160;split&#160;into&#160;three&#160;parts:&#160;</p>
<p style="position:absolute;top:409px;left:197px;white-space:nowrap" class="ft290140">●</p>
<p style="position:absolute;top:405px;left:224px;white-space:nowrap" class="ft290129"><b>Verification</b></p>
<p style="position:absolute;top:432px;left:224px;white-space:nowrap" class="ft290133">ensures&#160;that&#160;the&#160;binary&#160;representation&#160;is&#160;structurally&#160;correct.<br/>OpenTC:&#160;Manipulations&#160;on&#160;bytecode&#160;level,&#160;especially&#160;branch&#160;<br/>instructions&#160;jump&#160;to&#160;undesirable&#160;and/or&#160;incorrect&#160;instructions,&#160;can&#160;be&#160;<br/>detected&#160;here.&#160;</p>
<p style="position:absolute;top:522px;left:197px;white-space:nowrap" class="ft290140">●</p>
<p style="position:absolute;top:518px;left:224px;white-space:nowrap" class="ft290129"><b>Preparation</b></p>
<p style="position:absolute;top:545px;left:224px;white-space:nowrap" class="ft290133">involves&#160;creating&#160;and&#160;initializing&#160;the&#160;static&#160;fields&#160;for&#160;a&#160;class&#160;or&#160;<br/>interface.&#160;</p>
<p style="position:absolute;top:597px;left:197px;white-space:nowrap" class="ft290140">●</p>
<p style="position:absolute;top:592px;left:224px;white-space:nowrap" class="ft290129"><b>Resolution</b></p>
<p style="position:absolute;top:620px;left:224px;white-space:nowrap" class="ft290133">Symbolic&#160;references&#160;are&#160;validated&#160;and,&#160;typically,&#160;replaced&#160;by&#160;direct&#160;<br/>references&#160;so&#160;that&#160;they&#160;can&#160;be&#160;used&#160;directly.&#160;This&#160;stage&#160;is&#160;of&#160;central&#160;<br/>interest&#160;for&#160;static&#160;or&#160;lazy/late&#160;resolution.&#160;</p>
<p style="position:absolute;top:686px;left:112px;white-space:nowrap" class="ft290129"><b>4.&#160;Initialization</b></p>
<p style="position:absolute;top:714px;left:141px;white-space:nowrap" class="ft290130">This&#160;process&#160;must&#160;separate&#160;between</p>
<p style="position:absolute;top:746px;left:197px;white-space:nowrap" class="ft290140">●</p>
<p style="position:absolute;top:741px;left:224px;white-space:nowrap" class="ft290129"><b>Class</b></p>
<p style="position:absolute;top:769px;left:227px;white-space:nowrap" class="ft290133">Execution&#160;of&#160;its&#160;static&#160;initializers&#160;and&#160;the&#160;initializers&#160;for&#160;static&#160;fields&#160;<br/>declared&#160;in&#160;it.&#160;</p>
<p style="position:absolute;top:820px;left:197px;white-space:nowrap" class="ft290140">●</p>
<p style="position:absolute;top:816px;left:224px;white-space:nowrap" class="ft290129"><b>Interface</b></p>
<p style="position:absolute;top:816px;left:309px;white-space:nowrap" class="ft290130">:</p>
<p style="position:absolute;top:843px;left:227px;white-space:nowrap" class="ft290130">Execution&#160;of&#160;initializers&#160;for&#160;fields&#160;declared&#160;in&#160;interfaces.&#160;</p>
<p style="position:absolute;top:871px;left:139px;white-space:nowrap" class="ft290133">Before&#160;a&#160;class&#160;or&#160;an&#160;interface&#160;type&#160;is&#160;initialized,&#160;its&#160;direct&#160;superclass&#160;must&#160;be&#160;<br/>initialized.&#160;This&#160;may&#160;cause&#160;loading&#160;and&#160;linking&#160;again.</p>
<p style="position:absolute;top:918px;left:112px;white-space:nowrap" class="ft290129"><b>5.&#160;Creation&#160;of&#160;New&#160;Class&#160;Instances</b></p>
<p style="position:absolute;top:946px;left:141px;white-space:nowrap" class="ft290133">Implicit&#160;or&#160;explicit&#160;class&#160;instance&#160;creation&#160;identifies,&#160;calls&#160;and&#160;executes&#160;a&#160;<br/>particular&#160;constructor.&#160;</p>
<p style="position:absolute;top:993px;left:112px;white-space:nowrap" class="ft290129"><b>6.&#160;Finalization&#160;of&#160;Class&#160;Instances</b></p>
<p style="position:absolute;top:1020px;left:143px;white-space:nowrap" class="ft290130">Before&#160;memory&#160;reclamation&#160;by&#160;the&#160;Garbage&#160;Collector&#160;the&#160;override-able&#160;method&#160;</p>
<p style="position:absolute;top:1039px;left:143px;white-space:nowrap" class="ft290105"><i>finalize</i></p>
<p style="position:absolute;top:1039px;left:202px;white-space:nowrap" class="ft290130">&#160;is&#160;called.&#160;This&#160;provides&#160;manual&#160;memory&#160;deallocation&#160;of&#160;resources.&#160;</p>
<p style="position:absolute;top:1067px;left:112px;white-space:nowrap" class="ft290129"><b>7.&#160;Unloading&#160;of&#160;Classes&#160;and&#160;Interfaces&#160;</b></p>
<p style="position:absolute;top:1067px;left:479px;white-space:nowrap" class="ft290130">(adopted&#160;from<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#315">&#160;[JLS][McCrary]</a></p>
<p style="position:absolute;top:1095px;left:141px;white-space:nowrap" class="ft290133">A&#160;class&#160;or&#160;interface&#160;may&#160;be&#160;unloaded&#160;if&#160;and&#160;only&#160;if&#160;its&#160;class&#160;loader&#160;is&#160;<br/>unreachable.&#160;The&#160;bootstrap&#160;class&#160;loader&#160;is&#160;always&#160;reachable;&#160;as&#160;a&#160;result,&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft290134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft290134">22/47</p>
</div>
<!-- Page 291 -->
<a name="291"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page291-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2291.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft29190">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft29180">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft291134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft291134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:141px;white-space:nowrap" class="ft291130">system&#160;classes&#160;may&#160;never&#160;be&#160;unloaded.&#160;</p>
<p style="position:absolute;top:179px;left:112px;white-space:nowrap" class="ft291129"><b>8.&#160;VM-Exit</b></p>
<p style="position:absolute;top:206px;left:143px;white-space:nowrap" class="ft291130">happens&#160;if:</p>
<p style="position:absolute;top:239px;left:197px;white-space:nowrap" class="ft291140">●</p>
<p style="position:absolute;top:234px;left:224px;white-space:nowrap" class="ft291130">All&#160;threads&#160;that&#160;are&#160;not&#160;daemon&#160;threads&#160;terminate</p>
<p style="position:absolute;top:266px;left:197px;white-space:nowrap" class="ft291140">●</p>
<p style="position:absolute;top:262px;left:224px;white-space:nowrap" class="ft291130">Some&#160;thread&#160;invokes&#160;exit&#160;of&#160;class&#160;</p>
<p style="position:absolute;top:262px;left:508px;white-space:nowrap" class="ft291105"><i>Runtime</i></p>
<p style="position:absolute;top:262px;left:578px;white-space:nowrap" class="ft291130">&#160;or&#160;</p>
<p style="position:absolute;top:262px;left:605px;white-space:nowrap" class="ft291105"><i>System</i></p>
<p style="position:absolute;top:262px;left:667px;white-space:nowrap" class="ft291130">&#160;and&#160;the&#160;exit&#160;</p>
<p style="position:absolute;top:281px;left:224px;white-space:nowrap" class="ft291130">operation&#160;is&#160;permitted&#160;by&#160;the&#160;security&#160;manager</p>
<p style="position:absolute;top:327px;left:85px;white-space:nowrap" class="ft291129"><b>3.2&#160;Java&#160;Security&#160;Model</b></p>
<p style="position:absolute;top:355px;left:85px;white-space:nowrap" class="ft291133">This&#160;section&#160;gives&#160;a&#160;short&#160;introduction&#160;to&#160;the&#160;basic&#160;Java&#160;security&#160;concepts.<br/>Java&#160;does&#160;support&#160;local&#160;applications&#160;and&#160;applications&#160;which&#160;are&#160;(partly)&#160;loaded&#160;over&#160;a&#160;<br/>network.&#160;Furthermore,&#160;Java&#160;has&#160;to&#160;provide&#160;security&#160;features&#160;to&#160;ensure&#160;that&#160;they&#160;do&#160;not&#160;<br/>do&#160;&#160;&#160;anything&#160;&#160;&#160;harmful&#160;&#160;&#160;to&#160;&#160;&#160;the&#160;&#160;&#160;local&#160;&#160;&#160;machine.&#160;&#160;&#160;Java&#160;&#160;&#160;treats&#160;&#160;&#160;trusted&#160;&#160;&#160;and&#160;&#160;&#160;untrusted&#160;&#160;&#160;code&#160;<br/>differently.&#160;The&#160;core&#160;Java&#160;libraries&#160;and&#160;locally&#160;started&#160;applications&#160;are&#160;&#160;considered&#160;as&#160;<br/>trusted&#160;&#160;&#160;by&#160;&#160;&#160;default&#160;&#160;&#160;policy.&#160;&#160;&#160;In&#160;&#160;&#160;contrary,&#160;&#160;&#160;code&#160;&#160;&#160;which&#160;&#160;&#160;is&#160;&#160;&#160;loaded&#160;&#160;&#160;over&#160;&#160;&#160;the&#160;&#160;&#160;network,&#160;&#160;&#160;is&#160;<br/>considered&#160;as&#160;untrusted.&#160;Untrusted&#160;applets&#160;run&#160;inside&#160;the&#160;so-called&#160;“sandbox”.&#160;This&#160;<br/>sandbox&#160;is&#160;restricted&#160;by&#160;the&#160;Java&#160;security&#160;model.&#160;The&#160;Java&#160;security&#160;model&#160;is&#160;comprised&#160;<br/>of&#160;three&#160;parts:</p>
<p style="position:absolute;top:550px;left:112px;white-space:nowrap" class="ft291140">●</p>
<p style="position:absolute;top:546px;left:139px;white-space:nowrap" class="ft291130">ClassLoader</p>
<p style="position:absolute;top:578px;left:112px;white-space:nowrap" class="ft291140">●</p>
<p style="position:absolute;top:574px;left:139px;white-space:nowrap" class="ft291130">Class&#160;Verifier&#160;and&#160;Bytecode&#160;Verifier</p>
<p style="position:absolute;top:607px;left:112px;white-space:nowrap" class="ft291140">●</p>
<p style="position:absolute;top:602px;left:139px;white-space:nowrap" class="ft291130">Security&#160;Manager</p>
<p style="position:absolute;top:630px;left:85px;white-space:nowrap" class="ft291133">The&#160;classloader&#160;and&#160;the&#160;verifiers&#160;are&#160;implemented&#160;in&#160;the&#160;Java&#160;virtual&#160;machine&#160;(JVM).&#160;A&#160;<br/>JVM&#160;basically&#160;runs&#160;Bytecode&#160;created&#160;by&#160;a&#160;Java&#160;compiler.&#160;The&#160;JVM&#160;specification&#160;<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#315">&#160;[JVM]&#160;&#160;</a>&#160;<br/>defines&#160;the&#160;structure&#160;of&#160;the&#160;JVM&#160;itself&#160;and&#160;the&#160;exact&#160;format&#160;of&#160;a&#160;class&#160;file.&#160;They&#160;are&#160;not&#160;<br/>covered&#160;by&#160;this&#160;document.</p>
<p style="position:absolute;top:734px;left:85px;white-space:nowrap" class="ft291137"><b>3.2.1&#160;Class&#160;Loading</b></p>
<p style="position:absolute;top:764px;left:85px;white-space:nowrap" class="ft291133">The&#160;Java2&#160;ClassLoader&#160;is&#160;fully&#160;downwards&#160;compatible.&#160;Any&#160;code&#160;written&#160;for&#160;older&#160;Java&#160;<br/>versions&#160;works&#160;on&#160;the&#160;current&#160;edition&#160;of&#160;the&#160;JDK,&#160;too.&#160;Nonetheless&#160;the&#160;ClassLoader&#160;<br/>follows&#160;a&#160;completely&#160;new&#160;approach&#160;which&#160;turns&#160;some&#160;of&#160;the&#160;old&#160;methods&#160;into&#160;<br/>“deprecated”&#160;state.<br/>The&#160;basic&#160;idea&#160;behind&#160;the&#160;improvement&#160;is&#160;to&#160;use&#160;a&#160;delegation&#160;model&#160;which&#160;can&#160;<br/>delegate&#160;a&#160;request&#160;for&#160;a&#160;class&#160;to&#160;its&#160;parent&#160;within&#160;the&#160;parent-child&#160;relationship&#160;of&#160;<br/>Virtual&#160;Machines&#160;<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#292">(Figure&#160;2)</a>.&#160;Per&#160;default&#160;a&#160;ClassLoader&#160;calls&#160;its&#160;parent&#160;before&#160;trying&#160;to&#160;<br/>load&#160;a&#160;class&#160;itself.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft291134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft291134">23/47</p>
</div>
<!-- Page 292 -->
<a name="292"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page292-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2292.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft29290">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft29280">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft292134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft292134">DRAFT|1.0</p>
<p style="position:absolute;top:602px;left:85px;white-space:nowrap" class="ft292133">As<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#292">&#160;Figure&#160;2&#160;</a>shows,&#160;the&#160;delegation&#160;model&#160;from&#160;Sun&#160;differs&#160;between&#160;three&#160;Class-Loader&#160;<br/>types:&#160;</p>
<p style="position:absolute;top:649px;left:112px;white-space:nowrap" class="ft292129"><b>1.&#160;bootstrap&#160;(primordial)&#160;ClassLoader</b></p>
<p style="position:absolute;top:677px;left:141px;white-space:nowrap" class="ft292133">...&#160;for&#160;Java&#160;core&#160;API&#160;classes.&#160;Invoking&#160;the&#160;Java&#160;compiler&#160;as&#160;follows&#160;overrides&#160;the&#160;<br/>standard&#160;location&#160;for&#160;the&#160;bootstrap&#160;Classloader:&#160;javac&#160;-bootclasspath&#160;&lt;path&gt;.&#160;<br/>The&#160;actual&#160;value&#160;is&#160;stored&#160;in&#160;the&#160;sun.boot.class.path&#160;system&#160;property&#160;(Note:&#160;not&#160;<br/>accessible&#160;by&#160;an&#160;applet).&#160;</p>
<p style="position:absolute;top:762px;left:112px;white-space:nowrap" class="ft292129"><b>2.&#160;system&#160;(application)&#160;ClassLoader</b></p>
<p style="position:absolute;top:790px;left:141px;white-space:nowrap" class="ft292133">...&#160;for&#160;application&#160;specific&#160;classes.&#160;This&#160;parameter&#160;can&#160;be&#160;set&#160;via&#160;the&#160;<br/>environment-variable&#160;CLASSPATH&#160;or&#160;by&#160;setting&#160;a&#160;command-line&#160;argument&#160;of&#160;<br/>the&#160;Java&#160;compiler&#160;(</p>
<p style="position:absolute;top:830px;left:297px;white-space:nowrap" class="ft292145">javac -classpath &lt;path&gt;</p>
<p style="position:absolute;top:828px;left:525px;white-space:nowrap" class="ft292130">)&#160;or&#160;the&#160;Virtual&#160;Machine&#160;itself&#160;</p>
<p style="position:absolute;top:848px;left:141px;white-space:nowrap" class="ft292130">(</p>
<p style="position:absolute;top:850px;left:148px;white-space:nowrap" class="ft292145">Java -classpath &lt;path&gt;</p>
<p style="position:absolute;top:848px;left:366px;white-space:nowrap" class="ft292130">).&#160;The&#160;value&#160;is&#160;held&#160;in&#160;Java.class.path.&#160;</p>
<p style="position:absolute;top:877px;left:112px;white-space:nowrap" class="ft292129"><b>3.&#160;custom&#160;ClassLoaders</b></p>
<p style="position:absolute;top:905px;left:141px;white-space:nowrap" class="ft292133">.&#160;.&#160;.&#160;every&#160;application&#160;can&#160;define&#160;its&#160;own&#160;ClassLoaders&#160;which&#160;are&#160;derived&#160;from&#160;<br/>the&#160;system&#160;ClassLoader.</p>
<p style="position:absolute;top:952px;left:85px;white-space:nowrap" class="ft292133">A&#160;full&#160;description&#160;of&#160;the&#160;new&#160;ClassLoader&#160;(including&#160;the&#160;method&#160;descriptions)&#160;is&#160;<br/>available&#160;through&#160;the&#160;Java&#160;API&#160;specification&#160;which&#160;is&#160;part&#160;of&#160;the&#160;JDK&#160;documentation.&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft292134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft292134">24/47</p>
<p style="position:absolute;top:533px;left:270px;white-space:nowrap" class="ft292107"><i>Figure&#160;2:&#160;ClassLoader&#160;parent-child&#160;relationship</i></p>
</div>
<!-- Page 293 -->
<a name="293"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft293147{font-size:17px;font-family:IAAAAA+BitstreamVeraSans;color:#000000;}
	.ft293148{font-size:17px;font-family:HAAAAA+CourierNewPSMT;color:#ffffff;}
	.ft293149{font-size:17px;line-height:18px;font-family:HAAAAA+CourierNewPSMT;color:#000000;}
-->
</style>
<div id="page293-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2293.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft29390">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft29380">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft293134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft293134">DRAFT|1.0</p>
<p style="position:absolute;top:155px;left:166px;white-space:nowrap" class="ft293147"><i><b>Name</b></i></p>
<p style="position:absolute;top:155px;left:509px;white-space:nowrap" class="ft293147"><i><b>signature</b></i></p>
<p style="position:absolute;top:191px;left:89px;white-space:nowrap" class="ft293148">findClass</p>
<p style="position:absolute;top:191px;left:306px;white-space:nowrap" class="ft293148">Protected Class findClass(String)</p>
<p style="position:absolute;top:227px;left:89px;white-space:nowrap" class="ft293148">getSystemClassLoader</p>
<p style="position:absolute;top:227px;left:306px;white-space:nowrap" class="ft293145">public static ClassLoader getSystemClassLoader()</p>
<p style="position:absolute;top:262px;left:89px;white-space:nowrap" class="ft293148">getParent</p>
<p style="position:absolute;top:262px;left:306px;white-space:nowrap" class="ft293145">public final ClassLoader getParent()</p>
<p style="position:absolute;top:298px;left:89px;white-space:nowrap" class="ft293148">defineClass</p>
<p style="position:absolute;top:298px;left:303px;white-space:nowrap" class="ft293145">protected final Class defineClass</p>
<p style="position:absolute;top:316px;left:348px;white-space:nowrap" class="ft293145">(String name, byte [] b, int off, int len)</p>
<p style="position:absolute;top:335px;left:348px;white-space:nowrap" class="ft293145">throws ClassFormatError</p>
<p style="position:absolute;top:381px;left:306px;white-space:nowrap" class="ft293145">protected final Class defineClass</p>
<p style="position:absolute;top:400px;left:345px;white-space:nowrap" class="ft293149">(String name , byte[] b, int off, int len,&#160;<br/>ProtectionDomain protectionDomain)&#160;</p>
<p style="position:absolute;top:437px;left:345px;white-space:nowrap" class="ft293145">throws ClassFormatError</p>
<p style="position:absolute;top:477px;left:85px;white-space:nowrap" class="ft293107"><i>Table&#160;1:&#160;Important&#160;methods&#160;of&#160;theJ2SE&#160;ClassLoader&#160;class</i></p>
<p style="position:absolute;top:504px;left:85px;white-space:nowrap" class="ft293133"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#293">Table&#160;1&#160;</a>lists&#160;the&#160;most&#160;important&#160;methods&#160;of&#160;the&#160;Class-Loader&#160;class.<br/>The&#160;experiences&#160;with&#160;the&#160;first&#160;edition&#160;of&#160;the&#160;JDK&#160;showed&#160;that&#160;the&#160;constraint&#160;to&#160;<br/>implement&#160;the&#160;loadClass&#160;method&#160;for&#160;every&#160;custom&#160;ClassLoader&#160;is&#160;not&#160;necessary.&#160;Not&#160;<br/>only&#160;that&#160;the&#160;concrete&#160;implementation&#160;is&#160;rather&#160;complicated,&#160;many&#160;scenarios&#160;work&#160;<br/>with&#160;completely&#160;the&#160;same&#160;loading&#160;mechanisms&#160;and&#160;have&#160;no&#160;requirement&#160;to&#160;define&#160;a&#160;<br/>new&#160;one.&#160;The&#160;maintenance&#160;of&#160;multiple&#160;occurrences&#160;of&#160;this&#160;method&#160;makes&#160;it&#160;prone&#160;to&#160;<br/>errors&#160;too.&#160;So&#160;for&#160;the&#160;J2SE&#160;it&#160;was&#160;decided&#160;to&#160;provide&#160;a&#160;standard&#160;loadClass&#160;method&#160;<br/>which&#160;still&#160;can&#160;be&#160;overridden,&#160;but&#160;for&#160;most&#160;of&#160;the&#160;time&#160;there&#160;is&#160;no&#160;need&#160;for&#160;it.&#160;<br/>Instead&#160;of&#160;overriding&#160;the&#160;mechanism&#160;for&#160;loading,&#160;the&#160;new&#160;findClass&#160;method&#160;is&#160;<br/>introduced.&#160;The&#160;delegation&#160;idea&#160;implies&#160;that&#160;it&#160;is&#160;encouraged&#160;to&#160;override&#160;this&#160;method&#160;<br/>in&#160;every&#160;ClassLoader&#160;derivative.&#160;This&#160;strategy&#160;simplifies&#160;the&#160;life&#160;for&#160;a&#160;custom&#160;<br/>ClassLoader&#160;developer&#160;remarkably.<br/><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#304">Listing&#160;&#160;&#160;2&#160;&#160;</a>shows&#160;&#160;&#160;the&#160;&#160;&#160;concrete&#160;&#160;&#160;realization&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;new&#160;&#160;&#160;loadClass&#160;&#160;&#160;method&#160;&#160;&#160;in&#160;&#160;&#160;J2SDK&#160;<br/>1.4.2-12&#160;(original&#160;javadoc&#160;comments&#160;are&#160;omitted)&#160;which&#160;is&#160;the&#160;starting&#160;point&#160;for&#160;every&#160;<br/>class&#160;loading&#160;process.&#160;Looking&#160;at&#160;the&#160;signature&#160;it&#160;is&#160;important&#160;that&#160;loadClass&#160;is&#160;defined&#160;<br/>as&#160;synchronized&#160;which&#160;makes&#160;it&#160;impossible&#160;to&#160;execute&#160;this&#160;method&#160;more&#160;than&#160;once&#160;<br/>simultaneously&#160;(this&#160;affects&#160;multi-threading).&#160;The&#160;body&#160;starts&#160;by&#160;checking&#160;if&#160;the&#160;class&#160;<br/>not&#160;already&#160;is&#160;loaded&#160;(line&#160;5).&#160;If&#160;not,&#160;the&#160;delegation&#160;process&#160;starts.&#160;Within&#160;the&#160;try&#160;block&#160;<br/>(lines&#160;8-12)&#160;the&#160;ClassLoader&#160;calls&#160;its&#160;parents&#160;until&#160;there&#160;are&#160;no&#160;more&#160;which&#160;means&#160;that&#160;<br/>the&#160;parental&#160;calls&#160;moved&#160;up&#160;through&#160;the&#160;whole&#160;ClassLoader&#160;parent-child&#160;tree.&#160;There&#160;it&#160;<br/>calls&#160;&#160;&#160;the&#160;&#160;&#160;bootstrap&#160;&#160;&#160;findClass&#160;&#160;&#160;method&#160;&#160;&#160;(line&#160;&#160;&#160;11).&#160;&#160;&#160;Note,&#160;&#160;&#160;that&#160;&#160;&#160;this&#160;&#160;&#160;method&#160;&#160;&#160;–&#160;<br/>“findBootstrapClass0”&#160;-&#160;is&#160;the&#160;only&#160;implementation&#160;of&#160;findClass&#160;that&#160;always&#160;exists&#160;and&#160;<br/>really&#160;searches&#160;for&#160;the&#160;class.&#160;It&#160;throws&#160;an&#160;exception&#160;if&#160;the&#160;search&#160;is&#160;not&#160;successful.&#160;<br/>After&#160;that&#160;all&#160;invoked&#160;loadClass&#160;methods&#160;get&#160;their&#160;chance&#160;for&#160;a&#160;successful&#160;finding&#160;of&#160;<br/>the&#160;class&#160;(line&#160;16,&#160;within&#160;the&#160;catch-block)&#160;or&#160;otherwise&#160;throw&#160;an&#160;exception&#160;by&#160;their&#160;<br/>own.&#160;&#160;Note:&#160;&#160;&#160;This&#160;&#160;findClass&#160;&#160;methods&#160;only&#160;&#160;exist&#160;&#160;&#160;if&#160;&#160;they&#160;&#160;have&#160;&#160;been&#160;&#160;overridden&#160;&#160;by&#160;&#160;the&#160;<br/>respective&#160;child-implementations&#160;of&#160;the&#160;ClassLoader.&#160;If&#160;the&#160;search&#160;was&#160;successful&#160;the&#160;<br/>class&#160;may&#160;be&#160;linked&#160;(lines&#160;19-21)&#160;by&#160;calling&#160;resolveClass,&#160;depending&#160;on&#160;the&#160;parameter&#160;</p>
<p style="position:absolute;top:1067px;left:85px;white-space:nowrap" class="ft293105"><i>resolve.</i></p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft293134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft293134">25/47</p>
</div>
<!-- Page 294 -->
<a name="294"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page294-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2294.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft29490">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft29480">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft294134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft294134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft294137"><b>3.2.2&#160;Class&#160;Verifier&#160;and&#160;Bytecode&#160;Verifier</b></p>
<p style="position:absolute;top:181px;left:85px;white-space:nowrap" class="ft294133">Clearly,&#160;Sun's&#160;Java&#160;Compiler&#160;produces&#160;valid&#160;bytecode&#160;in&#160;class&#160;files.&#160;The&#160;JVM&#160;has&#160;no&#160;<br/>chance&#160;of&#160;checking&#160;whether&#160;a&#160;class&#160;file&#160;has&#160;been&#160;compiled&#160;by&#160;Sun's&#160;Java&#160;Compiler&#160;or&#160;<br/>by&#160;&#160;&#160;another&#160;&#160;&#160;compiler.&#160;&#160;&#160;Therefore,&#160;&#160;&#160;the&#160;&#160;&#160;class&#160;&#160;&#160;file&#160;&#160;&#160;has&#160;&#160;&#160;to&#160;&#160;&#160;be&#160;&#160;&#160;checked&#160;&#160;&#160;against&#160;&#160;&#160;several&#160;<br/>problems&#160;such&#160;as</p>
<p style="position:absolute;top:271px;left:112px;white-space:nowrap" class="ft294140">●</p>
<p style="position:absolute;top:267px;left:139px;white-space:nowrap" class="ft294130">Operand&#160;stack&#160;overflows&#160;or&#160;underflows</p>
<p style="position:absolute;top:300px;left:112px;white-space:nowrap" class="ft294140">●</p>
<p style="position:absolute;top:295px;left:139px;white-space:nowrap" class="ft294130">Invalid&#160;local&#160;variables&#160;operations</p>
<p style="position:absolute;top:328px;left:112px;white-space:nowrap" class="ft294140">●</p>
<p style="position:absolute;top:323px;left:139px;white-space:nowrap" class="ft294130">Invalid&#160;JVM&#160;instructions&#160;and&#160;arguments</p>
<p style="position:absolute;top:351px;left:85px;white-space:nowrap" class="ft294133">The&#160;JVM&#160;Specification&#160;defines&#160;four&#160;passes&#160;for&#160;the&#160;verifier.&#160;Pass&#160;1&#160;and&#160;pass&#160;2&#160;belong&#160;to&#160;<br/>the&#160;class&#160;verifier&#160;which&#160;checks&#160;the&#160;class&#160;statically&#160;and&#160;pass&#160;3&#160;and&#160;4&#160;belongs&#160;to&#160;the&#160;<br/>bytecode&#160;verifier.</p>
<p style="position:absolute;top:423px;left:112px;white-space:nowrap" class="ft294140">●</p>
<p style="position:absolute;top:418px;left:139px;white-space:nowrap" class="ft294129"><b>Pass&#160;1&#160;(during&#160;loading)</b></p>
<p style="position:absolute;top:446px;left:139px;white-space:nowrap" class="ft294133">The&#160;class&#160;verifier&#160;checks&#160;the&#160;basic&#160;format&#160;and&#160;the&#160;integrity&#160;of&#160;the&#160;class&#160;file.&#160;It&#160;<br/>checks&#160;for&#160;the&#160;appropriate&#160;header&#160;(magic&#160;number&#160;and&#160;version&#160;number)&#160;and&#160;it&#160;<br/>checks&#160;that&#160;all&#160;data&#160;has&#160;the&#160;correct&#160;length.&#160;Moreover,&#160;the&#160;class&#160;file&#160;must&#160;not&#160;<br/>contain&#160;extra&#160;bytes&#160;at&#160;the&#160;end&#160;and&#160;must&#160;not&#160;be&#160;truncated.</p>
<p style="position:absolute;top:537px;left:112px;white-space:nowrap" class="ft294140">●</p>
<p style="position:absolute;top:532px;left:139px;white-space:nowrap" class="ft294129"><b>Pass&#160;2&#160;(during&#160;binding)</b></p>
<p style="position:absolute;top:560px;left:139px;white-space:nowrap" class="ft294133">This&#160;pass&#160;is&#160;also&#160;done&#160;by&#160;the&#160;class&#160;verifier.&#160;It&#160;checks&#160;basic&#160;Java&#160;concepts&#160;that&#160;<br/>can&#160;be&#160;verified&#160;without&#160;looking&#160;at&#160;the&#160;source&#160;code.&#160;These&#160;concepts&#160;are&#160;e.g.:</p>
<p style="position:absolute;top:612px;left:165px;white-space:nowrap" class="ft294140">●</p>
<p style="position:absolute;top:608px;left:192px;white-space:nowrap" class="ft294130">Each&#160;class&#160;(except&#160;java.lang.Object)&#160;has&#160;a&#160;superclass</p>
<p style="position:absolute;top:640px;left:165px;white-space:nowrap" class="ft294140">●</p>
<p style="position:absolute;top:636px;left:192px;white-space:nowrap" class="ft294130">Final&#160;classes&#160;must&#160;not&#160;be&#160;subclassed</p>
<p style="position:absolute;top:669px;left:165px;white-space:nowrap" class="ft294140">●</p>
<p style="position:absolute;top:664px;left:192px;white-space:nowrap" class="ft294130">Final&#160;methods&#160;must&#160;not&#160;be&#160;overridden</p>
<p style="position:absolute;top:697px;left:165px;white-space:nowrap" class="ft294140">●</p>
<p style="position:absolute;top:692px;left:192px;white-space:nowrap" class="ft294130">Field&#160;and&#160;method&#160;references&#160;have&#160;valid&#160;names</p>
<p style="position:absolute;top:720px;left:138px;white-space:nowrap" class="ft294133">The&#160;verifier&#160;does&#160;not&#160;check&#160;in&#160;this&#160;pass&#160;that&#160;the&#160;referenced&#160;methods&#160;and&#160;classes&#160;<br/>really&#160;exist.</p>
<p style="position:absolute;top:772px;left:112px;white-space:nowrap" class="ft294140">●</p>
<p style="position:absolute;top:768px;left:139px;white-space:nowrap" class="ft294129"><b>Pass&#160;3&#160;(during&#160;linking)</b></p>
<p style="position:absolute;top:796px;left:139px;white-space:nowrap" class="ft294133">The&#160;Bytecode&#160;verifier&#160;checks&#160;the&#160;methods&#160;of&#160;a&#160;class&#160;with&#160;a&#160;data-flow&#160;analysis.&#160;<br/>This&#160;process&#160;is&#160;rather&#160;complex,&#160;the&#160;basic&#160;checks&#160;are:</p>
<p style="position:absolute;top:848px;left:165px;white-space:nowrap" class="ft294140">●</p>
<p style="position:absolute;top:843px;left:192px;white-space:nowrap" class="ft294130">Variables&#160;are&#160;initialized&#160;before&#160;reading</p>
<p style="position:absolute;top:876px;left:165px;white-space:nowrap" class="ft294140">●</p>
<p style="position:absolute;top:872px;left:192px;white-space:nowrap" class="ft294130">Methods&#160;are&#160;called&#160;with&#160;the&#160;correct&#160;number&#160;and&#160;types&#160;of&#160;arguments</p>
<p style="position:absolute;top:904px;left:165px;white-space:nowrap" class="ft294140">●</p>
<p style="position:absolute;top:900px;left:192px;white-space:nowrap" class="ft294130">Fields&#160;hold&#160;only&#160;objects&#160;of&#160;appropriate&#160;type</p>
<p style="position:absolute;top:928px;left:138px;white-space:nowrap" class="ft294133">The&#160;JVM&#160;Specification&#160;defines&#160;an&#160;exact&#160;algorithm&#160;for&#160;the&#160;bytecode&#160;verifier&#160;which&#160;<br/>is&#160;not&#160;covered&#160;in&#160;this&#160;document.</p>
<p style="position:absolute;top:980px;left:112px;white-space:nowrap" class="ft294140">●</p>
<p style="position:absolute;top:975px;left:139px;white-space:nowrap" class="ft294129"><b>Pass&#160;4&#160;(during&#160;runtime)</b></p>
<p style="position:absolute;top:1004px;left:139px;white-space:nowrap" class="ft294133">The&#160;checks&#160;in&#160;this&#160;pass&#160;can&#160;also&#160;be&#160;done&#160;in&#160;pass&#160;3.&#160;This&#160;pass&#160;resolves&#160;class&#160;and&#160;<br/>methods&#160;references&#160;and&#160;checks&#160;whether&#160;the&#160;classes&#160;exist&#160;or&#160;not.&#160;It&#160;also&#160;verifies&#160;<br/>that&#160;the&#160;caller&#160;has&#160;access&#160;to&#160;the&#160;reference.</p>
<p style="position:absolute;top:1088px;left:85px;white-space:nowrap" class="ft294137"><b>3.2.3&#160;Security&#160;Manager</b></p>
<p style="position:absolute;top:1118px;left:85px;white-space:nowrap" class="ft294130">The&#160;&#160;&#160;security&#160;&#160;&#160;manager&#160;&#160;&#160;handles&#160;&#160;&#160;the&#160;&#160;&#160;access&#160;&#160;&#160;control.&#160;&#160;&#160;If&#160;&#160;&#160;an&#160;&#160;&#160;application&#160;&#160;&#160;wants&#160;&#160;&#160;to&#160;&#160;&#160;take&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft294134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft294134">26/47</p>
</div>
<!-- Page 295 -->
<a name="295"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page295-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2295.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft29590">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft29580">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft295134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft295134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft295133">control&#160;of&#160;a&#160;resource&#160;it&#160;has&#160;to&#160;ask&#160;the&#160;security&#160;manager&#160;and&#160;the&#160;security&#160;manager&#160;<br/>grants&#160;&#160;&#160;or&#160;&#160;&#160;denies&#160;&#160;&#160;access&#160;&#160;&#160;to&#160;&#160;&#160;the&#160;&#160;resource.&#160;&#160;&#160;The&#160;&#160;&#160;exact&#160;&#160;&#160;working&#160;&#160;&#160;principle&#160;&#160;&#160;for&#160;&#160;&#160;the&#160;<br/>application&#160;is&#160;as&#160;follows:</p>
<p style="position:absolute;top:218px;left:112px;white-space:nowrap" class="ft295129"><b>1.</b></p>
<p style="position:absolute;top:218px;left:139px;white-space:nowrap" class="ft295130">Check&#160;whether&#160;the&#160;security&#160;manager&#160;is&#160;enabled&#160;or&#160;not</p>
<p style="position:absolute;top:246px;left:112px;white-space:nowrap" class="ft295129"><b>2.</b></p>
<p style="position:absolute;top:246px;left:139px;white-space:nowrap" class="ft295130">If&#160;the&#160;security&#160;manager&#160;is&#160;enabled&#160;ask&#160;for&#160;granting&#160;access&#160;to&#160;the&#160;resource</p>
<p style="position:absolute;top:274px;left:112px;white-space:nowrap" class="ft295129"><b>3.</b></p>
<p style="position:absolute;top:274px;left:139px;white-space:nowrap" class="ft295133">The&#160;security&#160;manager&#160;silently&#160;grants&#160;access&#160;or&#160;throws&#160;a&#160;SecurityException&#160;in&#160;<br/>the&#160;case&#160;of&#160;denial</p>
<p style="position:absolute;top:321px;left:112px;white-space:nowrap" class="ft295129"><b>4.</b></p>
<p style="position:absolute;top:321px;left:139px;white-space:nowrap" class="ft295130">If&#160;the&#160;security&#160;manager&#160;is&#160;disabled,&#160;the&#160;application&#160;gets&#160;access.</p>
<p style="position:absolute;top:350px;left:85px;white-space:nowrap" class="ft295133">There&#160;can&#160;only&#160;be&#160;one&#160;security&#160;manager&#160;at&#160;the&#160;same&#160;time&#160;for&#160;an&#160;application.&#160;It&#160;is&#160;not&#160;<br/>possible&#160;to&#160;create&#160;more&#160;than&#160;one&#160;security&#160;manager&#160;and&#160;it&#160;is&#160;not&#160;possible&#160;to&#160;disable&#160;a&#160;<br/>running&#160;instance&#160;of&#160;a&#160;security&#160;manager.&#160;For&#160;local&#160;applications,&#160;the&#160;security&#160;manager&#160;is&#160;<br/>disabled&#160;by&#160;default.&#160;It&#160;can&#160;be&#160;enabled&#160;manually&#160;at&#160;start&#160;time&#160;of&#160;the&#160;application.&#160;For&#160;<br/>remote&#160;applications,&#160;the&#160;security&#160;manager&#160;is&#160;enabled&#160;e.g.&#160;by&#160;the&#160;Appletclassloader.<br/>The&#160;controls&#160;are&#160;implemented&#160;by&#160;the&#160;access&#160;controller.&#160;The&#160;security&#160;manager&#160;calls&#160;the&#160;<br/>appropriate&#160;method&#160;of&#160;the&#160;access&#160;controller&#160;for:</p>
<p style="position:absolute;top:507px;left:112px;white-space:nowrap" class="ft295140">●</p>
<p style="position:absolute;top:502px;left:139px;white-space:nowrap" class="ft295130">Installation&#160;of&#160;a&#160;new&#160;classloader</p>
<p style="position:absolute;top:535px;left:112px;white-space:nowrap" class="ft295140">●</p>
<p style="position:absolute;top:530px;left:139px;white-space:nowrap" class="ft295130">File&#160;Access&#160;(read/write/delete)</p>
<p style="position:absolute;top:563px;left:112px;white-space:nowrap" class="ft295140">●</p>
<p style="position:absolute;top:558px;left:139px;white-space:nowrap" class="ft295130">Access&#160;to&#160;threads&#160;(start/stop)</p>
<p style="position:absolute;top:591px;left:112px;white-space:nowrap" class="ft295140">●</p>
<p style="position:absolute;top:587px;left:139px;white-space:nowrap" class="ft295130">Sockets&#160;(accept/open&#160;a&#160;new&#160;connection)</p>
<p style="position:absolute;top:615px;left:85px;white-space:nowrap" class="ft295133">The&#160;end-user&#160;can&#160;customize&#160;the&#160;controls&#160;of&#160;the&#160;security&#160;manager&#160;by&#160;editing&#160;simple&#160;<br/>text&#160;&#160;&#160;files&#160;&#160;&#160;called&#160;&#160;&#160;policy&#160;&#160;&#160;files.&#160;&#160;&#160;Within&#160;&#160;&#160;these&#160;&#160;&#160;files,&#160;&#160;&#160;the&#160;&#160;&#160;user&#160;&#160;&#160;can&#160;&#160;&#160;grant&#160;&#160;&#160;access&#160;&#160;&#160;to&#160;&#160;&#160;the&#160;<br/>resources&#160;for&#160;all&#160;applications&#160;or&#160;defined&#160;applications.&#160;The&#160;granularity&#160;of&#160;permissions&#160;<br/>was&#160;introduced&#160;in&#160;Java&#160;2.&#160;For&#160;older&#160;versions&#160;of&#160;Java,&#160;&#160;an&#160;application&#160;had&#160;either&#160;“all&#160;<br/>rights”&#160;or&#160;“no&#160;rights”.</p>
<p style="position:absolute;top:738px;left:85px;white-space:nowrap" class="ft295129"><b>3.3&#160;Integration&#160;of&#160;Trusted&#160;Computing&#160;in&#160;a&#160;Java&#160;Virtual&#160;Machine</b></p>
<p style="position:absolute;top:766px;left:85px;white-space:nowrap" class="ft295133">This&#160;section&#160;is&#160;about&#160;continuing&#160;the&#160;chain&#160;of&#160;trust&#160;from&#160;the&#160;operation&#160;system&#160;level&#160;up&#160;<br/>to&#160;the&#160;JVM&#160;level&#160;and&#160;the&#160;Java&#160;application&#160;level&#160;by&#160;the&#160;integration&#160;of&#160;TC&#160;techniques&#160;in&#160;a&#160;<br/>JVM.&#160;The&#160;two&#160;TC&#160;features&#160;which&#160;will&#160;be&#160;used&#160;are&#160;</p>
<p style="position:absolute;top:804px;left:498px;white-space:nowrap" class="ft295105"><i>measuring</i></p>
<p style="position:absolute;top:804px;left:585px;white-space:nowrap" class="ft295130">&#160;and&#160;</p>
<p style="position:absolute;top:804px;left:629px;white-space:nowrap" class="ft295105"><i>sealing</i></p>
<p style="position:absolute;top:804px;left:688px;white-space:nowrap" class="ft295130">.&#160;There&#160;should&#160;</p>
<p style="position:absolute;top:824px;left:85px;white-space:nowrap" class="ft295133">be&#160;a&#160;version&#160;of&#160;the&#160;modified&#160;JVM&#160;with&#160;“measuring&#160;only”&#160;features&#160;without&#160;any&#160;sealing&#160;<br/>features.</p>
<p style="position:absolute;top:889px;left:85px;white-space:nowrap" class="ft295137"><b>3.3.1&#160;Measuring</b></p>
<p style="position:absolute;top:919px;left:85px;white-space:nowrap" class="ft295105"><i>Measurement</i></p>
<p style="position:absolute;top:919px;left:199px;white-space:nowrap" class="ft295130">&#160;&#160;of&#160;&#160;&#160;data&#160;&#160;&#160;means&#160;&#160;&#160;to&#160;&#160;&#160;hash&#160;&#160;&#160;the&#160;&#160;&#160;data&#160;&#160;&#160;and&#160;&#160;&#160;then&#160;&#160;&#160;update&#160;&#160;&#160;the&#160;&#160;&#160;appropriate&#160;</p>
<p style="position:absolute;top:938px;left:85px;white-space:nowrap" class="ft295133">platform&#160;configuration&#160;registers&#160;(PCRs).<br/>From&#160;&#160;&#160;the&#160;&#160;&#160;point&#160;&#160;&#160;of&#160;&#160;&#160;view&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;operating&#160;&#160;&#160;system,&#160;&#160;&#160;a&#160;&#160;&#160;Java&#160;&#160;&#160;virtual&#160;&#160;&#160;machine&#160;&#160;&#160;is&#160;&#160;&#160;an&#160;<br/>application&#160;like&#160;any&#160;other&#160;application.&#160;Therefore,&#160;the&#160;measurement&#160;of&#160;the&#160;JVM&#160;is&#160;not&#160;<br/>different&#160;from&#160;the&#160;measurement&#160;of&#160;an&#160;application.&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft295134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft295134">27/47</p>
</div>
<!-- Page 296 -->
<a name="296"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page296-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2296.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft29690">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft29680">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft296134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft296134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft296133">Classes&#160;are&#160;loaded&#160;dynamically&#160;by&#160;the&#160;<br/>classloader.</p>
<p style="position:absolute;top:170px;left:211px;white-space:nowrap" class="ft296130">&#160;</p>
<p style="position:absolute;top:170px;left:244px;white-space:nowrap" class="ft296130">Therefore,</p>
<p style="position:absolute;top:170px;left:357px;white-space:nowrap" class="ft296130">&#160;</p>
<p style="position:absolute;top:170px;left:389px;white-space:nowrap" class="ft296130">the&#160;</p>
<p style="position:absolute;top:189px;left:85px;white-space:nowrap" class="ft296133">enhancements&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;JVM&#160;&#160;&#160;regarding&#160;<br/>Trusted&#160;&#160;&#160;Computing&#160;&#160;&#160;take&#160;&#160;&#160;place&#160;&#160;&#160;in&#160;&#160;&#160;the&#160;<br/>classloader.&#160;Classes&#160;are&#160;only&#160;unloaded&#160;<br/>if&#160;and&#160;only&#160;if&#160;their&#160;defining&#160;classloader&#160;<br/>is&#160;reclaimed&#160;by&#160;the&#160;garbage&#160;collector.&#160;<br/>Thus,&#160;&#160;the&#160;&#160;core&#160;&#160;&#160;Java&#160;&#160;classes&#160;&#160;are&#160;&#160;never&#160;<br/>unloaded&#160;&#160;&#160;because&#160;&#160;&#160;the&#160;&#160;&#160;primordial&#160;<br/>classloader&#160;can&#160;not&#160;be&#160;destroyed&#160;<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#315">&#160;[JLS].</a>&#160;<br/>Therefore,&#160;&#160;&#160;class&#160;&#160;&#160;unloading&#160;&#160;&#160;and&#160;<br/>reloading&#160;&#160;&#160;is&#160;&#160;&#160;not&#160;&#160;&#160;featured&#160;&#160;&#160;in&#160;&#160;&#160;this&#160;<br/>document.&#160;&#160;&#160;For&#160;&#160;&#160;the&#160;&#160;&#160;first&#160;&#160;&#160;iteration,&#160;&#160;&#160;the&#160;<br/>measurement&#160;(building&#160;the&#160;hash&#160;value)&#160;<br/>of&#160;the&#160;single&#160;classes&#160;or&#160;the&#160;jar-package&#160;<br/>of&#160;&#160;&#160;a&#160;&#160;&#160;Java&#160;&#160;&#160;application&#160;&#160;&#160;will&#160;&#160;&#160;be&#160;<br/>implemented&#160;&#160;&#160;in&#160;&#160;&#160;a&#160;&#160;&#160;self-defined&#160;<br/>classloader&#160;&#160;&#160;and&#160;&#160;&#160;the&#160;&#160;&#160;application&#160;&#160;&#160;is&#160;<br/>loaded&#160;through&#160;this&#160;classloader.&#160;For&#160;the&#160;<br/>next&#160;Iteration&#160;of&#160;integrating&#160;TC&#160;features&#160;<br/>into&#160;&#160;&#160;a&#160;&#160;&#160;JVM,&#160;&#160;&#160;the&#160;&#160;&#160;measurements&#160;&#160;&#160;and&#160;<br/>(un-)sealing&#160;&#160;&#160;processes&#160;&#160;&#160;are&#160;&#160;&#160;integrated&#160;<br/>into&#160;&#160;&#160;the&#160;&#160;&#160;primordial&#160;&#160;&#160;classloader&#160;&#160;&#160;and&#160;<br/>other&#160;classloaders.&#160;Due&#160;to&#160;the&#160;fact&#160;that&#160;classloaders&#160;are&#160;Java&#160;code,&#160;it&#160;is&#160;possible&#160;to&#160;use&#160;<br/>the&#160;Java&#160;TSS&#160;API&#160;for&#160;the&#160;TC&#160;features.&#160;A&#160;Java&#160;application&#160;does&#160;not&#160;only&#160;comprise&#160;of&#160;Java&#160;<br/>classes.&#160;&#160;&#160;Configuration&#160;&#160;&#160;files&#160;&#160;&#160;and&#160;&#160;&#160;static&#160;&#160;&#160;data&#160;&#160;&#160;(e.g.&#160;&#160;&#160;pictures)&#160;&#160;&#160;are&#160;&#160;&#160;parts&#160;&#160;&#160;of&#160;&#160;&#160;Java&#160;<br/>applications.&#160;Consequently,&#160;these&#160;data&#160;files&#160;have&#160;to&#160;be&#160;also&#160;measured&#160;and&#160;sealed.<br/>Native&#160;libraries&#160;of&#160;an&#160;application&#160;are&#160;loaded&#160;via&#160;the&#160;methods&#160;System.load(libraryname)&#160;<br/>or&#160;System.loadLibrary(libraryname)&#160;depending&#160;on&#160;the&#160;fact,&#160;that&#160;the&#160;library&#160;is&#160;included&#160;<br/>in&#160;the&#160;library&#160;path.&#160;Therefore,&#160;native&#160;libraries&#160;should&#160;be&#160;measured&#160;as&#160;well.&#160;</p>
<p style="position:absolute;top:763px;left:85px;white-space:nowrap" class="ft296137"><b>3.3.2&#160;Sealing</b></p>
<p style="position:absolute;top:793px;left:85px;white-space:nowrap" class="ft296133">Sealing&#160;is&#160;the&#160;process&#160;of&#160;encrypting&#160;data&#160;with&#160;regards&#160;to&#160;specific&#160;&#160;&#160;TPM&#160;metrics&#160;i.e.&#160;a&#160;<br/>chosen&#160;set&#160;of&#160;values&#160;of&#160;the&#160;PCRs.&#160;Unsealing&#160;the&#160;data&#160;is&#160;only&#160;possible&#160;if&#160;and&#160;only&#160;if&#160;the&#160;<br/>TPM&#160;metrics&#160;chosen&#160;for&#160;the&#160;sealing&#160;process&#160;are&#160;exactly&#160;the&#160;same&#160;as&#160;for&#160;the&#160;unsealing&#160;<br/>process.&#160;The&#160;sealing&#160;key&#160;is&#160;a&#160;non-migratable&#160;TPM&#160;key.&#160;Sealing&#160;Java&#160;classes&#160;has&#160;to&#160;be&#160;<br/>done&#160;before&#160;measuring&#160;them,&#160;otherwise&#160;that&#160;would&#160;break&#160;the&#160;unsealing&#160;process.&#160;Due&#160;<br/>to&#160;the&#160;fact,&#160;that&#160;the&#160;order&#160;of&#160;classes&#160;to&#160;be&#160;loaded&#160;is&#160;not&#160;deterministic,&#160;the&#160;jar-package&#160;<br/>of&#160;the&#160;Java&#160;application&#160;should&#160;be&#160;sealed&#160;instead&#160;of&#160;the&#160;single&#160;classes.&#160;Furthermore,&#160;the&#160;<br/>jar-package&#160;&#160;is&#160;not&#160;&#160;sealed&#160;directly,&#160;because&#160;&#160;this&#160;would&#160;require&#160;&#160;too&#160;much&#160;&#160;time.&#160;&#160;It&#160;&#160;is&#160;<br/>encrypted&#160;with&#160;a&#160;symmetric&#160;key&#160;and&#160;this&#160;key&#160;is&#160;sealed&#160;in&#160;the&#160;common&#160;way.&#160;At&#160;the&#160;end&#160;<br/>of&#160;&#160;&#160;the&#160;&#160;&#160;lifetime&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;Java&#160;&#160;&#160;application,&#160;&#160;&#160;its&#160;&#160;&#160;(unsealed)&#160;&#160;&#160;jar-package&#160;&#160;&#160;is&#160;&#160;&#160;deleted&#160;&#160;&#160;from&#160;<br/>memory.&#160;&#160;<br/>An&#160;&#160;&#160;application&#160;&#160;&#160;scenario&#160;&#160;&#160;for&#160;&#160;&#160;sealing&#160;&#160;&#160;a&#160;&#160;&#160;Java&#160;&#160;&#160;program&#160;&#160;&#160;could&#160;&#160;&#160;be,&#160;&#160;&#160;that&#160;&#160;&#160;a&#160;&#160;&#160;system&#160;<br/>administrator&#160;&#160;&#160;installs&#160;&#160;&#160;and&#160;&#160;&#160;seals&#160;&#160;&#160;a&#160;&#160;&#160;Java&#160;&#160;&#160;program&#160;&#160;&#160;for&#160;&#160;&#160;the&#160;&#160;&#160;non-administrators&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;<br/>computer.&#160;This&#160;means,&#160;normal&#160;users&#160;are&#160;only&#160;able&#160;to&#160;unseal&#160;and&#160;run&#160;the&#160;application,&#160;<br/>but&#160;can&#160;not&#160;modify&#160;parts&#160;of&#160;them&#160;or&#160;install&#160;a&#160;new&#160;version&#160;of&#160;it.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft296134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft296134">28/47</p>
<p style="position:absolute;top:552px;left:527px;white-space:nowrap" class="ft296107"><i>Illustration&#160;7:&#160;Chain&#160;of&#160;Trust</i></p>
</div>
<!-- Page 297 -->
<a name="297"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page297-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2297.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft29790">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft29780">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft297134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft297134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft297137"><b>3.3.3&#160;The&#160;Property-based&#160;approach</b></p>
<p style="position:absolute;top:181px;left:85px;white-space:nowrap" class="ft297144">The&#160;&#160;&#160;main&#160;&#160;&#160;problem&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;traditional&#160;&#160;&#160;measuring/sealing&#160;&#160;&#160;approach&#160;&#160;&#160;is&#160;&#160;&#160;that&#160;&#160;&#160;there&#160;&#160;&#160;are&#160;<br/>different&#160;versions&#160;of&#160;classes&#160;due&#160;to&#160;updates&#160;and&#160;patches&#160;of&#160;an&#160;application.&#160;Therefore,&#160;<br/>a&#160;&#160;&#160;database&#160;&#160;&#160;has&#160;&#160;&#160;to&#160;&#160;&#160;store&#160;&#160;&#160;all&#160;&#160;&#160;different&#160;&#160;&#160;versions&#160;&#160;&#160;of&#160;&#160;&#160;a&#160;&#160;&#160;class&#160;&#160;&#160;and&#160;&#160;&#160;all&#160;&#160;&#160;hashes&#160;&#160;&#160;of&#160;&#160;&#160;these&#160;<br/>versions&#160;or&#160;otherwise,&#160;this&#160;would&#160;break&#160;the&#160;remote&#160;attestation.&#160;An&#160;idea&#160;to&#160;solve&#160;the&#160;<br/>problem&#160;&#160;&#160;would&#160;&#160;&#160;be&#160;&#160;not&#160;&#160;&#160;to&#160;&#160;measure&#160;&#160;&#160;the&#160;&#160;&#160;classes&#160;&#160;&#160;themselves&#160;&#160;&#160;(the&#160;&#160;&#160;binaries),&#160;&#160;&#160;but&#160;&#160;&#160;to&#160;<br/>measure&#160;the&#160;properties&#160;of&#160;the&#160;application&#160;or&#160;properties&#160;of&#160;the&#160;virtual&#160;machines.&#160;This&#160;<br/>idea&#160;&#160;of&#160;&#160;measuring&#160;&#160;the&#160;&#160;properties&#160;of&#160;&#160;a&#160;&#160;program&#160;&#160;&#160;for&#160;remote&#160;&#160;attestation&#160;&#160;is&#160;known&#160;&#160;as&#160;<br/>“Semantic&#160;Remote&#160;Attestation”&#160;or&#160;“Property-based&#160;Attestation”<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#315">&#160;[PBA]&#160;.</a>&#160;The&#160;same&#160;idea&#160;<br/>holds&#160;for&#160;the&#160;sealing&#160;process.&#160;“Property-based&#160;Sealing”&#160;<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#315">&#160;[SDMTC]&#160;&#160;&#160;&#160;</a>seals&#160;data&#160;objects&#160;<br/>according&#160;to&#160;a&#160;set&#160;of&#160;properties&#160;rather&#160;than&#160;according&#160;to&#160;PCR&#160;values&#160;within&#160;traditional&#160;<br/>sealing.<br/>A&#160;possible&#160;set&#160;of&#160;properties&#160;could&#160;be:</p>
<p style="position:absolute;top:434px;left:112px;white-space:nowrap" class="ft297140">●</p>
<p style="position:absolute;top:429px;left:139px;white-space:nowrap" class="ft297130">status&#160;of&#160;the&#160;security&#160;manager&#160;-&#160;Is&#160;the&#160;security&#160;manager&#160;enabled?</p>
<p style="position:absolute;top:462px;left:112px;white-space:nowrap" class="ft297140">●</p>
<p style="position:absolute;top:458px;left:139px;white-space:nowrap" class="ft297130">file&#160;access&#160;rights&#160;-&#160;Is&#160;it&#160;possible&#160;for&#160;the&#160;application&#160;to&#160;read/write/delete&#160;files?</p>
<p style="position:absolute;top:490px;left:112px;white-space:nowrap" class="ft297140">●</p>
<p style="position:absolute;top:486px;left:139px;white-space:nowrap" class="ft297133">process&#160;management&#160;rights&#160;-&#160;Is&#160;it&#160;possible&#160;for&#160;the&#160;application&#160;to&#160;start&#160;or&#160;stop&#160;<br/>threads?</p>
<p style="position:absolute;top:538px;left:112px;white-space:nowrap" class="ft297140">●</p>
<p style="position:absolute;top:533px;left:139px;white-space:nowrap" class="ft297133">Network&#160;access&#160;-&#160;Is&#160;it&#160;possible&#160;for&#160;the&#160;application&#160;to&#160;accept&#160;or&#160;open&#160;network&#160;<br/>connections?</p>
<p style="position:absolute;top:601px;left:85px;white-space:nowrap" class="ft297136"><b>4&#160;</b></p>
<p style="position:absolute;top:599px;left:117px;white-space:nowrap" class="ft297137"><b>Evaluation&#160;of&#160;existing&#160;Java&#160;Virtual&#160;Machines</b></p>
<p style="position:absolute;top:629px;left:85px;white-space:nowrap" class="ft297133">To&#160;develop&#160;a&#160;secure&#160;Java&#160;Virtual&#160;Machine&#160;in&#160;the&#160;terms&#160;of&#160;OpenTC&#160;there&#160;are&#160;basically&#160;<br/>two&#160;options&#160;to&#160;follow:&#160;develop&#160;a&#160;new&#160;one,&#160;or&#160;base&#160;the&#160;development&#160;on&#160;an&#160;existing&#160;one.&#160;<br/>Since&#160;development&#160;of&#160;a&#160;full&#160;VM&#160;is&#160;clearly&#160;out&#160;of&#160;scope&#160;–&#160;at&#160;least&#160;in&#160;terms&#160;of&#160;ressources&#160;<br/>available&#160;–&#160;we&#160;needed&#160;to&#160;find&#160;a&#160;Virtual&#160;Machine&#160;fitting&#160;several&#160;requirements.<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#299">&#160;Figure&#160;3</a>&#160;<br/>shows&#160;the&#160;three-step&#160;scheme&#160;which&#160;has&#160;been&#160;used&#160;to&#160;accomplish&#160;this&#160;task.</p>
<p style="position:absolute;top:752px;left:85px;white-space:nowrap" class="ft297129"><b>4.1&#160;Search</b></p>
<p style="position:absolute;top:780px;left:85px;white-space:nowrap" class="ft297133">The&#160;search&#160;for&#160;appropriate&#160;Java&#160;Virtual&#160;Machines&#160;began&#160;by&#160;using&#160;the&#160;well&#160;known&#160;online&#160;<br/>resources.&#160;This&#160;first&#160;step&#160;resulted&#160;in&#160;a&#160;long&#160;list&#160;of&#160;candidate&#160;VMSs&#160;that&#160;is&#160;presented&#160;in&#160;<br/>section<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#304">&#160;</a></p>
<p style="position:absolute;top:818px;left:151px;white-space:nowrap" class="ft297143"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#304">3.3.</a></p>
<p style="position:absolute;top:818px;left:183px;white-space:nowrap" class="ft297130"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#304">&#160;</a>VMs,&#160;that&#160;did&#160;not&#160;fulfill&#160;the&#160;most&#160;basic&#160;criteria,&#160;are&#160;listed&#160;in&#160;section<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#296">&#160;</a></p>
<p style="position:absolute;top:818px;left:761px;white-space:nowrap" class="ft297143"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#296">3.3.2</a></p>
<p style="position:absolute;top:818px;left:803px;white-space:nowrap" class="ft297130"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#296">.</a>&#160;</p>
<p style="position:absolute;top:837px;left:85px;white-space:nowrap" class="ft297133">Also,&#160;VM-Projects&#160;that&#160;were&#160;apparently&#160;“dead”&#160;could&#160;be&#160;sorted&#160;out&#160;immediately&#160;(see&#160;<br/>section<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#305">&#160;</a></p>
<p style="position:absolute;top:857px;left:152px;white-space:nowrap" class="ft297143"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#305">3.3.1</a></p>
<p style="position:absolute;top:857px;left:194px;white-space:nowrap" class="ft297130"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#305">)</a>.&#160;The&#160;result&#160;of&#160;searching&#160;and&#160;afterwards&#160;applying&#160;that&#160;rules&#160;is&#160;shown&#160;in&#160;</p>
<p style="position:absolute;top:876px;left:85px;white-space:nowrap" class="ft297130">“Selected&#160;Candidates”.&#160;&#160;</p>
<p style="position:absolute;top:922px;left:85px;white-space:nowrap" class="ft297137"><b>4.1.1&#160;Requirements</b></p>
<p style="position:absolute;top:952px;left:85px;white-space:nowrap" class="ft297130">In&#160;the&#160;first&#160;stage&#160;there&#160;were&#160;only&#160;a&#160;few&#160;reasons&#160;to&#160;eliminate&#160;Java&#160;Virtual&#160;Machines:&#160;</p>
<p style="position:absolute;top:979px;left:85px;white-space:nowrap" class="ft297129"><b>Wrong&#160;platform</b></p>
<p style="position:absolute;top:979px;left:233px;white-space:nowrap" class="ft297130">:&#160;This&#160;means&#160;that&#160;the&#160;Virtual&#160;Machine&#160;is&#160;made&#160;for&#160;special&#160;purposes.&#160;</p>
<p style="position:absolute;top:998px;left:85px;white-space:nowrap" class="ft297133">For&#160;example:&#160;Virtual&#160;Machines&#160;which&#160;are&#160;made&#160;only&#160;for&#160;Microsoft&#160;Windows&#160;compatible&#160;<br/>machines&#160;or&#160;Apple&#160;Computers&#160;or&#160;Virtual&#160;Machines&#160;for&#160;embedded&#160;systems&#160;are&#160;not&#160;in&#160;<br/>the&#160;focus&#160;of&#160;this&#160;project.&#160;</p>
<p style="position:absolute;top:1065px;left:85px;white-space:nowrap" class="ft297129"><b>License</b></p>
<p style="position:absolute;top:1065px;left:155px;white-space:nowrap" class="ft297130">:&#160;If&#160;the&#160;license&#160;is&#160;not&#160;compatible&#160;to&#160;the&#160;OpenTC&#160;specifications&#160;and&#160;cannot&#160;be&#160;</p>
<p style="position:absolute;top:1084px;left:85px;white-space:nowrap" class="ft297130">changed&#160;to&#160;a&#160;compatible&#160;one.&#160;</p>
<p style="position:absolute;top:1111px;left:85px;white-space:nowrap" class="ft297129"><b>Development</b></p>
<p style="position:absolute;top:1111px;left:209px;white-space:nowrap" class="ft297130">&#160;unfinished:&#160;If&#160;the&#160;Virtual&#160;Machine&#160;is&#160;in&#160;a&#160;buggy&#160;state&#160;and/or&#160;insecure&#160;or&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft297134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft297134">29/47</p>
</div>
<!-- Page 298 -->
<a name="298"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft298150{font-size:18px;font-family:BAAAAA+TimesNewRomanPSMT;color:#ffffff;}
	.ft298151{font-size:18px;font-family:CAAAAA+BitstreamVeraSans;color:#ffffff;}
	.ft298152{font-size:18px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
	.ft298153{font-size:18px;font-family:CAAAAA+BitstreamVeraSans;color:#000080;}
	.ft298154{font-size:18px;line-height:21px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
	.ft298155{font-size:18px;line-height:21px;font-family:CAAAAA+BitstreamVeraSans;color:#ffffff;}
-->
</style>
<div id="page298-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2298.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft29890">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft29880">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft298134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft298134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft298130">it&#160;is&#160;a&#160;“just&#160;for&#160;fun”&#160;project&#160;then&#160;it&#160;has&#160;no&#160;perspective&#160;in&#160;this&#160;project.&#160;</p>
<p style="position:absolute;top:179px;left:85px;white-space:nowrap" class="ft298129"><b>Old&#160;Virtual&#160;Machine</b></p>
<p style="position:absolute;top:179px;left:269px;white-space:nowrap" class="ft298130">:&#160;Some&#160;Virtual&#160;Machines&#160;stopped&#160;development&#160;in&#160;past&#160;for&#160;</p>
<p style="position:absolute;top:198px;left:85px;white-space:nowrap" class="ft298133">different&#160;reasons.&#160;Selected&#160;Virtual&#160;Machines&#160;should&#160;at&#160;least&#160;cover&#160;the&#160;Java&#160;1.4.2&#160;rule&#160;<br/>set.</p>
<p style="position:absolute;top:263px;left:85px;white-space:nowrap" class="ft298137"><b>4.1.2&#160;Selected&#160;Candidates</b></p>
<p style="position:absolute;top:298px;left:89px;white-space:nowrap" class="ft298150">Name</p>
<p style="position:absolute;top:297px;left:233px;white-space:nowrap" class="ft298151">Homepage</p>
<p style="position:absolute;top:297px;left:537px;white-space:nowrap" class="ft298151">Organization</p>
<p style="position:absolute;top:335px;left:89px;white-space:nowrap" class="ft298151">CACAO</p>
<p style="position:absolute;top:335px;left:233px;white-space:nowrap" class="ft298152">www.cacaojvm.org</p>
<p style="position:absolute;top:335px;left:537px;white-space:nowrap" class="ft298154">Technical&#160;University&#160;of&#160;<br/>Vienna&#160;(www.tuwien.ac.at)</p>
<p style="position:absolute;top:394px;left:89px;white-space:nowrap" class="ft298151">IKVM</p>
<p style="position:absolute;top:394px;left:233px;white-space:nowrap" class="ft298152">Jeroen&#160;Frijters&#160;&#160;</p>
<p style="position:absolute;top:394px;left:537px;white-space:nowrap" class="ft298153"><a href="http://www.ikvm.net/">www.ikvm.net</a></p>
<p style="position:absolute;top:415px;left:537px;white-space:nowrap" class="ft298154">(jfrijters@users.sourceforge.<br/>net)</p>
<p style="position:absolute;top:473px;left:89px;white-space:nowrap" class="ft298151">IntelORP</p>
<p style="position:absolute;top:473px;left:233px;white-space:nowrap" class="ft298152">orp.sourceforge.net</p>
<p style="position:absolute;top:473px;left:537px;white-space:nowrap" class="ft298154">Intel&#160;Corp<br/>(http://intel.com/research/)</p>
<p style="position:absolute;top:532px;left:89px;white-space:nowrap" class="ft298151">JamVM</p>
<p style="position:absolute;top:532px;left:233px;white-space:nowrap" class="ft298152">jamvm.sourceforge.net</p>
<p style="position:absolute;top:532px;left:537px;white-space:nowrap" class="ft298154">Robert&#160;Lougher<br/>(rob@lougher.demon.co.uk)&#160;</p>
<p style="position:absolute;top:591px;left:89px;white-space:nowrap" class="ft298151">JanosVM</p>
<p style="position:absolute;top:591px;left:233px;white-space:nowrap" class="ft298154">www.cs.utah.edu/flux/janos/jano<br/>svm.&#160;</p>
<p style="position:absolute;top:591px;left:537px;white-space:nowrap" class="ft298154">University&#160;of&#160;Utah&#160;<br/>(http://www.cs.utah.edu/)</p>
<p style="position:absolute;top:650px;left:89px;white-space:nowrap" class="ft298155">Java&#160;<br/>HotSpotVM</p>
<p style="position:absolute;top:650px;left:233px;white-space:nowrap" class="ft298154">Java.sun.com/j2se/1.4.2/docs/gu<br/>ide</p>
<p style="position:absolute;top:650px;left:537px;white-space:nowrap" class="ft298152">Sun&#160;Microsystems</p>
<p style="position:absolute;top:709px;left:89px;white-space:nowrap" class="ft298151">JikesRVM</p>
<p style="position:absolute;top:709px;left:233px;white-space:nowrap" class="ft298152">jikesrvm.sourceforge.net</p>
<p style="position:absolute;top:709px;left:537px;white-space:nowrap" class="ft298152">IBM&#160;Corp.</p>
<p style="position:absolute;top:746px;left:89px;white-space:nowrap" class="ft298151">Kaffe</p>
<p style="position:absolute;top:746px;left:233px;white-space:nowrap" class="ft298152">www.kaffe.org</p>
<p style="position:absolute;top:746px;left:537px;white-space:nowrap" class="ft298154">Free&#160;Software&#160;Community&#160;<br/>Project</p>
<p style="position:absolute;top:805px;left:89px;white-space:nowrap" class="ft298151">kissme</p>
<p style="position:absolute;top:805px;left:233px;white-space:nowrap" class="ft298152">kissme.sourceforge.net</p>
<p style="position:absolute;top:805px;left:537px;white-space:nowrap" class="ft298152">Sourceforge&#160;project</p>
<p style="position:absolute;top:843px;left:89px;white-space:nowrap" class="ft298151">SableVM</p>
<p style="position:absolute;top:843px;left:233px;white-space:nowrap" class="ft298152">sablevm.org</p>
<p style="position:absolute;top:843px;left:537px;white-space:nowrap" class="ft298154">Private&#160;Initiative&#160;(Contact:&#160;<br/>egagnon@sablevm.org)</p>
<p style="position:absolute;top:907px;left:85px;white-space:nowrap" class="ft298107"><i>Table&#160;2:&#160;Resulting&#160;JavaVirtual&#160;Machines&#160;after&#160;selection&#160;stage&#160;(alphabetical&#160;order)</i></p>
<p style="position:absolute;top:951px;left:85px;white-space:nowrap" class="ft298129"><b>4.2&#160;Evaluation</b></p>
<p style="position:absolute;top:979px;left:85px;white-space:nowrap" class="ft298138">Based&#160;on&#160;the&#160;list&#160;of&#160;accepted&#160;Virtual&#160;Machines&#160;from&#160;the&#160;searching&#160;stage&#160;we&#160;will&#160;<br/>examine&#160;the&#160;remaining&#160;candidates&#160;in&#160;detail.&#160;<br/>In&#160;the&#160;following&#160;section&#160;criteria&#160;for&#160;this&#160;examination&#160;are&#160;specified&#160;(see&#160;section<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#299">&#160;</a></p>
<p style="position:absolute;top:1026px;left:734px;white-space:nowrap" class="ft298143"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#299">2.1</a></p>
<p style="position:absolute;top:1026px;left:761px;white-space:nowrap" class="ft298130"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#299">)</a>.&#160;</p>
<p style="position:absolute;top:1045px;left:85px;white-space:nowrap" class="ft298130">Then,&#160;for&#160;repeatability&#160;of&#160;evaluation,&#160;a&#160;testing&#160;environment&#160;is&#160;pinpointed&#160;in&#160;section&#160;</p>
<p style="position:absolute;top:1065px;left:85px;white-space:nowrap" class="ft298143"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#303">2.2</a></p>
<p style="position:absolute;top:1065px;left:111px;white-space:nowrap" class="ft298130"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#303">.</a>&#160;Finally&#160;each&#160;of&#160;the&#160;Java&#160;Virtual&#160;Machines&#160;will&#160;be&#160;looked&#160;at&#160;and&#160;analyzed&#160;and&#160;the&#160;</p>
<p style="position:absolute;top:1084px;left:85px;white-space:nowrap" class="ft298133">results&#160;and&#160;measurements&#160;will&#160;be&#160;noted.&#160;This&#160;phase&#160;is&#160;currently&#160;in&#160;progress,&#160;the&#160;final&#160;<br/>evaluation&#160;results&#160;will&#160;be&#160;available&#160;in&#160;Q1&#160;2007.&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft298134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft298134">30/47</p>
</div>
<!-- Page 299 -->
<a name="299"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft299156{font-size:18px;font-family:JAAAAA+Arial;color:#000000;}
-->
</style>
<div id="page299-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2299.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft29990">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft29980">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft299134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft299134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft299137"><b>4.2.1</b></p>
<p style="position:absolute;top:152px;left:153px;white-space:nowrap" class="ft299156"><b>Evaluation&#160;criteria</b></p>
<p style="position:absolute;top:151px;left:309px;white-space:nowrap" class="ft299137"><b>&#160;</b></p>
<p style="position:absolute;top:181px;left:85px;white-space:nowrap" class="ft299130">The&#160;finally&#160;selected&#160;Java&#160;Virtual&#160;Machines&#160;have&#160;to&#160;meet&#160;different&#160;criteria&#160;which&#160;also&#160;</p>
<p style="position:absolute;top:665px;left:85px;white-space:nowrap" class="ft299130">have&#160;different&#160;impact&#160;on&#160;the&#160;decision.&#160;So&#160;these&#160;criteria&#160;are&#160;split&#160;into&#160;two&#160;sections:&#160;</p>
<p style="position:absolute;top:693px;left:85px;white-space:nowrap" class="ft299129"><b>Main&#160;Criteria</b></p>
<p style="position:absolute;top:693px;left:206px;white-space:nowrap" class="ft299130">&#160;...&#160;are&#160;crucial&#160;points&#160;for&#160;the&#160;selection&#160;and&#160;have&#160;a&#160;direct&#160;impact&#160;on&#160;the&#160;</p>
<p style="position:absolute;top:712px;left:213px;white-space:nowrap" class="ft299130">decision.&#160;</p>
<p style="position:absolute;top:740px;left:216px;white-space:nowrap" class="ft299130">•</p>
<p style="position:absolute;top:740px;left:269px;white-space:nowrap" class="ft299130">License&#160;(Cost)&#160;</p>
<p style="position:absolute;top:767px;left:216px;white-space:nowrap" class="ft299130">•</p>
<p style="position:absolute;top:767px;left:269px;white-space:nowrap" class="ft299130">Sourcecode&#160;Availability</p>
<p style="position:absolute;top:795px;left:216px;white-space:nowrap" class="ft299130">•</p>
<p style="position:absolute;top:795px;left:269px;white-space:nowrap" class="ft299130">Quality</p>
<p style="position:absolute;top:823px;left:216px;white-space:nowrap" class="ft299130">•</p>
<p style="position:absolute;top:823px;left:269px;white-space:nowrap" class="ft299130">Project&#160;Status&#160;</p>
<p style="position:absolute;top:850px;left:216px;white-space:nowrap" class="ft299130">•</p>
<p style="position:absolute;top:850px;left:269px;white-space:nowrap" class="ft299130">Project&#160;Activity</p>
<p style="position:absolute;top:878px;left:216px;white-space:nowrap" class="ft299130">•</p>
<p style="position:absolute;top:878px;left:269px;white-space:nowrap" class="ft299130">Performance</p>
<p style="position:absolute;top:906px;left:85px;white-space:nowrap" class="ft299129"><b>Additional&#160;Information&#160;</b></p>
<p style="position:absolute;top:906px;left:302px;white-space:nowrap" class="ft299130">...&#160;Nice&#160;to&#160;have.&#160;Cover&#160;facts&#160;and&#160;information&#160;about&#160;the&#160;</p>
<p style="position:absolute;top:925px;left:213px;white-space:nowrap" class="ft299130">Virtual&#160;Machine&#160;which&#160;does&#160;not&#160;fit&#160;into&#160;the&#160;first&#160;section.&#160;</p>
<p style="position:absolute;top:953px;left:216px;white-space:nowrap" class="ft299130">•</p>
<p style="position:absolute;top:953px;left:269px;white-space:nowrap" class="ft299130">Operating&#160;System&#160;Compatibility</p>
<p style="position:absolute;top:980px;left:216px;white-space:nowrap" class="ft299130">•</p>
<p style="position:absolute;top:980px;left:269px;white-space:nowrap" class="ft299130">Installation&#160;Process</p>
<p style="position:absolute;top:1008px;left:216px;white-space:nowrap" class="ft299130">•</p>
<p style="position:absolute;top:1008px;left:269px;white-space:nowrap" class="ft299130">Distribution</p>
<p style="position:absolute;top:1036px;left:216px;white-space:nowrap" class="ft299130">•</p>
<p style="position:absolute;top:1036px;left:269px;white-space:nowrap" class="ft299130">Miscellaneous</p>
<p style="position:absolute;top:1081px;left:85px;white-space:nowrap" class="ft299132"><b>4.2.1.1&#160;License&#160;(Cost)&#160;</b></p>
<p style="position:absolute;top:1108px;left:85px;white-space:nowrap" class="ft299130">The&#160;planned&#160;work&#160;in&#160;OpenTC&#160;will&#160;require&#160;changes&#160;to&#160;major&#160;parts&#160;of&#160;the&#160;finally&#160;selected&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft299134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft299134">31/47</p>
<p style="position:absolute;top:607px;left:351px;white-space:nowrap" class="ft299107"><i>Figure&#160;3:&#160;Selection&#160;scheme</i></p>
</div>
<!-- Page 300 -->
<a name="300"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page300-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2300.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft30090">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft30080">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft300134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft300134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft300133">Virtual&#160;Machines&#160;(ClassLoader&#160;and&#160;the&#160;ClassVerification&#160;process)&#160;and&#160;the&#160;right&#160;to&#160;<br/>distribute&#160;the&#160;resulting&#160;(modified)&#160;Java&#160;Virtual&#160;Machines&#160;under&#160;the&#160;open&#160;source&#160;<br/>licenses.&#160;Thus&#160;the&#160;original&#160;Virtual&#160;Machines&#160;must&#160;also&#160;have&#160;been&#160;published&#160;under&#160;such&#160;<br/>licenses.<br/>There&#160;exist&#160;a&#160;lot&#160;of&#160;different&#160;OSS&#160;licenses.&#160;Many&#160;of&#160;them&#160;are&#160;only&#160;slightly&#160;different&#160;to&#160;<br/>others&#160;and&#160;it&#160;is&#160;really&#160;hard&#160;to&#160;know&#160;all&#160;of&#160;them&#160;in&#160;general&#160;and&#160;nearly&#160;impossible&#160;each&#160;<br/>of&#160;them&#160;in&#160;detail.&#160;To&#160;accelerate&#160;the&#160;process&#160;and&#160;to&#160;establish&#160;a&#160;clear&#160;line&#160;of&#160;decision&#160;<br/>this&#160;evaluation&#160;accepts&#160;the&#160;same&#160;licenses&#160;as&#160;the&#160;Sourceforge&#160;project&#160;<br/><a href="http://www.sourceforge.net/">(</a></p>
<p style="position:absolute;top:313px;left:92px;white-space:nowrap" class="ft300143"><a href="http://www.sourceforge.net/">www.sourceforge.net</a></p>
<p style="position:absolute;top:313px;left:268px;white-space:nowrap" class="ft300130"><a href="http://www.sourceforge.net/">)</a>&#160;does.&#160;</p>
<p style="position:absolute;top:359px;left:85px;white-space:nowrap" class="ft300132"><b>4.2.1.2&#160;Sourcecode&#160;Availability</b></p>
<p style="position:absolute;top:385px;left:85px;white-space:nowrap" class="ft300138">An&#160;important&#160;prerequisite&#160;for&#160;the&#160;modification&#160;of&#160;a&#160;selected&#160;Java&#160;Virtual&#160;Machine&#160;is&#160;the&#160;<br/>“physical”&#160;existence&#160;and&#160;fully&#160;granted&#160;access&#160;to&#160;all&#160;pieces&#160;of&#160;source&#160;code&#160;which&#160;are&#160;<br/>needed&#160;to&#160;build&#160;that&#160;special&#160;Virtual&#160;Machine.&#160;<br/>This&#160;means:&#160;<br/>•</p>
<p style="position:absolute;top:479px;left:126px;white-space:nowrap" class="ft300133">Full&#160;information&#160;about&#160;concrete&#160;location(s)&#160;where&#160;to&#160;get&#160;the&#160;code&#160;(e.g.&#160;via&#160;FTP&#160;<br/>(File&#160;Transfer&#160;Protocol),&#160;CVS(Concurrent&#160;Versions&#160;System&#160;),&#160;...)&#160;</p>
<p style="position:absolute;top:526px;left:85px;white-space:nowrap" class="ft300130">•</p>
<p style="position:absolute;top:526px;left:126px;white-space:nowrap" class="ft300130">Granted&#160;access&#160;to&#160;that&#160;location(s).&#160;</p>
<p style="position:absolute;top:554px;left:85px;white-space:nowrap" class="ft300130">•</p>
<p style="position:absolute;top:554px;left:126px;white-space:nowrap" class="ft300133">Complete&#160;set&#160;of&#160;tools,&#160;libraries,&#160;additional&#160;resources&#160;and&#160;information&#160;which&#160;is&#160;<br/>needed&#160;to&#160;build&#160;the&#160;concrete&#160;Virtual&#160;Machine.&#160;</p>
<p style="position:absolute;top:600px;left:85px;white-space:nowrap" class="ft300133">If&#160;one&#160;Virtual&#160;Machine&#160;in&#160;the&#160;evaluation&#160;process&#160;does&#160;not&#160;support&#160;this&#160;point&#160;in&#160;all&#160;<br/>details,&#160;the&#160;consequence&#160;is&#160;elimination&#160;from&#160;the&#160;further&#160;selection.</p>
<p style="position:absolute;top:665px;left:85px;white-space:nowrap" class="ft300132"><b>4.2.1.3&#160;Quality&#160;</b></p>
<p style="position:absolute;top:692px;left:85px;white-space:nowrap" class="ft300133">The&#160;basic&#160;parts&#160;of&#160;Java&#160;Virtual&#160;Machines&#160;are&#160;well&#160;defined&#160;and&#160;can&#160;easily&#160;be&#160;compared&#160;<br/>among&#160;each&#160;other.&#160;To&#160;make&#160;this&#160;comparison&#160;more&#160;expressive&#160;the&#160;general&#160;term&#160;<br/>“quality”&#160;is&#160;split&#160;into&#160;different,&#160;more&#160;detailed&#160;definitions&#160;which&#160;are&#160;of&#160;greater&#160;benefit&#160;<br/>for&#160;this&#160;evaluation.&#160;<br/>As&#160;already&#160;mentioned&#160;before&#160;(see&#160;on&#160;the&#160;previous&#160;page),&#160;the&#160;most&#160;important&#160;parts&#160;of&#160;<br/>the&#160;Java&#160;Virtual&#160;Machine&#160;for&#160;this&#160;project&#160;are&#160;the&#160;ClassLoader&#160;and&#160;the&#160;verification&#160;part&#160;<br/>of&#160;the&#160;linking&#160;process.&#160;<br/>This&#160;is&#160;also&#160;important&#160;for&#160;quality&#160;issues.&#160;Because&#160;of&#160;the&#160;exact&#160;knowledge&#160;where&#160;<br/>modifications&#160;will&#160;need&#160;take&#160;place&#160;this&#160;can&#160;be&#160;used&#160;for&#160;precise&#160;evaluation.&#160;That&#160;means&#160;<br/>that&#160;criteria&#160;like&#160;source&#160;code&#160;quality,&#160;coding&#160;conventions,&#160;.&#160;.&#160;.&#160;can&#160;be&#160;based&#160;on&#160;a&#160;<br/>limited&#160;set&#160;of&#160;source&#160;code&#160;files&#160;instead&#160;of&#160;checking&#160;the&#160;whole&#160;Virtual&#160;Machine.</p>
<p style="position:absolute;top:928px;left:85px;white-space:nowrap" class="ft300129"><b>Source&#160;code&#160;quality</b></p>
<p style="position:absolute;top:928px;left:270px;white-space:nowrap" class="ft300130">&#160;(implementation)&#160;</p>
<p style="position:absolute;top:956px;left:85px;white-space:nowrap" class="ft300133">Measures&#160;how&#160;good&#160;the&#160;programmer&#160;of&#160;a&#160;Virtual&#160;Machine&#160;utilized&#160;the&#160;programming&#160;<br/>language(s).&#160;Obfuscated&#160;code&#160;cannot&#160;be&#160;accepted!&#160;</p>
<p style="position:absolute;top:1008px;left:112px;white-space:nowrap" class="ft300140">●</p>
<p style="position:absolute;top:1003px;left:139px;white-space:nowrap" class="ft300130">Is&#160;it&#160;easy&#160;to&#160;read&#160;the&#160;source&#160;code?&#160;</p>
<p style="position:absolute;top:1035px;left:112px;white-space:nowrap" class="ft300140">●</p>
<p style="position:absolute;top:1031px;left:139px;white-space:nowrap" class="ft300130">Does&#160;the&#160;programming&#160;cover&#160;(all)&#160;the&#160;problems&#160;in&#160;a&#160;direct&#160;and&#160;simple&#160;way?&#160;</p>
<p style="position:absolute;top:1063px;left:112px;white-space:nowrap" class="ft300140">●</p>
<p style="position:absolute;top:1058px;left:139px;white-space:nowrap" class="ft300130">Is&#160;there&#160;a&#160;clear&#160;and&#160;structured&#160;way&#160;of&#160;programming&#160;visible?&#160;</p>
<p style="position:absolute;top:1086px;left:85px;white-space:nowrap" class="ft300129"><b>Programming&#160;Language&#160;</b></p>
<p style="position:absolute;top:1114px;left:85px;white-space:nowrap" class="ft300130">Points&#160;of&#160;interest&#160;are:&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft300134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft300134">32/47</p>
</div>
<!-- Page 301 -->
<a name="301"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page301-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2301.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft30190">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft30180">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft301134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft301134">DRAFT|1.0</p>
<p style="position:absolute;top:156px;left:143px;white-space:nowrap" class="ft301140">●</p>
<p style="position:absolute;top:151px;left:170px;white-space:nowrap" class="ft301133">Which&#160;languages&#160;are&#160;used&#160;by&#160;the&#160;Virtual&#160;Machine?&#160;There&#160;are&#160;no&#160;known&#160;<br/>restrictions&#160;selecting&#160;a&#160;programming&#160;language&#160;to&#160;implement&#160;a&#160;Java&#160;Virtual&#160;<br/>Machine.&#160;Nevertheless&#160;the&#160;interface&#160;to&#160;the&#160;operating&#160;system&#160;most&#160;of&#160;the&#160;<br/>time&#160;is&#160;written&#160;in&#160;a&#160;language&#160;used&#160;for&#160;programming&#160;the&#160;operating&#160;system&#160;<br/>itself&#160;(C,&#160;C++).&#160;</p>
<p style="position:absolute;top:260px;left:143px;white-space:nowrap" class="ft301140">●</p>
<p style="position:absolute;top:256px;left:170px;white-space:nowrap" class="ft301133">Is&#160;the&#160;Virtual&#160;Machine&#160;compatible&#160;to&#160;the&#160;TSS-API&#160;(Trusted&#160;Software&#160;Stack&#160;<br/>-API)&#160;or&#160;to&#160;jTSS&#160;(Java&#160;Trusted&#160;Software&#160;Stack)?&#160;The&#160;project&#160;uses&#160;the&#160;<br/>interfaces&#160;specified&#160;by&#160;OpenTC&#160;and&#160;offered&#160;in&#160;the&#160;the&#160;TSS-API&#160;(written&#160;in&#160;C)&#160;<br/>which&#160;has&#160;been&#160;made&#160;Java&#160;compatible&#160;using&#160;the&#160;jTSS&#160;wrapper.&#160;So&#160;the&#160;<br/>selected&#160;Java&#160;Virtual&#160;Machine&#160;should&#160;be&#160;written&#160;(at&#160;least&#160;the&#160;critical&#160;parts)&#160;in&#160;<br/>C&#160;or&#160;Java.&#160;</p>
<p style="position:absolute;top:379px;left:85px;white-space:nowrap" class="ft301129"><b>Coding&#160;Convention&#160;</b></p>
<p style="position:absolute;top:407px;left:85px;white-space:nowrap" class="ft301133">Code&#160;review,&#160;refactoring&#160;and&#160;upgrading&#160;are&#160;made&#160;easier&#160;by&#160;continuous&#160;usage&#160;of&#160;<br/>Coding&#160;Conventions.&#160;Nonetheless,&#160;a&#160;coding&#160;convention&#160;rule-set&#160;should&#160;be&#160;short&#160;and&#160;<br/>concise.&#160;Questions:&#160;</p>
<p style="position:absolute;top:477px;left:112px;white-space:nowrap" class="ft301140">●</p>
<p style="position:absolute;top:473px;left:139px;white-space:nowrap" class="ft301130">Is&#160;there&#160;any&#160;coding&#160;convention&#160;and&#160;is&#160;it&#160;declared&#160;in&#160;a&#160;clear&#160;way?&#160;</p>
<p style="position:absolute;top:505px;left:112px;white-space:nowrap" class="ft301140">●</p>
<p style="position:absolute;top:501px;left:139px;white-space:nowrap" class="ft301130">If&#160;one&#160;exists,&#160;is&#160;it&#160;the&#160;only&#160;one&#160;and&#160;is&#160;it&#160;valid&#160;for&#160;all&#160;pieces&#160;of&#160;code?&#160;</p>
<p style="position:absolute;top:528px;left:85px;white-space:nowrap" class="ft301129"><b>Documentation&#160;</b></p>
<p style="position:absolute;top:556px;left:85px;white-space:nowrap" class="ft301133">At&#160;least&#160;the&#160;crucial&#160;points&#160;of&#160;the&#160;Virtual&#160;Machine&#160;should&#160;be&#160;well&#160;documented.&#160;This&#160;<br/>includes:&#160;</p>
<p style="position:absolute;top:607px;left:112px;white-space:nowrap" class="ft301140">●</p>
<p style="position:absolute;top:603px;left:139px;white-space:nowrap" class="ft301130">Description&#160;of&#160;usage,&#160;restrictions,&#160;errors,&#160;known&#160;problems.&#160;</p>
<p style="position:absolute;top:635px;left:112px;white-space:nowrap" class="ft301140">●</p>
<p style="position:absolute;top:631px;left:139px;white-space:nowrap" class="ft301130">General&#160;description&#160;of&#160;functionality.&#160;</p>
<p style="position:absolute;top:663px;left:112px;white-space:nowrap" class="ft301140">●</p>
<p style="position:absolute;top:658px;left:139px;white-space:nowrap" class="ft301130">Source&#160;code&#160;documentation&#160;(methods,&#160;parameters,&#160;.&#160;.&#160;.)&#160;</p>
<p style="position:absolute;top:686px;left:85px;white-space:nowrap" class="ft301130">Again&#160;the&#160;main&#160;focus&#160;lies&#160;on&#160;</p>
<p style="position:absolute;top:686px;left:325px;white-space:nowrap" class="ft301129"><b>class&#160;loading&#160;</b></p>
<p style="position:absolute;top:686px;left:452px;white-space:nowrap" class="ft301130">and&#160;</p>
<p style="position:absolute;top:686px;left:488px;white-space:nowrap" class="ft301129"><b>verification</b></p>
<p style="position:absolute;top:686px;left:594px;white-space:nowrap" class="ft301130">.&#160;</p>
<p style="position:absolute;top:714px;left:85px;white-space:nowrap" class="ft301129"><b>Bug&#160;Management</b></p>
<p style="position:absolute;top:714px;left:249px;white-space:nowrap" class="ft301130">&#160;</p>
<p style="position:absolute;top:741px;left:85px;white-space:nowrap" class="ft301133">Error&#160;tracking,&#160;short&#160;response&#160;times&#160;to&#160;reported&#160;problems&#160;and&#160;transparent&#160;error&#160;<br/>information&#160;politics&#160;are&#160;examples&#160;for&#160;good&#160;work&#160;and&#160;may&#160;turn&#160;out&#160;to&#160;be&#160;important.&#160;</p>
<p style="position:absolute;top:788px;left:85px;white-space:nowrap" class="ft301129"><b>Security</b></p>
<p style="position:absolute;top:816px;left:85px;white-space:nowrap" class="ft301133">Since&#160;the&#160;VM&#160;will&#160;be&#160;part&#160;of&#160;a&#160;trusted&#160;system,&#160;quality&#160;of&#160;the&#160;software&#160;development&#160;is&#160;<br/>important&#160;for&#160;the&#160;level&#160;of&#160;security.&#160;&#160;While&#160;this&#160;may&#160;be&#160;difficult&#160;to&#160;evaluate,&#160;apparent&#160;<br/>lack&#160;of&#160;parameter&#160;handling,&#160;possibility&#160;of&#160;buffer&#160;overruns&#160;and&#160;other&#160;weaknesses&#160;will&#160;<br/>result&#160;in&#160;negative&#160;evaluation.</p>
<p style="position:absolute;top:901px;left:85px;white-space:nowrap" class="ft301129"><b>Completeness&#160;</b></p>
<p style="position:absolute;top:929px;left:85px;white-space:nowrap" class="ft301133">The&#160;complexity&#160;of&#160;the&#160;Java&#160;programming&#160;language&#160;is&#160;defined&#160;in&#160;the&#160;Java&#160;Language&#160;<br/>Specification<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#315">&#160;[JLS].</a>&#160;A&#160;Virtual&#160;Machine&#160;may&#160;implement&#160;just&#160;part&#160;of&#160;that&#160;set.&#160;For&#160;us&#160;a&#160;full&#160;<br/>implementation&#160;of&#160;Java&#160;1.4.2&#160;is&#160;desired.&#160;</p>
<p style="position:absolute;top:1013px;left:85px;white-space:nowrap" class="ft301132"><b>4.2.1.4&#160;Project&#160;Status&#160;</b></p>
<p style="position:absolute;top:1039px;left:85px;white-space:nowrap" class="ft301133">The&#160;state&#160;of&#160;the&#160;project&#160;informs&#160;about&#160;how&#160;far&#160;advanced&#160;the&#160;development&#160;process&#160;of&#160;<br/>an&#160;examined&#160;Virtual&#160;Machine&#160;is.&#160;Typically&#160;this&#160;information&#160;is&#160;available&#160;from&#160;the&#160;Virtual&#160;<br/>Machine&#160;website&#160;in&#160;different&#160;forms&#160;like&#160;“</p>
<p style="position:absolute;top:1078px;left:420px;white-space:nowrap" class="ft301105"><i>to&#160;do&#160;lists”</i></p>
<p style="position:absolute;top:1078px;left:509px;white-space:nowrap" class="ft301130">,&#160;</p>
<p style="position:absolute;top:1078px;left:520px;white-space:nowrap" class="ft301105"><i>error&#160;reports</i></p>
<p style="position:absolute;top:1078px;left:625px;white-space:nowrap" class="ft301130">,&#160;...&#160;In&#160;addition,&#160;</p>
<p style="position:absolute;top:1097px;left:85px;white-space:nowrap" class="ft301133">feedback&#160;by&#160;users&#160;on&#160;the&#160;actual&#160;and&#160;also&#160;past&#160;releases&#160;as&#160;well&#160;as&#160;reputation&#160;and&#160;<br/>distribution&#160;of&#160;the&#160;tested&#160;Virtual&#160;Machine&#160;will&#160;be&#160;verified..&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft301134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft301134">33/47</p>
</div>
<!-- Page 302 -->
<a name="302"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft302157{font-size:16px;font-family:JAAAAA+Arial;color:#000000;}
-->
</style>
<div id="page302-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2302.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft30290">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft30280">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft302134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft302134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft302133">Examples&#160;for&#160;project&#160;status&#160;ratings&#160;are&#160;experimental,&#160;buggy,&#160;alpha,&#160;beta,&#160;finished&#160;<br/>project,&#160;stable,&#160;productive&#160;or&#160;similar&#160;expressions.&#160;<br/>As&#160;an&#160;alternative&#160;approach&#160;the&#160;project&#160;status&#160;can&#160;be&#160;taken&#160;as&#160;an&#160;approximation&#160;from&#160;<br/>different&#160;measurements&#160;like&#160;the&#160;state&#160;of&#160;documentation,&#160;source&#160;code&#160;quality,&#160;error-<br/>proneness,&#160;....&#160;<br/>It&#160;is&#160;recommended&#160;to&#160;select&#160;a&#160;Java&#160;Virtual&#160;Machine&#160;which&#160;is&#160;in&#160;a&#160;finished&#160;or&#160;almost&#160;<br/>finished&#160;state.&#160;</p>
<p style="position:absolute;top:330px;left:85px;white-space:nowrap" class="ft302132"><b>4.2.1.5</b></p>
<p style="position:absolute;top:329px;left:160px;white-space:nowrap" class="ft302157"><b>Project&#160;Activity</b></p>
<p style="position:absolute;top:330px;left:275px;white-space:nowrap" class="ft302132"><b>&#160;</b></p>
<p style="position:absolute;top:356px;left:85px;white-space:nowrap" class="ft302130">The&#160;project&#160;activity&#160;criterion&#160;focuses&#160;on&#160;the&#160;following&#160;points:&#160;</p>
<p style="position:absolute;top:384px;left:85px;white-space:nowrap" class="ft302129"><b>Number&#160;of&#160;project&#160;members&#160;</b></p>
<p style="position:absolute;top:412px;left:170px;white-space:nowrap" class="ft302133">The&#160;more&#160;the&#160;better.&#160;This&#160;guarantees&#160;reachability,&#160;more&#160;critical&#160;work,&#160;less&#160;<br/>delay&#160;on&#160;questions,&#160;errors,&#160;.&#160;.&#160;.&#160;</p>
<p style="position:absolute;top:458px;left:85px;white-space:nowrap" class="ft302129"><b>Release&#160;intervals&#160;</b></p>
<p style="position:absolute;top:486px;left:170px;white-space:nowrap" class="ft302133">For&#160;example:&#160;if&#160;there&#160;is&#160;only&#160;one&#160;release&#160;every&#160;two&#160;years,&#160;the&#160;activity&#160;is&#160;low.&#160;<br/>But&#160;even&#160;though&#160;at&#160;first&#160;sight&#160;it&#160;seems&#160;to&#160;be&#160;very&#160;clear,&#160;this&#160;measurement&#160;<br/>should&#160;be&#160;rated&#160;carefully.&#160;Of&#160;course&#160;the&#160;number&#160;of&#160;releases&#160;can&#160;be&#160;higher&#160;<br/>with&#160;more&#160;project&#160;workers.&#160;But&#160;it&#160;needs&#160;to&#160;be&#160;checked&#160;if&#160;all&#160;releases&#160;are&#160;<br/>necessary&#160;and&#160;meaningful.&#160;</p>
<p style="position:absolute;top:591px;left:85px;white-space:nowrap" class="ft302129"><b>Speed&#160;of&#160;changes&#160;and&#160;updates&#160;-reaction&#160;time&#160;on&#160;errors&#160;</b></p>
<p style="position:absolute;top:618px;left:170px;white-space:nowrap" class="ft302133">This&#160;point&#160;can&#160;be&#160;important&#160;if&#160;some&#160;functionality&#160;is&#160;missing&#160;or&#160;a&#160;new&#160;bug&#160;is&#160;<br/>detected.&#160;</p>
<p style="position:absolute;top:665px;left:85px;white-space:nowrap" class="ft302133">Each&#160;investigated&#160;Java&#160;Virtual&#160;Machine&#160;is&#160;classified&#160;into&#160;one&#160;of&#160;four&#160;categories:&#160;<br/>extraordinary,&#160;good,&#160;normal,&#160;below&#160;requirements.&#160;<br/>Because&#160;the&#160;measurement&#160;of&#160;project&#160;activity&#160;is&#160;always&#160;a&#160;little&#160;vague&#160;there&#160;will&#160;be&#160;an&#160;<br/>explanation&#160;on&#160;each&#160;of&#160;the&#160;ratings,&#160;especially&#160;on&#160;the&#160;extreme&#160;ones.&#160;</p>
<p style="position:absolute;top:777px;left:85px;white-space:nowrap" class="ft302132"><b>4.2.1.6&#160;Performance</b></p>
<p style="position:absolute;top:803px;left:85px;white-space:nowrap" class="ft302133">Performance&#160;indicates&#160;the&#160;speed&#160;of&#160;Java&#160;code&#160;execution&#160;on&#160;a&#160;given&#160;Java&#160;Virtual&#160;<br/>Machine.&#160;<br/>It&#160;is&#160;clear&#160;that&#160;performance&#160;depends&#160;on&#160;the&#160;programming&#160;language&#160;the&#160;Virtual&#160;<br/>Machine&#160;is&#160;implemented&#160;in.&#160;Targeting&#160;a&#160;special&#160;niche&#160;may&#160;also&#160;influence&#160;performance.&#160;<br/>For&#160;example:&#160;A&#160;Java&#160;Virtual&#160;Machine&#160;including&#160;many&#160;additional&#160;helper&#160;functions&#160;for&#160;<br/>debugging&#160;purposes&#160;is&#160;probably&#160;much&#160;slower&#160;than&#160;without&#160;that&#160;methods.&#160;But&#160;focusing&#160;<br/>execution&#160;speed&#160;at&#160;all&#160;cost&#160;can&#160;involve&#160;that&#160;“additional”&#160;methods,&#160;for&#160;instance&#160;used&#160;<br/>for&#160;byte&#160;code&#160;verification&#160;(and&#160;as&#160;a&#160;consequence&#160;for&#160;security&#160;purposes),&#160;are&#160;not&#160;<br/>executed&#160;any&#160;more.&#160;In&#160;this&#160;case&#160;the&#160;speed&#160;gain&#160;could&#160;be&#160;bad&#160;for&#160;the&#160;goals&#160;of&#160;this&#160;<br/>project.&#160;<br/>Since&#160;performance&#160;currently&#160;is&#160;not&#160;a&#160;top&#160;priority,&#160;and&#160;since&#160;getting&#160;objective&#160;<br/>performance&#160;data&#160;itself&#160;is&#160;a&#160;difficult&#160;task,&#160;we&#160;decided&#160;to&#160;skip&#160;this&#160;evaluation&#160;for&#160;the&#160;<br/>time&#160;being.&#160;One&#160;benchmark<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#315">&#160;[SHUDO]&#160;</a>comparing&#160;only&#160;some&#160;of&#160;the&#160;selected&#160;Java&#160;Virtual&#160;<br/>Machines&#160;was&#160;found&#160;and&#160;therefore&#160;consulted.&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft302134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft302134">34/47</p>
</div>
<!-- Page 303 -->
<a name="303"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page303-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2303.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft30390">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft30380">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft303134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft303134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft303132"><b>4.2.1.7&#160;Operating&#160;System&#160;Compatibility&#160;</b></p>
<p style="position:absolute;top:178px;left:85px;white-space:nowrap" class="ft303133">This&#160;is&#160;another&#160;nice&#160;to&#160;have&#160;feature.&#160;Since&#160;Linux&#160;is&#160;the&#160;target&#160;operating&#160;system&#160;&#160;for&#160;<br/>OPEN_TC,&#160;availability&#160;for&#160;Linux&#160;is&#160;a&#160;must.&#160;If&#160;A&#160;VM&#160;supports&#160;other&#160;operating&#160;systems&#160;as&#160;<br/>well,&#160;this&#160;is&#160;noted.&#160;</p>
<p style="position:absolute;top:262px;left:85px;white-space:nowrap" class="ft303132"><b>4.2.1.8&#160;Installation&#160;Process&#160;</b></p>
<p style="position:absolute;top:288px;left:85px;white-space:nowrap" class="ft303138">While&#160;it&#160;is&#160;obviously&#160;comfortable&#160;to&#160;have&#160;a&#160;nice&#160;install&#160;tool,&#160;this&#160;is&#160;not&#160;necessary&#160;and&#160;<br/>does&#160;not&#160;influence&#160;the&#160;decision&#160;pro&#160;or&#160;against&#160;a&#160;Virtual&#160;Machine.&#160;<br/>Points&#160;which&#160;are&#160;noted:&#160;</p>
<p style="position:absolute;top:367px;left:112px;white-space:nowrap" class="ft303140">●</p>
<p style="position:absolute;top:363px;left:139px;white-space:nowrap" class="ft303130">Documentation&#160;</p>
<p style="position:absolute;top:395px;left:112px;white-space:nowrap" class="ft303140">●</p>
<p style="position:absolute;top:390px;left:139px;white-space:nowrap" class="ft303130">Tools&#160;</p>
<p style="position:absolute;top:423px;left:112px;white-space:nowrap" class="ft303140">●</p>
<p style="position:absolute;top:418px;left:139px;white-space:nowrap" class="ft303130">Dependency&#160;of&#160;Libraries.&#160;</p>
<p style="position:absolute;top:464px;left:85px;white-space:nowrap" class="ft303132"><b>4.2.1.9&#160;Distribution&#160;</b></p>
<p style="position:absolute;top:490px;left:85px;white-space:nowrap" class="ft303133">When&#160;there&#160;is&#160;any&#160;information&#160;about&#160;the&#160;available&#160;distributions&#160;this&#160;will&#160;be&#160;placed&#160;<br/>under&#160;this&#160;point.&#160;Of&#160;special&#160;interest&#160;is&#160;a&#160;connection&#160;to&#160;security&#160;related&#160;projects,&#160;and&#160;<br/>scientific&#160;or&#160;educational&#160;usage.&#160;</p>
<p style="position:absolute;top:574px;left:85px;white-space:nowrap" class="ft303132"><b>4.2.1.10&#160;Miscellaneous&#160;</b></p>
<p style="position:absolute;top:601px;left:85px;white-space:nowrap" class="ft303133">Additional&#160;features,&#160;information&#160;or&#160;properties&#160;are&#160;collected&#160;here.&#160;Also&#160;special&#160;remarks&#160;<br/>which&#160;do&#160;not&#160;match&#160;to&#160;any&#160;other&#160;criterion&#160;are&#160;noted&#160;here.&#160;</p>
<p style="position:absolute;top:666px;left:85px;white-space:nowrap" class="ft303137"><b>4.2.2&#160;&#160;Testing&#160;Environment</b></p>
<p style="position:absolute;top:696px;left:85px;white-space:nowrap" class="ft303133">For&#160;detailed&#160;examination&#160;of&#160;each&#160;Java&#160;Virtual&#160;Machine&#160;they&#160;will&#160;be&#160;downloaded&#160;in&#160;the&#160;<br/>latest&#160;available&#160;release.&#160;This&#160;download&#160;must&#160;include&#160;at&#160;least&#160;a&#160;stable&#160;source&#160;release&#160;<br/>(beta&#160;or&#160;better).&#160;Any&#160;additional&#160;resources&#160;which&#160;are&#160;necessary&#160;for&#160;running&#160;the&#160;Virtual&#160;<br/>Machine&#160;or&#160;something&#160;like&#160;helpful&#160;tools,&#160;documents&#160;etc.&#160;are&#160;downloaded,&#160;too.&#160;</p>
<p style="position:absolute;top:781px;left:88px;white-space:nowrap" class="ft303130">Operating&#160;System&#160;&#160;Debian&#160;Linux&#160;(Etch)&#160;&#160;</p>
<p style="position:absolute;top:800px;left:254px;white-space:nowrap" class="ft303130">Kernel&#160;version&#160;2.6.9&#160;build&#160;with&#160;gcc&#160;version&#160;3.4.2&#160;a&#160;</p>
<p style="position:absolute;top:828px;left:85px;white-space:nowrap" class="ft303130">Computer&#160;System&#160;&#160;IBM&#160;Thinkpad&#160;A31p,&#160;Intel&#160;Mobile&#160;Pentium&#160;4-M&#160;2.0GHz,&#160;1GB&#160;RAM,&#160;</p>
<p style="position:absolute;top:847px;left:254px;white-space:nowrap" class="ft303130">100GB&#160;HDD&#160;GNU</p>
<p style="position:absolute;top:875px;left:85px;white-space:nowrap" class="ft303130">Classpath&#160;Version&#160;installed:&#160;0.91-3&#160;latest:&#160;0.92&#160;(since&#160;09&#160;August&#160;2006)&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft303134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft303134">35/47</p>
</div>
<!-- Page 304 -->
<a name="304"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page304-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2304.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft30490">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft30480">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft304134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft304134">DRAFT|1.0</p>
<p style="position:absolute;top:637px;left:85px;white-space:nowrap" class="ft304136"><b>5&#160;</b></p>
<p style="position:absolute;top:634px;left:117px;white-space:nowrap" class="ft304137"><b>Complete&#160;list&#160;of&#160;Virtual&#160;Machines</b></p>
<p style="position:absolute;top:664px;left:85px;white-space:nowrap" class="ft304133">Remark:&#160;the&#160;descriptions&#160;are&#160;based&#160;on&#160;or&#160;copied&#160;from&#160;the&#160;website&#160;of&#160;the&#160;respective&#160;<br/>project.</p>
<p style="position:absolute;top:716px;left:89px;white-space:nowrap" class="ft304150">Name</p>
<p style="position:absolute;top:715px;left:234px;white-space:nowrap" class="ft304151">Source</p>
<p style="position:absolute;top:715px;left:378px;white-space:nowrap" class="ft304151">License</p>
<p style="position:absolute;top:715px;left:523px;white-space:nowrap" class="ft304151">Short&#160;Description</p>
<p style="position:absolute;top:753px;left:89px;white-space:nowrap" class="ft304151">Aegis</p>
<p style="position:absolute;top:753px;left:234px;white-space:nowrap" class="ft304154">The&#160;Aegis&#160;<br/>Project</p>
<p style="position:absolute;top:753px;left:378px;white-space:nowrap" class="ft304152">LGPL</p>
<p style="position:absolute;top:753px;left:523px;white-space:nowrap" class="ft304152">Lightweight,&#160;secure</p>
<p style="position:absolute;top:812px;left:89px;white-space:nowrap" class="ft304151">CACO</p>
<p style="position:absolute;top:812px;left:234px;white-space:nowrap" class="ft304152">TU&#160;Vienna</p>
<p style="position:absolute;top:812px;left:378px;white-space:nowrap" class="ft304152">GPL</p>
<p style="position:absolute;top:850px;left:89px;white-space:nowrap" class="ft304151">GCJ</p>
<p style="position:absolute;top:850px;left:234px;white-space:nowrap" class="ft304152">FSF</p>
<p style="position:absolute;top:850px;left:378px;white-space:nowrap" class="ft304152">GPL</p>
<p style="position:absolute;top:850px;left:523px;white-space:nowrap" class="ft304154">Java&#160;compiler&#160;out&#160;of&#160;the&#160;GCC&#160;<br/>(GNU&#160;Compiler&#160;Collection).&#160;<br/>Different&#160;approach&#160;for&#160;running&#160;<br/>Java&#160;code.&#160;</p>
<p style="position:absolute;top:951px;left:89px;white-space:nowrap" class="ft304151">IKVM.NET&#160;</p>
<p style="position:absolute;top:951px;left:234px;white-space:nowrap" class="ft304152">Jeroen&#160;Frijters&#160;&#160;zlib/libpng&#160;</p>
<p style="position:absolute;top:951px;left:523px;white-space:nowrap" class="ft304154">Java&#160;for&#160;Mono&#160;and&#160;Microsoft&#160;<br/>.NET&#160;</p>
<p style="position:absolute;top:1009px;left:89px;white-space:nowrap" class="ft304155">Open Runtime&#160;<br/>Platform&#160;</p>
<p style="position:absolute;top:1009px;left:234px;white-space:nowrap" class="ft304152">Intel&#160;Corp.&#160;</p>
<p style="position:absolute;top:1009px;left:378px;white-space:nowrap" class="ft304154">Intel&#160;Open&#160;<br/>Source&#160;License&#160;</p>
<p style="position:absolute;top:1009px;left:523px;white-space:nowrap" class="ft304154">research platform&#160;for&#160;<br/>academic&#160;use&#160;</p>
<p style="position:absolute;top:1068px;left:89px;white-space:nowrap" class="ft304151">JamVM&#160;</p>
<p style="position:absolute;top:1068px;left:234px;white-space:nowrap" class="ft304154">Robert&#160;<br/>Lougher&#160;</p>
<p style="position:absolute;top:1068px;left:378px;white-space:nowrap" class="ft304152">GPL</p>
<p style="position:absolute;top:1068px;left:523px;white-space:nowrap" class="ft304152">small,&#160;speed&#160;improved&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft304134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft304134">36/47</p>
<p style="position:absolute;top:591px;left:85px;white-space:nowrap" class="ft304107"><i>Listing&#160;2:&#160;loadClass&#160;method&#160;in&#160;J2SDK&#160;1.4.2-12</i></p>
</div>
<!-- Page 305 -->
<a name="305"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft305158{font-size:18px;line-height:20px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page305-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2305.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft30590">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft30580">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft305134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft305134">DRAFT|1.0</p>
<p style="position:absolute;top:156px;left:89px;white-space:nowrap" class="ft305150">Name</p>
<p style="position:absolute;top:155px;left:234px;white-space:nowrap" class="ft305151">Source</p>
<p style="position:absolute;top:155px;left:378px;white-space:nowrap" class="ft305151">License</p>
<p style="position:absolute;top:155px;left:523px;white-space:nowrap" class="ft305151">Short&#160;Description</p>
<p style="position:absolute;top:193px;left:89px;white-space:nowrap" class="ft305151">JanosVM&#160;</p>
<p style="position:absolute;top:193px;left:234px;white-space:nowrap" class="ft305154">University&#160;<br/>Utah&#160;</p>
<p style="position:absolute;top:193px;left:378px;white-space:nowrap" class="ft305152">GPL</p>
<p style="position:absolute;top:193px;left:523px;white-space:nowrap" class="ft305154">concentrates&#160;on safe&#160;<br/>asynchronous&#160;multi-threading&#160;</p>
<p style="position:absolute;top:252px;left:89px;white-space:nowrap" class="ft305151">JAOS&#160;</p>
<p style="position:absolute;top:252px;left:234px;white-space:nowrap" class="ft305152">ETH&#160;Zurich&#160;</p>
<p style="position:absolute;top:252px;left:378px;white-space:nowrap" class="ft305152">own&#160;license&#160;</p>
<p style="position:absolute;top:290px;left:89px;white-space:nowrap" class="ft305151">JC</p>
<p style="position:absolute;top:290px;left:234px;white-space:nowrap" class="ft305152">Archie&#160;Cobbs&#160;&#160;&#160;LGPL</p>
<p style="position:absolute;top:290px;left:523px;white-space:nowrap" class="ft305154">concentrates&#160;on fast execution&#160;<br/>via&#160;code&#160;analysis&#160;</p>
<p style="position:absolute;top:349px;left:89px;white-space:nowrap" class="ft305151">Jikes&#160;RVM&#160;</p>
<p style="position:absolute;top:349px;left:234px;white-space:nowrap" class="ft305152">IBM&#160;Corp.&#160;CPL&#160;&#160;GPL</p>
<p style="position:absolute;top:349px;left:523px;white-space:nowrap" class="ft305152">commonly&#160;used&#160;in research&#160;</p>
<p style="position:absolute;top:386px;left:89px;white-space:nowrap" class="ft305151">Jnode&#160;</p>
<p style="position:absolute;top:386px;left:234px;white-space:nowrap" class="ft305154">Ewout&#160;<br/>Prangsma&#160;</p>
<p style="position:absolute;top:386px;left:378px;white-space:nowrap" class="ft305152">LGPL</p>
<p style="position:absolute;top:386px;left:523px;white-space:nowrap" class="ft305154">complete&#160;Java&#160;operating&#160;<br/>system&#160;</p>
<p style="position:absolute;top:445px;left:89px;white-space:nowrap" class="ft305151">Jupiter&#160;</p>
<p style="position:absolute;top:445px;left:234px;white-space:nowrap" class="ft305154">University&#160;of&#160;<br/>Toronto&#160;</p>
<p style="position:absolute;top:445px;left:378px;white-space:nowrap" class="ft305152">GPL</p>
<p style="position:absolute;top:445px;left:523px;white-space:nowrap" class="ft305154">academic&#160;project,&#160;<br/>concentrates&#160;on scalability&#160;<br/>(cluster&#160;infrastructure)&#160;</p>
<p style="position:absolute;top:525px;left:89px;white-space:nowrap" class="ft305151">Kaffe&#160;</p>
<p style="position:absolute;top:525px;left:234px;white-space:nowrap" class="ft305154">Free&#160;Software&#160;<br/>Community&#160;<br/>Project</p>
<p style="position:absolute;top:525px;left:378px;white-space:nowrap" class="ft305152">GPL</p>
<p style="position:absolute;top:525px;left:523px;white-space:nowrap" class="ft305154">widely&#160;spread,&#160;well&#160;<br/>established&#160;</p>
<p style="position:absolute;top:605px;left:89px;white-space:nowrap" class="ft305151">kissme&#160;</p>
<p style="position:absolute;top:605px;left:234px;white-space:nowrap" class="ft305154">SourceForge&#160;<br/>project</p>
<p style="position:absolute;top:605px;left:378px;white-space:nowrap" class="ft305152">GPL</p>
<p style="position:absolute;top:605px;left:523px;white-space:nowrap" class="ft305154">mostly&#160;written&#160;in&#160;C, persistent&#160;<br/>storage&#160;</p>
<p style="position:absolute;top:664px;left:89px;white-space:nowrap" class="ft305151">LaTTe&#160;</p>
<p style="position:absolute;top:664px;left:234px;white-space:nowrap" class="ft305154">Seoul&#160;National&#160;<br/>University&#160;</p>
<p style="position:absolute;top:664px;left:378px;white-space:nowrap" class="ft305152">similar&#160;to&#160;BSD&#160;&#160;research project,&#160;concentrates&#160;</p>
<p style="position:absolute;top:685px;left:523px;white-space:nowrap" class="ft305154">on fast JIT&#160;(Just In&#160;Time)&#160;<br/>compilation&#160;on RISC&#160;machines&#160;</p>
<p style="position:absolute;top:743px;left:89px;white-space:nowrap" class="ft305151">LeJOS</p>
<p style="position:absolute;top:743px;left:234px;white-space:nowrap" class="ft305152">Sourceforge&#160;</p>
<p style="position:absolute;top:743px;left:378px;white-space:nowrap" class="ft305152">LGPL</p>
<p style="position:absolute;top:743px;left:523px;white-space:nowrap" class="ft305154">very&#160;small&#160;(&lt;&#160;32kb),&#160;for&#160;LEGO&#160;<br/>Mindstorms&#160;RCX&#160;</p>
<p style="position:absolute;top:802px;left:89px;white-space:nowrap" class="ft305151">SableVM</p>
<p style="position:absolute;top:802px;left:234px;white-space:nowrap" class="ft305152">Free&#160;software&#160;&#160;LGPL</p>
<p style="position:absolute;top:802px;left:523px;white-space:nowrap" class="ft305154">small,&#160;fast, efficient,&#160;easy&#160;<br/>portable&#160;</p>
<p style="position:absolute;top:861px;left:89px;white-space:nowrap" class="ft305151">teasme&#160;</p>
<p style="position:absolute;top:861px;left:234px;white-space:nowrap" class="ft305152">Sourceforge&#160;</p>
<p style="position:absolute;top:861px;left:378px;white-space:nowrap" class="ft305152">GPL</p>
<p style="position:absolute;top:861px;left:523px;white-space:nowrap" class="ft305158">runs&#160;in&#160;an adapted&#160;Linux&#160;<br/>kernel&#160;</p>
<p style="position:absolute;top:961px;left:85px;white-space:nowrap" class="ft305129"><b>5.1&#160;Apparently&#160;Dead&#160;Projects</b></p>
<p style="position:absolute;top:994px;left:89px;white-space:nowrap" class="ft305151">Name</p>
<p style="position:absolute;top:994px;left:234px;white-space:nowrap" class="ft305151">Source</p>
<p style="position:absolute;top:994px;left:378px;white-space:nowrap" class="ft305151">License</p>
<p style="position:absolute;top:994px;left:523px;white-space:nowrap" class="ft305151">Short&#160;Description</p>
<p style="position:absolute;top:1031px;left:89px;white-space:nowrap" class="ft305151">Chockcino&#160;</p>
<p style="position:absolute;top:1031px;left:234px;white-space:nowrap" class="ft305152">N/A</p>
<p style="position:absolute;top:1031px;left:378px;white-space:nowrap" class="ft305152">Announced</p>
<p style="position:absolute;top:1031px;left:523px;white-space:nowrap" class="ft305152">for&#160;RISC&#160;OS&#160;and&#160;ARMLinux&#160;</p>
<p style="position:absolute;top:1069px;left:89px;white-space:nowrap" class="ft305151">ElectricalFire&#160;</p>
<p style="position:absolute;top:1069px;left:234px;white-space:nowrap" class="ft305152">Mozilla&#160;</p>
<p style="position:absolute;top:1069px;left:378px;white-space:nowrap" class="ft305152">MPL</p>
<p style="position:absolute;top:1069px;left:523px;white-space:nowrap" class="ft305152">performance&#160;oriented&#160;</p>
<p style="position:absolute;top:1107px;left:89px;white-space:nowrap" class="ft305151">IBM&#160;Jalapeño&#160;</p>
<p style="position:absolute;top:1107px;left:234px;white-space:nowrap" class="ft305152">IBM&#160;Research&#160;&#160;Non&#160;free</p>
<p style="position:absolute;top:1107px;left:523px;white-space:nowrap" class="ft305152">For&#160;Java&#160;Servers,&#160;written&#160;in&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft305134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft305134">37/47</p>
</div>
<!-- Page 306 -->
<a name="306"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page306-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2306.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft30690">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft30680">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft306134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft306134">DRAFT|1.0</p>
<p style="position:absolute;top:155px;left:89px;white-space:nowrap" class="ft306151">Name</p>
<p style="position:absolute;top:155px;left:234px;white-space:nowrap" class="ft306151">Source</p>
<p style="position:absolute;top:155px;left:378px;white-space:nowrap" class="ft306151">License</p>
<p style="position:absolute;top:155px;left:523px;white-space:nowrap" class="ft306151">Short&#160;Description</p>
<p style="position:absolute;top:193px;left:523px;white-space:nowrap" class="ft306152">Java</p>
<p style="position:absolute;top:231px;left:89px;white-space:nowrap" class="ft306151">KaffePC&#160;</p>
<p style="position:absolute;top:231px;left:234px;white-space:nowrap" class="ft306152">N/A</p>
<p style="position:absolute;top:231px;left:378px;white-space:nowrap" class="ft306152">N/A</p>
<p style="position:absolute;top:231px;left:523px;white-space:nowrap" class="ft306154">Virtual&#160;Machine&#160;based&#160;on&#160;<br/>Kaffee</p>
<p style="position:absolute;top:331px;left:85px;white-space:nowrap" class="ft306129"><b>5.2&#160;Not&#160;applicable&#160;VMs</b></p>
<p style="position:absolute;top:359px;left:85px;white-space:nowrap" class="ft306133">The&#160;following&#160;VMs&#160;have&#160;been&#160;excluded&#160;because&#160;they&#160;seem&#160;not&#160;to&#160;be&#160;suitable&#160;for&#160;the&#160;<br/>target&#160;platforms&#160;used&#160;in&#160;OpenTC.</p>
<p style="position:absolute;top:438px;left:89px;white-space:nowrap" class="ft306151">Name</p>
<p style="position:absolute;top:438px;left:234px;white-space:nowrap" class="ft306151">Source</p>
<p style="position:absolute;top:438px;left:378px;white-space:nowrap" class="ft306151">Short&#160;Description</p>
<p style="position:absolute;top:476px;left:89px;white-space:nowrap" class="ft306151">CEE-J&#160;&#160;</p>
<p style="position:absolute;top:476px;left:234px;white-space:nowrap" class="ft306152">Skelmir&#160;</p>
<p style="position:absolute;top:476px;left:378px;white-space:nowrap" class="ft306154">Fast&#160;Virtual&#160;Machine&#160;for&#160;the&#160;embedded&#160;<br/>market.&#160;</p>
<p style="position:absolute;top:535px;left:89px;white-space:nowrap" class="ft306151">Superwaba&#160;</p>
<p style="position:absolute;top:535px;left:234px;white-space:nowrap" class="ft306152">Superwaba&#160;</p>
<p style="position:absolute;top:535px;left:378px;white-space:nowrap" class="ft306152">Virtual&#160;Machine&#160;for&#160;PDA&#160;</p>
<p style="position:absolute;top:573px;left:89px;white-space:nowrap" class="ft306155">Intent&#160;Java&#160;<br/>Technology&#160;<br/>Edition&#160;</p>
<p style="position:absolute;top:573px;left:234px;white-space:nowrap" class="ft306152">&#160;</p>
<p style="position:absolute;top:573px;left:378px;white-space:nowrap" class="ft306154">includes&#160;a&#160;Java&#160;VM&#160;using&#160;to&#160;be&#160;used&#160;on low&#160;<br/>end&#160;embedded&#160;devices&#160;</p>
<p style="position:absolute;top:652px;left:89px;white-space:nowrap" class="ft306151">IPJV&#160;&#160;</p>
<p style="position:absolute;top:652px;left:378px;white-space:nowrap" class="ft306152">Embedded&#160;virtual&#160;machine, designed&#160;for&#160;J2ME</p>
<p style="position:absolute;top:690px;left:89px;white-space:nowrap" class="ft306151">Jeode&#160;</p>
<p style="position:absolute;top:690px;left:234px;white-space:nowrap" class="ft306152">Insignia</p>
<p style="position:absolute;top:690px;left:378px;white-space:nowrap" class="ft306154">Java&#160;virtual&#160;machine&#160;environment&#160;tailored&#160;for&#160;<br/>embedded&#160;devices&#160;</p>
<p style="position:absolute;top:749px;left:89px;white-space:nowrap" class="ft306151">PERC&#160;</p>
<p style="position:absolute;top:749px;left:378px;white-space:nowrap" class="ft306154">clean-room&#160;JVM&#160;expressly&#160;created&#160;for&#160;<br/>demanding&#160;embedded&#160;systems&#160;</p>
<p style="position:absolute;top:808px;left:89px;white-space:nowrap" class="ft306151">pVM&#160;</p>
<p style="position:absolute;top:808px;left:378px;white-space:nowrap" class="ft306154">full&#160;function&#160;Java-compliant&#160;Virtual&#160;Machine&#160;<br/>(32K&#160;in byte&#160;size, and&#160;even smaller&#160;for&#160;<br/>JavaCardVM)&#160;which&#160;runs&#160;without&#160;an operating&#160;<br/>system</p>
<p style="position:absolute;top:909px;left:89px;white-space:nowrap" class="ft306151">savaJe&#160;</p>
<p style="position:absolute;top:909px;left:378px;white-space:nowrap" class="ft306154">&#160;32-bit&#160;multi-tasking,&#160;multi-threading&#160;<br/>operating&#160;system&#160;with&#160;integrated&#160;1.3&#160;J2SE&#160;<br/>(virtual&#160;machine&#160;and&#160;runtime&#160;library)&#160;</p>
<p style="position:absolute;top:988px;left:89px;white-space:nowrap" class="ft306151">simpleRTJ&#160;</p>
<p style="position:absolute;top:988px;left:378px;white-space:nowrap" class="ft306154">simple&#160;Real-Time-Java:&#160;for&#160;the&#160;small&#160;<br/>embedded&#160;and&#160;consumer&#160;devices&#160;is&#160;a&#160;clean&#160;<br/>room&#160;implementation&#160;of&#160;the&#160;Java&#160;Virtual&#160;<br/>Machine&#160;that&#160;has&#160;been specifically&#160;designed&#160;to&#160;<br/>run&#160;on&#160;devices&#160;with&#160;the&#160;small&#160;amount of&#160;<br/>system&#160;memory&#160;(from&#160;as&#160;low&#160;as&#160;48KB)</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft306134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft306134">38/47</p>
</div>
<!-- Page 307 -->
<a name="307"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft307159{font-size:18px;font-family:IAAAAA+BitstreamVeraSans;color:#ffffff;}
	.ft307160{font-size:16px;font-family:KAAAAA+Perpetua;color:#ffffff;}
-->
</style>
<div id="page307-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2307.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft30790">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft30780">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft307134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft307134">DRAFT|1.0</p>
<p style="position:absolute;top:155px;left:89px;white-space:nowrap" class="ft307151">Name</p>
<p style="position:absolute;top:155px;left:234px;white-space:nowrap" class="ft307151">Source</p>
<p style="position:absolute;top:155px;left:378px;white-space:nowrap" class="ft307151">Short&#160;Description</p>
<p style="position:absolute;top:193px;left:89px;white-space:nowrap" class="ft307155">TINITiny&#160;<br/>InterNet&#160;<br/>Interface</p>
<p style="position:absolute;top:193px;left:378px;white-space:nowrap" class="ft307154">a&#160;combination&#160;of&#160;a&#160;small&#160;but powerful&#160;chipset&#160;<br/>and&#160;a&#160;Java&#160;programmable&#160;runtime&#160;<br/>environment.&#160;The&#160;chipset provides&#160;processing,&#160;<br/>control,&#160;device-level&#160;communication&#160;and&#160;<br/>networking&#160;capabilities&#160;</p>
<p style="position:absolute;top:315px;left:89px;white-space:nowrap" class="ft307151">TinyVM&#160;</p>
<p style="position:absolute;top:315px;left:378px;white-space:nowrap" class="ft307154">open&#160;source&#160;Java&#160;based&#160;replacement firmware&#160;<br/>for&#160;the&#160;Lego&#160;Mindstorms&#160;RCX&#160;microcontroller.&#160;<br/>The&#160;RCX&#160;is&#160;a&#160;programmable&#160;brick&#160;that comes&#160;<br/>with&#160;Lego’s&#160;Robotics&#160;Invention&#160;System</p>
<p style="position:absolute;top:430px;left:85px;white-space:nowrap" class="ft307129"><b>5.3&#160;Summarized&#160;examination&#160;results&#160;</b></p>
<p style="position:absolute;top:458px;left:85px;white-space:nowrap" class="ft307133">The&#160;following&#160;list&#160;contains&#160;projects&#160;that&#160;have&#160;been&#160;excluded&#160;from&#160;further&#160;investigation.&#160;<br/>The&#160;reasons&#160;for&#160;excluding&#160;them&#160;are&#160;given.&#160;<br/>Remark:&#160;the&#160;descriptions&#160;are&#160;based&#160;on&#160;or&#160;copied&#160;from&#160;the&#160;website&#160;of&#160;the&#160;respective&#160;<br/>project.</p>
<p style="position:absolute;top:569px;left:85px;white-space:nowrap" class="ft307137"><b>5.3.1&#160;Aegis</b></p>
<p style="position:absolute;top:604px;left:89px;white-space:nowrap" class="ft307159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:604px;left:166px;white-space:nowrap" class="ft307151">&#160;</p>
<p style="position:absolute;top:604px;left:359px;white-space:nowrap" class="ft307159"><i><b>Results</b></i></p>
<p style="position:absolute;top:645px;left:89px;white-space:nowrap" class="ft307160"><i>Homepage</i></p>
<p style="position:absolute;top:641px;left:142px;white-space:nowrap" class="ft307151">&#160;&#160;</p>
<p style="position:absolute;top:641px;left:359px;white-space:nowrap" class="ft307152">http://aegisvm.sourceforge.net/&#160;</p>
<p style="position:absolute;top:680px;left:89px;white-space:nowrap" class="ft307151">Description</p>
<p style="position:absolute;top:680px;left:359px;white-space:nowrap" class="ft307154">Open&#160;source&#160;Virtual&#160;Machine&#160;with&#160;an effort&#160;to&#160;<br/>make&#160;a&#160;lightweight&#160;and&#160;secure&#160;solution&#160;<br/>available.&#160;A&#160;special&#160;feature&#160;is&#160;the&#160;Pluggable&#160;<br/>Verification&#160;Module&#160;Facility&#160;which&#160;allows&#160;<br/>developers&#160;dynamic&#160;linking&#160;of&#160;Java&#160;specific&#160;<br/>pluggable&#160;verification&#160;modules&#160;or&#160;other&#160;byte&#160;<br/>code&#160;analyzers.&#160;</p>
<p style="position:absolute;top:844px;left:89px;white-space:nowrap" class="ft307151">Reasons&#160;for&#160;rejection</p>
<p style="position:absolute;top:850px;left:386px;white-space:nowrap" class="ft307140">●</p>
<p style="position:absolute;top:844px;left:413px;white-space:nowrap" class="ft307154">no&#160;current&#160;information&#160;(last entry&#160;in mail-<br/>list&#160;from&#160;may&#160;2003)</p>
<p style="position:absolute;top:900px;left:386px;white-space:nowrap" class="ft307140">●</p>
<p style="position:absolute;top:895px;left:413px;white-space:nowrap" class="ft307154">uses&#160;outdated&#160;version&#160;of&#160;&#160;classpath&#160;<br/>libraries</p>
<p style="position:absolute;top:967px;left:85px;white-space:nowrap" class="ft307137"><b>5.3.2&#160;Chockcino</b></p>
<p style="position:absolute;top:1001px;left:89px;white-space:nowrap" class="ft307159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:1001px;left:166px;white-space:nowrap" class="ft307151">&#160;</p>
<p style="position:absolute;top:1001px;left:359px;white-space:nowrap" class="ft307159"><i><b>Results</b></i></p>
<p style="position:absolute;top:1043px;left:89px;white-space:nowrap" class="ft307160"><i>Homepage</i></p>
<p style="position:absolute;top:1039px;left:142px;white-space:nowrap" class="ft307151">&#160;&#160;</p>
<p style="position:absolute;top:1039px;left:359px;white-space:nowrap" class="ft307154">&#160;http://chocky.mine.nu/Java/,&#160;<br/>http://www.chocky.org/Java/&#160;</p>
<p style="position:absolute;top:1098px;left:89px;white-space:nowrap" class="ft307151">Description</p>
<p style="position:absolute;top:1098px;left:359px;white-space:nowrap" class="ft307152">No&#160;current&#160;information&#160;available!</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft307134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft307134">39/47</p>
</div>
<!-- Page 308 -->
<a name="308"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page308-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2308.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft30890">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft30880">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft308134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft308134">DRAFT|1.0</p>
<p style="position:absolute;top:155px;left:89px;white-space:nowrap" class="ft308159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:155px;left:166px;white-space:nowrap" class="ft308151">&#160;</p>
<p style="position:absolute;top:155px;left:359px;white-space:nowrap" class="ft308159"><i><b>Results</b></i></p>
<p style="position:absolute;top:193px;left:89px;white-space:nowrap" class="ft308151">Reasons&#160;for&#160;rejection</p>
<p style="position:absolute;top:199px;left:386px;white-space:nowrap" class="ft308140">●</p>
<p style="position:absolute;top:193px;left:413px;white-space:nowrap" class="ft308152">no&#160;current&#160; information&#160;</p>
<p style="position:absolute;top:228px;left:386px;white-space:nowrap" class="ft308140">●</p>
<p style="position:absolute;top:223px;left:413px;white-space:nowrap" class="ft308154">dead&#160;links&#160;(no&#160;downloads&#160;available,&#160;no&#160;<br/>tests&#160;applicable)&#160;</p>
<p style="position:absolute;top:279px;left:386px;white-space:nowrap" class="ft308140">●</p>
<p style="position:absolute;top:273px;left:413px;white-space:nowrap" class="ft308152">Java&#160;1.1&#160;</p>
<p style="position:absolute;top:308px;left:386px;white-space:nowrap" class="ft308140">●</p>
<p style="position:absolute;top:302px;left:413px;white-space:nowrap" class="ft308152">concentrates&#160;on&#160;RISC&#160;</p>
<p style="position:absolute;top:338px;left:386px;white-space:nowrap" class="ft308140">●</p>
<p style="position:absolute;top:332px;left:413px;white-space:nowrap" class="ft308152">no&#160;free&#160;license&#160;available</p>
<p style="position:absolute;top:384px;left:85px;white-space:nowrap" class="ft308137"><b>5.3.3&#160;ElectricalFire&#160;</b></p>
<p style="position:absolute;top:418px;left:89px;white-space:nowrap" class="ft308159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:418px;left:166px;white-space:nowrap" class="ft308151">&#160;</p>
<p style="position:absolute;top:418px;left:359px;white-space:nowrap" class="ft308159"><i><b>Results</b></i></p>
<p style="position:absolute;top:459px;left:89px;white-space:nowrap" class="ft308160"><i>Homepage</i></p>
<p style="position:absolute;top:456px;left:142px;white-space:nowrap" class="ft308151">&#160;&#160;</p>
<p style="position:absolute;top:456px;left:359px;white-space:nowrap" class="ft308152">&#160;http://www.mozilla.org/projects/ef/&#160;</p>
<p style="position:absolute;top:494px;left:89px;white-space:nowrap" class="ft308151">Description</p>
<p style="position:absolute;top:494px;left:359px;white-space:nowrap" class="ft308154">Designed&#160;for&#160;performance.&#160;Uses&#160;just in&#160;time&#160;<br/>compilation&#160;techniques&#160;for&#160;acceleration.&#160;Internal&#160;<br/>project&#160;team&#160;disbanded&#160;due&#160;to&#160;a&#160;strategic&#160;shift&#160;<br/>in&#160;January&#160;1998.&#160;Made&#160;publicly&#160;available&#160;on&#160;<br/>mozilla.org&#160;in&#160;January&#160;1999&#160;and&#160;now&#160;runs&#160;under&#160;<br/>the&#160;open&#160;source&#160;Netscape&#160;Public&#160;License&#160;which&#160;<br/>seems&#160;to&#160;be&#160;the&#160;same&#160;as&#160;the&#160;Mozilla&#160;Public&#160;<br/>License(&#160;on page&#160;61).Works&#160;on&#160;x86&#160;Linux&#160;and&#160;<br/>Windows&#160;95/98/NT.&#160;Several&#160;processor&#160;<br/>architectures&#160;are&#160;supported.&#160;</p>
<p style="position:absolute;top:721px;left:89px;white-space:nowrap" class="ft308151">Reasons&#160;for&#160;rejection</p>
<p style="position:absolute;top:727px;left:386px;white-space:nowrap" class="ft308140">●</p>
<p style="position:absolute;top:721px;left:413px;white-space:nowrap" class="ft308152">&#160;</p>
<p style="position:absolute;top:721px;left:444px;white-space:nowrap" class="ft308152">supports&#160;only&#160;up&#160;to&#160;JDK&#160;1.2&#160;</p>
<p style="position:absolute;top:757px;left:386px;white-space:nowrap" class="ft308140">●</p>
<p style="position:absolute;top:751px;left:413px;white-space:nowrap" class="ft308152">&#160;</p>
<p style="position:absolute;top:751px;left:444px;white-space:nowrap" class="ft308152">latest official&#160;“news”&#160;are&#160;dated&#160;to&#160;1999&#160;</p>
<p style="position:absolute;top:786px;left:386px;white-space:nowrap" class="ft308140">●</p>
<p style="position:absolute;top:780px;left:413px;white-space:nowrap" class="ft308152">&#160;</p>
<p style="position:absolute;top:780px;left:444px;white-space:nowrap" class="ft308152">still&#160;under&#160;construction&#160;(even for&#160;JDK&#160;</p>
<p style="position:absolute;top:801px;left:413px;white-space:nowrap" class="ft308152">1.2)&#160;</p>
<p style="position:absolute;top:880px;left:85px;white-space:nowrap" class="ft308137"><b>5.3.4&#160;GCJ&#160;</b></p>
<p style="position:absolute;top:915px;left:89px;white-space:nowrap" class="ft308159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:915px;left:166px;white-space:nowrap" class="ft308151">&#160;</p>
<p style="position:absolute;top:915px;left:359px;white-space:nowrap" class="ft308159"><i><b>Results</b></i></p>
<p style="position:absolute;top:956px;left:89px;white-space:nowrap" class="ft308160"><i>Homepage</i></p>
<p style="position:absolute;top:952px;left:142px;white-space:nowrap" class="ft308151">&#160;&#160;</p>
<p style="position:absolute;top:952px;left:359px;white-space:nowrap" class="ft308152">http://gcc.gnu.org/Java/index.html&#160;</p>
<p style="position:absolute;top:991px;left:89px;white-space:nowrap" class="ft308151">Description</p>
<p style="position:absolute;top:991px;left:359px;white-space:nowrap" class="ft308154">GCJ(GNU&#160;Compiler&#160;for&#160;the&#160;Java&#160;Programming&#160;<br/>Language)&#160;itself&#160;is&#160;a&#160;compiler&#160;for&#160;the&#160;Java&#160;<br/>programming&#160;language.&#160;It follows&#160;a&#160;slightly&#160;<br/>different&#160;approach&#160;fur&#160;running&#160;Java&#160;applications.&#160;<br/>Java&#160;source&#160;code&#160;has&#160;to&#160;be&#160;compiled&#160;with&#160;GCJ&#160;<br/>and&#160;afterwards&#160;it&#160;has&#160;to&#160;be&#160;linked&#160;with&#160;the&#160;GCJ&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft308134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft308134">40/47</p>
</div>
<!-- Page 309 -->
<a name="309"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft309161{font-size:18px;line-height:29px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page309-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2309.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft30990">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft30980">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft309134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft309134">DRAFT|1.0</p>
<p style="position:absolute;top:155px;left:89px;white-space:nowrap" class="ft309159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:155px;left:166px;white-space:nowrap" class="ft309151">&#160;</p>
<p style="position:absolute;top:155px;left:359px;white-space:nowrap" class="ft309159"><i><b>Results</b></i></p>
<p style="position:absolute;top:193px;left:359px;white-space:nowrap" class="ft309154">runtime&#160;(libgcj)&#160;which&#160;provides&#160;the&#160;remaining&#160;<br/>functionality&#160;of&#160;a&#160;Java&#160;Virtual&#160;Machine&#160;<br/>(ClassLoader,&#160;garbage&#160;collector,&#160;...).&#160;<br/>Applets&#160;are&#160;not&#160;fully&#160;supported&#160;by&#160;now!&#160;But even&#160;<br/>though&#160;the&#160;implementation&#160;of&#160;Java.applet seems&#160;<br/>to&#160;be&#160;nearly&#160;complete,&#160;the&#160;GCJ&#160;lacks&#160;a&#160;functional&#160;<br/>AWT.&#160;<br/>The&#160;compiler&#160;is&#160;under&#160;GPL, but&#160;other&#160;<br/>components&#160;(e.g. the&#160;runtime&#160;libraries)&#160;are&#160;<br/>under&#160;various&#160;free&#160;licenses&#160;(copyrights&#160;held&#160;by&#160;<br/>individuals).</p>
<p style="position:absolute;top:458px;left:89px;white-space:nowrap" class="ft309151">Reasons&#160;for&#160;rejection</p>
<p style="position:absolute;top:464px;left:386px;white-space:nowrap" class="ft309140">●</p>
<p style="position:absolute;top:458px;left:413px;white-space:nowrap" class="ft309152">&#160;no&#160;full&#160;support&#160;for&#160;Java&#160;Applets&#160;</p>
<p style="position:absolute;top:493px;left:386px;white-space:nowrap" class="ft309140">●</p>
<p style="position:absolute;top:487px;left:413px;white-space:nowrap" class="ft309154">&#160;GCJ&#160;supports&#160;only&#160;most of&#160;the&#160;JDK&#160;1.1&#160;<br/>language&#160;features&#160;</p>
<p style="position:absolute;top:544px;left:386px;white-space:nowrap" class="ft309140">●</p>
<p style="position:absolute;top:538px;left:413px;white-space:nowrap" class="ft309154">&#160;the&#160;compound&#160;of&#160;GCJ&#160;and&#160;libgcj&#160;are&#160;not&#160;<br/>exactly&#160;a&#160;JavaVirtual&#160;Machine&#160;</p>
<p style="position:absolute;top:594px;left:386px;white-space:nowrap" class="ft309140">●</p>
<p style="position:absolute;top:588px;left:413px;white-space:nowrap" class="ft309154">GCC&#160;is&#160;a&#160;big&#160;project&#160;and&#160;it probably&#160;takes&#160;<br/>a&#160;lot&#160;of&#160;configuration&#160;and&#160;maintenance&#160;<br/>beside&#160;the&#160;parts&#160;that would&#160;be&#160;important&#160;<br/>for&#160;this&#160;project.</p>
<p style="position:absolute;top:731px;left:85px;white-space:nowrap" class="ft309137"><b>5.3.5&#160;IBM&#160;Jalapeño&#160;</b></p>
<p style="position:absolute;top:765px;left:89px;white-space:nowrap" class="ft309159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:765px;left:166px;white-space:nowrap" class="ft309151">&#160;</p>
<p style="position:absolute;top:765px;left:359px;white-space:nowrap" class="ft309159"><i><b>Results</b></i></p>
<p style="position:absolute;top:806px;left:89px;white-space:nowrap" class="ft309160"><i>Homepage</i></p>
<p style="position:absolute;top:803px;left:142px;white-space:nowrap" class="ft309151">&#160;&#160;</p>
<p style="position:absolute;top:803px;left:359px;white-space:nowrap" class="ft309152">http://www.research.ibm.com/jalapeno/&#160;</p>
<p style="position:absolute;top:841px;left:89px;white-space:nowrap" class="ft309151">Description</p>
<p style="position:absolute;top:841px;left:359px;white-space:nowrap" class="ft309154">Written&#160;in Java&#160;and&#160;designed&#160;for&#160;Java&#160;servers,&#160;<br/>this&#160;non&#160;free&#160;project&#160;was&#160;promoted&#160;in October&#160;<br/>2001&#160;to&#160;the&#160;open source&#160;Jikes&#160;ResearchVirtual&#160;<br/>Machine&#160;(RVM)&#160;<a href="http://jikesrvm.sourceforge.net/">(</a></p>
<p style="position:absolute;top:904px;left:508px;white-space:nowrap" class="ft309153"><a href="http://jikesrvm.sourceforge.net/">http://jikesrvm.sourceforge.net/</a></p>
<p style="position:absolute;top:904px;left:794px;white-space:nowrap" class="ft309152"><a href="http://jikesrvm.sourceforge.net/">)</a>&#160;</p>
<p style="position:absolute;top:925px;left:359px;white-space:nowrap" class="ft309152">which&#160;also&#160;gets&#160;evaluated&#160;in&#160;this&#160;project</p>
<p style="position:absolute;top:963px;left:89px;white-space:nowrap" class="ft309151">Reasons&#160;for&#160;rejection</p>
<p style="position:absolute;top:969px;left:386px;white-space:nowrap" class="ft309140">●</p>
<p style="position:absolute;top:963px;left:413px;white-space:nowrap" class="ft309152">non&#160;free&#160;</p>
<p style="position:absolute;top:999px;left:386px;white-space:nowrap" class="ft309140">●</p>
<p style="position:absolute;top:993px;left:413px;white-space:nowrap" class="ft309152">moved&#160;to&#160;a&#160;new project&#160;(JikesRVM)&#160;</p>
<p style="position:absolute;top:1028px;left:386px;white-space:nowrap" class="ft309140">●</p>
<p style="position:absolute;top:1022px;left:413px;white-space:nowrap" class="ft309152">no&#160;online&#160;resources&#160;available</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft309134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft309134">41/47</p>
</div>
<!-- Page 310 -->
<a name="310"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft310162{font-size:16px;font-family:DAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page310-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2310.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft31090">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft31080">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft310134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft310134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft310137"><b>5.3.6&#160;IVKM</b></p>
<p style="position:absolute;top:185px;left:89px;white-space:nowrap" class="ft310159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:185px;left:166px;white-space:nowrap" class="ft310151">&#160;</p>
<p style="position:absolute;top:185px;left:359px;white-space:nowrap" class="ft310159"><i><b>Results</b></i></p>
<p style="position:absolute;top:227px;left:89px;white-space:nowrap" class="ft310160"><i>Homepage</i></p>
<p style="position:absolute;top:223px;left:142px;white-space:nowrap" class="ft310151">&#160;&#160;</p>
<p style="position:absolute;top:223px;left:359px;white-space:nowrap" class="ft310152">&#160;http://www.ikvm.net/&#160;</p>
<p style="position:absolute;top:262px;left:89px;white-space:nowrap" class="ft310151">Description</p>
<p style="position:absolute;top:262px;left:359px;white-space:nowrap" class="ft310154">Interesting&#160;project&#160;because&#160;.NET&#160;itself&#160;s&#160;based&#160;<br/>on&#160;an own&#160;Virtual&#160;Machine.&#160;The&#160;Java&#160;Virtual&#160;<br/>Machine&#160;and&#160;Java&#160;class&#160;libraries&#160;are&#160;<br/>implemented&#160;in&#160;.NET</p>
<p style="position:absolute;top:363px;left:89px;white-space:nowrap" class="ft310151">Reasons&#160;for&#160;rejection</p>
<p style="position:absolute;top:369px;left:386px;white-space:nowrap" class="ft310140">●</p>
<p style="position:absolute;top:363px;left:413px;white-space:nowrap" class="ft310152">basic&#160;approach via&#160;Mono<a href="http://www.go-mono.org/">&#160;(</a></p>
<p style="position:absolute;top:363px;left:650px;white-space:nowrap" class="ft310153"><a href="http://www.go-mono.org/">http://www.go-</a></p>
<p style="position:absolute;top:384px;left:413px;white-space:nowrap" class="ft310153"><a href="http://www.go-mono.org/">mono.org/</a></p>
<p style="position:absolute;top:384px;left:506px;white-space:nowrap" class="ft310152"><a href="http://www.go-mono.org/">)</a>&#160;too&#160;complicated&#160;for&#160;this&#160;project&#160;</p>
<p style="position:absolute;top:405px;left:413px;white-space:nowrap" class="ft310152">(doubles&#160;the&#160;effort)&#160;</p>
<p style="position:absolute;top:440px;left:386px;white-space:nowrap" class="ft310140">●</p>
<p style="position:absolute;top:434px;left:413px;white-space:nowrap" class="ft310154">security&#160;(additional&#160;layer&#160;additional&#160;Virtual&#160;<br/>Machine)</p>
<p style="position:absolute;top:507px;left:85px;white-space:nowrap" class="ft310162"><b>5.3.7&#160;JAOS&#160;</b></p>
<p style="position:absolute;top:538px;left:89px;white-space:nowrap" class="ft310159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:538px;left:166px;white-space:nowrap" class="ft310151">&#160;</p>
<p style="position:absolute;top:538px;left:359px;white-space:nowrap" class="ft310159"><i><b>Results</b></i></p>
<p style="position:absolute;top:580px;left:89px;white-space:nowrap" class="ft310160"><i>Homepage</i></p>
<p style="position:absolute;top:576px;left:142px;white-space:nowrap" class="ft310151">&#160;&#160;</p>
<p style="position:absolute;top:576px;left:359px;white-space:nowrap" class="ft310152">http://www.oberon.ethz.ch/jaos/&#160;</p>
<p style="position:absolute;top:615px;left:89px;white-space:nowrap" class="ft310151">Description</p>
<p style="position:absolute;top:615px;left:359px;white-space:nowrap" class="ft310154">Embedded&#160;as&#160;a&#160;case&#160;study&#160;into&#160;the&#160;Oberon&#160;<br/>project(http://www.&#160;oberon.ethz.ch/)&#160;and&#160;in this&#160;<br/>case&#160;designed&#160;for&#160;the&#160;Bluebottle&#160;System. JAOS&#160;<br/>(Java&#160;on Active&#160;Object&#160;System)&#160;is&#160;an interesting&#160;<br/>academical&#160;project.</p>
<p style="position:absolute;top:737px;left:89px;white-space:nowrap" class="ft310151">Reasons&#160;for&#160;rejection</p>
<p style="position:absolute;top:743px;left:386px;white-space:nowrap" class="ft310140">●</p>
<p style="position:absolute;top:737px;left:413px;white-space:nowrap" class="ft310154">running&#160;on AOS(Active&#160;Object&#160;System&#160;),&#160;<br/>which&#160;is&#160;limited&#160;in&#160;hardware&#160;support&#160;<br/>(running&#160;a&#160;TPM&#160;successfully&#160;is&#160;<br/>questionable)&#160;</p>
<p style="position:absolute;top:835px;left:386px;white-space:nowrap" class="ft310140">●</p>
<p style="position:absolute;top:829px;left:413px;white-space:nowrap" class="ft310154">own,&#160;BSD&#160;like&#160;license&#160;<br/>http://www.oberon.ethz.ch/jaos/license.txt&#160;</p>
<p style="position:absolute;top:885px;left:386px;white-space:nowrap" class="ft310140">●</p>
<p style="position:absolute;top:880px;left:413px;white-space:nowrap" class="ft310154">implementation&#160;of&#160;the&#160;operating&#160;system&#160;<br/>and&#160;the&#160;Virtual&#160;Machine&#160;in Active&#160;Oberon&#160;<br/>programming&#160;language&#160;</p>
<p style="position:absolute;top:957px;left:386px;white-space:nowrap" class="ft310140">●</p>
<p style="position:absolute;top:951px;left:413px;white-space:nowrap" class="ft310154">project&#160;activity&#160;is&#160;low&#160;since&#160;2003&#160;(works&#160;<br/>with&#160;GNU&#160;Classpath 0.06,&#160;current:&#160;0.92)&#160;</p>
<p style="position:absolute;top:1024px;left:85px;white-space:nowrap" class="ft310137"><b>5.3.8&#160;Japhar&#160;</b></p>
<p style="position:absolute;top:1058px;left:89px;white-space:nowrap" class="ft310159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:1058px;left:166px;white-space:nowrap" class="ft310151">&#160;</p>
<p style="position:absolute;top:1058px;left:359px;white-space:nowrap" class="ft310159"><i><b>Results</b></i></p>
<p style="position:absolute;top:1100px;left:89px;white-space:nowrap" class="ft310160"><i>Homepage</i></p>
<p style="position:absolute;top:1096px;left:142px;white-space:nowrap" class="ft310151">&#160;&#160;</p>
<p style="position:absolute;top:1096px;left:359px;white-space:nowrap" class="ft310152">http://www.hungry.com/old-</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft310134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft310134">42/47</p>
</div>
<!-- Page 311 -->
<a name="311"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page311-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2311.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft31190">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft31180">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft311134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft311134">DRAFT|1.0</p>
<p style="position:absolute;top:155px;left:89px;white-space:nowrap" class="ft311159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:155px;left:166px;white-space:nowrap" class="ft311151">&#160;</p>
<p style="position:absolute;top:155px;left:359px;white-space:nowrap" class="ft311159"><i><b>Results</b></i></p>
<p style="position:absolute;top:193px;left:359px;white-space:nowrap" class="ft311152">hungry/products/japhar/&#160;</p>
<p style="position:absolute;top:231px;left:89px;white-space:nowrap" class="ft311151">Description</p>
<p style="position:absolute;top:231px;left:359px;white-space:nowrap" class="ft311152">no&#160;current&#160;information&#160;available.&#160;</p>
<p style="position:absolute;top:269px;left:89px;white-space:nowrap" class="ft311151">Reasons&#160;for&#160;rejection</p>
<p style="position:absolute;top:275px;left:386px;white-space:nowrap" class="ft311140">●</p>
<p style="position:absolute;top:269px;left:413px;white-space:nowrap" class="ft311154">&#160;current&#160;project&#160;homepage&#160;ofﬂine&#160;and/or&#160;<br/>pirated(www.japhar.org)&#160;</p>
<p style="position:absolute;top:325px;left:386px;white-space:nowrap" class="ft311140">●</p>
<p style="position:absolute;top:319px;left:413px;white-space:nowrap" class="ft311154">&#160;available&#160;information&#160;is&#160;old&#160;and&#160;outdated&#160;<br/>(1998)&#160;</p>
<p style="position:absolute;top:376px;left:386px;white-space:nowrap" class="ft311140">●</p>
<p style="position:absolute;top:370px;left:413px;white-space:nowrap" class="ft311154">&#160;no&#160;sources&#160;are&#160;ready&#160;for&#160;download&#160;even&#160;<br/>on&#160;the&#160;old&#160;page&#160;(ftp-server&#160;seems&#160;to&#160;be&#160;<br/>ofﬂine)&#160;</p>
<p style="position:absolute;top:463px;left:85px;white-space:nowrap" class="ft311137"><b>5.3.9&#160;JC</b></p>
<p style="position:absolute;top:497px;left:89px;white-space:nowrap" class="ft311159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:497px;left:166px;white-space:nowrap" class="ft311151">&#160;</p>
<p style="position:absolute;top:497px;left:359px;white-space:nowrap" class="ft311159"><i><b>Results</b></i></p>
<p style="position:absolute;top:539px;left:89px;white-space:nowrap" class="ft311160"><i>Homepage</i></p>
<p style="position:absolute;top:535px;left:142px;white-space:nowrap" class="ft311151">&#160;&#160;</p>
<p style="position:absolute;top:535px;left:359px;white-space:nowrap" class="ft311152">http://jcvm.sourceforge.net/&#160;</p>
<p style="position:absolute;top:574px;left:89px;white-space:nowrap" class="ft311151">Description</p>
<p style="position:absolute;top:574px;left:359px;white-space:nowrap" class="ft311158">another&#160;very&#160;interesting&#160;approach. JC&#160;uses&#160;the&#160;<br/>Soot&#160;bytecode&#160;optimization&#160;framework&#160;<br/>(http://www.sable.mcgill.ca/soot/),&#160;especially&#160;its&#160;<br/>bytecode&#160;analysis&#160;part, to&#160;convert&#160;class&#160;files&#160;into&#160;<br/>C&#160;source&#160;code&#160;and&#160;then compiles&#160;it&#160;with GCC.&#160;<br/>JC&#160;concentrates&#160;on code&#160;preview&#160;techniques&#160;to&#160;<br/>speed&#160;up&#160;execution&#160;time&#160;of&#160;the&#160;binaries. It&#160;<br/>seems&#160;to&#160;be&#160;much slower&#160;if&#160;the&#160;time&#160;<br/>measurement starts&#160;at class&#160;loading.&#160;<br/>This&#160;could&#160;be&#160;an interesting&#160;starting&#160;point&#160;for&#160;<br/>future&#160;investigations.&#160;For&#160;now the&#160;approach&#160;<br/>seems&#160;to&#160;be&#160;a&#160;little&#160;bit too&#160;complicated&#160;(because&#160;<br/>of&#160;the&#160;usage&#160;of&#160;code&#160;analysis&#160;techniques&#160;and&#160;<br/>GCC).&#160;</p>
<p style="position:absolute;top:902px;left:89px;white-space:nowrap" class="ft311151">Reasons&#160;for&#160;rejection</p>
<p style="position:absolute;top:908px;left:386px;white-space:nowrap" class="ft311140">●</p>
<p style="position:absolute;top:902px;left:413px;white-space:nowrap" class="ft311152">&#160;concentrated&#160;on&#160;fast binaries&#160;</p>
<p style="position:absolute;top:937px;left:386px;white-space:nowrap" class="ft311140">●</p>
<p style="position:absolute;top:931px;left:413px;white-space:nowrap" class="ft311154">&#160;complicated&#160;approach&#160;(at this&#160;state&#160;too&#160;<br/>many&#160;security&#160;implications&#160;to&#160;worry&#160;about)&#160;</p>
<p style="position:absolute;top:1032px;left:85px;white-space:nowrap" class="ft311137"><b>5.3.10&#160;Jnode&#160;</b></p>
<p style="position:absolute;top:1066px;left:89px;white-space:nowrap" class="ft311159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:1066px;left:166px;white-space:nowrap" class="ft311151">&#160;</p>
<p style="position:absolute;top:1066px;left:359px;white-space:nowrap" class="ft311159"><i><b>Results</b></i></p>
<p style="position:absolute;top:1107px;left:89px;white-space:nowrap" class="ft311160"><i>Homepage</i></p>
<p style="position:absolute;top:1104px;left:142px;white-space:nowrap" class="ft311151">&#160;&#160;</p>
<p style="position:absolute;top:1104px;left:359px;white-space:nowrap" class="ft311152">&#160;http://www.jnode.org/&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft311134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft311134">43/47</p>
</div>
<!-- Page 312 -->
<a name="312"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page312-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2312.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft31290">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft31280">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft312134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft312134">DRAFT|1.0</p>
<p style="position:absolute;top:155px;left:89px;white-space:nowrap" class="ft312159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:155px;left:166px;white-space:nowrap" class="ft312151">&#160;</p>
<p style="position:absolute;top:155px;left:359px;white-space:nowrap" class="ft312159"><i><b>Results</b></i></p>
<p style="position:absolute;top:193px;left:89px;white-space:nowrap" class="ft312151">Description</p>
<p style="position:absolute;top:193px;left:359px;white-space:nowrap" class="ft312154">Jnode&#160;is&#160;not&#160;only&#160;a&#160;Java&#160;Virtual&#160;Machine,&#160;it&#160;is&#160;a&#160;<br/>full&#160;operating&#160;system&#160;written&#160;almost&#160;completely&#160;<br/>in&#160;Java.&#160;The&#160;goal&#160;of&#160;such a&#160;system&#160;is&#160;to&#160;get&#160;<br/>higher&#160;performance&#160;because&#160;executed&#160;code&#160;runs&#160;<br/>directly&#160;on the&#160;operating&#160;system&#160;instead&#160;of&#160;<br/>passing&#160;through&#160;additional&#160;software&#160;layers.&#160;<br/>Disadvantages&#160;which&#160;may&#160;occur&#160;are:&#160;less&#160;<br/>compatibility&#160;to&#160;hardware&#160;and&#160;a&#160;higher&#160;security&#160;<br/>risk&#160;because, once&#160;more,&#160;the&#160;execution&#160;of&#160;<br/>applications&#160;runs&#160;direct&#160;on&#160;the&#160;operating&#160;system&#160;<br/>core.&#160;On&#160;the&#160;other&#160;hand, in&#160;context with&#160;OpenTC&#160;<br/>this&#160;could&#160;be&#160;an&#160;advantage&#160;because&#160;there&#160;are&#160;<br/>less&#160;layers&#160;to&#160;certificate.&#160;<br/>Summary:&#160;an&#160;interesting&#160;project&#160;in an advanced&#160;<br/>state&#160;(e.g.&#160;referencing&#160;the&#160;Jnode&#160;homepage,&#160;it&#160;<br/>even has&#160;beaten Suns&#160;Virtual&#160;Machines&#160;in&#160;<br/>performance,&#160;hardware&#160;compatibility&#160;is&#160;<br/>increasing&#160;and&#160;it is&#160;one&#160;of&#160;the&#160;few which&#160;fully&#160;<br/>supports&#160;the&#160;J2SDK&#160;5.0).&#160;</p>
<p style="position:absolute;top:626px;left:89px;white-space:nowrap" class="ft312151">Reasons&#160;for&#160;rejection</p>
<p style="position:absolute;top:632px;left:386px;white-space:nowrap" class="ft312140">●</p>
<p style="position:absolute;top:626px;left:413px;white-space:nowrap" class="ft312152">Doesn't&#160;fit&#160;to&#160;OpenTC</p>
<p style="position:absolute;top:677px;left:85px;white-space:nowrap" class="ft312137"><b>5.3.11&#160;Jupiter</b></p>
<p style="position:absolute;top:712px;left:89px;white-space:nowrap" class="ft312159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:712px;left:166px;white-space:nowrap" class="ft312151">&#160;</p>
<p style="position:absolute;top:712px;left:359px;white-space:nowrap" class="ft312159"><i><b>Results</b></i></p>
<p style="position:absolute;top:753px;left:89px;white-space:nowrap" class="ft312160"><i>Homepage</i></p>
<p style="position:absolute;top:749px;left:142px;white-space:nowrap" class="ft312151">&#160;&#160;</p>
<p style="position:absolute;top:749px;left:359px;white-space:nowrap" class="ft312152">http://www.eecg.toronto.edu/jupiter/&#160;</p>
<p style="position:absolute;top:788px;left:89px;white-space:nowrap" class="ft312151">Description</p>
<p style="position:absolute;top:788px;left:359px;white-space:nowrap" class="ft312158">Jupiter&#160;is&#160;a&#160;modular&#160;and&#160;extensible&#160;research&#160;<br/>project&#160;which just&#160;supports&#160;basic&#160;Java&#160;code&#160;<br/>execution&#160;(Java&#160;interpreter&#160;with&#160;multithreading&#160;<br/>capabilities).&#160;It is&#160;designed&#160;to&#160;be&#160;highly&#160;scalable&#160;<br/>for&#160;work&#160;in&#160;a&#160;cluster&#160;infrastructure.</p>
<p style="position:absolute;top:910px;left:89px;white-space:nowrap" class="ft312151">Reasons&#160;for&#160;rejection</p>
<p style="position:absolute;top:916px;left:386px;white-space:nowrap" class="ft312140">●</p>
<p style="position:absolute;top:910px;left:413px;white-space:nowrap" class="ft312152">no&#160;support&#160;for&#160;ClassLoaders&#160;written&#160;in&#160;Java&#160;</p>
<p style="position:absolute;top:945px;left:386px;white-space:nowrap" class="ft312140">●</p>
<p style="position:absolute;top:940px;left:413px;white-space:nowrap" class="ft312152">no&#160;JIT&#160;compiler&#160;</p>
<p style="position:absolute;top:975px;left:386px;white-space:nowrap" class="ft312140">●</p>
<p style="position:absolute;top:969px;left:413px;white-space:nowrap" class="ft312152">no&#160;bytecode&#160;verifier&#160;</p>
<p style="position:absolute;top:1004px;left:386px;white-space:nowrap" class="ft312140">●</p>
<p style="position:absolute;top:998px;left:413px;white-space:nowrap" class="ft312152">supports&#160;JDK&#160;1.3.1&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft312134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft312134">44/47</p>
</div>
<!-- Page 313 -->
<a name="313"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft313163{font-size:18px;line-height:21px;font-family:CAAAAA+BitstreamVeraSans;color:#000080;}
-->
</style>
<div id="page313-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2313.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft31390">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft31380">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft313134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft313134">DRAFT|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft313137"><b>5.3.12&#160;KaffePC&#160;</b></p>
<p style="position:absolute;top:185px;left:89px;white-space:nowrap" class="ft313159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:185px;left:166px;white-space:nowrap" class="ft313151">&#160;</p>
<p style="position:absolute;top:185px;left:359px;white-space:nowrap" class="ft313159"><i><b>Results</b></i></p>
<p style="position:absolute;top:227px;left:89px;white-space:nowrap" class="ft313160"><i>Homepage</i></p>
<p style="position:absolute;top:223px;left:142px;white-space:nowrap" class="ft313151">&#160;&#160;</p>
<p style="position:absolute;top:223px;left:359px;white-space:nowrap" class="ft313163"><a href="http://ns.distribution.co.jp/freeware/java/kaffepc/en/">http://ns.distribution.co.jp/freeware/Java/kaffepc/<br/>en/</a></p>
<p style="position:absolute;top:282px;left:89px;white-space:nowrap" class="ft313151">Description</p>
<p style="position:absolute;top:282px;left:359px;white-space:nowrap" class="ft313152">No&#160;current&#160;information&#160;available</p>
<p style="position:absolute;top:320px;left:89px;white-space:nowrap" class="ft313151">Reasons&#160;for&#160;rejection</p>
<p style="position:absolute;top:326px;left:386px;white-space:nowrap" class="ft313140">●</p>
<p style="position:absolute;top:320px;left:413px;white-space:nowrap" class="ft313152">apparently&#160;dead</p>
<p style="position:absolute;top:371px;left:85px;white-space:nowrap" class="ft313137"><b>5.3.13&#160;LaTTe&#160;&#160;</b></p>
<p style="position:absolute;top:406px;left:89px;white-space:nowrap" class="ft313159"><i><b>Criteria&#160;</b></i></p>
<p style="position:absolute;top:406px;left:359px;white-space:nowrap" class="ft313159"><i><b>Results</b></i></p>
<p style="position:absolute;top:447px;left:89px;white-space:nowrap" class="ft313160"><i>Homepage</i></p>
<p style="position:absolute;top:443px;left:142px;white-space:nowrap" class="ft313151">&#160;&#160;</p>
<p style="position:absolute;top:443px;left:359px;white-space:nowrap" class="ft313152">&#160;http://latte.snu.ac.kr/&#160;</p>
<p style="position:absolute;top:482px;left:89px;white-space:nowrap" class="ft313151">Description</p>
<p style="position:absolute;top:482px;left:359px;white-space:nowrap" class="ft313154">academic&#160;approach&#160;to&#160;develop&#160;a&#160;competitive&#160;JIT&#160;<br/>on&#160;a&#160;RISC&#160;machine.&#160;</p>
<p style="position:absolute;top:541px;left:89px;white-space:nowrap" class="ft313151">Reasons&#160;for&#160;rejection</p>
<p style="position:absolute;top:547px;left:386px;white-space:nowrap" class="ft313140">●</p>
<p style="position:absolute;top:541px;left:413px;white-space:nowrap" class="ft313154">limited&#160;to&#160;Solaris&#160;2.5+&#160;on&#160;UltraSPARCs&#160;<br/>(both&#160;are&#160;trademarks&#160;of&#160;Sun Microsystems&#160;<br/>Inc.)&#160;</p>
<p style="position:absolute;top:618px;left:386px;white-space:nowrap" class="ft313140">●</p>
<p style="position:absolute;top:612px;left:413px;white-space:nowrap" class="ft313152">targets&#160;to&#160;RISC&#160;machines&#160;</p>
<p style="position:absolute;top:648px;left:386px;white-space:nowrap" class="ft313140">●</p>
<p style="position:absolute;top:642px;left:413px;white-space:nowrap" class="ft313152">supports&#160;only&#160;up&#160;to&#160;Java&#160;SDK&#160;1.1&#160;</p>
<p style="position:absolute;top:677px;left:386px;white-space:nowrap" class="ft313140">●</p>
<p style="position:absolute;top:671px;left:413px;white-space:nowrap" class="ft313152">incomplete&#160;class&#160;library</p>
<p style="position:absolute;top:707px;left:386px;white-space:nowrap" class="ft313140">●</p>
<p style="position:absolute;top:701px;left:413px;white-space:nowrap" class="ft313152">own&#160;license&#160;(similar&#160;to&#160;the&#160;BSD-license)</p>
<p style="position:absolute;top:752px;left:85px;white-space:nowrap" class="ft313137"><b>5.3.14&#160;leJOS&#160;</b></p>
<p style="position:absolute;top:787px;left:89px;white-space:nowrap" class="ft313159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:787px;left:166px;white-space:nowrap" class="ft313151">&#160;</p>
<p style="position:absolute;top:787px;left:359px;white-space:nowrap" class="ft313159"><i><b>Results</b></i></p>
<p style="position:absolute;top:828px;left:89px;white-space:nowrap" class="ft313160"><i>Homepage</i></p>
<p style="position:absolute;top:824px;left:142px;white-space:nowrap" class="ft313151">&#160;&#160;</p>
<p style="position:absolute;top:824px;left:359px;white-space:nowrap" class="ft313152">http://lejos.sourceforge.net/&#160;</p>
<p style="position:absolute;top:863px;left:89px;white-space:nowrap" class="ft313151">Description</p>
<p style="position:absolute;top:863px;left:359px;white-space:nowrap" class="ft313154">LeJOS&#160;is&#160;a&#160;Virtual&#160;Machine&#160;which&#160;replaces&#160;the&#160;<br/>firmware&#160;on&#160;the&#160;LEGO&#160;Mindstorm&#160;<br/>(http://mindstorms.lego.com/)&#160;RCX&#160;(micro-<br/>controller&#160;-for&#160;details&#160;see&#160;</p>
<p style="position:absolute;top:947px;left:359px;white-space:nowrap" class="ft313153"><a href="http://graphics.stanford.edu/~kekoa/rcx/">http://graphics.stanford.edu/~kekoa/rcx/</a></p>
<p style="position:absolute;top:947px;left:727px;white-space:nowrap" class="ft313152"><a href="http://graphics.stanford.edu/~kekoa/rcx/">)</a>&#160;which&#160;</p>
<p style="position:absolute;top:968px;left:359px;white-space:nowrap" class="ft313154">makes&#160;it possible&#160;to&#160;run&#160;Java&#160;on it.&#160;The&#160;main&#160;<br/>feature&#160;is&#160;its&#160;size&#160;which&#160;is&#160;small&#160;enough&#160;to&#160;take&#160;<br/>place&#160;on&#160;the&#160;32kb&#160;ROM(Read&#160;Only&#160;<br/>Memory)module.<br/>This&#160;may&#160;be&#160;an interesting&#160;project&#160;for&#160;future&#160;<br/>initiatives&#160;in embedded&#160;JavaVirtual&#160;Machine&#160;<br/>developments.&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft313134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft313134">45/47</p>
</div>
<!-- Page 314 -->
<a name="314"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page314-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2314.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft31490">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft31480">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft314134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft314134">DRAFT|1.0</p>
<p style="position:absolute;top:155px;left:89px;white-space:nowrap" class="ft314159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:155px;left:166px;white-space:nowrap" class="ft314151">&#160;</p>
<p style="position:absolute;top:155px;left:359px;white-space:nowrap" class="ft314159"><i><b>Results</b></i></p>
<p style="position:absolute;top:193px;left:89px;white-space:nowrap" class="ft314151">Reasons&#160;for&#160;rejection</p>
<p style="position:absolute;top:199px;left:386px;white-space:nowrap" class="ft314140">●</p>
<p style="position:absolute;top:193px;left:413px;white-space:nowrap" class="ft314152">&#160;developed&#160;for&#160;LEGO&#160;Mindstorms&#160;RCX&#160;</p>
<p style="position:absolute;top:228px;left:386px;white-space:nowrap" class="ft314140">●</p>
<p style="position:absolute;top:223px;left:413px;white-space:nowrap" class="ft314154">&#160;little&#160;documentation&#160;(especially&#160;on&#160;<br/>limitations)&#160;</p>
<p style="position:absolute;top:323px;left:85px;white-space:nowrap" class="ft314137"><b>5.3.15&#160;teaseme&#160;</b></p>
<p style="position:absolute;top:357px;left:89px;white-space:nowrap" class="ft314159"><i><b>Criteria</b></i></p>
<p style="position:absolute;top:357px;left:166px;white-space:nowrap" class="ft314151">&#160;</p>
<p style="position:absolute;top:357px;left:359px;white-space:nowrap" class="ft314159"><i><b>Results</b></i></p>
<p style="position:absolute;top:399px;left:89px;white-space:nowrap" class="ft314160"><i>Homepage</i></p>
<p style="position:absolute;top:395px;left:142px;white-space:nowrap" class="ft314151">&#160;&#160;</p>
<p style="position:absolute;top:395px;left:359px;white-space:nowrap" class="ft314153"><a href="http://teaseme.sourceforge.net/">http://teaseme.sourceforge.net/</a></p>
<p style="position:absolute;top:434px;left:89px;white-space:nowrap" class="ft314151">Description</p>
<p style="position:absolute;top:434px;left:359px;white-space:nowrap" class="ft314154">Written&#160;in C&#160;and&#160;based&#160;on the&#160;kissme&#160;Virtual&#160;<br/>Machine&#160;and&#160;a&#160;very&#160;outdated&#160;version&#160;of&#160;<br/>Classpath. Builds&#160;a&#160;kernel&#160;module.&#160;<br/>The&#160;project&#160;seems&#160;to&#160;be&#160;(nearly)&#160;stopped.&#160;No&#160;<br/>information&#160;about&#160;tests&#160;with&#160;actual&#160;kernels. The&#160;<br/>available&#160;version&#160;seems&#160;to&#160;be&#160;buggy&#160;and&#160;in&#160;<br/>connection&#160;with&#160;the&#160;fact that&#160;it is&#160;realized&#160;as&#160;a&#160;<br/>kernel&#160;module&#160;this&#160;seems&#160;to&#160;be&#160;not&#160;very&#160;faithful.&#160;</p>
<p style="position:absolute;top:627px;left:89px;white-space:nowrap" class="ft314151">Reasons&#160;for&#160;rejection</p>
<p style="position:absolute;top:633px;left:386px;white-space:nowrap" class="ft314140">●</p>
<p style="position:absolute;top:627px;left:413px;white-space:nowrap" class="ft314152">very&#160;low&#160;documentation&#160;level</p>
<p style="position:absolute;top:662px;left:386px;white-space:nowrap" class="ft314140">●</p>
<p style="position:absolute;top:656px;left:413px;white-space:nowrap" class="ft314154">&#160;outdated&#160;(last actions&#160;in&#160;2001,&#160;last&#160;<br/>version&#160;update&#160;in&#160;2000)</p>
<p style="position:absolute;top:759px;left:85px;white-space:nowrap" class="ft314136"><b>6&#160;</b></p>
<p style="position:absolute;top:757px;left:117px;white-space:nowrap" class="ft314137"><b>Prototype&#160;Application</b></p>
<p style="position:absolute;top:787px;left:85px;white-space:nowrap" class="ft314133">To&#160;demonstrate&#160;our&#160;efforts&#160;and&#160;achievements&#160;in&#160;modifying&#160;the&#160;Virtual&#160;Machine&#160;we&#160;are&#160;<br/>going&#160;to&#160;develop&#160;a&#160;prototype&#160;application.&#160;In&#160;order&#160;to&#160;use&#160;synergy&#160;effects&#160;our&#160;prototype&#160;<br/>application&#160;will&#160;be&#160;the&#160;Proxy&#160;implementation&#160;we&#160;developed&#160;for&#160;the&#160;PET&#160;demonstrator.&#160;<br/>The&#160;respective&#160;documents&#160;can&#160;be&#160;found&#160;in&#160;the&#160;WP5&#160;deliverable.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft314134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft314134">46/47</p>
</div>
<!-- Page 315 -->
<a name="315"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft315164{font-size:17px;line-height:19px;font-family:GAAAAA+BitstreamVeraSans;color:#000000;}
	.ft315165{font-size:17px;line-height:19px;font-family:CAAAAA+BitstreamVeraSans;color:#000080;}
-->
</style>
<div id="page315-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2315.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft31590">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft31580">&#160;</p>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft315134">Integrating&#160;Trusted&#160;Computing&#160;into&#160;Java</p>
<p style="position:absolute;top:92px;left:687px;white-space:nowrap" class="ft315134">DRAFT|1.0</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft315136"><b>7&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft315137"><b>References</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft315130">[CHAUDRI]&#160;Chaudhri,&#160;R.:&#160;</p>
<p style="position:absolute;top:199px;left:299px;white-space:nowrap" class="ft315129"><b>Understanding&#160;the&#160;java&#160;classloading&#160;mechanism</b></p>
<p style="position:absolute;top:199px;left:751px;white-space:nowrap" class="ft315130">.&#160;</p>
<p style="position:absolute;top:218px;left:186px;white-space:nowrap" class="ft315130">http:&#160;//java.sys-con.com/read/37659.htm,&#160;August&#160;2003.&#160;</p>
<p style="position:absolute;top:246px;left:85px;white-space:nowrap" class="ft315130">[GNUCP]</p>
<p style="position:absolute;top:246px;left:186px;white-space:nowrap" class="ft315129"><b>Gnu&#160;classpath</b></p>
<p style="position:absolute;top:246px;left:318px;white-space:nowrap" class="ft315130">.<a href="http://www.gnu.org/software/classpath/">&#160;</a></p>
<p style="position:absolute;top:246px;left:329px;white-space:nowrap" class="ft315143"><a href="http://www.gnu.org/software/classpath/">http://www.gnu.org/software/classpath/</a></p>
<p style="position:absolute;top:246px;left:656px;white-space:nowrap" class="ft315130"><a href="http://www.gnu.org/software/classpath/">.</a></p>
<p style="position:absolute;top:274px;left:85px;white-space:nowrap" class="ft315130">[GONG]</p>
<p style="position:absolute;top:274px;left:186px;white-space:nowrap" class="ft315130">Gong,&#160;L.:.</p>
<p style="position:absolute;top:274px;left:272px;white-space:nowrap" class="ft315129"><b>Inside&#160;Java2Platform&#160;Security</b></p>
<p style="position:absolute;top:274px;left:548px;white-space:nowrap" class="ft315130">.&#160;The&#160;Java&#160;Series.&#160;</p>
<p style="position:absolute;top:293px;left:186px;white-space:nowrap" class="ft315130">AddisonWesley&#160;Professional,&#160;June&#160;1999</p>
<p style="position:absolute;top:321px;left:85px;white-space:nowrap" class="ft315130">[JLS]</p>
<p style="position:absolute;top:321px;left:186px;white-space:nowrap" class="ft315130">Joy,&#160;B.;&#160;Steele,&#160;G:;&#160;Bracha,&#160;G.:&#160;</p>
<p style="position:absolute;top:321px;left:438px;white-space:nowrap" class="ft315129"><b>Java&#160;Language&#160;Specification</b></p>
<p style="position:absolute;top:321px;left:700px;white-space:nowrap" class="ft315130">,&#160;Third&#160;</p>
<p style="position:absolute;top:340px;left:186px;white-space:nowrap" class="ft315130">Edition,&#160;2005,&#160;<a href="http://java.sun.com/docs/books/jls">&#160;</a></p>
<p style="position:absolute;top:340px;left:312px;white-space:nowrap" class="ft315143"><a href="http://java.sun.com/docs/books/jls">http://java.sun.com/docs/books/jls</a></p>
<p style="position:absolute;top:367px;left:85px;white-space:nowrap" class="ft315130">[JVM]</p>
<p style="position:absolute;top:367px;left:186px;white-space:nowrap" class="ft315129"><b>The&#160;Java&#160;Virtual&#160;Machine&#160;Specification</b></p>
<p style="position:absolute;top:367px;left:544px;white-space:nowrap" class="ft315130">,&#160;Second&#160;Edition,&#160;1999,&#160;</p>
<p style="position:absolute;top:387px;left:186px;white-space:nowrap" class="ft315143"><a href="http://java.sun.com/docs/books/vmspec">http://java.sun.com/docs/books/vmspec</a></p>
<p style="position:absolute;top:414px;left:85px;white-space:nowrap" class="ft315130">[McCrary]</p>
<p style="position:absolute;top:414px;left:186px;white-space:nowrap" class="ft315130">McCrary,&#160;K.:&#160;</p>
<p style="position:absolute;top:414px;left:292px;white-space:nowrap" class="ft315129"><b>Create&#160;a&#160;custom&#160;java&#160;1.2-style&#160;classloader</b></p>
<p style="position:absolute;top:414px;left:687px;white-space:nowrap" class="ft315130">.&#160;</p>
<p style="position:absolute;top:433px;left:186px;white-space:nowrap" class="ft315143"><a href="http://www.javaworld.com/javaworld/jw-03-2000/jw-03-classload_p.html">http://www.javaworld.com/javaworld/jw-03-2000/jw-03-classload_p.html</a></p>
<p style="position:absolute;top:461px;left:85px;white-space:nowrap" class="ft315130">[PBA]</p>
<p style="position:absolute;top:461px;left:186px;white-space:nowrap" class="ft315130">Ahmad-Reza&#160;Sadeghi,&#160;Christian&#160;Stüble:&#160;</p>
<p style="position:absolute;top:461px;left:516px;white-space:nowrap" class="ft315129"><b>Property-based&#160;Attestation&#160;for&#160;</b></p>
<p style="position:absolute;top:480px;left:186px;white-space:nowrap" class="ft315139"><b>Computing&#160;Platforms:&#160;Caring&#160;about&#160;policies,&#160;not&#160;mechanisms;&#160;<br/>Panel&#160;on&#160;Themes&#160;and&#160;Highlights&#160;of&#160;the&#160;New&#160;Security&#160;Paradigms&#160;<br/>Workshop&#160;2004;</b></p>
<p style="position:absolute;top:519px;left:338px;white-space:nowrap" class="ft315130">&#160;</p>
<p style="position:absolute;top:519px;left:343px;white-space:nowrap" class="ft315105"><i>presented&#160;at&#160;20th&#160;Annual&#160;Computer&#160;Security&#160;</i></p>
<p style="position:absolute;top:538px;left:186px;white-space:nowrap" class="ft315105"><i>Applications&#160;Conference&#160;(ACSAC)&#160;December,&#160;2004.</i></p>
<p style="position:absolute;top:566px;left:85px;white-space:nowrap" class="ft315130">[SDMTC]</p>
<p style="position:absolute;top:566px;left:186px;white-space:nowrap" class="ft315133">Ulrich&#160;Kühn,&#160;Klaus&#160;Kursawe,&#160;Stefan&#160;Lucks,&#160;Ahmad-Reza&#160;Sadeghi&#160;and&#160;<br/>Christian&#160;Stüble:&#160;</p>
<p style="position:absolute;top:585px;left:329px;white-space:nowrap" class="ft315129"><b>Secure&#160;Data&#160;Management&#160;in&#160;Trusted&#160;Computing;&#160;</b></p>
<p style="position:absolute;top:604px;left:186px;white-space:nowrap" class="ft315164"><i>Proceedings&#160;of&#160;the&#160;Workshop&#160;on&#160;Cryptographic&#160;Hardware&#160;and&#160;Embedded&#160;<br/>Systems&#160;(CHES),&#160;LNCS&#160;3659,&#160;Pages&#160;324-338,&#160;Springer&#160;Verlag,&#160;2005.</i></p>
<p style="position:absolute;top:651px;left:85px;white-space:nowrap" class="ft315130">[SHUDO]</p>
<p style="position:absolute;top:651px;left:186px;white-space:nowrap" class="ft315130">Kazuyuki&#160;Shudo:</p>
<p style="position:absolute;top:651px;left:324px;white-space:nowrap" class="ft315129"><b>&#160;Performance&#160;comparison&#160;of&#160;java/.net&#160;runtimes</b></p>
<p style="position:absolute;top:651px;left:763px;white-space:nowrap" class="ft315130">.&#160;</p>
<p style="position:absolute;top:670px;left:186px;white-space:nowrap" class="ft315130">http://www.shudo.net/&#160;jit/perf/,&#160;November&#160;2005.&#160;1.2.1</p>
<p style="position:absolute;top:698px;left:85px;white-space:nowrap" class="ft315130"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#287">[SUNSEC]</a></p>
<p style="position:absolute;top:698px;left:186px;white-space:nowrap" class="ft315130">SUN&#160;Microsystems,&#160;</p>
<p style="position:absolute;top:698px;left:350px;white-space:nowrap" class="ft315129"><b>Java&#160;Security&#160;Architecture</b></p>
<p style="position:absolute;top:698px;left:594px;white-space:nowrap" class="ft315130">,&#160;1997-2002,&#160;</p>
<p style="position:absolute;top:717px;left:186px;white-space:nowrap" class="ft315165"><a href="http://java.sun.com/j2se/1.5.0/docs/guide/security/spec/security-specTOC.fm.html">http://java.sun.com/j2se/1.5.0/docs/guide/security/spec/security-<br/>specTOC.fm.html</a></p>
<p style="position:absolute;top:764px;left:85px;white-space:nowrap" class="ft315130">[TSS1.1]</p>
<p style="position:absolute;top:764px;left:186px;white-space:nowrap" class="ft315129"><b>TCG&#160;Software&#160;Stack&#160;(TSS)&#160;Specification</b></p>
<p style="position:absolute;top:764px;left:553px;white-space:nowrap" class="ft315130">,&#160;Version&#160;1.1&#160;Golden,&#160;August&#160;</p>
<p style="position:absolute;top:783px;left:186px;white-space:nowrap" class="ft315130">20,&#160;2003</p>
<p style="position:absolute;top:811px;left:85px;white-space:nowrap" class="ft315130">[TSS1.2]</p>
<p style="position:absolute;top:811px;left:186px;white-space:nowrap" class="ft315129"><b>TCG&#160;Software&#160;Stack&#160;(TSS)&#160;Specification</b></p>
<p style="position:absolute;top:811px;left:553px;white-space:nowrap" class="ft315130">,&#160;Version&#160;1.2,&#160;Level&#160;1,&#160;August&#160;</p>
<p style="position:absolute;top:830px;left:186px;white-space:nowrap" class="ft315130">06,&#160;2006</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft315134">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft315134">47/47</p>
</div>
<!-- Page 316 -->
<a name="316"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page316-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2316.png" alt="background image"/>
<p style="position:absolute;top:137px;left:92px;white-space:nowrap" class="ft31680">&#160;</p>
<p style="position:absolute;top:76px;left:91px;white-space:nowrap" class="ft31681">&#160;</p>
<p style="position:absolute;top:242px;left:134px;white-space:nowrap" class="ft31682"><b>D03d.4&#160;Java&#160;VM&#160;for&#160;TCP&#160;implementations</b></p>
<p style="position:absolute;top:333px;left:91px;white-space:nowrap" class="ft31683"><b>Project&#160;number</b></p>
<p style="position:absolute;top:333px;left:425px;white-space:nowrap" class="ft31684">IST-027635</p>
<p style="position:absolute;top:361px;left:91px;white-space:nowrap" class="ft31683"><b>Project&#160;acronym</b></p>
<p style="position:absolute;top:361px;left:425px;white-space:nowrap" class="ft31684">Open_TC</p>
<p style="position:absolute;top:389px;left:91px;white-space:nowrap" class="ft31683"><b>Project&#160;title</b></p>
<p style="position:absolute;top:389px;left:425px;white-space:nowrap" class="ft31684">Open&#160;Trusted&#160;Computing</p>
<p style="position:absolute;top:417px;left:91px;white-space:nowrap" class="ft31683"><b>Deliverable&#160;type</b></p>
<p style="position:absolute;top:417px;left:425px;white-space:nowrap" class="ft31684">Report&#160;(see&#160;p&#160;84/85&#160;Annex&#160;1&#160;-&#160;Nature)</p>
<p style="position:absolute;top:471px;left:91px;white-space:nowrap" class="ft31683"><b>Deliverable&#160;reference&#160;number</b></p>
<p style="position:absolute;top:471px;left:425px;white-space:nowrap" class="ft31684">IST-027635/D03d.4/RC|1.0</p>
<p style="position:absolute;top:499px;left:91px;white-space:nowrap" class="ft31683"><b>Deliverable&#160;title</b></p>
<p style="position:absolute;top:499px;left:425px;white-space:nowrap" class="ft31684">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:527px;left:91px;white-space:nowrap" class="ft31683"><b>WP&#160;contributing&#160;to&#160;the&#160;deliverable</b></p>
<p style="position:absolute;top:527px;left:425px;white-space:nowrap" class="ft31684">WP03d</p>
<p style="position:absolute;top:555px;left:91px;white-space:nowrap" class="ft31683"><b>Due&#160;date</b></p>
<p style="position:absolute;top:555px;left:425px;white-space:nowrap" class="ft31684">Oct&#160;2007&#160;M24</p>
<p style="position:absolute;top:582px;left:91px;white-space:nowrap" class="ft31683"><b>Actual&#160;submission&#160;date</b></p>
<p style="position:absolute;top:636px;left:91px;white-space:nowrap" class="ft31683"><b>Responsible&#160;Organisation</b></p>
<p style="position:absolute;top:636px;left:424px;white-space:nowrap" class="ft31684">IAIK</p>
<p style="position:absolute;top:664px;left:91px;white-space:nowrap" class="ft31683"><b>Authors</b></p>
<p style="position:absolute;top:664px;left:424px;white-space:nowrap" class="ft31684">IAIK&#160;(Tobias&#160;Vejda)</p>
<p style="position:absolute;top:692px;left:91px;white-space:nowrap" class="ft31683"><b>Abstract</b></p>
<p style="position:absolute;top:692px;left:424px;white-space:nowrap" class="ft31687">This&#160;document&#160;describes&#160;Java&#160;Virtual&#160;<br/>Machine&#160;enhancements&#160;to&#160;support&#160;Trusted&#160;<br/>Computing&#160;implementations.</p>
<p style="position:absolute;top:914px;left:91px;white-space:nowrap" class="ft31683"><b>Keywords</b></p>
<p style="position:absolute;top:905px;left:424px;white-space:nowrap" class="ft31687">Trusted&#160;Computing,&#160;Java,&#160;Measurement<br/>Architecture</p>
<p style="position:absolute;top:978px;left:92px;white-space:nowrap" class="ft31683"><b>Dissemination&#160;level</b></p>
<p style="position:absolute;top:978px;left:423px;white-space:nowrap" class="ft31684">Confidential</p>
<p style="position:absolute;top:1006px;left:92px;white-space:nowrap" class="ft31683"><b>Revision</b></p>
<p style="position:absolute;top:1006px;left:423px;white-space:nowrap" class="ft31684">RC|1.0</p>
<p style="position:absolute;top:1071px;left:90px;white-space:nowrap" class="ft31683"><b>Instrument</b></p>
<p style="position:absolute;top:1071px;left:271px;white-space:nowrap" class="ft31684">IP</p>
<p style="position:absolute;top:1062px;left:452px;white-space:nowrap" class="ft31689"><b>Start&#160;date&#160;of&#160;the&#160;<br/>project</b></p>
<p style="position:absolute;top:1071px;left:633px;white-space:nowrap" class="ft31684">1</p>
<p style="position:absolute;top:1071px;left:643px;white-space:nowrap" class="ft31685">st</p>
<p style="position:absolute;top:1071px;left:652px;white-space:nowrap" class="ft31684">&#160;November&#160;2005</p>
<p style="position:absolute;top:1109px;left:90px;white-space:nowrap" class="ft31683"><b>Thematic&#160;Priority</b></p>
<p style="position:absolute;top:1109px;left:271px;white-space:nowrap" class="ft31684">IST</p>
<p style="position:absolute;top:1109px;left:452px;white-space:nowrap" class="ft31683"><b>Duration</b></p>
<p style="position:absolute;top:1109px;left:633px;white-space:nowrap" class="ft31684">42&#160;months</p>
<p style="position:absolute;top:75px;left:674px;white-space:nowrap" class="ft31686">&#160;</p>
</div>
<!-- Page 317 -->
<a name="317"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft317166{font-size:17px;line-height:21px;font-family:DAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page317-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2317.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft31790">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft31780">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft31791">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft31791">RC|1.0</p>
<p style="position:absolute;top:197px;left:85px;white-space:nowrap" class="ft31792"><b>Table&#160;of&#160;Contents</b></p>
<p style="position:absolute;top:234px;left:85px;white-space:nowrap" class="ft31784">1&#160;&#160;Introduction&#160;..............................................................................................................5</p>
<p style="position:absolute;top:255px;left:94px;white-space:nowrap" class="ft317166">1.1&#160;Scope&#160;and&#160;Outline&#160;of&#160;this&#160;Document......................................................................5<br/>1.2&#160;Related&#160;Work..........................................................................................................5</p>
<p style="position:absolute;top:298px;left:85px;white-space:nowrap" class="ft31784">2&#160;&#160;Review&#160;of&#160;Required&#160;Java&#160;Virtual&#160;Machine&#160;Functionality..............................................7</p>
<p style="position:absolute;top:319px;left:94px;white-space:nowrap" class="ft317166">2.1&#160;Dynamic&#160;Class&#160;Loading..........................................................................................7<br/>2.2&#160;Java&#160;Native&#160;Interface..............................................................................................7<br/>2.3&#160;Security&#160;Architecture..............................................................................................7</p>
<p style="position:absolute;top:384px;left:102px;white-space:nowrap" class="ft317166">2.3.1&#160;Permissions........................................................................................................7<br/>2.3.2&#160;Principals...........................................................................................................7<br/>2.3.3&#160;Access&#160;Control&#160;Mechanism................................................................................7</p>
<p style="position:absolute;top:448px;left:94px;white-space:nowrap" class="ft31784">2.4&#160;Serviceability&#160;in&#160;HotSpot........................................................................................8</p>
<p style="position:absolute;top:469px;left:102px;white-space:nowrap" class="ft31784">2.4.1&#160;Java&#160;Virtual&#160;Machine&#160;Tool&#160;Interface...................................................................9</p>
<p style="position:absolute;top:490px;left:85px;white-space:nowrap" class="ft31784">3&#160;&#160;Design&#160;of&#160;the&#160;Measurement&#160;Architecture................................................................10</p>
<p style="position:absolute;top:512px;left:94px;white-space:nowrap" class="ft317166">3.1&#160;Integrity&#160;Measurement&#160;Process............................................................................10<br/>3.2&#160;Usage&#160;of&#160;Platform&#160;Configuration&#160;Registers...........................................................11<br/>3.3&#160;Property-based&#160;Approach.....................................................................................12</p>
<p style="position:absolute;top:576px;left:102px;white-space:nowrap" class="ft317166">3.3.1&#160;Activation&#160;of&#160;the&#160;Security&#160;Manager..................................................................12<br/>3.3.2&#160;Mapping&#160;Permissions&#160;to&#160;Properties..................................................................13</p>
<p style="position:absolute;top:619px;left:85px;white-space:nowrap" class="ft31784">4&#160;&#160;Implementation........................................................................................................15</p>
<p style="position:absolute;top:640px;left:94px;white-space:nowrap" class="ft317166">4.1&#160;Integrity&#160;Service&#160;Provider.....................................................................................15<br/>4.2&#160;Measurement&#160;Agent.............................................................................................16<br/>4.3&#160;Verification&#160;Agent.................................................................................................16<br/>4.4&#160;Storage&#160;Manager..................................................................................................17<br/>4.5&#160;Reporting&#160;Agent...................................................................................................17<br/>4.6&#160;Property&#160;Collector.................................................................................................17</p>
<p style="position:absolute;top:768px;left:102px;white-space:nowrap" class="ft31784">4.6.1&#160;PolicyPropertyCollector....................................................................................17</p>
<p style="position:absolute;top:790px;left:94px;white-space:nowrap" class="ft31784">4.7&#160;Additional&#160;System&#160;Properties...............................................................................18</p>
<p style="position:absolute;top:811px;left:85px;white-space:nowrap" class="ft317166">5&#160;&#160;Results.....................................................................................................................19<br/>6&#160;&#160;Outlook....................................................................................................................20<br/>7&#160;&#160;References...............................................................................................................21<br/>8&#160;&#160;List&#160;of&#160;Abbreviations&#160;...............................................................................................22</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft31791">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft31791">2/22</p>
</div>
<!-- Page 318 -->
<a name="318"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft318167{font-size:17px;line-height:27px;font-family:DAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page318-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2318.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft31890">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft31880">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft31891">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft31891">RC|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft31892"><b>List&#160;of&#160;figures</b></p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft318167">Figure&#160;1:&#160;Secure&#160;boot&#160;process.&#160;If&#160;secure&#160;boot&#160;is&#160;disabled,<br/>verification&#160;is&#160;not&#160;carried&#160;out&#160;(the&#160;trust&#160;decision&#160;is&#160;always&#160;positive)............................12<br/>Figure&#160;2:&#160;Architecture&#160;of&#160;the&#160;VM&#160;including&#160;the&#160;Integrity&#160;Service&#160;Provider....................16<br/>Figure&#160;3:&#160;Components&#160;of&#160;the&#160;integrity&#160;measurement&#160;architecture&#160;for&#160;the&#160;Java&#160;VM......17</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft31891">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft31891">3/22</p>
</div>
<!-- Page 319 -->
<a name="319"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page319-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2319.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft31990">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft31980">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft31991">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft31991">RC|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft31992"><b>List&#160;of&#160;Tables</b></p>
<p style="position:absolute;top:188px;left:85px;white-space:nowrap" class="ft31987">Table&#160;1:&#160;Serviceability&#160;Interfaces&#160;in&#160;HotSpot..................................................................8<br/>Table&#160;2:&#160;Important&#160;classes/methods&#160;where&#160;we&#160;placed&#160;hooks&#160;for&#160;the&#160;integrity&#160;service&#160;<br/>provider&#160;facility.............................................................................................................11</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft31991">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft31991">4/22</p>
</div>
<!-- Page 320 -->
<a name="320"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page320-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2320.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft32090">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft32080">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft32091">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft32091">RC|1.0</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft320136"><b>1&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft32093"><b>Introduction&#160;</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft32087">This&#160;deliverable&#160;deals&#160;with&#160;the&#160;design&#160;of&#160;the&#160;integration&#160;of&#160;Trusted&#160;Computing&#160;into&#160;the&#160;<br/>Java&#160;&#160;&#160;programming&#160;&#160;&#160;language&#160;&#160;&#160;environment.&#160;&#160;&#160;The&#160;&#160;&#160;Java&#160;&#160;&#160;programming&#160;&#160;&#160;environment&#160;&#160;&#160;has&#160;<br/>seen&#160;&#160;&#160;a&#160;&#160;&#160;broad&#160;&#160;&#160;adoption&#160;&#160;&#160;ranging&#160;&#160;&#160;from&#160;&#160;&#160;large-scale&#160;&#160;&#160;business&#160;&#160;&#160;applications&#160;&#160;&#160;hosted&#160;&#160;&#160;in&#160;<br/>dedicated&#160;&#160;&#160;data&#160;&#160;&#160;centers&#160;&#160;&#160;to&#160;&#160;&#160;resource&#160;&#160;&#160;constrained&#160;&#160;&#160;environments&#160;&#160;&#160;as&#160;&#160;&#160;found&#160;&#160;&#160;in&#160;&#160;&#160;mobile&#160;<br/>phones&#160;or&#160;Personal&#160;Digital&#160;Assistants&#160;(PDAs).&#160;Java&#160;programs&#160;are&#160;not&#160;compiled&#160;to&#160;native&#160;<br/>machine&#160;code&#160;but&#160;to&#160;a&#160;special&#160;form&#160;of&#160;intermediate&#160;code,&#160;called&#160;byte&#160;code.&#160;This&#160;byte&#160;<br/>code&#160;is&#160;then&#160;executed&#160;by&#160;a&#160;virtual&#160;machine&#160;(VM)&#160;called&#160;the&#160;Java&#160;VM.&#160;The&#160;main&#160;focus&#160;of&#160;<br/>this&#160;document&#160;lies&#160;on&#160;the&#160;Java&#160;VM&#160;itself.</p>
<p style="position:absolute;top:389px;left:85px;white-space:nowrap" class="ft32089"><b>NOTE:&#160;This&#160;document&#160;describes&#160;a&#160;detailed&#160;design&#160;and&#160;implementation&#160;of&#160;the&#160;<br/>amendments&#160;to&#160;the&#160;Java&#160;VM&#160;described&#160;in&#160;OpenTC&#160;deliverable&#160;D03d.2.</b></p>
<p style="position:absolute;top:454px;left:85px;white-space:nowrap" class="ft32083"><b>1.1&#160;Scope&#160;and&#160;Outline&#160;of&#160;this&#160;Document</b></p>
<p style="position:absolute;top:482px;left:85px;white-space:nowrap" class="ft32087">The&#160;focus&#160;of&#160;the&#160;work&#160;described&#160;in&#160;this&#160;document&#160;lies&#160;on&#160;extending&#160;the&#160;chain&#160;of&#160;trust&#160;<br/>as&#160;defined&#160;by&#160;the&#160;Trusted&#160;Computing&#160;Group&#160;(TGC)&#160;to&#160;Java&#160;applications.&#160;To&#160;this&#160;end,&#160;we&#160;<br/>implemented&#160;&#160;&#160;a&#160;&#160;&#160;integrity&#160;&#160;&#160;measurement&#160;&#160;&#160;architecture&#160;&#160;&#160;for&#160;&#160;&#160;the&#160;&#160;&#160;Java&#160;&#160;&#160;VM.&#160;&#160;&#160;The&#160;&#160;&#160;term&#160;<br/>measurement&#160;refers&#160;to&#160;the&#160;TCG&#160;definition&#160;which&#160;defines&#160;measurement&#160;as&#160;hashing&#160;the&#160;<br/>contents&#160;&#160;&#160;of&#160;&#160;&#160;security&#160;&#160;&#160;relevant&#160;&#160;&#160;files.&#160;&#160;&#160;We&#160;&#160;&#160;further&#160;&#160;address&#160;&#160;&#160;the&#160;&#160;&#160;problem&#160;&#160;&#160;of&#160;&#160;&#160;attesting&#160;&#160;&#160;to&#160;<br/>properties&#160;of&#160;selected&#160;security&#160;features&#160;of&#160;a&#160;virtual&#160;machine&#160;environment.<br/>The&#160;outline&#160;of&#160;this&#160;document&#160;is&#160;as&#160;follows:&#160;Section&#160;2&#160;gives&#160;an&#160;overview&#160;over&#160;the&#160;basic&#160;<br/>concepts&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;Java&#160;&#160;&#160;VM&#160;&#160;&#160;which&#160;&#160;&#160;are&#160;&#160;&#160;needed&#160;&#160;&#160;throughout&#160;&#160;&#160;this&#160;&#160;&#160;document.&#160;&#160;&#160;Section&#160;&#160;&#160;3&#160;<br/>describes&#160;the&#160;design&#160;of&#160;the&#160;integration&#160;of&#160;the&#160;measurement&#160;architecture&#160;into&#160;the&#160;Java&#160;<br/>VM.&#160;Section&#160;4&#160;outlines&#160;our&#160;implementation.&#160;Section&#160;5&#160;presents&#160;some&#160;results&#160;of&#160;this&#160;<br/>work.&#160;Section&#160;6&#160;addresses&#160;open&#160;issues&#160;and&#160;gives&#160;an&#160;outlook&#160;to&#160;future&#160;work.</p>
<p style="position:absolute;top:729px;left:85px;white-space:nowrap" class="ft32083"><b>1.2&#160;Related&#160;Work</b></p>
<p style="position:absolute;top:757px;left:85px;white-space:nowrap" class="ft320167">We&#160;give&#160;an&#160;overview&#160;of&#160;related&#160;work&#160;in&#160;this&#160;area&#160;in&#160;this&#160;section.<br/>The&#160;concept&#160;of&#160;&#160;</p>
<p style="position:absolute;top:785px;left:221px;white-space:nowrap" class="ft32095"><i>Property-Based&#160;Attestation</i></p>
<p style="position:absolute;top:785px;left:447px;white-space:nowrap" class="ft32084">&#160;&#160;(PBA)&#160;[SAD04]&#160;&#160;proposes&#160;an&#160;alternative&#160;to&#160;</p>
<p style="position:absolute;top:804px;left:85px;white-space:nowrap" class="ft32084">the&#160;&#160;&#160;attestation&#160;&#160;&#160;mechanisms&#160;&#160;&#160;specified&#160;&#160;&#160;by&#160;&#160;&#160;the&#160;&#160;&#160;TCG&#160;&#160;&#160;(henceforth&#160;&#160;&#160;called&#160;&#160;</p>
<p style="position:absolute;top:804px;left:754px;white-space:nowrap" class="ft32095"><i>binary&#160;</i></p>
<p style="position:absolute;top:823px;left:85px;white-space:nowrap" class="ft32095"><i>attestation)</i></p>
<p style="position:absolute;top:823px;left:182px;white-space:nowrap" class="ft32084">.&#160;A&#160;&#160;</p>
<p style="position:absolute;top:823px;left:216px;white-space:nowrap" class="ft32095"><i>Trusted&#160;Third&#160;Party</i></p>
<p style="position:absolute;top:823px;left:382px;white-space:nowrap" class="ft32084">&#160;&#160;(TTP)&#160;translates&#160;the&#160;actual&#160;&#160;system&#160;&#160;configuration&#160;</p>
<p style="position:absolute;top:842px;left:85px;white-space:nowrap" class="ft32087">into&#160;&#160;&#160;a&#160;&#160;&#160;set&#160;&#160;&#160;of&#160;&#160;&#160;properties&#160;&#160;&#160;and&#160;&#160;&#160;issues&#160;&#160;&#160;certificates&#160;&#160;&#160;for&#160;&#160;&#160;those&#160;&#160;&#160;properties.&#160;&#160;&#160;During&#160;&#160;&#160;the&#160;<br/>attestation&#160;process&#160;a&#160;(remote)&#160;verifier&#160;can&#160;decide&#160;whether&#160;or&#160;not&#160;the&#160;platform&#160;security&#160;<br/>properties&#160;meet&#160;the&#160;requirements&#160;of&#160;the&#160;respective&#160;use&#160;case.&#160;In&#160;literature,&#160;using&#160;TTPs&#160;<br/>for&#160;&#160;&#160;certification&#160;&#160;&#160;of&#160;&#160;&#160;properties&#160;&#160;&#160;is&#160;&#160;&#160;called&#160;&#160;</p>
<p style="position:absolute;top:900px;left:446px;white-space:nowrap" class="ft32095"><i>delegation</i></p>
<p style="position:absolute;top:900px;left:534px;white-space:nowrap" class="ft32084">.&#160;&#160;&#160;This&#160;&#160;&#160;scenario&#160;&#160;&#160;avoids&#160;&#160;&#160;several&#160;</p>
<p style="position:absolute;top:919px;left:85px;white-space:nowrap" class="ft32087">(undesired)&#160;&#160;&#160;drawbacks&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;attestation&#160;&#160;&#160;process&#160;&#160;&#160;defined&#160;&#160;&#160;by&#160;&#160;&#160;the&#160;&#160;&#160;TCG.&#160;&#160;&#160;At&#160;&#160;&#160;first,&#160;&#160;&#160;the&#160;<br/>specific&#160;&#160;&#160;system&#160;&#160;&#160;configuration&#160;&#160;&#160;is&#160;&#160;&#160;hidden&#160;&#160;&#160;from&#160;&#160;&#160;the&#160;&#160;&#160;verifier.&#160;&#160;&#160;In&#160;&#160;&#160;a&#160;&#160;&#160;real-world&#160;&#160;&#160;setting,&#160;<br/>management&#160;of&#160;all&#160;possible&#160;configurations&#160;is&#160;a&#160;complex&#160;task.&#160;Further,&#160;presenting&#160;the&#160;<br/>actual&#160;system&#160;configuration&#160;to&#160;a&#160;verifier&#160;is&#160;not&#160;desirable&#160;from&#160;a&#160;privacy&#160;perspective.&#160;<br/>The&#160;final&#160;argument&#160;against&#160;TCG&#160;binary&#160;attestation&#160;is&#160;that&#160;it&#160;allows&#160;possible&#160;attackers&#160;<br/>to&#160;gain&#160;information&#160;about&#160;a&#160;system&#160;which&#160;could&#160;then&#160;be&#160;exploited&#160;to&#160;actually&#160;mount&#160;an&#160;<br/>attack.<br/>Another&#160;&#160;&#160;proposal&#160;&#160;&#160;deals&#160;&#160;&#160;with&#160;&#160;&#160;a&#160;&#160;&#160;generic&#160;&#160;&#160;attestation&#160;&#160;&#160;framework&#160;&#160;&#160;for&#160;&#160;&#160;virtual&#160;&#160;&#160;machine&#160;<br/>monitors&#160;[JAN06].&#160;&#160;&#160;The&#160;&#160;&#160;authors&#160;&#160;&#160;describe&#160;&#160;&#160;an&#160;&#160;&#160;architecture&#160;&#160;&#160;used&#160;&#160;&#160;for&#160;&#160;&#160;attestation&#160;&#160;&#160;and&#160;<br/>verification.&#160;For&#160;this&#160;purpose,&#160;they&#160;define&#160;generalized&#160;attestation&#160;as&#160;a&#160;projection&#160;of&#160;the&#160;</p>
<p style="position:absolute;top:1120px;left:85px;white-space:nowrap" class="ft32095"><i>Stored&#160;&#160;&#160;Measurement&#160;&#160;&#160;Log</i></p>
<p style="position:absolute;top:1120px;left:305px;white-space:nowrap" class="ft32084">&#160;&#160;(SML)&#160;&#160;&#160;file&#160;&#160;&#160;using&#160;&#160;&#160;a&#160;&#160;&#160;mapping.&#160;&#160;&#160;For&#160;&#160;&#160;binary&#160;&#160;&#160;attestation,&#160;&#160;&#160;the&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft32091">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft32091">5/22</p>
</div>
<!-- Page 321 -->
<a name="321"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft321168{font-size:14px;font-family:GAAAAA+OpenSymbol;color:#000000;}
	.ft321169{font-size:15px;font-family:FAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page321-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2321.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft32190">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft32180">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft32191">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft32191">RC|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft321167">mapping&#160;is&#160;the&#160;identity&#160;function.&#160;For&#160;property&#160;attestation,&#160;the&#160;mapping&#160;can&#160;be&#160;defined&#160;<br/>to&#160;attest&#160;&#160;&#160;to&#160;&#160;high-level&#160;properties.&#160;&#160;However,&#160;&#160;the&#160;paper&#160;&#160;does&#160;not&#160;&#160;contain&#160;&#160;a&#160;&#160;concrete&#160;<br/>instantiation&#160;example&#160;of&#160;the&#160;mapping&#160;for&#160;attesting&#160;to&#160;properties.<br/>Alternatively,&#160;&#160;</p>
<p style="position:absolute;top:217px;left:211px;white-space:nowrap" class="ft32195"><i>Semantic&#160;&#160;&#160;Remote&#160;&#160;&#160;Attestation</i></p>
<p style="position:absolute;top:217px;left:474px;white-space:nowrap" class="ft32184">&#160;&#160;(SRA)&#160;[HAL04]&#160;&#160;uses&#160;&#160;&#160;language-based&#160;</p>
<p style="position:absolute;top:237px;left:85px;white-space:nowrap" class="ft32187">techniques&#160;to&#160;attest&#160;high&#160;level&#160;properties&#160;of&#160;an&#160;application.&#160;The&#160;proposal&#160;is&#160;based&#160;on&#160;<br/>the&#160;&#160;</p>
<p style="position:absolute;top:256px;left:121px;white-space:nowrap" class="ft32195"><i>Java&#160;Virtual&#160;Machine</i></p>
<p style="position:absolute;top:256px;left:297px;white-space:nowrap" class="ft32184">&#160;&#160;(JVM)&#160;environment&#160;which&#160;is&#160;attested&#160;by&#160;binary&#160;attestation&#160;</p>
<p style="position:absolute;top:275px;left:85px;white-space:nowrap" class="ft32187">itself.&#160;The&#160;JVM&#160;can&#160;enforce&#160;a&#160;security&#160;policy&#160;on&#160;the&#160;running&#160;code&#160;based&#160;on&#160;data&#160;flow&#160;<br/>control&#160;and&#160;tain<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#321">t</a></p>
<p style="position:absolute;top:294px;left:223px;white-space:nowrap" class="ft32185"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#321">1</a></p>
<p style="position:absolute;top:294px;left:229px;white-space:nowrap" class="ft32184"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#321">&#160;</a>propagation&#160;mechanisms.&#160;Hence,&#160;this&#160;approach&#160;is&#160;a&#160;hybrid&#160;approach&#160;</p>
<p style="position:absolute;top:313px;left:85px;white-space:nowrap" class="ft32187">between&#160;binary&#160;attestation&#160;and&#160;attesting&#160;to&#160;properties.<br/>The&#160;&#160;&#160;Policy-Reduced&#160;&#160;&#160;Integrity&#160;&#160;&#160;Measurement&#160;&#160;&#160;Architecture&#160;&#160;&#160;(PRIMA)&#160;[JAE06]&#160;&#160;performs&#160;<br/>measurements&#160;&#160;&#160;for&#160;&#160;&#160;code&#160;&#160;&#160;and&#160;&#160;&#160;data&#160;&#160;&#160;that&#160;&#160;&#160;belongs&#160;&#160;&#160;to&#160;&#160;&#160;or&#160;&#160;&#160;communicates&#160;&#160;&#160;with&#160;&#160;</p>
<p style="position:absolute;top:360px;left:747px;white-space:nowrap" class="ft32195"><i>trusted&#160;</i></p>
<p style="position:absolute;top:379px;left:85px;white-space:nowrap" class="ft32195"><i>subjects</i></p>
<p style="position:absolute;top:379px;left:154px;white-space:nowrap" class="ft32184">.&#160;The&#160;underlying&#160;principle&#160;is&#160;the&#160;</p>
<p style="position:absolute;top:379px;left:422px;white-space:nowrap" class="ft32195"><i>Biba&#160;integrity&#160;model</i></p>
<p style="position:absolute;top:379px;left:590px;white-space:nowrap" class="ft32184">&#160;which&#160;separates&#160;high&#160;and&#160;</p>
<p style="position:absolute;top:399px;left:85px;white-space:nowrap" class="ft32187">low&#160;&#160;&#160;integrity&#160;&#160;&#160;processes&#160;&#160;&#160;(or&#160;&#160;&#160;subjects)&#160;&#160;&#160;and&#160;&#160;&#160;requires&#160;&#160;&#160;that&#160;&#160;&#160;the&#160;&#160;&#160;information&#160;&#160;&#160;flow&#160;&#160;&#160;to&#160;&#160;&#160;a&#160;<br/>process&#160;is&#160;at&#160;its&#160;integrity&#160;level&#160;or&#160;higher.&#160;The&#160;model&#160;is&#160;extended&#160;to&#160;enhance&#160;run-time&#160;<br/>integrity&#160;measurement&#160;through&#160;identification&#160;of&#160;trusted&#160;subjects&#160;and&#160;through&#160;filtering&#160;<br/>of&#160;the&#160;information&#160;flow&#160;in&#160;the&#160;system.&#160;Those&#160;two&#160;goals&#160;are&#160;achieved&#160;with&#160;the&#160;help&#160;of&#160;</p>
<p style="position:absolute;top:475px;left:85px;white-space:nowrap" class="ft32195"><i>Security&#160;Enhanced&#160;Linux</i></p>
<p style="position:absolute;top:475px;left:290px;white-space:nowrap" class="ft32184">&#160;(SELinux)&#160;and&#160;its&#160;</p>
<p style="position:absolute;top:475px;left:441px;white-space:nowrap" class="ft32195"><i>Mandatory&#160;Access&#160;Control</i></p>
<p style="position:absolute;top:475px;left:657px;white-space:nowrap" class="ft32184">&#160;(MAC)&#160;policy.&#160;The&#160;</p>
<p style="position:absolute;top:495px;left:85px;white-space:nowrap" class="ft32187">rationale&#160;behind&#160;this&#160;approach&#160;is&#160;that&#160;not&#160;all&#160;processes&#160;on&#160;a&#160;platform&#160;contribute&#160;to&#160;the&#160;<br/>trust&#160;status&#160;of&#160;an&#160;application.&#160;Hence,&#160;the&#160;measurement&#160;includes&#160;only&#160;the&#160;application&#160;<br/>itself&#160;and&#160;all&#160;code&#160;that&#160;is&#160;incorporated&#160;through&#160;information&#160;flows.&#160;Those&#160;are&#160;restricted&#160;<br/>to&#160;the&#160;subjects&#160;trusted&#160;by&#160;a&#160;remote&#160;verifier.<br/>The&#160;idea&#160;of&#160;a&#160;form&#160;of&#160;generalized&#160;attestation&#160;has&#160;also&#160;been&#160;envisioned&#160;in&#160;a&#160;position&#160;<br/>paper&#160;&#160;&#160;about&#160;&#160;</p>
<p style="position:absolute;top:599px;left:210px;white-space:nowrap" class="ft32195"><i>Trusted&#160;&#160;&#160;Virtual&#160;&#160;&#160;Domains</i></p>
<p style="position:absolute;top:599px;left:429px;white-space:nowrap" class="ft32184">&#160;&#160;(TVDs)&#160;[LIN05]&#160;&#160;in&#160;&#160;&#160;the&#160;&#160;&#160;setting&#160;&#160;&#160;of&#160;&#160;&#160;secure&#160;</p>
<p style="position:absolute;top:619px;left:85px;white-space:nowrap" class="ft32187">distributed&#160;&#160;&#160;services.&#160;&#160;&#160;The&#160;&#160;&#160;authors&#160;&#160;&#160;identify&#160;&#160;&#160;several&#160;&#160;&#160;classes&#160;&#160;&#160;of&#160;&#160;&#160;properties&#160;&#160;&#160;that&#160;&#160;&#160;are&#160;<br/>potentially&#160;useful&#160;for&#160;attestation&#160;which&#160;we&#160;discuss&#160;in&#160;the&#160;next&#160;sections.&#160;Whereas&#160;some&#160;<br/>of&#160;the&#160;property&#160;classes&#160;&#160;&#160;aim&#160;at&#160;different&#160;levels&#160;of&#160;abstraction,&#160;the&#160;following&#160;list&#160;shows&#160;<br/>properties&#160;addressable&#160;by&#160;a&#160;JVM:</p>
<p style="position:absolute;top:708px;left:112px;white-space:nowrap" class="ft321168">●</p>
<p style="position:absolute;top:704px;left:139px;white-space:nowrap" class="ft32187">Confinement&#160;(isolation,&#160;confidentiality)&#160;–&#160;refers&#160;to&#160;the&#160;secrecy&#160;of&#160;code/data&#160;and&#160;<br/>its&#160;isolation&#160;from&#160;other&#160;entities&#160;(code/data).</p>
<p style="position:absolute;top:756px;left:112px;white-space:nowrap" class="ft321168">●</p>
<p style="position:absolute;top:751px;left:139px;white-space:nowrap" class="ft32184">Immutability&#160;–&#160;refers&#160;to&#160;read-only&#160;enforcement&#160;of&#160;data.</p>
<p style="position:absolute;top:783px;left:112px;white-space:nowrap" class="ft321168">●</p>
<p style="position:absolute;top:779px;left:139px;white-space:nowrap" class="ft32187">Integrity&#160;–&#160;refers&#160;to&#160;the&#160;integrity&#160;status&#160;of&#160;data&#160;in&#160;accordance&#160;with&#160;the&#160;Biba&#160;<br/>integrity&#160;model.</p>
<p style="position:absolute;top:830px;left:112px;white-space:nowrap" class="ft321168">●</p>
<p style="position:absolute;top:826px;left:139px;white-space:nowrap" class="ft32187">Secure&#160;I/O&#160;primitives&#160;–&#160;refers&#160;to&#160;available&#160;secure&#160;communication&#160;and/or&#160;storage&#160;<br/>facilities.</p>
<p style="position:absolute;top:877px;left:112px;white-space:nowrap" class="ft321168">●</p>
<p style="position:absolute;top:873px;left:139px;white-space:nowrap" class="ft32184">Identity&#160;–&#160;refers&#160;to&#160;identity&#160;properties&#160;of&#160;components&#160;of&#160;a&#160;platform.</p>
<p style="position:absolute;top:1104px;left:85px;white-space:nowrap" class="ft32191">1&#160;Data&#160;is&#160;referred&#160;to&#160;as&#160;</p>
<p style="position:absolute;top:1104px;left:271px;white-space:nowrap" class="ft321169"><i>tainted</i></p>
<p style="position:absolute;top:1104px;left:324px;white-space:nowrap" class="ft32191">,&#160;if&#160;it&#160;originates&#160;from&#160;an&#160;untrusted&#160;source&#160;(e.g.&#160;a&#160;network&#160;</p>
<p style="position:absolute;top:1122px;left:107px;white-space:nowrap" class="ft32191">source).</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft32191">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft32191">6/22</p>
</div>
<!-- Page 322 -->
<a name="322"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft322170{font-size:17px;font-family:HAAAAA+DejaVuSans;color:#000000;}
-->
</style>
<div id="page322-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2322.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft32290">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft32280">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft32291">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft32291">RC|1.0</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft322136"><b>2&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft32293"><b>Review&#160;of&#160;Required&#160;Java&#160;Virtual&#160;Machine&#160;Functionality</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft32287">We&#160;briefly&#160;review&#160;functionality&#160;of&#160;the&#160;JVM&#160;in&#160;this&#160;section&#160;to&#160;give&#160;an&#160;introduction&#160;to&#160;the&#160;<br/>concepts&#160;&#160;&#160;important&#160;&#160;&#160;to&#160;&#160;&#160;the&#160;&#160;&#160;design&#160;&#160;&#160;and&#160;&#160;&#160;implementation&#160;&#160;&#160;described&#160;&#160;&#160;in&#160;&#160;&#160;the&#160;&#160;&#160;following&#160;<br/>sections&#160;of&#160;this&#160;document.</p>
<p style="position:absolute;top:283px;left:85px;white-space:nowrap" class="ft32283"><b>2.1&#160;Dynamic&#160;Class&#160;Loading</b></p>
<p style="position:absolute;top:312px;left:85px;white-space:nowrap" class="ft32287">Dynamic&#160;class&#160;loading&#160;is&#160;a&#160;feature&#160;of&#160;the&#160;Java&#160;VM&#160;specification.&#160;Classes&#160;are&#160;loaded&#160;<br/>during&#160;run-time&#160;from&#160;any&#160;location&#160;pointed&#160;to&#160;by&#160;the&#160;class&#160;path.&#160;Such&#160;a&#160;location&#160;can&#160;<br/>also&#160;&#160;&#160;be&#160;&#160;&#160;a&#160;&#160;&#160;network&#160;&#160;&#160;location.&#160;&#160;&#160;The&#160;&#160;&#160;class&#160;&#160;&#160;loaders&#160;&#160;&#160;form&#160;&#160;&#160;a&#160;&#160;&#160;tree&#160;&#160;&#160;structure&#160;&#160;&#160;to&#160;&#160;&#160;enable&#160;&#160;&#160;a&#160;<br/>delegation&#160;model.&#160;A&#160;class&#160;loader&#160;can&#160;delegate&#160;the&#160;loading&#160;of&#160;classes&#160;to&#160;a&#160;parent&#160;class&#160;<br/>loader&#160;and,&#160;if&#160;the&#160;loading&#160;fails,&#160;try&#160;to&#160;locate&#160;and&#160;load&#160;classes&#160;itself.&#160;The&#160;root&#160;of&#160;the&#160;tree&#160;<br/>is&#160;the&#160;so-called&#160;bootstrap&#160;(or&#160;primordial)&#160;class&#160;loader.&#160;The&#160;loaded&#160;classes&#160;are&#160;assigned&#160;<br/>to&#160;so-called&#160;</p>
<p style="position:absolute;top:427px;left:187px;white-space:nowrap" class="ft32295"><i>protection&#160;domains</i></p>
<p style="position:absolute;top:427px;left:348px;white-space:nowrap" class="ft32284">&#160;which&#160;prevent&#160;leakage&#160;of&#160;information&#160;between&#160;trusted&#160;</p>
<p style="position:absolute;top:446px;left:85px;white-space:nowrap" class="ft32284">code&#160;and&#160;application-specific&#160;code.</p>
<p style="position:absolute;top:492px;left:85px;white-space:nowrap" class="ft32283"><b>2.2&#160;Java&#160;Native&#160;Interface</b></p>
<p style="position:absolute;top:520px;left:85px;white-space:nowrap" class="ft32287">The&#160;Java&#160;Native&#160;Interface&#160;(JNI)&#160;allows&#160;the&#160;application&#160;designer&#160;to&#160;use&#160;programming&#160;<br/>languages&#160;such&#160;as&#160;C/C++&#160;or&#160;assembly&#160;to&#160;interact&#160;with&#160;Java&#160;applications&#160;[JNI07].&#160;The&#160;<br/>interface&#160;is&#160;two-way,&#160;that&#160;is&#160;the&#160;native&#160;code&#160;can&#160;also&#160;access&#160;Java&#160;objects,&#160;i.e.&#160;create,&#160;<br/>inspect&#160;and&#160;update&#160;them,&#160;call&#160;Java&#160;methods,&#160;catch&#160;and&#160;throw&#160;exceptions,&#160;load&#160;classes&#160;<br/>and&#160;obtain&#160;class&#160;information.&#160;Examples&#160;for&#160;native&#160;libraries&#160;are&#160;standard&#160;I/O,&#160;file&#160;I/O&#160;<br/>and&#160;sound&#160;capabilities&#160;which&#160;are&#160;shipped&#160;with&#160;the&#160;VM.</p>
<p style="position:absolute;top:662px;left:85px;white-space:nowrap" class="ft32283"><b>2.3&#160;Security&#160;Architecture</b></p>
<p style="position:absolute;top:690px;left:85px;white-space:nowrap" class="ft32287">The&#160;security&#160;architecture&#160;of&#160;the&#160;Java&#160;language&#160;encompasses&#160;several&#160;mechanisms&#160;of&#160;<br/>which&#160;the&#160;access&#160;control&#160;mechanism&#160;is&#160;the&#160;most&#160;interesting&#160;for&#160;our&#160;purposes.</p>
<p style="position:absolute;top:755px;left:85px;white-space:nowrap" class="ft32298"><b>2.3.1&#160;Permissions</b></p>
<p style="position:absolute;top:781px;left:85px;white-space:nowrap" class="ft32287">The&#160;security&#160;model&#160;for&#160;the&#160;Java&#160;VM&#160;allows&#160;a&#160;fine&#160;grained&#160;policy&#160;based&#160;on&#160;permissions.&#160;<br/>A&#160;permission&#160;is&#160;abstracted&#160;by&#160;a&#160;</p>
<p style="position:absolute;top:801px;left:361px;white-space:nowrap" class="ft322170">Permission</p>
<p style="position:absolute;top:801px;left:451px;white-space:nowrap" class="ft32284">&#160;object&#160;and&#160;there&#160;exist&#160;several&#160;subclasses&#160;</p>
<p style="position:absolute;top:820px;left:85px;white-space:nowrap" class="ft32284">reflecting&#160;&#160;&#160;the&#160;&#160;&#160;different&#160;&#160;&#160;parts&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;Java&#160;&#160;&#160;VM&#160;&#160;&#160;such&#160;&#160;&#160;as&#160;&#160;</p>
<p style="position:absolute;top:820px;left:645px;white-space:nowrap" class="ft322170">SecurityPermission</p>
<p style="position:absolute;top:820px;left:803px;white-space:nowrap" class="ft32284">,&#160;</p>
<p style="position:absolute;top:839px;left:85px;white-space:nowrap" class="ft322170">RuntimePermission</p>
<p style="position:absolute;top:839px;left:245px;white-space:nowrap" class="ft32284">,&#160;&#160;</p>
<p style="position:absolute;top:839px;left:270px;white-space:nowrap" class="ft322170">FilePermission</p>
<p style="position:absolute;top:839px;left:388px;white-space:nowrap" class="ft32284">,&#160;&#160;</p>
<p style="position:absolute;top:839px;left:413px;white-space:nowrap" class="ft322170">NetPermission</p>
<p style="position:absolute;top:839px;left:532px;white-space:nowrap" class="ft32284">,&#160;&#160;</p>
<p style="position:absolute;top:839px;left:557px;white-space:nowrap" class="ft322170">SocketPermission</p>
<p style="position:absolute;top:839px;left:702px;white-space:nowrap" class="ft32284">,&#160;&#160;&#160;etc.&#160;&#160;&#160;The&#160;</p>
<p style="position:absolute;top:858px;left:85px;white-space:nowrap" class="ft32287">enforcement&#160;&#160;&#160;of&#160;&#160;&#160;permissions&#160;&#160;is&#160;&#160;done&#160;&#160;&#160;via&#160;&#160;&#160;the&#160;&#160;&#160;security&#160;&#160;&#160;manager&#160;&#160;class.&#160;&#160;&#160;On&#160;&#160;&#160;a&#160;&#160;security&#160;<br/>relevant&#160;call,&#160;the&#160;class&#160;library&#160;invokes&#160;the&#160;security&#160;manager.&#160;Hence,&#160;the&#160;main&#160;focus&#160;of&#160;<br/>the&#160;security&#160;enforcement&#160;mechanisms&#160;lies&#160;on&#160;class&#160;level.</p>
<p style="position:absolute;top:942px;left:85px;white-space:nowrap" class="ft32298"><b>2.3.2&#160;Principals</b></p>
<p style="position:absolute;top:969px;left:85px;white-space:nowrap" class="ft32287">The&#160;Java&#160;security&#160;architecture&#160;assigns&#160;permissions&#160;to&#160;so-called&#160;protection&#160;domains.&#160;A&#160;<br/>protection&#160;&#160;&#160;domain&#160;&#160;&#160;encompasses&#160;&#160;&#160;a&#160;&#160;&#160;code-base&#160;&#160;&#160;(i.e.&#160;&#160;&#160;a&#160;&#160;&#160;location&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;class&#160;&#160;&#160;path),&#160;&#160;&#160;a&#160;<br/>principal,&#160;and&#160;a&#160;set&#160;of&#160;permissions.&#160;The&#160;principal&#160;is&#160;identified&#160;by&#160;a&#160;certificate&#160;chain.</p>
<p style="position:absolute;top:1053px;left:85px;white-space:nowrap" class="ft32298"><b>2.3.3&#160;Access&#160;Control&#160;Mechanism</b></p>
<p style="position:absolute;top:1080px;left:85px;white-space:nowrap" class="ft32287">The&#160;&#160;&#160;algorithm&#160;&#160;&#160;that&#160;&#160;&#160;enforces&#160;&#160;&#160;access&#160;&#160;&#160;control&#160;&#160;&#160;is&#160;&#160;&#160;called&#160;&#160;&#160;stack&#160;&#160;&#160;inspection,&#160;&#160;&#160;that&#160;&#160;&#160;is,&#160;&#160;&#160;the&#160;<br/>decision&#160;whether&#160;a&#160;method&#160;is&#160;allowed&#160;to&#160;access&#160;a&#160;resource&#160;is&#160;based&#160;on&#160;the&#160;call&#160;stack.&#160;<br/>The&#160;algorithm&#160;searches&#160;each&#160;stack&#160;frame&#160;starting&#160;from&#160;top&#160;to&#160;bottom&#160;(hence&#160;starting&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft32291">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft32291">7/22</p>
</div>
<!-- Page 323 -->
<a name="323"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page323-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2323.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft32390">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft32380">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft32391">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft32391">RC|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft32387">from&#160;&#160;&#160;the&#160;&#160;&#160;most&#160;&#160;&#160;recently&#160;&#160;&#160;called&#160;&#160;&#160;method)&#160;&#160;&#160;and&#160;&#160;&#160;tests&#160;&#160;&#160;whether&#160;&#160;&#160;the&#160;&#160;&#160;method&#160;&#160;&#160;has&#160;&#160;&#160;the&#160;<br/>appropriate&#160;&#160;&#160;permissions&#160;&#160;&#160;to&#160;&#160;&#160;access&#160;&#160;&#160;the&#160;&#160;&#160;resource.&#160;&#160;&#160;Each&#160;&#160;&#160;stack&#160;&#160;&#160;frame&#160;&#160;&#160;is&#160;&#160;mapped&#160;&#160;&#160;to&#160;&#160;a&#160;<br/>protection&#160;domain&#160;through&#160;the&#160;class&#160;the&#160;method&#160;(that&#160;actually&#160;is&#160;represented&#160;by&#160;the&#160;<br/>frame)&#160;belongs&#160;to.&#160;Each&#160;protection&#160;domain&#160;has&#160;an&#160;assigned&#160;set&#160;of&#160;permissions&#160;which&#160;<br/>can&#160;be&#160;easily&#160;checked.<br/>If&#160;the&#160;algorithm&#160;encounters&#160;a&#160;frame&#160;marked&#160;as&#160;privileged&#160;it&#160;terminates&#160;and&#160;grants&#160;<br/>access.&#160;This&#160;privileged&#160;frame&#160;is&#160;marked&#160;through&#160;calling&#160;the&#160;</p>
<p style="position:absolute;top:275px;left:583px;white-space:nowrap" class="ft323170">doPrivileged</p>
<p style="position:absolute;top:275px;left:685px;white-space:nowrap" class="ft32384">&#160;method&#160;of&#160;the&#160;</p>
<p style="position:absolute;top:294px;left:85px;white-space:nowrap" class="ft32387">access&#160;controller&#160;which,&#160;so&#160;to&#160;say,&#160;enables&#160;the&#160;privileges&#160;of&#160;a&#160;class.&#160;The&#160;point&#160;here&#160;is&#160;<br/>that&#160;&#160;&#160;some&#160;&#160;&#160;method&#160;&#160;&#160;may&#160;&#160;&#160;have&#160;&#160;&#160;privileges&#160;&#160;&#160;that&#160;&#160;&#160;caller&#160;&#160;&#160;methods&#160;&#160;&#160;may&#160;&#160;&#160;not&#160;&#160;&#160;have,&#160;&#160;&#160;like&#160;<br/>accessing&#160;a&#160;system&#160;resource.&#160;An&#160;example&#160;where&#160;this&#160;proves&#160;to&#160;be&#160;useful&#160;is&#160;a&#160;caching&#160;<br/>mechanism&#160;&#160;&#160;for&#160;&#160;&#160;a&#160;&#160;&#160;network&#160;&#160;&#160;connection.&#160;&#160;&#160;An&#160;&#160;&#160;application&#160;&#160;&#160;itself&#160;&#160;&#160;does&#160;&#160;&#160;not&#160;&#160;&#160;need&#160;&#160;&#160;to&#160;&#160;&#160;have&#160;<br/>permissions&#160;for&#160;file&#160;access&#160;but&#160;the&#160;system&#160;class&#160;performing&#160;the&#160;caching&#160;needs&#160;such&#160;<br/>permissions.</p>
<p style="position:absolute;top:436px;left:85px;white-space:nowrap" class="ft32383"><b>2.4&#160;Serviceability&#160;in&#160;HotSpot</b></p>
<p style="position:absolute;top:464px;left:85px;white-space:nowrap" class="ft32387">The&#160;&#160;&#160;JVM&#160;&#160;&#160;specification&#160;&#160;&#160;and&#160;&#160;&#160;HotSpot&#160;&#160;&#160;as&#160;&#160;&#160;a&#160;&#160;&#160;concrete&#160;&#160;&#160;implementation&#160;&#160;&#160;provide&#160;&#160;&#160;several&#160;<br/>interfaces&#160;for&#160;serviceability&#160;[OJDK07].&#160;Those&#160;interfaces&#160;allow&#160;the&#160;operation&#160;of&#160;the&#160;VM&#160;<br/>being&#160;observed&#160;by&#160;another&#160;Java&#160;process.&#160;In&#160;the&#160;case&#160;of&#160;a&#160;trusted&#160;VM,&#160;interfaces&#160;that&#160;<br/>allow&#160;the&#160;alteration&#160;of&#160;data&#160;are&#160;of&#160;special&#160;interest.&#160;This&#160;is&#160;due&#160;to&#160;the&#160;fact&#160;that&#160;the&#160;<br/>classes&#160;are&#160;loaded&#160;during&#160;runtime&#160;which&#160;does&#160;not&#160;cover&#160;any&#160;changes&#160;made&#160;to&#160;the&#160;<br/>executable&#160;in&#160;memory.&#160;&#160;A&#160;list&#160;&#160;of&#160;those&#160;interfaces&#160;is&#160;shown&#160;in&#160;Table<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#323">&#160;1.</a>&#160;Mostly&#160;&#160;these&#160;<br/>interfaces&#160;deal&#160;with&#160;inspection&#160;only;&#160;an&#160;exception&#160;poses&#160;the&#160;</p>
<p style="position:absolute;top:579px;left:595px;white-space:nowrap" class="ft32395"><i>Java&#160;Virtual&#160;Machine&#160;Tool&#160;</i></p>
<p style="position:absolute;top:598px;left:85px;white-space:nowrap" class="ft32395"><i>Interface</i></p>
<p style="position:absolute;top:598px;left:159px;white-space:nowrap" class="ft32384">&#160;(JVMTI).</p>
<p style="position:absolute;top:635px;left:85px;white-space:nowrap" class="ft32398"><b>Table&#160;1:&#160;Serviceability&#160;Interfaces&#160;in&#160;HotSpot</b></p>
<p style="position:absolute;top:666px;left:223px;white-space:nowrap" class="ft323147"><i><b>Interface</b></i></p>
<p style="position:absolute;top:666px;left:573px;white-space:nowrap" class="ft323147"><i><b>Description</b></i></p>
<p style="position:absolute;top:702px;left:89px;white-space:nowrap" class="ft32384">Serviceability&#160;Agent</p>
<p style="position:absolute;top:702px;left:451px;white-space:nowrap" class="ft32387">Sun&#160;private&#160;component&#160;developed&#160;to&#160;<br/>assist&#160;debugging&#160;of&#160;HotSpot;&#160;exposes&#160;Java&#160;<br/>objects&#160;as&#160;well&#160;as&#160;HotSpot&#160;data&#160;structures</p>
<p style="position:absolute;top:777px;left:89px;white-space:nowrap" class="ft32384">Performance&#160;Counters</p>
<p style="position:absolute;top:777px;left:451px;white-space:nowrap" class="ft32387">Exposed&#160;for&#160;performance&#160;evaluation;&#160;<br/>through&#160;shared&#160;memory</p>
<p style="position:absolute;top:832px;left:89px;white-space:nowrap" class="ft32384">Java&#160;Virtual&#160;Machine&#160;Tool&#160;Interface</p>
<p style="position:absolute;top:832px;left:451px;white-space:nowrap" class="ft32387">Reference&#160;implementation&#160;of&#160;the&#160;Platform&#160;<br/>Profiling&#160;Architecture;&#160;inspection&#160;and&#160;<br/>modification&#160;of&#160;the&#160;VM's&#160;state</p>
<p style="position:absolute;top:907px;left:89px;white-space:nowrap" class="ft32384">Monitoring&#160;and&#160;Management&#160;Interface</p>
<p style="position:absolute;top:907px;left:451px;white-space:nowrap" class="ft32384">Sun&#160;private&#160;API&#160;to&#160;inspect&#160;HotSpot</p>
<p style="position:absolute;top:943px;left:89px;white-space:nowrap" class="ft32384">Dynamic&#160;Attach</p>
<p style="position:absolute;top:943px;left:451px;white-space:nowrap" class="ft32387">Allows&#160;to&#160;launch&#160;external&#160;process&#160;in&#160;the&#160;<br/>VM&#160;that&#160;can&#160;be&#160;used&#160;to&#160;start&#160;a&#160;JVMTI&#160;<br/>agent</p>
<p style="position:absolute;top:1017px;left:89px;white-space:nowrap" class="ft32384">Dtrace</p>
<p style="position:absolute;top:1017px;left:451px;white-space:nowrap" class="ft32384">Probing&#160;interface&#160;for&#160;Solaris</p>
<p style="position:absolute;top:1053px;left:89px;white-space:nowrap" class="ft32384">PStack</p>
<p style="position:absolute;top:1053px;left:451px;white-space:nowrap" class="ft32387">Allows&#160;to&#160;print&#160;stack&#160;traces&#160;of&#160;all&#160;threads;&#160;<br/>Solaris&#160;specific</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft32391">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft32391">8/22</p>
</div>
<!-- Page 324 -->
<a name="324"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page324-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2324.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft32490">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft32480">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft32491">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft32491">RC|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft32498"><b>2.4.1&#160;Java&#160;Virtual&#160;Machine&#160;Tool&#160;Interface</b></p>
<p style="position:absolute;top:178px;left:85px;white-space:nowrap" class="ft32487">The&#160;&#160;&#160;JVMTI&#160;&#160;&#160;is&#160;&#160;&#160;designed&#160;&#160;&#160;as&#160;&#160;&#160;an&#160;&#160;&#160;interface&#160;&#160;&#160;for&#160;&#160;&#160;debugging&#160;&#160;&#160;and&#160;&#160;&#160;monitoring&#160;&#160;&#160;tools.&#160;&#160;&#160;It&#160;&#160;&#160;is&#160;<br/>accessible&#160;through&#160;so-called&#160;agents&#160;which&#160;are&#160;C/C++&#160;libraries&#160;and&#160;which&#160;run&#160;in&#160;the&#160;<br/>same&#160;process&#160;as&#160;the&#160;JVM.&#160;It&#160;allows&#160;to&#160;inspect&#160;the&#160;state&#160;of&#160;the&#160;VM&#160;as&#160;well&#160;as&#160;control&#160;the&#160;<br/>execution&#160;of&#160;applications.&#160;For&#160;example,&#160;an&#160;agent&#160;can&#160;start&#160;or&#160;stop&#160;threads,&#160;inspect&#160;<br/>memory&#160;regions&#160;(stack,&#160;heap)&#160;and&#160;access&#160;classes&#160;of&#160;running&#160;Java&#160;applications.&#160;For&#160;the&#160;<br/>latter,&#160;the&#160;interface&#160;also&#160;provides&#160;functionality&#160;to&#160;alter&#160;class&#160;data.&#160;An&#160;agent&#160;is&#160;started&#160;<br/>through&#160;the&#160;command&#160;line&#160;parameters&#160;“-agentlib”&#160;and&#160;“-agentpath”&#160;referring&#160;to&#160;its&#160;<br/>location&#160;and&#160;gets&#160;initialized&#160;in&#160;an&#160;early&#160;state&#160;of&#160;the&#160;VM.</p>
<p style="position:absolute;top:340px;left:85px;white-space:nowrap" class="ft32495"><i>Byte-code&#160;Instrumentation</i></p>
<p style="position:absolute;top:368px;left:85px;white-space:nowrap" class="ft32487">Byte-code&#160;instrumentation&#160;is&#160;the&#160;ability&#160;to&#160;alter&#160;the&#160;byte&#160;codes&#160;which&#160;form&#160;a&#160;class&#160;of&#160;<br/>an&#160;application&#160;running&#160;in&#160;a&#160;VM.&#160;In&#160;general,&#160;three&#160;approaches&#160;do&#160;exist:&#160;static,&#160;load&#160;time&#160;<br/>and&#160;dynamic&#160;instrumentation.&#160;Whereas&#160;static&#160;instrumentation&#160;refers&#160;to&#160;replacement&#160;of&#160;<br/>class&#160;files&#160;on&#160;disk,&#160;the&#160;two&#160;latter&#160;approaches&#160;allow&#160;a&#160;library&#160;to&#160;alter&#160;byte-codes&#160;during&#160;<br/>runtime.&#160;As&#160;a&#160;measurement&#160;architecture&#160;usually&#160;measures&#160;the&#160;class&#160;files&#160;loaded&#160;from&#160;<br/>disk,&#160;the&#160;measurements&#160;may&#160;not&#160;reflect&#160;the&#160;code&#160;running&#160;in&#160;the&#160;VM.<br/>There&#160;are&#160;several&#160;implementations&#160;showing&#160;the&#160;power&#160;of&#160;this&#160;approach,&#160;for&#160;instance,&#160;<br/>the&#160;BCEL&#160;library&#160;from&#160;the&#160;Apache&#160;project,&#160;ASM&#160;from&#160;the&#160;ObjectWeb&#160;Consortium,&#160;and&#160;<br/>BIT&#160;from&#160;the&#160;University&#160;of&#160;Colorado.&#160;An&#160;attack&#160;on&#160;the&#160;trusted&#160;VM&#160;could&#160;be&#160;replacing&#160;a&#160;<br/>reference&#160;&#160;&#160;to&#160;&#160;&#160;a&#160;&#160;&#160;class&#160;&#160;&#160;by&#160;&#160;&#160;a&#160;&#160;&#160;reference&#160;&#160;&#160;to&#160;&#160;&#160;a&#160;&#160;&#160;subclass&#160;&#160;&#160;performing&#160;&#160;&#160;possibly&#160;&#160;&#160;harmful&#160;<br/>operations.&#160;&#160;Hence,&#160;in&#160;the&#160;context&#160;of&#160;a&#160;trusted&#160;VM,&#160;the&#160;JVMTI&#160;is&#160;a&#160;security&#160;problem&#160;and&#160;<br/>should&#160;&#160;&#160;be&#160;&#160;&#160;turned&#160;&#160;&#160;off.&#160;&#160;&#160;Note&#160;&#160;&#160;that&#160;&#160;&#160;the&#160;&#160;&#160;JVMTI&#160;&#160;&#160;is&#160;&#160;&#160;a&#160;&#160;&#160;possibility&#160;&#160;&#160;to&#160;&#160;&#160;implement&#160;&#160;&#160;Trusted&#160;<br/>Computing&#160;&#160;&#160;functionality&#160;&#160;&#160;for&#160;&#160;&#160;the&#160;&#160;&#160;JVM&#160;&#160;&#160;as&#160;&#160;&#160;well,&#160;&#160;&#160;as&#160;&#160;&#160;shown&#160;&#160;&#160;in&#160;&#160;&#160;the&#160;&#160;&#160;semantic&#160;&#160;&#160;remote&#160;<br/>attestation&#160;approach&#160;[HAL04],&#160;for&#160;example.&#160;Furthermore,&#160;if&#160;the&#160;underlying&#160;operating&#160;<br/>system&#160;measures&#160;shared&#160;libraries&#160;at&#160;load-time,&#160;an&#160;attack&#160;could&#160;be&#160;detected.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft32491">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft32491">9/22</p>
</div>
<!-- Page 325 -->
<a name="325"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page325-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2325.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft32590">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft32580">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft32591">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft32591">RC|1.0</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft325136"><b>3&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft32593"><b>Design&#160;of&#160;the&#160;Measurement&#160;Architecture</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft32587">We&#160;&#160;will&#160;&#160;discuss&#160;&#160;&#160;the&#160;&#160;&#160;differences&#160;&#160;in&#160;&#160;&#160;the&#160;&#160;&#160;design&#160;&#160;choices&#160;&#160;&#160;in&#160;&#160;this&#160;&#160;section.&#160;&#160;&#160;We&#160;&#160;base&#160;&#160;&#160;our&#160;<br/>design&#160;&#160;&#160;considerations&#160;&#160;&#160;on&#160;&#160;&#160;the&#160;&#160;&#160;OpenJDK&#160;&#160;&#160;implementation&#160;&#160;&#160;from&#160;&#160;&#160;Sun.&#160;&#160;&#160;In&#160;&#160;&#160;general,&#160;&#160;&#160;for&#160;&#160;&#160;a&#160;<br/>virtual&#160;machine&#160;environment&#160;like&#160;Java,&#160;we&#160;have&#160;to&#160;distinguish&#160;two&#160;possible&#160;points&#160;of&#160;<br/>measurement:&#160;the&#160;HotSpot&#160;VM&#160;which&#160;is&#160;coded&#160;in&#160;C/C++&#160;and&#160;the&#160;Java&#160;class&#160;library&#160;<br/>which&#160;is&#160;implemented&#160;in&#160;Java.&#160;The&#160;design&#160;has&#160;to&#160;take&#160;care&#160;of&#160;those&#160;two&#160;layers.</p>
<p style="position:absolute;top:322px;left:85px;white-space:nowrap" class="ft32583"><b>3.1&#160;Integrity&#160;Measurement&#160;Process</b></p>
<p style="position:absolute;top:350px;left:85px;white-space:nowrap" class="ft32584">The&#160;&#160;</p>
<p style="position:absolute;top:350px;left:124px;white-space:nowrap" class="ft32595"><i>Integrity&#160;Measurement&#160;Process</i></p>
<p style="position:absolute;top:350px;left:386px;white-space:nowrap" class="ft32584">&#160;&#160;has&#160;several&#160;aspects&#160;we&#160;need&#160;to&#160;discuss.&#160;For&#160;the&#160;</p>
<p style="position:absolute;top:369px;left:85px;white-space:nowrap" class="ft32587">integrity&#160;status&#160;of&#160;an&#160;application&#160;running&#160;in&#160;a&#160;Java&#160;VM&#160;class&#160;files&#160;and&#160;native&#160;libraries&#160;<br/>are&#160;important.&#160;For&#160;class&#160;files,&#160;we&#160;distinguish&#160;the&#160;Java&#160;class&#160;library&#160;(as&#160;shipped&#160;with&#160;a&#160;<br/>distribution),&#160;external&#160;libraries,&#160;and&#160;application-specific&#160;code.<br/>To&#160;cover&#160;the&#160;first&#160;aspect,&#160;we&#160;extended&#160;the&#160;class&#160;loading&#160;mechanism&#160;of&#160;the&#160;JVM.&#160;Before&#160;<br/>the&#160;actual&#160;byte&#160;code&#160;is&#160;instantiated&#160;in&#160;the&#160;JVM,&#160;the&#160;files&#160;are&#160;hashed&#160;and&#160;extended&#160;into&#160;<br/>a&#160;PCR&#160;(using&#160;the&#160;&#160;</p>
<p style="position:absolute;top:474px;left:239px;white-space:nowrap" class="ft32595"><i>PCR&#160;extend</i></p>
<p style="position:absolute;top:474px;left:338px;white-space:nowrap" class="ft32584">&#160;&#160;call&#160;of&#160;a&#160;TPM).&#160;A&#160;special&#160;case&#160;for&#160;class&#160;loading&#160;is&#160;the&#160;</p>
<p style="position:absolute;top:493px;left:85px;white-space:nowrap" class="ft325167">reflection&#160;API&#160;of&#160;the&#160;Java&#160;language.&#160;Using&#160;qualified&#160;names,&#160;the&#160;application&#160;designer&#160;<br/>can&#160;dynamically&#160;load&#160;classes.&#160;For&#160;trusted&#160;class&#160;loading,&#160;this&#160;has&#160;no&#160;impact&#160;as&#160;those&#160;<br/>classes&#160;are&#160;loaded&#160;through&#160;the&#160;usual&#160;class&#160;loading&#160;mechanism&#160;and&#160;are&#160;thus&#160;measured&#160;<br/>as&#160;well.<br/>JAR-files&#160;contain&#160;a&#160;collection&#160;of&#160;class&#160;files&#160;and&#160;their&#160;measurement&#160;offers&#160;the&#160;possibility&#160;<br/>to&#160;reduce&#160;the&#160;&#160;PCR&#160;extend&#160;&#160;calls&#160;to&#160;the&#160;TPM.&#160;Our&#160;experiments&#160;with&#160;the&#160;measurement&#160;<br/>architecture&#160;show&#160;that&#160;measurement&#160;of&#160;single&#160;class&#160;files&#160;can&#160;significantly&#160;affect&#160;the&#160;<br/>performance&#160;&#160;&#160;of&#160;&#160;&#160;class&#160;&#160;&#160;loading&#160;&#160;&#160;if&#160;&#160;&#160;there&#160;&#160;&#160;is&#160;&#160;&#160;a&#160;&#160;&#160;large&#160;&#160;&#160;number&#160;&#160;&#160;of&#160;&#160;&#160;class&#160;&#160;&#160;files&#160;&#160;&#160;used&#160;&#160;&#160;by&#160;&#160;&#160;an&#160;<br/>application.&#160;If&#160;JAR-files&#160;are&#160;measured,&#160;the&#160;measurement&#160;overhead&#160;can&#160;be&#160;reduced&#160;to&#160;a&#160;<br/>minimum.&#160;As&#160;JAR-files&#160;are&#160;the&#160;usual&#160;way&#160;to&#160;distribute&#160;Java&#160;applications,&#160;this&#160;approach&#160;<br/>is&#160;the&#160;most&#160;practical&#160;one.&#160;Note&#160;that&#160;this&#160;also&#160;introduces&#160;a&#160;significant&#160;time&#160;gap&#160;between&#160;<br/>the&#160;time&#160;of&#160;measurement&#160;and&#160;time&#160;of&#160;execution&#160;that&#160;is&#160;larger&#160;compared&#160;to&#160;the&#160;one&#160;<br/>during&#160;&#160;loading&#160;&#160;and&#160;&#160;measurement&#160;&#160;&#160;of&#160;&#160;classes:&#160;&#160;&#160;The&#160;&#160;Java&#160;&#160;VM&#160;&#160;implements&#160;&#160;a&#160;lazy&#160;&#160;class&#160;<br/>loading&#160;algorithm.&#160;That&#160;is,&#160;the&#160;loading&#160;of&#160;classes&#160;is&#160;delayed&#160;as&#160;long&#160;as&#160;possible&#160;until&#160;<br/>the&#160;code&#160;is&#160;actually&#160;needed.&#160;Opening&#160;JAR-files&#160;on&#160;the&#160;other&#160;hand&#160;is&#160;done&#160;when&#160;the&#160;VM&#160;<br/>searches&#160;for&#160;classes&#160;and&#160;several&#160;JAR-files&#160;may&#160;be&#160;opened&#160;before&#160;the&#160;class&#160;is&#160;found.<br/>The&#160;&#160;&#160;second&#160;&#160;&#160;aspect,&#160;&#160;&#160;native&#160;&#160;&#160;libraries,&#160;&#160;&#160;are&#160;&#160;&#160;dynamically&#160;&#160;&#160;loaded&#160;&#160;&#160;during&#160;&#160;&#160;runtime&#160;&#160;&#160;and&#160;&#160;&#160;a&#160;<br/>measurement&#160;&#160;&#160;architecture&#160;&#160;&#160;has&#160;&#160;to&#160;&#160;take&#160;&#160;care&#160;&#160;&#160;of&#160;&#160;those&#160;&#160;&#160;libraries.&#160;&#160;&#160;Furthermore,&#160;&#160;&#160;as&#160;&#160;the&#160;<br/>library&#160;code&#160;directly&#160;runs&#160;in&#160;the&#160;Java&#160;VM,&#160;it&#160;has&#160;full&#160;access&#160;to&#160;its&#160;resources.&#160;There&#160;exist&#160;<br/>two&#160;points&#160;at&#160;which&#160;we&#160;can&#160;perform&#160;this&#160;measurement:&#160;either&#160;in&#160;the&#160;operating&#160;system,&#160;<br/>or&#160;in&#160;the&#160;class&#160;loading&#160;mechanism&#160;of&#160;the&#160;VM.<br/>Addressing&#160;the&#160;first&#160;choice,&#160;IBM&#160;designed&#160;an&#160;</p>
<p style="position:absolute;top:922px;left:462px;white-space:nowrap" class="ft32595"><i>Integrity&#160;Measurement&#160;Architecture</i></p>
<p style="position:absolute;top:922px;left:759px;white-space:nowrap" class="ft32584">&#160;(IMA)&#160;</p>
<p style="position:absolute;top:941px;left:85px;white-space:nowrap" class="ft325167">on&#160;an&#160;Linux&#160;environment&#160;[SAI04].&#160;In&#160;their&#160;design,&#160;they&#160;intercept&#160;a&#160;set&#160;of&#160;system&#160;calls&#160;<br/>where&#160;files&#160;(executables,&#160;shared&#160;libraries,&#160;...)&#160;are&#160;loaded&#160;and&#160;IMA&#160;measures&#160;it&#160;to&#160;a&#160;PCR.&#160;<br/>Hence,&#160;as&#160;the&#160;VM&#160;loads&#160;the&#160;libraries&#160;dynamically,&#160;IMA&#160;takes&#160;care&#160;of&#160;the&#160;measurement&#160;<br/>and&#160;we&#160;can&#160;omit&#160;further&#160;treatment&#160;of&#160;this&#160;issue.&#160;The&#160;second&#160;choice,&#160;measuring&#160;native&#160;<br/>libraries&#160;&#160;&#160;in&#160;&#160;&#160;the&#160;&#160;&#160;Java&#160;&#160;&#160;VM,&#160;&#160;&#160;can&#160;&#160;&#160;only&#160;&#160;&#160;deal&#160;&#160;&#160;with&#160;&#160;&#160;the&#160;&#160;&#160;library&#160;&#160;&#160;directly&#160;&#160;&#160;inferred&#160;&#160;&#160;by&#160;&#160;&#160;the&#160;<br/>application&#160;(or&#160;system&#160;code).&#160;However,&#160;loading&#160;a&#160;shared&#160;library&#160;on&#160;a&#160;system&#160;can&#160;cause&#160;<br/>several&#160;other&#160;libraries&#160;to&#160;be&#160;loaded&#160;by&#160;the&#160;operating&#160;system&#160;which&#160;the&#160;Java&#160;VM&#160;cannot&#160;<br/>control&#160;or&#160;measure.<br/>The&#160;integrity&#160;measurement&#160;process&#160;as&#160;implemented&#160;in&#160;the&#160;trusted&#160;Java&#160;VM&#160;is&#160;depicted&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft32591">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft32591">10/22</p>
</div>
<!-- Page 326 -->
<a name="326"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page326-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2326.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft32690">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft32680">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft32691">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft32691">RC|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft32687">in&#160;Figure<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#326">&#160;1.</a>&#160;The&#160;implementation&#160;also&#160;allows&#160;to&#160;run&#160;the&#160;Java&#160;VM&#160;with&#160;known&#160;classes&#160;<br/>only.&#160;&#160;A&#160;verification&#160;&#160;&#160;function&#160;&#160;&#160;compares&#160;&#160;the&#160;&#160;measurement&#160;&#160;&#160;of&#160;&#160;a&#160;class&#160;&#160;to&#160;&#160;a&#160;&#160;</p>
<p style="position:absolute;top:170px;left:722px;white-space:nowrap" class="ft32695"><i>Reference&#160;</i></p>
<p style="position:absolute;top:189px;left:85px;white-space:nowrap" class="ft32695"><i>Integrity&#160;Measurement</i></p>
<p style="position:absolute;top:189px;left:276px;white-space:nowrap" class="ft32684">&#160;(RIM).&#160;If&#160;the&#160;flag&#160;</p>
<p style="position:absolute;top:189px;left:427px;white-space:nowrap" class="ft326170">secureBoot</p>
<p style="position:absolute;top:189px;left:520px;white-space:nowrap" class="ft32684">&#160;is&#160;disabled,&#160;the&#160;verification&#160;is&#160;not&#160;</p>
<p style="position:absolute;top:209px;left:85px;white-space:nowrap" class="ft32684">carried&#160;out&#160;and&#160;the&#160;corresponding&#160;PCR&#160;is&#160;always&#160;extended.</p>
<p style="position:absolute;top:429px;left:205px;white-space:nowrap" class="ft32698"><b>Figure&#160;1:&#160;Secure&#160;boot&#160;process.&#160;If&#160;secure&#160;boot&#160;is&#160;disabled,</b></p>
<p style="position:absolute;top:446px;left:158px;white-space:nowrap" class="ft32698"><b>verification&#160;is&#160;not&#160;carried&#160;out&#160;(the&#160;trust&#160;decision&#160;is&#160;always&#160;positive).</b></p>
<p style="position:absolute;top:492px;left:85px;white-space:nowrap" class="ft32687">Table<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#326">&#160;2&#160;</a>shows&#160;the&#160;methods&#160;where&#160;we&#160;placed&#160;our&#160;measurement&#160;hooks.&#160;It&#160;summarizes&#160;<br/>both&#160;hooks&#160;inside&#160;the&#160;HotSpot&#160;VM&#160;and&#160;hooks&#160;inside&#160;the&#160;Java&#160;class&#160;library.</p>
<p style="position:absolute;top:548px;left:85px;white-space:nowrap" class="ft32698"><b>Table&#160;2:&#160;Important&#160;classes/methods&#160;where&#160;we&#160;placed&#160;hooks&#160;for&#160;the&#160;integrity&#160;service&#160;</b></p>
<p style="position:absolute;top:565px;left:85px;white-space:nowrap" class="ft32698"><b>provider&#160;facility.</b></p>
<p style="position:absolute;top:596px;left:179px;white-space:nowrap" class="ft326147"><i><b>Class&#160;(Method)</b></i></p>
<p style="position:absolute;top:596px;left:434px;white-space:nowrap" class="ft326147"><i><b>Place</b></i></p>
<p style="position:absolute;top:596px;left:603px;white-space:nowrap" class="ft326147"><i><b>Description</b></i></p>
<p style="position:absolute;top:632px;left:89px;white-space:nowrap" class="ft32684">ClassFileParser.parseClassFile()</p>
<p style="position:absolute;top:632px;left:418px;white-space:nowrap" class="ft32684">VM</p>
<p style="position:absolute;top:632px;left:510px;white-space:nowrap" class="ft32684">Hook&#160;where&#160;all&#160;classes&#160;are&#160;parsed</p>
<p style="position:absolute;top:668px;left:89px;white-space:nowrap" class="ft32684">ClassLoader.loadLibrary()</p>
<p style="position:absolute;top:668px;left:418px;white-space:nowrap" class="ft32684">Class&#160;lib</p>
<p style="position:absolute;top:668px;left:510px;white-space:nowrap" class="ft32687">Hook&#160;where&#160;native&#160;libraries&#160;are&#160;<br/>loaded</p>
<p style="position:absolute;top:724px;left:89px;white-space:nowrap" class="ft32687">URLClassPath$FileLoader.getResource<br/>()</p>
<p style="position:absolute;top:724px;left:418px;white-space:nowrap" class="ft32684">Class&#160;lib</p>
<p style="position:absolute;top:724px;left:510px;white-space:nowrap" class="ft32687">Method&#160;where&#160;class&#160;files&#160;are&#160;<br/>loaded&#160;from&#160;an&#160;URL&#160;(which&#160;refers&#160;<br/>to&#160;a&#160;directory)</p>
<p style="position:absolute;top:798px;left:89px;white-space:nowrap" class="ft32684">URLClassPath$JarLoader.getJarFile()</p>
<p style="position:absolute;top:798px;left:418px;white-space:nowrap" class="ft32684">Class&#160;lib</p>
<p style="position:absolute;top:798px;left:510px;white-space:nowrap" class="ft32687">Method&#160;where&#160;JAR-files&#160;are&#160;loaded&#160;<br/>from&#160;an&#160;URL</p>
<p style="position:absolute;top:853px;left:89px;white-space:nowrap" class="ft32684">PolicyFile.addGrantEntry()</p>
<p style="position:absolute;top:853px;left:418px;white-space:nowrap" class="ft32684">Class&#160;lib</p>
<p style="position:absolute;top:853px;left:510px;white-space:nowrap" class="ft32687">Hook&#160;where&#160;policy&#160;entries&#160;are&#160;<br/>added&#160;to&#160;the&#160;security&#160;policy</p>
<p style="position:absolute;top:923px;left:85px;white-space:nowrap" class="ft32683"><b>3.2&#160;Usage&#160;of&#160;Platform&#160;Configuration&#160;Registers</b></p>
<p style="position:absolute;top:951px;left:85px;white-space:nowrap" class="ft32684">An&#160;&#160;&#160;important&#160;&#160;&#160;point&#160;&#160;&#160;in&#160;&#160;&#160;the&#160;&#160;&#160;measurement&#160;&#160;&#160;architecture&#160;&#160;&#160;is&#160;&#160;&#160;the&#160;&#160;&#160;usage&#160;&#160;&#160;model&#160;&#160;&#160;for&#160;&#160;&#160;the&#160;</p>
<p style="position:absolute;top:970px;left:85px;white-space:nowrap" class="ft32695"><i>Platform&#160;Configuration&#160;Registers</i></p>
<p style="position:absolute;top:970px;left:360px;white-space:nowrap" class="ft32684">&#160;&#160;(PCRs).&#160;Each&#160;application&#160;that&#160;is&#160;run&#160;inside&#160;a&#160;virtual&#160;</p>
<p style="position:absolute;top:989px;left:85px;white-space:nowrap" class="ft32687">machine&#160;is&#160;extended&#160;into&#160;a&#160;single&#160;PCR.&#160;Furthermore,&#160;if&#160;two&#160;virtual&#160;machines&#160;run&#160;on&#160;a&#160;<br/>single&#160;PC,&#160;they&#160;both&#160;will&#160;extend&#160;their&#160;measurements&#160;into&#160;a&#160;single&#160;PCR.&#160;Again&#160;thinking&#160;<br/>further,&#160;any&#160;virtual&#160;machine&#160;that&#160;is&#160;started&#160;on&#160;a&#160;PC&#160;(and&#160;then&#160;terminated&#160;at&#160;some&#160;<br/>point&#160;&#160;&#160;in&#160;&#160;&#160;time)&#160;&#160;&#160;extends&#160;&#160;&#160;this&#160;&#160;&#160;single&#160;&#160;&#160;PCR.&#160;&#160;&#160;So,&#160;&#160;&#160;for&#160;&#160;&#160;instance,&#160;&#160;&#160;if&#160;&#160;&#160;the&#160;&#160;&#160;user&#160;&#160;&#160;starts&#160;&#160;&#160;an&#160;<br/>application,&#160;terminates&#160;it&#160;again,&#160;and&#160;then&#160;starts&#160;it&#160;a&#160;second&#160;time,&#160;this&#160;application&#160;is&#160;<br/>measured&#160;&#160;&#160;twice&#160;&#160;&#160;into&#160;&#160;&#160;the&#160;&#160;&#160;same&#160;&#160;&#160;register.&#160;&#160;&#160;A&#160;&#160;&#160;PCR&#160;&#160;&#160;in&#160;&#160;&#160;the&#160;&#160;&#160;case&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;Java&#160;&#160;&#160;VM&#160;&#160;&#160;hence&#160;<br/>represents&#160;a&#160;whole&#160;cycle&#160;of&#160;work&#160;on&#160;a&#160;PC&#160;during&#160;its&#160;uptime.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft32691">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft32691">11/22</p>
</div>
<!-- Page 327 -->
<a name="327"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page327-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2327.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft32790">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft32780">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft32791">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft32791">RC|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft32787">Compared&#160;to&#160;the&#160;Integrity&#160;Measurement&#160;Architecture&#160;(IMA)&#160;proposed&#160;in&#160;&#160;[SAI04],&#160;the&#160;<br/>operating&#160;system&#160;has&#160;more&#160;power&#160;to&#160;manage&#160;measurements.&#160;Obviously,&#160;the&#160;operating&#160;<br/>system&#160;never&#160;gets&#160;unloaded&#160;and&#160;hence&#160;the&#160;data&#160;structures&#160;introduced&#160;in&#160;IMA&#160;can&#160;hold&#160;<br/>links&#160;to&#160;already&#160;measured&#160;files.&#160;If&#160;a&#160;file&#160;is&#160;opened&#160;a&#160;second&#160;time,&#160;IMA&#160;hashes&#160;it&#160;and&#160;<br/>compares&#160;this&#160;hash&#160;to&#160;the&#160;hash&#160;in&#160;its&#160;data&#160;structures.&#160;If&#160;the&#160;hashes&#160;are&#160;the&#160;same,&#160;<br/>everything&#160;is&#160;fine&#160;and&#160;no&#160;PCR&#160;is&#160;extended.&#160;If&#160;the&#160;hashes&#160;differ,&#160;the&#160;PCR&#160;is&#160;extended&#160;<br/>with&#160;&#160;&#160;the&#160;&#160;&#160;new&#160;&#160;&#160;hash&#160;&#160;&#160;value.&#160;&#160;&#160;This&#160;&#160;&#160;allows&#160;&#160;&#160;IMA&#160;&#160;&#160;to&#160;&#160;&#160;only&#160;&#160;&#160;report&#160;&#160;&#160;a&#160;&#160;&#160;file&#160;&#160;&#160;twice&#160;&#160;&#160;if&#160;&#160;&#160;it&#160;&#160;&#160;is&#160;&#160;really&#160;<br/>necessary&#160;and&#160;detect&#160;changes&#160;(malicious&#160;or&#160;not)&#160;to&#160;files.&#160;This&#160;mechanism&#160;cannot&#160;be&#160;<br/>adapted&#160;to&#160;the&#160;VM&#160;measurement&#160;architecture&#160;for&#160;the&#160;obvious&#160;reason&#160;that,&#160;if&#160;the&#160;VM&#160;<br/>terminates,&#160;the&#160;data&#160;structures&#160;get&#160;reset&#160;and&#160;the&#160;measurement&#160;protocol&#160;is&#160;no&#160;longer&#160;<br/>available.<br/>Those&#160;facts&#160;impose&#160;several&#160;restrictions&#160;on&#160;the&#160;architecture.&#160;At&#160;first,&#160;there&#160;need&#160;to&#160;be&#160;<br/>separate&#160;registers&#160;for&#160;extending&#160;the&#160;virtual&#160;machine&#160;itself,&#160;and&#160;the&#160;applications&#160;that&#160;<br/>run&#160;&#160;&#160;on&#160;&#160;&#160;this&#160;&#160;&#160;virtual&#160;&#160;&#160;machine.&#160;&#160;&#160;Otherwise&#160;&#160;&#160;it&#160;&#160;&#160;will&#160;&#160;&#160;not&#160;&#160;&#160;be&#160;&#160;&#160;possible&#160;&#160;&#160;to&#160;&#160;&#160;seal&#160;&#160;&#160;any&#160;&#160;&#160;Java&#160;<br/>application&#160;to&#160;this&#160;VM&#160;configuration.&#160;If&#160;we&#160;suppose&#160;the&#160;operating&#160;system&#160;takes&#160;care&#160;of&#160;<br/>the&#160;measurement&#160;of&#160;the&#160;VM,&#160;it&#160;can&#160;also&#160;detect&#160;changes&#160;in&#160;the&#160;executable&#160;and&#160;core&#160;<br/>libraries&#160;of&#160;the&#160;VM&#160;as&#160;outlined&#160;in&#160;the&#160;IMA&#160;approach.&#160;Furthermore,&#160;as&#160;files&#160;are&#160;usually&#160;<br/>not&#160;measured&#160;twice,&#160;the&#160;value&#160;in&#160;the&#160;PCR&#160;for&#160;the&#160;VM&#160;represents&#160;a&#160;unique&#160;value&#160;to&#160;<br/>which&#160;applications&#160;can&#160;be&#160;sealed&#160;to.&#160;For&#160;the&#160;case&#160;of&#160;several&#160;VM&#160;instances&#160;running&#160;on&#160;a&#160;<br/>system,&#160;&#160;&#160;either&#160;&#160;&#160;the&#160;&#160;&#160;operating&#160;&#160;&#160;system&#160;&#160;&#160;measures&#160;&#160;&#160;the&#160;&#160;&#160;base&#160;&#160;&#160;libraries&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;Java&#160;&#160;&#160;VM&#160;<br/>(including&#160;the&#160;VM&#160;itself)&#160;and&#160;prevents&#160;several&#160;instances&#160;to&#160;be&#160;measured&#160;into&#160;the&#160;same&#160;<br/>PCR,&#160;or&#160;those&#160;instances&#160;run&#160;in&#160;separate&#160;compartments&#160;utilizing&#160;virtual&#160;TPMs.</p>
<p style="position:absolute;top:609px;left:85px;white-space:nowrap" class="ft32783"><b>3.3&#160;Property-based&#160;Approach</b></p>
<p style="position:absolute;top:637px;left:85px;white-space:nowrap" class="ft32787">The&#160;&#160;&#160;measurement&#160;&#160;&#160;of&#160;&#160;&#160;plain-text&#160;&#160;&#160;configuration&#160;&#160;&#160;files&#160;&#160;&#160;is,&#160;&#160;&#160;in&#160;&#160;&#160;some&#160;&#160;&#160;circumstances,&#160;&#160;&#160;too&#160;<br/>cumbersome.&#160;&#160;&#160;If&#160;&#160;we&#160;&#160;look&#160;&#160;at&#160;&#160;the&#160;&#160;Java&#160;&#160;security&#160;&#160;&#160;policy&#160;&#160;as&#160;&#160;an&#160;&#160;example,&#160;&#160;it&#160;&#160;is&#160;a&#160;&#160;defined&#160;<br/>structure,&#160;&#160;but&#160;still&#160;allows&#160;numerous&#160;possibilities&#160;to&#160;achieve&#160;the&#160;same&#160;policy.&#160;Trivial&#160;<br/>examples&#160;&#160;are&#160;&#160;&#160;empty&#160;&#160;&#160;lines,&#160;&#160;&#160;additional&#160;&#160;&#160;whitespace,&#160;&#160;&#160;different&#160;&#160;&#160;sequence&#160;&#160;&#160;of&#160;&#160;&#160;properties,&#160;<br/>comments,&#160;&#160;etc.&#160;&#160;As&#160;there&#160;exists&#160;no&#160;template&#160;&#160;or&#160;canonicalization&#160;&#160;for&#160;such&#160;files&#160;as&#160;is&#160;<br/>common&#160;practice&#160;for&#160;XML&#160;documents,&#160;for&#160;instance,&#160;hashing&#160;the&#160;file&#160;provides&#160;no&#160;robust&#160;<br/>means&#160;&#160;&#160;to&#160;&#160;&#160;get&#160;&#160;&#160;a&#160;&#160;&#160;unique&#160;&#160;&#160;value&#160;&#160;&#160;for&#160;&#160;&#160;a&#160;&#160;&#160;distinct&#160;&#160;&#160;configuration.&#160;&#160;&#160;The&#160;&#160;&#160;solution&#160;&#160;&#160;for&#160;&#160;&#160;binary&#160;<br/>attestation&#160;would&#160;be&#160;to&#160;include&#160;a&#160;human-readable&#160;form&#160;of&#160;the&#160;configuration&#160;file&#160;in&#160;the&#160;<br/>SML,&#160;hence&#160;leaving&#160;the&#160;task&#160;of&#160;determining&#160;the&#160;trustworthiness&#160;of&#160;the&#160;configuration&#160;to&#160;<br/>the&#160;remote&#160;verifier&#160;(or&#160;to&#160;an&#160;attestation&#160;proxy&#160;as&#160;defined&#160;in&#160;some&#160;of&#160;the&#160;property-<br/>based&#160;approaches,&#160;e.g.&#160;[SAD04]).<br/>In&#160;addition&#160;to&#160;the&#160;the&#160;measurement&#160;approach,&#160;we&#160;chose&#160;to&#160;evaluate&#160;properties&#160;of&#160;the&#160;<br/>access&#160;control&#160;mechanism&#160;of&#160;the&#160;Java&#160;VM,&#160;especially:</p>
<p style="position:absolute;top:908px;left:112px;white-space:nowrap" class="ft327168">●</p>
<p style="position:absolute;top:904px;left:139px;white-space:nowrap" class="ft32784">Activation&#160;of&#160;the&#160;security&#160;manager</p>
<p style="position:absolute;top:936px;left:112px;white-space:nowrap" class="ft327168">●</p>
<p style="position:absolute;top:932px;left:139px;white-space:nowrap" class="ft32784">Permissions&#160;that&#160;affect&#160;the&#160;runtime&#160;security&#160;of&#160;the&#160;trusted&#160;VM</p>
<p style="position:absolute;top:977px;left:85px;white-space:nowrap" class="ft32798"><b>3.3.1&#160;Activation&#160;of&#160;the&#160;Security&#160;Manager</b></p>
<p style="position:absolute;top:1004px;left:85px;white-space:nowrap" class="ft32784">The&#160;&#160;&#160;activation&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;security&#160;&#160;&#160;manager&#160;&#160;&#160;is&#160;&#160;&#160;done&#160;&#160;&#160;via&#160;&#160;&#160;the&#160;&#160;&#160;command&#160;&#160;&#160;line&#160;&#160;&#160;argument&#160;</p>
<p style="position:absolute;top:1023px;left:85px;white-space:nowrap" class="ft327170">-Djava.security.manager</p>
<p style="position:absolute;top:1023px;left:289px;white-space:nowrap" class="ft32784">.&#160;Either&#160;the&#160;default&#160;implementation&#160;can&#160;be&#160;used&#160;or&#160;a&#160;custom&#160;</p>
<p style="position:absolute;top:1042px;left:85px;white-space:nowrap" class="ft32784">class,&#160;given&#160;as&#160;an&#160;argument&#160;to&#160;this&#160;property.&#160;The&#160;security&#160;manager&#160;is&#160;enabled&#160;in&#160;the&#160;</p>
<p style="position:absolute;top:1062px;left:85px;white-space:nowrap" class="ft327170">Launcher</p>
<p style="position:absolute;top:1062px;left:162px;white-space:nowrap" class="ft32784">&#160;&#160;class.&#160;&#160;&#160;As&#160;&#160;&#160;the&#160;&#160;&#160;security&#160;&#160;&#160;manager&#160;&#160;&#160;performs&#160;&#160;&#160;checks&#160;&#160;&#160;inevitable&#160;&#160;&#160;for&#160;&#160;&#160;a&#160;&#160;security&#160;</p>
<p style="position:absolute;top:1081px;left:85px;white-space:nowrap" class="ft32787">relevant&#160;implementation,&#160;we&#160;chose&#160;to&#160;activate&#160;it&#160;by&#160;default.&#160;This&#160;has&#160;several&#160;impacts&#160;<br/>on&#160;running&#160;applications.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft32791">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft32791">12/22</p>
</div>
<!-- Page 328 -->
<a name="328"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft328171{font-size:15px;line-height:17px;font-family:DAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page328-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2328.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft32890">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft32880">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft32891">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft32891">RC|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft328167">At&#160;&#160;&#160;first,&#160;&#160;&#160;the&#160;&#160;&#160;default&#160;&#160;&#160;policy&#160;&#160;&#160;for&#160;&#160;&#160;a&#160;&#160;&#160;Java&#160;&#160;&#160;applications&#160;&#160;&#160;is&#160;&#160;&#160;quite&#160;&#160;&#160;restrictive&#160;&#160;&#160;if&#160;&#160;&#160;a&#160;&#160;&#160;security&#160;<br/>manager&#160;&#160;&#160;is&#160;&#160;&#160;enabled.&#160;&#160;&#160;For&#160;&#160;&#160;example,&#160;&#160;&#160;the&#160;&#160;&#160;default&#160;&#160;&#160;policy&#160;&#160;&#160;allows&#160;&#160;&#160;access&#160;&#160;&#160;only&#160;&#160;&#160;to&#160;&#160;&#160;a&#160;&#160;&#160;few&#160;<br/>system&#160;properties&#160;and&#160;no&#160;disk&#160;access,&#160;etc.&#160;The&#160;policy&#160;shipped&#160;with&#160;a&#160;TC&#160;enabled&#160;VM&#160;<br/>should&#160;&#160;&#160;provide&#160;&#160;&#160;a&#160;&#160;&#160;trade-off&#160;&#160;&#160;between&#160;&#160;&#160;flexibility&#160;&#160;&#160;and&#160;&#160;&#160;giving&#160;&#160;&#160;to&#160;&#160;&#160;much&#160;&#160;&#160;permissions&#160;&#160;&#160;to&#160;<br/>applications,&#160;which&#160;may&#160;result&#160;in&#160;security&#160;holes.<br/>The&#160;&#160;&#160;security&#160;&#160;&#160;policy&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;JVM&#160;&#160;&#160;is&#160;&#160;&#160;represented&#160;&#160;&#160;in&#160;&#160;&#160;the&#160;&#160;</p>
<p style="position:absolute;top:256px;left:597px;white-space:nowrap" class="ft328170">PolicyFile</p>
<p style="position:absolute;top:256px;left:674px;white-space:nowrap" class="ft32884">&#160;&#160;class.&#160;&#160;&#160;As&#160;&#160;&#160;the&#160;</p>
<p style="position:absolute;top:275px;left:85px;white-space:nowrap" class="ft32887">implementation&#160;&#160;&#160;allows&#160;&#160;&#160;different&#160;&#160;&#160;locations&#160;&#160;&#160;of&#160;&#160;&#160;policy&#160;&#160;&#160;files,&#160;&#160;&#160;the&#160;&#160;&#160;VM&#160;&#160;&#160;has&#160;&#160;to&#160;&#160;maintain&#160;&#160;&#160;a&#160;<br/>central&#160;point&#160;to&#160;collect&#160;and&#160;store&#160;the&#160;different&#160;permissions.&#160;This&#160;is&#160;also&#160;the&#160;point&#160;where&#160;<br/>we&#160;place&#160;our&#160;hooks.</p>
<p style="position:absolute;top:359px;left:85px;white-space:nowrap" class="ft32898"><b>3.3.2&#160;Mapping&#160;Permissions&#160;to&#160;Properties</b></p>
<p style="position:absolute;top:386px;left:85px;white-space:nowrap" class="ft32887">Whereas&#160;the&#160;measurement&#160;of&#160;executable&#160;files&#160;is&#160;straightforward&#160;to&#160;implement,&#160;it&#160;is&#160;<br/>different&#160;&#160;&#160;with&#160;&#160;&#160;certain&#160;&#160;&#160;system&#160;&#160;&#160;properties.&#160;&#160;&#160;As&#160;&#160;&#160;with&#160;&#160;&#160;property-based&#160;&#160;&#160;attestation,&#160;&#160;&#160;the&#160;<br/>system&#160;&#160;&#160;configuration&#160;&#160;&#160;is&#160;&#160;&#160;translated&#160;&#160;&#160;into&#160;&#160;&#160;a&#160;&#160;&#160;set&#160;&#160;&#160;of&#160;&#160;&#160;properties&#160;&#160;&#160;that&#160;&#160;&#160;the&#160;&#160;&#160;configuration&#160;<br/>provides.&#160;The&#160;properties&#160;discussed&#160;in&#160;this&#160;section&#160;cannot&#160;directly&#160;be&#160;measured.&#160;For&#160;<br/>example,&#160;it&#160;does&#160;not&#160;make&#160;sense&#160;to&#160;measure&#160;the&#160;security&#160;manager&#160;class&#160;as&#160;the&#160;Java&#160;<br/>executable&#160;can&#160;be&#160;invoked&#160;without&#160;activating&#160;the&#160;security&#160;manage<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#328">r</a></p>
<p style="position:absolute;top:482px;left:645px;white-space:nowrap" class="ft32885"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#328">2</a></p>
<p style="position:absolute;top:482px;left:651px;white-space:nowrap" class="ft32884"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#328">.</a></p>
<p style="position:absolute;top:509px;left:85px;white-space:nowrap" class="ft32887">We&#160;&#160;chose&#160;&#160;to&#160;&#160;map&#160;&#160;the&#160;&#160;in-place&#160;&#160;&#160;security&#160;&#160;policy&#160;&#160;of&#160;&#160;the&#160;&#160;Java&#160;&#160;VM&#160;&#160;into&#160;a&#160;(small)&#160;&#160;set&#160;&#160;&#160;of&#160;<br/>properties&#160;that&#160;can&#160;be&#160;evaluated&#160;by&#160;run-time&#160;checkin<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#328">g</a></p>
<p style="position:absolute;top:529px;left:559px;white-space:nowrap" class="ft32885"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#328">3</a></p>
<p style="position:absolute;top:529px;left:566px;white-space:nowrap" class="ft32884"><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#328">.</a>&#160;The&#160;list&#160;of&#160;properties&#160;is&#160;as&#160;</p>
<p style="position:absolute;top:548px;left:85px;white-space:nowrap" class="ft32884">follows:</p>
<p style="position:absolute;top:580px;left:112px;white-space:nowrap" class="ft328168">●</p>
<p style="position:absolute;top:576px;left:139px;white-space:nowrap" class="ft32887">Security&#160;manager:&#160;This&#160;property&#160;tells&#160;an&#160;attestor&#160;whether&#160;the&#160;security&#160;manager&#160;<br/>is&#160;installed&#160;and&#160;whether&#160;an&#160;application&#160;has&#160;the&#160;rights&#160;to&#160;1)&#160;create&#160;and&#160;set&#160;an&#160;<br/>own&#160;security&#160;manager&#160;2)&#160;to&#160;modify&#160;the&#160;system&#160;policy.&#160;The&#160;affected&#160;security&#160;<br/>permissions&#160;are&#160;“createSecurityManager”,&#160;“setSecurityManager”,&#160;“setPolicy”,&#160;<br/>“getPolicy”,&#160;and&#160;“createPolicy”.&#160;For&#160;reflection,&#160;applications&#160;shall&#160;not&#160;be&#160;able&#160;to&#160;<br/>read&#160;private&#160;members&#160;of&#160;a&#160;class&#160;which&#160;is&#160;enforced&#160;by&#160;“suppressAccessChecks”.</p>
<p style="position:absolute;top:704px;left:112px;white-space:nowrap" class="ft328168">●</p>
<p style="position:absolute;top:699px;left:139px;white-space:nowrap" class="ft32887">Runtime:&#160;This&#160;property&#160;tells&#160;an&#160;attestor&#160;whether&#160;certain&#160;runtime&#160;security&#160;<br/>properties&#160;are&#160;in&#160;place.&#160;For&#160;instance,&#160;it&#160;reflects&#160;whether&#160;an&#160;application&#160;is&#160;<br/>allowed&#160;to&#160;stop&#160;or&#160;modify&#160;threads&#160;or&#160;thread&#160;groups.&#160;It&#160;affects&#160;the&#160;security&#160;<br/>permissions&#160;“modifyThread”,&#160;“modifyThreadGroup”,&#160;“stopThread”.&#160;<br/>Furthermore,&#160;it&#160;reflects&#160;the&#160;ability&#160;to&#160;start&#160;executables&#160;using&#160;Runtime.exex()&#160;<br/>which&#160;is&#160;essentially&#160;a&#160;restriction&#160;to&#160;execute&#160;files.&#160;Note&#160;that&#160;an&#160;application&#160;is&#160;<br/>always&#160;allowed&#160;to&#160;stop&#160;its&#160;own&#160;thread&#160;(to&#160;be&#160;able&#160;to&#160;stop&#160;the&#160;VM).</p>
<p style="position:absolute;top:847px;left:112px;white-space:nowrap" class="ft328168">●</p>
<p style="position:absolute;top:843px;left:139px;white-space:nowrap" class="ft32887">Class&#160;loading:&#160;Reflects&#160;the&#160;ability&#160;to&#160;load/set&#160;custom&#160;class&#160;loaders.&#160;The&#160;<br/>permissions&#160;that&#160;affect&#160;this&#160;property&#160;are&#160;“createClassLoader”,&#160;<br/>“getClassLoader”,&#160;“setContextClassLoader”,&#160;<br/>“enableContextClassLoaderOverride”.</p>
<p style="position:absolute;top:932px;left:112px;white-space:nowrap" class="ft328168">●</p>
<p style="position:absolute;top:928px;left:139px;white-space:nowrap" class="ft32887">Native&#160;code&#160;execution:&#160;This&#160;property&#160;tells&#160;an&#160;attestor&#160;whether&#160;the&#160;application&#160;<br/>has&#160;the&#160;ability&#160;to&#160;load&#160;native&#160;libraries.&#160;It&#160;affects&#160;the&#160;security&#160;permission&#160;<br/>“loadLibrary”.</p>
<p style="position:absolute;top:999px;left:112px;white-space:nowrap" class="ft328168">●</p>
<p style="position:absolute;top:994px;left:139px;white-space:nowrap" class="ft32884">File&#160;access:&#160;This&#160;property&#160;reflects&#160;whether&#160;an&#160;application&#160;has&#160;access&#160;to&#160;the&#160;file&#160;</p>
<p style="position:absolute;top:1026px;left:85px;white-space:nowrap" class="ft32891">2&#160;There&#160;is&#160;actually&#160;a&#160;subtlety&#160;with&#160;this&#160;fact.&#160;The&#160;fact&#160;that&#160;the&#160;the&#160;SML&#160;includes&#160;the&#160;</p>
<p style="position:absolute;top:1043px;left:107px;white-space:nowrap" class="ft328171">measurement&#160;of&#160;the&#160;security&#160;manager&#160;(through&#160;measurement&#160;of&#160;the&#160;SecurityManager&#160;class)&#160;<br/>does&#160;not&#160;imply&#160;the&#160;security&#160;manager&#160;is&#160;running.&#160;An&#160;attacker&#160;could,&#160;for&#160;instance,&#160;simply&#160;</p>
<p style="position:absolute;top:1078px;left:107px;white-space:nowrap" class="ft328171">instantiate&#160;the&#160;security&#160;manager&#160;and&#160;chose&#160;not&#160;activate&#160;it.&#160;The&#160;instantiation&#160;would&#160;suffice&#160;<br/>for&#160;the&#160;class&#160;to&#160;be&#160;measured&#160;during&#160;loading.</p>
<p style="position:absolute;top:1122px;left:85px;white-space:nowrap" class="ft32891">3&#160;One&#160;could&#160;think&#160;of&#160;these&#160;properties&#160;as&#160;a&#160;set&#160;of&#160;“super”-permissions.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft32891">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft32891">13/22</p>
</div>
<!-- Page 329 -->
<a name="329"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page329-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2329.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft32990">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft32980">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft32991">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft32991">RC|1.0</p>
<p style="position:absolute;top:151px;left:139px;white-space:nowrap" class="ft32984">system&#160;or&#160;not.</p>
<p style="position:absolute;top:183px;left:112px;white-space:nowrap" class="ft329168">●</p>
<p style="position:absolute;top:179px;left:139px;white-space:nowrap" class="ft32987">Network&#160;access:&#160;This&#160;property&#160;reflects&#160;whether&#160;an&#160;application&#160;has&#160;access&#160;to&#160;the&#160;<br/>network&#160;or&#160;not.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft32991">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft32991">14/22</p>
</div>
<!-- Page 330 -->
<a name="330"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page330-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2330.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft33090">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft33080">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft33091">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft33091">RC|1.0</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft330136"><b>4&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft33093"><b>Implementation</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft33087">We&#160;provide&#160;a&#160;component-based&#160;description&#160;of&#160;our&#160;implementation&#160;in&#160;this&#160;section.&#160;The&#160;<br/>architecture&#160;is&#160;depicted&#160;in&#160;Figure<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#330">&#160;2.</a>&#160;The&#160;main&#160;component&#160;is&#160;called&#160;&#160;</p>
<p style="position:absolute;top:218px;left:667px;white-space:nowrap" class="ft33095"><i>Integrity&#160;Service&#160;</i></p>
<p style="position:absolute;top:237px;left:85px;white-space:nowrap" class="ft33095"><i>Provider</i></p>
<p style="position:absolute;top:237px;left:154px;white-space:nowrap" class="ft33084">&#160;&#160;(ISP).&#160;&#160;&#160;It&#160;&#160;&#160;consists&#160;&#160;&#160;of&#160;&#160;&#160;a&#160;&#160;&#160;measurement&#160;&#160;&#160;agent,&#160;&#160;&#160;a&#160;&#160;&#160;verification&#160;&#160;&#160;agent,&#160;&#160;&#160;a&#160;&#160;&#160;storage&#160;</p>
<p style="position:absolute;top:257px;left:85px;white-space:nowrap" class="ft33087">manager,&#160;and&#160;a&#160;reporting&#160;agent.<br/>As&#160;&#160;&#160;discussed&#160;&#160;&#160;in&#160;&#160;Section<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#325">&#160;3,&#160;</a>&#160;&#160;we&#160;&#160;&#160;view&#160;&#160;&#160;at&#160;&#160;&#160;the&#160;&#160;&#160;Java&#160;&#160;&#160;VM&#160;&#160;&#160;having&#160;&#160;&#160;two&#160;&#160;&#160;distinct&#160;&#160;&#160;layers:&#160;&#160;&#160;the&#160;<br/>HotSpot&#160;VM&#160;and&#160;the&#160;Java&#160;class&#160;library.&#160;An&#160;implementation&#160;of&#160;the&#160;ISP&#160;is&#160;located&#160;in&#160;both&#160;<br/>locations.&#160;Note&#160;that&#160;the&#160;integrity&#160;measurements&#160;in&#160;the&#160;bootstrap&#160;class-loader&#160;(in&#160;the&#160;<br/>HotSpot&#160;&#160;&#160;VM)&#160;&#160;&#160;can&#160;&#160;&#160;be&#160;&#160;&#160;omitted&#160;&#160;&#160;if&#160;&#160;&#160;the&#160;&#160;&#160;operating&#160;&#160;&#160;system&#160;&#160;&#160;measures&#160;&#160;&#160;the&#160;&#160;&#160;class&#160;&#160;&#160;library.&#160;<br/>Nevertheless,&#160;the&#160;architecture&#160;provided&#160;in&#160;this&#160;section&#160;is&#160;implemented&#160;on&#160;both&#160;layers&#160;<br/>allowing&#160;different&#160;trade-offs&#160;between&#160;performance&#160;and&#160;flexibility.</p>
<p style="position:absolute;top:767px;left:137px;white-space:nowrap" class="ft33098"><b>Figure&#160;2:&#160;Architecture&#160;of&#160;the&#160;VM&#160;including&#160;the&#160;Integrity&#160;Service&#160;Provider.</b></p>
<p style="position:absolute;top:802px;left:85px;white-space:nowrap" class="ft33083"><b>4.1&#160;Integrity&#160;Service&#160;Provider</b></p>
<p style="position:absolute;top:831px;left:85px;white-space:nowrap" class="ft33087">The&#160;ISP&#160;manages&#160;the&#160;integrity&#160;measurement&#160;architecture&#160;discussed&#160;&#160;in&#160;Section<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#325">&#160;3.</a>&#160;It&#160;<br/>provides&#160;&#160;&#160;an&#160;&#160;&#160;interface&#160;&#160;&#160;for&#160;&#160;&#160;the&#160;&#160;&#160;functionality&#160;&#160;&#160;necessary&#160;&#160;&#160;to&#160;&#160;&#160;measure&#160;&#160;&#160;and&#160;&#160;&#160;report&#160;&#160;&#160;the&#160;<br/>integrity&#160;status&#160;of&#160;the&#160;Java&#160;VM.&#160;The&#160;dependencies&#160;of&#160;the&#160;ISP&#160;are&#160;shown&#160;in&#160;Figure<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#331">&#160;3.</a>&#160;The&#160;<br/>ISP&#160;is&#160;enabled&#160;via&#160;the&#160;command-line&#160;(see&#160;Section<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#333">&#160;4.7)</a>&#160;and&#160;the&#160;</p>
<p style="position:absolute;top:888px;left:616px;white-space:nowrap" class="ft330170">policyEnforcement</p>
<p style="position:absolute;top:888px;left:771px;white-space:nowrap" class="ft33084">&#160;flag&#160;</p>
<p style="position:absolute;top:907px;left:85px;white-space:nowrap" class="ft33084">resembles&#160;this&#160;setting.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft33091">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft33091">15/22</p>
</div>
<!-- Page 331 -->
<a name="331"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page331-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2331.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft33190">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft33180">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft33191">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft33191">RC|1.0</p>
<p style="position:absolute;top:530px;left:100px;white-space:nowrap" class="ft33198"><b>Figure&#160;3:&#160;Components&#160;of&#160;the&#160;integrity&#160;measurement&#160;architecture&#160;for&#160;the&#160;Java&#160;VM.</b></p>
<p style="position:absolute;top:575px;left:85px;white-space:nowrap" class="ft33187">The&#160;ISP&#160;class&#160;also&#160;covers&#160;the&#160;functionality&#160;needed&#160;for&#160;a&#160;secure&#160;boot&#160;of&#160;the&#160;Java&#160;VM.&#160;<br/>Note&#160;that&#160;the&#160;term&#160;“secure&#160;boot”&#160;here&#160;refers&#160;to&#160;the&#160;Java&#160;VM&#160;only.&#160;That&#160;is,&#160;we&#160;do&#160;not&#160;<br/>make&#160;any&#160;statements&#160;on&#160;the&#160;platform&#160;(and&#160;its&#160;boot&#160;process)&#160;apart&#160;from&#160;the&#160;Java&#160;VM.&#160;In&#160;<br/>contrast,&#160;this&#160;modus&#160;allows&#160;to&#160;run&#160;the&#160;VM&#160;with&#160;known&#160;classes&#160;only.&#160;On&#160;occurrence&#160;of&#160;a&#160;<br/>class&#160;that&#160;is&#160;not&#160;previously&#160;known&#160;–&#160;resp.&#160;the&#160;measurement&#160;differs&#160;from&#160;a&#160;known-good&#160;<br/>value&#160;RIM&#160;–,&#160;the&#160;VM&#160;is&#160;terminated&#160;with&#160;an&#160;error&#160;message.<br/>For&#160;&#160;&#160;reasons&#160;&#160;&#160;of&#160;&#160;&#160;simplicity,&#160;&#160;&#160;the&#160;&#160;&#160;measurement&#160;&#160;&#160;architecture&#160;&#160;&#160;allows&#160;&#160;&#160;to&#160;&#160;&#160;store&#160;&#160;&#160;the&#160;<br/>measurements&#160;of&#160;the&#160;classes&#160;loaded&#160;during&#160;runtime.&#160;Hence,&#160;in&#160;a&#160;first&#160;run,&#160;the&#160;RIMs&#160;for&#160;<br/>an&#160;&#160;&#160;application&#160;&#160;&#160;can&#160;&#160;&#160;be&#160;&#160;&#160;created&#160;&#160;&#160;and&#160;&#160;&#160;distributed.&#160;&#160;&#160;This&#160;&#160;&#160;is&#160;&#160;&#160;reflected&#160;&#160;&#160;by&#160;&#160;&#160;the&#160;</p>
<p style="position:absolute;top:756px;left:85px;white-space:nowrap" class="ft331170">storeMeasurements</p>
<p style="position:absolute;top:756px;left:250px;white-space:nowrap" class="ft33184">&#160;flag&#160;in&#160;the&#160;ISP.</p>
<p style="position:absolute;top:802px;left:85px;white-space:nowrap" class="ft33183"><b>4.2&#160;Measurement&#160;Agent</b></p>
<p style="position:absolute;top:831px;left:85px;white-space:nowrap" class="ft33187">The&#160;Measurement&#160;Agent&#160;(MA)&#160;offers&#160;an&#160;interface&#160;to&#160;measure&#160;data&#160;that&#160;is&#160;crucial&#160;to&#160;the&#160;<br/>state&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;platform.&#160;&#160;&#160;For&#160;&#160;&#160;the&#160;&#160;&#160;Java&#160;&#160;&#160;VM&#160;&#160;&#160;this&#160;&#160;&#160;would&#160;&#160;&#160;be&#160;&#160;&#160;class-,&#160;&#160;&#160;JAR-files,&#160;&#160;&#160;and&#160;&#160;&#160;native&#160;<br/>libraries.&#160;The&#160;implementation&#160;calculates&#160;a&#160;hash&#160;of&#160;the&#160;full&#160;file.<br/>An&#160;&#160;&#160;exception&#160;&#160;&#160;for&#160;&#160;&#160;measurement&#160;&#160;&#160;pose&#160;&#160;&#160;dynamically&#160;&#160;&#160;created&#160;&#160;&#160;classes.&#160;&#160;&#160;The&#160;&#160;&#160;reflection&#160;<br/>mechanism&#160;allows&#160;to&#160;create&#160;so-called&#160;method-accessor&#160;classes&#160;at&#160;run-time&#160;depending&#160;<br/>on&#160;the&#160;user&#160;input.&#160;As&#160;this&#160;cannot&#160;be&#160;foreseen,&#160;those&#160;special&#160;classes&#160;are&#160;excluded&#160;from&#160;<br/>measurement.<br/>For&#160;the&#160;implementation&#160;in&#160;the&#160;HotSpot&#160;VM,&#160;two&#160;possible&#160;measurement&#160;agents&#160;exist:&#160;<br/>one&#160;that&#160;directly&#160;measures&#160;a&#160;class&#160;file&#160;into&#160;a&#160;PCR&#160;and&#160;the&#160;other&#160;one&#160;that&#160;caches&#160;the&#160;<br/>measurements&#160;inside&#160;the&#160;Java&#160;VM&#160;before&#160;transferring&#160;the&#160;data&#160;to&#160;the&#160;TPM.&#160;We&#160;called&#160;<br/>the&#160;latter&#160;approach&#160;lazy&#160;measurement.</p>
<p style="position:absolute;top:1086px;left:85px;white-space:nowrap" class="ft33183"><b>4.3&#160;Verification&#160;Agent</b></p>
<p style="position:absolute;top:1114px;left:85px;white-space:nowrap" class="ft33184">The&#160;Verification&#160;Agent&#160;(VA)&#160;takes&#160;over&#160;the&#160;task&#160;of&#160;verifying&#160;the&#160;measurements&#160;taken&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft33191">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft33191">16/22</p>
</div>
<!-- Page 332 -->
<a name="332"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page332-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2332.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft33290">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft33280">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft33291">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft33291">RC|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft33284">by&#160;&#160;the&#160;&#160;MA&#160;&#160;against&#160;&#160;known-good&#160;&#160;values.&#160;&#160;&#160;It&#160;&#160;offers&#160;a&#160;&#160;simple&#160;&#160;interface&#160;&#160;</p>
<p style="position:absolute;top:151px;left:675px;white-space:nowrap" class="ft332170">verify(identifier,&#160;</p>
<p style="position:absolute;top:170px;left:85px;white-space:nowrap" class="ft332170">hash)</p>
<p style="position:absolute;top:170px;left:131px;white-space:nowrap" class="ft33284">&#160;&#160;to&#160;&#160;accomplish&#160;&#160;this&#160;&#160;task.&#160;&#160;Loading&#160;the&#160;corresponding&#160;&#160;hash&#160;&#160;values&#160;from&#160;&#160;disk&#160;is&#160;</p>
<p style="position:absolute;top:189px;left:85px;white-space:nowrap" class="ft33284">abstracted&#160;by&#160;the&#160;storage&#160;manager.</p>
<p style="position:absolute;top:235px;left:85px;white-space:nowrap" class="ft33283"><b>4.4&#160;Storage&#160;Manager</b></p>
<p style="position:absolute;top:264px;left:85px;white-space:nowrap" class="ft33287">The&#160;storage&#160;manager&#160;class&#160;abstracts&#160;operations&#160;necessary&#160;to&#160;load&#160;and&#160;store&#160;RIMs&#160;from&#160;<br/>a&#160;location.&#160;In&#160;general,&#160;the&#160;storage&#160;of&#160;RIMs&#160;has&#160;to&#160;be&#160;protected&#160;from&#160;tampering&#160;as&#160;the&#160;<br/>secure&#160;boot&#160;mechanism&#160;relies&#160;on&#160;that.&#160;There&#160;exist&#160;two&#160;possibilities&#160;to&#160;do&#160;this.</p>
<p style="position:absolute;top:334px;left:112px;white-space:nowrap" class="ft332168">●</p>
<p style="position:absolute;top:330px;left:139px;white-space:nowrap" class="ft33284">Storage&#160;inside&#160;a&#160;shielded&#160;location</p>
<p style="position:absolute;top:362px;left:112px;white-space:nowrap" class="ft332168">●</p>
<p style="position:absolute;top:358px;left:139px;white-space:nowrap" class="ft33284">Signed&#160;RIM&#160;(i.e.&#160;use&#160;certificates)</p>
<p style="position:absolute;top:385px;left:85px;white-space:nowrap" class="ft33287">On&#160;a&#160;general&#160;purpose&#160;computer,&#160;the&#160;number&#160;of&#160;RIMs&#160;may&#160;become&#160;large&#160;which&#160;possibly&#160;<br/>introduces&#160;storage&#160;problems.&#160;If&#160;the&#160;Java&#160;VM&#160;running&#160;on&#160;a&#160;device&#160;using&#160;only&#160;a&#160;restricted&#160;<br/>number&#160;of&#160;applications&#160;the&#160;storage&#160;inside&#160;a&#160;shielded&#160;location&#160;is&#160;possible.&#160;The&#160;more&#160;<br/>practical&#160;solution&#160;would&#160;be&#160;to&#160;use&#160;cryptographic&#160;means&#160;to&#160;ensure&#160;the&#160;integrity&#160;and&#160;<br/>authenticity&#160;of&#160;RIMs&#160;which&#160;then&#160;can&#160;be&#160;kept&#160;on&#160;any&#160;type&#160;of&#160;storage.<br/>The&#160;&#160;&#160;infrastructure&#160;&#160;&#160;working&#160;&#160;&#160;group&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;TCG&#160;&#160;&#160;works&#160;&#160;&#160;on&#160;&#160;&#160;interoperability&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;TC&#160;<br/>components&#160;across&#160;different&#160;platforms&#160;[IWG07].&#160;It&#160;has&#160;specified&#160;an&#160;</p>
<p style="position:absolute;top:509px;left:660px;white-space:nowrap" class="ft33295"><i>Integrity&#160;Manifest&#160;</i></p>
<p style="position:absolute;top:528px;left:85px;white-space:nowrap" class="ft33287">(IM)&#160;which&#160;is&#160;an&#160;XML&#160;document&#160;specifying&#160;the&#160;components&#160;of&#160;a&#160;platform.&#160;&#160;It&#160;&#160;is&#160;not&#160;<br/>restricted&#160;&#160;&#160;to&#160;&#160;&#160;software&#160;&#160;&#160;components&#160;&#160;&#160;but&#160;&#160;&#160;also&#160;&#160;&#160;identifies&#160;&#160;&#160;hardware&#160;&#160;&#160;components.&#160;&#160;&#160;It&#160;<br/>incorporates,&#160;above&#160;other,&#160;information&#160;about&#160;the&#160;vendor,&#160;the&#160;exact&#160;version&#160;and&#160;patch&#160;<br/>level&#160;&#160;&#160;of&#160;&#160;&#160;a&#160;&#160;&#160;component,&#160;&#160;&#160;the&#160;&#160;&#160;digest&#160;&#160;&#160;method,&#160;&#160;&#160;and&#160;&#160;&#160;the&#160;&#160;&#160;digest&#160;&#160;&#160;itself.&#160;&#160;&#160;The&#160;&#160;&#160;IM&#160;&#160;&#160;has&#160;&#160;&#160;to&#160;&#160;&#160;be&#160;<br/>cryptographically&#160;signed&#160;to&#160;identify&#160;the&#160;creator&#160;of&#160;which&#160;not&#160;all&#160;may&#160;be&#160;trusted&#160;and&#160;to&#160;<br/>maintain&#160;&#160;&#160;integrity&#160;&#160;&#160;itself.&#160;&#160;&#160;Further&#160;&#160;&#160;schemata&#160;&#160;&#160;deal&#160;&#160;&#160;with&#160;&#160;&#160;the&#160;&#160;&#160;reporting&#160;&#160;&#160;of&#160;&#160;&#160;integrity&#160;<br/>information.<br/>Other&#160;&#160;&#160;specifications,&#160;&#160;&#160;such&#160;&#160;&#160;as&#160;&#160;&#160;the&#160;&#160;&#160;mobile&#160;&#160;&#160;working&#160;&#160;&#160;group's&#160;&#160;&#160;specification&#160;&#160;&#160;also&#160;&#160;&#160;contain&#160;<br/>secure&#160;&#160;&#160;boot&#160;&#160;&#160;capabilities.&#160;&#160;&#160;It&#160;&#160;&#160;relies&#160;&#160;&#160;on&#160;&#160;&#160;RIM&#160;&#160;&#160;certificates&#160;&#160;&#160;and&#160;&#160;&#160;verification&#160;&#160;&#160;keys.&#160;&#160;&#160;To&#160;<br/>implement&#160;these&#160;capabilities,&#160;amendments&#160;to&#160;the&#160;TPM&#160;functionality&#160;are&#160;made.<br/>The&#160;&#160;&#160;current&#160;&#160;&#160;implementation&#160;&#160;&#160;does&#160;&#160;&#160;not&#160;&#160;&#160;support&#160;&#160;&#160;cryptographic&#160;&#160;&#160;securing&#160;&#160;&#160;of&#160;&#160;&#160;RIMs.&#160;<br/>However,&#160;the&#160;implementation&#160;supports&#160;extensions&#160;concerning&#160;RIMs.&#160;For&#160;instance,&#160;the&#160;<br/>storage&#160;manager&#160;could&#160;be&#160;amended&#160;to&#160;support&#160;the&#160;infrastructure&#160;specified&#160;in&#160;[IWG07].</p>
<p style="position:absolute;top:822px;left:85px;white-space:nowrap" class="ft33283"><b>4.5&#160;Reporting&#160;Agent</b></p>
<p style="position:absolute;top:850px;left:85px;white-space:nowrap" class="ft33287">The&#160;reporting&#160;agent&#160;takes&#160;over&#160;the&#160;task&#160;to&#160;report&#160;measurements&#160;to&#160;a&#160;remote&#160;verifier.&#160;<br/>It&#160;is&#160;not&#160;implemented&#160;in&#160;the&#160;current&#160;version&#160;of&#160;the&#160;ISP.</p>
<p style="position:absolute;top:915px;left:85px;white-space:nowrap" class="ft33283"><b>4.6&#160;Property&#160;Collector</b></p>
<p style="position:absolute;top:943px;left:85px;white-space:nowrap" class="ft33287">The&#160;property&#160;collector&#160;is&#160;the&#160;entity&#160;that&#160;updates&#160;system&#160;properties&#160;as&#160;defined&#160;in&#160;<br/>Section<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#328">&#160;3.3.2.</a></p>
<p style="position:absolute;top:1008px;left:85px;white-space:nowrap" class="ft33298"><b>4.6.1&#160;PolicyPropertyCollector</b></p>
<p style="position:absolute;top:1035px;left:85px;white-space:nowrap" class="ft33284">The&#160;abstraction&#160;of&#160;system&#160;policies&#160;in&#160;Java&#160;is&#160;done&#160;by&#160;the&#160;</p>
<p style="position:absolute;top:1035px;left:577px;white-space:nowrap" class="ft332170">PolicyFile</p>
<p style="position:absolute;top:1035px;left:653px;white-space:nowrap" class="ft33284">&#160;class&#160;(a&#160;singleton&#160;</p>
<p style="position:absolute;top:1054px;left:85px;white-space:nowrap" class="ft33284">instance&#160;of&#160;class&#160;</p>
<p style="position:absolute;top:1054px;left:228px;white-space:nowrap" class="ft332170">Policy</p>
<p style="position:absolute;top:1054px;left:276px;white-space:nowrap" class="ft33284">).&#160;Each&#160;time&#160;an&#160;entry&#160;in&#160;any&#160;of&#160;various&#160;configuration&#160;files&#160;(which&#160;</p>
<p style="position:absolute;top:1073px;left:85px;white-space:nowrap" class="ft33284">can&#160;be&#160;configured&#160;in&#160;the&#160;file&#160;&#160;</p>
<p style="position:absolute;top:1073px;left:340px;white-space:nowrap" class="ft332170">java.security</p>
<p style="position:absolute;top:1073px;left:446px;white-space:nowrap" class="ft33284">)&#160;is&#160;added&#160;to&#160;the&#160;system&#160;policy,&#160;the&#160;class&#160;</p>
<p style="position:absolute;top:1092px;left:85px;white-space:nowrap" class="ft332170">PolicyPropertyCollector</p>
<p style="position:absolute;top:1092px;left:277px;white-space:nowrap" class="ft33284">&#160;&#160;evaluates&#160;&#160;&#160;the&#160;&#160;&#160;permission&#160;&#160;&#160;entries&#160;&#160;&#160;and&#160;&#160;&#160;updates&#160;&#160;&#160;the&#160;&#160;&#160;system&#160;</p>
<p style="position:absolute;top:1112px;left:85px;white-space:nowrap" class="ft33284">properties&#160;&#160;&#160;as&#160;&#160;&#160;defined&#160;&#160;&#160;in&#160;&#160;&#160;Section<a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#328">&#160;3.3.2.&#160;</a>&#160;&#160;The&#160;&#160;&#160;current&#160;&#160;&#160;implementation&#160;&#160;&#160;is&#160;&#160;&#160;for&#160;&#160;&#160;testing&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft33291">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft33291">17/22</p>
</div>
<!-- Page 333 -->
<a name="333"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page333-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2333.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft33390">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft33380">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft33391">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft33391">RC|1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft33384">purposes&#160;of&#160;this&#160;approach&#160;only&#160;and&#160;is&#160;not&#160;published&#160;at&#160;the&#160;moment.</p>
<p style="position:absolute;top:197px;left:85px;white-space:nowrap" class="ft33383"><b>4.7&#160;Additional&#160;System&#160;Properties</b></p>
<p style="position:absolute;top:225px;left:85px;white-space:nowrap" class="ft33387">We&#160;introduced&#160;four&#160;additional&#160;system&#160;properties&#160;in&#160;our&#160;implementation&#160;which&#160;allow&#160;to&#160;<br/>configure&#160;the&#160;ISP&#160;during&#160;start-up&#160;of&#160;the&#160;Java&#160;VM.&#160;The&#160;properties&#160;to&#160;enable&#160;the&#160;ISP&#160;via&#160;<br/>the&#160;command&#160;line&#160;are:</p>
<p style="position:absolute;top:296px;left:112px;white-space:nowrap" class="ft333168">●</p>
<p style="position:absolute;top:291px;left:139px;white-space:nowrap" class="ft33387">iaik.tc.enable:&#160;Enables&#160;the&#160;ISP&#160;and&#160;allows&#160;two&#160;modes.&#160;Either&#160;the&#160;ISP&#160;in&#160;the&#160;VM&#160;<br/>itself&#160;(via&#160;-Diaik.tc.enable=vm)&#160;or&#160;in&#160;the&#160;Java&#160;class&#160;libraries&#160;(via&#160;<br/>-Diaik.tc.enable=Java)&#160;are&#160;activated.</p>
<p style="position:absolute;top:362px;left:112px;white-space:nowrap" class="ft333168">●</p>
<p style="position:absolute;top:358px;left:139px;white-space:nowrap" class="ft33387">iaik.tc.debug:&#160;Shows&#160;debug&#160;information&#160;about&#160;the&#160;files&#160;that&#160;are&#160;measured&#160;and&#160;<br/>what&#160;actions&#160;are&#160;taken.</p>
<p style="position:absolute;top:409px;left:112px;white-space:nowrap" class="ft333168">●</p>
<p style="position:absolute;top:405px;left:139px;white-space:nowrap" class="ft33387">iaik.tc.secureboot:&#160;Runs&#160;the&#160;VM&#160;with&#160;known&#160;classes&#160;only.&#160;This&#160;parameter&#160;also&#160;<br/>needs&#160;the&#160;storage&#160;directory&#160;of&#160;the&#160;measurements&#160;specified&#160;by&#160;iaik.tc.store.</p>
<p style="position:absolute;top:456px;left:112px;white-space:nowrap" class="ft333168">●</p>
<p style="position:absolute;top:452px;left:139px;white-space:nowrap" class="ft33387">iaik.tc.store:&#160;Specifies&#160;the&#160;storage&#160;directory&#160;of&#160;the&#160;reference&#160;measurements&#160;(via&#160;<br/>-Diaik.tc.store=&lt;directory&gt;).&#160;If&#160;the&#160;parameter&#160;iaik.tc.secureboot&#160;is&#160;not&#160;given,&#160;<br/>the&#160;ISP&#160;uses&#160;this&#160;directory&#160;as&#160;a&#160;target&#160;directory&#160;to&#160;store&#160;the&#160;measurements.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft33391">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft33391">18/22</p>
</div>
<!-- Page 334 -->
<a name="334"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page334-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2334.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft33490">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft33480">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft33491">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft33491">RC|1.0</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft334136"><b>5&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft33493"><b>Results</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft33487">This&#160;section&#160;outlines&#160;results&#160;we&#160;have&#160;obtained&#160;from&#160;our&#160;implementation.&#160;The&#160;class-<br/>loading&#160;process&#160;is&#160;an&#160;integral&#160;part&#160;of&#160;the&#160;VM&#160;where&#160;performance&#160;is&#160;an&#160;important&#160;issue.&#160;<br/>We&#160;evaluated&#160;several&#160;approaches&#160;and&#160;give&#160;the&#160;results&#160;in&#160;this&#160;section.&#160;The&#160;results&#160;are&#160;<br/>preliminary&#160;and&#160;will&#160;be&#160;refined&#160;in&#160;the&#160;future&#160;to&#160;give&#160;more&#160;exact&#160;figures&#160;for&#160;different&#160;<br/>application&#160;sizes&#160;etc.<br/>The&#160;numbers&#160;&#160;have&#160;been&#160;obtained&#160;&#160;through&#160;&#160;the&#160;&#160;jvmstat&#160;[PERF07]&#160;&#160;utility&#160;&#160;provided&#160;by&#160;<br/>Sun.&#160;This&#160;graphical&#160;tool&#160;makes&#160;use&#160;of&#160;the&#160;JVMTI&#160;interface&#160;and&#160;depicts&#160;the&#160;time&#160;used&#160;for&#160;<br/>various&#160;tasks&#160;of&#160;the&#160;VM,&#160;for&#160;example,&#160;garbage&#160;collection,&#160;class&#160;loading,&#160;etc.&#160;It&#160;can&#160;be&#160;<br/>attached&#160;to&#160;a&#160;running&#160;Java&#160;VM&#160;process.&#160;The&#160;numbers&#160;were&#160;achieved&#160;on&#160;a&#160;Pentium&#160;4&#160;<br/>Dual&#160;Core&#160;running&#160;at&#160;3&#160;GHz.&#160;The&#160;numbers&#160;depict&#160;maximum&#160;values&#160;as&#160;execution&#160;time&#160;<br/>varies&#160;slightly&#160;between&#160;different&#160;invocations.&#160;However,&#160;it&#160;should&#160;give&#160;an&#160;idea&#160;on&#160;the&#160;<br/>performance&#160;impact&#160;of&#160;integrity&#160;measurement&#160;on&#160;class&#160;loading.<br/>The&#160;test&#160;application&#160;we&#160;used&#160;was&#160;the&#160;Metalworks&#160;demo&#160;from&#160;the&#160;OpenJDK&#160;build&#160;which&#160;<br/>needs&#160;about&#160;1500&#160;classes.&#160;The&#160;reference&#160;value&#160;is&#160;250&#160;ms&#160;for&#160;the&#160;class&#160;loading&#160;as&#160;it&#160;is&#160;<br/>implemented&#160;in&#160;OpenJDK.&#160;The&#160;software&#160;(SW)&#160;TPM&#160;we&#160;used&#160;was&#160;a&#160;TPM&#160;emulator,&#160;the&#160;<br/>hardware&#160;(HW)&#160;TPM&#160;was&#160;a&#160;TPM&#160;by&#160;STMicroelectronics:</p>
<p style="position:absolute;top:537px;left:112px;white-space:nowrap" class="ft334168">●</p>
<p style="position:absolute;top:532px;left:139px;white-space:nowrap" class="ft33484">For&#160;measuring&#160;each&#160;class&#160;separately&#160;using</p>
<p style="position:absolute;top:564px;left:139px;white-space:nowrap" class="ft334168">○</p>
<p style="position:absolute;top:560px;left:166px;white-space:nowrap" class="ft33484">HW&#160;TPM:&#160;&gt;&#160;30&#160;sec</p>
<p style="position:absolute;top:592px;left:139px;white-space:nowrap" class="ft334168">○</p>
<p style="position:absolute;top:588px;left:166px;white-space:nowrap" class="ft33484">SW&#160;TPM:&#160;1.5&#160;sec</p>
<p style="position:absolute;top:620px;left:139px;white-space:nowrap" class="ft334168">○</p>
<p style="position:absolute;top:616px;left:166px;white-space:nowrap" class="ft33484">Lazy&#160;evaluation&#160;(caching&#160;in&#160;VM):&#160;300&#160;ms</p>
<p style="position:absolute;top:648px;left:112px;white-space:nowrap" class="ft334168">●</p>
<p style="position:absolute;top:643px;left:139px;white-space:nowrap" class="ft33484">For&#160;measuring&#160;the&#160;application&#160;classes&#160;only&#160;using</p>
<p style="position:absolute;top:676px;left:139px;white-space:nowrap" class="ft334168">○</p>
<p style="position:absolute;top:671px;left:166px;white-space:nowrap" class="ft33484">HW&#160;TPM:&#160;900&#160;ms</p>
<p style="position:absolute;top:704px;left:139px;white-space:nowrap" class="ft334168">○</p>
<p style="position:absolute;top:699px;left:166px;white-space:nowrap" class="ft33484">SW&#160;TPM:&#160;300&#160;ms</p>
<p style="position:absolute;top:727px;left:85px;white-space:nowrap" class="ft33487">In&#160;general,&#160;the&#160;granularity&#160;of&#160;the&#160;approach&#160;highly&#160;affects&#160;the&#160;performance&#160;of&#160;the&#160;VM.&#160;<br/>The&#160;numbers&#160;show&#160;that,&#160;for&#160;hardware&#160;TPMs,&#160;the&#160;numbers&#160;of&#160;invocations&#160;of&#160;integrity&#160;<br/>status&#160;updates&#160;should&#160;be&#160;kept&#160;as&#160;low&#160;as&#160;possible.&#160;This&#160;favors&#160;the&#160;approach&#160;to&#160;measure&#160;<br/>JAR-files&#160;instead&#160;of&#160;single&#160;class&#160;files.&#160;Hence,&#160;class&#160;file&#160;measurement&#160;should&#160;only&#160;be&#160;<br/>performed&#160;&#160;&#160;if&#160;&#160;&#160;the&#160;&#160;&#160;class&#160;&#160;&#160;is&#160;&#160;&#160;not&#160;&#160;&#160;part&#160;&#160;&#160;of&#160;&#160;&#160;a&#160;&#160;&#160;JAR-file.&#160;&#160;&#160;Another&#160;&#160;&#160;possibility&#160;&#160;&#160;is&#160;&#160;&#160;to&#160;&#160;&#160;use&#160;&#160;&#160;a&#160;<br/>measurement&#160;agent&#160;that&#160;caches&#160;the&#160;measurements&#160;inside&#160;the&#160;Java&#160;VM&#160;and&#160;delays&#160;the&#160;<br/>integrity&#160;status&#160;update&#160;to&#160;the&#160;time&#160;of&#160;attestation.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft33491">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft33491">19/22</p>
</div>
<!-- Page 335 -->
<a name="335"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft335172{font-size:8px;font-family:DAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page335-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2335.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft33590">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft33580">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft33591">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft33591">RC|1.0</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft335136"><b>6&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft33593"><b>Outlook</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft33587">The&#160;&#160;&#160;implementation&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;integrity&#160;&#160;&#160;measurement&#160;&#160;&#160;architecture&#160;&#160;&#160;for&#160;&#160;&#160;trusted&#160;&#160;&#160;class&#160;<br/>loading&#160;in&#160;Java&#160;VMs&#160;is&#160;dependent&#160;on&#160;the&#160;class&#160;loading&#160;process.&#160;However,&#160;this&#160;process&#160;<br/>is&#160;&#160;&#160;about&#160;&#160;&#160;to&#160;&#160;&#160;change&#160;&#160;&#160;in&#160;&#160;&#160;further&#160;&#160;&#160;versions&#160;&#160;&#160;of&#160;&#160;&#160;the&#160;&#160;&#160;VM&#160;&#160;&#160;as&#160;&#160;&#160;outlined&#160;&#160;&#160;in&#160;&#160;&#160;Java</p>
<p style="position:absolute;top:241px;left:724px;white-space:nowrap" class="ft335172">TM</p>
<p style="position:absolute;top:237px;left:736px;white-space:nowrap" class="ft33584">&#160;&#160;Module&#160;</p>
<p style="position:absolute;top:257px;left:85px;white-space:nowrap" class="ft33584">System&#160;[SUN07a]&#160;&#160;and&#160;&#160;&#160;Improved&#160;&#160;&#160;Modularity&#160;&#160;&#160;Support&#160;&#160;&#160;in&#160;&#160;&#160;the&#160;&#160;&#160;Java</p>
<p style="position:absolute;top:260px;left:670px;white-space:nowrap" class="ft335172">TM</p>
<p style="position:absolute;top:257px;left:682px;white-space:nowrap" class="ft33584">&#160;&#160;Programming&#160;</p>
<p style="position:absolute;top:276px;left:85px;white-space:nowrap" class="ft33587">Language&#160;[SUN07b].&#160;&#160;&#160;Whereas&#160;&#160;&#160;both&#160;&#160;&#160;specifications&#160;&#160;&#160;aim&#160;&#160;&#160;at&#160;&#160;&#160;redesigning&#160;&#160;&#160;the&#160;&#160;&#160;JAR-file&#160;<br/>deployment&#160;option&#160;for&#160;Java&#160;using&#160;a&#160;modularized&#160;approach,&#160;they&#160;require&#160;a&#160;redesign&#160;of&#160;<br/>the&#160;class&#160;loading&#160;and&#160;launching&#160;process&#160;of&#160;the&#160;Java&#160;VM.<br/>A&#160;fact&#160;that&#160;supports&#160;integrity&#160;measurements&#160;as&#160;defined&#160;by&#160;binary&#160;attestation&#160;is&#160;that&#160;<br/>the&#160;&#160;&#160;new&#160;&#160;&#160;Java&#160;&#160;&#160;module&#160;&#160;&#160;will&#160;&#160;&#160;incorporate&#160;&#160;&#160;version&#160;&#160;&#160;information&#160;&#160;&#160;which&#160;&#160;&#160;is&#160;&#160;&#160;currently&#160;&#160;&#160;not&#160;<br/>supported.&#160;As&#160;binary&#160;&#160;attestation&#160;&#160;relies&#160;on&#160;information&#160;&#160;about&#160;&#160;the&#160;version&#160;and&#160;patch&#160;<br/>level&#160;of&#160;a&#160;software&#160;component,&#160;this&#160;information&#160;could&#160;easily&#160;be&#160;provided.<br/>The&#160;property-based&#160;approach&#160;as&#160;described&#160;in&#160;this&#160;document&#160;is&#160;an&#160;ad-hoc&#160;mapping&#160;of&#160;<br/>permissions&#160;&#160;&#160;to&#160;&#160;&#160;properties.&#160;&#160;&#160;However,&#160;&#160;&#160;the&#160;&#160;&#160;careful&#160;&#160;&#160;selection&#160;&#160;&#160;of&#160;&#160;&#160;security&#160;&#160;&#160;properties&#160;&#160;&#160;is&#160;<br/>inevitable&#160;and&#160;the&#160;proposed&#160;selection&#160;gives&#160;only&#160;a&#160;starting&#160;point.&#160;It&#160;is&#160;also&#160;not&#160;defined&#160;<br/>yet&#160;how&#160;these&#160;properties&#160;can&#160;be&#160;integrated&#160;with&#160;the&#160;instantiation&#160;of&#160;an&#160;attestation&#160;<br/>protocol.&#160;&#160;&#160;Furthermore,&#160;&#160;&#160;as&#160;&#160;&#160;the&#160;&#160;&#160;stack&#160;&#160;&#160;inspection&#160;&#160;&#160;mechanism&#160;&#160;&#160;has&#160;&#160;&#160;been&#160;&#160;&#160;criticized&#160;&#160;&#160;by&#160;<br/>several&#160;researchers&#160;(see&#160;[PIS07]&#160;&#160;for&#160;a&#160;recent&#160;survey&#160;in&#160;this&#160;field),&#160;the&#160;security&#160;of&#160;the&#160;<br/>access&#160;control&#160;model&#160;may&#160;not&#160;be&#160;given.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft33591">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft33591">20/22</p>
</div>
<!-- Page 336 -->
<a name="336"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft336173{font-size:17px;font-family:DAAAAA+BitstreamVeraSans;color:#000080;}
	.ft336174{font-size:8px;font-family:CAAAAA+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page336-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2336.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft33690">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft33680">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft33691">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft33691">RC|1.0</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft336136"><b>7&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft33693"><b>References</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft33684">[SAI04]</p>
<p style="position:absolute;top:199px;left:170px;white-space:nowrap" class="ft33684">Reiner&#160;Sailer,&#160;Xiaolan&#160;Zhang,&#160;Trent&#160;Jaeger,&#160;and&#160;Leendert&#160;van&#160;Doorn:&#160;</p>
<p style="position:absolute;top:199px;left:740px;white-space:nowrap" class="ft33683"><b>Design&#160;</b></p>
<p style="position:absolute;top:218px;left:170px;white-space:nowrap" class="ft33689"><b>and&#160;Implementation&#160;of&#160;a&#160;TCG-based&#160;Integrity&#160;Measurement&#160;<br/>Architecture</b></p>
<p style="position:absolute;top:237px;left:285px;white-space:nowrap" class="ft33684">.&#160;In&#160;Proceedings&#160;of&#160;the&#160;13th&#160;conference&#160;on&#160;USENIX&#160;Security&#160;</p>
<p style="position:absolute;top:257px;left:170px;white-space:nowrap" class="ft33684">Symposium&#160;(SSYM04),&#160;2004.</p>
<p style="position:absolute;top:278px;left:85px;white-space:nowrap" class="ft33684">[JNI07]</p>
<p style="position:absolute;top:278px;left:170px;white-space:nowrap" class="ft33684">Sun&#160;Microsystems:&#160;</p>
<p style="position:absolute;top:278px;left:330px;white-space:nowrap" class="ft33683"><b>The&#160;Java&#160;Native&#160;Interface&#160;Specification</b></p>
<p style="position:absolute;top:278px;left:692px;white-space:nowrap" class="ft33684">.&#160;Available&#160;at&#160;</p>
<p style="position:absolute;top:297px;left:170px;white-space:nowrap" class="ft336173"><a href="http://java.sun.com/j2se/1.5.0/docs/guide/jni/spec/jniTOC.html">http://java.sun.com/j2se/1.5.0/docs/guide/jni/spec/jniTOC.html</a></p>
<p style="position:absolute;top:297px;left:684px;white-space:nowrap" class="ft33684"><a href="http://java.sun.com/j2se/1.5.0/docs/guide/jni/spec/jniTOC.html">,</a>&#160;July&#160;2007.</p>
<p style="position:absolute;top:319px;left:85px;white-space:nowrap" class="ft33684">[OJDK07]&#160;Open&#160;Source&#160;JDK&#160;Community.&#160;Available&#160;at<a href="http://www.openjdk.org/">&#160;</a></p>
<p style="position:absolute;top:319px;left:524px;white-space:nowrap" class="ft336173"><a href="http://www.openjdk.org/">http://www.openjdk.org/</a></p>
<p style="position:absolute;top:319px;left:724px;white-space:nowrap" class="ft33684"><a href="http://www.openjdk.org/">,</a>&#160;July&#160;</p>
<p style="position:absolute;top:338px;left:170px;white-space:nowrap" class="ft33684">2007.</p>
<p style="position:absolute;top:359px;left:85px;white-space:nowrap" class="ft33684">[PERF07]&#160;Sun&#160;Microsystems:&#160;</p>
<p style="position:absolute;top:359px;left:330px;white-space:nowrap" class="ft33683"><b>jvmstat&#160;-&#160;Java&#160;VM&#160;Performance&#160;Evaluation&#160;Tool</b></p>
<p style="position:absolute;top:359px;left:767px;white-space:nowrap" class="ft33684">.&#160;</p>
<p style="position:absolute;top:378px;left:170px;white-space:nowrap" class="ft33684">Available&#160;at<a href="http://java.sun.com/performance/jvmstat/">&#160;</a></p>
<p style="position:absolute;top:378px;left:272px;white-space:nowrap" class="ft336173"><a href="http://java.sun.com/performance/jvmstat/">http://java.sun.com/performance/jvmstat/</a></p>
<p style="position:absolute;top:378px;left:618px;white-space:nowrap" class="ft33684"><a href="http://java.sun.com/performance/jvmstat/">,</a>&#160;July&#160;2007.</p>
<p style="position:absolute;top:400px;left:85px;white-space:nowrap" class="ft33684">[WAL98]&#160;Dan&#160;S.&#160;Wallach&#160;and&#160;Edward&#160;W.&#160;Felten:&#160;</p>
<p style="position:absolute;top:400px;left:492px;white-space:nowrap" class="ft33683"><b>Understanding&#160;Java&#160;Stack&#160;</b></p>
<p style="position:absolute;top:419px;left:170px;white-space:nowrap" class="ft33683"><b>Inspection.</b></p>
<p style="position:absolute;top:419px;left:273px;white-space:nowrap" class="ft33684">&#160;In&#160;Proceedings&#160;of&#160;the&#160;IEEE&#160;Symposium&#160;on&#160;Security&#160;and&#160;Privacy,&#160;</p>
<p style="position:absolute;top:438px;left:170px;white-space:nowrap" class="ft33684">1998.</p>
<p style="position:absolute;top:460px;left:85px;white-space:nowrap" class="ft33684">[JVM98]</p>
<p style="position:absolute;top:460px;left:170px;white-space:nowrap" class="ft33684">Bill&#160;Venners:&#160;</p>
<p style="position:absolute;top:460px;left:279px;white-space:nowrap" class="ft33683"><b>Inside&#160;the&#160;Java&#160;Virtual&#160;Machine</b></p>
<p style="position:absolute;top:460px;left:569px;white-space:nowrap" class="ft33684">,&#160;Second&#160;Edition.&#160;McGraw-</p>
<p style="position:absolute;top:479px;left:170px;white-space:nowrap" class="ft33684">Hill,&#160;New-York,&#160;1998</p>
<p style="position:absolute;top:500px;left:85px;white-space:nowrap" class="ft33684">[CHE06]&#160;Liqun&#160;Chen,&#160;Rainer&#160;Landfermann,&#160;Hans&#160;Löhr,&#160;Markus&#160;Rohe,&#160;Ahmad-Reza&#160;</p>
<p style="position:absolute;top:519px;left:170px;white-space:nowrap" class="ft33684">Sadeghi,&#160;and&#160;Christian&#160;Stüble:&#160;</p>
<p style="position:absolute;top:519px;left:425px;white-space:nowrap" class="ft33683"><b>A&#160;Protocol&#160;for&#160;Property-Based&#160;</b></p>
<p style="position:absolute;top:538px;left:170px;white-space:nowrap" class="ft33683"><b>Attestation.</b></p>
<p style="position:absolute;top:538px;left:281px;white-space:nowrap" class="ft33684">&#160;In&#160;Proceedings&#160;of&#160;the&#160;first&#160;ACM&#160;workshop&#160;on&#160;Scalable&#160;trusted&#160;</p>
<p style="position:absolute;top:558px;left:170px;white-space:nowrap" class="ft33684">computing&#160;(STC06),&#160;2006.</p>
<p style="position:absolute;top:579px;left:85px;white-space:nowrap" class="ft33684">[SAD04]&#160;Ahmad-Reza&#160;Sadeghi&#160;and&#160;Christian&#160;Stüble:&#160;</p>
<p style="position:absolute;top:579px;left:530px;white-space:nowrap" class="ft33683"><b>Property-Based&#160;Attestation&#160;</b></p>
<p style="position:absolute;top:598px;left:170px;white-space:nowrap" class="ft33683"><b>for&#160;Computing&#160;Platforms:&#160;Caring&#160;about&#160;Properties,&#160;not&#160;Mechanisms.&#160;</b></p>
<p style="position:absolute;top:618px;left:170px;white-space:nowrap" class="ft33684">In&#160;Proceedings&#160;of&#160;the&#160;2004&#160;workshop&#160;on&#160;New&#160;security&#160;paradigms,&#160;2004.</p>
<p style="position:absolute;top:639px;left:85px;white-space:nowrap" class="ft33684">[HAL04]&#160;Vivek&#160;Haldar,&#160;Deepak&#160;Chandra,&#160;and&#160;Michael&#160;Franz:&#160;</p>
<p style="position:absolute;top:639px;left:595px;white-space:nowrap" class="ft33683"><b>Semantic&#160;Remote&#160;</b></p>
<p style="position:absolute;top:658px;left:170px;white-space:nowrap" class="ft33689"><b>Attestation:&#160;A&#160;Virtual&#160;Machine&#160;Directed&#160;Approach&#160;to&#160;Trusted&#160;<br/>Ccomputing</b></p>
<p style="position:absolute;top:677px;left:281px;white-space:nowrap" class="ft33684">.&#160;In&#160;Proceedings&#160;of&#160;the&#160;3rd&#160;conference&#160;on&#160;Virtual&#160;Machine&#160;</p>
<p style="position:absolute;top:696px;left:170px;white-space:nowrap" class="ft33684">Research&#160;And&#160;Technology&#160;Symposium&#160;-&#160;Volume&#160;3,&#160;2004.</p>
<p style="position:absolute;top:718px;left:85px;white-space:nowrap" class="ft33684">[JAE06]</p>
<p style="position:absolute;top:718px;left:170px;white-space:nowrap" class="ft33684">Trent&#160;Jaeger,&#160;Reiner&#160;Sailer,&#160;and&#160;Umesh&#160;Shankar:&#160;</p>
<p style="position:absolute;top:718px;left:576px;white-space:nowrap" class="ft33683"><b>PRIMA:&#160;Policy-Reduced&#160;</b></p>
<p style="position:absolute;top:737px;left:170px;white-space:nowrap" class="ft33683"><b>Integrity&#160;Measurement&#160;Architecture.</b></p>
<p style="position:absolute;top:737px;left:512px;white-space:nowrap" class="ft33684">&#160;In&#160;Proceedings&#160;of&#160;the&#160;eleventh&#160;</p>
<p style="position:absolute;top:756px;left:170px;white-space:nowrap" class="ft33684">ACM&#160;symposium&#160;on&#160;Access&#160;control&#160;models&#160;and&#160;technologies,&#160;2006.</p>
<p style="position:absolute;top:778px;left:85px;white-space:nowrap" class="ft33684">[IWG07]&#160;Trusted&#160;Computing&#160;Group:&#160;</p>
<p style="position:absolute;top:778px;left:394px;white-space:nowrap" class="ft33683"><b>Infrastructure&#160;Specifications</b></p>
<p style="position:absolute;top:778px;left:661px;white-space:nowrap" class="ft33684">.&#160;Available&#160;at&#160;</p>
<p style="position:absolute;top:797px;left:168px;white-space:nowrap" class="ft336173"><a href="https://www.trustedcomputinggroup.org/specs/IWG/">https://www.trustedcomputinggroup.org/specs/IWG/</a></p>
<p style="position:absolute;top:797px;left:600px;white-space:nowrap" class="ft33684"><a href="https://www.trustedcomputinggroup.org/specs/IWG/">,</a>&#160;Sept.&#160;2007.</p>
<p style="position:absolute;top:818px;left:85px;white-space:nowrap" class="ft33684">[SUN07a]&#160;Sun&#160;Microsystems:&#160;</p>
<p style="position:absolute;top:818px;left:329px;white-space:nowrap" class="ft33683"><b>Java</b></p>
<p style="position:absolute;top:822px;left:368px;white-space:nowrap" class="ft336174"><b>TM</b></p>
<p style="position:absolute;top:818px;left:382px;white-space:nowrap" class="ft33683"><b>&#160;Module&#160;System&#160;(JSR&#160;277)</b></p>
<p style="position:absolute;top:818px;left:622px;white-space:nowrap" class="ft33684">.&#160;Available&#160;at&#160;</p>
<p style="position:absolute;top:837px;left:168px;white-space:nowrap" class="ft336173"><a href="http://jcp.org/en/jsr/detail?id=277">http://jcp.org/en/jsr/detail?id=277</a></p>
<p style="position:absolute;top:837px;left:449px;white-space:nowrap" class="ft33684"><a href="http://jcp.org/en/jsr/detail?id=277">,</a>&#160;Sept.&#160;2007.</p>
<p style="position:absolute;top:859px;left:85px;white-space:nowrap" class="ft33684">[SUN07b]&#160;Sun&#160;Microsystems:&#160;</p>
<p style="position:absolute;top:859px;left:329px;white-space:nowrap" class="ft33683"><b>Improved&#160;Modularity&#160;Support&#160;in&#160;the&#160;Java</b></p>
<p style="position:absolute;top:862px;left:709px;white-space:nowrap" class="ft336174"><b>TM&#160;</b></p>
<p style="position:absolute;top:878px;left:168px;white-space:nowrap" class="ft33683"><b>Programming&#160;Language&#160;(JSR&#160;294)</b></p>
<p style="position:absolute;top:878px;left:483px;white-space:nowrap" class="ft33684">.&#160;Available&#160;at&#160;</p>
<p style="position:absolute;top:897px;left:168px;white-space:nowrap" class="ft336173"><a href="http://jcp.org/en/jsr/detail?id=294">http://jcp.org/en/jsr/detail?id=294</a></p>
<p style="position:absolute;top:897px;left:449px;white-space:nowrap" class="ft33684"><a href="http://jcp.org/en/jsr/detail?id=294">,</a>&#160;Sept.&#160;2007.</p>
<p style="position:absolute;top:919px;left:85px;white-space:nowrap" class="ft33684">[PIS07]</p>
<p style="position:absolute;top:919px;left:168px;white-space:nowrap" class="ft33684">M.&#160;Pistoia,&#160;S.&#160;Chandra,&#160;S.&#160;J.&#160;Fink,&#160;and&#160;E.&#160;Yahav:&#160;</p>
<p style="position:absolute;top:919px;left:559px;white-space:nowrap" class="ft33683"><b>A&#160;Survey&#160;of&#160;Static&#160;</b></p>
<p style="position:absolute;top:938px;left:168px;white-space:nowrap" class="ft33689"><b>Analysis&#160;Methods&#160;for&#160;Identifying&#160;Security&#160;Vulnerabilities&#160;in&#160;<br/>Software&#160;Systems</b></p>
<p style="position:absolute;top:957px;left:337px;white-space:nowrap" class="ft33684">.&#160;IBM&#160;Systems&#160;Journal,&#160;Vol.&#160;46,&#160;No.&#160;2,&#160;2007.</p>
<p style="position:absolute;top:978px;left:85px;white-space:nowrap" class="ft33684">[LIN05]</p>
<p style="position:absolute;top:978px;left:168px;white-space:nowrap" class="ft33684">J.&#160;L&#160;.Griffin,&#160;T.&#160;Jaeger,&#160;R.&#160;Perez,&#160;R.&#160;Sailer,&#160;L.&#160;v.&#160;Doorn,&#160;and&#160;R.&#160;Cáceres:&#160;</p>
<p style="position:absolute;top:997px;left:168px;white-space:nowrap" class="ft33683"><b>Trusted&#160;Virtual&#160;Domains:&#160;Toward&#160;Secure&#160;Distributed&#160;Services</b></p>
<p style="position:absolute;top:997px;left:742px;white-space:nowrap" class="ft33684">.&#160;First&#160;</p>
<p style="position:absolute;top:1017px;left:168px;white-space:nowrap" class="ft33684">Workshop&#160;on&#160;Hot&#160;Topics&#160;in&#160;System&#160;Dependability,&#160;Yokohama,&#160;Japan,&#160;2005.</p>
<p style="position:absolute;top:1038px;left:85px;white-space:nowrap" class="ft33684">[JAN06]</p>
<p style="position:absolute;top:1038px;left:168px;white-space:nowrap" class="ft33684">B.&#160;Jansen,&#160;H.&#160;V.&#160;Ramasamy,&#160;M.&#160;Schunter:&#160;</p>
<p style="position:absolute;top:1038px;left:513px;white-space:nowrap" class="ft33683"><b>Flexible&#160;Integrity&#160;Protection&#160;</b></p>
<p style="position:absolute;top:1057px;left:168px;white-space:nowrap" class="ft33683"><b>and&#160;Verification&#160;Architecture&#160;for&#160;Virtual&#160;Machine&#160;Monitors</b></p>
<p style="position:absolute;top:1057px;left:711px;white-space:nowrap" class="ft33684">.&#160;Second&#160;</p>
<p style="position:absolute;top:1077px;left:168px;white-space:nowrap" class="ft33684">Workshop&#160;on&#160;Advances&#160;in&#160;Trusted&#160;Computing&#160;(WATC&#160;'06&#160;Fall),&#160;Tokyo,&#160;2006.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft33691">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft33691">21/22</p>
</div>
<!-- Page 337 -->
<a name="337"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page337-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2337.png" alt="background image"/>
<p style="position:absolute;top:128px;left:98px;white-space:nowrap" class="ft33790">&#160;</p>
<p style="position:absolute;top:85px;left:98px;white-space:nowrap" class="ft33780">&#160;</p>
<p style="position:absolute;top:92px;left:300px;white-space:nowrap" class="ft33791">Java&#160;VM&#160;for&#160;TCP&#160;implementations</p>
<p style="position:absolute;top:92px;left:716px;white-space:nowrap" class="ft33791">RC|1.0</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft337136"><b>8&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft33793"><b>List&#160;of&#160;Abbreviations&#160;</b></p>
<p style="position:absolute;top:225px;left:91px;white-space:nowrap" class="ft33784">IMA</p>
<p style="position:absolute;top:225px;left:220px;white-space:nowrap" class="ft33784">Integrity&#160;Measurement&#160;Architecture</p>
<p style="position:absolute;top:247px;left:91px;white-space:nowrap" class="ft33784">PCR</p>
<p style="position:absolute;top:247px;left:220px;white-space:nowrap" class="ft33784">Platform&#160;Configuration&#160;Register</p>
<p style="position:absolute;top:268px;left:91px;white-space:nowrap" class="ft33784">VM</p>
<p style="position:absolute;top:268px;left:220px;white-space:nowrap" class="ft33784">Virtual&#160;Machine</p>
<p style="position:absolute;top:289px;left:91px;white-space:nowrap" class="ft33784">XML</p>
<p style="position:absolute;top:289px;left:220px;white-space:nowrap" class="ft33784">eXtensible&#160;Markup&#160;Language</p>
<p style="position:absolute;top:311px;left:91px;white-space:nowrap" class="ft33784">JVMTI</p>
<p style="position:absolute;top:311px;left:220px;white-space:nowrap" class="ft33784">Java&#160;Virtual&#160;Machine&#160;Tool&#160;Interface</p>
<p style="position:absolute;top:332px;left:91px;white-space:nowrap" class="ft33784">API</p>
<p style="position:absolute;top:332px;left:220px;white-space:nowrap" class="ft33784">Application&#160;Programming&#160;Interface</p>
<p style="position:absolute;top:353px;left:91px;white-space:nowrap" class="ft33784">MA</p>
<p style="position:absolute;top:353px;left:220px;white-space:nowrap" class="ft33784">Measurement&#160;Agent</p>
<p style="position:absolute;top:375px;left:91px;white-space:nowrap" class="ft33784">VA</p>
<p style="position:absolute;top:375px;left:220px;white-space:nowrap" class="ft33784">Verification&#160;Agent</p>
<p style="position:absolute;top:396px;left:91px;white-space:nowrap" class="ft33784">ISP</p>
<p style="position:absolute;top:396px;left:220px;white-space:nowrap" class="ft33784">Integrity&#160;Service&#160;Provider</p>
<p style="position:absolute;top:418px;left:91px;white-space:nowrap" class="ft33784">SM</p>
<p style="position:absolute;top:418px;left:220px;white-space:nowrap" class="ft33784">Storage&#160;Manager</p>
<p style="position:absolute;top:439px;left:91px;white-space:nowrap" class="ft33784">TTP</p>
<p style="position:absolute;top:439px;left:220px;white-space:nowrap" class="ft33784">Trusted&#160;Third&#160;Party</p>
<p style="position:absolute;top:460px;left:91px;white-space:nowrap" class="ft33784">PBA</p>
<p style="position:absolute;top:460px;left:220px;white-space:nowrap" class="ft33784">Property-Based&#160;Attestation</p>
<p style="position:absolute;top:482px;left:91px;white-space:nowrap" class="ft33784">SRA</p>
<p style="position:absolute;top:482px;left:220px;white-space:nowrap" class="ft33784">Semantic&#160;Remote&#160;Attestation</p>
<p style="position:absolute;top:503px;left:91px;white-space:nowrap" class="ft33784">RIM</p>
<p style="position:absolute;top:503px;left:220px;white-space:nowrap" class="ft33784">Reference&#160;Integrity&#160;Measurement</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft33791">Open_TC&#160;Deliverable&#160;03d.4</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft33791">22/22</p>
</div>
<!-- Page 338 -->
<a name="338"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft338175{font-size:51px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
	.ft338176{font-size:21px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page338-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2338.png" alt="background image"/>
<p style="position:absolute;top:225px;left:200px;white-space:nowrap" class="ft338175">Integrating Trusted</p>
<p style="position:absolute;top:284px;left:192px;white-space:nowrap" class="ft338175">Computing into the&#160;</p>
<p style="position:absolute;top:344px;left:212px;white-space:nowrap" class="ft338175">Java Programming</p>
<p style="position:absolute;top:403px;left:321px;white-space:nowrap" class="ft338175">Language</p>
<p style="position:absolute;top:505px;left:210px;white-space:nowrap" class="ft338176">D03.d5:&#160;Java API and Library Implementation</p>
<p style="position:absolute;top:575px;left:91px;white-space:nowrap" class="ft3381"><b>Project&#160;number</b></p>
<p style="position:absolute;top:575px;left:425px;white-space:nowrap" class="ft3382">IST-027635</p>
<p style="position:absolute;top:601px;left:91px;white-space:nowrap" class="ft3381"><b>Project&#160;acronym</b></p>
<p style="position:absolute;top:601px;left:425px;white-space:nowrap" class="ft3382">Open_TC</p>
<p style="position:absolute;top:626px;left:91px;white-space:nowrap" class="ft3381"><b>Project&#160;title</b></p>
<p style="position:absolute;top:626px;left:425px;white-space:nowrap" class="ft3382">Open Trusted Computing</p>
<p style="position:absolute;top:652px;left:91px;white-space:nowrap" class="ft3381"><b>Deliverable&#160;type</b></p>
<p style="position:absolute;top:652px;left:425px;white-space:nowrap" class="ft3382">Internal&#160;Specification</p>
<p style="position:absolute;top:703px;left:91px;white-space:nowrap" class="ft3381"><b>Responsible&#160;Organisation</b></p>
<p style="position:absolute;top:703px;left:424px;white-space:nowrap" class="ft3382">IAIK</p>
<p style="position:absolute;top:729px;left:91px;white-space:nowrap" class="ft3381"><b>Authors</b></p>
<p style="position:absolute;top:729px;left:424px;white-space:nowrap" class="ft3382">Ronald&#160;Tögl,&#160;Michael E. Steurer</p>
<p style="position:absolute;top:780px;left:92px;white-space:nowrap" class="ft3381"><b>Dissemination&#160;level</b></p>
<p style="position:absolute;top:780px;left:423px;white-space:nowrap" class="ft3382">Internal&#160;Deliverable</p>
<p style="position:absolute;top:806px;left:92px;white-space:nowrap" class="ft3381"><b>Revision</b></p>
<p style="position:absolute;top:806px;left:423px;white-space:nowrap" class="ft3382">1</p>
<p style="position:absolute;top:870px;left:85px;white-space:nowrap" class="ft33866"><b>Revision Sheet</b></p>
<p style="position:absolute;top:931px;left:101px;white-space:nowrap" class="ft33812"><b>ReleaseNo</b></p>
<p style="position:absolute;top:931px;left:246px;white-space:nowrap" class="ft33812"><b>Date</b></p>
<p style="position:absolute;top:931px;left:480px;white-space:nowrap" class="ft33812"><b>Revision&#160;Description</b></p>
<p style="position:absolute;top:966px;left:140px;white-space:nowrap" class="ft3382">1</p>
<p style="position:absolute;top:966px;left:219px;white-space:nowrap" class="ft3382">30.04.2008</p>
<p style="position:absolute;top:966px;left:511px;white-space:nowrap" class="ft3382">Initial&#160;release</p>
</div>
<!-- Page 339 -->
<a name="339"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page339-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2339.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3397">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3397">1.0</p>
<p style="position:absolute;top:233px;left:85px;white-space:nowrap" class="ft3399"><b>Table of&#160;Contents</b></p>
<p style="position:absolute;top:270px;left:85px;white-space:nowrap" class="ft3392">1&#160;&#160;Introduction..............................................................................................4</p>
<p style="position:absolute;top:298px;left:94px;white-space:nowrap" class="ft3392">1.1</p>
<p style="position:absolute;top:298px;left:208px;white-space:nowrap" class="ft3392">About&#160;this&#160;Document..............................................................................4</p>
<p style="position:absolute;top:325px;left:85px;white-space:nowrap" class="ft3392">2&#160;&#160;TSS&#160;</p>
<p style="position:absolute;top:325px;left:236px;white-space:nowrap" class="ft3392">Architectures and&#160;Design...................................................................5</p>
<p style="position:absolute;top:353px;left:94px;white-space:nowrap" class="ft3392">2.1</p>
<p style="position:absolute;top:353px;left:208px;white-space:nowrap" class="ft3392">The&#160;TCG&#160;Software&#160;Stack Architecture.....................................................5</p>
<p style="position:absolute;top:381px;left:94px;white-space:nowrap" class="ft3392">2.2</p>
<p style="position:absolute;top:381px;left:208px;white-space:nowrap" class="ft3392">Integrate&#160;TSS&#160;Functionalities&#160;in&#160;Java.....................................................11</p>
<p style="position:absolute;top:409px;left:94px;white-space:nowrap" class="ft3392">2.3</p>
<p style="position:absolute;top:409px;left:208px;white-space:nowrap" class="ft3392">jTSS Wrapper........................................................................................12</p>
<p style="position:absolute;top:437px;left:94px;white-space:nowrap" class="ft3392">2.4</p>
<p style="position:absolute;top:437px;left:209px;white-space:nowrap" class="ft3392">jTSS.......................................................................................................14</p>
<p style="position:absolute;top:465px;left:94px;white-space:nowrap" class="ft3392">2.5</p>
<p style="position:absolute;top:465px;left:208px;white-space:nowrap" class="ft3392">The Common&#160;jTSS API...........................................................................19</p>
<p style="position:absolute;top:492px;left:85px;white-space:nowrap" class="ft3392">3&#160;&#160;</p>
<p style="position:absolute;top:492px;left:200px;white-space:nowrap" class="ft3392">IAIK&#160;jTSS – User&#160;and&#160;Installation&#160;Guidelines............................................22</p>
<p style="position:absolute;top:520px;left:94px;white-space:nowrap" class="ft3392">3.1</p>
<p style="position:absolute;top:520px;left:208px;white-space:nowrap" class="ft3392">Introduction...........................................................................................22</p>
<p style="position:absolute;top:548px;left:94px;white-space:nowrap" class="ft3392">3.2</p>
<p style="position:absolute;top:548px;left:208px;white-space:nowrap" class="ft3392">1.2.&#160;A Word&#160;of&#160;Caution..........................................................................22</p>
<p style="position:absolute;top:576px;left:94px;white-space:nowrap" class="ft3392">3.3</p>
<p style="position:absolute;top:576px;left:208px;white-space:nowrap" class="ft3392">Current&#160;Status.......................................................................................23</p>
<p style="position:absolute;top:604px;left:94px;white-space:nowrap" class="ft3392">3.4</p>
<p style="position:absolute;top:604px;left:208px;white-space:nowrap" class="ft3392">Requirements........................................................................................25</p>
<p style="position:absolute;top:632px;left:94px;white-space:nowrap" class="ft3392">3.5</p>
<p style="position:absolute;top:632px;left:208px;white-space:nowrap" class="ft3392">Setup and&#160;Usage...................................................................................26</p>
<p style="position:absolute;top:659px;left:94px;white-space:nowrap" class="ft3392">3.6</p>
<p style="position:absolute;top:659px;left:208px;white-space:nowrap" class="ft3392">API&#160;Documentations&#160;and Sample&#160;Code.................................................27</p>
<p style="position:absolute;top:687px;left:94px;white-space:nowrap" class="ft3392">3.7</p>
<p style="position:absolute;top:687px;left:208px;white-space:nowrap" class="ft3392">Technical Documentation......................................................................27</p>
<p style="position:absolute;top:715px;left:94px;white-space:nowrap" class="ft3392">3.8</p>
<p style="position:absolute;top:715px;left:208px;white-space:nowrap" class="ft3392">SOAP&#160;Bindings.......................................................................................29</p>
<p style="position:absolute;top:743px;left:94px;white-space:nowrap" class="ft3392">3.9</p>
<p style="position:absolute;top:743px;left:208px;white-space:nowrap" class="ft3392">Further&#160;Help..........................................................................................33</p>
<p style="position:absolute;top:771px;left:94px;white-space:nowrap" class="ft3392">3.1&#160;0</p>
<p style="position:absolute;top:771px;left:208px;white-space:nowrap" class="ft3392">Copyright&#160;Notice...................................................................................33</p>
<p style="position:absolute;top:798px;left:94px;white-space:nowrap" class="ft3392">3.1&#160;1</p>
<p style="position:absolute;top:798px;left:208px;white-space:nowrap" class="ft3392">Trademarks...........................................................................................34</p>
<p style="position:absolute;top:826px;left:94px;white-space:nowrap" class="ft3392">3.1&#160;2</p>
<p style="position:absolute;top:826px;left:208px;white-space:nowrap" class="ft3392">Revision&#160;History....................................................................................35</p>
<p style="position:absolute;top:854px;left:85px;white-space:nowrap" class="ft3392">4&#160;&#160;</p>
<p style="position:absolute;top:854px;left:200px;white-space:nowrap" class="ft3392">jTSS&#160;Wrapper Usage and&#160;Installation&#160;Guidelines....................................36</p>
<p style="position:absolute;top:882px;left:94px;white-space:nowrap" class="ft3392">4.1</p>
<p style="position:absolute;top:882px;left:208px;white-space:nowrap" class="ft3392">Introduction...........................................................................................36</p>
<p style="position:absolute;top:910px;left:94px;white-space:nowrap" class="ft3392">4.2</p>
<p style="position:absolute;top:910px;left:208px;white-space:nowrap" class="ft3392">OpenTC Project.....................................................................................36</p>
<p style="position:absolute;top:938px;left:94px;white-space:nowrap" class="ft3392">4.3</p>
<p style="position:absolute;top:938px;left:208px;white-space:nowrap" class="ft3392">A&#160;Word&#160;of&#160;Caution.................................................................................36</p>
<p style="position:absolute;top:965px;left:94px;white-space:nowrap" class="ft3392">4.4</p>
<p style="position:absolute;top:965px;left:209px;white-space:nowrap" class="ft3392">License..................................................................................................37</p>
<p style="position:absolute;top:993px;left:94px;white-space:nowrap" class="ft3392">4.5</p>
<p style="position:absolute;top:993px;left:208px;white-space:nowrap" class="ft3392">IAIK/OpenTC&#160;jTSS&#160;Wrapper vs. IAIK&#160;jTSS...............................................37</p>
<p style="position:absolute;top:1021px;left:94px;white-space:nowrap" class="ft3392">4.6</p>
<p style="position:absolute;top:1021px;left:208px;white-space:nowrap" class="ft3392">Technical Documentation......................................................................37</p>
<p style="position:absolute;top:1049px;left:94px;white-space:nowrap" class="ft3392">4.7</p>
<p style="position:absolute;top:1049px;left:208px;white-space:nowrap" class="ft3392">Documentation&#160;and&#160;Further&#160;Reading....................................................41</p>
<p style="position:absolute;top:1077px;left:94px;white-space:nowrap" class="ft3392">4.8</p>
<p style="position:absolute;top:1077px;left:208px;white-space:nowrap" class="ft3392">Further&#160;Help..........................................................................................42</p>
<p style="position:absolute;top:1105px;left:94px;white-space:nowrap" class="ft3392">4.9</p>
<p style="position:absolute;top:1105px;left:208px;white-space:nowrap" class="ft3392">Experimental&#160;Features..........................................................................42</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3397">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft3397">2/45</p>
</div>
<!-- Page 340 -->
<a name="340"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page340-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2340.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3407">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3407">1.0</p>
<p style="position:absolute;top:151px;left:94px;white-space:nowrap" class="ft3402">4.1&#160;0</p>
<p style="position:absolute;top:151px;left:208px;white-space:nowrap" class="ft3402">Acknowledgments.................................................................................42</p>
<p style="position:absolute;top:179px;left:94px;white-space:nowrap" class="ft3402">4.1&#160;1</p>
<p style="position:absolute;top:179px;left:208px;white-space:nowrap" class="ft3402">Copyright&#160;Notice...................................................................................42</p>
<p style="position:absolute;top:207px;left:94px;white-space:nowrap" class="ft3402">4.1&#160;2</p>
<p style="position:absolute;top:207px;left:208px;white-space:nowrap" class="ft3402">Trademarks...........................................................................................42</p>
<p style="position:absolute;top:235px;left:94px;white-space:nowrap" class="ft3402">4.1&#160;3</p>
<p style="position:absolute;top:235px;left:208px;white-space:nowrap" class="ft3402">Revision&#160;History....................................................................................43</p>
<p style="position:absolute;top:262px;left:85px;white-space:nowrap" class="ft3402">5&#160;&#160;jTSS&#160;</p>
<p style="position:absolute;top:262px;left:241px;white-space:nowrap" class="ft3402">API&#160;</p>
<p style="position:absolute;top:262px;left:272px;white-space:nowrap" class="ft3402">Detailed&#160;Specification&#160;..............................................................44</p>
<p style="position:absolute;top:290px;left:85px;white-space:nowrap" class="ft3402">6&#160;&#160;References..............................................................................................45</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3407">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft3407">3/45</p>
</div>
<!-- Page 341 -->
<a name="341"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft341177{font-size:16px;font-family:BOJGJJ+BitstreamVeraSans;color:#000080;}
	.ft341178{font-size:16px;line-height:27px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page341-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2341.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3417">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3417">1.0</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft34110"><b>1&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft34111"><b>Introduction</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft341178">This&#160;&#160;deliverable&#160;&#160;reports&#160;&#160;an&#160;&#160;approach&#160;&#160;to&#160;integrate&#160;&#160;Trusted&#160;&#160;Computing&#160;&#160;into&#160;the&#160;&#160;Java<br/>programming&#160;language&#160;environment.<br/>Java&#160;&#160;is&#160;&#160;a&#160;&#160;platform&#160;&#160;with&#160;&#160;integrated&#160;&#160;security&#160;&#160;features&#160;&#160;and&#160;&#160;therefore&#160;&#160;well&#160;&#160;suited&#160;&#160;for<br/>Trusted&#160;&#160;Computing&#160;&#160;(TC)&#160;&#160;software.&#160;&#160;However,&#160;&#160;the&#160;&#160;current&#160;&#160;releases&#160;&#160;of&#160;&#160;Java&#160;&#160;do&#160;&#160;not<br/>provide&#160;&#160;support&#160;&#160;for&#160;&#160;the&#160;&#160;TC&#160;&#160;functionality&#160;&#160;which&#160;&#160;is&#160;&#160;available&#160;&#160;in&#160;&#160;todays&#160;&#160;hardware<br/>platforms&#160;equipped&#160;with&#160;a&#160;Trusted&#160;Platform&#160;Module&#160;(TPM).<br/>This&#160;document&#160;introduces&#160;the&#160;&#160;</p>
<p style="position:absolute;top:331px;left:351px;white-space:nowrap" class="ft3411"><b>jTSS&#160;API</b></p>
<p style="position:absolute;top:331px;left:431px;white-space:nowrap" class="ft3412">&#160;with&#160;two&#160;different&#160;library&#160;implementations.</p>
<p style="position:absolute;top:351px;left:85px;white-space:nowrap" class="ft3414">The API&#160;provides&#160;TPM&#160;access&#160;within&#160;the Java&#160;environment&#160;and&#160;allows&#160;developers&#160;to<br/>make&#160;use of&#160;the&#160;concepts&#160;described&#160;by the Trusted&#160;Computing&#160;Group&#160;(TCG).<br/>The&#160;presented&#160;software&#160;bases&#160;on&#160;the&#160;Java2&#160;Standard&#160;Edition&#160;(J2SE)&#160;Desktop-PC&#160;system<br/>architecture&#160;&#160;and&#160;&#160;is&#160;&#160;available&#160;&#160;for&#160;&#160;download&#160;&#160;from&#160;&#160;</p>
<p style="position:absolute;top:417px;left:522px;white-space:nowrap" class="ft341177">[trustedJ]</p>
<p style="position:absolute;top:417px;left:599px;white-space:nowrap" class="ft3412">&#160;&#160;under&#160;&#160;an&#160;&#160;open&#160;&#160;source</p>
<p style="position:absolute;top:436px;left:85px;white-space:nowrap" class="ft3412">license.</p>
<p style="position:absolute;top:482px;left:85px;white-space:nowrap" class="ft34111"><b>1.1&#160;About&#160;this Document</b></p>
<p style="position:absolute;top:512px;left:85px;white-space:nowrap" class="ft341178">This&#160;deliverable&#160;D03.d6&#160;presents&#160;the Java&#160;API&#160;and&#160;two&#160;implementations&#160;of it&#160;developed<br/>in the Open_TC project.<br/>Chapter&#160;2 two provides&#160;an&#160;introduction&#160;to&#160;the API&#160;and&#160;background&#160;information&#160;on&#160;the<br/>library&#160;design.&#160;It is the&#160;revised&#160;and&#160;final&#160;version&#160;of&#160;deliverable&#160;D04.d3/Chapter&#160;2 which<br/>was&#160;originally&#160;authored&#160;by Kurt&#160;Dietrich,&#160;Peter&#160;Lipp,&#160;Martin&#160;Pirker,&#160;and&#160;Thomas<br/>Winkler.<br/>In&#160;Chapters&#160;3 and&#160;4 we present&#160;the manual&#160;and&#160;installation&#160;guidelines&#160;for the&#160;jTSS<br/>binary&#160;deliverables.&#160;The original&#160;authors&#160;are&#160;Thomas&#160;Winkler,&#160;Ronald&#160;Tögl,&#160;Martin<br/>Pirker&#160;and&#160;Michael E.&#160;Steurer.<br/>Finally,&#160;Chapter 5&#160;includes&#160;the complete, detailed API&#160;definition of the&#160;TSP&#160;layer and<br/>may&#160;serve&#160;as&#160;reference manual.&#160;It&#160;is originally&#160;authored&#160;by Thomas&#160;Winkler&#160;and<br/>Ronald&#160;Tögl.&#160;Where appropriate&#160;it cites standard&#160;documents&#160;of the TCG.<br/>This&#160;overall&#160;document&#160;was revised&#160;and&#160;edited&#160;by&#160;Ronald&#160;Tögl&#160;and&#160;Michael&#160;E.&#160;Steurer.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3417">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft3417">4/45</p>
</div>
<!-- Page 342 -->
<a name="342"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page342-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2342.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3427">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3427">1.0</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft34210"><b>2&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft34211"><b>TSS Architectures and Design</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft342178">The&#160;Trusted&#160;Computing&#160;Group&#160;(TCG)&#160;specifies&#160;the&#160;Trusted&#160;Platform&#160;Module&#160;(TPM)&#160;and<br/>the&#160;&#160;accompanying&#160;&#160;software&#160;&#160;infrastructure&#160;&#160;called&#160;&#160;TCG&#160;&#160;Software&#160;&#160;Stack&#160;&#160;(TSS).&#160;&#160;This<br/>system&#160;service&#160;defines&#160;interfaces&#160;to&#160;applications&#160;written in the C language.&#160;The&#160;goal&#160;of<br/>this&#160;work&#160;is&#160;to&#160;make&#160;&#160;the&#160;TSS&#160;available to&#160;Java&#160;developers&#160;in&#160;a&#160;consistent&#160;and&#160;object<br/>oriented way.&#160;<br/>We&#160;introduce&#160;the&#160;&#160;</p>
<p style="position:absolute;top:304px;left:243px;white-space:nowrap" class="ft34225"><i><b>jTSS&#160;API</b></i></p>
<p style="position:absolute;top:304px;left:324px;white-space:nowrap" class="ft3422">&#160;that&#160;targets&#160;at&#160;application&#160;developers&#160;and&#160;provide&#160;&#160;two</p>
<p style="position:absolute;top:323px;left:85px;white-space:nowrap" class="ft3422">implementations:&#160;</p>
<p style="position:absolute;top:323px;left:235px;white-space:nowrap" class="ft34225"><i><b>jTSS</b></i></p>
<p style="position:absolute;top:323px;left:276px;white-space:nowrap" class="ft3421"><b>&#160;</b></p>
<p style="position:absolute;top:323px;left:282px;white-space:nowrap" class="ft3422">and&#160;</p>
<p style="position:absolute;top:323px;left:318px;white-space:nowrap" class="ft34225"><i><b>jTSS Wrapper.</b></i></p>
<p style="position:absolute;top:351px;left:85px;white-space:nowrap" class="ft3424">The&#160;Trusted&#160;Computing&#160;Group&#160;(TCG)&#160;designed&#160;the&#160;TSS&#160;as&#160;the&#160;default&#160;mechanism&#160;for<br/>applications&#160;to&#160;interact&#160;with&#160;the&#160;TPM.&#160;In&#160;addition&#160;to&#160;forwarding&#160;application&#160;requests&#160;to<br/>the&#160;TPM&#160;the TSS provides&#160;a number of&#160;other&#160;services&#160;such&#160;as&#160;concurrent&#160;TPM&#160;access<br/>or&#160;a&#160;persistent&#160;storage&#160;an&#160;the&#160;hard&#160;disk&#160;for&#160;cryptographic&#160;keys&#160;generated&#160;inside&#160;the<br/>TPM.<br/>This&#160;&#160;Chapter&#160;&#160;shows&#160;&#160;the&#160;&#160;design&#160;&#160;and&#160;&#160;structure&#160;&#160;of&#160;&#160;the&#160;&#160;software&#160;&#160;layers&#160;&#160;between&#160;&#160;Java<br/>applications&#160;&#160;and&#160;&#160;the&#160;&#160;TPM.&#160;&#160;Before&#160;&#160;we&#160;&#160;address&#160;&#160;aspects&#160;&#160;of&#160;&#160;making&#160;&#160;TSS&#160;&#160;functionality<br/>available&#160;&#160;to&#160;&#160;Java,&#160;&#160;we&#160;&#160;provide&#160;&#160;an&#160;&#160;overview&#160;&#160;of&#160;&#160;the&#160;&#160;original&#160;&#160;TSS&#160;&#160;architecture&#160;&#160;and&#160;&#160;its<br/>functionality.&#160;</p>
<p style="position:absolute;top:559px;left:85px;white-space:nowrap" class="ft34211"><b>2.1&#160;The TCG Software Stack Architecture</b></p>
<p style="position:absolute;top:589px;left:85px;white-space:nowrap" class="ft3424">TPMs&#160;&#160;&#160;are&#160;&#160;&#160;required&#160;&#160;&#160;to&#160;&#160;&#160;provide&#160;&#160;&#160;protected&#160;&#160;&#160;capabilities&#160;&#160;&#160;and&#160;&#160;&#160;at&#160;&#160;&#160;the&#160;&#160;&#160;same&#160;&#160;&#160;time&#160;&#160;&#160;are<br/>designed&#160;as&#160;low&#160;cost&#160;devices.&#160;Due&#160;to&#160;their&#160;inexpensive&#160;nature,&#160;the&#160;internal&#160;resources<br/>and&#160;external&#160;interfaces&#160;are&#160;kept&#160;to&#160;a&#160;minimum.&#160;To&#160;nevertheless&#160;provide&#160;a&#160;certain&#160;level<br/>of&#160;usability,&#160;functionality&#160;and&#160;abstraction&#160;the&#160;TCG&#160;defines&#160;the&#160;TSS&#160;with&#160;different&#160;layers<br/>(see&#160;Illustration&#160;1).&#160;Functions&#160;that&#160;require&#160;protected&#160;capabilities&#160;are&#160;implemented&#160;in<br/>the&#160;TPM&#160;while&#160;non-sensitive&#160;&#160;features&#160;which&#160;do&#160;not&#160;require&#160;hardware&#160;&#160;protection&#160;are<br/>implemented&#160;&#160;in&#160;&#160;software.&#160;&#160;To&#160;&#160;allow&#160;&#160;a&#160;&#160;common&#160;&#160;access&#160;&#160;to&#160;&#160;this&#160;&#160;Trusted&#160;&#160;Computing<br/>functionality,&#160;&#160;these&#160;&#160;software&#160;&#160;components&#160;&#160;are&#160;&#160;combined&#160;&#160;into&#160;&#160;the&#160;&#160;TSS&#160;&#160;and&#160;&#160;offer&#160;&#160;a<br/>standardized&#160;interface.&#160;This&#160;way,&#160;the&#160;TCG&#160;intends&#160;to&#160;provide&#160;a&#160;standard&#160;environment<br/>for&#160;applications.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3427">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft3427">5/45</p>
</div>
<!-- Page 343 -->
<a name="343"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft343179{font-size:15px;font-family:KKCECB+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page343-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2343.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3437">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3437">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft3432">&#160;</p>
<p style="position:absolute;top:750px;left:85px;white-space:nowrap" class="ft34311"><b>2.1.1&#160;&#160;Trusted Platform Module (TPM)</b></p>
<p style="position:absolute;top:780px;left:85px;white-space:nowrap" class="ft3434">In&#160;case&#160;of&#160;the&#160;PC&#160;platform,&#160;the&#160;hardware&#160;TPM&#160;is&#160;part&#160;of&#160;the&#160;mainboard&#160;and&#160;can&#160;not<br/>easily&#160;&#160;be&#160;&#160;removed&#160;&#160;or&#160;&#160;replaced&#160;&#160;without&#160;&#160;destroying&#160;&#160;the&#160;&#160;hardware.&#160;&#160;It&#160;&#160;is&#160;&#160;typically<br/>connected to the&#160;rest&#160;of&#160;the&#160;system&#160;via the&#160;LPC&#160;bus.&#160;The&#160;functionality&#160;of this&#160;hardware<br/>device&#160;resembles&#160;that&#160;of&#160;a&#160;smart&#160;card.&#160;A&#160;tamper&#160;resistant&#160;casing&#160;contains&#160;low-level<br/>blocks&#160;for&#160;asymmetric&#160;key&#160;cryptography,&#160;key&#160;generation,&#160;cryptographic&#160;hashing&#160;(SHA-<br/>1)&#160;and&#160;random&#160;number&#160;generation.&#160;With&#160;these&#160;components&#160;it&#160;is&#160;able&#160;to&#160;keep&#160;secret<br/>keys&#160;protected&#160;from&#160;any&#160;remote&#160;attacker.&#160;Additional&#160;high-level&#160;functionality&#160;consists<br/>of&#160;protected&#160;non-volatile&#160;storage,&#160;integrity&#160;collection,&#160;integrity&#160;reporting&#160;(attestation)<br/>and&#160;identity&#160;management.&#160;Of&#160;special&#160;interest&#160;is&#160;that&#160;the&#160;TPM&#160;is&#160;a&#160;passive&#160;device,&#160;a<br/>receiver&#160;&#160;&#160;of&#160;&#160;&#160;external&#160;&#160;&#160;commands.&#160;&#160;&#160;It&#160;&#160;&#160;does&#160;&#160;&#160;not&#160;&#160;&#160;measure&#160;&#160;&#160;system&#160;&#160;&#160;activity&#160;&#160;&#160;by&#160;&#160;&#160;itself&#160;&#160;&#160;but<br/>rather&#160;represents&#160;a&#160;trust&#160;anchor&#160;that&#160;cannot&#160;be&#160;forged&#160;or&#160;manipulated.</p>
<p style="position:absolute;top:1018px;left:85px;white-space:nowrap" class="ft34311"><b>2.1.2&#160;TPM&#160;Device Driver (TDD)</b></p>
<p style="position:absolute;top:1048px;left:85px;white-space:nowrap" class="ft3434">The&#160;TPM device&#160;driver&#160;resides in&#160;the Kernel&#160;space.&#160;For&#160;a&#160;1.1b&#160;TPM this&#160;driver&#160;is&#160;vendor<br/>specific&#160;since&#160;it&#160;just&#160;offers&#160;a&#160;proprietary&#160;interface&#160;to&#160;upper&#160;layers&#160;whereas&#160;1.2&#160;TPMs<br/>supports&#160;&#160;generic&#160;&#160;TPM&#160;&#160;Interface&#160;&#160;Specification&#160;&#160;(TIS)&#160;&#160;drivers.&#160;&#160;TIS&#160;&#160;provides&#160;&#160;a&#160;&#160;vendor<br/>independent&#160;interface&#160;to&#160;access&#160;TPM&#160;functionality.&#160;It&#160;depends&#160;on&#160;the&#160;platform&#160;and&#160;the</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3437">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft3437">6/45</p>
<p style="position:absolute;top:714px;left:319px;white-space:nowrap" class="ft343179"><i>Illustration 1:&#160;TCG Software Stack Layers</i></p>
</div>
<!-- Page 344 -->
<a name="344"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft344180{font-size:14px;font-family:LPBCDP+OpenSymbol;color:#000000;}
-->
</style>
<div id="page344-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2344.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3447">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3447">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft3444">operating&#160;system&#160;but&#160;the&#160;TDD&#160;may&#160;also&#160;support&#160;additional&#160;functionality&#160;such&#160;as&#160;power<br/>management.&#160;&#160;&#160;Nowadays,&#160;&#160;&#160;all&#160;&#160;&#160;major&#160;&#160;&#160;operation&#160;&#160;&#160;systems&#160;&#160;&#160;(</p>
<p style="position:absolute;top:170px;left:575px;white-space:nowrap" class="ft34414"><i>e.g.</i></p>
<p style="position:absolute;top:170px;left:606px;white-space:nowrap" class="ft3442">&#160;&#160;Linux&#160;&#160;OS&#160;&#160;or&#160;&#160;Microsoft</p>
<p style="position:absolute;top:189px;left:85px;white-space:nowrap" class="ft3442">Windows&#160;Vista)&#160;ship&#160;with&#160;TIS&#160;drivers&#160;or&#160;even&#160;support&#160;them.</p>
<p style="position:absolute;top:235px;left:85px;white-space:nowrap" class="ft34411"><b>2.1.3&#160;TSS Device Driver Library (TDDL)</b></p>
<p style="position:absolute;top:265px;left:85px;white-space:nowrap" class="ft344178">The&#160;TDDL&#160;(Trusted&#160;Device&#160;Driver&#160;Library)&#160;resides&#160;in&#160;&#160;User&#160;space.&#160;From&#160;the&#160;user's&#160;point<br/>of&#160;view&#160;it&#160;exposes&#160;an&#160;OS&#160;and&#160;TPM&#160;independent&#160;set&#160;of&#160;functions&#160;that&#160;allow&#160;a&#160;basic<br/>interaction&#160;with&#160;the&#160;TPM.&#160;This&#160;includes&#160;sending&#160;commands&#160;as&#160;byte&#160;streams&#160;to the&#160;TPM<br/>and&#160;receiving&#160;the&#160;TPM's&#160;responses.&#160;The&#160;TCG&#160;specifies&#160;the&#160;TDDL&#160;Interface&#160;(TDDLI)&#160;as&#160;a<br/>required&#160;&#160;set&#160;&#160;of&#160;&#160;functions&#160;&#160;implemented&#160;&#160;in&#160;&#160;the&#160;&#160;TDDL.&#160;&#160;The&#160;&#160;intention&#160;&#160;was&#160;&#160;to&#160;&#160;offer&#160;&#160;a<br/>standardized&#160;TPM&#160;interface&#160;regardless&#160;of&#160;the&#160;TPM&#160;vendor&#160;and&#160;the&#160;accompanying&#160;TPM<br/>device&#160;driver.&#160;This&#160;ensures&#160;that&#160;different&#160;TSS&#160;implementations&#160;can&#160;communicate&#160;with<br/>any given TPM.&#160;In&#160;contrast,&#160;&#160;&#160;the communication&#160;between&#160;the TDDL&#160;and the TPM is<br/>vendor&#160;specific.<br/>The TDDL is designed&#160;as a single-instance&#160;and single-threaded&#160;component.&#160;</p>
<p style="position:absolute;top:493px;left:85px;white-space:nowrap" class="ft34411"><b>2.1.4&#160;TSS&#160;Core&#160;Service (TCS)</b></p>
<p style="position:absolute;top:523px;left:85px;white-space:nowrap" class="ft344178">The&#160;Trusted&#160;Core&#160;Service&#160;(TCS)&#160;is&#160;a&#160;system&#160;service&#160;and&#160;there&#160;is&#160;a&#160;single&#160;TCS&#160;instance<br/>for&#160;each&#160;TPM.&#160;The&#160;communication&#160;with&#160;the&#160;TPM&#160;relies&#160;on&#160;the&#160;TDDL&#160;and&#160;ensures&#160;that<br/>commands&#160;&#160;are&#160;&#160;properly&#160;&#160;serialized.&#160;&#160;The&#160;&#160;TCG&#160;&#160;defined&#160;&#160;the&#160;&#160;TCS&#160;&#160;Interface&#160;&#160;TCSI&#160;&#160;that<br/>specifies&#160;the&#160;communication&#160;between&#160;the&#160;TCS&#160;and&#160;the&#160;Trusted&#160;Service&#160;Provide&#160;TSP<br/>(see Illustration&#160;1).<br/>The&#160;main&#160;features&#160;of the TCS are:</p>
<p style="position:absolute;top:658px;left:112px;white-space:nowrap" class="ft344180">●</p>
<p style="position:absolute;top:655px;left:139px;white-space:nowrap" class="ft3441"><b>Key&#160;&#160;Management&#160;&#160;and&#160;&#160;Persistent&#160;&#160;Storage:</b></p>
<p style="position:absolute;top:655px;left:594px;white-space:nowrap" class="ft3442">&#160;&#160;The&#160;&#160;TPM&#160;&#160;generates</p>
<p style="position:absolute;top:674px;left:139px;white-space:nowrap" class="ft3442">cryptographic&#160;&#160;keys&#160;but&#160;due&#160;to&#160;the&#160;low&#160;cost&#160;nature&#160;the&#160;internal&#160;memory&#160;&#160;(</p>
<p style="position:absolute;top:674px;left:783px;white-space:nowrap" class="ft34414"><i>i.e.</i></p>
<p style="position:absolute;top:694px;left:139px;white-space:nowrap" class="ft3444">number&#160;of&#160;keyslots)&#160;is&#160;limited.&#160;&#160;With&#160;the&#160;key&#160;management&#160;component&#160;of&#160;the<br/>TSS&#160;&#160;&#160;it&#160;&#160;&#160;is&#160;&#160;&#160;possible&#160;&#160;&#160;to&#160;&#160;&#160;store&#160;&#160;&#160;keys&#160;&#160;&#160;in&#160;&#160;&#160;a&#160;&#160;&#160;persistent&#160;&#160;&#160;storage&#160;&#160;&#160;outside&#160;&#160;&#160;the&#160;&#160;&#160;TPM<br/>encrypted&#160;under&#160;a&#160;parent&#160;key.&#160;To&#160;do&#160;so, the&#160;user&#160;must&#160;provide&#160;this&#160;parent&#160;key<br/>before&#160;&#160;the&#160;&#160;TPM&#160;&#160;can&#160;&#160;create&#160;&#160;a&#160;&#160;new&#160;&#160;keypair.&#160;&#160;Before&#160;&#160;the&#160;&#160;TPM&#160;&#160;writes&#160;&#160;to&#160;&#160;the<br/>persistant&#160;&#160;storage&#160;&#160;it&#160;&#160;encrypts&#160;&#160;the&#160;&#160;new&#160;&#160;private&#160;&#160;key&#160;&#160;under&#160;&#160;its&#160;&#160;parent&#160;&#160;key&#160;&#160;to<br/>ensure&#160;that no&#160;unencrypted key leaves&#160;the TPM.&#160;<br/>The root&#160;of&#160;of&#160;the&#160;key hierarchy&#160;is&#160;the&#160;storage&#160;root key (SRK)&#160;which&#160;is generated<br/>at&#160;taking ownership&#160;and&#160;then&#160;stored inside&#160;the&#160;TPM permanently.</p>
<p style="position:absolute;top:867px;left:112px;white-space:nowrap" class="ft344180">●</p>
<p style="position:absolute;top:865px;left:139px;white-space:nowrap" class="ft3441"><b>Key&#160;Cache&#160;Management:</b></p>
<p style="position:absolute;top:865px;left:376px;white-space:nowrap" class="ft3442">&#160;To&#160;actually&#160;use&#160;a&#160;key&#160;inside&#160;the&#160;TPM&#160;it&#160;must&#160;be</p>
<p style="position:absolute;top:884px;left:139px;white-space:nowrap" class="ft3444">loaded&#160;in&#160;one&#160;of&#160;the&#160;TPM's&#160;keyslots.&#160;The&#160;Key&#160;Cache&#160;Manager&#160;is&#160;responsible&#160;to<br/>transfer&#160;&#160;&#160;keys&#160;&#160;&#160;from&#160;&#160;&#160;the&#160;&#160;&#160;TPM&#160;&#160;&#160;to&#160;&#160;&#160;the&#160;&#160;&#160;persistant&#160;&#160;&#160;storage&#160;&#160;&#160;and&#160;&#160;&#160;vice&#160;&#160;&#160;versa.&#160;&#160;&#160;For<br/>example,&#160;if&#160;a&#160;user&#160;key&#160;resides&#160;in&#160;the&#160;persistant&#160;storage,&#160;the&#160;key&#160;cache&#160;manager<br/>will&#160;fetch&#160;it&#160;into&#160;the&#160;TPM&#160;the&#160;next&#160;time&#160;the&#160;user&#160;makes&#160;use&#160;of&#160;a&#160;child&#160;key.&#160;Since<br/>the key handle&#160;remains&#160;the&#160;same&#160;the entire&#160;process&#160;is transparent&#160;to&#160;the&#160;user.</p>
<p style="position:absolute;top:992px;left:112px;white-space:nowrap" class="ft344180">●</p>
<p style="position:absolute;top:989px;left:139px;white-space:nowrap" class="ft3441"><b>TPM&#160;Command&#160;Generation:</b></p>
<p style="position:absolute;top:989px;left:399px;white-space:nowrap" class="ft3442">&#160;The&#160;TPM&#160;receives&#160;commands&#160;as&#160;byte&#160;streams.</p>
<p style="position:absolute;top:1008px;left:139px;white-space:nowrap" class="ft3444">The Command&#160;Generator&#160;builds&#160;these&#160;byte&#160;streams&#160;and&#160;sends&#160;them&#160;to the&#160;TPM.<br/>It&#160;is&#160;also&#160;responsible&#160;for&#160;serialization&#160;of&#160;TPM&#160;commands&#160;in&#160;a&#160;proper&#160;way&#160;to&#160;avoid<br/>problems&#160;with&#160;concurrent&#160;accesses.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3447">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft3447">7/45</p>
</div>
<!-- Page 345 -->
<a name="345"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page345-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2345.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3457">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3457">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft34511"><b>2.1.5&#160;TSS Service Provider (TSP)</b></p>
<p style="position:absolute;top:181px;left:85px;white-space:nowrap" class="ft345178">The&#160;TSS&#160;Service&#160;provider&#160;(TSP)&#160;is&#160;the&#160;highest&#160;abstraction&#160;layer&#160;in&#160;the&#160;TSS&#160;and&#160;offers<br/>services&#160;defined&#160;by&#160;the&#160;TCG&#160;to&#160;applications.&#160;Due&#160;to&#160;the&#160;design&#160;as&#160;a&#160;system&#160;library,&#160;the<br/>TSP&#160;directly&#160;links&#160;to&#160;applications.&#160;For&#160;different&#160;applications&#160;several&#160;TSPs&#160;can&#160;coexists<br/>side&#160;by&#160;sider&#160;and&#160;interact&#160;with&#160;one&#160;single&#160;TCS.&#160;Applications&#160;can&#160;access&#160;the&#160;TSP&#160;by&#160;a<br/>TCG&#160;&#160;&#160;defined&#160;&#160;&#160;TSP&#160;&#160;&#160;Interface&#160;&#160;&#160;(TSPI).&#160;&#160;&#160;In&#160;&#160;&#160;fact,&#160;&#160;&#160;this&#160;&#160;&#160;is&#160;&#160;&#160;a&#160;&#160;&#160;simple&#160;&#160;&#160;C&#160;&#160;&#160;style&#160;&#160;&#160;API&#160;&#160;&#160;with&#160;&#160;&#160;object<br/>oriented&#160;influences&#160;(see [Challener]&#160;for&#160;further&#160;information).&#160;<br/>For&#160;the&#160;implementation,&#160;a context&#160;object&#160;serves&#160;as&#160;entry&#160;point&#160;to&#160;all&#160;functionality&#160;such<br/>as&#160;authorized&#160;and&#160;validated&#160;TPM&#160;commands,&#160;policy&#160;and&#160;key&#160;handling,&#160;data&#160;hashing,<br/>encryption,&#160;and PCR&#160;composition.&#160;<br/>The TSP&#160;can also&#160;be&#160;used&#160;to&#160;integrate&#160;the TPM&#160;in cryptographic&#160;libraries&#160;like&#160;PKCS#11.</p>
<p style="position:absolute;top:417px;left:85px;white-space:nowrap" class="ft34511"><b>2.1.6&#160;TSS&#160;Communication Mechanisms</b></p>
<p style="position:absolute;top:447px;left:85px;white-space:nowrap" class="ft3454">The&#160;standard&#160;access&#160;to&#160;the&#160;TSS&#160;for&#160;applications&#160;is&#160;the&#160;TSP&#160;interface.&#160;Applications&#160;can<br/>directly&#160;link&#160;to&#160;the&#160;TSP&#160;library&#160;and&#160;use&#160;this&#160;interface&#160;to&#160;access&#160;the&#160;TCS.&#160;The&#160;TSP&#160;and<br/>the&#160;TCS&#160;can&#160;communicate&#160;either&#160;via&#160;local&#160;calls&#160;or&#160;via&#160;&#160;the&#160;SOAP&#160;interface.&#160;Local&#160;calls<br/>are&#160;&#160;mainly&#160;&#160;used&#160;&#160;for&#160;&#160;testing&#160;&#160;purposes&#160;&#160;whereas&#160;&#160;the&#160;&#160;SOAP&#160;&#160;communication&#160;&#160;covers&#160;&#160;a<br/>larger&#160;range&#160;of applications.</p>
<p style="position:absolute;top:883px;left:85px;white-space:nowrap" class="ft3454">SOAP&#160;&#160;&#160;is&#160;&#160;&#160;a&#160;&#160;&#160;lightweight&#160;&#160;&#160;XML&#160;&#160;&#160;based&#160;&#160;&#160;protocol&#160;&#160;&#160;for&#160;&#160;&#160;the&#160;&#160;&#160;exchange&#160;&#160;&#160;of&#160;&#160;&#160;information&#160;&#160;&#160;from&#160;&#160;&#160;a<br/>sender&#160;to a&#160;receiver&#160;[SOAP]&#160;.<br/>In&#160;2007&#160;the&#160;Trusted&#160;Computing&#160;Group&#160;(TCG)&#160;released&#160;an&#160;interface&#160;specification&#160;for&#160;this<br/>communication&#160;style&#160;by&#160;means&#160;of&#160;a&#160;Web&#160;Service&#160;Description&#160;Language&#160;(WSDL)&#160;file.&#160;It<br/>defines&#160;method&#160;&#160;names&#160;&#160;(and&#160;&#160;their&#160;parameters)&#160;&#160;which&#160;&#160;are&#160;&#160;applicable&#160;&#160;for&#160;&#160;the&#160;&#160;TSP&#160;to<br/>communicate&#160;&#160;with&#160;&#160;the&#160;&#160;TCS.&#160;&#160;Further,&#160;&#160;the&#160;&#160;WSDL&#160;&#160;file&#160;&#160;specifies&#160;&#160;how&#160;&#160;to&#160;&#160;encode&#160;&#160;SOAP<br/>messages:&#160;parameters&#160;for&#160;methods&#160;are&#160;to&#160;be&#160;</p>
<p style="position:absolute;top:1007px;left:482px;white-space:nowrap" class="ft34514"><i>SOAP-encoded,&#160;&#160;</i></p>
<p style="position:absolute;top:1007px;left:616px;white-space:nowrap" class="ft3452">as&#160;defined&#160;in&#160;the&#160;W3C</p>
<p style="position:absolute;top:1026px;left:85px;white-space:nowrap" class="ft3454">recommendation&#160;[SOAPENC].<br/>Unfortunately,&#160;this&#160;particular&#160;encoding&#160;chosen&#160;by&#160;the&#160;TCG&#160;is&#160;neither&#160;recommended&#160;by<br/>the&#160;&#160;Web&#160;Service&#160;Interoperability&#160;&#160;organization&#160;[WSI]&#160;&#160;,&#160;&#160;nor&#160;&#160;supported&#160;&#160;by&#160;&#160;the&#160;&#160;popular<br/>Java&#160;SOAP&#160;Framework&#160;&#160;AXIS2&#160;[AXIS2].&#160;Additionally,&#160;if&#160;one&#160;compares&#160;the&#160;throughput&#160;in<br/>relation&#160;&#160;to&#160;&#160;the&#160;&#160;payload&#160;&#160;size&#160;&#160;of&#160;&#160;the&#160;&#160;SOAP&#160;&#160;messages,&#160;&#160;the&#160;&#160;</p>
<p style="position:absolute;top:1112px;left:594px;white-space:nowrap" class="ft34514"><i>SOAP-Encoding</i></p>
<p style="position:absolute;top:1112px;left:721px;white-space:nowrap" class="ft3452">&#160;causes&#160;&#160;a</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3457">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft3457">8/45</p>
<p style="position:absolute;top:837px;left:264px;white-space:nowrap" class="ft345179"><i>Illustration 2:&#160;TSS&#160;Access&#160;methods: local and&#160;SOAP</i></p>
</div>
<!-- Page 346 -->
<a name="346"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page346-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2346.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3467">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3467">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft3464">significant&#160;&#160;loss&#160;&#160;of&#160;&#160;efficiency&#160;&#160;due&#160;&#160;to&#160;&#160;the&#160;&#160;unnecessary&#160;&#160;overhead&#160;&#160;of&#160;&#160;this&#160;&#160;specific<br/>encoding&#160;[SOAPIM].&#160;The&#160;main&#160;&#160;drawback&#160;&#160;of&#160;&#160;</p>
<p style="position:absolute;top:170px;left:461px;white-space:nowrap" class="ft34614"><i>SOAP-Encoding</i></p>
<p style="position:absolute;top:170px;left:588px;white-space:nowrap" class="ft3462">&#160;is&#160;the&#160;&#160;SOAP&#160;&#160;Data&#160;model</p>
<p style="position:absolute;top:189px;left:85px;white-space:nowrap" class="ft3464">which&#160;is not&#160;defined&#160;anywhere&#160;in a&#160;formal,&#160;machine&#160;parsable&#160;way&#160;[SOAPPRE].<br/>A&#160;better&#160;way&#160;to&#160;allow&#160;integration&#160;of&#160;SOAP&#160;based&#160;communication&#160;into&#160;a&#160;Java&#160;binding&#160;for<br/>the&#160;TSS,&#160;would&#160;be&#160;the&#160;use&#160;of&#160;common&#160;&#160;</p>
<p style="position:absolute;top:237px;left:427px;white-space:nowrap" class="ft34614"><i>XML-encoding</i></p>
<p style="position:absolute;top:237px;left:543px;white-space:nowrap" class="ft3462">&#160;(RPC/Literal)&#160;instead&#160;of&#160;&#160;</p>
<p style="position:absolute;top:237px;left:756px;white-space:nowrap" class="ft34614"><i>SOAP-</i></p>
<p style="position:absolute;top:256px;left:85px;white-space:nowrap" class="ft34614"><i>Encoding</i></p>
<p style="position:absolute;top:256px;left:161px;white-space:nowrap" class="ft3462">&#160;for&#160;the SOAP&#160;messages&#160;is&#160;proposed.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3467">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:774px;white-space:nowrap" class="ft3467">9/45</p>
</div>
<!-- Page 347 -->
<a name="347"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page347-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2347.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3477">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3477">1.0</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft34711"><b>2.2&#160;Integrate&#160;TSS Functionalities in&#160;Java</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft3474">The&#160;aim&#160;of&#160;the&#160;Java&#160;API&#160;is&#160;to&#160;use&#160;and&#160;access&#160;the&#160;functionality&#160;of&#160;the&#160;TSS&#160;and&#160;the&#160;TPM<br/>within&#160;&#160;Java&#160;&#160;applications.&#160;&#160;On&#160;&#160;the&#160;&#160;one&#160;&#160;hand&#160;&#160;we&#160;&#160;need&#160;&#160;an&#160;&#160;object&#160;&#160;oriented&#160;&#160;application<br/>interface&#160;and&#160;on&#160;the&#160;other&#160;hand&#160;we&#160;want&#160;to&#160;interface&#160;to&#160;the&#160;hardware&#160;based&#160;services<br/>of the TPM.&#160;Several&#160;distinct&#160;approaches&#160;are possible.</p>
<p style="position:absolute;top:285px;left:85px;white-space:nowrap" class="ft3471"><b>Wrap&#160;an&#160;existing&#160;service&#160;of&#160;the&#160;native&#160;OS.</b></p>
<p style="position:absolute;top:285px;left:497px;white-space:nowrap" class="ft3472">&#160;This&#160;allows&#160;us&#160;to&#160;integrate&#160;into&#160;the</p>
<p style="position:absolute;top:304px;left:85px;white-space:nowrap" class="ft3474">existing&#160;system&#160;infrastructure&#160;provided&#160;by&#160;a&#160;native&#160;TSS.&#160;It&#160;is&#160;accessed&#160;by&#160;only&#160;a&#160;small<br/>Java&#160;layer.&#160;We call&#160;this approach</p>
<p style="position:absolute;top:323px;left:355px;white-space:nowrap" class="ft3471"><b>&#160;</b></p>
<p style="position:absolute;top:323px;left:361px;white-space:nowrap" class="ft34725"><i><b>jTSS Wrapper</b></i></p>
<p style="position:absolute;top:323px;left:488px;white-space:nowrap" class="ft3472">.</p>
<p style="position:absolute;top:351px;left:85px;white-space:nowrap" class="ft3471"><b>Create&#160;a&#160;complete&#160;and&#160;pure&#160;Java&#160;TPM&#160;access&#160;software.</b></p>
<p style="position:absolute;top:351px;left:608px;white-space:nowrap" class="ft3472">&#160;We&#160;implement&#160;the&#160;TSS</p>
<p style="position:absolute;top:370px;left:85px;white-space:nowrap" class="ft3472">specification&#160;of&#160;all&#160;layers&#160;in&#160;&#160;pure&#160;Java.&#160;This&#160;implementation&#160;is&#160;simply&#160;referred&#160;to&#160;as</p>
<p style="position:absolute;top:389px;left:85px;white-space:nowrap" class="ft34725"><i><b>jTSS</b></i></p>
<p style="position:absolute;top:389px;left:126px;white-space:nowrap" class="ft3472">.</p>
<p style="position:absolute;top:417px;left:85px;white-space:nowrap" class="ft3471"><b>Application&#160;access&#160;to&#160;the&#160;TPM.</b></p>
<p style="position:absolute;top:417px;left:374px;white-space:nowrap" class="ft3472">&#160;The&#160;interface&#160;available&#160;to&#160;application&#160;developers&#160;is</p>
<p style="position:absolute;top:436px;left:85px;white-space:nowrap" class="ft3474">the&#160;same&#160;for&#160;both&#160;underlying&#160;implementations.&#160;It&#160;defines&#160;of&#160;data&#160;types,&#160;exceptions,<br/>and&#160;abstract&#160;methods.&#160;We&#160;refer&#160;to&#160;it as&#160;the</p>
<p style="position:absolute;top:455px;left:444px;white-space:nowrap" class="ft3471"><b>&#160;</b></p>
<p style="position:absolute;top:455px;left:449px;white-space:nowrap" class="ft34725"><i><b>jTSS&#160;API</b></i></p>
<p style="position:absolute;top:455px;left:527px;white-space:nowrap" class="ft3472">.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3477">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3477">10/45</p>
<p style="position:absolute;top:771px;left:102px;white-space:nowrap" class="ft347179"><i>Illustration&#160;3:&#160;The&#160;Java TSS&#160;Wrapper&#160;is&#160;split&#160;into&#160;frontend&#160;components&#160;(blue) and&#160;different</i></p>
<p style="position:absolute;top:788px;left:305px;white-space:nowrap" class="ft347179"><i>backend implementations&#160;(orange).</i></p>
</div>
<!-- Page 348 -->
<a name="348"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft348181{font-size:15px;line-height:26px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page348-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2348.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3487">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3487">1.0</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft34811"><b>2.3&#160;jTSS Wrapper</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft3484">One&#160;way to&#160;provide&#160;TSS functionality&#160;to&#160;Java is an&#160;additional&#160;layer on top of&#160;an&#160;existing<br/>TSS&#160;&#160;stack.&#160;&#160;Illustration&#160;&#160;4&#160;&#160;presents&#160;&#160;possible&#160;&#160;approaches&#160;&#160;in&#160;&#160;the&#160;&#160;scope&#160;&#160;of&#160;&#160;TCG's&#160;&#160;TSS<br/>specification.&#160;&#160;The&#160;&#160;blue&#160;&#160;layer&#160;&#160;represents&#160;&#160;the&#160;&#160;high&#160;&#160;level&#160;&#160;jTSS&#160;&#160;API&#160;&#160;that&#160;&#160;is&#160;&#160;used&#160;&#160;by<br/>applications.&#160;The&#160;orange&#160;boxes&#160;denote&#160;implementation&#160;components&#160;that&#160;are&#160;specific<br/>to&#160;the&#160;connection mechanism&#160;to interact&#160;with&#160;the&#160;TCS.</p>
<p style="position:absolute;top:660px;left:85px;white-space:nowrap" class="ft3484">The&#160;selection&#160;of&#160;a&#160;viable&#160;strategy&#160;depends&#160;on&#160;the&#160;availability&#160;of&#160;C-based&#160;components.<br/>At&#160;the&#160;time&#160;the&#160;jTSS&#160;Wrapper&#160;was&#160;originally&#160;devised&#160;no&#160;available&#160;C-stack&#160;featured&#160;a<br/>specification&#160;&#160;compliant&#160;&#160;SOAP&#160;&#160;interface</p>
<p style="position:absolute;top:699px;left:420px;white-space:nowrap" class="ft3483">1</p>
<p style="position:absolute;top:699px;left:426px;white-space:nowrap" class="ft3482">.&#160;&#160;&#160;Thus&#160;&#160;&#160;rendering&#160;&#160;&#160;the&#160;&#160;&#160;middle&#160;&#160;&#160;and&#160;&#160;&#160;rightmost</p>
<p style="position:absolute;top:718px;left:85px;white-space:nowrap" class="ft3484">architectures&#160;&#160;in&#160;&#160;Illustration&#160;&#160;4&#160;&#160;infeasible.&#160;&#160;Yet,&#160;&#160;the&#160;&#160;[TrouSerS]&#160;&#160;stack&#160;&#160;was&#160;&#160;openly<br/>available.&#160;&#160;For&#160;now&#160;it&#160;only&#160;supports&#160;local&#160;function&#160;calls&#160;but&#160;it&#160;has&#160;reached&#160;a&#160;good&#160;level<br/>of&#160;&#160;maturity.&#160;&#160;We&#160;&#160;therefore&#160;&#160;selected&#160;&#160;the&#160;&#160;leftmost&#160;&#160;architecture&#160;&#160;to&#160;&#160;build&#160;&#160;the&#160;&#160;jTSS<br/>Wrapper</p>
<p style="position:absolute;top:775px;left:156px;white-space:nowrap" class="ft3483">2</p>
<p style="position:absolute;top:776px;left:162px;white-space:nowrap" class="ft3482">.</p>
<p style="position:absolute;top:803px;left:85px;white-space:nowrap" class="ft3484">The&#160;jTSS&#160;Wrapper&#160;software&#160;package&#160;integrates&#160;the&#160;TSP&#160;service&#160;in&#160;Java.&#160;Therefore,&#160;we<br/>introduce&#160;the&#160;Java&#160;Native&#160;Interface&#160;layer&#160;(JNI)&#160;that&#160;wraps&#160;the&#160;implementation&#160;of&#160;the<br/>TrouSerS&#160;stack.<br/>It&#160;consists&#160;of&#160;two&#160;parts:&#160;a&#160;native&#160;C&#160;part&#160;that&#160;directly&#160;accesses&#160;the&#160;TSP&#160;library&#160;and&#160;a<br/>Java&#160;interface&#160;that&#160;reflects&#160;the&#160;C&#160;functions&#160;and&#160;structures.&#160;The&#160;link&#160;between&#160;these&#160;two<br/>parts&#160;bases&#160;on&#160;an&#160;autogenerated&#160;module&#160;derived&#160;by&#160;[SWIG].&#160;Building&#160;on&#160;this,&#160;the&#160;Java<br/>frontend&#160;abstracts&#160;several&#160;aspects&#160;of the underlying&#160;library&#160;such&#160;as&#160;data&#160;types and&#160;the<br/>conversion&#160;of&#160;error&#160;codes&#160;to&#160;exceptions.&#160;Java&#160;applications&#160;access&#160;the&#160;wrapper&#160;via&#160;Java<br/>JNI&#160;API&#160;which is&#160;a simple&#160;but&#160;powerful&#160;interface.<br/>In&#160;the&#160;C&#160;environment&#160;applications&#160;and&#160;modules&#160;are&#160;responsible&#160;for&#160;the&#160;memory&#160;they<br/>allocate. So,&#160;the jTSS&#160;Wrapper&#160;copies data&#160;received&#160;from&#160;the&#160;TSS into Java&#160;objects and<br/>releases&#160;&#160;TSS&#160;&#160;memory&#160;&#160;before&#160;&#160;it&#160;&#160;returns&#160;&#160;the&#160;&#160;newly&#160;&#160;constructed&#160;&#160;Java&#160;&#160;objects&#160;&#160;to&#160;&#160;the</p>
<p style="position:absolute;top:1078px;left:85px;white-space:nowrap" class="ft348181">1&#160;In the&#160;meantime,&#160;Open_TC&#160;partner&#160;Infineon is working towards&#160;such&#160;a&#160;stack.<br/>2&#160;Upcoming&#160;releases&#160;of TrouSerS&#160;will&#160;include&#160;a&#160;SOAP&#160;interface,&#160;thus&#160;making&#160;this feature also</p>
<p style="position:absolute;top:1122px;left:106px;white-space:nowrap" class="ft3487">available&#160;to users&#160;of&#160;the jTSS&#160;Wrapper.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3487">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3487">11/45</p>
<p style="position:absolute;top:578px;left:126px;white-space:nowrap" class="ft348179"><i>Illustration 4:&#160;Alternative&#160;Architectures&#160;for TSS Wrapping&#160;(left:&#160;full&#160;C stack,&#160;middle: full&#160;C</i></p>
<p style="position:absolute;top:595px;left:183px;white-space:nowrap" class="ft348179"><i>stack&#160;with&#160;SOAP based&#160;connection,&#160;right:hybrid&#160;with&#160;Java TSP and C TCS)</i></p>
</div>
<!-- Page 349 -->
<a name="349"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page349-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2349.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3497">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3497">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft3494">caller.&#160;&#160;Thereby,&#160;&#160;Java&#160;&#160;developers&#160;&#160;are&#160;&#160;relieved&#160;&#160;from&#160;&#160;the&#160;&#160;need&#160;&#160;to&#160;&#160;explicitly&#160;&#160;free&#160;&#160;TSS<br/>memory.<br/>One&#160;disadvantage&#160;&#160;of&#160;the&#160;Wrapper&#160;approach&#160;is&#160;the&#160;higher&#160;complexity&#160;of&#160;the&#160;overall<br/>system.&#160;&#160;Any&#160;&#160;parameter&#160;&#160;is&#160;&#160;byte-order&#160;&#160;converted,&#160;&#160;passed&#160;&#160;on,&#160;&#160;processed,&#160;&#160;copied<br/>between&#160;processes,&#160;reconverted,&#160;and&#160;returned. Following this&#160;process,&#160;for&#160;instance&#160;in<br/>a&#160;&#160;debugger&#160;&#160;across&#160;&#160;language&#160;&#160;barriers&#160;&#160;is&#160;&#160;complex&#160;&#160;and&#160;&#160;challenging&#160;&#160;task.&#160;&#160;Another<br/>drawback&#160;is&#160;the influence&#160;of&#160;implementation&#160;errors&#160;in&#160;the C-based&#160;components&#160;to&#160;the<br/>program&#160;stability,&#160;</p>
<p style="position:absolute;top:294px;left:237px;white-space:nowrap" class="ft34914"><i>e.g.</i></p>
<p style="position:absolute;top:294px;left:268px;white-space:nowrap" class="ft3492">&#160;memory&#160;leaks&#160;in the&#160;TSS.&#160;</p>
<p style="position:absolute;top:322px;left:85px;white-space:nowrap" class="ft3494">On&#160;&#160;the&#160;&#160;other&#160;&#160;side&#160;&#160;the&#160;&#160;jTSS&#160;&#160;Wrapper&#160;&#160;perfectly&#160;&#160;fits&#160;&#160;in&#160;&#160;an&#160;&#160;existing&#160;&#160;TSS&#160;&#160;environment<br/>because&#160;it&#160;does&#160;not&#160;influence&#160;existing&#160;applications&#160;that&#160;rely&#160;on&#160;the&#160;TSS.&#160;It&#160;is&#160;actually<br/>just&#160;another application that&#160;interacts&#160;with the TSS&#160;to&#160;access&#160;the&#160;TPM.<br/>This&#160;is&#160;especially&#160;useful&#160;when&#160;considering,&#160;that&#160;other&#160;software&#160;such&#160;as&#160;the&#160;OS&#160;requires<br/>TPM&#160;services&#160;as&#160;well,&#160;possible&#160;already at&#160;boot&#160;time.&#160;The need&#160;for an&#160;interface&#160;that<br/>handles&#160;both,&#160;resource&#160;management&#160;and&#160;concurrent&#160;access&#160;implies&#160;that&#160;this&#160;service<br/>cannot&#160;be&#160;implemented on&#160;the stack of&#160;running&#160;software&#160;alone,&#160;&#160;</p>
<p style="position:absolute;top:446px;left:646px;white-space:nowrap" class="ft34914"><i>i.e.</i></p>
<p style="position:absolute;top:446px;left:671px;white-space:nowrap" class="ft3492">&#160;within&#160;a&#160;virtual</p>
<p style="position:absolute;top:465px;left:85px;white-space:nowrap" class="ft3494">machine.&#160;Thus&#160;jTSS&#160;Wrapper&#160;has&#160;the&#160;major&#160;advantage&#160;that&#160;it&#160;allows&#160;deployment&#160;on<br/>legacy&#160;operating&#160;systems&#160;which&#160;do&#160;not&#160;provide&#160;TPM&#160;virtualization.&#160;Further,&#160;one&#160;can<br/>access&#160;&#160;an&#160;&#160;already&#160;&#160;running&#160;&#160;TSS&#160;&#160;without&#160;&#160;changing&#160;&#160;the&#160;&#160;system.&#160;&#160;In&#160;&#160;the&#160;&#160;current<br/>implementation&#160;&#160;&#160;this&#160;&#160;&#160;is&#160;&#160;&#160;restricted&#160;&#160;&#160;to&#160;&#160;&#160;the&#160;&#160;&#160;case&#160;&#160;&#160;of&#160;&#160;&#160;Linux&#160;&#160;&#160;providing&#160;&#160;&#160;an&#160;&#160;&#160;instance&#160;&#160;&#160;of<br/>TrouSerS.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3497">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3497">12/45</p>
</div>
<!-- Page 350 -->
<a name="350"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page350-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2350.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3507">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3507">1.0</p>
<p style="position:absolute;top:169px;left:85px;white-space:nowrap" class="ft35011"><b>2.4&#160;jTSS</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft3504">An&#160;&#160;alternative&#160;&#160;approach&#160;&#160;to&#160;&#160;the&#160;&#160;Java&#160;&#160;Wrapper&#160;&#160;with&#160;&#160;the&#160;&#160;third&#160;&#160;party&#160;&#160;TSS&#160;&#160;is&#160;&#160;the<br/>implementation&#160;of a&#160;native&#160;Java&#160;TSS. This Section is dedicated&#160;this&#160;solution.<br/>A&#160;TSS&#160;consists&#160;of&#160;two&#160;main&#160;parts,&#160;namely&#160;the&#160;Trusted&#160;Service&#160;Provider&#160;(TSP)&#160;and&#160;the<br/>Trusted Core&#160;Services&#160;(TCS).&#160;In&#160;the&#160;jTSS,&#160;both parts are implemented&#160;in&#160;Java.<br/>The&#160;&#160;following&#160;&#160;Subsections&#160;&#160;briefly&#160;&#160;describe&#160;&#160;the&#160;&#160;individual&#160;&#160;components&#160;&#160;depicted&#160;&#160;in<br/>Illustration&#160;5, starting&#160;at the hardware&#160;(TPM)&#160;level&#160;up&#160;to&#160;the Trusted&#160;Core Service&#160;(TCS)<br/>and the Trusted&#160;Service&#160;Provider&#160;(TSP).</p>
<p style="position:absolute;top:377px;left:85px;white-space:nowrap" class="ft35011"><b>2.4.1&#160;Hardware Access</b></p>
<p style="position:absolute;top:410px;left:112px;white-space:nowrap" class="ft350180">●</p>
<p style="position:absolute;top:407px;left:139px;white-space:nowrap" class="ft3501"><b>TPM&#160;and&#160;OS&#160;Driver</b></p>
<p style="position:absolute;top:435px;left:139px;white-space:nowrap" class="ft3504">The&#160;&#160;TPM&#160;&#160;chip&#160;&#160;forms&#160;&#160;the&#160;&#160;lowest&#160;&#160;level&#160;&#160;of&#160;&#160;the&#160;&#160;stack&#160;&#160;and&#160;&#160;different&#160;&#160;vendors<br/>manufacture&#160;it&#160;according&#160;to&#160;the&#160;TCS&#160;specification.&#160;Although,&#160;there&#160;exists&#160;two<br/>different&#160;specifications&#160;(</p>
<p style="position:absolute;top:474px;left:341px;white-space:nowrap" class="ft35014"><i>i.e.</i></p>
<p style="position:absolute;top:474px;left:367px;white-space:nowrap" class="ft3502">&#160;TPM&#160;1.1b&#160;and TPM&#160;1.2)&#160;jTSS&#160;supports&#160;both&#160;of&#160;them.</p>
<p style="position:absolute;top:493px;left:139px;white-space:nowrap" class="ft3504">Due&#160;&#160;to&#160;&#160;the&#160;&#160;the&#160;&#160;rapid&#160;&#160;development&#160;&#160;of&#160;&#160;the&#160;&#160;IT&#160;&#160;industry&#160;&#160;1.2&#160;&#160;TPMs&#160;&#160;will&#160;&#160;become<br/>dominant&#160;in&#160;the near&#160;future.<br/>The&#160;&#160;first&#160;&#160;software&#160;&#160;component&#160;&#160;that&#160;&#160;accesses&#160;&#160;the&#160;&#160;TPM&#160;&#160;is&#160;&#160;the&#160;&#160;OS&#160;&#160;driver&#160;&#160;that<br/>typically&#160;runs&#160;in&#160;Kernel&#160;mode. For the&#160;jTSS&#160;&#160;development&#160;we&#160;can&#160;assume&#160;that<br/>the&#160;&#160;&#160;driver&#160;&#160;&#160;is&#160;&#160;&#160;supplied&#160;&#160;&#160;either&#160;&#160;&#160;by&#160;&#160;&#160;the&#160;&#160;&#160;TPM&#160;&#160;&#160;vendor&#160;&#160;&#160;or&#160;&#160;&#160;is&#160;&#160;&#160;already&#160;&#160;&#160;part&#160;&#160;&#160;of&#160;&#160;&#160;the<br/>operating&#160;&#160;system.&#160;&#160;Modern&#160;&#160;1.2&#160;&#160;TPMs&#160;no&#160;longer&#160;&#160;need&#160;&#160;a&#160;vendor&#160;&#160;specific&#160;&#160;driver<br/>because they&#160;are accessible&#160;via a&#160;TIS&#160;(TPM&#160;Interface&#160;Specification)&#160;driver.</p>
<p style="position:absolute;top:648px;left:112px;white-space:nowrap" class="ft350180">●</p>
<p style="position:absolute;top:645px;left:139px;white-space:nowrap" class="ft3501"><b>Trusted&#160;Device&#160;Driver&#160;Library&#160;(TDDL)</b></p>
<p style="position:absolute;top:673px;left:139px;white-space:nowrap" class="ft3504">The&#160;TDDL&#160;is&#160;a&#160;standardized&#160;software&#160;layer&#160;that&#160;provides&#160;an&#160;abstraction&#160;of&#160;the<br/>underlying&#160;OS&#160;specific&#160;TPM&#160;interface.&#160;Due&#160;to&#160;the&#160;design&#160;of&#160;the&#160;TDDL&#160;one&#160;can<br/>easily&#160;add&#160;implementations&#160;for different&#160;systems.&#160;<br/>The&#160;jTSS&#160;can&#160;operate&#160;on&#160;both&#160;major&#160;Operating&#160;Systems&#160;used&#160;today.&#160;The&#160;Linux<br/>OS&#160;&#160;implements&#160;&#160;the&#160;&#160;TDDL&#160;&#160;such&#160;&#160;that&#160;&#160;it&#160;&#160;opens&#160;&#160;the&#160;&#160;TPM&#160;&#160;device&#160;&#160;file&#160;&#160;(/dev/tpm)<br/>provided&#160;by&#160;the&#160;underlying&#160;driver.&#160;Microsoft&#160;ships&#160;Windows&#160;Vista&#160;with&#160;a&#160;generic<br/>TIS&#160;driver&#160;that&#160;accesses&#160;the&#160;TPM&#160;via&#160;the&#160;so&#160;called Trusted Based&#160;Services&#160;(TBS).<br/>This&#160;service&#160;interface&#160;should&#160;allow&#160;similar&#160;access&#160;to&#160;the&#160;TPM&#160;as&#160;the&#160;device&#160;file<br/>under&#160;Linux&#160;does.&#160;</p>
<p style="position:absolute;top:881px;left:85px;white-space:nowrap" class="ft35011"><b>2.4.2&#160;Trusted&#160;Core Service</b></p>
<p style="position:absolute;top:911px;left:85px;white-space:nowrap" class="ft3504">To&#160;get an&#160;overview&#160;of&#160;the individual&#160;components&#160;that&#160;make&#160;up&#160;the TCS,&#160;Illustration&#160;5<br/>presents&#160;the main components&#160;and their interactions.</p>
<p style="position:absolute;top:961px;left:112px;white-space:nowrap" class="ft350180">●</p>
<p style="position:absolute;top:958px;left:139px;white-space:nowrap" class="ft3501"><b>Parameter&#160;Block&#160;Generator&#160;and&#160;TPM&#160;Structure&#160;Parser</b></p>
<p style="position:absolute;top:986px;left:139px;white-space:nowrap" class="ft3504">The&#160;&#160;TPM&#160;&#160;offers&#160;&#160;a&#160;&#160;byte&#160;&#160;stream&#160;&#160;oriented&#160;&#160;interface&#160;&#160;where&#160;&#160;TPM&#160;&#160;commands&#160;&#160;are<br/>marshaled&#160;into byte&#160;streams.<br/>The&#160;TPM&#160;specification&#160;defines&#160;the&#160;data&#160;exchange&#160;with&#160;the&#160;TPM&#160;by&#160;C&#160;elements,<br/>so&#160;all&#160;primitive&#160;data&#160;types&#160;(</p>
<p style="position:absolute;top:1052px;left:373px;white-space:nowrap" class="ft35014"><i>e.g.</i></p>
<p style="position:absolute;top:1052px;left:404px;white-space:nowrap" class="ft3502">&#160;UINT32)&#160;have&#160;to&#160;be&#160;mapped&#160;to&#160;equivalent&#160;Java</p>
<p style="position:absolute;top:1071px;left:139px;white-space:nowrap" class="ft3504">types&#160;and&#160;the&#160;C&#160;structures&#160;have&#160;to&#160;be&#160;modeled&#160;by&#160;Java&#160;classes.&#160;To&#160;send&#160;a&#160;TPM<br/>command&#160;we&#160;extract&#160;the&#160;necessary&#160;content&#160;from&#160;the&#160;Java&#160;class&#160;instance&#160;and<br/>serialized&#160;it&#160;into&#160;a&#160;byte&#160;stream. Vice&#160;versa,&#160;we&#160;unpack&#160;the response&#160;and decode</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3507">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3507">13/45</p>
</div>
<!-- Page 351 -->
<a name="351"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page351-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2351.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3517">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3517">1.0</p>
<p style="position:absolute;top:151px;left:139px;white-space:nowrap" class="ft3512">it&#160;to Java objects.</p>
<p style="position:absolute;top:182px;left:112px;white-space:nowrap" class="ft351180">●</p>
<p style="position:absolute;top:179px;left:139px;white-space:nowrap" class="ft3511"><b>Authorization&#160;Manager</b></p>
<p style="position:absolute;top:207px;left:139px;white-space:nowrap" class="ft3514">The&#160;TPM&#160;is&#160;a&#160;low&#160;cost&#160;chip&#160;with&#160;a&#160;limited&#160;amount&#160;of&#160;internal&#160;resources.&#160;One&#160;of<br/>these&#160;resources&#160;are&#160;authorized&#160;sessions&#160;managed&#160;by&#160;the&#160;TSS.&#160;The&#160;authorization<br/>manager&#160;keeps&#160;track&#160;of&#160;them&#160;and&#160;swaps,&#160;evicts,&#160;or&#160;reloads&#160;TPM&#160;authorization<br/>sessions.</p>
<p style="position:absolute;top:295px;left:112px;white-space:nowrap" class="ft351180">●</p>
<p style="position:absolute;top:292px;left:139px;white-space:nowrap" class="ft3511"><b>Event&#160;Manager&#160;and&#160;Event&#160;Log</b></p>
<p style="position:absolute;top:321px;left:139px;white-space:nowrap" class="ft3514">&#160;The&#160;TCG&#160;specifies&#160;an&#160;event&#160;log&#160;message&#160;for&#160;the&#160;PCR&#160;extend&#160;operation.&#160;It&#160;is&#160;the<br/>task&#160;of the TCS&#160;to&#160;store,&#160;manage,&#160;and&#160;report&#160;this information.&#160;<br/>In&#160;general,&#160;the event log is&#160;not limited&#160;to&#160;events&#160;generated by&#160;the TSS.&#160;During<br/>boot, the BIOS&#160;measures&#160;the start&#160;and&#160;stores&#160;all log information&#160;in&#160;the ACPI<br/>memory.&#160;To&#160;provide&#160;a&#160;complete&#160;event&#160;log,&#160;the&#160;TSS&#160;collects&#160;this&#160;and&#160;other&#160;log<br/>entries&#160;&#160;(</p>
<p style="position:absolute;top:425px;left:213px;white-space:nowrap" class="ft35114"><i>e.g.</i></p>
<p style="position:absolute;top:425px;left:244px;white-space:nowrap" class="ft3512">&#160;&#160;Integrity&#160;&#160;Measurement&#160;&#160;Architecture&#160;&#160;[Sailer])&#160;&#160;stored&#160;&#160;by&#160;&#160;the&#160;&#160;OS.</p>
<p style="position:absolute;top:444px;left:139px;white-space:nowrap" class="ft3512">Currently,&#160;only a&#160;basic memory&#160;based&#160;event&#160;log is implemented.</p>
<p style="position:absolute;top:475px;left:112px;white-space:nowrap" class="ft351180">●</p>
<p style="position:absolute;top:472px;left:139px;white-space:nowrap" class="ft3511"><b>Key and&#160;Credential&#160;Manager,&#160;Persistent&#160;System&#160;Storage</b></p>
<p style="position:absolute;top:500px;left:139px;white-space:nowrap" class="ft3514">Applications&#160;might&#160;need&#160;to&#160;store&#160;keys&#160;permanently&#160;and&#160;the&#160;TCS&#160;offers&#160;a&#160;system<br/>wide&#160;persistent&#160;storage&#160;for&#160;that&#160;purpose.&#160;The&#160;Key&#160;Manager&#160;assigns&#160;a&#160;(possiby<br/>globally)&#160;unique&#160;identifier&#160;called&#160;UUID&#160;to&#160;every&#160;key&#160;and&#160;stores&#160;the&#160;key&#160;blobs&#160;in<br/>the&#160;persistent&#160;storage&#160;in&#160;the&#160;OS&#160;file&#160;system.&#160;I&#160;also&#160;retrieves&#160;and&#160;loads&#160;the&#160;keys.<br/>Applications&#160;can use this&#160;UUID&#160;as&#160;reference&#160;to&#160;the requested&#160;key.<br/>Further,&#160;&#160;the&#160;&#160;TCS&#160;&#160;manages&#160;&#160;credentials&#160;&#160;(i.e.&#160;&#160;X.509&#160;&#160;certificates)&#160;&#160;such&#160;&#160;as&#160;&#160;the<br/>endorsement&#160;or&#160;the&#160;platform&#160;credential.&#160;By&#160;that,&#160;it&#160;ensures&#160;that&#160;all&#160;applications<br/>can&#160;access&#160;these credentials by&#160;a&#160;well&#160;defined mechanism.&#160;For example,&#160;the<br/>credentials&#160;&#160;are&#160;&#160;used&#160;&#160;as&#160;&#160;part&#160;&#160;of&#160;&#160;the&#160;&#160;CollateIdentity/ActivateIdentity&#160;&#160;cycle&#160;&#160;to<br/>create&#160;Attestation Identity&#160;Keys&#160;(AIKs).</p>
<p style="position:absolute;top:712px;left:112px;white-space:nowrap" class="ft351180">●</p>
<p style="position:absolute;top:710px;left:139px;white-space:nowrap" class="ft3511"><b>TCS&#160;Context&#160;Manager</b></p>
<p style="position:absolute;top:738px;left:139px;white-space:nowrap" class="ft3514">Applications&#160;allocate&#160;resources&#160;with every call&#160;to&#160;the&#160;TSS.&#160;The&#160;Context&#160;Manager<br/>is&#160;responsible&#160;for&#160;these&#160;resources&#160;and&#160;binds&#160;them to an application&#160;specific<br/>context.&#160;</p>
<p style="position:absolute;top:807px;left:112px;white-space:nowrap" class="ft351180">●</p>
<p style="position:absolute;top:804px;left:139px;white-space:nowrap" class="ft3511"><b>TCSI API&#160;</b></p>
<p style="position:absolute;top:832px;left:139px;white-space:nowrap" class="ft3514">This&#160;layer represents&#160;the standardized&#160;API&#160;of&#160;the&#160;TCS.&#160;The&#160;TSS&#160;specification<br/>defines&#160;this&#160;API&#160;in&#160;a C&#160;style&#160;fashion&#160;which was mapped&#160;to Java in a<br/>straightforward&#160;way.</p>
<p style="position:absolute;top:901px;left:112px;white-space:nowrap" class="ft351180">●</p>
<p style="position:absolute;top:898px;left:139px;white-space:nowrap" class="ft3511"><b>TCS&#160;Server&#160;Module</b></p>
<p style="position:absolute;top:926px;left:139px;white-space:nowrap" class="ft3514">The TCS&#160;is&#160;designed&#160;as&#160;a&#160;system&#160;service&#160;or&#160;system&#160;daemon.&#160;The TCS&#160;server<br/>component&#160;allows&#160;multiple&#160;applications&#160;to&#160;concurrently&#160;access&#160;the&#160;TSS. It<br/>accepts incoming&#160;connection&#160;requests&#160;from&#160;applications&#160;and&#160;passes&#160;them&#160;to the<br/>underlying&#160;layer. It &#160;ensures&#160;proper&#160;synchronization&#160;and&#160;allows&#160;only one thread<br/>to enter&#160;critical sections of&#160;the&#160;TCS.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3517">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3517">14/45</p>
</div>
<!-- Page 352 -->
<a name="352"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page352-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2352.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3527">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3527">1.0</p>
<p style="position:absolute;top:995px;left:85px;white-space:nowrap" class="ft35211"><b>2.4.3&#160;Simple Object Access&#160;Protocol&#160;SOAP</b></p>
<p style="position:absolute;top:1025px;left:85px;white-space:nowrap" class="ft3524">As&#160;mentioned&#160;above&#160;the&#160;TCG&#160;provides&#160;a&#160;standard&#160;for&#160;the&#160;communication&#160;between&#160;the<br/>Trusted&#160;&#160;Core&#160;&#160;Service&#160;&#160;TCS&#160;&#160;and&#160;&#160;the&#160;&#160;Trusted&#160;&#160;Service&#160;&#160;Provide&#160;&#160;TSP.&#160;&#160;One&#160;&#160;way&#160;&#160;for&#160;&#160;this<br/>communication&#160;is&#160;the&#160;SOAP&#160;protocol&#160;that&#160;bases&#160;on&#160;XML&#160;messages.&#160;Within&#160;the&#160;context<br/>of this application,&#160;SOAP&#160;is used to&#160;build a framework&#160;for simple&#160;RPC&#160;calls. A client (</p>
<p style="position:absolute;top:1083px;left:783px;white-space:nowrap" class="ft35214"><i>i.e.</i></p>
<p style="position:absolute;top:1102px;left:85px;white-space:nowrap" class="ft3522">the&#160;TSP)&#160;send a request&#160;to&#160;a&#160;server&#160;(</p>
<p style="position:absolute;top:1102px;left:389px;white-space:nowrap" class="ft35214"><i>i.e.</i></p>
<p style="position:absolute;top:1102px;left:415px;white-space:nowrap" class="ft3522">&#160;the TCS)&#160;and&#160;waits&#160;for&#160;a response&#160;message.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3527">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3527">15/45</p>
<p style="position:absolute;top:877px;left:89px;white-space:nowrap" class="ft352179"><i>Illustration&#160;5: Trusted&#160;Core Services&#160;Components. Requests from&#160;the TSP&#160;are received&#160;via&#160;one</i></p>
<p style="position:absolute;top:894px;left:175px;white-space:nowrap" class="ft352179"><i>of the&#160;communication facilities&#160;provided&#160;by the TCS&#160;server&#160;component.</i></p>
</div>
<!-- Page 353 -->
<a name="353"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page353-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2353.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3537">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3537">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft3534">The&#160;above&#160;&#160;service-client&#160;architecture&#160;&#160;implies that&#160;&#160;we&#160;&#160;need&#160;&#160;a OS&#160;&#160;wide&#160;&#160;service&#160;&#160;that<br/>represents&#160;the&#160;TCS.&#160;We&#160;support&#160;the&#160;two&#160;major&#160;operating&#160;systems&#160;and&#160;therefore&#160;we<br/>actually&#160;need&#160;a&#160;Windows&#160;Service&#160;respectively&#160;a&#160;Linux&#160;Daemon&#160;for&#160;the&#160;server&#160;side.<br/>Both&#160;TCS representations&#160;have a predefined&#160;interface according&#160;to a&#160;WSDL&#160;file defined<br/>by&#160;the&#160;TCG.&#160;WSDL&#160;is&#160;the&#160;abbreviation&#160;for&#160;“Web&#160;Service&#160;Description&#160;Language”&#160;and<br/>specifies&#160;all remote&#160;method&#160;calls and&#160;their&#160;required&#160;parameters.&#160;<br/>We&#160;&#160;can&#160;&#160;use&#160;&#160;the&#160;&#160;given&#160;&#160;WSDL&#160;&#160;file&#160;&#160;to&#160;&#160;derive&#160;&#160;the&#160;&#160;entire&#160;&#160;SOAP&#160;&#160;framework&#160;&#160;for&#160;&#160;the<br/>implementation&#160;&#160;of&#160;&#160;the&#160;&#160;communication.&#160;&#160;The&#160;&#160;problems&#160;&#160;with&#160;&#160;the SOAP&#160;&#160;&#160;encoding&#160;&#160;(see<br/>Section&#160;2.1.6)&#160;forced&#160;us&#160;to&#160;use&#160;the&#160;Axis&#160;SOAP&#160;libraries&#160;by&#160;the&#160;Apache&#160;Foundation.&#160;Axis<br/>is not&#160;maintained&#160;any&#160;more&#160;and so&#160;this&#160;seems&#160;not&#160;to be&#160;the&#160;perfect&#160;solution.&#160;</p>
<p style="position:absolute;top:363px;left:112px;white-space:nowrap" class="ft353180">●</p>
<p style="position:absolute;top:360px;left:139px;white-space:nowrap" class="ft3531"><b>Linux Daemon&#160;and Windows Service</b></p>
<p style="position:absolute;top:388px;left:139px;white-space:nowrap" class="ft3534">There&#160;exists&#160;several&#160;ways&#160;to&#160;start&#160;and&#160;maintain&#160;a&#160;Java&#160;application&#160;in&#160;Windows<br/>and&#160;&#160;Linux&#160;&#160;but&#160;&#160;for&#160;&#160;consistency&#160;&#160;reasons&#160;&#160;we&#160;&#160;rely&#160;&#160;on&#160;&#160;the&#160;&#160;Apache&#160;&#160;Daemon<br/>implementation&#160;for&#160;both&#160;operating&#160;systems.&#160;These&#160;libraries&#160;provide&#160;an&#160;easy&#160;to<br/>use&#160;&#160;and&#160;&#160;solid&#160;&#160;foundation&#160;&#160;for&#160;&#160;the&#160;&#160;TCS&#160;&#160;with&#160;&#160;additional&#160;&#160;functionality,&#160;&#160;</p>
<p style="position:absolute;top:446px;left:737px;white-space:nowrap" class="ft35314"><i>e.g.&#160;&#160;</i></p>
<p style="position:absolute;top:446px;left:778px;white-space:nowrap" class="ft3532">Log</p>
<p style="position:absolute;top:465px;left:139px;white-space:nowrap" class="ft3532">server&#160;events.&#160;</p>
<p style="position:absolute;top:496px;left:112px;white-space:nowrap" class="ft353180">●</p>
<p style="position:absolute;top:493px;left:139px;white-space:nowrap" class="ft3531"><b>Implementation</b></p>
<p style="position:absolute;top:521px;left:139px;white-space:nowrap" class="ft3534">The&#160;&#160;WDSL&#160;&#160;represents&#160;&#160;all&#160;&#160;methods&#160;&#160;and&#160;&#160;parameters&#160;&#160;for&#160;&#160;the&#160;&#160;communication<br/>between&#160;TCS&#160;and&#160;TSP.&#160;To&#160;actually&#160;use&#160;it&#160;within&#160;the&#160;TSP&#160;and&#160;TCS&#160;we&#160;can&#160;employ<br/>Apache&#160;Axis libraries&#160;and&#160;derive&#160;all necessary&#160;Java class&#160;files.</p>
<p style="position:absolute;top:590px;left:112px;white-space:nowrap" class="ft353180">●</p>
<p style="position:absolute;top:587px;left:139px;white-space:nowrap" class="ft3531"><b>Communication</b></p>
<p style="position:absolute;top:616px;left:139px;white-space:nowrap" class="ft3534">We&#160;have&#160;already&#160;mentioned&#160;that&#160;there&#160;exists&#160;a&#160;local&#160;interface&#160;besides&#160;the&#160;SOAP<br/>interface&#160;for&#160;the&#160;communication&#160;between&#160;TSP&#160;and&#160;TCS.&#160;The&#160;TSP&#160;is&#160;linked&#160;to&#160;the<br/>Java&#160;application&#160;on&#160;the top of&#160;the stack and can therefore&#160;decide&#160;whether&#160;to<br/>access&#160;the&#160;TCS&#160;via&#160;local&#160;calls&#160;or&#160;via&#160;the&#160;SOAP&#160;interface.&#160;This&#160;decision&#160;depends<br/>on&#160;the current&#160;appliance&#160;and is up to&#160;the user.&#160;</p>
<p style="position:absolute;top:738px;left:85px;white-space:nowrap" class="ft35311"><b>2.4.4&#160;Trusted Service Provider</b></p>
<p style="position:absolute;top:768px;left:85px;white-space:nowrap" class="ft3534">The TSP&#160;typically&#160;is designed&#160;as&#160;a library&#160;that&#160;is&#160;linked to&#160;an&#160;application.&#160;Illustration&#160;6<br/>provides&#160;an overview&#160;of&#160;the major&#160;building&#160;blocks&#160;of&#160;the jTSS Trusted&#160;Service&#160;Provider.<br/>Starting&#160;at the&#160;bottom of&#160;the TSP, the major&#160;components&#160;are:</p>
<p style="position:absolute;top:837px;left:112px;white-space:nowrap" class="ft353180">●</p>
<p style="position:absolute;top:834px;left:139px;white-space:nowrap" class="ft3531"><b>TCS&#160;Bindings</b></p>
<p style="position:absolute;top:862px;left:139px;white-space:nowrap" class="ft3534">Since&#160;the&#160;TCS&#160;can&#160;support&#160;different&#160;communication&#160;mechanisms,&#160;the&#160;TSP&#160;must<br/>offer&#160;the&#160;same,&#160;too.&#160;The&#160;TCS&#160;binding&#160;component&#160;provides&#160;an&#160;abstraction&#160;layer<br/>that&#160;&#160;allows&#160;&#160;to&#160;&#160;add&#160;&#160;communication&#160;&#160;components&#160;&#160;later&#160;&#160;on&#160;&#160;without&#160;&#160;requiring<br/>changes&#160;of&#160;upper&#160;layers&#160;of&#160;the&#160;TSP.</p>
<p style="position:absolute;top:951px;left:112px;white-space:nowrap" class="ft353180">●</p>
<p style="position:absolute;top:948px;left:139px;white-space:nowrap" class="ft3531"><b>Authorization&#160;and&#160;Validation&#160;Component</b></p>
<p style="position:absolute;top:976px;left:139px;white-space:nowrap" class="ft3534">The access&#160;to&#160;the TPM&#160;and&#160;the TPM's&#160;resources&#160;requires&#160;proper&#160;authorization.<br/>The&#160;TPM&#160;specification&#160;defines&#160;special&#160;authorization&#160;protocols&#160;used&#160;to&#160;establish<br/>authorization&#160;for&#160;those&#160;resources.&#160;The&#160;Authorization&#160;and&#160;Validation&#160;Component<br/>is&#160;responsible&#160;for&#160;creating&#160;and&#160;managing&#160;authorization&#160;sessions.&#160;Additionally,&#160;it<br/>validates&#160;response&#160;data&#160;from&#160;the TPM.</p>
<p style="position:absolute;top:1084px;left:112px;white-space:nowrap" class="ft353180">●</p>
<p style="position:absolute;top:1081px;left:139px;white-space:nowrap" class="ft3531"><b>TSP&#160;Context&#160;Manager</b></p>
<p style="position:absolute;top:1109px;left:139px;white-space:nowrap" class="ft3532">Communication&#160;&#160;sessions&#160;&#160;with&#160;the&#160;&#160;TCS&#160;&#160;are&#160;&#160;mapped&#160;&#160;to&#160;&#160;contexts.&#160;&#160;The&#160;&#160;Context</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3537">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3537">16/45</p>
</div>
<!-- Page 354 -->
<a name="354"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page354-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2354.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3547">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3547">1.0</p>
<p style="position:absolute;top:151px;left:139px;white-space:nowrap" class="ft3544">Manager&#160;is&#160;responsible&#160;to&#160;keep&#160;track&#160;of&#160;context&#160;sessions&#160;and&#160;the&#160;management<br/>of the associated&#160;resources.</p>
<p style="position:absolute;top:201px;left:112px;white-space:nowrap" class="ft354180">●</p>
<p style="position:absolute;top:198px;left:139px;white-space:nowrap" class="ft3541"><b>Key Manager&#160;and Persistent User&#160;Storage</b></p>
<p style="position:absolute;top:226px;left:139px;white-space:nowrap" class="ft3544">The TSP&#160;maintains&#160;a&#160;key hierarchy&#160;where&#160;every&#160;TPM key has&#160;a&#160;parent&#160;key in&#160;the<br/>layer&#160;&#160;&#160;above.&#160;&#160;&#160;Before&#160;&#160;&#160;a&#160;&#160;user&#160;&#160;&#160;or&#160;&#160;an&#160;&#160;application&#160;&#160;&#160;can&#160;&#160;&#160;load&#160;&#160;a&#160;&#160;&#160;key&#160;&#160;from&#160;&#160;&#160;the&#160;&#160;&#160;&#160;&#160;user<br/>persistant&#160;storage&#160;the Key Manager&#160;establishes and&#160;verifies&#160;the entire&#160;key&#160;chain<br/>up&#160;to&#160;the&#160;Storage&#160;Root&#160;Key&#160;(SRK).&#160;Contrary&#160;to&#160;the&#160;system&#160;persistent&#160;storage,<br/>this&#160;TSP-layer&#160;storage&#160;is individual&#160;for&#160;every&#160;user&#160;of&#160;the system.</p>
<p style="position:absolute;top:334px;left:112px;white-space:nowrap" class="ft354180">●</p>
<p style="position:absolute;top:331px;left:139px;white-space:nowrap" class="ft3541"><b>TSPI&#160;and&#160;TSP Working&#160;Objects</b></p>
<p style="position:absolute;top:359px;left:139px;white-space:nowrap" class="ft3544">The&#160;top&#160;level&#160;interface&#160;of&#160;the&#160;TSP&#160;is&#160;called&#160;Trusted&#160;Service&#160;Provider&#160;Interface<br/>(TSPI)&#160;and&#160;is&#160;standardized&#160;in&#160;the&#160;TSS&#160;specification.&#160;It&#160;is&#160;common&#160;with&#160;all&#160;our<br/>implementations&#160;described&#160;in Section&#160;6.</p>
<p style="position:absolute;top:428px;left:112px;white-space:nowrap" class="ft354180">●</p>
<p style="position:absolute;top:425px;left:139px;white-space:nowrap" class="ft3541"><b>Transport&#160;Session&#160;Component</b></p>
<p style="position:absolute;top:453px;left:139px;white-space:nowrap" class="ft3544">Transport&#160;&#160;Sessions&#160;&#160;are&#160;&#160;a&#160;&#160;new&#160;&#160;feature&#160;&#160;introduced&#160;&#160;in&#160;&#160;TPM&#160;&#160;specification&#160;&#160;1.2.&#160;&#160;It<br/>allows&#160;the TSS&#160;to&#160;encrypt commands and&#160;data&#160;sent&#160;to&#160;the TPM.&#160;This&#160;provides<br/>protection&#160;&#160;against&#160;&#160;attackers&#160;&#160;who&#160;&#160;intercept&#160;&#160;the&#160;&#160;data&#160;&#160;transmitted&#160;&#160;over&#160;&#160;the<br/>system's&#160;LPC&#160;bus.</p>
<p style="position:absolute;top:567px;left:85px;white-space:nowrap" class="ft3544">A&#160;native&#160;Java&#160;TSS implementation&#160;clearly reduces the number&#160;of&#160;involved&#160;components<br/>and&#160;dependencies&#160;for&#160;a&#160;TPM&#160;access.&#160;Consequently,&#160;this&#160;approach&#160;results&#160;in&#160;less&#160;side-<br/>effects&#160;from&#160;incompatible&#160;TSS&#160;implementations&#160;or&#160;different&#160;interpretations&#160;of&#160;the&#160;TSS<br/>specification.&#160;&#160;Moreover,&#160;&#160;a&#160;&#160;pure&#160;&#160;Java&#160;&#160;stack&#160;&#160;can&#160;&#160;easily&#160;&#160;be&#160;&#160;ported&#160;&#160;to&#160;&#160;other&#160;&#160;operating<br/>systems&#160;&#160;and&#160;&#160;platforms,&#160;&#160;</p>
<p style="position:absolute;top:643px;left:302px;white-space:nowrap" class="ft35414"><i>e.g.</i></p>
<p style="position:absolute;top:643px;left:333px;white-space:nowrap" class="ft3542">&#160;&#160;embedded&#160;&#160;systems&#160;&#160;with&#160;&#160;TPM&#160;&#160;support.&#160;&#160;While&#160;&#160;vendor</p>
<p style="position:absolute;top:663px;left:85px;white-space:nowrap" class="ft3544">specific&#160;&#160;stacks&#160;&#160;limit&#160;&#160;themselves&#160;&#160;to&#160;&#160;a&#160;&#160;few&#160;&#160;specific&#160;&#160;TPM&#160;&#160;types,&#160;&#160;One&#160;&#160;of&#160;&#160;the&#160;&#160;main<br/>advantages&#160;of&#160;the&#160;jTSS&#160;is&#160;the&#160;ability&#160;to&#160;support&#160;TPMs&#160;from&#160;different&#160;manufacturers.<br/>This&#160;approach&#160;allows&#160;the&#160;reduction&#160;of&#160;the&#160;size&#160;and&#160;complexity&#160;if&#160;compared&#160;to&#160;the&#160;jTSS<br/>Wrapper.&#160;&#160;Due&#160;&#160;to&#160;&#160;the&#160;&#160;lower&#160;&#160;complexity,&#160;&#160;it&#160;&#160;is&#160;&#160;easier&#160;&#160;to&#160;&#160;debug&#160;&#160;and&#160;&#160;well-suited&#160;&#160;for<br/>educational&#160;&#160;and&#160;&#160;research&#160;&#160;purposes.&#160;&#160;It&#160;&#160;can&#160;&#160;fully&#160;&#160;exploit&#160;&#160;its&#160;&#160;advantages&#160;&#160;in&#160;&#160;fully<br/>virtualized&#160;environments,&#160;such&#160;as&#160;a&#160;compartment&#160;exclusively&#160;for&#160;the&#160;Java&#160;VM,&#160;with&#160;no<br/>concurrent&#160;accesses.&#160;It&#160;may&#160;also&#160;be&#160;used&#160;if&#160;the&#160;resources&#160;of&#160;the TPM&#160;are virtualized,</p>
<p style="position:absolute;top:797px;left:85px;white-space:nowrap" class="ft35414"><i>e.g.</i></p>
<p style="position:absolute;top:797px;left:116px;white-space:nowrap" class="ft3542">&#160;TPM&#160;Base&#160;Services&#160;(TBS)&#160;in&#160;Windows&#160;Vista.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3547">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3547">17/45</p>
</div>
<!-- Page 355 -->
<a name="355"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page355-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2355.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3557">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3557">1.0</p>
<p style="position:absolute;top:197px;left:85px;white-space:nowrap" class="ft35511"><b>2.5&#160;The&#160;Common&#160;jTSS&#160;API</b></p>
<p style="position:absolute;top:227px;left:85px;white-space:nowrap" class="ft3554">The&#160;Java&#160;programming&#160;language&#160;evolved&#160;in&#160;the&#160;last&#160;years&#160;to&#160;a&#160;commonly&#160;accepted<br/>environment.&#160;The&#160;main&#160;advantages&#160;are&#160;a&#160;restrictive&#160;type&#160;and&#160;memory&#160;safety&#160;ideally<br/>suited&#160;for&#160;security&#160;relevant&#160;applications.&#160;Although,&#160;Trusted&#160;Computing&#160;became&#160;more<br/>and&#160;more&#160;important&#160;over&#160;the last&#160;years&#160;there&#160;is currently&#160;no support&#160;within Java.<br/>An&#160;Application&#160;Programming&#160;Interface&#160;(API)&#160;is&#160;a&#160;interface&#160;for&#160;programmers.&#160;The&#160;design<br/>of&#160;an&#160;API is&#160;always&#160;a&#160;trade off&#160;between&#160;a&#160;restriction of&#160;features&#160;to&#160;keep&#160;it&#160;simple&#160;and<br/>to&#160;preserve&#160;a&#160;developers&#160;freedom.&#160;For&#160;the&#160;current&#160;purpose&#160;of&#160;the&#160;integration&#160;of&#160;TPM<br/>functionality&#160;in&#160;the&#160;Java&#160;language&#160;we&#160;have&#160;to&#160;meet&#160;a&#160;few&#160;additional&#160;requirements.&#160;The<br/>main&#160;design&#160;aspect&#160;is&#160;to&#160;cover&#160;the&#160;entire&#160;functionality&#160;envisioned&#160;by&#160;the&#160;TCG&#160;in&#160;this<br/>API&#160;without&#160;inconsistencies.&#160;&#160;Despite&#160;&#160;the&#160;complexity&#160;of&#160;the&#160;&#160;original&#160;specification&#160;we<br/>enable&#160;programmers&#160;to&#160;develop&#160;powerful&#160;applications&#160;with&#160;a&#160;clear&#160;and&#160;relatively&#160;easy<br/>to use&#160;interface.<br/>Although,&#160;the&#160;basic&#160;concepts&#160;and&#160;functionality&#160;of&#160;the&#160;native&#160;TSP&#160;remains&#160;the&#160;same&#160;in<br/>its&#160;Java&#160;counterpart,&#160;several&#160;aspects&#160;were&#160;changed&#160;to&#160;meet&#160;the&#160;object&#160;oriented&#160;nature<br/>of&#160;Java. TSS&#160;entities&#160;such&#160;as&#160;contexts, keys, hashes,&#160;or&#160;the&#160;TPM are represented&#160;by<br/>actual&#160;&#160;Java&#160;&#160;objects.&#160;&#160;This&#160;&#160;relieves&#160;&#160;developers&#160;&#160;from&#160;&#160;object&#160;&#160;handles&#160;&#160;and&#160;&#160;memory<br/>management&#160;&#160;as&#160;&#160;required&#160;&#160;in&#160;&#160;the&#160;&#160;original&#160;&#160;TSP.&#160;&#160;Thus,&#160;&#160;developers&#160;&#160;who&#160;&#160;are&#160;&#160;already<br/>familiar&#160;with&#160;the&#160;TSPI&#160;should&#160;be&#160;able&#160;to&#160;use&#160;the&#160;Java&#160;interface&#160;without&#160;a&#160;steep&#160;learning<br/>curve&#160;&#160;because&#160;&#160;the&#160;&#160;design&#160;&#160;is&#160;&#160;similar&#160;&#160;to&#160;&#160;its&#160;&#160;C-based&#160;&#160;counterpart.&#160;&#160;The&#160;&#160;Java&#160;&#160;interface<br/>provides&#160;&#160;all&#160;the&#160;flexibility&#160;&#160;and&#160;&#160;features&#160;&#160;of&#160;the&#160;&#160;underlying&#160;stack&#160;to&#160;Java&#160;developers.<br/>Existing&#160;resources&#160;such&#160;as&#160;TSPI&#160;based&#160;C-code&#160;can&#160;therefore&#160;easily&#160;be&#160;mapped&#160;to&#160;Java.<br/>With&#160;an&#160;abstract&#160;API,&#160;programmers&#160;can access&#160;the TSS without any knowledge&#160;of&#160;the<br/>actual&#160;implementation. This&#160;way,&#160;there is&#160;no&#160;need&#160;to&#160;change&#160;Java&#160;applications&#160;if&#160;the<br/>underlying&#160;&#160;mechanism&#160;&#160;of&#160;&#160;the&#160;&#160;TSS&#160;&#160;changes.&#160;&#160;Currently,&#160;&#160;developers&#160;&#160;of&#160;&#160;Trusted<br/>Computing&#160;Java&#160;applications&#160;can&#160;either&#160;use the jTSS&#160;Wrapper&#160;(see&#160;Section&#160;2.3)&#160;or&#160;the<br/>jTSS&#160;(see&#160;Section&#160;2.4)&#160;developed&#160;by&#160;IAIK.</p>
<p style="position:absolute;top:806px;left:85px;white-space:nowrap" class="ft35511"><b>2.5.1&#160;Core Parts of the API</b></p>
<p style="position:absolute;top:839px;left:112px;white-space:nowrap" class="ft355180">●</p>
<p style="position:absolute;top:836px;left:139px;white-space:nowrap" class="ft3551"><b>TcIContext</b></p>
<p style="position:absolute;top:865px;left:139px;white-space:nowrap" class="ft3554">A&#160;context&#160;represents&#160;a&#160;connection&#160;to&#160;the&#160;TSS&#160;Core&#160;Services.&#160;One&#160;can&#160;either<br/>connect&#160;to&#160;a&#160;local&#160;or&#160;a&#160;remote&#160;TCS.&#160;A&#160;context&#160;allows&#160;to&#160;specify&#160;the&#160;connection<br/>host.&#160;&#160;The&#160;&#160;context&#160;&#160;creates&#160;&#160;all&#160;&#160;further&#160;&#160;TSS&#160;&#160;objects&#160;&#160;like&#160;&#160;policy&#160;&#160;objects&#160;&#160;and<br/>registers,&#160;loads&#160;or&#160;unregisters&#160;keys&#160;from&#160;the&#160;persistent&#160;storage.&#160;The&#160;context can<br/>close&#160;&#160;objects&#160;(release&#160;&#160;their&#160;handles),&#160;&#160;get&#160;information&#160;&#160;(capabilities)&#160;&#160;about&#160;the<br/>TCS&#160;as well as&#160;free&#160;TSS&#160;memory.</p>
<p style="position:absolute;top:991px;left:112px;white-space:nowrap" class="ft355180">●</p>
<p style="position:absolute;top:988px;left:139px;white-space:nowrap" class="ft3551"><b>TcITPM</b></p>
<p style="position:absolute;top:1016px;left:139px;white-space:nowrap" class="ft3554">This&#160;&#160;class&#160;&#160;represents&#160;&#160;the&#160;&#160;TPM&#160;&#160;and&#160;&#160;parts&#160;&#160;of&#160;&#160;its&#160;&#160;functionality.&#160;&#160;It&#160;&#160;provides<br/>methodes&#160;to&#160;take&#160;or&#160;clear&#160;TPM&#160;ownership,&#160;read&#160;and&#160;set&#160;the&#160;TPM&#160;status,&#160;obtain<br/>random&#160;numbers&#160;from&#160;the&#160;TPM,&#160;access&#160;time&#160;stamping&#160;functions,&#160;or&#160;read&#160;and<br/>extend&#160;PCR&#160;registers.&#160;Aside&#160;from&#160;low&#160;level&#160;functions,&#160;</p>
<p style="position:absolute;top:1074px;left:583px;white-space:nowrap" class="ft35514"><i>e.g.</i></p>
<p style="position:absolute;top:1074px;left:615px;white-space:nowrap" class="ft3552">&#160;trigger&#160;a TPM&#160;self&#160;test,</p>
<p style="position:absolute;top:1093px;left:139px;white-space:nowrap" class="ft3554">it&#160;&#160;offers&#160;&#160;functions&#160;&#160;to&#160;&#160;create&#160;&#160;“attestation&#160;&#160;identities”.&#160;&#160;Further,&#160;&#160;it&#160;&#160;can&#160;&#160;do&#160;&#160;quote<br/>operations&#160;&#160;to&#160;&#160;attest&#160;&#160;the&#160;&#160;current&#160;&#160;state&#160;&#160;of&#160;&#160;the&#160;&#160;platform&#160;&#160;represented&#160;&#160;by&#160;&#160;the</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3557">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3557">18/45</p>
</div>
<!-- Page 356 -->
<a name="356"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page356-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2356.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3567">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3567">1.0</p>
<p style="position:absolute;top:151px;left:139px;white-space:nowrap" class="ft3562">contents&#160;of&#160;the&#160;PCR&#160;registers.</p>
<p style="position:absolute;top:182px;left:112px;white-space:nowrap" class="ft356180">●</p>
<p style="position:absolute;top:179px;left:139px;white-space:nowrap" class="ft3561"><b>TcIRsaKey</b></p>
<p style="position:absolute;top:207px;left:139px;white-space:nowrap" class="ft3564">Instances&#160;of&#160;this&#160;class&#160;represent&#160;keys&#160;in&#160;the&#160;TPM's&#160;key&#160;hierarchy.&#160;It&#160;provides<br/>functionality&#160;to&#160;create a new&#160;key,&#160;load a&#160;key into&#160;a key&#160;slot&#160;of the TPM,&#160;or&#160;certify<br/>keys.</p>
<p style="position:absolute;top:276px;left:112px;white-space:nowrap" class="ft356180">●</p>
<p style="position:absolute;top:273px;left:139px;white-space:nowrap" class="ft3561"><b>TcIEncData</b></p>
<p style="position:absolute;top:301px;left:139px;white-space:nowrap" class="ft3564">This&#160;class&#160;provides&#160;access&#160;to&#160;the&#160;TPM's&#160;bind/unbind&#160;and&#160;seal/unseal&#160;functions<br/>which&#160;encrypt&#160;data&#160;with&#160;a&#160;TPM&#160;key.&#160;If&#160;this&#160;key&#160;is&#160;not&#160;migratable&#160;only&#160;the&#160;TPM<br/>that&#160;&#160;&#160;did&#160;&#160;&#160;the&#160;&#160;&#160;bind&#160;&#160;&#160;operation&#160;&#160;&#160;is&#160;&#160;&#160;able&#160;&#160;&#160;to&#160;&#160;&#160;unbind&#160;&#160;&#160;(</p>
<p style="position:absolute;top:340px;left:565px;white-space:nowrap" class="ft35614"><i>i.e.</i></p>
<p style="position:absolute;top:340px;left:591px;white-space:nowrap" class="ft3562">&#160;&#160;decrypt)&#160;&#160;the&#160;&#160;data.&#160;&#160;It&#160;&#160;is</p>
<p style="position:absolute;top:359px;left:139px;white-space:nowrap" class="ft3564">computationally&#160;&#160;unfeasible&#160;&#160;to&#160;&#160;decrypt&#160;&#160;data&#160;&#160;if&#160;&#160;the&#160;&#160;TPM&#160;&#160;and&#160;&#160;therefore&#160;&#160;the<br/>according&#160;private&#160;key&#160;is&#160;not available&#160;any&#160;more.<br/>Sealing&#160;takes&#160;this&#160;concept&#160;a&#160;step&#160;further:&#160;This&#160;operation&#160;includes&#160;the&#160;platform<br/>configuration&#160;to&#160;encrypt&#160;data&#160;with&#160;a&#160;TPM&#160;key.&#160;By&#160;that,&#160;the&#160;sealed&#160;data&#160;can&#160;only<br/>be&#160;unsealed if&#160;the platform&#160;is&#160;in&#160;the state&#160;specified at&#160;seal&#160;time. The&#160;platform<br/>configuration is&#160;represented by&#160;the content of&#160;the&#160;TPM's PCRs.</p>
<p style="position:absolute;top:494px;left:112px;white-space:nowrap" class="ft356180">●</p>
<p style="position:absolute;top:491px;left:139px;white-space:nowrap" class="ft3561"><b>TcIHash</b></p>
<p style="position:absolute;top:520px;left:139px;white-space:nowrap" class="ft3564">This&#160;&#160;class&#160;&#160;provides&#160;&#160;access&#160;&#160;to&#160;&#160;the&#160;&#160;TSS's&#160;&#160;hash&#160;&#160;algorithm&#160;&#160;SHA1.&#160;&#160;That&#160;&#160;includes<br/>unkeyed&#160;hash&#160;calculation&#160;and&#160;verification&#160;as&#160;well&#160;as&#160;keyed&#160;hash&#160;functions,&#160;</p>
<p style="position:absolute;top:539px;left:777px;white-space:nowrap" class="ft35614"><i>e.g.</i></p>
<p style="position:absolute;top:558px;left:139px;white-space:nowrap" class="ft3562">create&#160;signatures&#160;of data&#160;blocks&#160;with&#160;a&#160;TPM&#160;key.</p>
<p style="position:absolute;top:589px;left:112px;white-space:nowrap" class="ft356180">●</p>
<p style="position:absolute;top:586px;left:139px;white-space:nowrap" class="ft3561"><b>TcIPcrComposite</b></p>
<p style="position:absolute;top:605px;left:139px;white-space:nowrap" class="ft3564">The&#160;platform&#160;configuration&#160;registers&#160;(PCRs)&#160;can&#160;be&#160;used&#160;to&#160;attest&#160;the&#160;state&#160;of&#160;a<br/>platform&#160;(quote&#160;operation)&#160;or&#160;to&#160;seal&#160;data&#160;to&#160;a&#160;specific&#160;configuration.&#160;Instances<br/>of&#160;&#160;&#160;this&#160;&#160;&#160;class&#160;&#160;&#160;select&#160;&#160;&#160;one&#160;&#160;&#160;or&#160;&#160;&#160;more&#160;&#160;&#160;PCRs&#160;&#160;&#160;and&#160;&#160;&#160;hand&#160;&#160;&#160;them&#160;&#160;&#160;to&#160;&#160;&#160;the&#160;&#160;&#160;quote&#160;&#160;&#160;or&#160;&#160;&#160;seal<br/>functions.</p>
<p style="position:absolute;top:694px;left:112px;white-space:nowrap" class="ft356180">●</p>
<p style="position:absolute;top:691px;left:139px;white-space:nowrap" class="ft3561"><b>TcIPolicy</b></p>
<p style="position:absolute;top:719px;left:139px;white-space:nowrap" class="ft3564">The&#160;policy&#160;class&#160;handles&#160;authorization&#160;data&#160;for&#160;TSS&#160;objects&#160;such&#160;as&#160;keys.&#160;The<br/>authorization&#160;data&#160;consists&#160;of&#160;the&#160;SHA-1&#160;hash&#160;of the&#160;user&#160;password.&#160;Note&#160;that<br/>different&#160;character&#160;encodings&#160;(ASCII,&#160;UTF-16LE&#160;Unicode,&#160;etc.) will hash&#160;to<br/>different&#160;values.&#160;Alternatively&#160;to setting&#160;a password,&#160;a&#160;pop-up windows&#160;will ask<br/>the user&#160;to enter&#160;the appropriate&#160;secret.</p>
<p style="position:absolute;top:826px;left:112px;white-space:nowrap" class="ft356180">●</p>
<p style="position:absolute;top:823px;left:139px;white-space:nowrap" class="ft3561"><b>TcINvRam</b></p>
<p style="position:absolute;top:852px;left:139px;white-space:nowrap" class="ft3564">This&#160;class stores&#160;the attributes&#160;of&#160;a region&#160;of&#160;non&#160;volatile&#160;RAM&#160;inside&#160;the&#160;TPM.&#160;It<br/>can&#160;&#160;be&#160;&#160;used&#160;&#160;for&#160;&#160;defining,&#160;&#160;releasing,&#160;&#160;reading&#160;&#160;or&#160;&#160;writing&#160;&#160;such&#160;&#160;a&#160;&#160;region.&#160;&#160;An<br/>example is&#160;the&#160;Endorsement&#160;Key&#160;certificate&#160;shipped&#160;with&#160;Infineon&#160;TPMs.</p>
<p style="position:absolute;top:936px;left:85px;white-space:nowrap" class="ft35611"><b>2.5.2&#160;Input/Output&#160;Data Formats and Error Handling</b></p>
<p style="position:absolute;top:966px;left:85px;white-space:nowrap" class="ft3564">The&#160;C-based&#160;implementation&#160;of&#160;the&#160;TSP&#160;handles&#160;and&#160;identifies&#160;errors&#160;on&#160;the&#160;return<br/>code.&#160;&#160;&#160;Java&#160;&#160;&#160;replaces&#160;&#160;&#160;this&#160;&#160;&#160;concept&#160;&#160;&#160;with&#160;&#160;&#160;Exceptions&#160;&#160;&#160;which&#160;&#160;&#160;encapsulate&#160;&#160;&#160;the&#160;&#160;&#160;errors<br/>returned&#160;from&#160;the&#160;TSS.&#160;This&#160;allows&#160;to&#160;handle&#160;TSS&#160;errors&#160;with&#160;conventional&#160;Java&#160;error<br/>handling mechanisms.<br/>Due&#160;&#160;to&#160;&#160;flexibility&#160;&#160;reasons,&#160;&#160;the&#160;&#160;TSS&#160;returns&#160;&#160;generic&#160;&#160;byte&#160;&#160;arrays&#160;&#160;instead&#160;&#160;of&#160;&#160;concrete<br/>structures.&#160;This&#160;allows&#160;developers&#160;to&#160;use&#160;one&#160;single&#160;function&#160;to retrieve&#160;different&#160;types<br/>of&#160;data&#160;and&#160;treat&#160;the&#160;returned&#160;data&#160;correctly.&#160;The&#160;Java&#160;TSS&#160;Wrapper&#160;tries&#160;to&#160;convert<br/>the generic byte blobs into&#160;proper&#160;objects.&#160;If&#160;this&#160;is&#160;not possible&#160;some&#160;easy&#160;to use&#160;Java</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3567">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3567">19/45</p>
</div>
<!-- Page 357 -->
<a name="357"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page357-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2357.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3577">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3577">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft3574">representations&#160;of&#160;the&#160;equivalent&#160;C&#160;structures&#160;are&#160;available.&#160;They&#160;provide&#160;developers<br/>with&#160;&#160;a&#160;&#160;simple&#160;&#160;mechanism&#160;&#160;to&#160;&#160;convert&#160;&#160;byte&#160;&#160;blobs&#160;&#160;from&#160;&#160;lower&#160;&#160;layers&#160;&#160;into&#160;&#160;objects.<br/>Programmers&#160;can use&#160;this to&#160;handle&#160;structures&#160;directly&#160;received&#160;from&#160;the TPM.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3577">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3577">20/45</p>
<p style="position:absolute;top:727px;left:252px;white-space:nowrap" class="ft357179"><i>Illustration&#160;6:&#160;Trusted Service&#160;Provider&#160;Components</i></p>
</div>
<!-- Page 358 -->
<a name="358"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page358-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2358.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3587">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3587">1.0</p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft35810"><b>3&#160;</b></p>
<p style="position:absolute;top:197px;left:117px;white-space:nowrap" class="ft35811"><b>IAIK jTSS&#160;– User&#160;and&#160;Installation Guidelines</b></p>
<p style="position:absolute;top:296px;left:85px;white-space:nowrap" class="ft35811"><b>3.1&#160;Introduction</b></p>
<p style="position:absolute;top:326px;left:85px;white-space:nowrap" class="ft3584">The IAIK&#160;jTSS&#160;stack&#160;is&#160;an&#160;implementation&#160;of&#160;the&#160;TCG&#160;Software&#160;Stack&#160;for&#160;the&#160;Java&#160;(tm)<br/>programming&#160;language.&#160;In&#160;contrast&#160;to approaches&#160;like&#160;the&#160;IAIK/OpenTC&#160;jTSS&#160;Wrapper,<br/>the IAIK&#160;jTSS&#160;does not wrap&#160;a&#160;C stack&#160;like&#160;TrouSerS&#160;but&#160;implements&#160;all&#160;the&#160;TSS&#160;layers<br/>in Java (tm).<br/>A TCG Software&#160;Stack,&#160;as&#160;specified&#160;by&#160;the&#160;Trusted Computing&#160;Group&#160;(TCG<br/>(http://www.trustedcomputinggroup.org/)),&#160;is one&#160;of&#160;the&#160;main&#160;software&#160;building blocks<br/>of a Trusted Computing&#160;enhanced&#160;system.<br/>Development&#160;of the IAIK&#160;jTSS is supported&#160;by&#160;the&#160;European&#160;Commission&#160;as part&#160;of&#160;the<br/>OpenTC&#160;project (Ref.&#160;Nr. 027635).&#160;The IAIK&#160;jTSS is developed&#160;and maintained&#160;at&#160;the<br/>Institute for&#160;Applied&#160;Information&#160;Processing&#160;and Communication&#160;(Institut&#160;fuer<br/>Angewandte&#160;Informationsverarbeitung&#160;und Kommunikation,&#160;IAIK<br/>(http://www.iaik.tugraz.at))&#160;at&#160;Graz University&#160;of&#160;Technology&#160;(TU Graz<br/>(http://www.tugraz.at/)).</p>
<p style="position:absolute;top:619px;left:85px;white-space:nowrap" class="ft35811"><b>3.1.1&#160;OpenTC&#160;Project</b></p>
<p style="position:absolute;top:649px;left:85px;white-space:nowrap" class="ft3584">The Open&#160;Trusted Computing&#160;(OpenTC)&#160;consortium&#160;is an&#160;R&amp;D&#160;project&#160;focusing&#160;on the<br/>development&#160;of&#160;trusted&#160;and&#160;secure&#160;computing&#160;systems&#160;based&#160;on&#160;open&#160;source<br/>software. The project targets traditional&#160;computer&#160;platforms&#160;as&#160;well&#160;as&#160;embedded<br/>systems&#160;such&#160;as mobile&#160;phones.<br/>The goal&#160;of OpenTC&#160;is&#160;to&#160;reduce&#160;system-related&#160;threats,&#160;errors&#160;and&#160;malfunctions.&#160;The<br/>lack&#160;of&#160;platform&#160;security&#160;in&#160;today's&#160;computers&#160;has&#160;given&#160;rise to&#160;waves&#160;of successful<br/>attacks, resulting in severe&#160;damages&#160;to&#160;enterprises&#160;and potential&#160;failure&#160;of&#160;critical<br/>infrastructures.<br/>The&#160;OpenTC&#160;consortium&#160;will define&#160;and implement&#160;an open&#160;Trusted&#160;Computing<br/>framework.&#160;The&#160;architecture&#160;is based&#160;on&#160;security&#160;mechanisms&#160;provided&#160;by low&#160;level<br/>operating&#160;system&#160;layers with&#160;isolation properties&#160;and interfaces to&#160;Trusted Computing<br/>hardware.&#160;These&#160;layers&#160;make&#160;it possible&#160;to&#160;leverage&#160;enhanced&#160;trust&#160;and&#160;security<br/>properties&#160;of the platform&#160;for&#160;standard&#160;operating&#160;systems,&#160;middleware,&#160;and<br/>applications.<br/>For&#160;more&#160;information&#160;about&#160;the&#160;OpenTC&#160;project&#160;please&#160;refer&#160;to&#160;the&#160;OpenTC<br/>(http://www.opentc.net/)&#160;website.</p>
<p style="position:absolute;top:1009px;left:85px;white-space:nowrap" class="ft35811"><b>3.2&#160;1.2. A Word of Caution</b></p>
<p style="position:absolute;top:1039px;left:85px;white-space:nowrap" class="ft3584">The IAIK&#160;jTSS&#160;still&#160;is in&#160;early&#160;stages of&#160;development.&#160;It&#160;currently&#160;is regarded&#160;as<br/>experimental&#160;software&#160;targeted&#160;at&#160;research&#160;and&#160;educational&#160;environments.&#160;It<br/>therefore&#160;is&#160;discouraged&#160;to use&#160;IAIK&#160;jTSS&#160;in&#160;a production&#160;grade&#160;environment.&#160;Use&#160;the<br/>software&#160;at your&#160;own&#160;risk!</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3587">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3587">21/45</p>
</div>
<!-- Page 359 -->
<a name="359"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft359182{font-size:15px;font-family:BOJGJJ+BitstreamVeraSans;color:#000080;}
	.ft359183{font-size:15px;line-height:17px;font-family:BOJGJJ+BitstreamVeraSans;color:#000000;}
-->
</style>
<div id="page359-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2359.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3597">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3597">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft35911"><b>3.2.1&#160;1.3. License</b></p>
<p style="position:absolute;top:181px;left:85px;white-space:nowrap" class="ft3592">The IAIK&#160;jTSS&#160;is using a dual&#160;licensing&#160;model:</p>
<p style="position:absolute;top:212px;left:85px;white-space:nowrap" class="ft35913">•</p>
<p style="position:absolute;top:209px;left:170px;white-space:nowrap" class="ft3597">For&#160;Open&#160;Source&#160;development,&#160;the&#160;IAIK&#160;jTSS is licensed under&#160;the&#160;terms&#160;of&#160;the&#160;GNU&#160;</p>
<p style="position:absolute;top:226px;left:170px;white-space:nowrap" class="ft3597">GPL&#160;version&#160;2.&#160;The full&#160;text&#160;of the&#160;GNU GPL&#160;v2&#160;is&#160;shipped with the product or&#160;can be&#160;</p>
<p style="position:absolute;top:244px;left:170px;white-space:nowrap" class="ft3597">found online&#160;at&#160;(GPL&#160;(</p>
<p style="position:absolute;top:244px;left:334px;white-space:nowrap" class="ft359182">http://www.gnu.org/licenses/gpl.html</p>
<p style="position:absolute;top:244px;left:612px;white-space:nowrap" class="ft3597">)).</p>
<p style="position:absolute;top:273px;left:85px;white-space:nowrap" class="ft35913">•</p>
<p style="position:absolute;top:270px;left:170px;white-space:nowrap" class="ft3597">In&#160;all&#160;other cases,&#160;the&#160;&#34;Stiftung&#160;SIC Java (tm)&#160;Crypto-Software&#160;Development&#160;Kit&#160;</p>
<p style="position:absolute;top:287px;left:170px;white-space:nowrap" class="ft359183">Licence&#160;Agreement&#34;&#160;applies.&#160;The&#160;full&#160;license text can&#160;be&#160;found online&#160;at&#160;Stiftung&#160;SIC<br/>(http://jce.iaik.tugraz.at/sic/sales/licences/commercial). For&#160;pricing and further&#160;</p>
<p style="position:absolute;top:322px;left:170px;white-space:nowrap" class="ft3597">information please contact jce-sales@iaik.at&#160;(mailto:jce-sales@iaik.at).</p>
<p style="position:absolute;top:348px;left:85px;white-space:nowrap" class="ft3594">jTSS&#160;SOAP&#160;supports&#160;depends on&#160;a number&#160;of&#160;third&#160;party libraries&#160;which&#160;come&#160;under<br/>different&#160;licenses,&#160;see&#160;chapter below&#160;for&#160;further&#160;information.</p>
<p style="position:absolute;top:413px;left:85px;white-space:nowrap" class="ft35911"><b>3.3&#160;Current Status</b></p>
<p style="position:absolute;top:444px;left:85px;white-space:nowrap" class="ft359178">As mentioned&#160;in earlier sections,&#160;the IAIK&#160;jTSS still is in&#160;early&#160;stages&#160;of&#160;development<br/>and&#160;therefore&#160;is not yet feature&#160;complete nor&#160;exhaustively&#160;tested.<br/>For&#160;development,&#160;the&#160;following&#160;TPMs have&#160;been&#160;used:</p>
<p style="position:absolute;top:521px;left:85px;white-space:nowrap" class="ft35913">•</p>
<p style="position:absolute;top:518px;left:170px;white-space:nowrap" class="ft3597">Infineon&#160;1.2 TPM</p>
<p style="position:absolute;top:547px;left:85px;white-space:nowrap" class="ft35913">•</p>
<p style="position:absolute;top:544px;left:170px;white-space:nowrap" class="ft3597">TPM Emulator&#160;from ETH&#160;Zurich&#160;(Software)</p>
<p style="position:absolute;top:571px;left:85px;white-space:nowrap" class="ft3592">These&#160;TPMs&#160;have&#160;also&#160;been&#160;used&#160;for&#160;development&#160;or&#160;are&#160;reported&#160;to&#160;be&#160;compatible:</p>
<p style="position:absolute;top:601px;left:85px;white-space:nowrap" class="ft35913">•</p>
<p style="position:absolute;top:598px;left:170px;white-space:nowrap" class="ft3597">Infineon&#160;1.1b&#160;TPM</p>
<p style="position:absolute;top:627px;left:85px;white-space:nowrap" class="ft35913">•</p>
<p style="position:absolute;top:624px;left:170px;white-space:nowrap" class="ft3597">Broadcom 1.2&#160;TPM</p>
<p style="position:absolute;top:653px;left:85px;white-space:nowrap" class="ft35913">•</p>
<p style="position:absolute;top:651px;left:170px;white-space:nowrap" class="ft3597">ST&#160;Microelectronics 1.2 TPM</p>
<p style="position:absolute;top:679px;left:85px;white-space:nowrap" class="ft35913">•</p>
<p style="position:absolute;top:677px;left:170px;white-space:nowrap" class="ft3597">Atmel 1.1&#160;TPM&#160;(limited)</p>
<p style="position:absolute;top:703px;left:85px;white-space:nowrap" class="ft3594">Although&#160;all TPMs&#160;are based&#160;on&#160;the&#160;TCG&#160;TPM&#160;specification,&#160;some&#160;TPM&#160;models&#160;might<br/>behave&#160;a&#160;little different&#160;from&#160;other TPMs.&#160;The&#160;IAIK&#160;jTSS&#160;tries to&#160;abstract&#160;all these&#160;little<br/>twists and&#160;provide&#160;a consistent&#160;behavior&#160;to&#160;applications&#160;regardless&#160;of the&#160;actual<br/>underlying&#160;hardware&#160;TPM.&#160;In&#160;some&#160;cases however&#160;IAIK jTSS&#160;might&#160;fail&#160;on&#160;a&#160;TPM.&#160;To<br/>further&#160;enhance&#160;IAIK&#160;jTSS&#160;we rely&#160;on&#160;your feedback&#160;and&#160;potential&#160;contributions.<br/>Due&#160;to&#160;the fact&#160;that IAIK&#160;jTSS&#160;is fully&#160;implemented&#160;in&#160;Java&#160;(tm),&#160;porting&#160;it to&#160;different<br/>operating&#160;systems&#160;becomes relatively&#160;easy.&#160;Currently,&#160;the&#160;following&#160;systems&#160;are<br/>supported:</p>
<p style="position:absolute;top:876px;left:85px;white-space:nowrap" class="ft35913">•</p>
<p style="position:absolute;top:874px;left:170px;white-space:nowrap" class="ft3597">Linux&#160;(using&#160;TPM device&#160;drivers of&#160;recent&#160;2.6&#160;kernels)</p>
<p style="position:absolute;top:903px;left:85px;white-space:nowrap" class="ft35913">•</p>
<p style="position:absolute;top:900px;left:170px;white-space:nowrap" class="ft3597">Microsoft Windows Vista&#160;(using Trusted Base&#160;Services)</p>
<p style="position:absolute;top:926px;left:85px;white-space:nowrap" class="ft3594">Regarding&#160;TSS&#160;features,&#160;IAIK&#160;jTSS&#160;covers&#160;large parts&#160;of&#160;the TSS&#160;1.1&#160;specification&#160;and<br/>some&#160;parts&#160;of the&#160;1.2&#160;TSS&#160;specification.&#160;TPMs&#160;of version 1.2&#160;are&#160;fully&#160;supported<br/>regarding&#160;their&#160;changes&#160;in&#160;resource&#160;management.</p>
<p style="position:absolute;top:1010px;left:85px;white-space:nowrap" class="ft35911"><b>3.3.1&#160;Features Currently Supported by IAIK&#160;jTSS</b></p>
<p style="position:absolute;top:1040px;left:85px;white-space:nowrap" class="ft35912"><b>TSS Device Driver&#160;Library (TDDL).&#160;</b></p>
<p style="position:absolute;top:1040px;left:376px;white-space:nowrap" class="ft3597">The&#160;TDDL&#160;API&#160;is&#160;targeted&#160;towards&#160;C applications,&#160;so</p>
<p style="position:absolute;top:1058px;left:85px;white-space:nowrap" class="ft3597">instead we&#160;implement</p>
<p style="position:absolute;top:1086px;left:85px;white-space:nowrap" class="ft35913">•</p>
<p style="position:absolute;top:1084px;left:170px;white-space:nowrap" class="ft3597">Linux&#160;support&#160;by&#160;accessing&#160;TPM&#160;device&#160;file&#160;and</p>
<p style="position:absolute;top:1113px;left:85px;white-space:nowrap" class="ft35913">•</p>
<p style="position:absolute;top:1110px;left:170px;white-space:nowrap" class="ft3597">Windows Vista&#160;support&#160;by&#160;accessing&#160;Microsoft TBS.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3597">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3597">22/45</p>
</div>
<!-- Page 360 -->
<a name="360"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page360-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2360.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3607">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3607">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft3602">TSS&#160;Core Services&#160;(TCS)</p>
<p style="position:absolute;top:182px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:179px;left:170px;white-space:nowrap" class="ft3607">Parameter&#160;Block Generator (PBG)&#160;covering all&#160;1.2&#160;TPM functions</p>
<p style="position:absolute;top:208px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:205px;left:170px;white-space:nowrap" class="ft3607">C structure&#160;parser&#160;covering&#160;all 1.2&#160;TPM&#160;structures</p>
<p style="position:absolute;top:234px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:231px;left:170px;white-space:nowrap" class="ft3607">Authorization&#160;Manager&#160;(TPM&#160;1.1 and&#160;1.2&#160;support)</p>
<p style="position:absolute;top:260px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:257px;left:170px;white-space:nowrap" class="ft3607">Key Cache Manager&#160;(TPM 1.1 and 1.2 support)</p>
<p style="position:absolute;top:286px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:283px;left:170px;white-space:nowrap" class="ft3607">Event Manager (&#34;in&#160;memory&#34;&#160;event log)</p>
<p style="position:absolute;top:312px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:309px;left:170px;white-space:nowrap" class="ft3607">Persistent&#160;System&#160;Storage</p>
<p style="position:absolute;top:338px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:336px;left:170px;white-space:nowrap" class="ft3607">TCS Interface&#160;(TCSI)&#160;layer</p>
<p style="position:absolute;top:364px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:362px;left:170px;white-space:nowrap" class="ft3607">TCS&#160;system&#160;service&#160;with&#160;SOAP&#160;interface</p>
<p style="position:absolute;top:388px;left:85px;white-space:nowrap" class="ft3602">TSS&#160;Service Provider&#160;(TSP)</p>
<p style="position:absolute;top:418px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:416px;left:170px;white-space:nowrap" class="ft3607">TPM command authorization&#160;(OIAP,&#160;OSAP, …)&#160;and&#160;validation&#160;component</p>
<p style="position:absolute;top:444px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:442px;left:170px;white-space:nowrap" class="ft3607">TSS Service&#160;Provider Interface (TSPI)&#160;modified for&#160;Java&#160;use</p>
<p style="position:absolute;top:471px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:468px;left:170px;white-space:nowrap" class="ft3607">Attribute Functions&#160;(Get/SetAttrib)</p>
<p style="position:absolute;top:497px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:494px;left:170px;white-space:nowrap" class="ft3607">TPM (AIK&#160;creation,&#160;ownership,&#160;capabilities,&#160;event&#160;log,&#160;status,&#160;random&#160;data,&#160;quote,&#160;</p>
<p style="position:absolute;top:511px;left:170px;white-space:nowrap" class="ft3607">PCR extend,&#160;…)</p>
<p style="position:absolute;top:540px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:537px;left:170px;white-space:nowrap" class="ft3607">TSP Context (context management,&#160;object&#160;creation,&#160;selected&#160;PS functionality, …)</p>
<p style="position:absolute;top:566px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:563px;left:170px;white-space:nowrap" class="ft3607">Encrypted Data (Bind/Unbind,&#160;Seal/Unseal)</p>
<p style="position:absolute;top:592px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:590px;left:170px;white-space:nowrap" class="ft3607">Hash&#160;(hash&#160;computation,&#160;signature verification,&#160;…)</p>
<p style="position:absolute;top:619px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:616px;left:170px;white-space:nowrap" class="ft3607">RSA key&#160;(creation, loading, extracting,&#160;…)</p>
<p style="position:absolute;top:645px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:642px;left:170px;white-space:nowrap" class="ft3607">PcrComposite (selection, setting and&#160;getting&#160;PCRs including 1.2 features like l</p>
<p style="position:absolute;top:659px;left:170px;white-space:nowrap" class="ft3607">ocality,&#160;…)</p>
<p style="position:absolute;top:688px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:685px;left:170px;white-space:nowrap" class="ft3607">Policy&#160;(creating,&#160;managing and&#160;assigning&#160;policies)</p>
<p style="position:absolute;top:714px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:711px;left:170px;white-space:nowrap" class="ft3607">Time&#160;Stamping (TPM&#160;1.2&#160;only)</p>
<p style="position:absolute;top:740px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:738px;left:170px;white-space:nowrap" class="ft3607">NV&#160;Storage&#160;read&#160;access</p>
<p style="position:absolute;top:766px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:764px;left:170px;white-space:nowrap" class="ft3607">SOAP interface</p>
<p style="position:absolute;top:808px;left:85px;white-space:nowrap" class="ft36011"><b>3.3.2&#160;TSS&#160;Specified Features&#160;not included in this Release</b></p>
<p style="position:absolute;top:841px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:838px;left:170px;white-space:nowrap" class="ft3607">Delegation</p>
<p style="position:absolute;top:867px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:864px;left:170px;white-space:nowrap" class="ft3607">Key Migration and&#160;CMKs</p>
<p style="position:absolute;top:893px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:890px;left:170px;white-space:nowrap" class="ft3607">NV Storage (general&#160;support)</p>
<p style="position:absolute;top:919px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:916px;left:170px;white-space:nowrap" class="ft3607">TPM Maintenance&#160;(vendor&#160;specific)</p>
<p style="position:absolute;top:945px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:942px;left:170px;white-space:nowrap" class="ft3607">Monotonic&#160;Counters</p>
<p style="position:absolute;top:971px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:968px;left:170px;white-space:nowrap" class="ft3607">Revocable&#160;EKs and&#160;late&#160;EK&#160;creation</p>
<p style="position:absolute;top:997px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:994px;left:170px;white-space:nowrap" class="ft3607">Direct&#160;Anonymous Attestation&#160;(DAA)</p>
<p style="position:absolute;top:1023px;left:85px;white-space:nowrap" class="ft36013">•</p>
<p style="position:absolute;top:1020px;left:170px;white-space:nowrap" class="ft3607">Transport&#160;Sessions</p>
<p style="position:absolute;top:1065px;left:85px;white-space:nowrap" class="ft36011"><b>3.3.3&#160;Known Issues</b></p>
<p style="position:absolute;top:1095px;left:85px;white-space:nowrap" class="ft3604">As with&#160;all experimental&#160;software&#160;that&#160;is in early stages&#160;of&#160;development,&#160;also&#160;IAIK jTSS<br/>has&#160;some&#160;known&#160;issues.&#160;To make&#160;sure&#160;that&#160;these known&#160;problems&#160;do&#160;not&#160;become</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3607">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3607">23/45</p>
</div>
<!-- Page 361 -->
<a name="361"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page361-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2361.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3617">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3617">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft3614">pitfalls&#160;for you&#160;when&#160;developing&#160;Trusted&#160;Computing&#160;applications&#160;they&#160;are&#160;described<br/>here:</p>
<p style="position:absolute;top:201px;left:85px;white-space:nowrap" class="ft36113">•</p>
<p style="position:absolute;top:198px;left:170px;white-space:nowrap" class="ft3617">TSS_SECRET_MODE_NONE&#160;is currently&#160;not&#160;supported&#160;by&#160;IAIK&#160;jTSS. That means&#160;that&#160;</p>
<p style="position:absolute;top:216px;left:170px;white-space:nowrap" class="ft3617">e.g.&#160;key objects&#160;can not&#160;be created without&#160;specifying a secret. To&#160;work around&#160;this&#160;</p>
<p style="position:absolute;top:233px;left:170px;white-space:nowrap" class="ft3617">issue&#160;you&#160;can use the TSS_WELL_KNOWN_SECRET&#160;as the&#160;entity secret&#160;in such&#160;</p>
<p style="position:absolute;top:250px;left:170px;white-space:nowrap" class="ft3617">cases.</p>
<p style="position:absolute;top:295px;left:85px;white-space:nowrap" class="ft36111"><b>3.4&#160;Requirements</b></p>
<p style="position:absolute;top:343px;left:85px;white-space:nowrap" class="ft36111"><b>3.4.1&#160;Java&#160;(tm) Environment</b></p>
<p style="position:absolute;top:373px;left:85px;white-space:nowrap" class="ft3614">To&#160;use&#160;the IAIK&#160;jTSS you&#160;need&#160;to have&#160;a Sun&#160;Java&#160;(tm)&#160;Environment&#160;of&#160;version&#160;5&#160;or<br/>later. Earlier&#160;Java&#160;(tm)&#160;versions&#160;do&#160;not&#160;provide&#160;the&#160;required&#160;cryptographic<br/>functionality.&#160;Compatibility&#160;with&#160;other Java vendors&#160;is unknown&#160;and&#160;untested.</p>
<p style="position:absolute;top:457px;left:85px;white-space:nowrap" class="ft36111"><b>3.4.2&#160;JCE&#160;Unlimited Strength Jurisdiction&#160;Policy Files</b></p>
<p style="position:absolute;top:487px;left:85px;white-space:nowrap" class="ft3614">To&#160;make&#160;full&#160;use&#160;of&#160;the cryptographic&#160;capabilities&#160;of&#160;the JCE, the&#160;Unlimited Strength<br/>Jurisdiction&#160;Policy&#160;Files have to&#160;be installed.&#160;This&#160;is&#160;a&#160;requirement&#160;for&#160;the&#160;TSS to be<br/>able&#160;to&#160;handle&#160;TPM&#160;RSA&#160;keys.&#160;In&#160;case&#160;you&#160;experience&#160;errors&#160;like&#160;&#34;Illegal&#160;key size&#160;or<br/>default&#160;parameters&#34;&#160;chances&#160;are high&#160;that&#160;these&#160;policy&#160;files are&#160;not&#160;(or&#160;not correctly)<br/>installed.</p>
<p style="position:absolute;top:610px;left:85px;white-space:nowrap" class="ft36111"><b>3.4.3&#160;Hardware TPM or TPM Emulator for Linux</b></p>
<p style="position:absolute;top:639px;left:85px;white-space:nowrap" class="ft3614">To&#160;make&#160;use&#160;of IAIK jTSS&#160;you&#160;require&#160;either&#160;a&#160;hardware&#160;TPM&#160;or&#160;the&#160;TPM emulator&#160;from<br/>ETH Zurich&#160;TPM&#160;Emulator&#160;(https://developer.berlios.de/projects/tpm-emulator/).<br/>The&#160;TPM emulator is a&#160;software&#160;package&#160;for&#160;Linux operating&#160;systems&#160;providing&#160;TPM<br/>functionality&#160;as&#160;a&#160;pure&#160;software&#160;implementation.&#160;It is especially useful&#160;for&#160;testing&#160;and<br/>development&#160;on systems&#160;where&#160;no hardware&#160;TPM&#160;is&#160;available.&#160;The&#160;emulator&#160;consists<br/>of a&#160;Linux&#160;kernel module&#160;and&#160;a&#160;user&#160;space daemon&#160;implementing&#160;the&#160;actual&#160;TPM<br/>functionality.&#160;For&#160;details on&#160;how to&#160;set up&#160;and&#160;configure&#160;the TPM&#160;emulator&#160;please<br/>consult&#160;the documentation&#160;that&#160;is included&#160;in the emulator&#160;package.&#160;Note that&#160;the<br/>time&#160;stamping&#160;is not&#160;working&#160;correctly&#160;in&#160;TPM&#160;emulator&#160;0.5&#160;or&#160;earlier.<br/>In&#160;case&#160;you&#160;have&#160;a&#160;hardware&#160;TPM, you&#160;have&#160;to&#160;ensure&#160;that a&#160;proper&#160;Linux kernel<br/>driver&#160;for your&#160;TPM&#160;is loaded.&#160;Recent&#160;2.6&#160;kernels come with drivers&#160;for&#160;all major&#160;TPM<br/>manufacturers.&#160;For&#160;1.2&#160;TPMs,&#160;the TIS&#160;driver&#160;might&#160;be&#160;the&#160;way of choice&#160;to access your<br/>TPM.<br/>No matter&#160;if&#160;you are&#160;using&#160;a&#160;hardware&#160;TPM&#160;or the TPM&#160;emulator,&#160;a&#160;device&#160;file called<br/>/dev/tpm&#160;(or&#160;/dev/tpmX)&#160;will&#160;show&#160;up.&#160;If&#160;you&#160;do&#160;not&#160;have&#160;this&#160;file,&#160;the TPM&#160;can not&#160;be<br/>accessed&#160;by the TSS.</p>
<p style="position:absolute;top:999px;left:85px;white-space:nowrap" class="ft36111"><b>3.4.4&#160;Microsoft Windows Vista</b></p>
<p style="position:absolute;top:1029px;left:85px;white-space:nowrap" class="ft3614">The IAIK&#160;jTSS&#160;also&#160;includes&#160;support&#160;for&#160;Microsoft&#160;Windows&#160;Vista.&#160;In this&#160;case&#160;the&#160;TPM is<br/>accessed&#160;via&#160;the Trusted&#160;Base&#160;Services&#160;(TBS)&#160;of&#160;Vista.&#160;The&#160;TBS provide&#160;a very thin<br/>abstraction&#160;layer&#160;for&#160;TPM&#160;access.&#160;By&#160;default,&#160;Vista&#160;only&#160;comes with&#160;support&#160;for&#160;1.2<br/>TPMs.&#160;If your&#160;TPM is supported&#160;by&#160;Vista&#160;and&#160;if&#160;it&#160;can&#160;be accessed&#160;via the TBS,&#160;the IAIK<br/>jTSS&#160;should&#160;be&#160;able&#160;to&#160;communicate&#160;with&#160;your&#160;TPM&#160;on&#160;Vista&#160;systems.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3617">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3617">24/45</p>
</div>
<!-- Page 362 -->
<a name="362"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page362-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2362.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3627">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3627">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft3624">Note&#160;that&#160;the&#160;default&#160;configuration&#160;of&#160;Vista&#160;blocks some&#160;TPM&#160;commands&#160;at&#160;the TBS<br/>level.&#160;Among&#160;these&#160;are&#160;commands&#160;for quoting&#160;and&#160;PCR&#160;access.&#160;You have&#160;to&#160;use the<br/>group&#160;policy&#160;editor&#160;to unblock&#160;this functions.&#160;For&#160;details please&#160;refer&#160;to&#160;the&#160;Microsoft<br/>Technet&#160;(Vista&#160;TPM&#160;Functions&#160;(http://technet.microsoft.com/en-<br/>us/windowsvista/aa905092.aspx)).</p>
<p style="position:absolute;top:274px;left:85px;white-space:nowrap" class="ft36211"><b>3.5&#160;Setup and Usage</b></p>
<p style="position:absolute;top:304px;left:85px;white-space:nowrap" class="ft362178">There&#160;are&#160;two&#160;ways&#160;to&#160;operate the&#160;IAIK&#160;jTSS:<br/>•</p>
<p style="position:absolute;top:331px;left:170px;white-space:nowrap" class="ft3624">With local bindings,&#160;the TSP layer directly&#160;calls the TCS methods.&#160;This&#160;is&#160;well<br/>suited&#160;for&#160;development,&#160;experimenting&#160;and&#160;debugging.&#160;As a&#160;drawback,&#160;the&#160;<br/>Java&#160;VM&#160;must&#160;have&#160;proper&#160;access&#160;rights to&#160;the&#160;TPM device.&#160;We&#160;recommend&#160;<br/>you to&#160;use&#160;this&#160;to gain initial&#160;experience with&#160;IAIK jTSS.</p>
<p style="position:absolute;top:417px;left:85px;white-space:nowrap" class="ft3622">•</p>
<p style="position:absolute;top:417px;left:170px;white-space:nowrap" class="ft3624">With SOAP&#160;bindings,&#160;the TSP will&#160;call the TCS via a web&#160;service&#160;interface.&#160;<br/>The TCS will run&#160;as&#160;system&#160;service&#160;(daemon).&#160;Once installed,&#160;any&#160;<br/>unprivileged&#160;application&#160;can&#160;access&#160;it.</p>
<p style="position:absolute;top:483px;left:85px;white-space:nowrap" class="ft362178">In&#160;this&#160;chapter&#160;we&#160;discuss&#160;how&#160;to use&#160;the&#160;local&#160;bindings.&#160;You&#160;will&#160;find&#160;a&#160;detailed<br/>documentation&#160;on&#160;the SOAP bindings&#160;further&#160;below.<br/>IAIK&#160;jTSS&#160;comes in&#160;pre-compiled&#160;form.&#160;In the&#160;lib&#160;subdirectory,&#160;you&#160;will&#160;find&#160;four&#160;jar<br/>libraries:<br/>•</p>
<p style="position:absolute;top:577px;left:170px;white-space:nowrap" class="ft36214"><i>iaik_jtss_tsp.jar</i></p>
<p style="position:absolute;top:577px;left:296px;white-space:nowrap" class="ft3622">&#160;This&#160;is the TSS&#160;Service&#160;Provicer&#160;(TSP)&#160;library&#160;you&#160;have&#160;to&#160;</p>
<p style="position:absolute;top:596px;left:170px;white-space:nowrap" class="ft3624">include in the classpath&#160;of&#160;your&#160;Java&#160;(tm)&#160;applications&#160;to&#160;make use&#160;of&#160;the&#160;<br/>TPM.&#160;The TSP library&#160;provides&#160;the&#160;programming&#160;API&#160;to&#160;be&#160;used&#160;in&#160;<br/>applications&#160;when interacting&#160;with&#160;the&#160;TPM.</p>
<p style="position:absolute;top:663px;left:85px;white-space:nowrap" class="ft3622">•</p>
<p style="position:absolute;top:663px;left:170px;white-space:nowrap" class="ft36214"><i>iaik_jtss_tsp_soap.jar</i></p>
<p style="position:absolute;top:663px;left:344px;white-space:nowrap" class="ft3622">&#160;The library&#160;that&#160;provides&#160;the SOAP&#160;support&#160;for&#160;the&#160;TSP.</p>
<p style="position:absolute;top:690px;left:85px;white-space:nowrap" class="ft3622">•</p>
<p style="position:absolute;top:690px;left:170px;white-space:nowrap" class="ft36214"><i>iaik_jtss_tcs.jar</i></p>
<p style="position:absolute;top:690px;left:295px;white-space:nowrap" class="ft3622">&#160;This&#160;library&#160;contains&#160;the&#160;TSS Core&#160;Services&#160;(TCS).&#160;Typically,&#160;</p>
<p style="position:absolute;top:710px;left:170px;white-space:nowrap" class="ft3622">the TCS&#160;would&#160;run&#160;as&#160;an&#160;independent&#160;system&#160;service.&#160;Alternatively&#160;it&#160;can be</p>
<p style="position:absolute;top:729px;left:85px;white-space:nowrap" class="ft3622">l</p>
<p style="position:absolute;top:729px;left:170px;white-space:nowrap" class="ft3624">inked to&#160;your TC&#160;aware&#160;application&#160;just&#160;like&#160;the TSP&#160;library.&#160;Note&#160;that&#160;all&#160;TPM<br/>interaction&#160;is done&#160;via&#160;the&#160;TSP&#160;library.The&#160;TCS&#160;is not designed&#160;to&#160;be used&#160;<br/>directly&#160;in your&#160;applications.</p>
<p style="position:absolute;top:795px;left:85px;white-space:nowrap" class="ft3622">•</p>
<p style="position:absolute;top:795px;left:170px;white-space:nowrap" class="ft36214"><i>iaik_jtss_tcs_soap.jar</i></p>
<p style="position:absolute;top:795px;left:342px;white-space:nowrap" class="ft3622">&#160;The library&#160;that&#160;provides&#160;the SOAP&#160;support&#160;for&#160;the&#160;TCS.</p>
<p style="position:absolute;top:823px;left:85px;white-space:nowrap" class="ft3622">•</p>
<p style="position:absolute;top:823px;left:170px;white-space:nowrap" class="ft3622">Before&#160;use,&#160;a few basic&#160;settings&#160;need to&#160;be configured&#160;in&#160;</p>
<p style="position:absolute;top:823px;left:647px;white-space:nowrap" class="ft36214"><i>jtss_tcs.ini</i></p>
<p style="position:absolute;top:823px;left:732px;white-space:nowrap" class="ft3622">&#160;resp.&#160;</p>
<p style="position:absolute;top:842px;left:170px;white-space:nowrap" class="ft36214"><i>jtss_tsp.ini</i></p>
<p style="position:absolute;top:842px;left:257px;white-space:nowrap" class="ft3622">.&#160;The .ini&#160;files must&#160;reside&#160;in&#160;the&#160;same&#160;directory&#160;as the&#160;</p>
<p style="position:absolute;top:861px;left:170px;white-space:nowrap" class="ft3624">corresponding&#160;library&#160;file. For both&#160;libraries&#160;the persistent&#160;storage&#160;has to&#160;be&#160;<br/>configured.&#160;In&#160;addition,&#160;the binding&#160;interface between TSP&#160;and TCS must&#160;be&#160;<br/>set.&#160;The&#160;default&#160;are local&#160;bindings&#160;with the type&#160;set&#160;to&#160;</p>
<p style="position:absolute;top:919px;left:170px;white-space:nowrap" class="ft36214"><i>iaik.tc.tss.impl.java.tsp.TcTssLocalCallFactory</i></p>
<p style="position:absolute;top:919px;left:548px;white-space:nowrap" class="ft3622">.&#160;if you&#160;wish&#160;to use&#160;the&#160;SOAP&#160;I</p>
<p style="position:absolute;top:938px;left:170px;white-space:nowrap" class="ft3622">nterface, set it&#160;to&#160;</p>
<p style="position:absolute;top:938px;left:318px;white-space:nowrap" class="ft36214"><i>iaik.tc.tss.impl.java.tsp.TcTssSOAPCallFactory</i></p>
<p style="position:absolute;top:938px;left:697px;white-space:nowrap" class="ft3622">.</p>
<p style="position:absolute;top:966px;left:85px;white-space:nowrap" class="ft3624">Aside&#160;from&#160;linking&#160;these&#160;jar libraries&#160;to&#160;your TC aware&#160;application&#160;(which essentially<br/>means&#160;adding them to the classpath)&#160;there are no further&#160;setup&#160;steps&#160;required.<br/>In the&#160;src subdirectory&#160;you&#160;can&#160;find the entire&#160;source code of IAIK&#160;jTSS.&#160;Details&#160;on&#160;the<br/>organization&#160;of the&#160;source code are given&#160;in&#160;the&#160;</p>
<p style="position:absolute;top:1032px;left:488px;white-space:nowrap" class="ft362177">Technical Documentation</p>
<p style="position:absolute;top:1032px;left:699px;white-space:nowrap" class="ft3622">&#160;section.</p>
<p style="position:absolute;top:1060px;left:85px;white-space:nowrap" class="ft3621"><b>Test&#160;the&#160;TCS&#160;TSP&#160;communication&#160;under&#160;Linux.&#160;</b></p>
<p style="position:absolute;top:1060px;left:520px;white-space:nowrap" class="ft3622">You&#160;can test&#160;the&#160;TCS</p>
<p style="position:absolute;top:1079px;left:85px;white-space:nowrap" class="ft3622">implementation&#160;with:&#160;</p>
<p style="position:absolute;top:1084px;left:267px;white-space:nowrap" class="ft36216">user@localhost:jTSS$ sudo bash tests/run_tests.sh</p>
<p style="position:absolute;top:1108px;left:85px;white-space:nowrap" class="ft3622">Execute this&#160;test&#160;as root or&#160;adapt&#160;the&#160;access&#160;permissions&#160;to&#160;the TPM&#160;device&#160;if&#160;you&#160;use</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3627">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3627">25/45</p>
</div>
<!-- Page 363 -->
<a name="363"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page363-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2363.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3637">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3637">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft3632">local&#160;bindings.</p>
<p style="position:absolute;top:179px;left:85px;white-space:nowrap" class="ft3631"><b>Test&#160;the&#160;TCS&#160;TSP&#160;communication&#160;under&#160;Windows&#160;Vista.&#160;</b></p>
<p style="position:absolute;top:179px;left:607px;white-space:nowrap" class="ft3632">You&#160;can test the TCS</p>
<p style="position:absolute;top:198px;left:85px;white-space:nowrap" class="ft3632">implementation&#160;with:&#160;</p>
<p style="position:absolute;top:203px;left:267px;white-space:nowrap" class="ft36316">c:\&gt;jTSS&gt; tests\run_tests.cmd</p>
<p style="position:absolute;top:227px;left:85px;white-space:nowrap" class="ft3634">Execute&#160;this test&#160;from&#160;a&#160;command&#160;prompt&#160;with&#160;elevated&#160;administrative&#160;privileges if<br/>you&#160;use&#160;local&#160;bindings.</p>
<p style="position:absolute;top:292px;left:85px;white-space:nowrap" class="ft36311"><b>3.6&#160;API Documentations and&#160;Sample Code</b></p>
<p style="position:absolute;top:322px;left:85px;white-space:nowrap" class="ft3634">To&#160;get&#160;an&#160;overview&#160;of&#160;the&#160;concepts&#160;and&#160;the&#160;general&#160;API&#160;usage&#160;of a&#160;TSS&#160;it&#160;is<br/>recommended&#160;to consult&#160;the&#160;TSS&#160;Specification<br/>(https://www.trustedcomputinggroup.org/specs/TSS/).&#160;Additionally,&#160;the IAIK&#160;jTSS<br/>comes&#160;with&#160;a&#160;JavaDoc&#160;API&#160;documentation&#160;located&#160;in&#160;the&#160;doc&#160;subfolder.&#160;This<br/>documentation&#160;comes in&#160;two different&#160;flavours:&#160;The javadoc_all&#160;directory contains&#160;the<br/>JavaDoc&#160;for the entire&#160;IAIK&#160;jTSS.&#160;For developers that&#160;are&#160;only using&#160;the TSP&#160;layer and<br/>its highlevel&#160;API,&#160;the&#160;javadoc_tsp&#160;contains&#160;all relevant&#160;information.&#160;This&#160;documentation<br/>tree&#160;is a&#160;subset&#160;of&#160;the javadoc_all&#160;tree.&#160;It&#160;covers&#160;the&#160;TSP level API&#160;that&#160;is meant&#160;to&#160;be<br/>used&#160;by application&#160;developers.<br/>Additionally&#160;to the&#160;provided&#160;JavaDoc,&#160;some&#160;example&#160;code&#160;demonstrating&#160;the&#160;basic<br/>usage&#160;of IAIK&#160;jTSS&#160;is&#160;included&#160;in&#160;the src/jtss_tsp/src_tests&#160;subfolder.&#160;It contains&#160;a set&#160;of<br/>jUnit&#160;test&#160;cases&#160;which&#160;can&#160;be&#160;used&#160;as&#160;a&#160;basis&#160;for&#160;own developments.&#160;A&#160;precompiled<br/>version&#160;of this&#160;test code is located in the tests subfolder.&#160;A shell&#160;script&#160;to run&#160;the tests<br/>is included.</p>
<p style="position:absolute;top:626px;left:85px;white-space:nowrap" class="ft36311"><b>3.7&#160;Technical Documentation</b></p>
<p style="position:absolute;top:656px;left:85px;white-space:nowrap" class="ft3632">This section&#160;provides&#160;a&#160;brief overview&#160;of&#160;technical&#160;aspects of IAIK&#160;jTSS.</p>
<p style="position:absolute;top:702px;left:85px;white-space:nowrap" class="ft36311"><b>3.7.1&#160;&#160;Architecture&#160;Overview</b></p>
<p style="position:absolute;top:732px;left:85px;white-space:nowrap" class="ft3634">Conforming&#160;with&#160;the&#160;TCG&#160;TSS specification,&#160;IAIK jTSS&#160;consists&#160;of two major parts:&#160;The<br/>TSP and&#160;the&#160;TCS. The TSP&#160;library&#160;is the&#160;entity that provides&#160;application&#160;developers<br/>with&#160;an API&#160;that&#160;allows&#160;access to&#160;all&#160;the TPM functions.&#160;The&#160;TSP is designed&#160;to be<br/>linked to an&#160;application&#160;that&#160;wants&#160;to make&#160;use&#160;of&#160;a&#160;TPM.&#160;The TCS is intended&#160;to&#160;be<br/>the only entity&#160;that&#160;directly&#160;accesses&#160;the&#160;TPM. As&#160;a consequence,&#160;the&#160;TCS&#160;is&#160;meant&#160;to<br/>be implemented&#160;as&#160;a&#160;system service or&#160;daemon.&#160;It&#160;is&#160;responsible&#160;for creating&#160;the&#160;TPM<br/>command&#160;streams,&#160;TPM&#160;command&#160;serialization, TPM resource management,&#160;event log<br/>management&#160;and&#160;the system&#160;persistent&#160;storage.</p>
<p style="position:absolute;top:912px;left:85px;white-space:nowrap" class="ft36311"><b>3.7.2&#160;Source Code Overview</b></p>
<p style="position:absolute;top:942px;left:85px;white-space:nowrap" class="ft3632">The source&#160;code&#160;of IAIK&#160;jTSS&#160;is&#160;split&#160;into&#160;three parts:</p>
<p style="position:absolute;top:970px;left:85px;white-space:nowrap" class="ft3631"><b>TSS&#160;Service&#160;Provider&#160;(TSP).&#160;</b></p>
<p style="position:absolute;top:970px;left:347px;white-space:nowrap" class="ft3632">As&#160;mentioned&#160;in&#160;previous&#160;sections,&#160;the TSP is the&#160;part</p>
<p style="position:absolute;top:989px;left:85px;white-space:nowrap" class="ft3634">that&#160;provides&#160;application&#160;developers&#160;with&#160;an&#160;API&#160;for accessing&#160;TPM&#160;functionality.&#160;In<br/>IAIK&#160;jTSS&#160;the&#160;API&#160;part is defined&#160;as a set&#160;of interfaces&#160;located&#160;in&#160;the&#160;</p>
<p style="position:absolute;top:1013px;left:649px;white-space:nowrap" class="ft36316">iaik.tc.tss.api</p>
<p style="position:absolute;top:1029px;left:85px;white-space:nowrap" class="ft3632">package.&#160;The&#160;</p>
<p style="position:absolute;top:1033px;left:202px;white-space:nowrap" class="ft36316">iaik.tc.tss.impl</p>
<p style="position:absolute;top:1029px;left:360px;white-space:nowrap" class="ft3632">&#160;package&#160;holds the actual&#160;implementations&#160;of&#160;the</p>
<p style="position:absolute;top:1049px;left:85px;white-space:nowrap" class="ft3632">interfaces&#160;defined in the api&#160;package.&#160;The&#160;</p>
<p style="position:absolute;top:1054px;left:439px;white-space:nowrap" class="ft36316">impl</p>
<p style="position:absolute;top:1049px;left:479px;white-space:nowrap" class="ft3632">&#160;package&#160;holds sub&#160;packages</p>
<p style="position:absolute;top:1069px;left:85px;white-space:nowrap" class="ft3632">containing&#160;different&#160;types&#160;of&#160;TSP&#160;implementations.&#160;The&#160;</p>
<p style="position:absolute;top:1074px;left:547px;white-space:nowrap" class="ft36316">java</p>
<p style="position:absolute;top:1069px;left:586px;white-space:nowrap" class="ft3632">&#160;sub&#160;package&#160;e.g.&#160;contains</p>
<p style="position:absolute;top:1089px;left:85px;white-space:nowrap" class="ft3634">a TSP&#160;completely&#160;written in Java (tm).&#160;Other&#160;sub&#160;packages&#160;could e.g. contain<br/>implementations&#160;such as&#160;a JNI implementation&#160;that&#160;interfaces&#160;a TSP written in C like</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3637">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3637">26/45</p>
</div>
<!-- Page 364 -->
<a name="364"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page364-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2364.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3647">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3647">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft364178">the TrouSerS&#160;TSS.&#160;The key benefit&#160;of having&#160;split&#160;the&#160;API&#160;and&#160;the&#160;implementation&#160;is<br/>that&#160;the applications&#160;developed&#160;on&#160;top&#160;of&#160;the&#160;TSP can&#160;easily&#160;be switched&#160;from&#160;one<br/>underlying&#160;TSP&#160;implementation&#160;to another&#160;by&#160;simply&#160;changing&#160;the&#160;factory that creates<br/>TSP level&#160;objects.<br/>The layout&#160;of the TSP API&#160;package&#160;is like this:</p>
<p style="position:absolute;top:267px;left:85px;white-space:nowrap" class="ft36413">•</p>
<p style="position:absolute;top:270px;left:170px;white-space:nowrap" class="ft36477">iaik.tc.tss.api.tspi</p>
<p style="position:absolute;top:264px;left:332px;white-space:nowrap" class="ft3647">&#160;-&#160;contains&#160;the&#160;object&#160;oriented&#160;TSP&#160;interface&#160;of&#160;IAIK&#160;jTSS&#160;</p>
<p style="position:absolute;top:282px;left:170px;white-space:nowrap" class="ft3647">derived from&#160;the&#160;TSS&#160;specification.&#160;The package&#160;contains&#160;interfaces&#160;for all&#160;the&#160;</p>
<p style="position:absolute;top:300px;left:170px;white-space:nowrap" class="ft3647">object&#160;types like&#160;Context, TPM, RsaKey,&#160;Hash&#160;or&#160;EncData&#160;defined in&#160;the TSS&#160;spec.</p>
<p style="position:absolute;top:329px;left:85px;white-space:nowrap" class="ft36413">•</p>
<p style="position:absolute;top:331px;left:170px;white-space:nowrap" class="ft36477">iaik.tc.tss.api.structs.tsp</p>
<p style="position:absolute;top:326px;left:389px;white-space:nowrap" class="ft3647">&#160;-&#160;contains&#160;TSP level data&#160;structures&#160;as defined&#160;by&#160;the&#160;</p>
<p style="position:absolute;top:344px;left:170px;white-space:nowrap" class="ft3647">TSS spec</p>
<p style="position:absolute;top:373px;left:85px;white-space:nowrap" class="ft36413">•</p>
<p style="position:absolute;top:375px;left:170px;white-space:nowrap" class="ft36477">iaik.tc.tss.api.exceptions.tsp</p>
<p style="position:absolute;top:370px;left:413px;white-space:nowrap" class="ft3647">&#160;- contains&#160;TSP&#160;level&#160;exceptions</p>
<p style="position:absolute;top:399px;left:85px;white-space:nowrap" class="ft36413">•</p>
<p style="position:absolute;top:402px;left:170px;white-space:nowrap" class="ft36477">iaik.tc.tss.api.constants.tsp</p>
<p style="position:absolute;top:397px;left:405px;white-space:nowrap" class="ft3647">&#160;-&#160;contains&#160;TSP level constants and error codes</p>
<p style="position:absolute;top:423px;left:85px;white-space:nowrap" class="ft3641"><b>TSS&#160;Core Services&#160;(TCS).&#160;</b></p>
<p style="position:absolute;top:423px;left:321px;white-space:nowrap" class="ft3642">The TCS&#160;is the&#160;component&#160;that&#160;directly interacts&#160;with&#160;the</p>
<p style="position:absolute;top:442px;left:85px;white-space:nowrap" class="ft364178">TPM.&#160;In a&#160;typical&#160;TSS&#160;implementation,&#160;this&#160;component&#160;is&#160;a&#160;daemon&#160;or&#160;system&#160;service.<br/>The&#160;current&#160;implementation&#160;of&#160;the IAIK&#160;jTSS&#160;implements&#160;the&#160;TCS&#160;as a&#160;library.<br/>The layout&#160;of the TCS package&#160;is as&#160;follows:</p>
<p style="position:absolute;top:520px;left:85px;white-space:nowrap" class="ft36413">•</p>
<p style="position:absolute;top:523px;left:170px;white-space:nowrap" class="ft36477">iaik.tc.tss.impl.java.tcs.authmgr</p>
<p style="position:absolute;top:517px;left:437px;white-space:nowrap" class="ft3647">&#160;- This&#160;package&#160;contains&#160;the&#160;authorization&#160;</p>
<p style="position:absolute;top:535px;left:170px;white-space:nowrap" class="ft3647">manager component.&#160;It is&#160;responsible&#160;for&#160;the management of TPM auth&#160;sessions&#160;</p>
<p style="position:absolute;top:553px;left:170px;white-space:nowrap" class="ft3647">(caching&#160;and&#160;auth&#160;session swapping).&#160;It&#160;contains&#160;implementations for&#160;different&#160;TPM&#160;</p>
<p style="position:absolute;top:570px;left:170px;white-space:nowrap" class="ft3647">types&#160;and operating systems. These&#160;implementations&#160;are&#160;derived&#160;from a common&#160;</p>
<p style="position:absolute;top:588px;left:170px;white-space:nowrap" class="ft3647">base&#160;class. The actual&#160;implementation&#160;is&#160;selected&#160;based upon&#160;the systems&#160;TPM&#160;and&#160;</p>
<p style="position:absolute;top:605px;left:170px;white-space:nowrap" class="ft3647">OS&#160;version.</p>
<p style="position:absolute;top:634px;left:85px;white-space:nowrap" class="ft36413">•</p>
<p style="position:absolute;top:637px;left:170px;white-space:nowrap" class="ft36477">iaik.tc.tss.impl.java.tcs.credmgr</p>
<p style="position:absolute;top:631px;left:437px;white-space:nowrap" class="ft3647">&#160;-&#160;The&#160;credential manager contained in&#160;this&#160;</p>
<p style="position:absolute;top:649px;left:170px;white-space:nowrap" class="ft3647">package contains&#160;all&#160;functions related&#160;to&#160;credentials (e.g.&#160;extracting credentials&#160;</p>
<p style="position:absolute;top:667px;left:170px;white-space:nowrap" class="ft3647">from&#160;IFX&#160;TPMs&#160;or&#160;the&#160;MakeIdentity&#160;function).</p>
<p style="position:absolute;top:696px;left:85px;white-space:nowrap" class="ft36413">•</p>
<p style="position:absolute;top:698px;left:170px;white-space:nowrap" class="ft36477">iaik.tc.tss.impl.java.tcs.ctxmgr</p>
<p style="position:absolute;top:693px;left:429px;white-space:nowrap" class="ft3647">&#160;- This&#160;package&#160;contains&#160;the&#160;TCS context&#160;</p>
<p style="position:absolute;top:711px;left:170px;white-space:nowrap" class="ft364183">manager. The purpose of&#160;this component&#160;is&#160;to keep&#160;track&#160;of&#160;established&#160;TCS&#160;<br/>contexts.</p>
<p style="position:absolute;top:757px;left:85px;white-space:nowrap" class="ft36413">•</p>
<p style="position:absolute;top:760px;left:170px;white-space:nowrap" class="ft36477">iaik.tc.tss.impl.java.tcs.eventmgr</p>
<p style="position:absolute;top:754px;left:446px;white-space:nowrap" class="ft3647">&#160;-&#160;This&#160;package contains&#160;the event manager&#160;</p>
<p style="position:absolute;top:772px;left:170px;white-space:nowrap" class="ft3647">component of the TCS.&#160;The&#160;event&#160;manager&#160;is responsible&#160;for&#160;storing&#160;and&#160;managing&#160;</p>
<p style="position:absolute;top:790px;left:170px;white-space:nowrap" class="ft3647">TSS event log&#160;entries.</p>
<p style="position:absolute;top:819px;left:85px;white-space:nowrap" class="ft36413">•</p>
<p style="position:absolute;top:821px;left:170px;white-space:nowrap" class="ft36477">iaik.tc.tss.impl.java.tcs.kcmgr</p>
<p style="position:absolute;top:816px;left:421px;white-space:nowrap" class="ft3647">&#160;- This&#160;package&#160;contains&#160;the&#160;key cache&#160;manager.&#160;</p>
<p style="position:absolute;top:834px;left:170px;white-space:nowrap" class="ft3647">Some&#160;TPM&#160;implementations&#160;support&#160;key&#160;swapping&#160;in case the&#160;TPM&#160;key slots&#160;are&#160;</p>
<p style="position:absolute;top:851px;left:170px;white-space:nowrap" class="ft3647">depleted.&#160;The&#160;package&#160;contains&#160;implementations&#160;for&#160;different&#160;TPM&#160;versions.&#160;</p>
<p style="position:absolute;top:869px;left:170px;white-space:nowrap" class="ft3647">Additionally,&#160;this&#160;package holds code&#160;that&#160;manages&#160;all operations&#160;involving&#160;TPM&#160;</p>
<p style="position:absolute;top:886px;left:170px;white-space:nowrap" class="ft3647">keys.&#160;This&#160;includes&#160;the&#160;translation&#160;of&#160;TCS&#160;level&#160;key&#160;handles&#160;to&#160;TPM&#160;level&#160;key&#160;</p>
<p style="position:absolute;top:904px;left:170px;white-space:nowrap" class="ft3647">handles.</p>
<p style="position:absolute;top:933px;left:85px;white-space:nowrap" class="ft36413">•</p>
<p style="position:absolute;top:935px;left:170px;white-space:nowrap" class="ft36477">iaik.tc.tss.impl.java.tcs.pbg</p>
<p style="position:absolute;top:930px;left:405px;white-space:nowrap" class="ft3647">&#160;-&#160;This&#160;package contains&#160;the parameter&#160;block&#160;</p>
<p style="position:absolute;top:948px;left:170px;white-space:nowrap" class="ft364183">generator.&#160;This is&#160;the&#160;TSS&#160;component that&#160;creates&#160;the command&#160;byte streams&#160;that&#160;<br/>are&#160;sent&#160;to&#160;the&#160;TPM.</p>
<p style="position:absolute;top:994px;left:85px;white-space:nowrap" class="ft36413">•</p>
<p style="position:absolute;top:997px;left:170px;white-space:nowrap" class="ft36477">iaik.tc.tss.impl.java.tcs.sessmgr</p>
<p style="position:absolute;top:992px;left:437px;white-space:nowrap" class="ft3647">&#160;-&#160;This&#160;package&#160;provides&#160;session&#160;management as</p>
<p style="position:absolute;top:1010px;left:170px;white-space:nowrap" class="ft3647">defined&#160;in&#160;the&#160;1.2 TPM&#160;specification.</p>
<p style="position:absolute;top:1039px;left:85px;white-space:nowrap" class="ft36413">•</p>
<p style="position:absolute;top:1041px;left:170px;white-space:nowrap" class="ft36477">iaik.tc.tss.impl.java.tcs.tcsi</p>
<p style="position:absolute;top:1036px;left:413px;white-space:nowrap" class="ft3647">&#160;- This&#160;package&#160;contains&#160;the&#160;TCS interface&#160;(TCSI)&#160;</p>
<p style="position:absolute;top:1054px;left:170px;white-space:nowrap" class="ft3647">being the&#160;TCS API&#160;used&#160;by&#160;callers&#160;(such&#160;as&#160;the TSP).</p>
<p style="position:absolute;top:1083px;left:85px;white-space:nowrap" class="ft36413">•</p>
<p style="position:absolute;top:1085px;left:170px;white-space:nowrap" class="ft36477">iaik.tc.tss.impl.java.tcs.tddl</p>
<p style="position:absolute;top:1080px;left:413px;white-space:nowrap" class="ft3647">&#160;-&#160;This&#160;package&#160;contains&#160;the&#160;TDDL&#160;for&#160;different&#160;</p>
<p style="position:absolute;top:1098px;left:170px;white-space:nowrap" class="ft3647">operating&#160;systems.&#160;The TDDL&#160;is the&#160;layer&#160;that&#160;directly&#160;interacts&#160;with&#160;the&#160;TPM&#160;driver&#160;</p>
<p style="position:absolute;top:1115px;left:170px;white-space:nowrap" class="ft3647">(e.g.&#160;via a device&#160;file&#160;or&#160;some&#160;other OS specific&#160;mechanism).</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3647">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3647">27/45</p>
</div>
<!-- Page 365 -->
<a name="365"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page365-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2365.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3657">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3657">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft3651"><b>Common&#160;parts&#160;shared&#160;by&#160;TSP and&#160;TCS.&#160;</b></p>
<p style="position:absolute;top:151px;left:453px;white-space:nowrap" class="ft3652">There are&#160;several&#160;components&#160;that are</p>
<p style="position:absolute;top:170px;left:85px;white-space:nowrap" class="ft3654">required&#160;by&#160;both,&#160;the&#160;TSP&#160;and the&#160;TCS.&#160;Consequently,&#160;these&#160;components&#160;are&#160;located<br/>in&#160;a&#160;common&#160;source&#160;folder.&#160;The&#160;common&#160;components&#160;include e.g.&#160;constants&#160;for&#160;the<br/>TPM&#160;and&#160;TCS,&#160;TSS&#160;and&#160;TPM&#160;level structures, the&#160;persistent&#160;storage&#160;implementation,<br/>common&#160;crypto&#160;building blocks&#160;and utilities.<br/>The provided&#160;persistent&#160;storage&#160;(PS)&#160;implementation&#160;is to&#160;be considered&#160;a<br/>demonstrator,&#160;and&#160;should&#160;not be&#160;used&#160;in&#160;a production&#160;environment.&#160;It uses&#160;the OS&#160;file<br/>system&#160;(FS) as&#160;data&#160;repository.&#160;In&#160;the&#160;.ini&#160;files, two different&#160;directories&#160;for both<br/>storages&#160;(system&#160;and&#160;user)&#160;must&#160;be specified.&#160;There must&#160;be&#160;a single&#160;system&#160;storage<br/>for&#160;the TCS&#160;and&#160;a&#160;user&#160;storage&#160;for&#160;each&#160;user&#160;(for&#160;instance</p>
<p style="position:absolute;top:352px;left:85px;white-space:nowrap" class="ft36514"><i>/home/&lt;username&gt;/.tpm/user_storage</i></p>
<p style="position:absolute;top:352px;left:410px;white-space:nowrap" class="ft3652">).&#160;When&#160;ownership&#160;of the TPM is taken,&#160;the</p>
<p style="position:absolute;top:371px;left:85px;white-space:nowrap" class="ft3654">storage&#160;root&#160;key&#160;(SRK)&#160;will&#160;be stored&#160;in&#160;the&#160;system&#160;storage&#160;(without&#160;the&#160;private&#160;key<br/>part).<br/>Care&#160;must&#160;be taken&#160;with&#160;FS&#160;access rights&#160;to protect the&#160;storage.&#160;While&#160;the&#160;directory<br/>structure&#160;will automatically&#160;be&#160;created&#160;upon&#160;usage,&#160;it is&#160;a&#160;good&#160;idea&#160;to&#160;create the<br/>directories&#160;and&#160;set&#160;the permissions&#160;before&#160;starting&#160;jTSS.&#160;Depending&#160;on&#160;usage<br/>requirements&#160;a specific&#160;implementation&#160;might be&#160;necessary.&#160;Therefore,&#160;custom&#160;Java<br/>classes&#160;for&#160;persistent&#160;storage&#160;can&#160;be&#160;implemented&#160;and&#160;configured&#160;in the&#160;.ini&#160;files.&#160;Any<br/>implementation&#160;must&#160;implement the&#160;</p>
<p style="position:absolute;top:514px;left:395px;white-space:nowrap" class="ft36514"><i>iaik.tc.tss.impl.ps.TcITssPersistentStorage</i></p>
<p style="position:absolute;top:533px;left:85px;white-space:nowrap" class="ft3654">interface.<br/>Note, that&#160;in&#160;general&#160;the&#160;TSS&#160;specifications&#160;require&#160;the application programmer&#160;to<br/>take&#160;care&#160;that&#160;a&#160;valid&#160;key hierarchy&#160;is&#160;created and&#160;maintained in&#160;the storage.</p>
<p style="position:absolute;top:626px;left:85px;white-space:nowrap" class="ft36511"><b>3.8&#160;SOAP Bindings</b></p>
<p style="position:absolute;top:674px;left:85px;white-space:nowrap" class="ft36511"><b>3.8.1&#160;Introduction</b></p>
<p style="position:absolute;top:704px;left:85px;white-space:nowrap" class="ft3652">The&#160;</p>
<p style="position:absolute;top:709px;left:121px;white-space:nowrap" class="ft36516">Trusted Computing Group</p>
<p style="position:absolute;top:704px;left:349px;white-space:nowrap" class="ft3652">&#160;specifies&#160;the&#160;communication&#160;between the Trusted</p>
<p style="position:absolute;top:724px;left:85px;white-space:nowrap" class="ft3654">Core&#160;Service&#160;(TCS)&#160;and&#160;the&#160;Trusted&#160;Service&#160;Provider&#160;(TSP)&#160;in&#160;the TSS&#160;Specification<br/>(https://www.trustedcomputinggroup.org/specs/TSS/tss12_Header_File_final.zip).&#160;One<br/>of&#160;these ways of&#160;communication&#160;is&#160;the&#160;Simple&#160;Object&#160;Access Protocol&#160;(SOAP).&#160;It is an<br/>XML based&#160;protocol&#160;that&#160;provides&#160;additional&#160;functionality&#160;if compared&#160;to simple&#160;RPC<br/>calls. The&#160;interface&#160;of&#160;the communication&#160;is&#160;specified&#160;in&#160;an&#160;XML&#160;document&#160;called&#160;Web<br/>Service&#160;Definition&#160;Language&#160;(WSDL)&#160;file&#160;which&#160;defines the procedure&#160;calls and their<br/>according&#160;parameters.<br/>The TCS is a daemon&#160;that&#160;runs as a simple&#160;webserver&#160;and&#160;this package&#160;contains all<br/>necessary&#160;libraries&#160;for&#160;the entire&#160;SOAP&#160;communication.&#160;To&#160;specify&#160;parameters&#160;for&#160;the<br/>TCS and&#160;the&#160;TSP one can find&#160;further information&#160;in the&#160;</p>
<p style="position:absolute;top:906px;left:550px;white-space:nowrap" class="ft36514"><i>lib/*.ini</i></p>
<p style="position:absolute;top:906px;left:608px;white-space:nowrap" class="ft3652">&#160;files&#160;under section</p>
<p style="position:absolute;top:925px;left:85px;white-space:nowrap" class="ft36514"><i>[SOAP]</i></p>
<p style="position:absolute;top:925px;left:143px;white-space:nowrap" class="ft3652">.</p>
<p style="position:absolute;top:953px;left:85px;white-space:nowrap" class="ft3654">TSP&#160;and&#160;TCS need&#160;additional&#160;3rd&#160;party&#160;libraries&#160;that&#160;provide&#160;support&#160;for&#160;the SOAP<br/>communication.&#160;One&#160;can find&#160;a list with the&#160;versions&#160;and the according license&#160;model<br/>of these&#160;libraries&#160;in&#160;Section&#160;</p>
<p style="position:absolute;top:991px;left:316px;white-space:nowrap" class="ft36514"><i>&#34;Versions&#160;and Licences of the Required&#160;Libraries&#34;</i></p>
<p style="position:absolute;top:991px;left:725px;white-space:nowrap" class="ft3652">.</p>
<p style="position:absolute;top:1037px;left:85px;white-space:nowrap" class="ft36511"><b>3.8.2&#160;The Trusted Core Service under Linux</b></p>
<p style="position:absolute;top:1067px;left:85px;white-space:nowrap" class="ft3654">We&#160;use the&#160;Apache&#160;Commons&#160;Daemon&#160;Java library&#160;(Apache&#160;Daemon<br/>(http://commons.apache.org/downloads/download_daemon.cgi))&#160;to start the Java&#160;TCS<br/>as&#160;Linux&#160;system&#160;daemon.&#160;In Ubuntu,&#160;these libraries&#160;are&#160;called&#160;</p>
<p style="position:absolute;top:1105px;left:603px;white-space:nowrap" class="ft36514"><i>jsvc</i></p>
<p style="position:absolute;top:1105px;left:635px;white-space:nowrap" class="ft3652">&#160;and&#160;</p>
<p style="position:absolute;top:1105px;left:676px;white-space:nowrap" class="ft36514"><i>libcommons-</i></p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3657">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3657">28/45</p>
</div>
<!-- Page 366 -->
<a name="366"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft366184{font-size:14px;font-family:CourierNewPS;color:#000000;}
-->
</style>
<div id="page366-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2366.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3667">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3667">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft36614"><i>daemon-java</i></p>
<p style="position:absolute;top:151px;left:193px;white-space:nowrap" class="ft3662">&#160;and&#160;you can install&#160;them&#160;with the package&#160;manager.</p>
<p style="position:absolute;top:179px;left:85px;white-space:nowrap" class="ft3662">We provide&#160;a&#160;script called&#160;</p>
<p style="position:absolute;top:179px;left:305px;white-space:nowrap" class="ft36614"><i>tcs_daemon.sh</i></p>
<p style="position:absolute;top:179px;left:429px;white-space:nowrap" class="ft3662">&#160;in&#160;the&#160;</p>
<p style="position:absolute;top:184px;left:487px;white-space:nowrap" class="ft36616">soap</p>
<p style="position:absolute;top:179px;left:527px;white-space:nowrap" class="ft3662">&#160;directory of&#160;jTSS&#160;to start,&#160;restart,</p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft366178">and&#160;stop&#160;the&#160;TCS daemon.&#160;Ensure&#160;to&#160;have&#160;a proper&#160;working&#160;TPM&#160;and&#160;execute&#160;these<br/>scripts&#160;as&#160;root:<br/>&#160;Start the TCS as&#160;daemon&#160;</p>
<p style="position:absolute;top:274px;left:85px;white-space:nowrap" class="ft3667">&#160;</p>
<p style="position:absolute;top:274px;left:170px;white-space:nowrap" class="ft3667">Start&#160;the TCS,&#160;detach it&#160;from the&#160;terminal&#160;and display&#160;the debug output&#160;in the&#160;</p>
<p style="position:absolute;top:291px;left:170px;white-space:nowrap" class="ft366183">terminal. &#34;Detaching&#34; means that&#160;the&#160;TCS keeps running&#160;if&#160;the terminal terminates.&#160;<br/>Additionally,&#160;the debug output&#160;(Std&#160;and&#160;Err) can&#160;be&#160;found&#160;in&#160;the&#160;file&#160;</p>
<p style="position:absolute;top:309px;left:683px;white-space:nowrap" class="ft366179"><i>log/out.log</i></p>
<p style="position:absolute;top:309px;left:763px;white-space:nowrap" class="ft3667">.&#160;</p>
<p style="position:absolute;top:332px;left:170px;white-space:nowrap" class="ft36677">user@localhost:jTSS$ sudo bash soap/tcs_daemon.sh</p>
<p style="position:absolute;top:353px;left:85px;white-space:nowrap" class="ft3662">&#160;Stop the TCS&#160;daemon&#160;</p>
<p style="position:absolute;top:381px;left:85px;white-space:nowrap" class="ft3667">&#160;</p>
<p style="position:absolute;top:381px;left:170px;white-space:nowrap" class="ft3667">Stop&#160;the TCS daemon if it&#160;is&#160;running.&#160;</p>
<p style="position:absolute;top:386px;left:452px;white-space:nowrap" class="ft36677">user@localhost:jTSS$ sudo bash&#160;</p>
<p style="position:absolute;top:402px;left:170px;white-space:nowrap" class="ft36677">soap/tcs_daemon.sh stop</p>
<p style="position:absolute;top:423px;left:85px;white-space:nowrap" class="ft3662">&#160;Start&#160;the TCS&#160;but do&#160;not&#160;detach&#160;it&#160;from&#160;the&#160;terminal&#160;</p>
<p style="position:absolute;top:451px;left:85px;white-space:nowrap" class="ft3667">&#160;</p>
<p style="position:absolute;top:451px;left:170px;white-space:nowrap" class="ft3667">Display&#160;debugging&#160;information of the TCS and the entire SOAP&#160;communication&#160;in&#160;</p>
<p style="position:absolute;top:468px;left:170px;white-space:nowrap" class="ft3667">the&#160;terminal.&#160;You&#160;can&#160;terminate the&#160;TCS&#160;by&#160;pressing&#160;</p>
<p style="position:absolute;top:468px;left:570px;white-space:nowrap" class="ft366179"><i>&lt;Ctrl&gt;&#160;</i></p>
<p style="position:absolute;top:474px;left:626px;white-space:nowrap" class="ft366184"><i>C</i></p>
<p style="position:absolute;top:468px;left:635px;white-space:nowrap" class="ft3667">.&#160;</p>
<p style="position:absolute;top:474px;left:644px;white-space:nowrap" class="ft36677">user@localhost:jTSS$</p>
<p style="position:absolute;top:489px;left:170px;white-space:nowrap" class="ft36677">sudo bash soap/tcs_daemon.sh f</p>
<p style="position:absolute;top:510px;left:85px;white-space:nowrap" class="ft3662">&#160;Restart&#160;the TCS&#160;</p>
<p style="position:absolute;top:538px;left:85px;white-space:nowrap" class="ft3667">&#160;</p>
<p style="position:absolute;top:538px;left:170px;white-space:nowrap" class="ft3667">Stop&#160;the TCS if&#160;it&#160;is running&#160;and immediately start&#160;it again.&#160;</p>
<p style="position:absolute;top:543px;left:618px;white-space:nowrap" class="ft36677">Just start the TCS if&#160;</p>
<p style="position:absolute;top:559px;left:170px;white-space:nowrap" class="ft36677">it is not running. user@localhost:jTSS$ sudo bash soap/tcs_daemon.sh restart</p>
<p style="position:absolute;top:580px;left:85px;white-space:nowrap" class="ft3662">&#160;Print&#160;this&#160;document&#160;</p>
<p style="position:absolute;top:608px;left:85px;white-space:nowrap" class="ft3667">&#160;</p>
<p style="position:absolute;top:613px;left:170px;white-space:nowrap" class="ft36677">user@localhost:jTSS$ bash soap/tcs_daemon.sh help</p>
<p style="position:absolute;top:652px;left:85px;white-space:nowrap" class="ft36611"><b>3.8.3&#160;The Trusted Core Service under Windows Vista</b></p>
<p style="position:absolute;top:682px;left:85px;white-space:nowrap" class="ft3664">The TCS is installed&#160;as a&#160;Windows&#160;Service.&#160;Start a windows command&#160;prompt&#160;with<br/>elevated administrative&#160;privileges&#160;and&#160;navigate&#160;to&#160;the jTss&#160;directory.&#160;NOTE: If&#160;you&#160;log<br/>off&#160;or restart&#160;your&#160;machine&#160;the&#160;TCS will still&#160;run.&#160;Further,&#160;ensure&#160;to&#160;surround&#160;a&#160;user<br/>defined&#160;path&#160;with&#160;quotation&#160;marks&#160;if it contains&#160;any spaces&#160;</p>
<p style="position:absolute;top:740px;left:581px;white-space:nowrap" class="ft36614"><i>e.g.</i></p>
<p style="position:absolute;top:740px;left:612px;white-space:nowrap" class="ft3662">&#160;</p>
<p style="position:absolute;top:745px;left:618px;white-space:nowrap" class="ft36616">&#34;c:\this is a\path</p>
<p style="position:absolute;top:765px;left:85px;white-space:nowrap" class="ft36616">to my\script.bat&#34;</p>
<p style="position:absolute;top:760px;left:253px;white-space:nowrap" class="ft3662">.&#160;The delivered&#160;&#34;soap/ext_libs/prunsrv.exe&#34;,&#160;and</p>
<p style="position:absolute;top:780px;left:85px;white-space:nowrap" class="ft366178">&#34;soap/ext_libs/tcsdaemonw.exe&#34;&#160;are&#160;taken from&#160;the the Apache&#160;Tomcat&#160;servlet<br/>container&#160;and&#160;provide&#160;start,&#160;stop,&#160;and&#160;restart&#160;functionality.&#160;The&#160;licenses for&#160;both&#160;can<br/>be&#160;found&#160;at the&#160;Apache&#160;Tomcat&#160;Homepage&#160;(Tomcat&#160;License<br/>(http://www.apache.org/licenses/LICENSE-2.0)).<br/>&#160;Start the TCS as&#160;Windows Service&#160;</p>
<p style="position:absolute;top:894px;left:85px;white-space:nowrap" class="ft3667">&#160;</p>
<p style="position:absolute;top:894px;left:170px;white-space:nowrap" class="ft366183">This&#160;script&#160;installs&#160;and starts&#160;the&#160;TCS&#160;as&#160;a Windows Service.&#160;All debugging&#160;<br/>information is written to&#160;</p>
<p style="position:absolute;top:911px;left:356px;white-space:nowrap" class="ft366179"><i>log\out.txt</i></p>
<p style="position:absolute;top:911px;left:434px;white-space:nowrap" class="ft3667">&#160;and&#160;</p>
<p style="position:absolute;top:911px;left:472px;white-space:nowrap" class="ft366179"><i>log\err.txt</i></p>
<p style="position:absolute;top:911px;left:547px;white-space:nowrap" class="ft3667">.</p>
<p style="position:absolute;top:929px;left:170px;white-space:nowrap" class="ft3667">&#160;</p>
<p style="position:absolute;top:934px;left:175px;white-space:nowrap" class="ft36677">c:\&gt;jTSS&gt; soap\install.bat&#160;</p>
<p style="position:absolute;top:934px;left:425px;white-space:nowrap" class="ft36677">start</p>
<p style="position:absolute;top:955px;left:85px;white-space:nowrap" class="ft3662">&#160;Stop&#160;the&#160;TCS&#160;Windows&#160;Service&#160;</p>
<p style="position:absolute;top:983px;left:85px;white-space:nowrap" class="ft3667">&#160;</p>
<p style="position:absolute;top:983px;left:170px;white-space:nowrap" class="ft3667">This script&#160;stops the&#160;running TCS&#160;Windows&#160;Service. Keep&#160;in&#160;mind that&#160;it just&#160;stops&#160;</p>
<p style="position:absolute;top:1000px;left:170px;white-space:nowrap" class="ft3667">the&#160;Service&#160;and does not remove&#160;it&#160;from Windows'&#160;Service&#160;list.</p>
<p style="position:absolute;top:1018px;left:170px;white-space:nowrap" class="ft3667">&#160;</p>
<p style="position:absolute;top:1023px;left:175px;white-space:nowrap" class="ft36677">c:\&gt;jTSS&gt; soap\install.bat stop</p>
<p style="position:absolute;top:1045px;left:85px;white-space:nowrap" class="ft3662">&#160;Remove&#160;the TCS Windows&#160;Service&#160;</p>
<p style="position:absolute;top:1072px;left:85px;white-space:nowrap" class="ft3667">&#160;</p>
<p style="position:absolute;top:1072px;left:170px;white-space:nowrap" class="ft3667">If&#160;necessary,&#160;stop&#160;the&#160;TCS&#160;Service and&#160;remove&#160;it&#160;from&#160;Windows'&#160;Service&#160;list.&#160;</p>
<p style="position:absolute;top:1095px;left:170px;white-space:nowrap" class="ft36677">c:\&gt;jTSS&gt; soap\install.bat remove</p>
<p style="position:absolute;top:1116px;left:85px;white-space:nowrap" class="ft3662">&#160;Restart&#160;the TCS Windows&#160;Service&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3667">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3667">29/45</p>
</div>
<!-- Page 367 -->
<a name="367"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page367-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2367.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3677">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3677">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft3677">&#160;</p>
<p style="position:absolute;top:151px;left:170px;white-space:nowrap" class="ft367181">Stop&#160;and remove the&#160;Service&#160;if&#160;it is&#160;running&#160;and&#160;immediately&#160;start&#160;it&#160;again.&#160;If&#160;it&#160;is&#160;<br/>not&#160;running&#160;just&#160;start&#160;it.<br/>&#160;</p>
<p style="position:absolute;top:200px;left:175px;white-space:nowrap" class="ft36777">c:\&gt;jTSS&gt; soap\install.bat restart</p>
<p style="position:absolute;top:221px;left:85px;white-space:nowrap" class="ft3672">&#160;Print&#160;this&#160;document&#160;</p>
<p style="position:absolute;top:249px;left:85px;white-space:nowrap" class="ft3677">&#160;</p>
<p style="position:absolute;top:255px;left:170px;white-space:nowrap" class="ft36777">c:\&gt;jTSS&gt; soap\install.bat help</p>
<p style="position:absolute;top:294px;left:85px;white-space:nowrap" class="ft36711"><b>3.8.4&#160;SOAP Package Structure</b></p>
<p style="position:absolute;top:324px;left:85px;white-space:nowrap" class="ft3674">In&#160;the&#160;following&#160;we shortly&#160;describe&#160;the package&#160;structure of the&#160;SOAP<br/>implementation.</p>
<p style="position:absolute;top:374px;left:85px;white-space:nowrap" class="ft36713">•</p>
<p style="position:absolute;top:376px;left:170px;white-space:nowrap" class="ft36777">iaik.tc.tss.impl.java.tcs.soapservice.ConvertDataTypesServer.java</p>
<p style="position:absolute;top:371px;left:697px;white-space:nowrap" class="ft3677">&#160;-&#160;Translate&#160;</p>
<p style="position:absolute;top:389px;left:170px;white-space:nowrap" class="ft3677">the&#160;datatypes used in the&#160;SOAP protocol&#160;to&#160;the datatypes&#160;used&#160;by&#160;the&#160;TCS and vice&#160;</p>
<p style="position:absolute;top:406px;left:170px;white-space:nowrap" class="ft3677">versa.</p>
<p style="position:absolute;top:435px;left:85px;white-space:nowrap" class="ft36713">•</p>
<p style="position:absolute;top:438px;left:170px;white-space:nowrap" class="ft36777">iaik.tc.tss.impl.java.tcs.soapservice.TSSCoreServiceBindingImpl.java</p>
<p style="position:absolute;top:432px;left:721px;white-space:nowrap" class="ft3677">&#160;-&#160;</p>
<p style="position:absolute;top:450px;left:170px;white-space:nowrap" class="ft3677">Implement&#160;the wrapping of&#160;the&#160;TCS parameters to&#160;transport&#160;them&#160;via&#160;SOAP.</p>
<p style="position:absolute;top:479px;left:85px;white-space:nowrap" class="ft36713">•</p>
<p style="position:absolute;top:482px;left:170px;white-space:nowrap" class="ft36777">iaik.tc.tss.impl.java.tcs.soapservice.server.StartAxisServer.java</p>
<p style="position:absolute;top:476px;left:697px;white-space:nowrap" class="ft3677">&#160;- Start the&#160;</p>
<p style="position:absolute;top:494px;left:170px;white-space:nowrap" class="ft3677">AXIS&#160;Server&#160;that&#160;provides a SOAP&#160;interface for all TCS&#160;functions.</p>
<p style="position:absolute;top:523px;left:85px;white-space:nowrap" class="ft36713">•</p>
<p style="position:absolute;top:526px;left:170px;white-space:nowrap" class="ft36777">iaik.tc.tss.impl.java.tcs.soapservice.serverties</p>
<p style="position:absolute;top:520px;left:559px;white-space:nowrap" class="ft3677">&#160;- Contains&#160;the&#160;autogenerated&#160;</p>
<p style="position:absolute;top:538px;left:170px;white-space:nowrap" class="ft3677">Java&#160;files&#160;derived&#160;from&#160;the&#160;WSDL&#160;file.</p>
<p style="position:absolute;top:567px;left:85px;white-space:nowrap" class="ft36713">•</p>
<p style="position:absolute;top:570px;left:170px;white-space:nowrap" class="ft36777">iaik.tc.tss.impl.java.tsp.tcsbinding.soapservice.ConvertDataTypesClient.java</p>
<p style="position:absolute;top:565px;left:786px;white-space:nowrap" class="ft3677">&#160;-&#160;</p>
<p style="position:absolute;top:583px;left:170px;white-space:nowrap" class="ft367183">This class&#160;implements the same&#160;methods as&#160;the corresponding file&#160;<br/>ConvertDataTypesServer.java&#160;on&#160;the&#160;server&#160;side.</p>
<p style="position:absolute;top:629px;left:85px;white-space:nowrap" class="ft36713">•</p>
<p style="position:absolute;top:632px;left:170px;white-space:nowrap" class="ft36777">iaik.tc.tss.impl.java.tsp.tcsbinding.soapservice.ConvertRemoteExceptions.java</p>
<p style="position:absolute;top:626px;left:794px;white-space:nowrap" class="ft3677">&#160;-</p>
<p style="position:absolute;top:644px;left:170px;white-space:nowrap" class="ft3677">Unwrap&#160;the&#160;SOAP exceptions to&#160;get the&#160;nested&#160;TSS&#160;Exceptions.</p>
<p style="position:absolute;top:673px;left:85px;white-space:nowrap" class="ft36713">•</p>
<p style="position:absolute;top:676px;left:170px;white-space:nowrap" class="ft36777">iaik.tc.tss.impl.java.tsp.tcsbinding.soapservice.TcTcsBindingSoap.java</p>
<p style="position:absolute;top:670px;left:737px;white-space:nowrap" class="ft3677">&#160;-&#160;</p>
<p style="position:absolute;top:688px;left:170px;white-space:nowrap" class="ft3677">Unwrap&#160;the parameters&#160;received from the&#160;SOAP&#160;network to&#160;use it&#160;in&#160;the TSP.</p>
<p style="position:absolute;top:717px;left:85px;white-space:nowrap" class="ft36713">•</p>
<p style="position:absolute;top:720px;left:170px;white-space:nowrap" class="ft36777">iaik.tc.tss.impl.java.tsp.tcsbinding.soapservice.clientstubs</p>
<p style="position:absolute;top:714px;left:656px;white-space:nowrap" class="ft3677">&#160;- Contains&#160;the&#160;</p>
<p style="position:absolute;top:732px;left:170px;white-space:nowrap" class="ft3677">autogenerated&#160;Java&#160;files&#160;derived from the&#160;WSDL&#160;file.</p>
<p style="position:absolute;top:776px;left:85px;white-space:nowrap" class="ft36711"><b>3.8.5&#160;Generate the WSDL&#160;File</b></p>
<p style="position:absolute;top:807px;left:85px;white-space:nowrap" class="ft3674">As&#160;there&#160;are&#160;some&#160;missing&#160;functions&#160;in&#160;the&#160;WSDL&#160;files provided&#160;by&#160;(TSS&#160;Specification<br/>(https://www.trustedcomputinggroup.org/specs/TSS/tss12_Header_File_final.zip))&#160;we<br/>have&#160;to modify&#160;it. To&#160;do so,&#160;extract&#160;the&#160;</p>
<p style="position:absolute;top:845px;left:413px;white-space:nowrap" class="ft36714"><i>tcs.wsdl</i></p>
<p style="position:absolute;top:845px;left:480px;white-space:nowrap" class="ft3672">&#160;from&#160;(TSS&#160;Specification</p>
<p style="position:absolute;top:864px;left:85px;white-space:nowrap" class="ft3674">(https://www.trustedcomputinggroup.org/specs/TSS/tss12_Header_File_final.zip))&#160;and<br/>copy&#160;it&#160;to the&#160;</p>
<p style="position:absolute;top:883px;left:200px;white-space:nowrap" class="ft36714"><i>soap</i></p>
<p style="position:absolute;top:883px;left:240px;white-space:nowrap" class="ft3672">&#160;directory.&#160;Then apply&#160;the&#160;patch:&#160;</p>
<p style="position:absolute;top:888px;left:516px;white-space:nowrap" class="ft36716">user@localhost:jTSS/soap$</p>
<p style="position:absolute;top:907px;left:85px;white-space:nowrap" class="ft36716">patch -p0 tcs.wsdl tcs.wsdl.patch</p>
<p style="position:absolute;top:931px;left:85px;white-space:nowrap" class="ft3672">The patch&#160;process&#160;detects&#160;a previous&#160;patch&#160;of this file. Therefore&#160;press&#160;</p>
<p style="position:absolute;top:931px;left:680px;white-space:nowrap" class="ft36714"><i>y</i></p>
<p style="position:absolute;top:931px;left:689px;white-space:nowrap" class="ft3672">&#160;to&#160;apply&#160;the</p>
<p style="position:absolute;top:950px;left:85px;white-space:nowrap" class="ft367178">patch&#160;anyhow.<br/>Changes&#160;in the&#160;patched&#160;</p>
<p style="position:absolute;top:978px;left:287px;white-space:nowrap" class="ft36714"><i>tcs.wsdl</i></p>
<p style="position:absolute;top:978px;left:354px;white-space:nowrap" class="ft3672">&#160;are&#160;now clearly&#160;marked&#160;with</p>
<p style="position:absolute;top:1006px;left:85px;white-space:nowrap" class="ft367178">&lt;!--&#160;Begin:&#160;Additional&#160;implementation&#160;as&#160;it&#160;is<br/>&#160;&#160; &#160;&#160; &#160;&#160; &#160;&#160; not specified&#160;in the&#160;origin&#160;WSDL&#160;file&#160; &#160;&#160; &#160;&#160;--&gt;<br/>Here&#160;is&#160;the&#160;new&#160;code<br/>&lt;!--&#160;End:&#160; &#160;Additional&#160;implementation&#160;as&#160;it is<br/>&#160;&#160; &#160;&#160; &#160;&#160; &#160;&#160; not specified&#160;in the&#160;origin&#160;WSDL&#160;file&#160; &#160;&#160; &#160;&#160;--&gt;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3677">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3677">30/45</p>
</div>
<!-- Page 368 -->
<a name="368"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page368-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2368.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3687">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3687">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft36811"><b>3.8.6&#160;Generate SOAP Jars</b></p>
<p style="position:absolute;top:181px;left:85px;white-space:nowrap" class="ft3682">Use&#160;the&#160;</p>
<p style="position:absolute;top:181px;left:154px;white-space:nowrap" class="ft36814"><i>build.xml</i></p>
<p style="position:absolute;top:181px;left:230px;white-space:nowrap" class="ft3682">&#160;file&#160;in&#160;the&#160;</p>
<p style="position:absolute;top:181px;left:318px;white-space:nowrap" class="ft36814"><i>src</i></p>
<p style="position:absolute;top:181px;left:343px;white-space:nowrap" class="ft3682">&#160;directory&#160;to get the jar&#160;files for the jTss&#160;with&#160;SOAP</p>
<p style="position:absolute;top:200px;left:85px;white-space:nowrap" class="ft3682">support.&#160;</p>
<p style="position:absolute;top:205px;left:159px;white-space:nowrap" class="ft36816">user@localhost:jTSS/src$ ant jars_soap</p>
<p style="position:absolute;top:229px;left:85px;white-space:nowrap" class="ft3684">First,&#160;this task&#160;builds&#160;the&#160;complete&#160;jTSS&#160;Stack&#160;without&#160;any SOAP&#160;support.&#160;Then&#160;it<br/>creates the Java&#160;framework&#160;from&#160;the WSDL&#160;files and compiles&#160;these files. Finally,&#160;it<br/>generates&#160;two additional&#160;jar files:&#160;one for&#160;the&#160;SOAP&#160;support&#160;in&#160;the TCS&#160;and&#160;the&#160;other<br/>for&#160;the SOAP&#160;support&#160;in&#160;the&#160;TSP.</p>
<p style="position:absolute;top:333px;left:85px;white-space:nowrap" class="ft36811"><b>3.8.7&#160;Versions&#160;and Licences&#160;of the Required&#160;Libraries</b></p>
<p style="position:absolute;top:363px;left:85px;white-space:nowrap" class="ft3684">The following&#160;external&#160;libraries&#160;are&#160;required&#160;to&#160;start&#160;the&#160;TCS&#160;with&#160;SOAP&#160;support&#160;under<br/>Windows&#160;Vista&#160;and Linux&#160;OS.</p>
<p style="position:absolute;top:410px;left:85px;white-space:nowrap" class="ft36812"><b>1.&#160;</b></p>
<p style="position:absolute;top:410px;left:106px;white-space:nowrap" class="ft3687">JavaBeans Activation&#160;Framework Version&#160;1.1.1&#160;</p>
<p style="position:absolute;top:436px;left:159px;white-space:nowrap" class="ft3682">&#160;Download:&#160;</p>
<p style="position:absolute;top:436px;left:348px;white-space:nowrap" class="ft3684">&#160;<br/>&#160;Sun JavaBeans<br/>(http://java.sun.com/products/javabeans/jaf/downloa<br/>ds/index.html)&#160;</p>
<p style="position:absolute;top:558px;left:159px;white-space:nowrap" class="ft3682">&#160;License:&#160;</p>
<p style="position:absolute;top:558px;left:348px;white-space:nowrap" class="ft3684">&#160;<br/>&#160;Sun JavaBeans&#160;License<br/>(http://developers.sun.com/license/berkeley_license.<br/>html)&#160;</p>
<p style="position:absolute;top:679px;left:159px;white-space:nowrap" class="ft3682">&#160;Contains:&#160;</p>
<p style="position:absolute;top:679px;left:348px;white-space:nowrap" class="ft3682">&#160;</p>
<p style="position:absolute;top:707px;left:348px;white-space:nowrap" class="ft3687">&#160;</p>
<p style="position:absolute;top:707px;left:353px;white-space:nowrap" class="ft368179"><i>activation.jar</i></p>
<p style="position:absolute;top:707px;left:452px;white-space:nowrap" class="ft3687">&#160;</p>
<p style="position:absolute;top:789px;left:85px;white-space:nowrap" class="ft36812"><b>2.&#160;</b></p>
<p style="position:absolute;top:789px;left:106px;white-space:nowrap" class="ft3687">Axis&#160;Version 1.4 final&#160;</p>
<p style="position:absolute;top:815px;left:159px;white-space:nowrap" class="ft3682">&#160;Download:&#160;</p>
<p style="position:absolute;top:815px;left:348px;white-space:nowrap" class="ft368178">&#160;<br/>&#160;Apache&#160;Axis&#160;(http://ws.apache.org/axis/)&#160;</p>
<p style="position:absolute;top:899px;left:159px;white-space:nowrap" class="ft3682">&#160;License:&#160;</p>
<p style="position:absolute;top:899px;left:348px;white-space:nowrap" class="ft3684">&#160;<br/>&#160;Apache&#160;Axis&#160;License&#160;Version&#160;2<br/>(http://commons.apache.org/license.html)&#160;</p>
<p style="position:absolute;top:1001px;left:159px;white-space:nowrap" class="ft3682">&#160;Contains:&#160;</p>
<p style="position:absolute;top:1001px;left:348px;white-space:nowrap" class="ft3682">&#160;</p>
<p style="position:absolute;top:1029px;left:348px;white-space:nowrap" class="ft3687">&#160;</p>
<p style="position:absolute;top:1029px;left:353px;white-space:nowrap" class="ft368179"><i>axis-ant.jar</i></p>
<p style="position:absolute;top:1029px;left:437px;white-space:nowrap" class="ft3687">&#160;</p>
<p style="position:absolute;top:1035px;left:442px;white-space:nowrap" class="ft368184"><i>axis.jar</i></p>
<p style="position:absolute;top:1035px;left:507px;white-space:nowrap" class="ft36877">&#160;</p>
<p style="position:absolute;top:1029px;left:515px;white-space:nowrap" class="ft368179"><i>commons-discovery-0.2.jar</i></p>
<p style="position:absolute;top:1053px;left:348px;white-space:nowrap" class="ft368184"><i>commons-logging-1.0.4.jar</i></p>
<p style="position:absolute;top:1053px;left:551px;white-space:nowrap" class="ft36877">&#160;</p>
<p style="position:absolute;top:1047px;left:559px;white-space:nowrap" class="ft368179"><i>jaxrpc.jar</i></p>
<p style="position:absolute;top:1047px;left:629px;white-space:nowrap" class="ft3687">&#160;</p>
<p style="position:absolute;top:1053px;left:634px;white-space:nowrap" class="ft368184"><i>log4j-1.2.8.jar</i></p>
<p style="position:absolute;top:1065px;left:348px;white-space:nowrap" class="ft368179"><i>saaj.jar</i></p>
<p style="position:absolute;top:1065px;left:403px;white-space:nowrap" class="ft3687">&#160;</p>
<p style="position:absolute;top:1071px;left:408px;white-space:nowrap" class="ft368184"><i>wsdl4j-1.5.1.jar</i></p>
<p style="position:absolute;top:1071px;left:537px;white-space:nowrap" class="ft36877">&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3687">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3687">31/45</p>
</div>
<!-- Page 369 -->
<a name="369"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page369-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2369.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3697">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3697">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft36912"><b>3.&#160;</b></p>
<p style="position:absolute;top:151px;left:106px;white-space:nowrap" class="ft3697">Commons Daemon&#160;Version 1.0.1&#160;</p>
<p style="position:absolute;top:177px;left:159px;white-space:nowrap" class="ft3692">&#160;Download:&#160;</p>
<p style="position:absolute;top:177px;left:348px;white-space:nowrap" class="ft3694">&#160;<br/>&#160;Apache&#160;Daemon<br/>(http://commons.apache.org/downloads/download_d<br/>aemon.cgi)&#160;</p>
<p style="position:absolute;top:299px;left:159px;white-space:nowrap" class="ft3692">&#160;License:&#160;</p>
<p style="position:absolute;top:299px;left:348px;white-space:nowrap" class="ft3694">&#160;<br/>&#160;Apache&#160;Daemon&#160;License Version&#160;2<br/>(http://commons.apache.org/license.html)&#160;</p>
<p style="position:absolute;top:402px;left:159px;white-space:nowrap" class="ft3692">&#160;Contains:&#160;</p>
<p style="position:absolute;top:402px;left:348px;white-space:nowrap" class="ft3692">&#160;</p>
<p style="position:absolute;top:430px;left:348px;white-space:nowrap" class="ft3697">&#160;</p>
<p style="position:absolute;top:430px;left:353px;white-space:nowrap" class="ft369179"><i>commons-daemon.jar</i></p>
<p style="position:absolute;top:430px;left:517px;white-space:nowrap" class="ft3697">&#160;</p>
<p style="position:absolute;top:511px;left:85px;white-space:nowrap" class="ft36912"><b>4.&#160;</b></p>
<p style="position:absolute;top:511px;left:106px;white-space:nowrap" class="ft3697">JavaMail&#160;API&#160;Version&#160;1.4.1&#160;</p>
<p style="position:absolute;top:537px;left:159px;white-space:nowrap" class="ft3692">&#160;Download:&#160;</p>
<p style="position:absolute;top:537px;left:348px;white-space:nowrap" class="ft3694">&#160;<br/>&#160;Sun JavaMail<br/>(http://java.sun.com/products/javamail/)&#160;</p>
<p style="position:absolute;top:640px;left:159px;white-space:nowrap" class="ft3692">&#160;License:&#160;</p>
<p style="position:absolute;top:640px;left:348px;white-space:nowrap" class="ft3694">&#160;<br/>&#160;COMMON&#160;DEVELOPMENT&#160;AND&#160;DISTRIBUTION<br/>LICENSE&#160;(CDDL)<br/>(http://www.opensource.org/licenses/cddl1.php)&#160;</p>
<p style="position:absolute;top:762px;left:159px;white-space:nowrap" class="ft3692">&#160;Contains:&#160;</p>
<p style="position:absolute;top:762px;left:348px;white-space:nowrap" class="ft3692">&#160;</p>
<p style="position:absolute;top:790px;left:348px;white-space:nowrap" class="ft3697">&#160;</p>
<p style="position:absolute;top:790px;left:353px;white-space:nowrap" class="ft369179"><i>mail.jar</i></p>
<p style="position:absolute;top:790px;left:409px;white-space:nowrap" class="ft3697">&#160;</p>
<p style="position:absolute;top:890px;left:85px;white-space:nowrap" class="ft36911"><b>3.9&#160;Further&#160;Help</b></p>
<p style="position:absolute;top:920px;left:85px;white-space:nowrap" class="ft3694">This&#160;software&#160;is&#160;provided&#160;&#34;as&#160;is&#34;.&#160;However, a mailing list&#160;trustedjava-<br/>support@lists.sourceforge.net&#160;(mailto:trustedjava-support@lists.sourceforge.net)&#160;is<br/>maintained&#160;at&#160;Trusted&#160;Computing&#160;for the Java&#160;(tm)&#160;Platform&#160;(http://trustedjava.sf.net/)<br/>to assist&#160;users&#160;and&#160;to allow users&#160;to&#160;help&#160;each&#160;other. You&#160;are&#160;invited&#160;to join the<br/>discussion,&#160;but&#160;kindly&#160;take a look&#160;at&#160;the&#160;mailing&#160;list archive&#160;before&#160;posting&#160;a question.</p>
<p style="position:absolute;top:1042px;left:85px;white-space:nowrap" class="ft36911"><b>3.10&#160;Copyright Notice</b></p>
<p style="position:absolute;top:1072px;left:85px;white-space:nowrap" class="ft3694">The&#160;copyright&#160;for contents&#160;of&#160;the IAIK&#160;jTSS package,&#160;including&#160;all&#160;related<br/>documentation,&#160;is owned by IAIK (http://www.iaik.tugraz.at),&#160;Graz&#160;University&#160;of<br/>Technology.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3697">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3697">32/45</p>
</div>
<!-- Page 370 -->
<a name="370"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page370-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2370.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3707">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3707">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft3704">The&#160;API documentation&#160;(JavaDoc) is&#160;partially&#160;based&#160;on the descriptions&#160;and<br/>documentation&#160;contained&#160;in&#160;the&#160;TPM and&#160;TSS specifications&#160;of the TCG.&#160;Where<br/>possible,&#160;line&#160;numbers&#160;pointing&#160;to&#160;these&#160;specifications&#160;are&#160;included in&#160;the API<br/>documentation.</p>
<p style="position:absolute;top:254px;left:85px;white-space:nowrap" class="ft37011"><b>3.11&#160;Trademarks</b></p>
<p style="position:absolute;top:285px;left:85px;white-space:nowrap" class="ft3704">Java&#160;(tm)&#160;and&#160;all&#160;Java&#160;(tm) based&#160;marks&#160;are&#160;a trademark&#160;or registered&#160;trademark&#160;of<br/>Sun&#160;Microsystems,&#160;Inc, in the United States and&#160;other countries.&#160;All other&#160;trademarks<br/>and copyrights&#160;are&#160;property&#160;of their&#160;respective&#160;owners.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3707">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3707">33/45</p>
</div>
<!-- Page 371 -->
<a name="371"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page371-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2371.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3717">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3717">1.0</p>
<p style="position:absolute;top:219px;left:85px;white-space:nowrap" class="ft37111"><b>3.12&#160;Revision History</b></p>
<p style="position:absolute;top:250px;left:159px;white-space:nowrap" class="ft3712">&#160;date&#160;</p>
<p style="position:absolute;top:250px;left:269px;white-space:nowrap" class="ft3712">&#160;version&#160;</p>
<p style="position:absolute;top:250px;left:366px;white-space:nowrap" class="ft3712">&#160;comment&#160;</p>
<p style="position:absolute;top:279px;left:159px;white-space:nowrap" class="ft3712">&#160;2008/04/17&#160;&#160;0.3&#160;</p>
<p style="position:absolute;top:279px;left:366px;white-space:nowrap" class="ft3714">&#160;SOAP&#160;interface,&#160;NV&#160;read&#160;access,&#160;additional<br/>test&#160;cases,&#160;bug&#160;fixes&#160;</p>
<p style="position:absolute;top:328px;left:159px;white-space:nowrap" class="ft3712">&#160;2007/08/31&#160;&#160;0.2&#160;</p>
<p style="position:absolute;top:328px;left:366px;white-space:nowrap" class="ft3712">&#160;persistent&#160;storage,&#160;time&#160;stamping,&#160;bug&#160;fixes&#160;</p>
<p style="position:absolute;top:357px;left:159px;white-space:nowrap" class="ft3712">&#160;2007/04/24&#160;&#160;0.1&#160;</p>
<p style="position:absolute;top:357px;left:366px;white-space:nowrap" class="ft3712">&#160;initial&#160;release&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3717">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3717">34/45</p>
</div>
<!-- Page 372 -->
<a name="372"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page372-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2372.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3727">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3727">1.0</p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft37210"><b>4&#160;</b></p>
<p style="position:absolute;top:197px;left:117px;white-space:nowrap" class="ft37211"><b>jTSS Wrapper Usage and Installation&#160;Guidelines</b></p>
<p style="position:absolute;top:273px;left:85px;white-space:nowrap" class="ft37211"><b>4.1&#160;Introduction</b></p>
<p style="position:absolute;top:303px;left:85px;white-space:nowrap" class="ft3724">Trusted&#160;Computing,&#160;as&#160;specified&#160;by&#160;the&#160;Trusted Computing&#160;Group&#160;(TCG,<br/>http://www.trustedcomputinggroup.org/),&#160;comprises&#160;multiple&#160;layers of&#160;hard&#160;and<br/>software.&#160;While&#160;the&#160;hardware&#160;consists&#160;of&#160;the&#160;Trusted&#160;Platform&#160;Module&#160;(TPM)&#160;and<br/>related trusted&#160;building&#160;blocks,&#160;the&#160;main&#160;software&#160;components&#160;include the TPM<br/>hardware&#160;driver&#160;and&#160;a Trusted&#160;Software&#160;Stack&#160;(TSS).&#160;This&#160;TSS&#160;is typically&#160;developed&#160;in<br/>pure&#160;C&#160;and can therefore&#160;not&#160;directly be used&#160;from&#160;other languages&#160;such&#160;as&#160;Java&#160;(tm).<br/>For&#160;that&#160;reason,&#160;the&#160;IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;provides&#160;language&#160;bindings&#160;for&#160;Java<br/>(tm).&#160;The&#160;goal&#160;is to&#160;make&#160;the Trusted&#160;Service Provider&#160;Interface&#160;(TSPI)&#160;layer&#160;of the&#160;TSS<br/>stack&#160;available&#160;to&#160;Java&#160;(tm)&#160;developers,&#160;by&#160;wrapping&#160;a complete,&#160;functional&#160;system<br/>stack&#160;with&#160;a&#160;Java&#160;(tm)&#160;interface.</p>
<p style="position:absolute;top:503px;left:85px;white-space:nowrap" class="ft3727">Development of the IAIK/OpenTC jTSS&#160;Wrapper is supported by&#160;the European&#160;Commission&#160;as</p>
<p style="position:absolute;top:521px;left:85px;white-space:nowrap" class="ft3727">part&#160;of&#160;the OpenTC&#160;project&#160;(Ref.&#160;Nr.&#160;027635). For more&#160;information&#160;about the&#160;OpenTC project</p>
<p style="position:absolute;top:538px;left:85px;white-space:nowrap" class="ft3727">please&#160;refer&#160;to the&#160;</p>
<p style="position:absolute;top:538px;left:229px;white-space:nowrap" class="ft372182">OpenTC Project</p>
<p style="position:absolute;top:538px;left:345px;white-space:nowrap" class="ft3727">&#160;section&#160;below.</p>
<p style="position:absolute;top:564px;left:85px;white-space:nowrap" class="ft3724">The IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;is developed&#160;and maintained&#160;at&#160;the Institute for<br/>Applied&#160;Information&#160;Processing&#160;and&#160;Communication&#160;(Institut&#160;fuer&#160;Angewandte<br/>Informationsverarbeitung&#160;und&#160;Kommunikation,&#160;IAIK,&#160;http://www.iaik.tugraz.at/)&#160;at Graz<br/>University&#160;of Technology (http://www.tugraz.at/).</p>
<p style="position:absolute;top:668px;left:85px;white-space:nowrap" class="ft37211"><b>4.2&#160;OpenTC&#160;Project</b></p>
<p style="position:absolute;top:698px;left:85px;white-space:nowrap" class="ft372178">The Open&#160;Trusted Computing&#160;(OpenTC)&#160;consortium&#160;is an&#160;R&amp;D&#160;project&#160;focusing&#160;on the<br/>development&#160;of&#160;trusted&#160;and&#160;secure&#160;computing&#160;systems&#160;based&#160;on&#160;open&#160;source<br/>software. The project targets traditional&#160;computer&#160;platforms&#160;as&#160;well&#160;as&#160;embedded<br/>systems&#160;such&#160;as mobile&#160;phones.<br/>The goal&#160;of OpenTC&#160;is&#160;to&#160;reduce&#160;system-related&#160;threats,&#160;errors&#160;and&#160;malfunctions.&#160;The<br/>lack&#160;of&#160;platform&#160;security&#160;in&#160;today's&#160;computers&#160;has&#160;given&#160;rise to&#160;waves&#160;of successful<br/>attacks, resulting in severe&#160;damages&#160;to&#160;enterprises&#160;and potential&#160;failure&#160;of&#160;critical<br/>infrastructures.<br/>The&#160;OpenTC&#160;consortium&#160;will define&#160;and implement&#160;an open&#160;Trusted&#160;Computing<br/>framework.&#160;The&#160;architecture&#160;is based&#160;on&#160;security&#160;mechanisms&#160;provided&#160;by low&#160;level<br/>operating&#160;system&#160;layers with&#160;isolation properties&#160;and interfaces to&#160;Trusted Computing<br/>hardware.&#160;These&#160;layers&#160;make&#160;it possible&#160;to&#160;leverage&#160;enhanced&#160;trust&#160;and&#160;security<br/>properties&#160;of the platform&#160;for&#160;standard&#160;operating&#160;systems,&#160;middleware,&#160;and<br/>applications.<br/>For&#160;more&#160;information&#160;about&#160;the&#160;OpenTC project&#160;please&#160;refer to&#160;http://www.opentc.net/.</p>
<p style="position:absolute;top:1038px;left:85px;white-space:nowrap" class="ft37211"><b>4.3&#160;A&#160;Word&#160;of&#160;Caution</b></p>
<p style="position:absolute;top:1068px;left:85px;white-space:nowrap" class="ft3724">When&#160;experimenting&#160;with&#160;a&#160;real&#160;TPM,&#160;please&#160;keep&#160;in&#160;mind&#160;that&#160;the&#160;IAIK/OpenTC&#160;jTSS<br/>Wrapper&#160;is currently&#160;experimental&#160;software. If you are using your&#160;TPM in&#160;a&#160;real<br/>production&#160;environment,&#160;the&#160;use&#160;of the IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;is discouraged.&#160;No</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3727">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3727">35/45</p>
</div>
<!-- Page 373 -->
<a name="373"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page373-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2373.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3737">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3737">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft3734">guarantees&#160;for&#160;data&#160;protected&#160;by the TPM&#160;can&#160;be&#160;made.&#160;Use&#160;the software&#160;at&#160;your&#160;own<br/>risk!</p>
<p style="position:absolute;top:216px;left:85px;white-space:nowrap" class="ft37311"><b>4.4&#160;License</b></p>
<p style="position:absolute;top:246px;left:85px;white-space:nowrap" class="ft3732">The IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;is using&#160;a&#160;dual&#160;licensing&#160;model:</p>
<p style="position:absolute;top:277px;left:85px;white-space:nowrap" class="ft37313">•</p>
<p style="position:absolute;top:274px;left:170px;white-space:nowrap" class="ft373183">For&#160;Open&#160;Source&#160;development,&#160;the&#160;IAIK/OpenTC&#160;jTSS Wrapper&#160;is&#160;licensed&#160;under&#160;the&#160;<br/>terms of the GNU&#160;GPL version&#160;2. The&#160;full&#160;text&#160;of the&#160;GNU GPL v2&#160;is&#160;shipped with the&#160;</p>
<p style="position:absolute;top:309px;left:170px;white-space:nowrap" class="ft3737">product or&#160;can&#160;be&#160;found online at:&#160;http://www.gnu.org/licenses/gpl.html</p>
<p style="position:absolute;top:338px;left:85px;white-space:nowrap" class="ft37313">•</p>
<p style="position:absolute;top:335px;left:170px;white-space:nowrap" class="ft3737">In&#160;all&#160;other cases,&#160;the&#160;&#34;Stiftung&#160;SIC Java (tm)&#160;Crypto-Software&#160;Development&#160;Kit&#160;</p>
<p style="position:absolute;top:352px;left:170px;white-space:nowrap" class="ft3737">Licence&#160;Agreement&#34;&#160;applies.&#160;The&#160;full&#160;license text can&#160;be&#160;found online&#160;at:&#160;</p>
<p style="position:absolute;top:370px;left:170px;white-space:nowrap" class="ft3737">http://jce.iaik.tugraz.at/sic/sales/licences/commercial. For&#160;pricing and further&#160;</p>
<p style="position:absolute;top:387px;left:170px;white-space:nowrap" class="ft3737">information please contact mailto:jce-sales@iaik.at.</p>
<p style="position:absolute;top:431px;left:85px;white-space:nowrap" class="ft37311"><b>4.5&#160;IAIK/OpenTC jTSS Wrapper vs. IAIK jTSS</b></p>
<p style="position:absolute;top:462px;left:85px;white-space:nowrap" class="ft3734">Since&#160;version&#160;0.3,&#160;IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;is no&#160;longer&#160;a&#160;standalone&#160;package&#160;but&#160;it<br/>is an&#160;addon&#160;to&#160;the&#160;IAIK&#160;jTSS.&#160;IAIK&#160;jTSS&#160;is&#160;a TSS completely written using&#160;the Java (tm)<br/>programming&#160;language&#160;while&#160;IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;provides&#160;Java&#160;(tm)&#160;bindings<br/>for&#160;the TrouSerS&#160;TSS.&#160;To make&#160;switching&#160;between the wrapper&#160;and&#160;the full&#160;Java&#160;(tm)<br/>stack&#160;as&#160;simple&#160;as&#160;possible,&#160;both&#160;packages&#160;have&#160;to use&#160;the&#160;same&#160;API&#160;(TSP&#160;interface&#160;or<br/>TSPI).&#160;For&#160;that&#160;reason,&#160;IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;version&#160;0.3&#160;was modified&#160;to&#160;use&#160;the<br/>same&#160;top&#160;level&#160;API&#160;as&#160;the IAIK&#160;jTSS.&#160;As&#160;a consequence,&#160;applications&#160;developed&#160;for<br/>older&#160;version&#160;of&#160;IAIK/OpenTC jTSS&#160;Wrapper&#160;have&#160;to&#160;be modified&#160;to work&#160;with&#160;the&#160;new<br/>API.&#160;A&#160;porting&#160;guide is included&#160;with&#160;IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;that&#160;provides&#160;all<br/>required&#160;information&#160;for&#160;application&#160;porting.</p>
<p style="position:absolute;top:680px;left:85px;white-space:nowrap" class="ft37311"><b>4.6&#160;Technical Documentation</b></p>
<p style="position:absolute;top:710px;left:85px;white-space:nowrap" class="ft3734">This&#160;section&#160;deals&#160;with&#160;the&#160;technical&#160;aspects&#160;of the IAIK/OpenTC&#160;jTSS&#160;Wrapper.&#160;After<br/>outlining&#160;the basic&#160;architecture,&#160;this&#160;section&#160;deals&#160;with&#160;the requirements&#160;and&#160;the<br/>installation&#160;procedure.<br/>Development&#160;of&#160;the&#160;IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;is&#160;done&#160;under&#160;Linux&#160;using&#160;IBM's<br/>TrouSerS&#160;TSS&#160;stack (http://trousers.sourceforge.net/)&#160;and&#160;hardware&#160;TPMs&#160;as well&#160;as<br/>the&#160;TPM&#160;Emulator from ETH&#160;Zuerich&#160;(https://developer.berlios.de/projects/tpm-<br/>emulator/).&#160;Since&#160;all&#160;software&#160;components&#160;are&#160;publicly&#160;available&#160;they provide&#160;an&#160;ideal<br/>playground&#160;for&#160;everyone&#160;who is&#160;interested&#160;in&#160;getting&#160;a&#160;&#34;hands&#160;on&#34; experience&#160;with<br/>Trusted&#160;Computing&#160;even&#160;if there is no hardware&#160;TPM&#160;available.<br/>The&#160;following&#160;sections&#160;will also provide&#160;some&#160;instructions&#160;about&#160;how&#160;to install&#160;the&#160;TPM<br/>Emulator&#160;and&#160;the TrouSerS&#160;TSS&#160;stack.</p>
<p style="position:absolute;top:965px;left:85px;white-space:nowrap" class="ft37311"><b>4.6.1&#160;Current Status</b></p>
<p style="position:absolute;top:995px;left:85px;white-space:nowrap" class="ft3734">The IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;is currently&#160;considered&#160;almost&#160;feature&#160;complete&#160;with<br/>respect to the TSS 1.1 specification.&#160;That&#160;means that&#160;the&#160;TSPI&#160;layer of the&#160;TSS stack<br/>(TrouSerS)&#160;is fully made&#160;available&#160;to&#160;Java&#160;(tm)&#160;developers&#160;in an object oriented<br/>fashion.&#160;The only missing&#160;parts&#160;are&#160;the&#160;callback&#160;functions&#160;Tspicb_*. Those&#160;callback<br/>functions&#160;are&#160;not&#160;required&#160;to&#160;make&#160;full&#160;use of&#160;the TSS&#160;as they only&#160;provide&#160;a<br/>mechanism&#160;to&#160;customize&#160;the&#160;behavior&#160;of&#160;the TSS.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3737">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3737">36/45</p>
</div>
<!-- Page 374 -->
<a name="374"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page374-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2374.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3747">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3747">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft37411"><b>4.6.2&#160;Architecture</b></p>
<p style="position:absolute;top:181px;left:85px;white-space:nowrap" class="ft3744">The&#160;following&#160;table&#160;provides&#160;an outline of the architecture&#160;of&#160;IAIK/OpenTC&#160;jTSS<br/>Wrapper.&#160;The&#160;layers&#160;are&#160;described&#160;from&#160;the&#160;lowest&#160;layer,&#160;the&#160;TPM,&#160;upwards.</p>
<p style="position:absolute;top:230px;left:159px;white-space:nowrap" class="ft3742">Layer</p>
<p style="position:absolute;top:230px;left:327px;white-space:nowrap" class="ft3742">Comment</p>
<p style="position:absolute;top:259px;left:159px;white-space:nowrap" class="ft3742">&#160;jTSS&#160;TSP&#160;</p>
<p style="position:absolute;top:259px;left:327px;white-space:nowrap" class="ft3744">&#160;This&#160;is the&#160;layer&#160;actually used&#160;by&#160;developers.&#160;It is<br/>handwritten&#160;and&#160;implements&#160;the TSPI API&#160;as<br/>provided&#160;by the standalone&#160;IAIK&#160;jTSS&#160;thereby<br/>making&#160;switching&#160;between the&#160;wrapper&#160;and&#160;the<br/>standalone&#160;jTSS&#160;simple.&#160;</p>
<p style="position:absolute;top:365px;left:159px;white-space:nowrap" class="ft3742">&#160;JNI (Java&#160;(tm))&#160;</p>
<p style="position:absolute;top:365px;left:327px;white-space:nowrap" class="ft3744">This is&#160;a&#160;very&#160;thin&#160;layer that&#160;provides a flat&#160;Java<br/>(tm) interface&#160;of the underlying&#160;native&#160;interface.<br/>At&#160;this level&#160;you still&#160;have&#160;to cope&#160;with&#160;pointers<br/>and&#160;other low&#160;level aspects&#160;of&#160;the&#160;underlying&#160;C<br/>libraries.&#160;This&#160;layer is only&#160;used&#160;by the object<br/>oriented&#160;jTSS&#160;layer&#160;above.&#160;</p>
<p style="position:absolute;top:490px;left:159px;white-space:nowrap" class="ft3742">&#160;JNI (native&#160;C)&#160;</p>
<p style="position:absolute;top:490px;left:327px;white-space:nowrap" class="ft3744">&#160;The native&#160;C&#160;part&#160;of&#160;the JNI layer&#160;is&#160;largely<br/>generated with&#160;SWIG&#160;(http://www.swig.org/).&#160;The<br/>required&#160;SWIG interface&#160;files are&#160;include&#160;with&#160;the<br/>source&#160;or&#160;generated&#160;by&#160;a shell&#160;script&#160;from&#160;the TSS<br/>headers.&#160;</p>
<p style="position:absolute;top:597px;left:159px;white-space:nowrap" class="ft3742">&#160;TSS&#160;</p>
<p style="position:absolute;top:597px;left:327px;white-space:nowrap" class="ft3744">&#160;The native&#160;C&#160;TSS&#160;stack.&#160;The&#160;lowest&#160;layer&#160;of&#160;the<br/>TSS&#160;directly&#160;interacts&#160;with&#160;the TPM&#160;device driver<br/>while the&#160;highest&#160;layer&#160;provides the TSP interface.</p>
<p style="position:absolute;top:664px;left:159px;white-space:nowrap" class="ft3742">&#160;TPM&#160;device&#160;driver&#160;&#160;&#160;The device&#160;driver&#160;for&#160;the&#160;specific&#160;TPM.&#160;</p>
<p style="position:absolute;top:694px;left:159px;white-space:nowrap" class="ft3742">&#160;TPM&#160;</p>
<p style="position:absolute;top:694px;left:327px;white-space:nowrap" class="ft3744">&#160;The trusted&#160;platform&#160;module (hardware)&#160;forms<br/>the&#160;lowest&#160;layer.&#160;</p>
<p style="position:absolute;top:788px;left:85px;white-space:nowrap" class="ft37411"><b>4.6.3&#160;External Requirements</b></p>
<p style="position:absolute;top:818px;left:85px;white-space:nowrap" class="ft374178">&#160;TSS&#160;Stack&#160;<br/>&#160;</p>
<p style="position:absolute;top:846px;left:170px;white-space:nowrap" class="ft3744">As stated&#160;earlier,&#160;IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;was&#160;developed&#160;using&#160;IBM's&#160;<br/>TrouSerS&#160;TSS&#160;stack.&#160;At&#160;the&#160;time of this&#160;writing,&#160;TrouSerS&#160;is the&#160;only publicly&#160;<br/>available&#160;TSS&#160;stack&#160;for&#160;Linux.&#160;As a&#160;consequence,&#160;TrouSerS&#160;is&#160;a&#160;requirement&#160;<br/>to&#160;use&#160;the IAIK/OpenTC&#160;jTSS&#160;Wrapper.&#160;In&#160;theory,&#160;any other&#160;TSS stack&#160;that&#160;<br/>complies&#160;with the&#160;TCG specifications&#160;should&#160;work&#160;as&#160;well. However,&#160;this has&#160;<br/>not yet been&#160;tested&#160;and&#160;any feedback&#160;on&#160;this topic would&#160;be&#160;welcome.&#160;From<br/>IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;ver.&#160;0.3&#160;onwards&#160;at&#160;least&#160;TrouSerS&#160;0.2.9&#160;is&#160;<br/>required.</p>
<p style="position:absolute;top:1008px;left:85px;white-space:nowrap" class="ft374178">&#160;Hardware&#160;TPM or&#160;TPM&#160;Emulator&#160;<br/>&#160;</p>
<p style="position:absolute;top:1036px;left:170px;white-space:nowrap" class="ft3744">For&#160;development,&#160;a&#160;software&#160;TPM&#160;emulator&#160;as&#160;well&#160;as hardware&#160;TPMs&#160;have&#160;<br/>been&#160;used.&#160;Any&#160;hardware&#160;TPM&#160;should&#160;be supported,&#160;as&#160;long&#160;as a&#160;Linux&#160;<br/>Kernel&#160;driver&#160;is available&#160;for the TPM&#160;and&#160;the&#160;driver&#160;conforms&#160;with&#160;the&#160;<br/>interface&#160;expected&#160;by TrouSerS.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3747">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3747">37/45</p>
</div>
<!-- Page 375 -->
<a name="375"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page375-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2375.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3757">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3757">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft3752">&#160;Java&#160;(tm) JRE 1.5&#160;or&#160;above&#160;</p>
<p style="position:absolute;top:180px;left:85px;white-space:nowrap" class="ft3757">&#160;</p>
<p style="position:absolute;top:179px;left:170px;white-space:nowrap" class="ft3752">The IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;was&#160;developed&#160;for&#160;JRE 1.5&#160;and&#160;above.</p>
<p style="position:absolute;top:198px;left:85px;white-space:nowrap" class="ft3752">Moreover,&#160;</p>
<p style="position:absolute;top:198px;left:255px;white-space:nowrap" class="ft3752">unlimited&#160;strength&#160;encryption&#160;has&#160;to be&#160;enabled&#160;in the&#160;JRE.&#160;For</p>
<p style="position:absolute;top:217px;left:85px;white-space:nowrap" class="ft3752">more&#160;information&#160;</p>
<p style="position:absolute;top:217px;left:255px;white-space:nowrap" class="ft3752">refer&#160;to: http://java.sun.com/j2se/1.5.0/download.jsp#docs.&#160;If&#160;you</p>
<p style="position:absolute;top:237px;left:85px;white-space:nowrap" class="ft3752">see an&#160;error&#160;</p>
<p style="position:absolute;top:237px;left:255px;white-space:nowrap" class="ft3752">message&#160;like&#160;</p>
<p style="position:absolute;top:237px;left:369px;white-space:nowrap" class="ft3751"><b>Illegal&#160;key&#160;size or&#160;default&#160;parameters</b></p>
<p style="position:absolute;top:237px;left:718px;white-space:nowrap" class="ft3752">&#160;this&#160;is an</p>
<p style="position:absolute;top:256px;left:85px;white-space:nowrap" class="ft3752">indication that&#160;</p>
<p style="position:absolute;top:256px;left:255px;white-space:nowrap" class="ft3752">unlimited&#160;strength encryption&#160;is not&#160;enabled on&#160;your&#160;system.</p>
<p style="position:absolute;top:284px;left:85px;white-space:nowrap" class="ft375178">&#160;IAIK&#160;jTSS TSP library&#160;<br/>&#160;</p>
<p style="position:absolute;top:311px;left:170px;white-space:nowrap" class="ft3752">Since&#160;IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;and&#160;the IAIK&#160;jTSS&#160;share&#160;the same&#160;top level</p>
<p style="position:absolute;top:331px;left:85px;white-space:nowrap" class="ft3754">API,&#160;the&#160;&#160;IAIK&#160;jTSS&#160;TSP&#160;library&#160;is required&#160;to use&#160;IAIK/OpenTC jTSS&#160;Wrapper.&#160;IAIK&#160;jTSS<br/>can&#160;be&#160;</p>
<p style="position:absolute;top:350px;left:170px;white-space:nowrap" class="ft3754">downloaded&#160;from&#160;http://trustedjava.sf.net/.&#160;The&#160;IAIK&#160;jTSS&#160;TSP library&#160;<br/>(iaik_jtss_tsp.jar)&#160;can&#160;be&#160;found in&#160;the&#160;</p>
<p style="position:absolute;top:374px;left:480px;white-space:nowrap" class="ft37516">lib</p>
<p style="position:absolute;top:369px;left:510px;white-space:nowrap" class="ft3752">&#160;folder.&#160;It has&#160;to&#160;be&#160;copied&#160;into&#160;the</p>
<p style="position:absolute;top:394px;left:85px;white-space:nowrap" class="ft37516">ext_libs</p>
<p style="position:absolute;top:389px;left:164px;white-space:nowrap" class="ft3752">&#160;folder&#160;of the IAIK/OpenTC&#160;jTSS&#160;Wrapper.</p>
<p style="position:absolute;top:418px;left:85px;white-space:nowrap" class="ft375178">&#160;GCC&#160;Toolchain&#160;<br/>&#160;</p>
<p style="position:absolute;top:446px;left:170px;white-space:nowrap" class="ft3754">To&#160;compile&#160;the&#160;native C&#160;part&#160;of the JNI&#160;interface,&#160;a&#160;C&#160;compiler&#160;and linker is&#160;<br/>required.&#160;GCC is usually&#160;a part&#160;of&#160;Linux&#160;distributions.</p>
<p style="position:absolute;top:493px;left:85px;white-space:nowrap" class="ft375178">&#160;SWIG&#160;(optional)&#160;<br/>&#160;</p>
<p style="position:absolute;top:521px;left:170px;white-space:nowrap" class="ft3754">If you&#160;want&#160;to&#160;re-create&#160;the&#160;C&#160;and&#160;Java&#160;(tm)&#160;JNI&#160;glue&#160;code&#160;SWIG&#160;is&#160;required.&#160;<br/>Note&#160;that&#160;IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;already&#160;comes&#160;with&#160;pre-generated&#160;JNI&#160;<br/>glue&#160;code.&#160;In&#160;many&#160;cases,&#160;SWIG&#160;can&#160;be&#160;installed&#160;using&#160;the package&#160;<br/>management&#160;of your&#160;Linux Distribution.</p>
<p style="position:absolute;top:606px;left:85px;white-space:nowrap" class="ft375178">&#160;JUnit&#160;(optional)&#160;<br/>&#160;</p>
<p style="position:absolute;top:634px;left:170px;white-space:nowrap" class="ft3754">JUnit&#160;is required&#160;if&#160;you&#160;want&#160;run&#160;the test cases&#160;provided&#160;with&#160;the&#160;<br/>IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;package.&#160;JUnit&#160;can&#160;be&#160;downloaded&#160;from&#160;<br/>http://www.junit.org/.</p>
<p style="position:absolute;top:718px;left:85px;white-space:nowrap" class="ft37511"><b>4.6.4&#160;Compiling and Installing</b></p>
<p style="position:absolute;top:748px;left:85px;white-space:nowrap" class="ft3754">This&#160;section will&#160;guide you&#160;through&#160;the build&#160;and&#160;installation&#160;process.&#160;It&#160;covers&#160;the&#160;TPM<br/>Emulator&#160;from&#160;ETH,&#160;the&#160;TrouSerS&#160;TSS stack&#160;and&#160;finally&#160;the IAIK/OpenTC&#160;jTSS&#160;Wrapper.</p>
<p style="position:absolute;top:813px;left:85px;white-space:nowrap" class="ft37512"><b>4.6.4.1&#160;Building and Installing&#160;the TPM&#160;Emulator</b></p>
<p style="position:absolute;top:840px;left:85px;white-space:nowrap" class="ft3754">If you&#160;have&#160;a hardware&#160;TPM you&#160;can&#160;skip&#160;this&#160;step&#160;(but&#160;you&#160;have&#160;to&#160;make&#160;sure&#160;that<br/>you have&#160;a hardware&#160;driver&#160;installed&#160;for&#160;your&#160;TPM&#160;that is compatible&#160;with&#160;TrouSerS).</p>
<p style="position:absolute;top:890px;left:85px;white-space:nowrap" class="ft37513">•</p>
<p style="position:absolute;top:887px;left:170px;white-space:nowrap" class="ft3757">download&#160;the&#160;sources&#160;(v0.5 or&#160;above)&#160;from:&#160;</p>
<p style="position:absolute;top:904px;left:170px;white-space:nowrap" class="ft3757">https://developer.berlios.de/projects/tpm-emulator/</p>
<p style="position:absolute;top:933px;left:85px;white-space:nowrap" class="ft37513">•</p>
<p style="position:absolute;top:930px;left:170px;white-space:nowrap" class="ft3757">unpack&#160;the sources:&#160;</p>
<p style="position:absolute;top:936px;left:327px;white-space:nowrap" class="ft37577">tar zxf tpm_emulator-0.5.tar.gz</p>
<p style="position:absolute;top:960px;left:85px;white-space:nowrap" class="ft37513">•</p>
<p style="position:absolute;top:957px;left:170px;white-space:nowrap" class="ft3757">enclosed&#160;you will&#160;find&#160;a&#160;README&#160;file that&#160;describes&#160;the&#160;next&#160;steps</p>
<p style="position:absolute;top:986px;left:85px;white-space:nowrap" class="ft37513">•</p>
<p style="position:absolute;top:983px;left:170px;white-space:nowrap" class="ft3757">build&#160;and&#160;install&#160;the TPM emulator&#160;according to&#160;the README</p>
<p style="position:absolute;top:1027px;left:85px;white-space:nowrap" class="ft37512"><b>4.6.4.2&#160;Building and Installing&#160;the TrouSerS TSS stack</b></p>
<p style="position:absolute;top:1056px;left:85px;white-space:nowrap" class="ft37513">•</p>
<p style="position:absolute;top:1054px;left:170px;white-space:nowrap" class="ft3757">download&#160;the&#160;sources&#160;(v0.2.9.0&#160;or v0.2.9.1)&#160;from:&#160;http://trousers.sourceforge.net/</p>
<p style="position:absolute;top:1083px;left:85px;white-space:nowrap" class="ft37513">•</p>
<p style="position:absolute;top:1080px;left:170px;white-space:nowrap" class="ft3757">Note: this&#160;release is not compatible with TrouSerS&#160;0.3.x.</p>
<p style="position:absolute;top:1109px;left:85px;white-space:nowrap" class="ft37513">•</p>
<p style="position:absolute;top:1106px;left:170px;white-space:nowrap" class="ft3757">unpack&#160;the sources:&#160;</p>
<p style="position:absolute;top:1111px;left:327px;white-space:nowrap" class="ft37577">tar zxf trousers-0.2.9.tar.gz</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3757">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3757">38/45</p>
</div>
<!-- Page 376 -->
<a name="376"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page376-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2376.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3767">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3767">1.0</p>
<p style="position:absolute;top:154px;left:85px;white-space:nowrap" class="ft37613">•</p>
<p style="position:absolute;top:151px;left:170px;white-space:nowrap" class="ft3767">enclosed&#160;you will&#160;find&#160;a&#160;README&#160;file that&#160;describes&#160;the&#160;next&#160;steps</p>
<p style="position:absolute;top:180px;left:85px;white-space:nowrap" class="ft37613">•</p>
<p style="position:absolute;top:177px;left:170px;white-space:nowrap" class="ft376183">if&#160;you use&#160;a TPM version&#160;1.2 you&#160;need&#160;to&#160;apply&#160;IAIK's TPM&#160;1.2&#160;Patch for TrouSerS&#160;<br/>0.2.9 before&#160;building.&#160;It is available from the&#160;http://trustedjava.sf.net/.</p>
<p style="position:absolute;top:224px;left:85px;white-space:nowrap" class="ft37613">•</p>
<p style="position:absolute;top:221px;left:170px;white-space:nowrap" class="ft3767">build&#160;and install the&#160;TrouSerS&#160;TSS&#160;stack according&#160;to the README</p>
<p style="position:absolute;top:265px;left:85px;white-space:nowrap" class="ft37612"><b>4.6.4.3&#160;Building and Installing&#160;the IAIK/OpenTC&#160;jTSS Wrapper</b></p>
<p style="position:absolute;top:291px;left:85px;white-space:nowrap" class="ft376178">This section&#160;provides&#160;a&#160;step&#160;by step&#160;guide of&#160;the&#160;build process&#160;of&#160;the&#160;&#34;partially<br/>prebuilt&#34;&#160;version&#160;of the&#160;IAIK/OpenTC&#160;jTSS&#160;Wrapper.<br/>unpack&#160;the source&#160;and&#160;change&#160;into&#160;the&#160;source&#160;folder&#160;</p>
<p style="position:absolute;top:343px;left:528px;white-space:nowrap" class="ft37616">+tar jxf</p>
<p style="position:absolute;top:363px;left:85px;white-space:nowrap" class="ft37616">jTssWrapper_0.3.tar.bz2</p>
<p style="position:absolute;top:359px;left:313px;white-space:nowrap" class="ft3762">&#160;</p>
<p style="position:absolute;top:363px;left:318px;white-space:nowrap" class="ft37616">+cd jTssWrapper_0.3</p>
<p style="position:absolute;top:359px;left:506px;white-space:nowrap" class="ft3762">&#160;customizing&#160;the&#160;Makefile: Open&#160;the</p>
<p style="position:absolute;top:379px;left:85px;white-space:nowrap" class="ft3762">Makefile&#160;with&#160;your favorite&#160;text editor and&#160;customize&#160;the following&#160;options:</p>
<p style="position:absolute;top:409px;left:85px;white-space:nowrap" class="ft37613">•</p>
<p style="position:absolute;top:412px;left:170px;white-space:nowrap" class="ft37677">JDK_INC_PATH</p>
<p style="position:absolute;top:407px;left:267px;white-space:nowrap" class="ft3767">&#160;has&#160;to&#160;point&#160;to&#160;the&#160;include&#160;folder&#160;of&#160;your&#160;JDK</p>
<p style="position:absolute;top:436px;left:85px;white-space:nowrap" class="ft37613">•</p>
<p style="position:absolute;top:439px;left:170px;white-space:nowrap" class="ft37677">GCC</p>
<p style="position:absolute;top:433px;left:194px;white-space:nowrap" class="ft3767">&#160;has&#160;to&#160;point&#160;to your C&#160;compiler&#160;(typically&#160;gcc&#160;is&#160;already installed&#160;on most&#160;Linux&#160;</p>
<p style="position:absolute;top:451px;left:170px;white-space:nowrap" class="ft3767">distributions)</p>
<p style="position:absolute;top:480px;left:85px;white-space:nowrap" class="ft37613">•</p>
<p style="position:absolute;top:483px;left:170px;white-space:nowrap" class="ft37677">LD</p>
<p style="position:absolute;top:477px;left:186px;white-space:nowrap" class="ft3767">&#160;has&#160;to&#160;point to your linker</p>
<p style="position:absolute;top:504px;left:85px;white-space:nowrap" class="ft376178">Now save&#160;and close&#160;the Makefile.<br/>building&#160;the native library&#160;with&#160;</p>
<p style="position:absolute;top:537px;left:344px;white-space:nowrap" class="ft37616">make</p>
<p style="position:absolute;top:561px;left:85px;white-space:nowrap" class="ft376178">note:&#160;For&#160;linking, it&#160;is&#160;assumed&#160;that&#160;the&#160;libtspi&#160;library&#160;of TrouSerS&#160;is located&#160;in&#160;a&#160;path<br/>known&#160;to&#160;your&#160;linker.&#160;Otherwise&#160;you&#160;might&#160;want&#160;to set&#160;the&#160;LD_LIBRARY_PATH<br/>environment&#160;variable&#160;accordingly.<br/>Note: you can&#160;re-generate&#160;the prebuilt swig&#160;interface&#160;with&#160;</p>
<p style="position:absolute;top:632px;left:572px;white-space:nowrap" class="ft37616">make full</p>
<p style="position:absolute;top:627px;left:661px;white-space:nowrap" class="ft3762">.</p>
<p style="position:absolute;top:656px;left:85px;white-space:nowrap" class="ft3762">At&#160;this point&#160;you should&#160;now&#160;have&#160;a file called&#160;</p>
<p style="position:absolute;top:661px;left:471px;white-space:nowrap" class="ft37616">libtspiwrapper.so</p>
<p style="position:absolute;top:656px;left:640px;white-space:nowrap" class="ft3762">&#160;in the&#160;output/lib</p>
<p style="position:absolute;top:676px;left:85px;white-space:nowrap" class="ft3762">folder.&#160;For&#160;testing&#160;the setup,&#160;please&#160;proceed&#160;to&#160;the&#160;</p>
<p style="position:absolute;top:676px;left:513px;white-space:nowrap" class="ft376177">Testing the&#160;Setup</p>
<p style="position:absolute;top:676px;left:659px;white-space:nowrap" class="ft3762">&#160;section&#160;below.</p>
<p style="position:absolute;top:722px;left:85px;white-space:nowrap" class="ft37612"><b>4.6.4.4&#160;IAIK jTSS&#160;TSP Library</b></p>
<p style="position:absolute;top:748px;left:85px;white-space:nowrap" class="ft3762">Please&#160;ensure&#160;that&#160;you&#160;have downloaded&#160;the&#160;IAIK&#160;jTSS&#160;TSP library&#160;(see&#160;</p>
<p style="position:absolute;top:748px;left:677px;white-space:nowrap" class="ft376177">External</p>
<p style="position:absolute;top:768px;left:85px;white-space:nowrap" class="ft376177">Requirements</p>
<p style="position:absolute;top:768px;left:201px;white-space:nowrap" class="ft3762">).&#160;The IAIK&#160;jTSS&#160;TSP&#160;library&#160;has to&#160;be copied&#160;from&#160;the&#160;</p>
<p style="position:absolute;top:772px;left:645px;white-space:nowrap" class="ft37616">lib</p>
<p style="position:absolute;top:768px;left:674px;white-space:nowrap" class="ft3762">&#160;folder&#160;of&#160;the</p>
<p style="position:absolute;top:788px;left:85px;white-space:nowrap" class="ft3762">IAIK jTSS&#160;to the&#160;</p>
<p style="position:absolute;top:793px;left:217px;white-space:nowrap" class="ft37616">ext_libs</p>
<p style="position:absolute;top:788px;left:296px;white-space:nowrap" class="ft3762">&#160;folder&#160;of&#160;the IAIK/OpenTC&#160;jTSS&#160;Wrapper.</p>
<p style="position:absolute;top:835px;left:85px;white-space:nowrap" class="ft37612"><b>4.6.4.5&#160;Testing the&#160;Setup</b></p>
<p style="position:absolute;top:861px;left:85px;white-space:nowrap" class="ft3764">The IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;is shipped&#160;together&#160;with&#160;a set&#160;of&#160;unit tests&#160;which can<br/>be found&#160;in the&#160;</p>
<p style="position:absolute;top:885px;left:216px;white-space:nowrap" class="ft37616">tsp_tests</p>
<p style="position:absolute;top:880px;left:305px;white-space:nowrap" class="ft3762">&#160;folder.&#160;The unit&#160;test come&#160;already&#160;as&#160;a jar.&#160;This&#160;section</p>
<p style="position:absolute;top:901px;left:85px;white-space:nowrap" class="ft3764">describes&#160;how&#160;to start&#160;the individual&#160;components&#160;to&#160;be able&#160;to&#160;run&#160;the&#160;unit&#160;tests.&#160;It is<br/>assumed&#160;that&#160;the&#160;TPM emulator&#160;is&#160;used.&#160;If&#160;you&#160;are&#160;using&#160;a hardware&#160;TPM simply&#160;skip<br/>the steps&#160;involving&#160;the&#160;emulator.</p>
<p style="position:absolute;top:967px;left:85px;white-space:nowrap" class="ft3761"><b>WARNING:</b></p>
<p style="position:absolute;top:967px;left:183px;white-space:nowrap" class="ft3762">&#160;If&#160;you&#160;are&#160;not&#160;using&#160;the&#160;TPM emulator,&#160;please&#160;note&#160;that&#160;the&#160;jUnit tests</p>
<p style="position:absolute;top:986px;left:85px;white-space:nowrap" class="ft376178">include also&#160;test code for&#160;the TakeOwnership&#160;operation&#160;where&#160;an&#160;owner&#160;password&#160;(for<br/>instance&#160;&#34;opentc&#34;)&#160;is set.&#160;The TakeOwnership&#160;operation will&#160;fail&#160;if&#160;there is&#160;already&#160;an<br/>owner&#160;set.&#160;It&#160;is generally&#160;NOT&#160;recommended&#160;to&#160;run&#160;the&#160;test&#160;suite&#160;on a&#160;TPM&#160;that&#160;is<br/>actually&#160;used&#160;in&#160;a&#160;production&#160;system&#160;with&#160;sensitive&#160;data&#160;protected&#160;by&#160;the&#160;TPM.<br/>Before&#160;the&#160;unit tests can&#160;be&#160;run,&#160;the TPM&#160;emulator&#160;Kernel&#160;module&#160;has&#160;to&#160;be&#160;loaded:</p>
<p style="position:absolute;top:1103px;left:85px;white-space:nowrap" class="ft37616">modprobe tpmd_dev</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3767">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3767">39/45</p>
</div>
<!-- Page 377 -->
<a name="377"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page377-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2377.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3777">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3777">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft3772">In&#160;the&#160;next&#160;step&#160;start&#160;the&#160;userspace&#160;part&#160;of the&#160;TPM Emulator:</p>
<p style="position:absolute;top:182px;left:85px;white-space:nowrap" class="ft37716">tpmd -f clear</p>
<p style="position:absolute;top:206px;left:85px;white-space:nowrap" class="ft377178">Please&#160;note,&#160;that it&#160;might&#160;be required&#160;to&#160;unload&#160;TPM hardware&#160;drivers&#160;loaded&#160;by your<br/>distribution&#160;since they&#160;might conflict&#160;with&#160;your&#160;distribution.<br/>After&#160;loading&#160;the&#160;emulator,&#160;a new device&#160;node&#160;</p>
<p style="position:absolute;top:258px;left:475px;white-space:nowrap" class="ft37716">/dev/tpm</p>
<p style="position:absolute;top:253px;left:554px;white-space:nowrap" class="ft3772">&#160;should&#160;show&#160;up.&#160;Depending</p>
<p style="position:absolute;top:273px;left:85px;white-space:nowrap" class="ft3774">on&#160;distribution,&#160;you&#160;might&#160;need&#160;to create the following&#160;symlink&#160;to&#160;make&#160;the&#160;TrouSerS<br/>TSS work&#160;with the&#160;emulator:</p>
<p style="position:absolute;top:324px;left:85px;white-space:nowrap" class="ft37716">ln -s /dev/tpm /dev/tpm0</p>
<p style="position:absolute;top:348px;left:85px;white-space:nowrap" class="ft3774">As&#160;a next&#160;step, the Trusted Core&#160;Services&#160;Daemon&#160;tcsd&#160;of&#160;the TrouSerS&#160;TSS has&#160;to&#160;be<br/>started&#160;(-f for&#160;foreground):</p>
<p style="position:absolute;top:398px;left:85px;white-space:nowrap" class="ft37716">tcsd -f</p>
<p style="position:absolute;top:422px;left:85px;white-space:nowrap" class="ft3774">The tcsd&#160;binary&#160;is&#160;assumed&#160;to be&#160;located&#160;in&#160;the&#160;PATH&#160;of&#160;your&#160;shell.<br/>Finally,&#160;to&#160;start&#160;the unit&#160;tests change&#160;into&#160;the&#160;IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;folder&#160;and<br/>enter&#160;the&#160;following&#160;command:</p>
<p style="position:absolute;top:500px;left:85px;white-space:nowrap" class="ft37716">make run_tests</p>
<p style="position:absolute;top:524px;left:85px;white-space:nowrap" class="ft3777">This will&#160;run&#160;the&#160;JUnit&#160;test&#160;suit.&#160;If&#160;all&#160;goes well, the test&#160;run should&#160;conclude&#160;with a statement</p>
<p style="position:absolute;top:542px;left:85px;white-space:nowrap" class="ft3777">like:&#160;</p>
<p style="position:absolute;top:547px;left:121px;white-space:nowrap" class="ft37777">OK (52 tests)</p>
<p style="position:absolute;top:542px;left:227px;white-space:nowrap" class="ft3777">.</p>
<p style="position:absolute;top:568px;left:85px;white-space:nowrap" class="ft3774">In&#160;case&#160;you&#160;want&#160;to&#160;clear&#160;the&#160;persistent&#160;storage&#160;of the TrouSerS&#160;TSS&#160;(which&#160;might<br/>happen&#160;from&#160;time&#160;to&#160;time&#160;when doing&#160;tests and&#160;development),&#160;you&#160;have&#160;to&#160;delete the<br/>following&#160;file&#160;(default&#160;location):</p>
<p style="position:absolute;top:638px;left:85px;white-space:nowrap" class="ft37716">/usr/local/var/lib/tpm/system.data</p>
<p style="position:absolute;top:680px;left:85px;white-space:nowrap" class="ft37712"><b>4.6.4.6&#160;Summary of components</b></p>
<p style="position:absolute;top:706px;left:85px;white-space:nowrap" class="ft3774">This&#160;section presents&#160;a&#160;summary&#160;of the&#160;of&#160;the most&#160;important&#160;parts&#160;of the<br/>IAIK/OpenTC&#160;jTSS Wrapper&#160;distribution.</p>
<p style="position:absolute;top:756px;left:85px;white-space:nowrap" class="ft37713">•</p>
<p style="position:absolute;top:753px;left:170px;white-space:nowrap" class="ft37712"><b>src_tsp:</b></p>
<p style="position:absolute;top:753px;left:236px;white-space:nowrap" class="ft3777">&#160;source of&#160;the&#160;object oriented&#160;API</p>
<p style="position:absolute;top:782px;left:85px;white-space:nowrap" class="ft37713">•</p>
<p style="position:absolute;top:779px;left:170px;white-space:nowrap" class="ft37712"><b>src_tsp_test:</b></p>
<p style="position:absolute;top:779px;left:277px;white-space:nowrap" class="ft3777">&#160;JUnit&#160;test&#160;code</p>
<p style="position:absolute;top:808px;left:85px;white-space:nowrap" class="ft37713">•</p>
<p style="position:absolute;top:806px;left:170px;white-space:nowrap" class="ft37712"><b>output/jars:</b></p>
<p style="position:absolute;top:806px;left:270px;white-space:nowrap" class="ft3777">&#160;JAR archives of the lowlevel&#160;JNI&#160;classes (iaik_jtss_wrapper_swig.jar),&#160;</p>
<p style="position:absolute;top:823px;left:170px;white-space:nowrap" class="ft3777">the&#160;highlevel&#160;object oriented&#160;API classes (iaik_jtss_wrapper.jar) and&#160;test&#160;classes&#160;</p>
<p style="position:absolute;top:841px;left:170px;white-space:nowrap" class="ft3777">(iaik_jtss_wrapper_test.jar).</p>
<p style="position:absolute;top:869px;left:85px;white-space:nowrap" class="ft37713">•</p>
<p style="position:absolute;top:867px;left:170px;white-space:nowrap" class="ft37712"><b>output/lib:</b></p>
<p style="position:absolute;top:867px;left:259px;white-space:nowrap" class="ft3777">&#160;native&#160;library (libtspiwrapper.so)</p>
<p style="position:absolute;top:896px;left:85px;white-space:nowrap" class="ft37713">•</p>
<p style="position:absolute;top:893px;left:170px;white-space:nowrap" class="ft37712"><b>output/javadoc_highlevel:</b></p>
<p style="position:absolute;top:893px;left:389px;white-space:nowrap" class="ft3777">&#160;JavaDoc&#160;of&#160;the&#160;highlevel API</p>
<p style="position:absolute;top:937px;left:85px;white-space:nowrap" class="ft37711"><b>4.7&#160;Documentation&#160;and Further Reading</b></p>
<p style="position:absolute;top:967px;left:85px;white-space:nowrap" class="ft3774">IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;distribution&#160;comes&#160;together&#160;with&#160;a JavaDoc&#160;type<br/>documentation&#160;which can&#160;be found in&#160;the output/javadoc_highlevel&#160;folder.<br/>A&#160;good&#160;starting&#160;point&#160;for further&#160;reading&#160;is the TSS&#160;1.1b&#160;specification&#160;at<br/>http://www.trustedcomputinggroup.org/&#160;where all&#160;TSS functions&#160;are&#160;described.&#160;As far<br/>as&#160;the&#160;IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;is concerned,&#160;the&#160;relevant&#160;parts&#160;are the&#160;general<br/>sections of&#160;the document&#160;and&#160;the parts&#160;detailing&#160;the&#160;Tspi_*&#160;functions.<br/>A&#160;good&#160;place&#160;to&#160;get&#160;started&#160;with&#160;the IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;are the&#160;JUnit tests<br/>provided&#160;in the highlevel_tests&#160;folder.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3777">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3777">40/45</p>
</div>
<!-- Page 378 -->
<a name="378"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page378-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2378.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3787">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3787">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft37811"><b>4.8&#160;Further&#160;Help</b></p>
<p style="position:absolute;top:181px;left:85px;white-space:nowrap" class="ft3784">This&#160;software&#160;is provided&#160;&#34;as is&#34;.&#160;However, a mailing list&#160;mailto:trustedjava-<br/>support@lists.sourceforge.net&#160;is&#160;maintained&#160;at&#160;http://trustedjava.sf.net/&#160;to assist&#160;users<br/>and&#160;to allow&#160;users&#160;to&#160;help each&#160;other.&#160;You&#160;are invited&#160;to join&#160;the discussion,&#160;but&#160;kindly<br/>take&#160;a&#160;look&#160;at&#160;the mailing list&#160;archive&#160;before&#160;posting&#160;a&#160;question.</p>
<p style="position:absolute;top:285px;left:85px;white-space:nowrap" class="ft37811"><b>4.9&#160;Experimental&#160;Features</b></p>
<p style="position:absolute;top:314px;left:85px;white-space:nowrap" class="ft3784">These features are&#160;purely&#160;experimental, not throughly&#160;tested&#160;and NO&#160;support<br/>whatsoever&#160;can&#160;be&#160;provided.</p>
<p style="position:absolute;top:364px;left:85px;white-space:nowrap" class="ft37813">•</p>
<p style="position:absolute;top:362px;left:170px;white-space:nowrap" class="ft3787">Experimental&#160;support&#160;for compilation to&#160;native&#160;code&#160;with GCJ. This can&#160;be useful for</p>
<p style="position:absolute;top:379px;left:85px;white-space:nowrap" class="ft3787">debugging&#160;the&#160;JNI interface&#160;and&#160;the underlying&#160;stack&#160;with&#160;standard&#160;tools&#160;like&#160;GDB&#160;or&#160;valgrind.</p>
<p style="position:absolute;top:408px;left:85px;white-space:nowrap" class="ft37813">•</p>
<p style="position:absolute;top:405px;left:170px;white-space:nowrap" class="ft3787">Experimental support&#160;for&#160;Infineon's&#160;TSS&#160;implementation.&#160;Note that&#160;this stack</p>
<p style="position:absolute;top:423px;left:85px;white-space:nowrap" class="ft3787">currently is NOT&#160;available&#160;to the public.</p>
<p style="position:absolute;top:467px;left:85px;white-space:nowrap" class="ft37811"><b>4.10&#160;Acknowledgments</b></p>
<p style="position:absolute;top:499px;left:85px;white-space:nowrap" class="ft37813">•</p>
<p style="position:absolute;top:497px;left:170px;white-space:nowrap" class="ft3787">Hans&#160;Brandl&#160;(Infineon) for providing a mainboard with an&#160;1.1b TPM.</p>
<p style="position:absolute;top:526px;left:85px;white-space:nowrap" class="ft37813">•</p>
<p style="position:absolute;top:523px;left:170px;white-space:nowrap" class="ft3787">Georg Rankl (Infineon)&#160;for&#160;answering&#160;numerous TPM related questions.</p>
<p style="position:absolute;top:552px;left:85px;white-space:nowrap" class="ft37813">•</p>
<p style="position:absolute;top:549px;left:170px;white-space:nowrap" class="ft3787">Kent&#160;Yoder&#160;(IBM)&#160;for&#160;discussions&#160;and answers&#160;regarding&#160;the TSS.</p>
<p style="position:absolute;top:593px;left:85px;white-space:nowrap" class="ft37811"><b>4.11&#160;Copyright Notice</b></p>
<p style="position:absolute;top:623px;left:85px;white-space:nowrap" class="ft3784">The&#160;copyright&#160;for contents&#160;of&#160;the IAIK/OpenTC&#160;jTSS&#160;Wrapper&#160;package,&#160;including&#160;all<br/>related&#160;documentation,&#160;is owned&#160;by IAIK,&#160;Graz&#160;University&#160;of&#160;Technology.</p>
<p style="position:absolute;top:688px;left:85px;white-space:nowrap" class="ft37811"><b>4.12&#160;Trademarks</b></p>
<p style="position:absolute;top:718px;left:85px;white-space:nowrap" class="ft3784">Java&#160;(tm)&#160;and&#160;all&#160;Java&#160;(tm) based&#160;marks&#160;are&#160;a trademark&#160;or registered&#160;trademark&#160;of<br/>Sun&#160;Microsystems,&#160;Inc, in the United States and&#160;other countries.&#160;All other&#160;trademarks<br/>and copyrights&#160;are&#160;property&#160;of their&#160;respective&#160;owners.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3787">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3787">41/45</p>
</div>
<!-- Page 379 -->
<a name="379"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page379-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2379.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3797">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3797">1.0</p>
<p style="position:absolute;top:197px;left:85px;white-space:nowrap" class="ft37911"><b>4.13&#160;Revision History</b></p>
<p style="position:absolute;top:228px;left:109px;white-space:nowrap" class="ft3792">Date</p>
<p style="position:absolute;top:228px;left:287px;white-space:nowrap" class="ft3792">Version&#160;Comment&#160;</p>
<p style="position:absolute;top:258px;left:109px;white-space:nowrap" class="ft3792">&#160;2007/11/28&#160;</p>
<p style="position:absolute;top:258px;left:287px;white-space:nowrap" class="ft3792">&#160;0.3.1&#160;</p>
<p style="position:absolute;top:258px;left:362px;white-space:nowrap" class="ft3794">&#160;Synchronized&#160;interface&#160;with&#160;jTSS&#160;0.2,&#160;bugfixes,<br/>new experimental&#160;features.&#160;</p>
<p style="position:absolute;top:306px;left:109px;white-space:nowrap" class="ft3792">&#160;2007/04/24&#160;</p>
<p style="position:absolute;top:306px;left:287px;white-space:nowrap" class="ft3792">&#160;0.3&#160;</p>
<p style="position:absolute;top:306px;left:362px;white-space:nowrap" class="ft3794">&#160;Wrapper&#160;now&#160;using&#160;the&#160;same&#160;highlevel<br/>interface&#160;(TSPI) as full&#160;jTSS&#160;</p>
<p style="position:absolute;top:355px;left:109px;white-space:nowrap" class="ft3792">&#160;2007/02/08&#160;</p>
<p style="position:absolute;top:355px;left:287px;white-space:nowrap" class="ft3792">&#160;0.2.5&#160;</p>
<p style="position:absolute;top:355px;left:362px;white-space:nowrap" class="ft3794">&#160;Wrapper&#160;now&#160;compatible&#160;with TrouSerS&#160;0.2.9,<br/>see the&#160;included&#160;changelog&#160;</p>
<p style="position:absolute;top:403px;left:109px;white-space:nowrap" class="ft3792">&#160;2006/09/25&#160;</p>
<p style="position:absolute;top:403px;left:287px;white-space:nowrap" class="ft3792">&#160;0.2.4&#160;</p>
<p style="position:absolute;top:403px;left:362px;white-space:nowrap" class="ft3794">&#160;Wrapper&#160;now&#160;compatible&#160;with TrouSerS&#160;0.2.8,<br/>see the&#160;included&#160;changelog&#160;</p>
<p style="position:absolute;top:452px;left:109px;white-space:nowrap" class="ft3792">&#160;2006/08/25&#160;</p>
<p style="position:absolute;top:452px;left:287px;white-space:nowrap" class="ft3792">&#160;0.2.3&#160;</p>
<p style="position:absolute;top:452px;left:362px;white-space:nowrap" class="ft3794">&#160;Wrapper&#160;now&#160;compatible&#160;with Java&#160;(tm)&#160;1.3,<br/>Loging&#160;updated,&#160;AIK&#160;creation&#160;removed,<br/>bugfixes,&#160;see&#160;the&#160;included&#160;changelog&#160;</p>
<p style="position:absolute;top:520px;left:109px;white-space:nowrap" class="ft3792">&#160;2006/07/14&#160;</p>
<p style="position:absolute;top:520px;left:287px;white-space:nowrap" class="ft3792">&#160;0.2.2&#160;</p>
<p style="position:absolute;top:520px;left:362px;white-space:nowrap" class="ft3794">&#160;adopt&#160;AIK creation cycle to work&#160;with TCcert<br/>0.2,&#160;bugfix&#160;and&#160;maintenance release,&#160;see&#160;the<br/>included changelog&#160;</p>
<p style="position:absolute;top:587px;left:109px;white-space:nowrap" class="ft3792">&#160;2006/07/05&#160;</p>
<p style="position:absolute;top:587px;left:287px;white-space:nowrap" class="ft3792">&#160;0.2.1&#160;</p>
<p style="position:absolute;top:587px;left:362px;white-space:nowrap" class="ft3794">&#160;AIK&#160;cycle with&#160;certificates,&#160;capability&#160;bugfixes,<br/>additional&#160;TCPA&#160;structures&#160;for&#160;Quotes,&#160;see the<br/>included changelog&#160;</p>
<p style="position:absolute;top:655px;left:109px;white-space:nowrap" class="ft3792">&#160;2006/05/30&#160;</p>
<p style="position:absolute;top:655px;left:287px;white-space:nowrap" class="ft3792">&#160;0.2&#160;</p>
<p style="position:absolute;top:655px;left:362px;white-space:nowrap" class="ft3794">&#160;Major&#160;Restructuring,&#160;Bugfixes,&#160;Identity&#160;Creation<br/>TestCase,&#160;Hardware&#160;Tests,&#160;TCPA&#160;struct decoder,<br/>see the&#160;included&#160;changelog&#160;</p>
<p style="position:absolute;top:723px;left:109px;white-space:nowrap" class="ft3792">&#160;2006/02/20&#160;</p>
<p style="position:absolute;top:723px;left:287px;white-space:nowrap" class="ft3792">&#160;0.1&#160;</p>
<p style="position:absolute;top:723px;left:362px;white-space:nowrap" class="ft3792">&#160;Initial&#160;Release&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3797">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3797">42/45</p>
</div>
<!-- Page 380 -->
<a name="380"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page380-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2380.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3807">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3807">1.0</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft38010"><b>5&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft38011"><b>jTSS API Detailed Specification&#160;</b></p>
<p style="position:absolute;top:255px;left:85px;white-space:nowrap" class="ft3801"><b>Note</b></p>
<p style="position:absolute;top:255px;left:129px;white-space:nowrap" class="ft3802">:&#160;For&#160;reasons&#160;of&#160;brevity,&#160;this&#160;chapter,&#160;counting&#160;over&#160;600 pages,&#160;is not&#160;included&#160;in</p>
<p style="position:absolute;top:274px;left:85px;white-space:nowrap" class="ft3802">this&#160;version&#160;of&#160;the&#160;text.&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3807">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3807">43/45</p>
</div>
<!-- Page 381 -->
<a name="381"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft381185{font-size:16px;font-family:LPBMJE+ArialUnicodeMS;color:#000000;}
-->
</style>
<div id="page381-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2381.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3817">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3817">1.0</p>
<p style="position:absolute;top:172px;left:85px;white-space:nowrap" class="ft38110"><b>6&#160;</b></p>
<p style="position:absolute;top:169px;left:117px;white-space:nowrap" class="ft38111"><b>References</b></p>
<p style="position:absolute;top:199px;left:85px;white-space:nowrap" class="ft3812">[GONG]</p>
<p style="position:absolute;top:199px;left:186px;white-space:nowrap" class="ft3812">Gong, L.:.</p>
<p style="position:absolute;top:199px;left:271px;white-space:nowrap" class="ft3811"><b>Inside&#160;Java2Platform&#160;Security</b></p>
<p style="position:absolute;top:199px;left:548px;white-space:nowrap" class="ft3812">. The Java&#160;Series.</p>
<p style="position:absolute;top:218px;left:186px;white-space:nowrap" class="ft3812">AddisonWesley&#160;Professional,&#160;June&#160;1999</p>
<p style="position:absolute;top:246px;left:85px;white-space:nowrap" class="ft3812">[JLS]</p>
<p style="position:absolute;top:246px;left:186px;white-space:nowrap" class="ft3812">Joy,&#160;B.; Steele, G:; Bracha,&#160;G.:&#160;</p>
<p style="position:absolute;top:246px;left:438px;white-space:nowrap" class="ft3811"><b>Java&#160;Language&#160;Specification</b></p>
<p style="position:absolute;top:246px;left:700px;white-space:nowrap" class="ft3812">, Third</p>
<p style="position:absolute;top:265px;left:186px;white-space:nowrap" class="ft3812">Edition,&#160;2005,&#160;&#160;</p>
<p style="position:absolute;top:265px;left:312px;white-space:nowrap" class="ft381177">http://java.sun.com/docs/books/jls</p>
<p style="position:absolute;top:293px;left:85px;white-space:nowrap" class="ft3812">[TSS1.1]</p>
<p style="position:absolute;top:293px;left:186px;white-space:nowrap" class="ft3811"><b>TCG Software&#160;Stack&#160;(TSS)&#160;Specification</b></p>
<p style="position:absolute;top:293px;left:553px;white-space:nowrap" class="ft3812">,&#160;Version 1.1 Golden,&#160;August</p>
<p style="position:absolute;top:312px;left:186px;white-space:nowrap" class="ft3812">20,&#160;2003</p>
<p style="position:absolute;top:340px;left:85px;white-space:nowrap" class="ft3812">[TSS1.2]</p>
<p style="position:absolute;top:340px;left:186px;white-space:nowrap" class="ft3811"><b>TCG Software&#160;Stack&#160;(TSS)&#160;Specification</b></p>
<p style="position:absolute;top:340px;left:553px;white-space:nowrap" class="ft3812">,&#160;Version&#160;1.2,&#160;Level&#160;1,&#160;August</p>
<p style="position:absolute;top:359px;left:186px;white-space:nowrap" class="ft3812">06,&#160;2006</p>
<p style="position:absolute;top:387px;left:85px;white-space:nowrap" class="ft3812">[Challener]&#160;D. Challener,&#160;K.&#160;Yoder,&#160;R.&#160;Catherman,&#160;D.&#160;Safford,&#160;L.&#160;van&#160;Doorn,&#160;</p>
<p style="position:absolute;top:387px;left:712px;white-space:nowrap" class="ft3811"><b>A</b></p>
<p style="position:absolute;top:406px;left:186px;white-space:nowrap" class="ft3811"><b>Practical&#160;Guide&#160;to&#160;Trusted&#160;Computing</b></p>
<p style="position:absolute;top:406px;left:537px;white-space:nowrap" class="ft3812">,&#160;ISBN-13:&#160;978-0-13-239842-8,</p>
<p style="position:absolute;top:426px;left:186px;white-space:nowrap" class="ft3812">IBM&#160;Press,&#160;2008</p>
<p style="position:absolute;top:453px;left:85px;white-space:nowrap" class="ft3812">[Sarmenta]&#160;L.&#160;Sarmenta,&#160;J.&#160;Rhodes,&#160;and&#160;T.&#160;Müller.&#160;</p>
<p style="position:absolute;top:453px;left:502px;white-space:nowrap" class="ft3811"><b>TPM/J Java-based&#160;API&#160;for&#160;the</b></p>
<p style="position:absolute;top:473px;left:186px;white-space:nowrap" class="ft3811"><b>Trusted&#160;Platform&#160;Module</b></p>
<p style="position:absolute;top:473px;left:418px;white-space:nowrap" class="ft3812">&#160;,&#160;http://projects.csail.mit.edu/tc/tpmj/,&#160;2007.&#160;</p>
<p style="position:absolute;top:500px;left:85px;white-space:nowrap" class="ft3812">[TBS]</p>
<p style="position:absolute;top:500px;left:186px;white-space:nowrap" class="ft3812">Microsoft&#160;Developer&#160;Network.&#160;</p>
<p style="position:absolute;top:500px;left:437px;white-space:nowrap" class="ft3811"><b>TPM Base&#160;Services</b></p>
<p style="position:absolute;top:500px;left:611px;white-space:nowrap" class="ft3812">,</p>
<p style="position:absolute;top:520px;left:186px;white-space:nowrap" class="ft3812">http://msdn2.microsoft.com/en-us/library/aa446796.aspx,&#160;2007.&#160;</p>
<p style="position:absolute;top:547px;left:85px;white-space:nowrap" class="ft3812">[TrouSerS]</p>
<p style="position:absolute;top:547px;left:186px;white-space:nowrap" class="ft3811"><b>TrouSerS&#160;- An&#160;Open-Source&#160;TCG&#160;Software&#160;Stack&#160;Implementation</b></p>
<p style="position:absolute;top:547px;left:784px;white-space:nowrap" class="ft3812">.</p>
<p style="position:absolute;top:567px;left:186px;white-space:nowrap" class="ft381177">http://trousers.sourceforge</p>
<p style="position:absolute;top:567px;left:409px;white-space:nowrap" class="ft3812">.net/,&#160;2007.&#160;</p>
<p style="position:absolute;top:594px;left:85px;white-space:nowrap" class="ft3812">[trustedJ]</p>
<p style="position:absolute;top:594px;left:186px;white-space:nowrap" class="ft3812">M.&#160;Pirker,&#160;T.&#160;Winkler,&#160;R.&#160;Toegl&#160;and&#160;T.&#160;Vejda.&#160;</p>
<p style="position:absolute;top:594px;left:550px;white-space:nowrap" class="ft3811"><b>Trusted&#160;Computing&#160;for the</b></p>
<p style="position:absolute;top:614px;left:186px;white-space:nowrap" class="ft3811"><b>JavaTM&#160;Platform</b></p>
<p style="position:absolute;top:614px;left:340px;white-space:nowrap" class="ft3812">, http:&#160;//trustedjava.sourceforge.net/,&#160;2007.&#160;</p>
<p style="position:absolute;top:642px;left:85px;white-space:nowrap" class="ft3812">[TCGArch]&#160;Trusted&#160;Computing&#160;Group.&#160;</p>
<p style="position:absolute;top:642px;left:412px;white-space:nowrap" class="ft3811"><b>TCG Specification&#160;Architecture&#160;Overview</b></p>
<p style="position:absolute;top:642px;left:789px;white-space:nowrap" class="ft3812">,</p>
<p style="position:absolute;top:661px;left:186px;white-space:nowrap" class="ft3812">Revision&#160;1.4,&#160;2007.&#160;</p>
<p style="position:absolute;top:689px;left:85px;white-space:nowrap" class="ft3812">[Dietrich]</p>
<p style="position:absolute;top:689px;left:186px;white-space:nowrap" class="ft3812">K.&#160;Dietrich,&#160;M.&#160;Pirker,&#160;T. Vejda,&#160;R.&#160;Toegl,&#160;T.&#160;Winkler&#160;and&#160;P.&#160;Lipp.&#160;</p>
<p style="position:absolute;top:689px;left:712px;white-space:nowrap" class="ft3811"><b>A</b></p>
<p style="position:absolute;top:708px;left:186px;white-space:nowrap" class="ft3816"><b>Practical&#160;Approach&#160;for Establishing&#160;Trust&#160;Relationships&#160;between<br/>Remote&#160;Platforms&#160;using&#160;Trusted&#160;Computing</b></p>
<p style="position:absolute;top:727px;left:595px;white-space:nowrap" class="ft3812">. In&#160;Proceedings&#160;of the</p>
<p style="position:absolute;top:746px;left:186px;white-space:nowrap" class="ft3814">2007&#160;Symposium&#160;on&#160;Trustworthy&#160;Global&#160;Computing,&#160;Lecture&#160;Note in<br/>Computer&#160;Science,&#160;Vol.&#160;4912, Springer&#160;Verlag, 2007.&#160;</p>
<p style="position:absolute;top:793px;left:85px;white-space:nowrap" class="ft3812">[Vejda]</p>
<p style="position:absolute;top:793px;left:186px;white-space:nowrap" class="ft3812">T.&#160;Vejda,&#160;R.&#160;Toegl,&#160;M.&#160;Pirker,&#160;T.&#160;Winkler,&#160;</p>
<p style="position:absolute;top:793px;left:518px;white-space:nowrap" class="ft3811"><b>Towards&#160;Trust Services&#160;for</b></p>
<p style="position:absolute;top:812px;left:186px;white-space:nowrap" class="ft3811"><b>Language-Based&#160;Virtual&#160;Machines&#160;for&#160;Grid&#160;Computing</b></p>
<p style="position:absolute;top:812px;left:687px;white-space:nowrap" class="ft3812">. In</p>
<p style="position:absolute;top:832px;left:186px;white-space:nowrap" class="ft3814">Proceedings of Trust&#160;2008,&#160;Lecture&#160;Note&#160;in&#160;Computer&#160;Science, Springer<br/>Verlag,&#160;in print,&#160;2008.</p>
<p style="position:absolute;top:879px;left:85px;white-space:nowrap" class="ft3812">[Berger]</p>
<p style="position:absolute;top:877px;left:303px;white-space:nowrap" class="ft381185">́</p>
<p style="position:absolute;top:879px;left:186px;white-space:nowrap" class="ft3814">S.&#160;Berger,&#160;R.&#160;C&#160;ceres,&#160;K.&#160;Goldman,&#160;R.<br/>Perez,&#160;R. Sailer,&#160;L. van&#160;Doorn.&#160;</p>
<p style="position:absolute;top:898px;left:438px;white-space:nowrap" class="ft3811"><b>vTPM:&#160;Virtualizing&#160;the&#160;Trusted</b></p>
<p style="position:absolute;top:917px;left:186px;white-space:nowrap" class="ft3811"><b>Platform&#160;Module.</b></p>
<p style="position:absolute;top:917px;left:347px;white-space:nowrap" class="ft3812">&#160;IBM&#160;Research&#160;Report,&#160;RC23879&#160;(W0602-126),&#160;2006.&#160;</p>
<p style="position:absolute;top:945px;left:85px;white-space:nowrap" class="ft3812">[Kinney]</p>
<p style="position:absolute;top:945px;left:186px;white-space:nowrap" class="ft3812">S.&#160;Kinney.&#160;</p>
<p style="position:absolute;top:945px;left:274px;white-space:nowrap" class="ft3811"><b>Trusted&#160;Platform&#160;Module&#160;Basics:&#160;Using&#160;TPM&#160;in</b></p>
<p style="position:absolute;top:964px;left:186px;white-space:nowrap" class="ft3811"><b>Embedded&#160;Systems.</b></p>
<p style="position:absolute;top:964px;left:375px;white-space:nowrap" class="ft3812">&#160;Elsevier,&#160;Burlington, MA, USA,&#160;ISBN&#160;13:&#160;978-0-</p>
<p style="position:absolute;top:983px;left:186px;white-space:nowrap" class="ft3812">7506-7960-2,&#160;2006.&#160;</p>
<p style="position:absolute;top:1011px;left:85px;white-space:nowrap" class="ft3812">[NTRU]</p>
<p style="position:absolute;top:1011px;left:186px;white-space:nowrap" class="ft3812">NTRU&#160;Cryptosystems,&#160;Inc.&#160;</p>
<p style="position:absolute;top:1011px;left:406px;white-space:nowrap" class="ft3811"><b>NTRU Core TCG Software&#160;Stack&#160;(CTSS)</b></p>
<p style="position:absolute;top:1011px;left:764px;white-space:nowrap" class="ft3812">,</p>
<p style="position:absolute;top:1030px;left:186px;white-space:nowrap" class="ft381177">http://www.ntru.com/products/tcg_ss.htm</p>
<p style="position:absolute;top:1030px;left:531px;white-space:nowrap" class="ft3812">, 2005.</p>
<p style="position:absolute;top:1058px;left:85px;white-space:nowrap" class="ft3812">[Sailer]</p>
<p style="position:absolute;top:1058px;left:186px;white-space:nowrap" class="ft3812">R.&#160;Sailer,&#160;X.&#160;Zhang,&#160;T.&#160;Jaeger,&#160;and&#160;L.&#160;van&#160;Doorn.&#160;</p>
<p style="position:absolute;top:1058px;left:587px;white-space:nowrap" class="ft3811"><b>Design and</b></p>
<p style="position:absolute;top:1077px;left:186px;white-space:nowrap" class="ft3816"><b>Implementation&#160;of&#160;a TCG-based&#160;Integrity&#160;Measurement<br/>Architecture</b></p>
<p style="position:absolute;top:1096px;left:302px;white-space:nowrap" class="ft3812">. In&#160;Proceedings&#160;of the&#160;13th&#160;USENIX&#160;Security&#160;Symposium,</p>
<p style="position:absolute;top:1116px;left:186px;white-space:nowrap" class="ft3812">223–238,&#160;2004.&#160;</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3817">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3817">44/45</p>
</div>
<!-- Page 382 -->
<a name="382"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft382186{font-size:16px;font-family:BOJGJJ+BitstreamVeraSans;color:#800000;}
	.ft382187{font-size:16px;line-height:19px;font-family:BOJGJJ+BitstreamVeraSans;color:#000080;}
-->
</style>
<div id="page382-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2382.png" alt="background image"/>
<p style="position:absolute;top:92px;left:274px;white-space:nowrap" class="ft3827">Integrating Trusted Computing into Java</p>
<p style="position:absolute;top:92px;left:742px;white-space:nowrap" class="ft3827">1.0</p>
<p style="position:absolute;top:151px;left:85px;white-space:nowrap" class="ft3822">[SWIG]</p>
<p style="position:absolute;top:151px;left:186px;white-space:nowrap" class="ft3822">D. M. Beazley,&#160;</p>
<p style="position:absolute;top:151px;left:310px;white-space:nowrap" class="ft3821"><b>SWIG&#160;:&#160;An Easy&#160;to&#160;Use Tool For Integrating&#160;Scripting</b></p>
<p style="position:absolute;top:170px;left:186px;white-space:nowrap" class="ft3821"><b>Languages&#160;with&#160;C&#160;and&#160;C++</b></p>
<p style="position:absolute;top:170px;left:437px;white-space:nowrap" class="ft3822">&#160;, Fourth&#160;Annual&#160;USENIX&#160;Tcl/Tk&#160;Workshop,</p>
<p style="position:absolute;top:189px;left:186px;white-space:nowrap" class="ft3822">1996.</p>
<p style="position:absolute;top:217px;left:85px;white-space:nowrap" class="ft3822">[SOAP]</p>
<p style="position:absolute;top:217px;left:186px;white-space:nowrap" class="ft3822">IBM.&#160;</p>
<p style="position:absolute;top:217px;left:227px;white-space:nowrap" class="ft3821"><b>Simple&#160;Object&#160;Access&#160;Protocol&#160;(SOAP)</b></p>
<p style="position:absolute;top:217px;left:581px;white-space:nowrap" class="ft3822">,</p>
<p style="position:absolute;top:237px;left:186px;white-space:nowrap" class="ft382187">http://publib.boulder.ibm.com/infocenter/radhelp/v6r0m1/index.jsp?topic=<br/>/com.ibm.etools.webservice.doc/concepts/csoap.html</p>
<p style="position:absolute;top:256px;left:629px;white-space:nowrap" class="ft3822">, 2005.</p>
<p style="position:absolute;top:284px;left:85px;white-space:nowrap" class="ft3822">[SOAPENC]&#160;W3C&#160;Recommendation.&#160;</p>
<p style="position:absolute;top:284px;left:386px;white-space:nowrap" class="ft3821"><b>SOAP Encoding</b></p>
<p style="position:absolute;top:284px;left:528px;white-space:nowrap" class="ft3822">,&#160;</p>
<p style="position:absolute;top:303px;left:186px;white-space:nowrap" class="ft382177">http://www.w3.org/TR/soap12-part2/#soapenc</p>
<p style="position:absolute;top:303px;left:571px;white-space:nowrap" class="ft3822">, 2007.</p>
<p style="position:absolute;top:331px;left:85px;white-space:nowrap" class="ft3822">[WSI]</p>
<p style="position:absolute;top:331px;left:191px;white-space:nowrap" class="ft3822">WS-I Organization.&#160;</p>
<p style="position:absolute;top:331px;left:350px;white-space:nowrap" class="ft3821"><b>Web Service&#160;Standards</b></p>
<p style="position:absolute;top:331px;left:567px;white-space:nowrap" class="ft3822">,&#160;</p>
<p style="position:absolute;top:331px;left:577px;white-space:nowrap" class="ft382177">http://www.ws-i.org/</p>
<p style="position:absolute;top:331px;left:745px;white-space:nowrap" class="ft3822">, 2008.</p>
<p style="position:absolute;top:358px;left:85px;white-space:nowrap" class="ft3822">[VSSOAP]</p>
<p style="position:absolute;top:358px;left:186px;white-space:nowrap" class="ft3822">Microsoft&#160;Developer&#160;Network.&#160;</p>
<p style="position:absolute;top:358px;left:437px;white-space:nowrap" class="ft3821"><b>The&#160;Argument&#160;Against&#160;SOAP Encoding</b></p>
<p style="position:absolute;top:358px;left:793px;white-space:nowrap" class="ft3822">,</p>
<p style="position:absolute;top:378px;left:186px;white-space:nowrap" class="ft382186">http://msdn2.microsoft.com/en-us/library/ms995710.aspx</p>
<p style="position:absolute;top:378px;left:664px;white-space:nowrap" class="ft3822">, 2002.</p>
<p style="position:absolute;top:405px;left:85px;white-space:nowrap" class="ft3822">[SOAPIM]</p>
<p style="position:absolute;top:405px;left:186px;white-space:nowrap" class="ft3822">IBM.&#160;</p>
<p style="position:absolute;top:405px;left:227px;white-space:nowrap" class="ft3821"><b>Discover&#160;SOAP&#160;encoding's&#160;impact&#160;on&#160;Web service</b></p>
<p style="position:absolute;top:425px;left:186px;white-space:nowrap" class="ft3821"><b>performance</b></p>
<p style="position:absolute;top:425px;left:305px;white-space:nowrap" class="ft3822">,</p>
<p style="position:absolute;top:444px;left:186px;white-space:nowrap" class="ft382186">http://www.ibm.com/developerworks/webservices/library/ws-soapenc/</p>
<p style="position:absolute;top:444px;left:765px;white-space:nowrap" class="ft3822">,</p>
<p style="position:absolute;top:463px;left:186px;white-space:nowrap" class="ft3822">2003.</p>
<p style="position:absolute;top:491px;left:85px;white-space:nowrap" class="ft3822">[AXIS2]</p>
<p style="position:absolute;top:491px;left:185px;white-space:nowrap" class="ft3822">Apache&#160;Software&#160;Foundation.&#160;</p>
<p style="position:absolute;top:491px;left:433px;white-space:nowrap" class="ft3821"><b>Axis 2</b></p>
<p style="position:absolute;top:491px;left:489px;white-space:nowrap" class="ft3822">,&#160;</p>
<p style="position:absolute;top:491px;left:500px;white-space:nowrap" class="ft382177">http://ws.apache.org/axis2/</p>
<p style="position:absolute;top:491px;left:725px;white-space:nowrap" class="ft3822">,</p>
<p style="position:absolute;top:491px;left:731px;white-space:nowrap" class="ft382177">&#160;</p>
<p style="position:absolute;top:491px;left:736px;white-space:nowrap" class="ft3822">2008.</p>
<p style="position:absolute;top:519px;left:85px;white-space:nowrap" class="ft3822">[SOAPPRE]&#160;Jorgen&#160;Thelin,&#160;</p>
<p style="position:absolute;top:519px;left:305px;white-space:nowrap" class="ft3821"><b>The Death&#160;of SOAP&#160;Encoding</b></p>
<p style="position:absolute;top:519px;left:573px;white-space:nowrap" class="ft3822">,</p>
<p style="position:absolute;top:538px;left:186px;white-space:nowrap" class="ft382177">http://www.thearchitect.co.uk/weblog/archives/2002/11/000008.html</p>
<p style="position:absolute;top:538px;left:758px;white-space:nowrap" class="ft3822">,</p>
<p style="position:absolute;top:557px;left:186px;white-space:nowrap" class="ft3822">2002.</p>
<p style="position:absolute;top:1160px;left:85px;white-space:nowrap" class="ft3827">Open_TC&#160;</p>
<p style="position:absolute;top:1160px;left:765px;white-space:nowrap" class="ft3827">45/45</p>
</div>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li>D03c.2_KMA_HiLevDesignSpec.pdf
<ul>
<li>D03c.2_KMA_HiLevDesignSpec.pdf
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#105">&#160;1 Motivation and Problem Description</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#106">&#160;2 Security Environment</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#106">&#160;2.1 Assumptions</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#107">&#160;2.2 Threats</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#108">&#160;3 Functional Requirements (Use Case Model)</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#108">&#160;3.1 Goal</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#109">&#160;3.2 Target Groups</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#109">&#160;3.3 Roles and Actors</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#109">&#160;3.4 Overview</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#111">&#160;3.5 Use Cases (Detailed Description)</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#112">&#160;3.5.1 Starting the TCG-enabled operating system</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#113">&#160;3.5.2 Creating trusted configuration</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#121">&#160;3.5.3 KMA take ownership</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#124">&#160;3.5.4 Activating KMA</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#131">&#160;3.5.5 Using secured application with KMA</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#140">&#160;4 Security Objectives &amp; Security Requirements</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#140">&#160;4.1 Security Objectives</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#140">&#160;4.2 Security Requirements</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#141">&#160;5 Supplementary Requirements</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#141">&#160;5.1 Preconditions</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#141">&#160;5.2 Required Criteria</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#142">&#160;5.3 Desired Criteria</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#142">&#160;5.4 Distinguishing Criteria</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#143">&#160;5.5 Execution Environment</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#143">&#160;5.5.1 Software</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#143">&#160;5.5.2 Hardware</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#143">&#160;5.6 Development Environment</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#143">&#160;5.6.1 Software</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#143">&#160;5.6.2 Hardware</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#144">&#160;6 High-Level Software Architecture</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#144">&#160;6.1 Introduction</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#145">&#160;6.2 Logical view</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#145">&#160;6.2.1 Packages</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#145">&#160;6.2.1.1 KMA bootstrap manager</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#146">&#160;6.2.1.2 TPM interface</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#147">&#160;6.2.1.3 Certify service</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#148">&#160;6.2.1.4 Storage service</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#149">&#160;6.2.1.5 TCG-enabled operating system</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#150">&#160;6.2.1.6 Property manager</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#151">&#160;6.2.1.7 Data encryption service</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#152">&#160;6.2.2 Use case realisation</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#178">&#160;7 List of Abbreviations</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#178">&#160;8 Related Work</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#178">&#160;9 Acknowledgements</a></li>
</ul>
</li>
</ul>
</li>
<li>D03c.3_TLS_DAA_enhancement_specification.pdf
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#182">1 &#160;Introduction</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#182">2 &#160;The Direct Anonymous Attestation (DAA) protocol</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#183">3 &#160; Using the DAA for authentication</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#183">3.1 &#160;Application scenario</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#184">3.2 &#160;Combining TLS and DAA protocols</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#184">4 &#160;Enhancing TLS protocol (informative)</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#184">4.1 &#160;TLS protocol</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#184">4.2 &#160;Hello extensions</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#187">4.3 &#160;Supplemental data message</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#188">5 &#160;DAA-enhanced TLS (DAA-TLS)</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#188">5.1 &#160;Overview</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#189">5.2 &#160;Summary of DAA-TLS capabilities and protocol flow</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#190">5.3 &#160;Binding between TLS channel and DAA authentication</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#192">5.4 &#160;Verification of the authentication</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#192">5.5 &#160;Definition of the hello extension DAAAuth</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#194">5.6 &#160;Definition of the supplemental data entry DAAAuth</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#196">6 &#160;Specification of TCG TSS/TPM DAA profile for DAA-TLS</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#196">6.1 &#160;Profile requirements and specification</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#197">6.2 &#160;Prerequisites for using TSS functions for DAA-TLS</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#197">6.3 &#160;Nonce generation and basename</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#198">6.4 &#160;DAA signature</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#199">6.5 &#160;Signature verification</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#200">6.6 &#160;Data encoding/decoding</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#200">6.6.1 &#160;Basic data types</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#201">6.6.2 &#160;Complex types</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#201">6.6.2.1 &#160;DAA Signature (normative)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#203">7 &#160;Security considerations</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#203">7.1 &#160;Endorsement Key (EK) exposure</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#203">7.2 &#160;Basename and DAA signature</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#204">8 &#160;IANA considerations</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#205">9 &#160;List of abbreviations</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#205">10 &#160;Referenced Documents</a></li>
</ul>
</li>
<li>D03c.6_TLS_DAA_enhancement_OpenSSL_design.pdf
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#227">1 &#160;Introduction</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#227">2 &#160;Overview of the enhancements to OpenSSL</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#227">3 &#160;Low level enhancement for generic applications</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#227">3.1 &#160;Hello extensions</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#232">3.2 &#160;Supplemental data message</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#236">3.3 &#160;Supplemental data negotiation using the extensions</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#239">4 &#160;DAA authentication library API</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#241">4.1 &#160;Platform-only functions</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#243">4.2 &#160;Verifier-only functions</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#244">4.3 &#160;Functions used by both the platform and the verifier</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#245">4.4 &#160;Execution flow example</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#248">5 &#160;List of abbreviations</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#248">6 &#160;Referenced Documents</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#249">Annex A (normative): API header files</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#249">A.1 &#160;Low level enhancement</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#250">A.2 &#160;DAA Authentication library</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#253">Annex B (informative): code examples</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#253">B.1 &#160;Low level enhancement</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#253">B.1.1 &#160;Hello extensions</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#253">B.1.1.1 &#160; Simple example</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#254">B.1.1.2 &#160;Improved example</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#256">B.1.2 &#160;Supplemental data</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#256">B.1.2.1 &#160;Simple example</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#258">B.1.2.2 &#160;Improved example</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#261">B.2 &#160;DAA anonymous authentication</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>D03d.2_3 Trusted_java_design.pdf
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#272">1 Introduction</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#272">1.1Areas of Applications for Trusted Computing enhanced Java</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#273">1.2Scope of Trusted Computing Integration into Java</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#274">2 TSS and TPM Access from Java</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#274">2.1TCG Software Stack Overview</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#275">2.1.1TPM (Hardware)</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#275">2.1.2TPM Device Driver (TDD)</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#275">2.1.3TSS Device Driver Library (TDDL)</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#275">2.1.4TSS Core Services (TCS)</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#276">2.1.5TSS Service Provider (TSP)</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#276">2.2TSS Communication Mechanisms</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#277">2.3Java TSS Bindings</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#277">2.3.1Java TSS Bindings Architecture</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#278">2.3.2Detailed Design Aspects</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#281">2.4Requirements and Assumptions</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#282">2.5A native Java TSS</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#287">3 Java Virtual Machine Modifications</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#289">3.1Execution of Java programs</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#291">3.2Java Security Model</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#291">3.2.1Class Loading</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#294">3.2.2Class Verifier and Bytecode Verifier</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#294">3.2.3Security Manager</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#295">3.3Integration of Trusted Computing in a Java Virtual Machine</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#295">3.3.1Measuring</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#296">3.3.2Sealing</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#297">3.3.3The Property-based approach</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#297">4 Evaluation of existing Java Virtual Machines</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#297">4.1Search</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#297">4.1.1Requirements</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#298">4.1.2Selected Candidates</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#298">4.2Evaluation</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#299">4.2.1Evaluation criteria&#160;</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#299">4.2.1.1License (Cost)&#160;</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#300">4.2.1.2Sourcecode Availability</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#300">4.2.1.3Quality&#160;</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#301">4.2.1.4Project Status&#160;</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#302">4.2.1.5Project Activity&#160;</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#302">4.2.1.6Performance</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#303">4.2.1.7Operating System Compatibility&#160;</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#303">4.2.1.8Installation Process&#160;</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#303">4.2.1.9Distribution&#160;</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#303">4.2.1.10Miscellaneous&#160;</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#303">4.2.2 Testing Environment</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#304">5 Complete list of Virtual Machines</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#305">5.1Apparently Dead Projects</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#306">5.2Not applicable VMs</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#307">5.3Summarized examination results&#160;</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#307">5.3.1Aegis</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#307">5.3.2Chockcino</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#308">5.3.3ElectricalFire&#160;</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#308">5.3.4GCJ&#160;</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#309">5.3.5IBM Jalapeño&#160;</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#310">5.3.6IVKM</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#310">5.3.7JAOS&#160;</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#310">5.3.8Japhar&#160;</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#311">5.3.9JC</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#311">5.3.10Jnode&#160;</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#312">5.3.11Jupiter</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#313">5.3.12KaffePC &#160;</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#313">5.3.13LaTTe &#160;</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#313">5.3.14leJOS&#160;</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#314">5.3.15teaseme&#160;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#314">6 Prototype Application</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#315">7 References</a></li>
</ul>
</li>
<li>D03d.4_JavaVM_for_TCP_implementations.pdf
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#320">1 Introduction&#160;</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#320">1.1Scope and Outline of this Document</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#320">1.2Related Work</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#322">2 Review of Required Java Virtual Machine Functionality</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#322">2.1Dynamic Class Loading</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#322">2.2Java Native Interface</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#322">2.3Security Architecture</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#322">2.3.1Permissions</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#322">2.3.2Principals</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#322">2.3.3Access Control Mechanism</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#323">2.4Serviceability in HotSpot</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#324">2.4.1Java Virtual Machine Tool Interface</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#325">3 Design of the Measurement Architecture</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#325">3.1Integrity Measurement Process</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#326">3.2Usage of Platform Configuration Registers</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#327">3.3Property-based Approach</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#327">3.3.1Activation of the Security Manager</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#328">3.3.2Mapping Permissions to Properties</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#330">4 Implementation</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#330">4.1Integrity Service Provider</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#331">4.2Measurement Agent</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#331">4.3Verification Agent</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#332">4.4Storage Manager</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#332">4.5Reporting Agent</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#332">4.6Property Collector</a>
<ul>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#332">4.6.1PolicyPropertyCollector</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#333">4.7Additional System Properties</a></li>
</ul>
</li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#334">5 Results</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#335">6 Outlook</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#336">7 References</a></li>
<li><a href="OpenTC_D03.2_Collected_internal_deliverables_for_year_1_and_2.html#337">8 List of Abbreviations&#160;</a></li>
</ul>
</li>
</ul>
</body>
</html>
