<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>html/OpenTC_D05.5_Trusted_Virtual_Datacenter</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="generator" content="pdftohtml 0.36"/>
<meta name="date" content="2008-11-21T10:13:13+00:00"/>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<!-- Page 1 -->
<a name="1"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft10{font-size:13px;font-family:BAAAAA+TimesNewRomanPSMT;color:#000000;}
	.ft11{font-size:19px;font-family:BAAAAA+TimesNewRomanPSMT;color:#000000;}
	.ft12{font-size:27px;font-family:CAAAAA+DejaVuSans;color:#000000;}
	.ft13{font-size:17px;font-family:CAAAAA+DejaVuSans;color:#000000;}
	.ft14{font-size:17px;font-family:DAAAAA+DejaVuSans;color:#000000;}
	.ft15{font-size:10px;font-family:DAAAAA+DejaVuSans;color:#000000;}
	.ft16{font-size:14px;font-family:BAAAAA+TimesNewRomanPSMT;color:#000000;}
	.ft17{font-size:17px;line-height:19px;font-family:DAAAAA+DejaVuSans;color:#000000;}
	.ft18{font-size:17px;line-height:19px;font-family:CAAAAA+DejaVuSans;color:#000000;}
-->
</style>
<div id="page1-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter001.png" alt="background image"/>
<p style="position:absolute;top:137px;left:92px;white-space:nowrap" class="ft10">&#160;</p>
<p style="position:absolute;top:76px;left:91px;white-space:nowrap" class="ft11">&#160;</p>
<p style="position:absolute;top:242px;left:207px;white-space:nowrap" class="ft12"><b>D05.5&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;</b></p>
<p style="position:absolute;top:273px;left:242px;white-space:nowrap" class="ft12"><b>Trusted&#160;Virtual&#160;Datacenter</b></p>
<p style="position:absolute;top:351px;left:91px;white-space:nowrap" class="ft13"><b>Project&#160;number</b></p>
<p style="position:absolute;top:351px;left:425px;white-space:nowrap" class="ft14">IST-027635</p>
<p style="position:absolute;top:376px;left:91px;white-space:nowrap" class="ft13"><b>Project&#160;acronym</b></p>
<p style="position:absolute;top:376px;left:425px;white-space:nowrap" class="ft14">Open_TC</p>
<p style="position:absolute;top:402px;left:91px;white-space:nowrap" class="ft13"><b>Project&#160;title</b></p>
<p style="position:absolute;top:402px;left:425px;white-space:nowrap" class="ft14">Open&#160;Trusted&#160;Computing</p>
<p style="position:absolute;top:427px;left:91px;white-space:nowrap" class="ft13"><b>Deliverable&#160;type</b></p>
<p style="position:absolute;top:427px;left:425px;white-space:nowrap" class="ft14">Report</p>
<p style="position:absolute;top:470px;left:91px;white-space:nowrap" class="ft13"><b>Deliverable&#160;reference&#160;number</b></p>
<p style="position:absolute;top:470px;left:425px;white-space:nowrap" class="ft14">IST-027635/D05.5/FINAL</p>
<p style="position:absolute;top:502px;left:91px;white-space:nowrap" class="ft13"><b>Deliverable&#160;title</b></p>
<p style="position:absolute;top:493px;left:425px;white-space:nowrap" class="ft17">Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;<br/>Datacenter</p>
<p style="position:absolute;top:534px;left:91px;white-space:nowrap" class="ft13"><b>WP&#160;contributing&#160;to&#160;the&#160;deliverable</b></p>
<p style="position:absolute;top:534px;left:425px;white-space:nowrap" class="ft14">WP05</p>
<p style="position:absolute;top:560px;left:91px;white-space:nowrap" class="ft13"><b>Due&#160;date</b></p>
<p style="position:absolute;top:560px;left:425px;white-space:nowrap" class="ft14">Oct&#160;2008&#160;-&#160;M36</p>
<p style="position:absolute;top:585px;left:91px;white-space:nowrap" class="ft13"><b>Actual&#160;submission&#160;date</b></p>
<p style="position:absolute;top:585px;left:425px;white-space:nowrap" class="ft14">November&#160;21</p>
<p style="position:absolute;top:585px;left:537px;white-space:nowrap" class="ft15">st</p>
<p style="position:absolute;top:585px;left:546px;white-space:nowrap" class="ft14">,&#160;2008</p>
<p style="position:absolute;top:628px;left:91px;white-space:nowrap" class="ft13"><b>Responsible&#160;Organisation</b></p>
<p style="position:absolute;top:628px;left:424px;white-space:nowrap" class="ft14">IBM</p>
<p style="position:absolute;top:735px;left:91px;white-space:nowrap" class="ft13"><b>Authors</b></p>
<p style="position:absolute;top:658px;left:424px;white-space:nowrap" class="ft17">Contributors&#160;listed&#160;alphabetically&#160;by&#160;<br/>organisation:<br/>CUCL&#160;(Theodore&#160;Hong,&#160;Eric&#160;John,&#160;Derek&#160;<br/>Murray);&#160;HP&#160;(Serdar&#160;Cabuk,&#160;David&#160;Plaquin);&#160;<br/>IBM&#160;(Bernhard&#160;Jansen,&#160;HariGovind&#160;V.&#160;<br/>Ramasamy,&#160;Matthias&#160;Schunter);&#160;RUB&#160;(Yacine&#160;<br/>Gasmi,&#160;Ahmad-Reza&#160;Sadeghi,&#160;Patrick&#160;Stewin,&#160;<br/>Martin&#160;Unger);&#160;POL&#160;(Gianluca&#160;Ramunno,&#160;<br/>Davide&#160;Vernizzi)</p>
<p style="position:absolute;top:839px;left:91px;white-space:nowrap" class="ft13"><b>Abstract</b></p>
<p style="position:absolute;top:839px;left:424px;white-space:nowrap" class="ft17">This&#160;report&#160;describes&#160;the&#160;key&#160;concepts&#160;of&#160;the&#160;<br/>OpenTC&#160;Secure&#160;Virtual&#160;Datacenter.&#160;</p>
<p style="position:absolute;top:933px;left:91px;white-space:nowrap" class="ft13"><b>Keywords</b></p>
<p style="position:absolute;top:933px;left:424px;white-space:nowrap" class="ft14">Virtual&#160;Datacenter,&#160;Proof-of-Concept</p>
<p style="position:absolute;top:976px;left:92px;white-space:nowrap" class="ft13"><b>Dissemination&#160;level</b></p>
<p style="position:absolute;top:976px;left:423px;white-space:nowrap" class="ft14">Public</p>
<p style="position:absolute;top:1001px;left:92px;white-space:nowrap" class="ft13"><b>Revision</b></p>
<p style="position:absolute;top:1001px;left:423px;white-space:nowrap" class="ft14">FINAL</p>
<p style="position:absolute;top:1053px;left:90px;white-space:nowrap" class="ft13"><b>Instrument</b></p>
<p style="position:absolute;top:1053px;left:271px;white-space:nowrap" class="ft14">IP</p>
<p style="position:absolute;top:1043px;left:452px;white-space:nowrap" class="ft18"><b>Start&#160;date&#160;of&#160;the&#160;<br/>project</b></p>
<p style="position:absolute;top:1053px;left:633px;white-space:nowrap" class="ft14">1</p>
<p style="position:absolute;top:1052px;left:643px;white-space:nowrap" class="ft15">st</p>
<p style="position:absolute;top:1053px;left:652px;white-space:nowrap" class="ft14">&#160;November&#160;2005</p>
<p style="position:absolute;top:1081px;left:90px;white-space:nowrap" class="ft13"><b>Thematic&#160;Priority</b></p>
<p style="position:absolute;top:1081px;left:271px;white-space:nowrap" class="ft14">IST</p>
<p style="position:absolute;top:1081px;left:452px;white-space:nowrap" class="ft13"><b>Duration</b></p>
<p style="position:absolute;top:1081px;left:633px;white-space:nowrap" class="ft14">42&#160;months</p>
<p style="position:absolute;top:75px;left:674px;white-space:nowrap" class="ft16">&#160;</p>
</div>
<!-- Page 2 -->
<a name="2"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft29{font-size:26px;font-family:Helvetica;color:#000000;}
	.ft210{font-size:21px;font-family:Helvetica;color:#000000;}
	.ft211{font-size:16px;font-family:Times;color:#000000;}
	.ft212{font-size:16px;line-height:20px;font-family:Times;color:#000000;}
-->
</style>
<div id="page2-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter002.png" alt="background image"/>
<p style="position:absolute;top:191px;left:347px;white-space:nowrap" class="ft29"><b>A</b></p>
<p style="position:absolute;top:194px;left:367px;white-space:nowrap" class="ft210"><b>BSTRACT</b></p>
<p style="position:absolute;top:236px;left:141px;white-space:nowrap" class="ft212">This&#160;report&#160;describes&#160;the&#160;key&#160;concepts&#160;of&#160;the&#160;OpenTC&#160;Secure&#160;Virtual&#160;Datacenter.<br/>It&#160;is&#160;structured&#160;into&#160;two&#160;parts.</p>
<p style="position:absolute;top:277px;left:166px;white-space:nowrap" class="ft211">Part&#160;I&#160;surveys&#160;the&#160;key&#160;concepts&#160;underlying&#160;the&#160;2009&#160;proof&#160;of&#160;concept&#160;“Trusted</p>
<p style="position:absolute;top:297px;left:141px;white-space:nowrap" class="ft212">Virtual&#160;Datacenter”&#160;that&#160;demonstrates&#160;how&#160;to&#160;securely&#160;virtualize&#160;a&#160;datacenter&#160;while<br/>providing&#160;verifiable&#160;security.</p>
<p style="position:absolute;top:338px;left:166px;white-space:nowrap" class="ft211">Part&#160;II&#160;describes&#160;selected&#160;components&#160;and&#160;future&#160;directions&#160;in&#160;more&#160;detail.</p>
<p style="position:absolute;top:372px;left:288px;white-space:nowrap" class="ft29"><b>A</b></p>
<p style="position:absolute;top:376px;left:307px;white-space:nowrap" class="ft210"><b>CKNOWLEDGMENTS</b></p>
<p style="position:absolute;top:418px;left:141px;white-space:nowrap" class="ft212">The&#160;following&#160;people&#160;were&#160;the&#160;main&#160;contributors&#160;to&#160;this&#160;report&#160;(alphabetically<br/>by&#160;organization):&#160;Theodore&#160;Hong,&#160;Eric&#160;John,&#160;Derek&#160;Murray&#160;(CUCL);&#160;Serdar<br/>Cabuk,&#160;David&#160;Plaquin&#160;(HP);&#160;Bernhard&#160;Jansen,&#160;HariGovind&#160;V.&#160;Ramasamy,&#160;Matthias<br/>Schunter&#160;(IBM);&#160;Yacine&#160;Gasmi&#160;(RUB),&#160;Ahmad-Reza&#160;Sadeghi&#160;(RUB),&#160;Patrick<br/>Stewin&#160;(RUB),&#160;Martin&#160;Unger&#160;(RUB);&#160;Gianluca&#160;Ramunno&#160;(Polito),&#160;Davide&#160;Vernizzi<br/>(Polito).&#160;We&#160;would&#160;like&#160;to&#160;thank&#160;our&#160;reviewer&#160;Peter&#160;Lipp&#160;from&#160;IAIK&#160;Graz&#160;for&#160;sub-<br/>stantial&#160;feedback.</p>
<p style="position:absolute;top:560px;left:166px;white-space:nowrap" class="ft211">Furthermore,&#160;we&#160;would&#160;like&#160;to&#160;thank&#160;the&#160;other&#160;members&#160;of&#160;the&#160;OpenTC&#160;project</p>
<p style="position:absolute;top:580px;left:141px;white-space:nowrap" class="ft212">for&#160;helpful&#160;discussions&#160;and&#160;valuable&#160;contributions&#160;to&#160;the&#160;research&#160;that&#160;is&#160;docu-<br/>mented&#160;in&#160;this&#160;report.We&#160;would&#160;like&#160;to&#160;thank&#160;in&#160;particular&#160;Cataldo&#160;Basile&#160;from<br/>Politecnico&#160;di&#160;Torino,&#160;Italy,&#160;for&#160;valuable&#160;input&#160;on&#160;the&#160;policy&#160;framework.</p>
<p style="position:absolute;top:641px;left:166px;white-space:nowrap" class="ft211">This&#160;work&#160;has&#160;been&#160;partially&#160;funded&#160;by&#160;the&#160;European&#160;Commission&#160;as&#160;part&#160;of</p>
<p style="position:absolute;top:662px;left:141px;white-space:nowrap" class="ft212">the&#160;OpenTC&#160;project&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#92">[Ope08a]&#160;</a>(ref.&#160;nr.&#160;027635).&#160;It&#160;is&#160;the&#160;work&#160;of&#160;the&#160;authors&#160;alone<br/>and&#160;may&#160;not&#160;reflect&#160;the&#160;opinion&#160;of&#160;the&#160;entire&#160;project.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft211">2</p>
</div>
<!-- Page 3 -->
<a name="3"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft313{font-size:37px;font-family:Times;color:#000000;}
	.ft314{font-size:18px;font-family:Times;color:#000000;}
	.ft315{font-size:16px;font-family:Times;color:#000000;}
-->
</style>
<div id="page3-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter003.png" alt="background image"/>
<p style="position:absolute;top:301px;left:213px;white-space:nowrap" class="ft313"><b>Contents</b></p>
<p style="position:absolute;top:394px;left:213px;white-space:nowrap" class="ft314"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#5"><b>I</b></a></p>
<p style="position:absolute;top:394px;left:238px;white-space:nowrap" class="ft314"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#5"><b>Main&#160;Concepts&#160;of&#160;the&#160;OpenTC&#160;Trusted&#160;Virtual&#160;Datacenter</b></a></p>
<p style="position:absolute;top:394px;left:742px;white-space:nowrap" class="ft314"><b>5</b></p>
<p style="position:absolute;top:432px;left:213px;white-space:nowrap" class="ft315"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#6"><b>1</b></a></p>
<p style="position:absolute;top:432px;left:237px;white-space:nowrap" class="ft315"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#6"><b>Introduction&#160;and&#160;Outline</b></a></p>
<p style="position:absolute;top:432px;left:742px;white-space:nowrap" class="ft315"><b>6</b></p>
<p style="position:absolute;top:452px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#6">1.1</a></p>
<p style="position:absolute;top:452px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#6">Introduction&#160;</a>.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:452px;left:742px;white-space:nowrap" class="ft311">6</p>
<p style="position:absolute;top:473px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#8">1.2</a></p>
<p style="position:absolute;top:473px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#8">Outline&#160;of&#160;this&#160;Report&#160;</a>.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:473px;left:742px;white-space:nowrap" class="ft311">8</p>
<p style="position:absolute;top:509px;left:213px;white-space:nowrap" class="ft315"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#9"><b>2</b></a></p>
<p style="position:absolute;top:509px;left:237px;white-space:nowrap" class="ft315"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#9"><b>Secure&#160;Virtualized&#160;Datacenters</b></a></p>
<p style="position:absolute;top:509px;left:742px;white-space:nowrap" class="ft315"><b>9</b></p>
<p style="position:absolute;top:529px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#9">2.1</a></p>
<p style="position:absolute;top:529px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#9">Objectives&#160;&amp;&#160;Proof-of-concept&#160;Scenario&#160;</a>.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:529px;left:742px;white-space:nowrap" class="ft311">9</p>
<p style="position:absolute;top:550px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#10">2.2</a></p>
<p style="position:absolute;top:550px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#10">High-level&#160;Architecture&#160;</a>.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:550px;left:734px;white-space:nowrap" class="ft311">10</p>
<p style="position:absolute;top:587px;left:213px;white-space:nowrap" class="ft315"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#13"><b>3</b></a></p>
<p style="position:absolute;top:587px;left:237px;white-space:nowrap" class="ft315"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#13"><b>Policy&#160;Enforcement&#160;for&#160;Virtual&#160;Datacenters</b></a></p>
<p style="position:absolute;top:587px;left:734px;white-space:nowrap" class="ft315"><b>13</b></p>
<p style="position:absolute;top:607px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#13">3.1</a></p>
<p style="position:absolute;top:607px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#13">Security&#160;Policies&#160;for&#160;Virtual&#160;Data&#160;Centers&#160;</a>.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:607px;left:734px;white-space:nowrap" class="ft311">13</p>
<p style="position:absolute;top:627px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#20">3.2</a></p>
<p style="position:absolute;top:627px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#20">Unified&#160;Policy&#160;Enforcement&#160;for&#160;Virtual&#160;Data&#160;Centers&#160;</a>.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:627px;left:734px;white-space:nowrap" class="ft311">20</p>
<p style="position:absolute;top:683px;left:213px;white-space:nowrap" class="ft314"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#28"><b>II</b></a></p>
<p style="position:absolute;top:683px;left:244px;white-space:nowrap" class="ft314"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#28"><b>Building&#160;Blocks&#160;and&#160;Future&#160;Directions</b></a></p>
<p style="position:absolute;top:683px;left:733px;white-space:nowrap" class="ft314"><b>28</b></p>
<p style="position:absolute;top:721px;left:213px;white-space:nowrap" class="ft315"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#29"><b>4</b></a></p>
<p style="position:absolute;top:721px;left:237px;white-space:nowrap" class="ft315"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#29"><b>Automated&#160;Provisioning&#160;of&#160;Secure&#160;Virtual&#160;Networks</b></a></p>
<p style="position:absolute;top:721px;left:734px;white-space:nowrap" class="ft315"><b>29</b></p>
<p style="position:absolute;top:741px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#29">4.1</a></p>
<p style="position:absolute;top:741px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#29">Introduction&#160;to&#160;Secure&#160;Virtual&#160;Networking&#160;</a>.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:741px;left:734px;white-space:nowrap" class="ft311">29</p>
<p style="position:absolute;top:762px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#30">4.2</a></p>
<p style="position:absolute;top:762px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#30">Design&#160;Overview&#160;</a>.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:762px;left:734px;white-space:nowrap" class="ft311">30</p>
<p style="position:absolute;top:782px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#33">4.3</a></p>
<p style="position:absolute;top:782px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#33">Networking&#160;Infrastructure</a></p>
<p style="position:absolute;top:782px;left:462px;white-space:nowrap" class="ft311">.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:782px;left:734px;white-space:nowrap" class="ft311">33</p>
<p style="position:absolute;top:802px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#40">4.4</a></p>
<p style="position:absolute;top:802px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#40">TVD&#160;Infrastructure&#160;</a>.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:802px;left:734px;white-space:nowrap" class="ft311">40</p>
<p style="position:absolute;top:823px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#47">4.5</a></p>
<p style="position:absolute;top:823px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#47">Auto-deployment&#160;of&#160;Trusted&#160;Virtual&#160;Domains)&#160;</a>.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:823px;left:734px;white-space:nowrap" class="ft311">47</p>
<p style="position:absolute;top:843px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#53">4.6</a></p>
<p style="position:absolute;top:843px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#53">Implementation&#160;in&#160;Xen&#160;</a>.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:843px;left:734px;white-space:nowrap" class="ft311">53</p>
<p style="position:absolute;top:863px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#57">4.7</a></p>
<p style="position:absolute;top:863px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#57">Performance&#160;Results</a></p>
<p style="position:absolute;top:863px;left:425px;white-space:nowrap" class="ft311">.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:863px;left:734px;white-space:nowrap" class="ft311">57</p>
<p style="position:absolute;top:884px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#59">4.8</a></p>
<p style="position:absolute;top:884px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#59">Discussion&#160;</a>.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:884px;left:734px;white-space:nowrap" class="ft311">59</p>
<p style="position:absolute;top:920px;left:213px;white-space:nowrap" class="ft315"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#60"><b>5</b></a></p>
<p style="position:absolute;top:920px;left:237px;white-space:nowrap" class="ft315"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#60"><b>Dependable&#160;and&#160;Secure&#160;Virtual&#160;Datacenters</b></a></p>
<p style="position:absolute;top:920px;left:734px;white-space:nowrap" class="ft315"><b>60</b></p>
<p style="position:absolute;top:941px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#60">5.1</a></p>
<p style="position:absolute;top:941px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#60">Introduction&#160;to&#160;Dependable&#160;Virtualization&#160;</a>.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:941px;left:734px;white-space:nowrap" class="ft311">60</p>
<p style="position:absolute;top:961px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#61">5.2</a></p>
<p style="position:absolute;top:961px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#61">Related&#160;Work&#160;</a>.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:961px;left:734px;white-space:nowrap" class="ft311">61</p>
<p style="position:absolute;top:981px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#64">5.3</a></p>
<p style="position:absolute;top:981px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#64">Using&#160;Virtualization&#160;for&#160;Dependability&#160;and&#160;Security&#160;</a>.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:981px;left:734px;white-space:nowrap" class="ft311">64</p>
<p style="position:absolute;top:1002px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#67">5.4</a></p>
<p style="position:absolute;top:1002px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#67">Xen-based&#160;Implementation&#160;of&#160;Intrusion&#160;Detection&#160;and&#160;Protection&#160;</a>.</p>
<p style="position:absolute;top:1002px;left:734px;white-space:nowrap" class="ft311">67</p>
<p style="position:absolute;top:1022px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#78">5.5</a></p>
<p style="position:absolute;top:1022px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#78">Quantifying&#160;the&#160;Impact&#160;of&#160;Virtualization&#160;on&#160;Node&#160;Reliability&#160;</a>.&#160;.&#160;.</p>
<p style="position:absolute;top:1022px;left:734px;white-space:nowrap" class="ft311">78</p>
<p style="position:absolute;top:1042px;left:237px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#83">5.6</a></p>
<p style="position:absolute;top:1042px;left:275px;white-space:nowrap" class="ft311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#83">An&#160;Architecture&#160;for&#160;a&#160;More&#160;Reliable&#160;Xen&#160;VMM&#160;</a>.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:1042px;left:734px;white-space:nowrap" class="ft311">83</p>
<p style="position:absolute;top:1114px;left:478px;white-space:nowrap" class="ft311">3</p>
</div>
<!-- Page 4 -->
<a name="4"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft416{font-size:16px;font-family:Helvetica;color:#000000;}
-->
</style>
<div id="page4-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter004.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft411">4</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft416">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:195px;left:141px;white-space:nowrap" class="ft414"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#86"><b>III</b></a></p>
<p style="position:absolute;top:195px;left:180px;white-space:nowrap" class="ft414"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#86"><b>Conclusion</b></a></p>
<p style="position:absolute;top:195px;left:661px;white-space:nowrap" class="ft414"><b>86</b></p>
<p style="position:absolute;top:232px;left:141px;white-space:nowrap" class="ft415"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89"><b>Bibliography</b></a></p>
<p style="position:absolute;top:232px;left:663px;white-space:nowrap" class="ft415"><b>89</b></p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft416">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 5 -->
<a name="5"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft517{font-size:31px;font-family:Times;color:#000000;}
-->
</style>
<div id="page5-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter005.png" alt="background image"/>
<p style="position:absolute;top:462px;left:443px;white-space:nowrap" class="ft517"><b>Part&#160;I</b></p>
<p style="position:absolute;top:532px;left:238px;white-space:nowrap" class="ft513"><b>Main&#160;Concepts&#160;of&#160;the&#160;OpenTC</b></p>
<p style="position:absolute;top:577px;left:266px;white-space:nowrap" class="ft513"><b>Trusted&#160;Virtual&#160;Datacenter</b></p>
<p style="position:absolute;top:1114px;left:478px;white-space:nowrap" class="ft511">5</p>
</div>
<!-- Page 6 -->
<a name="6"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft618{font-size:22px;font-family:Times;color:#000000;}
	.ft619{font-size:16px;font-family:Times;color:#000000;}
	.ft620{font-size:12px;font-family:Times;color:#000000;}
	.ft621{font-size:9px;font-family:Times;color:#000000;}
	.ft622{font-size:13px;font-family:Times;color:#000000;}
-->
</style>
<div id="page6-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter006.png" alt="background image"/>
<p style="position:absolute;top:298px;left:141px;white-space:nowrap" class="ft617"><b>Chapter&#160;1</b></p>
<p style="position:absolute;top:368px;left:141px;white-space:nowrap" class="ft613"><b>Introduction&#160;and&#160;Outline</b></p>
<p style="position:absolute;top:465px;left:141px;white-space:nowrap" class="ft618"><b>1.1</b></p>
<p style="position:absolute;top:465px;left:189px;white-space:nowrap" class="ft618"><b>Introduction</b></p>
<p style="position:absolute;top:506px;left:141px;white-space:nowrap" class="ft612">Hardware&#160;virtualization&#160;is&#160;enjoying&#160;a&#160;resurgence&#160;of&#160;interest&#160;fueled&#160;in&#160;part&#160;by&#160;its<br/>cost-saving&#160;potential.&#160;By&#160;allowing&#160;multiple&#160;virtual&#160;machines&#160;to&#160;be&#160;hosted&#160;on&#160;a<br/>single&#160;physical&#160;server,&#160;virtualization&#160;helps&#160;improve&#160;server&#160;utilization,&#160;reduce&#160;man-<br/>agement&#160;and&#160;power&#160;costs,&#160;and&#160;control&#160;the&#160;problem&#160;of&#160;server&#160;sprawl.</p>
<p style="position:absolute;top:588px;left:166px;white-space:nowrap" class="ft611">A&#160;prominent&#160;example&#160;in&#160;this&#160;context&#160;is&#160;data&#160;centers.</p>
<p style="position:absolute;top:588px;left:555px;white-space:nowrap" class="ft611">The&#160;<i>infrastructure</i></p>
<p style="position:absolute;top:608px;left:141px;white-space:nowrap" class="ft612"><i>provider</i>,&#160;who&#160;owns,&#160;runs,&#160;and&#160;manages&#160;the&#160;data&#160;center,&#160;can&#160;transfer&#160;the&#160;cost&#160;sav-<br/>ings&#160;to&#160;its&#160;customers&#160;or&#160;<i>outsourcing&#160;companies</i>,&#160;whose&#160;virtual&#160;infrastructures&#160;are<br/>hosted&#160;on&#160;the&#160;data&#160;center’s&#160;physical&#160;resources.&#160;A&#160;large&#160;number&#160;of&#160;the&#160;companies<br/>that&#160;outsource&#160;their&#160;operations&#160;are&#160;small&#160;and&#160;medium&#160;businesses&#160;or&#160;SMBs,&#160;which<br/>cannot&#160;afford&#160;the&#160;costs&#160;of&#160;a&#160;dedicated&#160;data&#160;center&#160;in&#160;which&#160;all&#160;the&#160;data&#160;center’s<br/>resources&#160;are&#160;used&#160;to&#160;host&#160;a&#160;single&#160;company’s&#160;IT&#160;infrastructure.&#160;Hence,&#160;the&#160;IT&#160;in-<br/>frastructure&#160;belonging&#160;to&#160;multiple&#160;SMBs&#160;may&#160;be&#160;hosted&#160;inside&#160;the&#160;same&#160;data&#160;center<br/>facility.&#160;Today,&#160;even&#160;in&#160;such&#160;“shared”&#160;data&#160;centers,&#160;each&#160;run&#160;on&#160;distinct&#160;physical<br/>resources&#160;and&#160;there&#160;is&#160;no&#160;resource&#160;sharing&#160;among&#160;various&#160;customers.&#160;In&#160;this&#160;so-<br/>called&#160;<i>physical&#160;cages&#160;</i>model,&#160;the&#160;customers&#160;are&#160;physically&#160;isolated&#160;from&#160;each&#160;other<br/>in&#160;the&#160;same&#160;data&#160;center.</p>
<p style="position:absolute;top:832px;left:166px;white-space:nowrap" class="ft611">Limited&#160;trust&#160;in&#160;the&#160;security&#160;of&#160;virtual&#160;datacenters&#160;is&#160;one&#160;major&#160;reason&#160;for&#160;cus-</p>
<p style="position:absolute;top:852px;left:141px;white-space:nowrap" class="ft612">tomers&#160;not&#160;sharing&#160;physical&#160;resources.&#160;Since&#160;management&#160;is&#160;usually&#160;performed<br/>manually,&#160;administrative&#160;errors&#160;are&#160;commonplace.&#160;While&#160;this&#160;may&#160;lead&#160;to&#160;down-<br/>times&#160;in&#160;virtual&#160;datacenters&#160;used&#160;by&#160;a&#160;single&#160;customer,&#160;it&#160;can&#160;lead&#160;to&#160;information<br/>leakages&#160;to&#160;competitors&#160;if&#160;the&#160;datacenter&#160;is&#160;shared.&#160;Furthermore,&#160;multiple&#160;organi-<br/>zations&#160;will&#160;only&#160;allow&#160;sharing&#160;of&#160;physical&#160;resources&#160;if&#160;they&#160;can&#160;trust&#160;that&#160;security<br/>incidents&#160;cannot&#160;spread&#160;across&#160;the&#160;isolation&#160;boundary&#160;separating&#160;two&#160;customers.</p>
<p style="position:absolute;top:998px;left:141px;white-space:nowrap" class="ft615"><b>Security&#160;Objectives</b></p>
<p style="position:absolute;top:998px;left:294px;white-space:nowrap" class="ft611">Our&#160;main&#160;security&#160;objective&#160;is&#160;to&#160;provide&#160;isolation&#160;among</p>
<p style="position:absolute;top:1018px;left:141px;white-space:nowrap" class="ft611">different&#160;domains&#160;that&#160;is&#160;comparabl<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#6">e</a></p>
<p style="position:absolute;top:1015px;left:379px;white-space:nowrap" class="ft620"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#6">1</a></p>
<p style="position:absolute;top:1018px;left:390px;white-space:nowrap" class="ft611">with&#160;the&#160;isolation&#160;obtained&#160;by&#160;providing&#160;one</p>
<p style="position:absolute;top:1038px;left:141px;white-space:nowrap" class="ft611">infrastructure&#160;for&#160;each&#160;customer.&#160;In&#160;particular,&#160;we&#160;require&#160;a&#160;security&#160;architecture</p>
<p style="position:absolute;top:1068px;left:160px;white-space:nowrap" class="ft621">1</p>
<p style="position:absolute;top:1071px;left:165px;white-space:nowrap" class="ft622">Note&#160;that&#160;unlike&#160;physical&#160;isolation,&#160;we&#160;do&#160;not&#160;solve&#160;the&#160;problem&#160;of&#160;covert&#160;channels.</p>
<p style="position:absolute;top:1114px;left:406px;white-space:nowrap" class="ft611">6</p>
</div>
<!-- Page 7 -->
<a name="7"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft723{font-size:17px;font-family:Times;color:#000000;}
	.ft724{font-size:14px;font-family:EDWLKR+TTCADo00;color:#000000;}
	.ft725{font-size:9px;font-family:UFQSLH+TTCAEo00;color:#000000;}
	.ft726{font-size:15px;font-family:RDZRPI+TTCAFo00;color:#000000;}
	.ft727{font-size:14px;font-family:Helvetica;color:#000000;}
	.ft728{font-size:12px;font-family:ITQSVQ+CMR8;color:#000000;}
-->
</style>
<div id="page7-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter007.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft723">CHAPTER&#160;1.&#160;INTRODUCTION&#160;AND&#160;OUTLINE</p>
<p style="position:absolute;top:142px;left:742px;white-space:nowrap" class="ft711">7</p>
<p style="position:absolute;top:196px;left:213px;white-space:nowrap" class="ft712">that&#160;protects&#160;those&#160;system&#160;components&#160;that&#160;provide&#160;the&#160;required&#160;isolation&#160;or&#160;allow<br/>to&#160;verifiably&#160;reason&#160;about&#160;their&#160;trustworthiness&#160;of&#160;and&#160;also&#160;of&#160;any&#160;peer&#160;endpoint<br/>(local&#160;or&#160;remote)&#160;with&#160;a&#160;domain,&#160;i.e.,&#160;whether&#160;they&#160;conforms&#160;to&#160;the&#160;underlying<br/>security&#160;policy.</p>
<p style="position:absolute;top:277px;left:238px;white-space:nowrap" class="ft711">We&#160;achieve&#160;this&#160;by&#160;grouping&#160;VMs&#160;dispersed&#160;across&#160;multiple&#160;physical&#160;resources</p>
<p style="position:absolute;top:297px;left:213px;white-space:nowrap" class="ft712">into&#160;a&#160;<i>virtual&#160;zone&#160;</i>in&#160;which&#160;customer-specified&#160;security&#160;requirements&#160;are&#160;automat-<br/>ically&#160;enforced.&#160;Even&#160;if&#160;VMs&#160;are&#160;migrated&#160;(say,&#160;for&#160;load-balancing&#160;purposes)&#160;the<br/>logical&#160;topology&#160;reflected&#160;by&#160;the&#160;virtual&#160;domain&#160;should&#160;remain&#160;unchanged.&#160;We<br/>deploy&#160;Trusted&#160;Computing&#160;(TC)&#160;functionality&#160;to&#160;determine&#160;the&#160;trustworthiness&#160;(as-<br/>sure&#160;the&#160;integrity)&#160;of&#160;the&#160;policy&#160;enforcement&#160;components.</p>
<p style="position:absolute;top:399px;left:238px;white-space:nowrap" class="ft711">Such&#160;a&#160;model&#160;would&#160;provide&#160;better&#160;flexibility,&#160;adaptability,&#160;cost&#160;savings&#160;than</p>
<p style="position:absolute;top:419px;left:213px;white-space:nowrap" class="ft712">today’s&#160;physical&#160;cages&#160;model&#160;while&#160;still&#160;providing&#160;the&#160;main&#160;security&#160;guarantees<br/>required&#160;for&#160;applications&#160;such&#160;as&#160;datacenters.</p>
<p style="position:absolute;top:585px;left:490px;white-space:nowrap" class="ft724">Hardware&#160;Platform</p>
<p style="position:absolute;top:559px;left:513px;white-space:nowrap" class="ft724">Hypervisor</p>
<p style="position:absolute;top:536px;left:496px;white-space:nowrap" class="ft724">Security&#160;Services</p>
<p style="position:absolute;top:482px;left:450px;white-space:nowrap" class="ft724">VM</p>
<p style="position:absolute;top:491px;left:469px;white-space:nowrap" class="ft725">A1</p>
<p style="position:absolute;top:482px;left:497px;white-space:nowrap" class="ft724">VM</p>
<p style="position:absolute;top:491px;left:516px;white-space:nowrap" class="ft725">A2</p>
<p style="position:absolute;top:482px;left:554px;white-space:nowrap" class="ft724">VM</p>
<p style="position:absolute;top:491px;left:573px;white-space:nowrap" class="ft725">A3</p>
<p style="position:absolute;top:482px;left:601px;white-space:nowrap" class="ft724">VM</p>
<p style="position:absolute;top:491px;left:620px;white-space:nowrap" class="ft725">A4</p>
<p style="position:absolute;top:572px;left:334px;white-space:nowrap" class="ft726">TVD1</p>
<p style="position:absolute;top:590px;left:328px;white-space:nowrap" class="ft726">Master</p>
<p style="position:absolute;top:575px;left:338px;white-space:nowrap" class="ft726">TVD1</p>
<p style="position:absolute;top:593px;left:332px;white-space:nowrap" class="ft726">Master</p>
<p style="position:absolute;top:579px;left:342px;white-space:nowrap" class="ft726">TVD1</p>
<p style="position:absolute;top:597px;left:337px;white-space:nowrap" class="ft726">Master</p>
<p style="position:absolute;top:510px;left:451px;white-space:nowrap" class="ft724">Proxy1</p>
<p style="position:absolute;top:513px;left:618px;white-space:nowrap" class="ft727">…</p>
<p style="position:absolute;top:510px;left:554px;white-space:nowrap" class="ft724">Proxy2</p>
<p style="position:absolute;top:739px;left:490px;white-space:nowrap" class="ft724">Hardware&#160;Platform</p>
<p style="position:absolute;top:713px;left:513px;white-space:nowrap" class="ft724">Hypervisor</p>
<p style="position:absolute;top:690px;left:496px;white-space:nowrap" class="ft724">Security&#160;Services</p>
<p style="position:absolute;top:636px;left:450px;white-space:nowrap" class="ft724">VM</p>
<p style="position:absolute;top:645px;left:470px;white-space:nowrap" class="ft725">B1</p>
<p style="position:absolute;top:636px;left:497px;white-space:nowrap" class="ft724">VM</p>
<p style="position:absolute;top:645px;left:517px;white-space:nowrap" class="ft725">B2</p>
<p style="position:absolute;top:636px;left:546px;white-space:nowrap" class="ft724">VM</p>
<p style="position:absolute;top:645px;left:565px;white-space:nowrap" class="ft725">B3</p>
<p style="position:absolute;top:636px;left:592px;white-space:nowrap" class="ft724">VM</p>
<p style="position:absolute;top:645px;left:611px;white-space:nowrap" class="ft725">B4</p>
<p style="position:absolute;top:664px;left:451px;white-space:nowrap" class="ft724">Proxy1</p>
<p style="position:absolute;top:667px;left:618px;white-space:nowrap" class="ft727">…</p>
<p style="position:absolute;top:664px;left:554px;white-space:nowrap" class="ft724">Proxy2</p>
<p style="position:absolute;top:785px;left:306px;white-space:nowrap" class="ft711">Figure&#160;1.1:&#160;TVD&#160;Architecture:&#160;High-Level&#160;Overview.</p>
<p style="position:absolute;top:865px;left:213px;white-space:nowrap" class="ft715"><b>Contribution</b></p>
<p style="position:absolute;top:865px;left:320px;white-space:nowrap" class="ft711">In&#160;this&#160;deliverable,&#160;we&#160;provide&#160;a&#160;blueprint&#160;for&#160;realizing&#160;a&#160;logical</p>
<p style="position:absolute;top:886px;left:213px;white-space:nowrap" class="ft712">cages&#160;model,&#160;in&#160;particular&#160;for&#160;virtualized&#160;data&#160;centers,&#160;based&#160;on&#160;a&#160;concept&#160;called<br/>Trusted&#160;Virtual&#160;Domains&#160;or&#160;TVDs&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">[BGJ</a></p>
<p style="position:absolute;top:903px;left:484px;white-space:nowrap" class="ft728"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">+</a></p>
<p style="position:absolute;top:906px;left:495px;white-space:nowrap" class="ft711"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">05]</a>.&#160;Based&#160;on&#160;previous&#160;work,&#160;we&#160;de-</p>
<p style="position:absolute;top:926px;left:213px;white-space:nowrap" class="ft712">scribe&#160;a&#160;security&#160;management&#160;framework&#160;that&#160;helps&#160;to&#160;realize&#160;the&#160;abstraction&#160;of<br/>TVDs&#160;by&#160;guaranteeing&#160;reliable&#160;isolation&#160;and&#160;flow&#160;control&#160;between&#160;domain&#160;bound-<br/>aries.&#160;Our&#160;framework&#160;employs&#160;networking&#160;and&#160;storage&#160;virtualization&#160;technolo-<br/>gies&#160;as&#160;well&#160;as&#160;Trusted&#160;Computing&#160;for&#160;policy&#160;verification.&#160;Our&#160;main&#160;contributions<br/>are&#160;(1)&#160;combining&#160;these&#160;technologies&#160;to&#160;realize&#160;TVDs&#160;and&#160;(2)&#160;orchestrating&#160;them<br/>through&#160;a&#160;management&#160;framework&#160;that&#160;automatically&#160;enforces&#160;isolation&#160;among&#160;dif-<br/>ferent&#160;zones.&#160;In&#160;particular,&#160;our&#160;solution&#160;aims&#160;at&#160;automating&#160;the&#160;verification,&#160;instan-<br/>tiation&#160;and&#160;deployment&#160;of&#160;the&#160;appropriate&#160;security&#160;mechanisms&#160;and&#160;virtualization</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft716">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 8 -->
<a name="8"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page8-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter008.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft811">8</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft816">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft812">technologies&#160;based&#160;on&#160;an&#160;input&#160;security&#160;model,&#160;which&#160;specifies&#160;the&#160;required&#160;level<br/>of&#160;isolation&#160;and&#160;permitted&#160;information&#160;flows.</p>
<p style="position:absolute;top:265px;left:141px;white-space:nowrap" class="ft818"><b>1.2</b></p>
<p style="position:absolute;top:265px;left:189px;white-space:nowrap" class="ft818"><b>Outline&#160;of&#160;this&#160;Report</b></p>
<p style="position:absolute;top:306px;left:141px;white-space:nowrap" class="ft811">This&#160;deliverable&#160;is&#160;structured&#160;into&#160;three&#160;parts.</p>
<p style="position:absolute;top:326px;left:166px;white-space:nowrap" class="ft811">Part&#160;I&#160;introduces&#160;the&#160;objectives&#160;and&#160;main&#160;concepts&#160;of&#160;a&#160;trusted&#160;virtual&#160;datacen-</p>
<p style="position:absolute;top:346px;left:141px;white-space:nowrap" class="ft812">ter.&#160;This&#160;includes&#160;the&#160;the&#160;high-level&#160;architecture&#160;documented&#160;in&#160;Chapter&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#9">2&#160;</a>and&#160;the<br/>policy&#160;enforcement,&#160;refinement,&#160;and&#160;management&#160;in&#160;Chapter&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#13">3.</a></p>
<p style="position:absolute;top:387px;left:166px;white-space:nowrap" class="ft811">Part&#160;II&#160;then&#160;documents&#160;details&#160;of&#160;two&#160;building&#160;blocks,&#160;namely&#160;networking&#160;and</p>
<p style="position:absolute;top:407px;left:141px;white-space:nowrap" class="ft812">dependability.&#160;Chapter&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#29">4&#160;</a>describes&#160;our&#160;revised&#160;and&#160;detailed&#160;description&#160;of&#160;auto-<br/>mated&#160;provisioning&#160;of&#160;virtual&#160;networks&#160;and&#160;their&#160;security&#160;elements&#160;such&#160;as&#160;fire-<br/>walls&#160;and&#160;Virtual&#160;Private&#160;Networks&#160;(VPN).&#160;Chapter&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#60">5&#160;</a>investigates&#160;how&#160;to&#160;increase<br/>the&#160;dependability&#160;of&#160;datacenters&#160;in&#160;order&#160;to&#160;allow&#160;virtualization&#160;of&#160;mission-critical<br/>applications.&#160;This&#160;chapter&#160;concludes&#160;by&#160;proposing&#160;a&#160;dependability-enhanced&#160;archi-<br/>tecture&#160;for&#160;the&#160;Xen&#160;hypervisor&#160;where&#160;different&#160;virtual&#160;machines&#160;monitor&#160;each&#160;other.<br/>Whenever&#160;failures&#160;are&#160;detected,&#160;the&#160;machines&#160;are&#160;then&#160;dynamically&#160;rejuvenated&#160;to<br/>retain&#160;service.</p>
<p style="position:absolute;top:570px;left:166px;white-space:nowrap" class="ft811">Part&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#86">III&#160;</a>concludes&#160;this&#160;report,&#160;contains&#160;an&#160;appendix&#160;with&#160;an&#160;extensive&#160;bibliog-</p>
<p style="position:absolute;top:590px;left:141px;white-space:nowrap" class="ft811">raphy&#160;of&#160;related&#160;work.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft816">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 9 -->
<a name="9"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page9-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter009.png" alt="background image"/>
<p style="position:absolute;top:298px;left:213px;white-space:nowrap" class="ft917"><b>Chapter&#160;2</b></p>
<p style="position:absolute;top:368px;left:213px;white-space:nowrap" class="ft913"><b>Secure&#160;Virtualized&#160;Datacenters</b></p>
<p style="position:absolute;top:463px;left:213px;white-space:nowrap" class="ft912">We&#160;now&#160;outline&#160;the&#160;OpenTC&#160;2009&#160;proof&#160;of&#160;concept&#160;prototype&#160;and&#160;its&#160;main&#160;archi-<br/>tectural&#160;elements.</p>
<p style="position:absolute;top:532px;left:213px;white-space:nowrap" class="ft918"><b>2.1</b></p>
<p style="position:absolute;top:532px;left:261px;white-space:nowrap" class="ft918"><b>Objectives&#160;&amp;&#160;Proof-of-concept&#160;Scenario</b></p>
<p style="position:absolute;top:572px;left:213px;white-space:nowrap" class="ft914"><b>2.1.1</b></p>
<p style="position:absolute;top:572px;left:266px;white-space:nowrap" class="ft914"><b>Main&#160;Objectives</b></p>
<p style="position:absolute;top:605px;left:213px;white-space:nowrap" class="ft912">We&#160;have&#160;built&#160;a&#160;virtual&#160;datacenter&#160;that&#160;should&#160;be&#160;comparable&#160;with&#160;a&#160;consolidated<br/>and&#160;simplified&#160;version&#160;of&#160;today’s&#160;datacenters.&#160;Like&#160;today,&#160;a&#160;datacenter&#160;will&#160;e&#160;used<br/>by&#160;many&#160;customers.&#160;As&#160;a&#160;consequence,&#160;customer&#160;isolation&#160;is&#160;of&#160;paramount&#160;impor-<br/>tance.</p>
<p style="position:absolute;top:686px;left:238px;white-space:nowrap" class="ft911">The&#160;next&#160;important&#160;observation&#160;is&#160;that&#160;customers&#160;are&#160;usually&#160;transitioned&#160;from</p>
<p style="position:absolute;top:706px;left:213px;white-space:nowrap" class="ft912">their&#160;own&#160;legacy&#160;datacenters&#160;into&#160;a&#160;shared&#160;datacenter.&#160;As&#160;a&#160;consequence,&#160;each<br/>customer&#160;usually&#160;has&#160;a&#160;legacy&#160;way&#160;of&#160;managing&#160;its&#160;datacenter.&#160;This&#160;legacy&#160;way<br/>should&#160;be&#160;supported&#160;by&#160;the&#160;new&#160;datacenter.&#160;Ideally,&#160;whatever&#160;hard-&#160;and&#160;software<br/>as&#160;well&#160;as&#160;management&#160;infrastructure&#160;a&#160;customer&#160;had&#160;should&#160;be&#160;virtualized&#160;and<br/>supported&#160;by&#160;the&#160;new&#160;virtual&#160;datacenter.</p>
<p style="position:absolute;top:831px;left:213px;white-space:nowrap" class="ft914"><b>2.1.2</b></p>
<p style="position:absolute;top:831px;left:266px;white-space:nowrap" class="ft914"><b>Virtual&#160;Datacenter&#160;Scenario</b></p>
<p style="position:absolute;top:864px;left:213px;white-space:nowrap" class="ft912">The&#160;scenario&#160;we&#160;want&#160;to&#160;demonstrate&#160;has&#160;multiple&#160;sub-scenarios&#160;with&#160;increasing<br/>complexity:</p>
<p style="position:absolute;top:918px;left:213px;white-space:nowrap" class="ft915"><b>“Physical&#160;Systems”&#160;Management&#160;</b>The&#160;first&#160;scenario&#160;is&#160;the&#160;provisioning&#160;of&#160;for-</p>
<p style="position:absolute;top:938px;left:253px;white-space:nowrap" class="ft912">merly&#160;physical&#160;systems.&#160;The&#160;scenario&#160;we&#160;build&#160;is&#160;a&#160;customer&#160;who&#160;boots&#160;a<br/>server&#160;and&#160;installs&#160;this&#160;server&#160;from&#160;the&#160;network.&#160;For&#160;this&#160;scenario,&#160;virtualiza-<br/>tion&#160;should&#160;be&#160;transparent.</p>
<p style="position:absolute;top:1013px;left:213px;white-space:nowrap" class="ft915"><b>Hosting&#160;Media&#160;Services&#160;</b>The&#160;second&#160;scenario&#160;is&#160;to&#160;use&#160;the&#160;datacenter&#160;to&#160;host&#160;me-</p>
<p style="position:absolute;top:1033px;left:253px;white-space:nowrap" class="ft912">dia&#160;services.&#160;The&#160;goal&#160;is&#160;to&#160;allow&#160;outsiders&#160;to&#160;play&#160;media&#160;iff&#160;their&#160;platform<br/>has&#160;been&#160;validated&#160;and&#160;deemed&#160;trustworthy.</p>
<p style="position:absolute;top:1114px;left:478px;white-space:nowrap" class="ft911">9</p>
</div>
<!-- Page 10 -->
<a name="10"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page10-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter010.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft1011">10</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft1016">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft1015"><b>Virtual&#160;Systems&#160;Management&#160;</b>The&#160;third&#160;scenario&#160;aims&#160;at&#160;virtualizing&#160;virtual&#160;sys-</p>
<p style="position:absolute;top:216px;left:182px;white-space:nowrap" class="ft1012">tems.&#160;The&#160;key&#160;idea&#160;is&#160;that&#160;today,&#160;customers&#160;will&#160;have&#160;virtualized&#160;systems<br/>such&#160;as&#160;Xen&#160;that&#160;need&#160;to&#160;be&#160;embedded&#160;and&#160;managed&#160;as&#160;a&#160;part&#160;of&#160;our&#160;virtual<br/>datacenter.</p>
<p style="position:absolute;top:284px;left:182px;white-space:nowrap" class="ft1012">We&#160;do&#160;this&#160;by&#160;migrating&#160;a&#160;Xen&#160;installation&#160;into&#160;our&#160;datacenter&#160;and&#160;then&#160;com-<br/>puting&#160;a&#160;view&#160;of&#160;the&#160;datacenter&#160;that&#160;corresponds&#160;to&#160;the&#160;former&#160;Xen&#160;installa-<br/>tion.</p>
<p style="position:absolute;top:373px;left:141px;white-space:nowrap" class="ft1018"><b>2.2</b></p>
<p style="position:absolute;top:373px;left:189px;white-space:nowrap" class="ft1018"><b>High-level&#160;Architecture</b></p>
<p style="position:absolute;top:414px;left:141px;white-space:nowrap" class="ft1012">We&#160;now&#160;describe&#160;the&#160;architecture&#160;of&#160;our&#160;demonstrator.&#160;This&#160;architecture&#160;has&#160;several<br/>components,&#160;namely&#160;hosts,&#160;networks,&#160;storage,&#160;virtual&#160;machines,&#160;and&#160;software.</p>
<p style="position:absolute;top:478px;left:141px;white-space:nowrap" class="ft1014"><b>2.2.1</b></p>
<p style="position:absolute;top:478px;left:195px;white-space:nowrap" class="ft1014"><b>Network&#160;Architecture</b></p>
<p style="position:absolute;top:511px;left:141px;white-space:nowrap" class="ft1012">We&#160;use&#160;the&#160;trusted&#160;virtual&#160;domain&#160;model&#160;to&#160;isolate&#160;different&#160;networks.&#160;In&#160;this&#160;model<br/>each&#160;domain&#160;is&#160;isolated&#160;from&#160;other&#160;domains&#160;while&#160;being&#160;only&#160;permitted&#160;to&#160;commu-<br/>nicate&#160;via&#160;well-defined&#160;gateways.</p>
<p style="position:absolute;top:572px;left:166px;white-space:nowrap" class="ft1011">In&#160;order&#160;to&#160;structure&#160;the&#160;demonstrator,&#160;we&#160;have&#160;defined&#160;the&#160;following&#160;domains</p>
<p style="position:absolute;top:592px;left:141px;white-space:nowrap" class="ft1011">(see&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#11">2.1)</a>:</p>
<p style="position:absolute;top:626px;left:141px;white-space:nowrap" class="ft1015"><b>Customer&#160;application&#160;zone&#160;</b>This&#160;domain&#160;constitutes&#160;a&#160;network&#160;of&#160;a&#160;given&#160;cus-</p>
<p style="position:absolute;top:646px;left:182px;white-space:nowrap" class="ft1012">tomer.&#160;It&#160;transports&#160;the&#160;application&#160;traffic&#160;of&#160;a&#160;given&#160;customer.&#160;Ordinary<br/>users&#160;can&#160;access&#160;this&#160;network.</p>
<p style="position:absolute;top:700px;left:141px;white-space:nowrap" class="ft1015"><b>Customer&#160;management&#160;zone&#160;</b>This&#160;domain&#160;is&#160;the&#160;management&#160;network&#160;of&#160;a&#160;given</p>
<p style="position:absolute;top:720px;left:182px;white-space:nowrap" class="ft1012">customer.&#160;It&#160;is&#160;used&#160;for&#160;provisioning&#160;of&#160;virtual&#160;machines,&#160;monitoring&#160;ma-<br/>chines,&#160;and&#160;management&#160;of&#160;application&#160;zones&#160;of&#160;this&#160;customer.&#160;Administra-<br/>tors&#160;of&#160;each&#160;customer&#160;can&#160;access&#160;the&#160;corresponding&#160;management&#160;zone.</p>
<p style="position:absolute;top:795px;left:141px;white-space:nowrap" class="ft1015"><b>Datacenter&#160;management&#160;zone&#160;</b>This&#160;network&#160;is&#160;used&#160;by&#160;the&#160;datacenter&#160;adminis-</p>
<p style="position:absolute;top:815px;left:182px;white-space:nowrap" class="ft1012">trators&#160;to&#160;manage&#160;the&#160;overall&#160;datacenter.&#160;This&#160;includes&#160;setting&#160;up&#160;new&#160;do-<br/>mains,&#160;assigning&#160;resources,&#160;or&#160;removing&#160;domains.&#160;This&#160;domain&#160;is&#160;also&#160;used<br/>for&#160;management&#160;communication&#160;between&#160;the&#160;different&#160;domains.</p>
<p style="position:absolute;top:890px;left:141px;white-space:nowrap" class="ft1015"><b>Demilitarized&#160;Zone&#160;</b>The&#160;DMZ&#160;allows&#160;customers&#160;to&#160;connect&#160;to&#160;the&#160;Internet&#160;and</p>
<p style="position:absolute;top:910px;left:182px;white-space:nowrap" class="ft1012">allows&#160;outsiders&#160;to&#160;establish&#160;connections&#160;to&#160;a&#160;TVD.&#160;The&#160;former&#160;is&#160;done&#160;by<br/>establishing&#160;gateway&#160;machines&#160;that&#160;connect&#160;to&#160;the&#160;internal&#160;zone&#160;and&#160;DMZ.<br/>The&#160;latter&#160;is&#160;achieved&#160;by&#160;TVD&#160;proxy&#160;factories&#160;connecting&#160;to&#160;the&#160;DMZ.</p>
<p style="position:absolute;top:985px;left:141px;white-space:nowrap" class="ft1015"><b>Storage&#160;Area&#160;Network&#160;</b>The&#160;storage&#160;area&#160;network&#160;provides&#160;virtual&#160;storage&#160;to&#160;all</p>
<p style="position:absolute;top:1005px;left:182px;white-space:nowrap" class="ft1012">physical&#160;hosts&#160;in&#160;a&#160;datacenter.&#160;The&#160;management&#160;components&#160;can&#160;then&#160;con-<br/>nect&#160;selected&#160;storage&#160;unites&#160;to&#160;given&#160;virtual&#160;machines.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft1016">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 11 -->
<a name="11"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1129{font-size:12px;font-family:Helvetica;color:#7f7f7f;}
	.ft1130{font-size:12px;font-family:Helvetica;color:#007f00;}
	.ft1131{font-size:12px;font-family:Helvetica;color:#000000;}
	.ft1132{font-size:12px;font-family:Helvetica;color:#0000ff;}
	.ft1133{font-size:11px;font-family:Helvetica;color:#000000;}
	.ft1134{font-size:13px;font-family:Helvetica;color:#000000;}
	.ft1135{font-size:9px;font-family:Helvetica;color:#000000;}
	.ft1136{font-size:13px;font-family:Helvetica;color:#000000;-moz-transform: matrix(         0,          1, -0.996363274,          0, 0, 0);-webkit-transform: matrix(         0,          1, -0.996363274,          0, 0, 0);-o-transform: matrix(         0,          1, -0.996363274,          0, 0, 0);-ms-transform: matrix(         0,          1, -0.996363274,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft1137{font-size:12px;line-height:11px;font-family:Helvetica;color:#0000ff;}
-->
</style>
<div id="page11-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter011.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft1123">CHAPTER&#160;2.&#160;SECURE&#160;VIRTUALIZED&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft1111">11</p>
<p style="position:absolute;top:204px;left:318px;white-space:nowrap" class="ft1116">Cust.&#160;1-A</p>
<p style="position:absolute;top:204px;left:401px;white-space:nowrap" class="ft1116">Cust.&#160;1-B</p>
<p style="position:absolute;top:204px;left:493px;white-space:nowrap" class="ft1116">Cust.&#160;2-A</p>
<p style="position:absolute;top:204px;left:577px;white-space:nowrap" class="ft1116">Cust.&#160;2-B</p>
<p style="position:absolute;top:252px;left:523px;white-space:nowrap" class="ft1116">Cust&#160;2&#160;Mgmt</p>
<p style="position:absolute;top:252px;left:347px;white-space:nowrap" class="ft1116">Cust&#160;1&#160;Mgmt</p>
<p style="position:absolute;top:300px;left:419px;white-space:nowrap" class="ft1116">Datacenter&#160;Mgmt</p>
<p style="position:absolute;top:351px;left:285px;white-space:nowrap" class="ft1111">Figure&#160;2.1:&#160;Trusted&#160;Virtual&#160;Domains&#160;of&#160;a&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:401px;left:238px;white-space:nowrap" class="ft1111">These&#160;network&#160;allows&#160;clear&#160;isolation&#160;of&#160;different&#160;customers&#160;while&#160;providing&#160;a</p>
<p style="position:absolute;top:421px;left:213px;white-space:nowrap" class="ft1111">backbone&#160;management&#160;network&#160;for&#160;the&#160;TVDC&#160;infrastructure&#160;to&#160;communicate.</p>
<p style="position:absolute;top:442px;left:238px;white-space:nowrap" class="ft1111">Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#11">2.2&#160;</a>depicts&#160;the&#160;details&#160;of&#160;the&#160;networking&#160;for&#160;a&#160;single&#160;user-level&#160;TVD.</p>
<p style="position:absolute;top:462px;left:213px;white-space:nowrap" class="ft1112">It&#160;is&#160;important&#160;to&#160;note&#160;that&#160;the&#160;datacenter&#160;hosts&#160;are&#160;booted&#160;from&#160;the&#160;network&#160;us-<br/>ing&#160;the&#160;Preboot&#160;eXecution&#160;Environment&#160;(PXE).&#160;This&#160;allows&#160;the&#160;administrators&#160;to<br/>seamlessly&#160;add&#160;and&#160;remove&#160;physical&#160;hosts.</p>
<p style="position:absolute;top:752px;left:233px;white-space:nowrap" class="ft1129">VDC</p>
<p style="position:absolute;top:764px;left:233px;white-space:nowrap" class="ft1130">SAN</p>
<p style="position:absolute;top:741px;left:233px;white-space:nowrap" class="ft1131">DMZ</p>
<p style="position:absolute;top:718px;left:213px;white-space:nowrap" class="ft1137">TVDusr<br/>TVDmgn</p>
<p style="position:absolute;top:595px;left:405px;white-space:nowrap" class="ft1133">TVDproxy</p>
<p style="position:absolute;top:608px;left:411px;white-space:nowrap" class="ft1133">Factory</p>
<p style="position:absolute;top:590px;left:328px;white-space:nowrap" class="ft1133">TVDproxy</p>
<p style="position:absolute;top:630px;left:308px;white-space:nowrap" class="ft1133">vSwitch</p>
<p style="position:absolute;top:643px;left:310px;white-space:nowrap" class="ft1133">(mgnt.)</p>
<p style="position:absolute;top:630px;left:372px;white-space:nowrap" class="ft1133">vSwitch</p>
<p style="position:absolute;top:643px;left:377px;white-space:nowrap" class="ft1133">(user)</p>
<p style="position:absolute;top:676px;left:249px;white-space:nowrap" class="ft1134">XenAPI</p>
<p style="position:absolute;top:631px;left:245px;white-space:nowrap" class="ft1133">APIfilter</p>
<p style="position:absolute;top:676px;left:362px;white-space:nowrap" class="ft1134">Xen</p>
<p style="position:absolute;top:576px;left:232px;white-space:nowrap" class="ft1135">DC&#160;Host&#160;Platform</p>
<p style="position:absolute;top:582px;left:660px;white-space:nowrap" class="ft1134">TVD</p>
<p style="position:absolute;top:597px;left:653px;white-space:nowrap" class="ft1134">Master</p>
<p style="position:absolute;top:714px;left:693px;white-space:nowrap" class="ft1136">F</p>
<p style="position:absolute;top:722px;left:693px;white-space:nowrap" class="ft1136">ire</p>
<p style="position:absolute;top:736px;left:693px;white-space:nowrap" class="ft1136">w</p>
<p style="position:absolute;top:745px;left:693px;white-space:nowrap" class="ft1136">a</p>
<p style="position:absolute;top:752px;left:693px;white-space:nowrap" class="ft1136">ll</p>
<p style="position:absolute;top:714px;left:731px;white-space:nowrap" class="ft1136">In</p>
<p style="position:absolute;top:725px;left:731px;white-space:nowrap" class="ft1136">te</p>
<p style="position:absolute;top:736px;left:731px;white-space:nowrap" class="ft1136">rn</p>
<p style="position:absolute;top:747px;left:731px;white-space:nowrap" class="ft1136">e</p>
<p style="position:absolute;top:754px;left:731px;white-space:nowrap" class="ft1136">t</p>
<p style="position:absolute;top:630px;left:535px;white-space:nowrap" class="ft1133">DHCP</p>
<p style="position:absolute;top:643px;left:534px;white-space:nowrap" class="ft1133">Server</p>
<p style="position:absolute;top:595px;left:560px;white-space:nowrap" class="ft1133">PXEboot</p>
<p style="position:absolute;top:608px;left:566px;white-space:nowrap" class="ft1133">Server</p>
<p style="position:absolute;top:576px;left:486px;white-space:nowrap" class="ft1135">DC&#160;infrastructure&#160;components</p>
<p style="position:absolute;top:665px;left:527px;white-space:nowrap" class="ft1133">DNS</p>
<p style="position:absolute;top:678px;left:522px;white-space:nowrap" class="ft1133">Server</p>
<p style="position:absolute;top:665px;left:603px;white-space:nowrap" class="ft1133">NFS</p>
<p style="position:absolute;top:678px;left:598px;white-space:nowrap" class="ft1133">Server</p>
<p style="position:absolute;top:630px;left:629px;white-space:nowrap" class="ft1133">NFS</p>
<p style="position:absolute;top:643px;left:624px;white-space:nowrap" class="ft1133">Server</p>
<p style="position:absolute;top:537px;left:295px;white-space:nowrap" class="ft1133">TVD&#160;mgnt.</p>
<p style="position:absolute;top:550px;left:295px;white-space:nowrap" class="ft1133">Server&#160;VM</p>
<p style="position:absolute;top:537px;left:370px;white-space:nowrap" class="ft1133">TVD&#160;Guest</p>
<p style="position:absolute;top:550px;left:390px;white-space:nowrap" class="ft1133">VM</p>
<p style="position:absolute;top:595px;left:485px;white-space:nowrap" class="ft1133">VDC&#160;mgnt.</p>
<p style="position:absolute;top:608px;left:496px;white-space:nowrap" class="ft1133">Server</p>
<p style="position:absolute;top:807px;left:302px;white-space:nowrap" class="ft1111">Figure&#160;2.2:&#160;Networking&#160;Details&#160;of&#160;a&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:868px;left:213px;white-space:nowrap" class="ft1114"><b>2.2.2</b></p>
<p style="position:absolute;top:868px;left:266px;white-space:nowrap" class="ft1114"><b>Multi-Tenant&#160;Management</b></p>
<p style="position:absolute;top:901px;left:213px;white-space:nowrap" class="ft1112">An&#160;important&#160;goal&#160;of&#160;our&#160;prototype&#160;is&#160;to&#160;enable&#160;heterogeneous&#160;management.&#160;This<br/>means&#160;that&#160;each&#160;customer&#160;should&#160;be&#160;able&#160;to&#160;use&#160;arbitrary&#160;existing&#160;management<br/>tools&#160;to&#160;manage&#160;their&#160;domains:&#160;While&#160;the&#160;datacenter&#160;operator&#160;uses&#160;given&#160;software<br/>to&#160;assign&#160;resources&#160;quotas&#160;to&#160;each&#160;customer,&#160;the&#160;respective&#160;customer&#160;can&#160;then&#160;use<br/>his&#160;existing&#160;management&#160;tools&#160;to&#160;use&#160;these&#160;resources&#160;to&#160;build&#160;virtual&#160;machines&#160;on<br/>assigned&#160;hosts.</p>
<p style="position:absolute;top:1023px;left:238px;white-space:nowrap" class="ft1111">We&#160;implement&#160;this&#160;multi-tenant&#160;concept&#160;by&#160;providing&#160;filtered&#160;instances&#160;of&#160;the</p>
<p style="position:absolute;top:1043px;left:213px;white-space:nowrap" class="ft1112">XenAPI&#160;to&#160;individual&#160;customers&#160;while&#160;providing&#160;the&#160;complete&#160;XenAPIs&#160;only&#160;to&#160;the<br/>datacenter&#160;operator.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft1116">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 12 -->
<a name="12"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1238{font-size:16px;font-family:Courier;color:#000000;}
	.ft1239{font-size:13px;font-family:Helvetica;color:#7f7f7f;}
	.ft1240{font-size:9px;font-family:Helvetica;color:#b84646;}
	.ft1241{font-size:13px;font-family:Helvetica;color:#b84646;}
	.ft1242{font-size:13px;font-family:Helvetica;color:#000000;}
	.ft1243{font-size:13px;font-family:Helvetica;color:#0046ff;}
	.ft1244{font-size:13px;font-family:Courier;color:#000000;}
	.ft1245{font-size:9px;line-height:9px;font-family:Helvetica;color:#000000;}
-->
</style>
<div id="page12-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter012.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft1211">12</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft1216">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:166px;white-space:nowrap" class="ft1211">This&#160;is&#160;depicted&#160;in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#12">2.3:&#160;</a>For&#160;each&#160;customer,&#160;a&#160;XenAPI&#160;filter&#160;component&#160;is</p>
<p style="position:absolute;top:216px;left:141px;white-space:nowrap" class="ft1212">providing&#160;the&#160;corresponding&#160;filtered&#160;XenAPI&#160;service&#160;to&#160;the&#160;management&#160;network<br/>of&#160;the&#160;given&#160;customer.&#160;The&#160;basic&#160;idea&#160;is&#160;that&#160;the&#160;filter&#160;obtains&#160;the&#160;list&#160;of&#160;VMs<br/>that&#160;belong&#160;to&#160;a&#160;given&#160;customer&#160;and&#160;strips&#160;all&#160;other&#160;machines&#160;from&#160;the&#160;returned<br/>information.&#160;Similarly,&#160;other&#160;elements&#160;(storage/network)&#160;that&#160;do&#160;not&#160;belong&#160;to&#160;this<br/>customer&#160;are&#160;stripped.</p>
<p style="position:absolute;top:317px;left:166px;white-space:nowrap" class="ft1211">The&#160;XenAPI&#160;filter&#160;then&#160;forwards&#160;commands&#160;to&#160;the&#160;internal&#160;XenAPI&#160;provider.</p>
<p style="position:absolute;top:338px;left:141px;white-space:nowrap" class="ft1212">This&#160;provider&#160;in&#160;turn&#160;forwards&#160;non-security&#160;commands&#160;to&#160;the&#160;existing&#160;XenAPI&#160;pro-<br/>vided&#160;by</p>
<p style="position:absolute;top:359px;left:202px;white-space:nowrap" class="ft1238">xend</p>
<p style="position:absolute;top:358px;left:245px;white-space:nowrap" class="ft1211">while&#160;forwarding&#160;security&#160;extensions&#160;to&#160;the&#160;OpenTC&#160;compartment</p>
<p style="position:absolute;top:378px;left:141px;white-space:nowrap" class="ft1211">manager.</p>
<p style="position:absolute;top:421px;left:298px;white-space:nowrap" class="ft1239"><b>API-TVDfilter</b></p>
<p style="position:absolute;top:435px;left:292px;white-space:nowrap" class="ft1240">(limit&#160;visibility&#160;of&#160;resrcs.)</p>
<p style="position:absolute;top:416px;left:208px;white-space:nowrap" class="ft1233">IF&#160;on</p>
<p style="position:absolute;top:427px;left:197px;white-space:nowrap" class="ft1233">Mgnt.&#160;net</p>
<p style="position:absolute;top:429px;left:221px;white-space:nowrap" class="ft1233">IF&#160;on</p>
<p style="position:absolute;top:440px;left:210px;white-space:nowrap" class="ft1233">Mgnt.&#160;net</p>
<p style="position:absolute;top:416px;left:480px;white-space:nowrap" class="ft1239"><b>TVD&#160;Proxy</b></p>
<p style="position:absolute;top:430px;left:466px;white-space:nowrap" class="ft1240">(Enforcing&#160;TVD&#160;policies,&#160;</p>
<p style="position:absolute;top:440px;left:481px;white-space:nowrap" class="ft1240">controlling&#160;vNet)</p>
<p style="position:absolute;top:429px;left:492px;white-space:nowrap" class="ft1241"><b>TVD&#160;Proxy</b></p>
<p style="position:absolute;top:443px;left:479px;white-space:nowrap" class="ft1240">(Enforcing&#160;TVD&#160;policies,&#160;</p>
<p style="position:absolute;top:453px;left:494px;white-space:nowrap" class="ft1240">controlling&#160;vNet)</p>
<p style="position:absolute;top:434px;left:311px;white-space:nowrap" class="ft1241"><b>API-TVDfilter</b></p>
<p style="position:absolute;top:448px;left:305px;white-space:nowrap" class="ft1240">(limit&#160;visibility&#160;of&#160;resrcs.)</p>
<p style="position:absolute;top:585px;left:477px;white-space:nowrap" class="ft1242"><b>Compartment&#160;Manager</b></p>
<p style="position:absolute;top:599px;left:510px;white-space:nowrap" class="ft1240">(starting/stopping&#160;of</p>
<p style="position:absolute;top:608px;left:501px;white-space:nowrap" class="ft1240">SecServ&#160;managed&#160;VMs)</p>
<p style="position:absolute;top:442px;left:505px;white-space:nowrap" class="ft1243"><b>TVD&#160;Proxy</b></p>
<p style="position:absolute;top:456px;left:492px;white-space:nowrap" class="ft1240">(Enforcing&#160;TVD&#160;policies,&#160;</p>
<p style="position:absolute;top:466px;left:507px;white-space:nowrap" class="ft1240">controlling&#160;vNet)</p>
<p style="position:absolute;top:657px;left:327px;white-space:nowrap" class="ft1234">XenAPI&#160;(Xend)</p>
<p style="position:absolute;top:590px;left:328px;white-space:nowrap" class="ft1242"><b>API-basefilter</b></p>
<p style="position:absolute;top:604px;left:320px;white-space:nowrap" class="ft1240">(intercept&#160;VM&#160;commands)</p>
<p style="position:absolute;top:447px;left:324px;white-space:nowrap" class="ft1243"><b>API-TVDfilter</b></p>
<p style="position:absolute;top:461px;left:318px;white-space:nowrap" class="ft1240">(limit&#160;visibility&#160;of&#160;resrcs.)</p>
<p style="position:absolute;top:525px;left:487px;white-space:nowrap" class="ft1242"><b>TVD&#160;Proxy&#160;Factory</b></p>
<p style="position:absolute;top:539px;left:482px;white-space:nowrap" class="ft1240">(spawning&#160;&amp;&#160;directory&#160;of&#160;proxies)</p>
<p style="position:absolute;top:465px;left:428px;white-space:nowrap" class="ft1235">[VM&#160;uuids]</p>
<p style="position:absolute;top:604px;left:428px;white-space:nowrap" class="ft1245">VM.start<br/>VM.stop<br/>VM.destroy</p>
<p style="position:absolute;top:442px;left:234px;white-space:nowrap" class="ft1233">IF&#160;on</p>
<p style="position:absolute;top:453px;left:223px;white-space:nowrap" class="ft1233">Mgnt.&#160;net</p>
<p style="position:absolute;top:697px;left:215px;white-space:nowrap" class="ft1211">Figure&#160;2.3:&#160;Enabling&#160;Multi-Tenant&#160;by&#160;Filtering&#160;the&#160;XenAPI</p>
<p style="position:absolute;top:735px;left:166px;white-space:nowrap" class="ft1211">Overall&#160;this&#160;approach&#160;allows&#160;customers&#160;to&#160;run&#160;any&#160;XenAPI-based&#160;manage-</p>
<p style="position:absolute;top:755px;left:141px;white-space:nowrap" class="ft1211">ment&#160;software.&#160;By&#160;using&#160;the&#160;XenAPI-based&#160;CI<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#12">M</a></p>
<p style="position:absolute;top:752px;left:457px;white-space:nowrap" class="ft1220"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#12">1</a></p>
<p style="position:absolute;top:755px;left:467px;white-space:nowrap" class="ft1211">provider&#160;from</p>
<p style="position:absolute;top:756px;left:561px;white-space:nowrap" class="ft1238"><a href="http://wiki.xensource.com/xenwiki/XenCim">http://wiki.</a></p>
<p style="position:absolute;top:776px;left:141px;white-space:nowrap" class="ft1238"><a href="http://wiki.xensource.com/xenwiki/XenCim">xensource.com/xenwiki/XenCim</a></p>
<p style="position:absolute;top:776px;left:416px;white-space:nowrap" class="ft1211"><a href="http://wiki.xensource.com/xenwiki/XenCim">,&#160;</a>customers&#160;can&#160;furthermore&#160;use&#160;any&#160;ex-</p>
<p style="position:absolute;top:796px;left:141px;white-space:nowrap" class="ft1211">isting&#160;CIM-based&#160;management&#160;tool&#160;to&#160;manage&#160;their&#160;domains.</p>
<p style="position:absolute;top:816px;left:166px;white-space:nowrap" class="ft1211">Similarly,&#160;the&#160;datacenter&#160;operator&#160;can&#160;directly&#160;access&#160;the&#160;underlying&#160;XenAPI</p>
<p style="position:absolute;top:837px;left:141px;white-space:nowrap" class="ft1211">to&#160;manage&#160;the&#160;overall&#160;datacenter.</p>
<p style="position:absolute;top:1052px;left:160px;white-space:nowrap" class="ft1221">1</p>
<p style="position:absolute;top:1055px;left:165px;white-space:nowrap" class="ft1222">This&#160;refers&#160;to&#160;the&#160;DMTF&#160;System&#160;Virtualization,&#160;Partitioning,&#160;and&#160;Clustering&#160;Working&#160;Group</p>
<p style="position:absolute;top:1071px;left:141px;white-space:nowrap" class="ft1222">(SVPC&#160;WG).&#160;See</p>
<p style="position:absolute;top:1072px;left:239px;white-space:nowrap" class="ft1244"><a href="http://www.dmtf.org">www.dmtf.org</a></p>
<p style="position:absolute;top:1071px;left:336px;white-space:nowrap" class="ft1222"><a href="http://www.dmtf.org">.</a></p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft1216">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 13 -->
<a name="13"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1346{font-size:37px;line-height:44px;font-family:Times;color:#000000;}
-->
</style>
<div id="page13-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter013.png" alt="background image"/>
<p style="position:absolute;top:298px;left:213px;white-space:nowrap" class="ft1317"><b>Chapter&#160;3</b></p>
<p style="position:absolute;top:368px;left:213px;white-space:nowrap" class="ft1346"><b>Policy&#160;Enforcement&#160;for&#160;Virtual<br/>Datacenters</b></p>
<p style="position:absolute;top:467px;left:291px;white-space:nowrap" class="ft1311">Serdar&#160;Cabuk,&#160;Chris&#160;I.&#160;Dalton,&#160;Dirk&#160;Kuhlmann&#160;(HP)&#160;Konrad&#160;Eriksson,</p>
<p style="position:absolute;top:487px;left:220px;white-space:nowrap" class="ft1311">HariGovind&#160;V.&#160;Ramasamy,&#160;Matthias&#160;Schunter&#160;(IBM),&#160;Gianluca&#160;Ramunno&#160;(POL),</p>
<p style="position:absolute;top:507px;left:450px;white-space:nowrap" class="ft1311">Ahmad-Reza&#160;Sadeghi,&#160;Christian&#160;Stüble(RUB)</p>
<p style="position:absolute;top:546px;left:238px;white-space:nowrap" class="ft1311">In&#160;this&#160;chapter&#160;wee&#160;describe&#160;a&#160;security&#160;management&#160;framework&#160;that&#160;helps&#160;re-</p>
<p style="position:absolute;top:566px;left:213px;white-space:nowrap" class="ft1312">alize&#160;the&#160;abstraction&#160;of&#160;TVDs&#160;by&#160;guaranteeing&#160;reliable&#160;isolation&#160;and&#160;flow&#160;control<br/>between&#160;domain&#160;boundaries.</p>
<p style="position:absolute;top:607px;left:238px;white-space:nowrap" class="ft1311">After&#160;introducing&#160;the&#160;key&#160;concepts&#160;such&#160;as&#160;Trusted&#160;Virtual&#160;Domains,&#160;we&#160;ex-</p>
<p style="position:absolute;top:627px;left:213px;white-space:nowrap" class="ft1312">plain&#160;the&#160;security&#160;policies&#160;that&#160;are&#160;enforced&#160;in&#160;a&#160;virtual&#160;datacenter&#160;in&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#13">3.1.<br/></a>The&#160;key&#160;idea&#160;is&#160;that&#160;the&#160;datacenter&#160;management&#160;can&#160;declare&#160;a&#160;inter-TVD&#160;policy<br/>that&#160;defines&#160;how&#160;customers&#160;are&#160;isolated.&#160;Each&#160;customer&#160;(or&#160;domain&#160;of&#160;a&#160;customer)<br/>can&#160;then&#160;define&#160;a&#160;intra-TVD&#160;security&#160;policy&#160;that&#160;defines&#160;how&#160;its&#160;internal&#160;security<br/>is&#160;handled.&#160;Both&#160;policies&#160;hold&#160;for&#160;all&#160;resources&#160;and&#160;can&#160;subsequently&#160;be&#160;refined.<br/>In&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#20">3.2&#160;</a>we&#160;then&#160;discuss&#160;how&#160;these&#160;policies&#160;are&#160;enforced.&#160;For&#160;enforcement<br/>we&#160;focus&#160;on&#160;the&#160;two&#160;most&#160;important&#160;resources&#160;that&#160;are&#160;potentially&#160;shared.&#160;The&#160;key<br/>idea&#160;is&#160;to&#160;provide&#160;virtual&#160;networks&#160;and&#160;storage&#160;that&#160;is&#160;assigned&#160;to&#160;a&#160;given&#160;domain<br/>and&#160;where&#160;access&#160;by&#160;other&#160;domains&#160;is&#160;restricted.</p>
<p style="position:absolute;top:859px;left:213px;white-space:nowrap" class="ft1318"><b>3.1</b></p>
<p style="position:absolute;top:859px;left:261px;white-space:nowrap" class="ft1318"><b>Security&#160;Policies&#160;for&#160;Virtual&#160;Data&#160;Centers</b></p>
<p style="position:absolute;top:900px;left:238px;white-space:nowrap" class="ft1311">Data&#160;centers&#160;provide&#160;computing&#160;and&#160;storage&#160;services&#160;to&#160;multiple&#160;customers.</p>
<p style="position:absolute;top:920px;left:213px;white-space:nowrap" class="ft1312">Customers&#160;are&#160;ideally&#160;given&#160;dedicated&#160;resources&#160;such&#160;as&#160;storage&#160;and&#160;physical&#160;ma-<br/>chines.&#160;Resources&#160;such&#160;as&#160;the&#160;Internet&#160;connection,&#160;however,&#160;may&#160;be&#160;shared&#160;be-<br/>tween&#160;multiple&#160;customers.&#160;Each&#160;customer&#160;has&#160;a&#160;set&#160;of&#160;security&#160;requirements&#160;and<br/>may&#160;often&#160;specify&#160;which&#160;security&#160;mechanisms&#160;must&#160;be&#160;used&#160;to&#160;satisfy&#160;these&#160;require-<br/>ments.&#160;For&#160;example,&#160;different&#160;customers&#160;may&#160;specify&#160;different&#160;anti-virus&#160;software<br/>to&#160;be&#160;used&#160;for&#160;their&#160;VMs&#160;and&#160;different&#160;virus&#160;scanning&#160;intervals.</p>
<p style="position:absolute;top:1042px;left:238px;white-space:nowrap" class="ft1311">To&#160;model&#160;and&#160;implement&#160;these&#160;heterogeneous&#160;requirements,&#160;we&#160;introduce&#160;a</p>
<p style="position:absolute;top:1062px;left:213px;white-space:nowrap" class="ft1311">domain-based&#160;security&#160;model&#160;for&#160;enforcing&#160;unified&#160;security&#160;policies&#160;in&#160;virtualized</p>
<p style="position:absolute;top:1114px;left:473px;white-space:nowrap" class="ft1311">13</p>
</div>
<!-- Page 14 -->
<a name="14"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page14-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter014.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft1411">14</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft1416">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft1412">data&#160;centers.&#160;We&#160;focus&#160;on&#160;isolation&#160;policies&#160;that&#160;mimic&#160;physical&#160;separation&#160;of&#160;data<br/>center&#160;customers.&#160;Our&#160;goal&#160;is&#160;to&#160;logically&#160;separate&#160;customer&#160;networks,&#160;storage,<br/>VMs,&#160;users,&#160;and&#160;other&#160;virtual&#160;devices.&#160;The&#160;core&#160;idea&#160;is&#160;to&#160;use&#160;this&#160;isolation&#160;as&#160;a<br/>foundation&#160;for&#160;guaranteeing&#160;desired&#160;security&#160;properties&#160;within&#160;each&#160;virtual&#160;domain<br/>while&#160;managing&#160;shared&#160;services&#160;under&#160;mutually&#160;agreed&#160;policies.</p>
<p style="position:absolute;top:341px;left:141px;white-space:nowrap" class="ft1414"><b>3.1.1</b></p>
<p style="position:absolute;top:341px;left:195px;white-space:nowrap" class="ft1414"><b>High-level&#160;Policy&#160;Model</b></p>
<p style="position:absolute;top:373px;left:141px;white-space:nowrap" class="ft1411">Our&#160;security&#160;model&#160;is&#160;based&#160;on&#160;TVDs&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">[BGJ</a></p>
<p style="position:absolute;top:370px;left:420px;white-space:nowrap" class="ft1428"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">+</a></p>
<p style="position:absolute;top:373px;left:431px;white-space:nowrap" class="ft1411"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">05]</a>,&#160;which&#160;isolate&#160;their&#160;resources&#160;from</p>
<p style="position:absolute;top:394px;left:141px;white-space:nowrap" class="ft1412">resources&#160;of&#160;other&#160;TVDs.&#160;In&#160;the&#160;following,&#160;we&#160;distinguish&#160;between&#160;the&#160;following<br/>resource&#160;types:</p>
<p style="position:absolute;top:448px;left:141px;white-space:nowrap" class="ft1415"><b>Virtual&#160;Processing&#160;Elements:&#160;</b>Virtual&#160;Processing&#160;Elements&#160;(VPE)&#160;are&#160;active&#160;ele-</p>
<p style="position:absolute;top:468px;left:182px;white-space:nowrap" class="ft1412">ments&#160;(subjects),&#160;such&#160;as&#160;physical&#160;or&#160;virtual&#160;machines,&#160;that&#160;can&#160;be&#160;member<br/>of&#160;one&#160;or&#160;more&#160;TVDs.</p>
<p style="position:absolute;top:522px;left:141px;white-space:nowrap" class="ft1415"><b>Virtual&#160;Infrastructure&#160;Elements:&#160;</b>Virtual&#160;Infrastructure&#160;Elements&#160;(VIE)&#160;are&#160;pas-</p>
<p style="position:absolute;top:543px;left:182px;white-space:nowrap" class="ft1412">sive&#160;elements&#160;(objects),&#160;such&#160;as&#160;physical&#160;or&#160;virtual&#160;disks,&#160;that&#160;can&#160;be&#160;member<br/>of&#160;one&#160;or&#160;more&#160;TVDs.</p>
<p style="position:absolute;top:597px;left:141px;white-space:nowrap" class="ft1412">Note&#160;that&#160;computing&#160;platforms&#160;that&#160;host&#160;VMs&#160;but&#160;are&#160;not&#160;directly&#160;member&#160;of&#160;a&#160;TVD<br/>are&#160;not&#160;considered&#160;as&#160;VPEs.&#160;Moreover,&#160;the&#160;security&#160;model&#160;includes&#160;two&#160;high-level<br/>policies&#160;defining&#160;the&#160;security&#160;objectives&#160;that&#160;must&#160;be&#160;provided&#160;by&#160;the&#160;underlying<br/>infrastructure:</p>
<p style="position:absolute;top:691px;left:141px;white-space:nowrap" class="ft1415"><b>Inter-TVD&#160;Policy:&#160;</b>By&#160;default,&#160;each&#160;TVD&#160;is&#160;isolated&#160;from&#160;the&#160;“rest&#160;of&#160;the&#160;world”.</p>
<p style="position:absolute;top:712px;left:182px;white-space:nowrap" class="ft1412">The&#160;high-level&#160;information-exchange&#160;policy&#160;defines&#160;whether&#160;and&#160;how&#160;infor-<br/>mation&#160;can&#160;be&#160;exchanged&#160;with&#160;other&#160;TVDs.&#160;If&#160;no&#160;information&#160;exchange&#160;with<br/>other&#160;TVDs&#160;is&#160;permitted,&#160;no&#160;resources&#160;can&#160;be&#160;shared&#160;unless&#160;the&#160;data-center<br/>operator&#160;can&#160;guarantee&#160;that&#160;these&#160;resources&#160;guarantee&#160;isolation.&#160;If&#160;flow&#160;is&#160;in<br/>principle&#160;allowed,&#160;sub-policies&#160;further&#160;qualify&#160;the&#160;exact&#160;flow&#160;control&#160;policy<br/>for&#160;the&#160;individual&#160;resources.</p>
<p style="position:absolute;top:847px;left:141px;white-space:nowrap" class="ft1415"><b>Intra-TVD&#160;Policy:&#160;</b>Domain&#160;policies&#160;allow&#160;domain&#160;owners&#160;(e.g.,&#160;customers)&#160;to</p>
<p style="position:absolute;top:868px;left:182px;white-space:nowrap" class="ft1412">define&#160;the&#160;security&#160;objectives&#160;within&#160;their&#160;own&#160;TVDs.&#160;Examples&#160;of&#160;such<br/>policies&#160;include&#160;how&#160;the&#160;internal&#160;communication&#160;is&#160;to&#160;be&#160;protected&#160;and&#160;un-<br/>der&#160;what&#160;conditions&#160;resources&#160;(e.g.,&#160;storage,&#160;machines)&#160;can&#160;join&#160;a&#160;particular<br/>TVD.</p>
<p style="position:absolute;top:1006px;left:141px;white-space:nowrap" class="ft1414"><b>3.1.2</b></p>
<p style="position:absolute;top:1006px;left:195px;white-space:nowrap" class="ft1414"><b>Security&#160;Objectives&#160;and&#160;Policy&#160;Enforcement&#160;Points</b></p>
<p style="position:absolute;top:1038px;left:141px;white-space:nowrap" class="ft1412">Policies&#160;are&#160;enforced&#160;across&#160;different&#160;resources&#160;in&#160;the&#160;TVD&#160;infrastructure&#160;(see&#160;Fig-<br/>ure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#15">3.1)</a>.&#160;The&#160;basis&#160;of&#160;all&#160;policies&#160;is&#160;isolation&#160;at&#160;the&#160;boundary&#160;of&#160;each&#160;TVD.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft1416">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 15 -->
<a name="15"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1547{font-size:20px;font-family:Helvetica;color:#000000;}
	.ft1548{font-size:15px;font-family:Helvetica;color:#000000;}
	.ft1549{font-size:10px;font-family:Helvetica;color:#000000;}
	.ft1550{font-size:8px;font-family:Helvetica;color:#000000;}
	.ft1551{font-size:10px;line-height:12px;font-family:Helvetica;color:#000000;}
-->
</style>
<div id="page15-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter015.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft1523">CHAPTER&#160;3.&#160;POLICY&#160;ENFORCEMENT&#160;FOR&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft1511">15</p>
<p style="position:absolute;top:199px;left:305px;white-space:nowrap" class="ft1547"><b>TVD&#160;A</b></p>
<p style="position:absolute;top:199px;left:491px;white-space:nowrap" class="ft1547"><b>TVD&#160;B</b></p>
<p style="position:absolute;top:374px;left:219px;white-space:nowrap" class="ft1548">Internet</p>
<p style="position:absolute;top:271px;left:305px;white-space:nowrap" class="ft1551">Membership<br/>Constraints</p>
<p style="position:absolute;top:347px;left:416px;white-space:nowrap" class="ft1549">Flow&#160;</p>
<p style="position:absolute;top:360px;left:400px;white-space:nowrap" class="ft1549">enforcement</p>
<p style="position:absolute;top:372px;left:391px;white-space:nowrap" class="ft1549">by&#160;two&#160;gateways</p>
<p style="position:absolute;top:347px;left:315px;white-space:nowrap" class="ft1549">Isolation&#160;</p>
<p style="position:absolute;top:360px;left:306px;white-space:nowrap" class="ft1549">enforcement</p>
<p style="position:absolute;top:199px;left:582px;white-space:nowrap" class="ft1547"><b>TVD&#160;C</b></p>
<p style="position:absolute;top:350px;left:575px;white-space:nowrap" class="ft1549">Flow&#160;</p>
<p style="position:absolute;top:362px;left:559px;white-space:nowrap" class="ft1549">enforcement</p>
<p style="position:absolute;top:374px;left:542px;white-space:nowrap" class="ft1549">by&#160;shared&#160;machines</p>
<p style="position:absolute;top:224px;left:390px;white-space:nowrap" class="ft1547"><b>TVD&#160;AB</b></p>
<p style="position:absolute;top:312px;left:421px;white-space:nowrap" class="ft1550">Gateway</p>
<p style="position:absolute;top:257px;left:673px;white-space:nowrap" class="ft1549">Server</p>
<p style="position:absolute;top:277px;left:673px;white-space:nowrap" class="ft1549">Clients</p>
<p style="position:absolute;top:297px;left:673px;white-space:nowrap" class="ft1549">Gateways</p>
<p style="position:absolute;top:231px;left:672px;white-space:nowrap" class="ft1549">Machine&#160;Types:</p>
<p style="position:absolute;top:417px;left:327px;white-space:nowrap" class="ft1511">Figure&#160;3.1:&#160;Types&#160;of&#160;TVD&#160;Policy&#160;Enforcement.</p>
<p style="position:absolute;top:466px;left:238px;white-space:nowrap" class="ft1511">By&#160;default,&#160;each&#160;resource&#160;is&#160;associated&#160;with&#160;a&#160;single&#160;domain.&#160;This&#160;achieves&#160;a</p>
<p style="position:absolute;top:487px;left:213px;white-space:nowrap" class="ft1512">basic&#160;level&#160;of&#160;isolation.&#160;If&#160;an&#160;information&#160;flow&#160;between&#160;TVDs&#160;is&#160;allowed,&#160;resources<br/>can&#160;also&#160;be&#160;member&#160;of&#160;different&#160;TVDs.&#160;For&#160;example,&#160;a&#160;TVD&#160;can&#160;allow&#160;certain&#160;types<br/>of&#160;resources&#160;on&#160;certain&#160;hosts&#160;to&#160;provide&#160;services&#160;also&#160;to&#160;other&#160;domains.&#160;Each&#160;TVD<br/>defines&#160;rules&#160;regarding&#160;in-bound&#160;and&#160;out-bound&#160;information&#160;flow&#160;for&#160;restricting<br/>communication&#160;with&#160;the&#160;outside&#160;world.&#160;The&#160;underlying&#160;policy-enforcement&#160;infras-<br/>tructure&#160;then&#160;has&#160;to&#160;ensure&#160;that&#160;only&#160;resources&#160;trusted&#160;by&#160;all&#160;TVDs&#160;are&#160;shared.</p>
<p style="position:absolute;top:609px;left:238px;white-space:nowrap" class="ft1511">Architecturally,&#160;there&#160;are&#160;two&#160;ways&#160;of&#160;enforcing&#160;such&#160;rules,&#160;depending&#160;on&#160;the</p>
<p style="position:absolute;top:629px;left:213px;white-space:nowrap" class="ft1512">trust&#160;between&#160;the&#160;TVDs.&#160;The&#160;first&#160;method&#160;involves&#160;two&#160;shared&#160;resources&#160;connected<br/>by&#160;an&#160;intermediate&#160;domain.&#160;In&#160;this&#160;method,&#160;each&#160;TVD&#160;enforces&#160;its&#160;side&#160;of&#160;the&#160;flow<br/>control&#160;by&#160;means&#160;of&#160;its&#160;own&#160;shared&#160;resource.&#160;An&#160;example&#160;of&#160;this&#160;type&#160;of&#160;connection<br/>is&#160;the&#160;one&#160;that&#160;exists&#160;between&#160;<i>TVD&#160;A&#160;</i>and&#160;<i>TVD&#160;B&#160;</i>in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#15">3.1.&#160;</a>This&#160;method&#160;is&#160;used<br/>when&#160;the&#160;trust&#160;level&#160;between&#160;<i>TVD&#160;A&#160;</i>and&#160;<i>TVD&#160;B&#160;</i>is&#160;low,&#160;and&#160;the&#160;two&#160;cannot&#160;agree<br/>on&#160;a&#160;shared&#160;resource&#160;that&#160;is&#160;mutually&#160;trusted.&#160;The&#160;shared&#160;resource&#160;in&#160;<i>TVD&#160;A&#160;</i>will<br/>enforce&#160;<i>TVD&#160;A</i>’s&#160;policies&#160;regarding&#160;in-bound&#160;traffic&#160;from&#160;<i>TVD&#160;B</i>,&#160;even&#160;if&#160;the&#160;shared<br/>resource&#160;in&#160;<i>TVD&#160;B&#160;</i>does&#160;not&#160;enforce&#160;<i>TVD&#160;B</i>’s&#160;policies&#160;regarding&#160;out-bound&#160;traffic.<br/>The&#160;shared&#160;resources&#160;can&#160;be&#160;thought&#160;of&#160;being&#160;a&#160;part&#160;of&#160;a&#160;“neutral”&#160;TVD&#160;(<i>TVD&#160;AB</i>)<br/>with&#160;its&#160;own&#160;set&#160;of&#160;membership&#160;requirements.</p>
<p style="position:absolute;top:812px;left:533px;white-space:nowrap" class="ft1511">The&#160;second&#160;method&#160;that&#160;requires</p>
<p style="position:absolute;top:832px;left:213px;white-space:nowrap" class="ft1512">shared&#160;trust&#160;is&#160;to&#160;establish&#160;one&#160;or&#160;more&#160;shared&#160;resources&#160;that&#160;are&#160;accessed&#160;from<br/>both&#160;TVDs&#160;while&#160;allowing&#160;controlled&#160;information&#160;flow.&#160;This&#160;mechanism&#160;is&#160;used<br/>between&#160;<i>TVD&#160;B&#160;</i>and&#160;<i>TVD&#160;C&#160;</i>in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#15">3.1.</a></p>
<p style="position:absolute;top:893px;left:238px;white-space:nowrap" class="ft1511">Security&#160;within&#160;a&#160;domain&#160;is&#160;finally&#160;obtained&#160;by&#160;defining&#160;and&#160;enforcing&#160;<i>member-</i></p>
<p style="position:absolute;top:914px;left:213px;white-space:nowrap" class="ft1512"><i>ship&#160;requirements&#160;</i>that&#160;resources&#160;have&#160;to&#160;satisfy&#160;prior&#160;to&#160;being&#160;admitted&#160;to&#160;the&#160;TVD<br/>and&#160;for&#160;retaining&#160;the&#160;membership.&#160;This&#160;may&#160;also&#160;include&#160;special&#160;requirements&#160;for<br/>different&#160;machine&#160;types:&#160;Because,&#160;for&#160;example,&#160;shared&#160;resources&#160;play&#160;a&#160;key&#160;role&#160;in<br/>restricting&#160;information&#160;flow&#160;between&#160;TVDs,&#160;the&#160;software&#160;on&#160;those&#160;machines&#160;may<br/>be&#160;subject&#160;to&#160;additional&#160;integrity&#160;verification&#160;as&#160;compared&#160;to&#160;the&#160;software&#160;on&#160;regular<br/>VPEs.</p>
<p style="position:absolute;top:1036px;left:238px;white-space:nowrap" class="ft1511">Flow&#160;control&#160;policies&#160;define&#160;the&#160;allowed&#160;traffic&#160;flow&#160;between&#160;two&#160;domains&#160;and</p>
<p style="position:absolute;top:1056px;left:213px;white-space:nowrap" class="ft1511">how&#160;the&#160;domains&#160;should&#160;be&#160;protected.&#160;Membership&#160;policies&#160;define&#160;domain-internal</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft1516">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 16 -->
<a name="16"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1652{font-size:16px;font-family:KDTZFD+CMMI10;color:#000000;}
	.ft1653{font-size:12px;font-family:QDAWOY+CMMI8;color:#000000;}
	.ft1654{font-size:16px;font-family:FZJSYF+CMR10;color:#000000;}
	.ft1655{font-size:16px;font-family:CNTQVU+CMSY10;color:#000000;}
-->
</style>
<div id="page16-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter016.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft1611">16</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft1616">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:205px;left:141px;white-space:nowrap" class="ft1611">Table&#160;3.1:&#160;High-level&#160;Directed&#160;Flow&#160;Control&#160;Matrix&#160;for&#160;Internet</p>
<p style="position:absolute;top:204px;left:577px;white-space:nowrap" class="ft1652">D</p>
<p style="position:absolute;top:210px;left:591px;white-space:nowrap" class="ft1653">I</p>
<p style="position:absolute;top:205px;left:598px;white-space:nowrap" class="ft1611">,&#160;DMZ</p>
<p style="position:absolute;top:204px;left:650px;white-space:nowrap" class="ft1652">D</p>
<p style="position:absolute;top:210px;left:663px;white-space:nowrap" class="ft1653">D</p>
<p style="position:absolute;top:205px;left:675px;white-space:nowrap" class="ft1611">,</p>
<p style="position:absolute;top:226px;left:141px;white-space:nowrap" class="ft1611">and&#160;Intranet</p>
<p style="position:absolute;top:225px;left:224px;white-space:nowrap" class="ft1652">D</p>
<p style="position:absolute;top:231px;left:237px;white-space:nowrap" class="ft1653">i</p>
<p style="position:absolute;top:226px;left:246px;white-space:nowrap" class="ft1611">(</p>
<p style="position:absolute;top:225px;left:252px;white-space:nowrap" class="ft1654">1</p>
<p style="position:absolute;top:226px;left:264px;white-space:nowrap" class="ft1611">allows&#160;information&#160;flow,&#160;whereas</p>
<p style="position:absolute;top:225px;left:485px;white-space:nowrap" class="ft1654">0</p>
<p style="position:absolute;top:226px;left:498px;white-space:nowrap" class="ft1611">denies&#160;it).</p>
<p style="position:absolute;top:244px;left:320px;white-space:nowrap" class="ft1611">From&#160;/&#160;to</p>
<p style="position:absolute;top:243px;left:399px;white-space:nowrap" class="ft1652">D</p>
<p style="position:absolute;top:249px;left:413px;white-space:nowrap" class="ft1653">I</p>
<p style="position:absolute;top:243px;left:438px;white-space:nowrap" class="ft1652">D</p>
<p style="position:absolute;top:249px;left:451px;white-space:nowrap" class="ft1653">D</p>
<p style="position:absolute;top:243px;left:481px;white-space:nowrap" class="ft1652">D</p>
<p style="position:absolute;top:249px;left:494px;white-space:nowrap" class="ft1653">i</p>
<p style="position:absolute;top:264px;left:340px;white-space:nowrap" class="ft1652">D</p>
<p style="position:absolute;top:270px;left:354px;white-space:nowrap" class="ft1653">I</p>
<p style="position:absolute;top:265px;left:405px;white-space:nowrap" class="ft1615"><b>1</b></p>
<p style="position:absolute;top:265px;left:446px;white-space:nowrap" class="ft1611">1</p>
<p style="position:absolute;top:265px;left:486px;white-space:nowrap" class="ft1611">0</p>
<p style="position:absolute;top:284px;left:338px;white-space:nowrap" class="ft1652">D</p>
<p style="position:absolute;top:291px;left:352px;white-space:nowrap" class="ft1653">D</p>
<p style="position:absolute;top:285px;left:405px;white-space:nowrap" class="ft1611">0</p>
<p style="position:absolute;top:285px;left:446px;white-space:nowrap" class="ft1615"><b>1</b></p>
<p style="position:absolute;top:285px;left:486px;white-space:nowrap" class="ft1611">1</p>
<p style="position:absolute;top:305px;left:341px;white-space:nowrap" class="ft1652">D</p>
<p style="position:absolute;top:311px;left:355px;white-space:nowrap" class="ft1653">i</p>
<p style="position:absolute;top:306px;left:405px;white-space:nowrap" class="ft1611">0</p>
<p style="position:absolute;top:306px;left:446px;white-space:nowrap" class="ft1611">1</p>
<p style="position:absolute;top:306px;left:486px;white-space:nowrap" class="ft1615"><b>1</b></p>
<p style="position:absolute;top:356px;left:141px;white-space:nowrap" class="ft1611">security&#160;objectives&#160;as&#160;well&#160;as&#160;the&#160;prerequisites&#160;for&#160;becoming&#160;a&#160;member&#160;of&#160;a&#160;domain.</p>
<p style="position:absolute;top:420px;left:141px;white-space:nowrap" class="ft1615"><b>Isolation&#160;and&#160;Permitted&#160;Flows&#160;in&#160;Data&#160;Centers</b></p>
<p style="position:absolute;top:451px;left:141px;white-space:nowrap" class="ft1612">Proper&#160;customer&#160;separation&#160;in&#160;a&#160;virtualized&#160;environment&#160;requires&#160;the&#160;logical&#160;sep-<br/>aration&#160;of&#160;all&#160;resources&#160;that&#160;belong&#160;to&#160;one&#160;TVD&#160;from&#160;those&#160;of&#160;another&#160;TVD.&#160;As<br/>mentioned&#160;above,&#160;this&#160;can&#160;either&#160;be&#160;achieved&#160;by&#160;assigning&#160;each&#160;resource&#160;only&#160;to&#160;a<br/>single&#160;domain&#160;or&#160;by&#160;enforcing&#160;flow&#160;control&#160;to&#160;limit&#160;the&#160;information&#160;flow&#160;through<br/>shared&#160;resources&#160;that&#160;belong&#160;to&#160;multiple&#160;TVDs.</p>
<p style="position:absolute;top:553px;left:166px;white-space:nowrap" class="ft1611">By&#160;default,&#160;a&#160;VPE&#160;and&#160;its&#160;local&#160;memory&#160;belong&#160;to&#160;a&#160;single&#160;TVD.&#160;If&#160;VPEs&#160;are</p>
<p style="position:absolute;top:573px;left:141px;white-space:nowrap" class="ft1612">assigned&#160;to&#160;two&#160;or&#160;more&#160;TVDs&#160;they&#160;act&#160;as&#160;a&#160;gateway&#160;allowing&#160;controlled&#160;infor-<br/>mation&#160;flow&#160;between&#160;TVDs.&#160;This&#160;includes&#160;their&#160;system&#160;image&#160;and&#160;swap-files.&#160;To<br/>consistently&#160;enforce&#160;flow&#160;control&#160;between&#160;domains,&#160;we&#160;need&#160;to&#160;control&#160;the&#160;data<br/>flow&#160;in&#160;shared&#160;VPEs,&#160;storage,&#160;and&#160;other&#160;devices.</p>
<p style="position:absolute;top:655px;left:166px;white-space:nowrap" class="ft1611">Allowed&#160;information&#160;flows&#160;can&#160;be&#160;represented&#160;by&#160;a&#160;simple&#160;flow&#160;control&#160;matrix</p>
<p style="position:absolute;top:675px;left:141px;white-space:nowrap" class="ft1612">as&#160;depicted&#160;in&#160;Table&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#16">3.1.&#160;</a>Note&#160;that&#160;this&#160;matrix&#160;is&#160;directional,&#160;i.e.,&#160;it&#160;might&#160;allow<br/>flows&#160;in&#160;one&#160;direction&#160;but&#160;not&#160;in&#160;the&#160;opposite&#160;direction.&#160;If&#160;flow&#160;policies&#160;between<br/>two&#160;TVDs&#160;are&#160;asymmetric,&#160;only&#160;shared&#160;resources&#160;that&#160;can&#160;enforce&#160;these&#160;policies<br/>are&#160;permitted.&#160;Device-specific&#160;policies&#160;(network,&#160;storage)&#160;can&#160;then&#160;refine&#160;these<br/>basic&#160;rules.&#160;If&#160;an&#160;information&#160;flow&#160;is&#160;not&#160;permitted,&#160;then&#160;also&#160;shared&#160;resources&#160;are<br/>not&#160;permitted&#160;between&#160;these&#160;TVDs.</p>
<p style="position:absolute;top:841px;left:141px;white-space:nowrap" class="ft1615"><b>Membership&#160;Requirements</b></p>
<p style="position:absolute;top:872px;left:141px;white-space:nowrap" class="ft1612">Membership&#160;requirements&#160;define&#160;under&#160;what&#160;conditions&#160;resources&#160;may&#160;join&#160;a&#160;do-<br/>main.&#160;From&#160;a&#160;high-level&#160;policy&#160;perspective,&#160;several&#160;criteria&#160;can&#160;be&#160;applied&#160;to&#160;decide<br/>whether&#160;an&#160;entity&#160;is&#160;allowed&#160;to&#160;join&#160;a&#160;domain,&#160;for&#160;example:</p>
<p style="position:absolute;top:942px;left:165px;white-space:nowrap" class="ft1655">•</p>
<p style="position:absolute;top:943px;left:182px;white-space:nowrap" class="ft1612"><i>Certificates</i>:&#160;An&#160;authority&#160;defined&#160;by&#160;the&#160;TVD&#160;policy&#160;can&#160;certify&#160;a&#160;resource<br/>to&#160;be&#160;member&#160;of&#160;a&#160;TVD.</p>
<p style="position:absolute;top:995px;left:165px;white-space:nowrap" class="ft1655">•</p>
<p style="position:absolute;top:996px;left:182px;white-space:nowrap" class="ft1612"><i>Attestation&#160;Credentials</i>:&#160;A&#160;resource&#160;may&#160;prove&#160;its&#160;right&#160;to&#160;join&#160;a&#160;TVD&#160;us-<br/>ing&#160;integrity&#160;credentials,&#160;e.g.,&#160;by&#160;means&#160;of&#160;Trusted&#160;Computing&#160;functionality,<br/>such&#160;as&#160;remote&#160;attestation.</p>
<p style="position:absolute;top:1068px;left:165px;white-space:nowrap" class="ft1655">•</p>
<p style="position:absolute;top:1069px;left:182px;white-space:nowrap" class="ft1619"><i>White-listing</i>:&#160;Only&#160;entities&#160;that&#160;are&#160;listed&#160;on&#160;a&#160;white-list&#160;can&#160;join.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft1616">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 17 -->
<a name="17"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1756{font-size:12px;font-family:BLCKOE+CMSY8;color:#000000;}
-->
</style>
<div id="page17-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter017.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft1723">CHAPTER&#160;3.&#160;POLICY&#160;ENFORCEMENT&#160;FOR&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft1711">17</p>
<p style="position:absolute;top:196px;left:238px;white-space:nowrap" class="ft1711">In&#160;general,&#160;a&#160;resource&#160;may&#160;need&#160;to&#160;show&#160;proper&#160;credentials&#160;to&#160;prove&#160;that&#160;it&#160;ful-</p>
<p style="position:absolute;top:216px;left:213px;white-space:nowrap" class="ft1712">fills&#160;certain&#160;properties&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">[SS05]&#160;</a>before&#160;allowing&#160;the&#160;resource&#160;to&#160;join&#160;the&#160;TVD.&#160;The<br/>validations&#160;of&#160;these&#160;properties&#160;are&#160;usually&#160;done&#160;on&#160;a&#160;per-type&#160;basis.&#160;This&#160;means<br/>that,&#160;e.g.,&#160;the&#160;requirements&#160;for&#160;a&#160;shared&#160;resource&#160;are&#160;usually&#160;stronger&#160;than&#160;the&#160;re-<br/>quirements&#160;for&#160;a&#160;TVD-internal&#160;resource.</p>
<p style="position:absolute;top:297px;left:238px;white-space:nowrap" class="ft1711">One&#160;way&#160;of&#160;formalizing&#160;the&#160;network&#160;membership&#160;requirements&#160;is&#160;to&#160;define&#160;a</p>
<p style="position:absolute;top:317px;left:213px;white-space:nowrap" class="ft1711">function</p>
<p style="position:absolute;top:316px;left:271px;white-space:nowrap" class="ft1752">M</p>
<p style="position:absolute;top:316px;left:294px;white-space:nowrap" class="ft1754">:</p>
<p style="position:absolute;top:316px;left:303px;white-space:nowrap" class="ft1752">T</p>
<p style="position:absolute;top:316px;left:319px;white-space:nowrap" class="ft1755">→</p>
<p style="position:absolute;top:316px;left:341px;white-space:nowrap" class="ft1754">2</p>
<p style="position:absolute;top:314px;left:349px;white-space:nowrap" class="ft1753">P</p>
<p style="position:absolute;top:317px;left:359px;white-space:nowrap" class="ft1711">,&#160;where</p>
<p style="position:absolute;top:316px;left:412px;white-space:nowrap" class="ft1754">(</p>
<p style="position:absolute;top:316px;left:418px;white-space:nowrap" class="ft1752">P,</p>
<p style="position:absolute;top:316px;left:436px;white-space:nowrap" class="ft1755">≤</p>
<p style="position:absolute;top:316px;left:449px;white-space:nowrap" class="ft1754">)</p>
<p style="position:absolute;top:317px;left:460px;white-space:nowrap" class="ft1711">is&#160;a&#160;lattice&#160;of&#160;security&#160;properties.&#160;A&#160;machine</p>
<p style="position:absolute;top:337px;left:213px;white-space:nowrap" class="ft1752">m</p>
<p style="position:absolute;top:338px;left:232px;white-space:nowrap" class="ft1711">with&#160;a&#160;set</p>
<p style="position:absolute;top:337px;left:300px;white-space:nowrap" class="ft1752">p</p>
<p style="position:absolute;top:343px;left:309px;white-space:nowrap" class="ft1753">m</p>
<p style="position:absolute;top:338px;left:325px;white-space:nowrap" class="ft1711">of&#160;security&#160;properties&#160;may&#160;be&#160;permitted&#160;to&#160;join&#160;the&#160;TVD</p>
<p style="position:absolute;top:337px;left:702px;white-space:nowrap" class="ft1752">t</p>
<p style="position:absolute;top:338px;left:712px;white-space:nowrap" class="ft1711">if&#160;and</p>
<p style="position:absolute;top:358px;left:213px;white-space:nowrap" class="ft1711">only&#160;if</p>
<p style="position:absolute;top:357px;left:260px;white-space:nowrap" class="ft1755">∀</p>
<p style="position:absolute;top:357px;left:269px;white-space:nowrap" class="ft1752">p</p>
<p style="position:absolute;top:357px;left:283px;white-space:nowrap" class="ft1755">∈</p>
<p style="position:absolute;top:357px;left:299px;white-space:nowrap" class="ft1752">M</p>
<p style="position:absolute;top:357px;left:316px;white-space:nowrap" class="ft1754">(</p>
<p style="position:absolute;top:357px;left:323px;white-space:nowrap" class="ft1752">t</p>
<p style="position:absolute;top:357px;left:328px;white-space:nowrap" class="ft1754">)&#160;:</p>
<p style="position:absolute;top:357px;left:349px;white-space:nowrap" class="ft1755">∃</p>
<p style="position:absolute;top:357px;left:359px;white-space:nowrap" class="ft1752">p</p>
<p style="position:absolute;top:354px;left:367px;white-space:nowrap" class="ft1756">′</p>
<p style="position:absolute;top:357px;left:376px;white-space:nowrap" class="ft1755">∈</p>
<p style="position:absolute;top:357px;left:392px;white-space:nowrap" class="ft1752">p</p>
<p style="position:absolute;top:363px;left:400px;white-space:nowrap" class="ft1753">m</p>
<p style="position:absolute;top:358px;left:416px;white-space:nowrap" class="ft1711">such&#160;that</p>
<p style="position:absolute;top:357px;left:480px;white-space:nowrap" class="ft1752">p</p>
<p style="position:absolute;top:354px;left:488px;white-space:nowrap" class="ft1756">′</p>
<p style="position:absolute;top:357px;left:497px;white-space:nowrap" class="ft1755">≥</p>
<p style="position:absolute;top:357px;left:515px;white-space:nowrap" class="ft1752">p</p>
<p style="position:absolute;top:358px;left:523px;white-space:nowrap" class="ft1711">.&#160;In&#160;other&#160;words,</p>
<p style="position:absolute;top:357px;left:637px;white-space:nowrap" class="ft1752">m</p>
<p style="position:absolute;top:358px;left:656px;white-space:nowrap" class="ft1711">is&#160;permitted&#160;to</p>
<p style="position:absolute;top:378px;left:213px;white-space:nowrap" class="ft1711">join</p>
<p style="position:absolute;top:377px;left:243px;white-space:nowrap" class="ft1752">t</p>
<p style="position:absolute;top:378px;left:254px;white-space:nowrap" class="ft1711">if&#160;and&#160;only&#160;if&#160;there&#160;is&#160;at&#160;least&#160;one&#160;property&#160;of</p>
<p style="position:absolute;top:377px;left:559px;white-space:nowrap" class="ft1752">m</p>
<p style="position:absolute;top:378px;left:578px;white-space:nowrap" class="ft1711">that&#160;satisfies&#160;each&#160;security</p>
<p style="position:absolute;top:399px;left:213px;white-space:nowrap" class="ft1711">requirement&#160;of</p>
<p style="position:absolute;top:398px;left:314px;white-space:nowrap" class="ft1752">t</p>
<p style="position:absolute;top:399px;left:319px;white-space:nowrap" class="ft1711">.</p>
<p style="position:absolute;top:463px;left:213px;white-space:nowrap" class="ft1714"><b>3.1.3</b></p>
<p style="position:absolute;top:463px;left:266px;white-space:nowrap" class="ft1714"><b>Example&#160;Policy&#160;Refinements&#160;for&#160;Protected&#160;Resources</b></p>
<p style="position:absolute;top:495px;left:213px;white-space:nowrap" class="ft1712">Policies&#160;alone&#160;are&#160;not&#160;sufficient&#160;to&#160;enforce&#160;customer&#160;separation.&#160;Ultimately,&#160;one<br/>needs&#160;to&#160;transform&#160;these&#160;policies&#160;into&#160;data-center&#160;configurations&#160;and&#160;security&#160;mech-<br/>anisms&#160;specific&#160;to&#160;each&#160;resource&#160;(e.g.,&#160;VLAN&#160;configuration).&#160;To&#160;do&#160;so,&#160;we&#160;intro-<br/>duce&#160;a&#160;policy&#160;management&#160;scheme&#160;that&#160;accepts&#160;high-level&#160;domain&#160;policies&#160;and<br/>transforms&#160;them&#160;into&#160;resource-specific&#160;low-level&#160;policies&#160;and&#160;configurations.</p>
<p style="position:absolute;top:641px;left:213px;white-space:nowrap" class="ft1715"><b>Refinement&#160;Model</b></p>
<p style="position:absolute;top:673px;left:213px;white-space:nowrap" class="ft1712">The&#160;high-level&#160;policy&#160;defines&#160;the&#160;basic&#160;flow&#160;control,&#160;protection,&#160;and&#160;admission<br/>requirements.&#160;We&#160;aim&#160;at&#160;enforcing&#160;these&#160;high-level&#160;objectives&#160;throughout&#160;all&#160;re-<br/>sources&#160;in&#160;the&#160;data&#160;center.</p>
<p style="position:absolute;top:734px;left:238px;white-space:nowrap" class="ft1711">In&#160;the&#160;high-level&#160;model,&#160;flow&#160;control&#160;is&#160;specified&#160;by&#160;a&#160;simple&#160;matrix&#160;that&#160;de-</p>
<p style="position:absolute;top:754px;left:213px;white-space:nowrap" class="ft1712">fines&#160;whether&#160;flows&#160;are&#160;permitted.&#160;This&#160;however&#160;is&#160;not&#160;sufficiently&#160;fine-grained&#160;for<br/>specific&#160;resources.&#160;TVDs,&#160;for&#160;example,&#160;want&#160;to&#160;restrict&#160;their&#160;flow&#160;across&#160;bound-<br/>aries&#160;by&#160;means&#160;of&#160;firewall&#160;rules.&#160;As&#160;a&#160;consequence,&#160;we&#160;need&#160;to&#160;introduce&#160;a&#160;notion<br/>of&#160;policy&#160;refinement&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">[Wes01]</a>,&#160;because&#160;as&#160;translation&#160;moves&#160;towards&#160;lower&#160;levels&#160;of<br/>abstraction,&#160;it&#160;will&#160;require&#160;additional&#160;information&#160;(e.g.,&#160;physical&#160;arrangement&#160;of&#160;the<br/>data&#160;center,&#160;“subjective”&#160;trust&#160;information)&#160;to&#160;be&#160;correctly&#160;and&#160;coherently&#160;executed.</p>
<p style="position:absolute;top:876px;left:238px;white-space:nowrap" class="ft1711">Our&#160;notion&#160;of&#160;policy&#160;refinement&#160;mandates&#160;the&#160;enforcement&#160;of&#160;“no&#160;flow”&#160;objec-</p>
<p style="position:absolute;top:896px;left:213px;white-space:nowrap" class="ft1712">tives&#160;while&#160;allowing&#160;each&#160;resource&#160;to&#160;refine&#160;what&#160;it&#160;means&#160;so&#160;that&#160;flows&#160;are&#160;permit-<br/>ted&#160;and&#160;how&#160;exactly&#160;unauthorized&#160;flows&#160;shall&#160;be&#160;prevented.&#160;Similarly,&#160;we&#160;do&#160;not<br/>allow&#160;resources&#160;to&#160;deviate&#160;from&#160;the&#160;confidentiality/integrity&#160;objectives;&#160;however,<br/>certain&#160;resources&#160;can&#160;be&#160;declared&#160;trusted&#160;so&#160;that&#160;they&#160;may&#160;enforce&#160;these&#160;objectives<br/>without&#160;additional&#160;security&#160;mechanisms&#160;such&#160;as&#160;encryption&#160;or&#160;authentication.</p>
<p style="position:absolute;top:998px;left:238px;white-space:nowrap" class="ft1711">Similarly,&#160;the&#160;fact&#160;that&#160;admission&#160;is&#160;restricted&#160;is&#160;then&#160;refined&#160;by&#160;specific&#160;admis-</p>
<p style="position:absolute;top:1018px;left:213px;white-space:nowrap" class="ft1711">sion&#160;control&#160;policies&#160;that&#160;are&#160;enforced&#160;by&#160;the&#160;underlying&#160;infrastructure.</p>
<p style="position:absolute;top:1038px;left:238px;white-space:nowrap" class="ft1711">Note&#160;that&#160;conflict&#160;detection&#160;and&#160;resolution&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">[Wes01,&#160;</a><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#92">LS99]&#160;</a>can&#160;later&#160;be&#160;used&#160;to</p>
<p style="position:absolute;top:1059px;left:213px;white-space:nowrap" class="ft1711">extend&#160;this&#160;simple&#160;notion&#160;of&#160;refinement.&#160;However,&#160;we&#160;currently&#160;stay&#160;on&#160;the&#160;safe</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft1716">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 18 -->
<a name="18"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1857{font-size:16px;font-family:WRNCSS+CMBX10;color:#000000;}
-->
</style>
<div id="page18-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter018.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft1811">18</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft1816">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:205px;left:165px;white-space:nowrap" class="ft1811">Table&#160;3.2:&#160;Example&#160;Network&#160;Flow&#160;Control&#160;Policy&#160;Matrix&#160;for&#160;Three&#160;TVDs.</p>
<p style="position:absolute;top:224px;left:284px;white-space:nowrap" class="ft1811">Enforced&#160;by/flow&#160;to</p>
<p style="position:absolute;top:223px;left:430px;white-space:nowrap" class="ft1852">D</p>
<p style="position:absolute;top:230px;left:443px;white-space:nowrap" class="ft1853">I</p>
<p style="position:absolute;top:223px;left:467px;white-space:nowrap" class="ft1852">D</p>
<p style="position:absolute;top:230px;left:481px;white-space:nowrap" class="ft1853">D</p>
<p style="position:absolute;top:223px;left:513px;white-space:nowrap" class="ft1852">D</p>
<p style="position:absolute;top:230px;left:526px;white-space:nowrap" class="ft1853">i</p>
<p style="position:absolute;top:244px;left:394px;white-space:nowrap" class="ft1852">D</p>
<p style="position:absolute;top:251px;left:408px;white-space:nowrap" class="ft1853">I</p>
<p style="position:absolute;top:245px;left:436px;white-space:nowrap" class="ft1857">1</p>
<p style="position:absolute;top:244px;left:465px;white-space:nowrap" class="ft1852">P</p>
<p style="position:absolute;top:251px;left:476px;white-space:nowrap" class="ft1853">ID</p>
<p style="position:absolute;top:244px;left:518px;white-space:nowrap" class="ft1854">0</p>
<p style="position:absolute;top:265px;left:390px;white-space:nowrap" class="ft1852">D</p>
<p style="position:absolute;top:271px;left:403px;white-space:nowrap" class="ft1853">D</p>
<p style="position:absolute;top:265px;left:436px;white-space:nowrap" class="ft1854">0</p>
<p style="position:absolute;top:265px;left:475px;white-space:nowrap" class="ft1857">1</p>
<p style="position:absolute;top:265px;left:509px;white-space:nowrap" class="ft1852">P</p>
<p style="position:absolute;top:271px;left:519px;white-space:nowrap" class="ft1853">Di</p>
<p style="position:absolute;top:285px;left:396px;white-space:nowrap" class="ft1852">D</p>
<p style="position:absolute;top:291px;left:410px;white-space:nowrap" class="ft1853">i</p>
<p style="position:absolute;top:285px;left:436px;white-space:nowrap" class="ft1854">0</p>
<p style="position:absolute;top:285px;left:467px;white-space:nowrap" class="ft1852">P</p>
<p style="position:absolute;top:291px;left:477px;white-space:nowrap" class="ft1853">Di</p>
<p style="position:absolute;top:286px;left:517px;white-space:nowrap" class="ft1857">1</p>
<p style="position:absolute;top:356px;left:141px;white-space:nowrap" class="ft1812">side:&#160;connections&#160;are&#160;only&#160;possible&#160;if&#160;both&#160;TVDs&#160;allow&#160;them.&#160;Similarly,&#160;if&#160;one<br/>domain&#160;requires&#160;confidentiality,&#160;information&#160;flows&#160;are&#160;only&#160;allowed&#160;to&#160;TVDs&#160;that<br/>also&#160;require&#160;confidentiality.&#160;Other&#160;schemes&#160;for&#160;more&#160;elaborate&#160;flow&#160;control&#160;have<br/>been&#160;proposed&#160;in&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">[EASH05,&#160;</a><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">CBL07,&#160;</a><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#92">N.&#160;01,&#160;</a><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">FWH</a></p>
<p style="position:absolute;top:414px;left:467px;white-space:nowrap" class="ft1828"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">+</a></p>
<p style="position:absolute;top:417px;left:477px;white-space:nowrap" class="ft1811"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">01]</a>.</p>
<p style="position:absolute;top:482px;left:141px;white-space:nowrap" class="ft1815"><b>Network&#160;Security&#160;Policies</b></p>
<p style="position:absolute;top:513px;left:141px;white-space:nowrap" class="ft1812">We&#160;now&#160;survey&#160;the&#160;policy&#160;model&#160;of&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">[CDRS07]&#160;</a>and&#160;show&#160;how&#160;it&#160;related&#160;to&#160;the<br/>corresponding&#160;high-level&#160;policy.&#160;Similar&#160;to&#160;our&#160;high-level&#160;policies,&#160;there&#160;are&#160;two<br/>types&#160;of&#160;policies&#160;governing&#160;security&#160;in&#160;the&#160;network.&#160;The&#160;first&#160;limits&#160;flow&#160;between<br/>networks,&#160;whereas&#160;the&#160;second&#160;defines&#160;membership&#160;requirements&#160;to&#160;each&#160;network.</p>
<p style="position:absolute;top:639px;left:141px;white-space:nowrap" class="ft1815"><b>Network&#160;Security&#160;Policies&#160;across&#160;TVDs</b></p>
<p style="position:absolute;top:639px;left:426px;white-space:nowrap" class="ft1811">A&#160;policy&#160;covers&#160;isolation&#160;and&#160;flow&#160;con-</p>
<p style="position:absolute;top:659px;left:141px;white-space:nowrap" class="ft1812">trol&#160;between&#160;TVDs&#160;as&#160;well&#160;as&#160;integrity&#160;and&#160;confidentiality&#160;against&#160;outsiders.&#160;These<br/>basic&#160;security&#160;requirements&#160;are&#160;then&#160;mapped&#160;to&#160;appropriate&#160;policies&#160;for&#160;each&#160;re-<br/>source.&#160;For&#160;example,&#160;from&#160;a&#160;networking&#160;perspective,&#160;isolation&#160;refers&#160;to&#160;the&#160;re-<br/>quirement&#160;that,&#160;unless&#160;the&#160;inter-TVD&#160;policies&#160;explicitly&#160;allow&#160;such&#160;an&#160;information<br/>flow,&#160;a&#160;dishonest&#160;VPE&#160;in&#160;one&#160;TVD&#160;cannot&#160;(1)&#160;send&#160;messages&#160;to&#160;a&#160;dishonest&#160;VPE&#160;in<br/>another&#160;TVD&#160;(information&#160;flow),&#160;(2)&#160;read&#160;messages&#160;sent&#160;on&#160;another&#160;TVD&#160;(confi-<br/>dentiality),&#160;(3)&#160;alter&#160;messages&#160;transmitted&#160;on&#160;another&#160;TVD&#160;(data&#160;integrity),&#160;and&#160;(4)<br/>become&#160;a&#160;member&#160;of&#160;another&#160;TVD&#160;network&#160;(access&#160;control).</p>
<p style="position:absolute;top:822px;left:166px;white-space:nowrap" class="ft1811">TVDs&#160;often&#160;constitute&#160;independent&#160;organizational&#160;units&#160;that&#160;may&#160;not&#160;trust&#160;each</p>
<p style="position:absolute;top:842px;left:141px;white-space:nowrap" class="ft1812">other.&#160;If&#160;this&#160;is&#160;the&#160;case,&#160;a&#160;communication&#160;using&#160;another&#160;TVD&#160;can&#160;be&#160;established<br/>(see&#160;the&#160;communication&#160;between&#160;TVD&#160;A&#160;and&#160;B&#160;in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#15">3.1)</a>.</p>
<p style="position:absolute;top:883px;left:166px;white-space:nowrap" class="ft1811">The&#160;advantage&#160;of&#160;such&#160;a&#160;decentralized&#160;enforcement&#160;approach&#160;is&#160;that&#160;each&#160;TVD</p>
<p style="position:absolute;top:903px;left:141px;white-space:nowrap" class="ft1812">is&#160;shielded&#160;from&#160;security&#160;failures&#160;in&#160;other&#160;TVDs.&#160;For&#160;networks,&#160;the&#160;main&#160;inter-<br/>TVD&#160;security&#160;objectives&#160;are&#160;information&#160;flow&#160;control&#160;among&#160;the&#160;TVDs&#160;as&#160;well&#160;as<br/>integrity&#160;and&#160;confidentiality&#160;protection&#160;of&#160;the&#160;channel.</p>
<p style="position:absolute;top:964px;left:166px;white-space:nowrap" class="ft1811">An&#160;information&#160;flow&#160;control&#160;matrix&#160;is&#160;a&#160;simple&#160;way&#160;of&#160;formalizing&#160;these</p>
<p style="position:absolute;top:984px;left:141px;white-space:nowrap" class="ft1812">system-wide&#160;flow&#160;control&#160;objectives.&#160;Table&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#18">3.2&#160;</a>shows&#160;a&#160;sample&#160;matrix&#160;for&#160;the&#160;three<br/>example&#160;TVDs&#160;introduced&#160;earlier.&#160;Each&#160;matrix&#160;element&#160;represents&#160;a&#160;policy&#160;spec-<br/>ifying&#160;both&#160;permitted&#160;in-bound&#160;and&#160;out-bound&#160;flows&#160;between&#160;a&#160;pair&#160;of&#160;TVDs,&#160;as<br/>enforced&#160;by&#160;one&#160;of&#160;the&#160;TVDs.&#160;The</p>
<p style="position:absolute;top:1045px;left:379px;white-space:nowrap" class="ft1857">1</p>
<p style="position:absolute;top:1045px;left:394px;white-space:nowrap" class="ft1811">elements&#160;along&#160;the&#160;matrix&#160;diagonal&#160;convey</p>
<p style="position:absolute;top:1066px;left:141px;white-space:nowrap" class="ft1811">the&#160;fact&#160;that&#160;there&#160;is&#160;free&#160;information&#160;flow&#160;within&#160;each&#160;TVD.&#160;The</p>
<p style="position:absolute;top:1065px;left:567px;white-space:nowrap" class="ft1857">0</p>
<p style="position:absolute;top:1066px;left:580px;white-space:nowrap" class="ft1811">elements&#160;in&#160;the</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft1816">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 19 -->
<a name="19"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1958{font-size:16px;font-family:QJMBHW+CMTI10;color:#000000;}
	.ft1959{font-size:13px;font-family:Times;color:#000000;}
	.ft1960{font-size:13px;line-height:16px;font-family:Times;color:#000000;}
-->
</style>
<div id="page19-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter019.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft1923">CHAPTER&#160;3.&#160;POLICY&#160;ENFORCEMENT&#160;FOR&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft1911">19</p>
<p style="position:absolute;top:196px;left:213px;white-space:nowrap" class="ft1912">matrix&#160;are&#160;used&#160;to&#160;specify&#160;that&#160;there&#160;should&#160;be&#160;no&#160;direct&#160;information&#160;flow&#160;between<br/>two&#160;TVDs,&#160;e.g.,&#160;between&#160;the&#160;Internet</p>
<p style="position:absolute;top:215px;left:462px;white-space:nowrap" class="ft1952">D</p>
<p style="position:absolute;top:221px;left:475px;white-space:nowrap" class="ft1953">I</p>
<p style="position:absolute;top:216px;left:487px;white-space:nowrap" class="ft1911">and&#160;the&#160;intranet</p>
<p style="position:absolute;top:215px;left:594px;white-space:nowrap" class="ft1952">D</p>
<p style="position:absolute;top:221px;left:608px;white-space:nowrap" class="ft1953">i</p>
<p style="position:absolute;top:216px;left:613px;white-space:nowrap" class="ft1911">.&#160;Care&#160;must&#160;be&#160;taken</p>
<p style="position:absolute;top:236px;left:213px;white-space:nowrap" class="ft1912">to&#160;ensure&#160;that&#160;the&#160;pairwise&#160;TVD&#160;policies&#160;specified&#160;in&#160;the&#160;information&#160;flow&#160;control<br/>matrix&#160;do&#160;not&#160;accidentally&#160;contradict&#160;each&#160;other&#160;or&#160;allow&#160;undesired&#160;indirect&#160;flow.<br/>In&#160;our&#160;practical&#160;realization&#160;these&#160;network&#160;flow&#160;policies&#160;are&#160;implemented&#160;by&#160;firewall<br/>rules.</p>
<p style="position:absolute;top:341px;left:213px;white-space:nowrap" class="ft1915"><b>Intra-TVD&#160;Network&#160;Security&#160;Policy</b></p>
<p style="position:absolute;top:341px;left:480px;white-space:nowrap" class="ft1911">Within&#160;a&#160;TVD,&#160;all&#160;VPEs&#160;can&#160;freely&#160;com-</p>
<p style="position:absolute;top:362px;left:213px;white-space:nowrap" class="ft1912">municate&#160;with&#160;each&#160;other&#160;while&#160;observing&#160;TVD-specific&#160;integrity&#160;and&#160;confidential-<br/>ity&#160;requirements.&#160;For&#160;this&#160;purpose,&#160;the&#160;underlying&#160;infrastructure&#160;may&#160;ensure&#160;that<br/>intra-TVD&#160;communication&#160;only&#160;takes&#160;place&#160;over&#160;an&#160;authenticated&#160;and&#160;encrypted<br/>channel&#160;(e.g.,&#160;IPSec),&#160;or&#160;alternatively,&#160;a&#160;trusted&#160;networ<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#19">k</a></p>
<p style="position:absolute;top:420px;left:576px;white-space:nowrap" class="ft1920"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#19">1</a></p>
<p style="position:absolute;top:423px;left:583px;white-space:nowrap" class="ft1911"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#19">.</a></p>
<p style="position:absolute;top:467px;left:213px;white-space:nowrap" class="ft1915"><b>Towards&#160;Storage&#160;Security&#160;Policies</b></p>
<p style="position:absolute;top:498px;left:213px;white-space:nowrap" class="ft1912">Virtual&#160;disks&#160;attached&#160;to&#160;VPEs&#160;must&#160;retain&#160;the&#160;advantages&#160;offered&#160;by&#160;storage&#160;vir-<br/>tualization&#160;while&#160;at&#160;the&#160;same&#160;time&#160;enforcing&#160;TVD&#160;security&#160;policies.&#160;Advantages<br/>of&#160;storage&#160;virtualization&#160;include&#160;improved&#160;storage&#160;utilization,&#160;simplified&#160;storage<br/>administration,&#160;and&#160;the&#160;flexibility&#160;to&#160;accommodate&#160;heterogeneous&#160;physical&#160;storage<br/>devices.</p>
<p style="position:absolute;top:600px;left:238px;white-space:nowrap" class="ft1911">Different&#160;groups&#160;of&#160;virtual&#160;disks&#160;may&#160;exist&#160;for&#160;different&#160;purposes.&#160;For&#160;example,</p>
<p style="position:absolute;top:620px;left:213px;white-space:nowrap" class="ft1912">the&#160;disk&#160;images&#160;that&#160;can&#160;be&#160;mounted&#160;for&#160;web-server&#160;VMs&#160;would&#160;be&#160;different&#160;from<br/>those&#160;for&#160;database-server&#160;VMs.&#160;A&#160;virtual&#160;disk&#160;may&#160;be&#160;attached&#160;to&#160;multiple&#160;VMs</p>
<p style="position:absolute;top:684px;left:213px;white-space:nowrap" class="ft1915"><b>Inter-TVD&#160;Storage&#160;Security</b></p>
<p style="position:absolute;top:684px;left:425px;white-space:nowrap" class="ft1911">A&#160;virtual&#160;disk&#160;has&#160;a&#160;single&#160;label&#160;corresponding&#160;to</p>
<p style="position:absolute;top:705px;left:213px;white-space:nowrap" class="ft1912">the&#160;TVD&#160;it&#160;belongs&#160;to.&#160;Whenever&#160;a&#160;virtual&#160;machine&#160;operates&#160;on&#160;virtual&#160;storage,&#160;the<br/>global&#160;flow&#160;matrix&#160;described&#160;in&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#13">3.1&#160;</a>needs&#160;to&#160;be&#160;satisfied.&#160;This&#160;is&#160;guaranteed<br/>by&#160;the&#160;following&#160;policy&#160;refinement&#160;rules&#160;that&#160;define&#160;the&#160;allowed&#160;interactions:</p>
<p style="position:absolute;top:778px;left:233px;white-space:nowrap" class="ft1911">1.&#160;A&#160;machine&#160;in&#160;domain</p>
<p style="position:absolute;top:778px;left:400px;white-space:nowrap" class="ft1958">TVD</p>
<p style="position:absolute;top:783px;left:438px;white-space:nowrap" class="ft1953">A</p>
<p style="position:absolute;top:778px;left:453px;white-space:nowrap" class="ft1911">can&#160;write&#160;to&#160;a&#160;disk&#160;of&#160;domain</p>
<p style="position:absolute;top:778px;left:649px;white-space:nowrap" class="ft1958">TVD</p>
<p style="position:absolute;top:783px;left:687px;white-space:nowrap" class="ft1953">B</p>
<p style="position:absolute;top:778px;left:703px;white-space:nowrap" class="ft1911">iff&#160;flow</p>
<p style="position:absolute;top:798px;left:253px;white-space:nowrap" class="ft1911">from&#160;domain</p>
<p style="position:absolute;top:798px;left:343px;white-space:nowrap" class="ft1958">TVD</p>
<p style="position:absolute;top:804px;left:380px;white-space:nowrap" class="ft1953">A</p>
<p style="position:absolute;top:798px;left:395px;white-space:nowrap" class="ft1911">to&#160;domain</p>
<p style="position:absolute;top:798px;left:465px;white-space:nowrap" class="ft1958">TVD</p>
<p style="position:absolute;top:804px;left:503px;white-space:nowrap" class="ft1953">B</p>
<p style="position:absolute;top:798px;left:517px;white-space:nowrap" class="ft1911">is&#160;permitted.</p>
<p style="position:absolute;top:832px;left:233px;white-space:nowrap" class="ft1911">2.&#160;A&#160;machine&#160;in&#160;domain</p>
<p style="position:absolute;top:832px;left:396px;white-space:nowrap" class="ft1958">TVD</p>
<p style="position:absolute;top:837px;left:434px;white-space:nowrap" class="ft1953">A</p>
<p style="position:absolute;top:832px;left:448px;white-space:nowrap" class="ft1911">can&#160;read&#160;from&#160;a&#160;disk&#160;of&#160;domain</p>
<p style="position:absolute;top:832px;left:651px;white-space:nowrap" class="ft1958">TVD</p>
<p style="position:absolute;top:837px;left:689px;white-space:nowrap" class="ft1953">B</p>
<p style="position:absolute;top:832px;left:703px;white-space:nowrap" class="ft1911">iff&#160;flow</p>
<p style="position:absolute;top:852px;left:253px;white-space:nowrap" class="ft1911">from&#160;domain</p>
<p style="position:absolute;top:852px;left:343px;white-space:nowrap" class="ft1958">TVD</p>
<p style="position:absolute;top:857px;left:380px;white-space:nowrap" class="ft1953">B</p>
<p style="position:absolute;top:852px;left:395px;white-space:nowrap" class="ft1911">to&#160;domain</p>
<p style="position:absolute;top:852px;left:465px;white-space:nowrap" class="ft1958">TVD</p>
<p style="position:absolute;top:857px;left:503px;white-space:nowrap" class="ft1953">A</p>
<p style="position:absolute;top:852px;left:517px;white-space:nowrap" class="ft1911">is&#160;permitted.</p>
<p style="position:absolute;top:885px;left:238px;white-space:nowrap" class="ft1911">Table&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#20">3.3&#160;</a>shows&#160;the&#160;resulting&#160;disk&#160;flow&#160;control&#160;policy.&#160;Note&#160;that&#160;as&#160;flow&#160;within</p>
<p style="position:absolute;top:905px;left:213px;white-space:nowrap" class="ft1912">a&#160;domain&#160;is&#160;always&#160;allowed,&#160;this&#160;implies&#160;that&#160;disks&#160;of&#160;the&#160;same&#160;domain&#160;as&#160;the<br/>machine&#160;may&#160;always&#160;be&#160;mounted&#160;read/write.</p>
<p style="position:absolute;top:946px;left:238px;white-space:nowrap" class="ft1911">By&#160;default,&#160;we&#160;consider&#160;the&#160;content&#160;of&#160;a&#160;disk&#160;to&#160;be&#160;confidential.&#160;That&#160;is,&#160;if</p>
<p style="position:absolute;top:966px;left:213px;white-space:nowrap" class="ft1912">a&#160;given&#160;domain&#160;does&#160;not&#160;declare&#160;a&#160;given&#160;storage&#160;medium&#160;as&#160;trusted,&#160;we&#160;deploy<br/>whole-disk&#160;encryption&#160;using&#160;a&#160;key&#160;that&#160;is&#160;maintained&#160;by&#160;the&#160;TVD.&#160;Another&#160;aspect<br/>reflected&#160;in&#160;the&#160;disk&#160;policies&#160;is&#160;the&#160;fact&#160;that&#160;we&#160;have&#160;a&#160;notion&#160;of&#160;blank&#160;disks.&#160;Once</p>
<p style="position:absolute;top:1036px;left:232px;white-space:nowrap" class="ft1921">1</p>
<p style="position:absolute;top:1039px;left:237px;white-space:nowrap" class="ft1922">A&#160;network&#160;is&#160;called&#160;<i>trusted&#160;</i>with&#160;respect&#160;to&#160;a&#160;TVD&#160;security&#160;objective&#160;if&#160;it&#160;is&#160;trusted&#160;to&#160;enforce</p>
<p style="position:absolute;top:1055px;left:213px;white-space:nowrap" class="ft1960">the&#160;given&#160;objective&#160;transparently.&#160;For&#160;example,&#160;a&#160;server-internal&#160;Ethernet&#160;can&#160;often&#160;be&#160;assumed&#160;to<br/>provide&#160;confidentiality&#160;without&#160;any&#160;need&#160;for&#160;encryption.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft1916">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 20 -->
<a name="20"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page20-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter020.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft2011">20</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft2016">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:205px;left:182px;white-space:nowrap" class="ft2011">Table&#160;3.3:&#160;Example&#160;of&#160;a&#160;Refined&#160;Disk&#160;Policy&#160;Matrix&#160;for&#160;Three&#160;TVDs.</p>
<p style="position:absolute;top:224px;left:266px;white-space:nowrap" class="ft2011">Disk/VPE</p>
<p style="position:absolute;top:223px;left:366px;white-space:nowrap" class="ft2052">D</p>
<p style="position:absolute;top:230px;left:379px;white-space:nowrap" class="ft2053">I</p>
<p style="position:absolute;top:223px;left:439px;white-space:nowrap" class="ft2052">D</p>
<p style="position:absolute;top:230px;left:453px;white-space:nowrap" class="ft2053">D</p>
<p style="position:absolute;top:223px;left:517px;white-space:nowrap" class="ft2052">D</p>
<p style="position:absolute;top:230px;left:530px;white-space:nowrap" class="ft2053">i</p>
<p style="position:absolute;top:244px;left:311px;white-space:nowrap" class="ft2052">D</p>
<p style="position:absolute;top:251px;left:325px;white-space:nowrap" class="ft2053">I</p>
<p style="position:absolute;top:244px;left:362px;white-space:nowrap" class="ft2052">r/w</p>
<p style="position:absolute;top:244px;left:445px;white-space:nowrap" class="ft2052">w</p>
<p style="position:absolute;top:244px;left:522px;white-space:nowrap" class="ft2054">0</p>
<p style="position:absolute;top:265px;left:307px;white-space:nowrap" class="ft2052">D</p>
<p style="position:absolute;top:271px;left:320px;white-space:nowrap" class="ft2053">D</p>
<p style="position:absolute;top:265px;left:372px;white-space:nowrap" class="ft2052">r</p>
<p style="position:absolute;top:265px;left:438px;white-space:nowrap" class="ft2052">r/w</p>
<p style="position:absolute;top:265px;left:512px;white-space:nowrap" class="ft2052">r/w</p>
<p style="position:absolute;top:285px;left:313px;white-space:nowrap" class="ft2052">D</p>
<p style="position:absolute;top:291px;left:327px;white-space:nowrap" class="ft2053">i</p>
<p style="position:absolute;top:285px;left:372px;white-space:nowrap" class="ft2054">0</p>
<p style="position:absolute;top:285px;left:438px;white-space:nowrap" class="ft2052">r/w</p>
<p style="position:absolute;top:285px;left:512px;white-space:nowrap" class="ft2052">r/w</p>
<p style="position:absolute;top:306px;left:293px;white-space:nowrap" class="ft2011">Blank</p>
<p style="position:absolute;top:305px;left:368px;white-space:nowrap" class="ft2052">r/</p>
<p style="position:absolute;top:305px;left:444px;white-space:nowrap" class="ft2052">r/</p>
<p style="position:absolute;top:305px;left:518px;white-space:nowrap" class="ft2052">r/</p>
<p style="position:absolute;top:326px;left:347px;white-space:nowrap" class="ft2052">w</p>
<p style="position:absolute;top:326px;left:364px;white-space:nowrap" class="ft2055">→</p>
<p style="position:absolute;top:326px;left:384px;white-space:nowrap" class="ft2052">D</p>
<p style="position:absolute;top:332px;left:398px;white-space:nowrap" class="ft2053">I</p>
<p style="position:absolute;top:326px;left:420px;white-space:nowrap" class="ft2052">w</p>
<p style="position:absolute;top:326px;left:437px;white-space:nowrap" class="ft2055">→</p>
<p style="position:absolute;top:326px;left:458px;white-space:nowrap" class="ft2052">D</p>
<p style="position:absolute;top:332px;left:471px;white-space:nowrap" class="ft2053">D</p>
<p style="position:absolute;top:326px;left:498px;white-space:nowrap" class="ft2052">w</p>
<p style="position:absolute;top:326px;left:515px;white-space:nowrap" class="ft2055">→</p>
<p style="position:absolute;top:326px;left:535px;white-space:nowrap" class="ft2052">D</p>
<p style="position:absolute;top:332px;left:549px;white-space:nowrap" class="ft2053">i</p>
<p style="position:absolute;top:397px;left:141px;white-space:nowrap" class="ft2012">they&#160;are&#160;written&#160;by&#160;another&#160;domain,&#160;they&#160;change&#160;color,&#160;and&#160;are&#160;then&#160;associated&#160;with<br/>this&#160;other&#160;domain.</p>
<p style="position:absolute;top:462px;left:141px;white-space:nowrap" class="ft2015"><b>Intra-TVD&#160;Storage&#160;Security</b></p>
<p style="position:absolute;top:462px;left:352px;white-space:nowrap" class="ft2011">For&#160;protecting&#160;the&#160;data&#160;in&#160;a&#160;particular&#160;TVD,&#160;virtual</p>
<p style="position:absolute;top:482px;left:141px;white-space:nowrap" class="ft2012">storage&#160;may&#160;in&#160;addition&#160;specify&#160;whether&#160;the&#160;disk&#160;is&#160;encrypted,&#160;which&#160;conditions&#160;on<br/>the&#160;system&#160;must&#160;be&#160;satisfied&#160;before&#160;a&#160;disk&#160;may&#160;be&#160;<i>re-mounted&#160;</i>by&#160;a&#160;VPE&#160;that&#160;has<br/>previously&#160;unmounted&#160;the&#160;disk,&#160;and&#160;whether&#160;shared&#160;mounting&#160;by&#160;multiple&#160;systems<br/>is&#160;allowed.&#160;To&#160;be&#160;compatible&#160;with&#160;a&#160;high-level&#160;policy,&#160;a&#160;disk&#160;either&#160;has&#160;to&#160;be&#160;trusted<br/>or&#160;else&#160;confidentiality&#160;requires&#160;encryption&#160;while&#160;integrity&#160;requires&#160;hash-trees&#160;pro-<br/>tecting&#160;the&#160;disk.&#160;Similarly,&#160;membership&#160;restrictions&#160;require&#160;bookkeeping&#160;of&#160;disks<br/>and&#160;management&#160;of&#160;access&#160;of&#160;VPEs&#160;to&#160;disks.</p>
<p style="position:absolute;top:653px;left:141px;white-space:nowrap" class="ft2018"><b>3.2</b></p>
<p style="position:absolute;top:653px;left:189px;white-space:nowrap" class="ft2018"><b>Unified&#160;Policy&#160;Enforcement&#160;for&#160;Virtual&#160;Data&#160;Centers</b></p>
<p style="position:absolute;top:694px;left:166px;white-space:nowrap" class="ft2011">In&#160;this&#160;section,&#160;we&#160;introduce&#160;a&#160;TVD-based&#160;policy&#160;enforcement&#160;framework&#160;that</p>
<p style="position:absolute;top:714px;left:141px;white-space:nowrap" class="ft2012">orchestrates&#160;the&#160;deployment&#160;and&#160;enforcement&#160;of&#160;the&#160;type&#160;of&#160;policies&#160;we&#160;presented<br/>in&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#13">3.1&#160;</a>across&#160;the&#160;data&#160;center.&#160;Existing&#160;storage&#160;and&#160;network&#160;virtualization<br/>technologies&#160;as&#160;well&#160;as&#160;existing&#160;Trusted&#160;Computing&#160;components&#160;(in&#160;software&#160;and<br/>hardware)&#160;are&#160;the&#160;building&#160;blocks&#160;of&#160;our&#160;solution.&#160;Our&#160;framework&#160;(1)&#160;combines<br/>these&#160;technologies&#160;to&#160;realize&#160;TVDs&#160;and&#160;(2)&#160;orchestrates&#160;them&#160;using&#160;the&#160;TVD&#160;in-<br/>frastructure,&#160;which&#160;provisions&#160;the&#160;appropriate&#160;security&#160;mechanisms.</p>
<p style="position:absolute;top:859px;left:141px;white-space:nowrap" class="ft2014"><b>3.2.1</b></p>
<p style="position:absolute;top:859px;left:195px;white-space:nowrap" class="ft2014"><b>TVD&#160;Infrastructure</b></p>
<p style="position:absolute;top:892px;left:141px;white-space:nowrap" class="ft2012">The&#160;TVD&#160;infrastructure&#160;consists&#160;of&#160;a&#160;management&#160;layer&#160;and&#160;an&#160;enforcement<br/>layer.&#160;The&#160;TVD&#160;management&#160;layer&#160;includes&#160;TVD&#160;masters,&#160;proxies,&#160;and&#160;factories,<br/>whereas&#160;the&#160;TVD&#160;enforcement&#160;layer&#160;consists&#160;of&#160;various&#160;security&#160;services.&#160;Each<br/>TVD&#160;is&#160;identified&#160;by&#160;a&#160;unique&#160;<i>TVD&#160;master&#160;</i>that&#160;orchestrates&#160;TVD&#160;deployment&#160;and<br/>configuration.&#160;The&#160;TVD&#160;master&#160;can&#160;be&#160;implemented&#160;as&#160;a&#160;centralized&#160;entity&#160;or&#160;have<br/>a&#160;distributed&#160;fault-tolerant&#160;implementation.&#160;The&#160;TVD&#160;master&#160;contains&#160;a&#160;repository<br/>of&#160;high-level&#160;TVD&#160;policies&#160;and&#160;credentials&#160;(e.g.,&#160;VPN&#160;keys).&#160;The&#160;master&#160;also&#160;ex-<br/>poses&#160;a&#160;TVD&#160;management&#160;API&#160;through&#160;which&#160;the&#160;TVD&#160;owner&#160;can&#160;specify&#160;those<br/>policies&#160;and&#160;credentials.&#160;In&#160;the&#160;deployment&#160;phase,&#160;the&#160;TVD&#160;master&#160;first&#160;verifies&#160;the</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft2016">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 21 -->
<a name="21"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft2161{font-size:7px;font-family:Helvetica;color:#000000;}
	.ft2162{font-size:7px;font-family:Helvetica;color:#000000;}
	.ft2163{font-size:6px;font-family:Helvetica;color:#000000;}
	.ft2164{font-size:16px;line-height:20px;font-family:Times;color:#000000;}
-->
</style>
<div id="page21-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter021.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft2123">CHAPTER&#160;3.&#160;POLICY&#160;ENFORCEMENT&#160;FOR&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft2111">21</p>
<p style="position:absolute;top:221px;left:344px;white-space:nowrap" class="ft2161"><b>Compartment&#160;Manager</b></p>
<p style="position:absolute;top:221px;left:494px;white-space:nowrap" class="ft2161"><b>TVD&#160;Proxy</b></p>
<p style="position:absolute;top:199px;left:590px;white-space:nowrap" class="ft2161"><b>TVD&#160;Master</b></p>
<p style="position:absolute;top:287px;left:566px;white-space:nowrap" class="ft2162">Network&#160;Manager</p>
<p style="position:absolute;top:295px;left:576px;white-space:nowrap" class="ft2162">(sub-proxy)</p>
<p style="position:absolute;top:287px;left:485px;white-space:nowrap" class="ft2162">Storage&#160;Manager&#160;</p>
<p style="position:absolute;top:295px;left:496px;white-space:nowrap" class="ft2162">(sub-proxy)</p>
<p style="position:absolute;top:293px;left:384px;white-space:nowrap" class="ft2162">Virtual&#160;Device&#160;Manager</p>
<p style="position:absolute;top:262px;left:338px;white-space:nowrap" class="ft2162">Integrity&#160;Manager</p>
<p style="position:absolute;top:327px;left:342px;white-space:nowrap" class="ft2163"><b>TVD&#160;component</b></p>
<p style="position:absolute;top:328px;left:409px;white-space:nowrap" class="ft2163"><b>Security&#160;service</b></p>
<p style="position:absolute;top:361px;left:308px;white-space:nowrap" class="ft2111">Figure&#160;3.2:&#160;TVD&#160;Components&#160;and&#160;Security&#160;Services.</p>
<p style="position:absolute;top:402px;left:213px;white-space:nowrap" class="ft2112">suitability&#160;and&#160;capability&#160;of&#160;the&#160;physical&#160;host&#160;(which&#160;we&#160;refer&#160;to&#160;as&#160;pre-admission<br/>control).&#160;It&#160;then&#160;uses&#160;a&#160;generic&#160;<i>TVD&#160;factory&#160;</i>service&#160;to&#160;spawn&#160;a&#160;<i>TVD&#160;proxy</i>,&#160;which<br/>acts&#160;as&#160;the&#160;local&#160;delegate&#160;of&#160;the&#160;TVD&#160;master&#160;dedicated&#160;to&#160;that&#160;particular&#160;host.&#160;The<br/>TVD&#160;proxy&#160;is&#160;responsible&#160;for&#160;(1)&#160;translation&#160;of&#160;high-level&#160;TVD&#160;policies&#160;into&#160;low-<br/>level&#160;platform-specific&#160;configurations,&#160;(2)&#160;configuration&#160;of&#160;the&#160;host&#160;and&#160;security<br/>services&#160;with&#160;respect&#160;to&#160;the&#160;translated&#160;policies,&#160;and&#160;(3)&#160;interaction&#160;with&#160;the&#160;security<br/>services&#160;in&#160;TVD&#160;admission&#160;and&#160;flow&#160;control.</p>
<p style="position:absolute;top:544px;left:238px;white-space:nowrap" class="ft2111">Security&#160;services&#160;implement&#160;the&#160;security&#160;enforcement&#160;layer&#160;of&#160;our&#160;TVD&#160;in-</p>
<p style="position:absolute;top:564px;left:213px;white-space:nowrap" class="ft2112">frastructure.&#160;They&#160;run&#160;in&#160;a&#160;trusted&#160;execution&#160;environment&#160;on&#160;each&#160;physical&#160;host<br/>(e.g.,&#160;Domain-0&#160;in&#160;Xen)&#160;and&#160;(1)&#160;manage&#160;the&#160;security&#160;configuration&#160;of&#160;the&#160;hyper-<br/>visor,&#160;(2)&#160;provide&#160;secure&#160;virtualization&#160;of&#160;resources&#160;(e.g.,&#160;virtual&#160;devices)&#160;to&#160;the<br/>VMs,&#160;and&#160;(3)&#160;provide&#160;support&#160;to&#160;TVD&#160;proxies&#160;in&#160;enforcing&#160;flow&#160;and&#160;access&#160;con-<br/>trol&#160;policies&#160;within&#160;and&#160;across&#160;TVD&#160;boundaries.&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#21">3.2&#160;</a>shows&#160;a&#160;high-level&#160;list<br/>of&#160;security&#160;services&#160;and&#160;their&#160;interaction&#160;with&#160;the&#160;TVD&#160;components.&#160;Most&#160;impor-<br/>tantly,&#160;the&#160;<i>compartment&#160;manager&#160;</i>service&#160;manages&#160;the&#160;life-cycle&#160;of&#160;VMs&#160;in&#160;both<br/>para-virtualized&#160;and&#160;fully&#160;virtualized&#160;modes.&#160;This&#160;service&#160;works&#160;in&#160;collaboration<br/>with&#160;the&#160;TVD&#160;proxy&#160;to&#160;admit&#160;VMs&#160;into&#160;TVDs.&#160;The&#160;<i>integrity&#160;manager&#160;</i>service<br/>implements&#160;Trusted&#160;Computing&#160;extensions&#160;and&#160;assists&#160;the&#160;TVD&#160;proxy&#160;in&#160;host&#160;pre-<br/>admission&#160;and&#160;VM&#160;admission&#160;control.&#160;The&#160;<i>virtual&#160;network&#160;manager&#160;</i>and&#160;<i>virtual<br/>storage&#160;manager&#160;</i>services&#160;are&#160;invoked&#160;by&#160;the&#160;TVD&#160;proxy.&#160;They&#160;implement&#160;re-<br/>source&#160;virtualization&#160;technologies&#160;and&#160;enforce&#160;parts&#160;of&#160;the&#160;high-level&#160;TVD&#160;policies<br/>that&#160;are&#160;relevant&#160;to&#160;their&#160;operation.&#160;Lastly,&#160;the&#160;<i>virtual&#160;device&#160;manager&#160;</i>service&#160;han-<br/>dles&#160;the&#160;secure&#160;resource&#160;allocation&#160;and&#160;setup&#160;of&#160;virtual&#160;devices&#160;assigned&#160;to&#160;each<br/>VM.</p>
<p style="position:absolute;top:889px;left:238px;white-space:nowrap" class="ft2111">Our&#160;TVD&#160;infrastructure&#160;is&#160;geared&#160;towards&#160;automated&#160;deployment&#160;and&#160;enforce-</p>
<p style="position:absolute;top:910px;left:213px;white-space:nowrap" class="ft2112">ment&#160;of&#160;security&#160;policies&#160;specified&#160;by&#160;the&#160;TVD&#160;master.&#160;Automated&#160;refinement&#160;and<br/>translation&#160;of&#160;high-level&#160;policies&#160;into&#160;low-level&#160;configurations&#160;are&#160;of&#160;particular&#160;in-<br/>terest.&#160;For&#160;example,&#160;for&#160;information&#160;flow&#160;between&#160;two&#160;hosts&#160;in&#160;a&#160;trusted&#160;data-center<br/>environment,&#160;other&#160;mechanisms&#160;need&#160;to&#160;be&#160;in&#160;place&#160;than&#160;for&#160;a&#160;flow&#160;between&#160;two<br/>hosts&#160;at&#160;opposite&#160;ends&#160;of&#160;an&#160;untrusted&#160;WAN&#160;link.&#160;In&#160;the&#160;latter&#160;case,&#160;the&#160;hosts&#160;should<br/>be&#160;configured&#160;to&#160;allow&#160;communication&#160;between&#160;them&#160;only&#160;through&#160;a&#160;VPN&#160;tunnel.</p>
<p style="position:absolute;top:1032px;left:238px;white-space:nowrap" class="ft2111">Another&#160;important&#160;consideration&#160;is&#160;policy&#160;conflict&#160;detection&#160;and&#160;resolution</p>
<p style="position:absolute;top:1052px;left:213px;white-space:nowrap" class="ft2111"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">[Wes01,&#160;</a><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#92">LS99]</a>.&#160;In&#160;fact,&#160;conflicting&#160;high-level&#160;policies&#160;(e.g.,&#160;a&#160;connection&#160;being</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft2116">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 22 -->
<a name="22"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page22-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter022.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft2211">22</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft2216">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft2212">allowed&#160;in&#160;the&#160;inter-TVD&#160;policy&#160;but&#160;disallowed&#160;in&#160;the&#160;intra-TVD&#160;policy)&#160;can&#160;po-<br/>tentially&#160;result&#160;in&#160;an&#160;incorrect&#160;configuration&#160;of&#160;the&#160;underlying&#160;infrastructure.&#160;We<br/>cannot&#160;solely&#160;rely&#160;on&#160;the&#160;TVD&#160;owner&#160;to&#160;specify&#160;conflict-free&#160;policies.&#160;It&#160;is&#160;im-<br/>portant&#160;to&#160;detect&#160;policy&#160;conflicts&#160;and&#160;provide&#160;feedback&#160;to&#160;the&#160;owner&#160;in&#160;case&#160;one&#160;is<br/>detected.&#160;In&#160;the&#160;present&#160;prototype,&#160;policy&#160;refinement&#160;is&#160;performed&#160;manually.&#160;The<br/>result&#160;is&#160;a&#160;set&#160;of&#160;configuration&#160;files&#160;that&#160;we&#160;use&#160;for&#160;configuring&#160;the&#160;security&#160;services<br/>at&#160;the&#160;policy&#160;enforcement&#160;layer&#160;(e.g.,&#160;the&#160;virtual&#160;networking&#160;infrastructure).&#160;In&#160;fu-<br/>ture&#160;work,&#160;we&#160;will&#160;investigate&#160;the&#160;automation&#160;of&#160;this&#160;step&#160;using,&#160;for&#160;example,&#160;the<br/>IETF&#160;policy&#160;model&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">[RYG00]&#160;</a>and&#160;various&#160;graph-based&#160;mechanisms&#160;from&#160;the&#160;litera-<br/>ture.&#160;We&#160;will&#160;also&#160;investigate&#160;different&#160;techniques&#160;for&#160;resolving&#160;conflicting&#160;policies<br/><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">[EASH05,&#160;</a><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">CBL07,&#160;</a><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#92">N.&#160;01,&#160;</a><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">FWH</a></p>
<p style="position:absolute;top:396px;left:351px;white-space:nowrap" class="ft2228"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">+</a></p>
<p style="position:absolute;top:399px;left:361px;white-space:nowrap" class="ft2211"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">01]</a>.</p>
<p style="position:absolute;top:443px;left:141px;white-space:nowrap" class="ft2214"><b>3.2.2</b></p>
<p style="position:absolute;top:443px;left:195px;white-space:nowrap" class="ft2214"><b>Virtual&#160;Networking&#160;Infrastructure</b></p>
<p style="position:absolute;top:475px;left:141px;white-space:nowrap" class="ft2212">Virtual&#160;networking&#160;(VNET)&#160;technologies&#160;enable&#160;the&#160;seamless&#160;interconnection&#160;of<br/>VMs&#160;that&#160;reside&#160;on&#160;different&#160;physical&#160;hosts&#160;as&#160;if&#160;they&#160;were&#160;running&#160;on&#160;the&#160;same<br/>machine.&#160;In&#160;our&#160;TVD&#160;framework,&#160;we&#160;employ&#160;multiple&#160;technologies,&#160;including<br/>virtual&#160;switches,&#160;Ethernet&#160;encapsulation,&#160;VLAN&#160;tagging,&#160;and&#160;VPNs,&#160;to&#160;virtualize<br/>the&#160;underlying&#160;network&#160;and&#160;securely&#160;group&#160;VMs&#160;that&#160;belong&#160;to&#160;the&#160;same&#160;TVD.&#160;A<br/>single&#160;private&#160;virtual&#160;network&#160;is&#160;dedicated&#160;to&#160;each&#160;TVD,&#160;and&#160;network&#160;separation<br/>is&#160;ensured&#160;by&#160;connecting&#160;the&#160;VMs&#160;at&#160;the&#160;Ethernet&#160;level.&#160;Logically&#160;speaking,&#160;we<br/>provide&#160;a&#160;separate&#160;“virtual&#160;infrastructure”&#160;for&#160;each&#160;TVD&#160;in&#160;which&#160;we&#160;control&#160;and<br/>limit&#160;the&#160;sharing&#160;of&#160;network&#160;resources&#160;(such&#160;as&#160;routers,&#160;switches)&#160;between&#160;TVDs.<br/>This&#160;also&#160;provides&#160;the&#160;TVD&#160;owner&#160;with&#160;the&#160;freedom&#160;to&#160;deploy&#160;a&#160;wide&#160;range&#160;of<br/>networking&#160;solutions&#160;on&#160;top&#160;of&#160;the&#160;TVD&#160;network&#160;infrastructure.&#160;Network&#160;address<br/>allocations,&#160;transport&#160;protocols,&#160;and&#160;other&#160;services&#160;are&#160;then&#160;fully&#160;customizable&#160;by<br/>the&#160;TVD&#160;owner&#160;and&#160;work&#160;transparently&#160;as&#160;if&#160;the&#160;VMs&#160;were&#160;in&#160;an&#160;isolated&#160;physical<br/>network.&#160;To&#160;maintain&#160;secrecy&#160;and&#160;confidentiality&#160;of&#160;network&#160;data&#160;(where&#160;neces-<br/>sary),&#160;network&#160;communication&#160;is&#160;established&#160;over&#160;encrypted&#160;VPN&#160;tunnels.&#160;This<br/>enables&#160;the&#160;transparent&#160;use&#160;of&#160;untrusted&#160;networks&#160;between&#160;physical&#160;hosts&#160;that&#160;con-<br/>tain&#160;VMs&#160;within&#160;the&#160;same&#160;TVD&#160;to&#160;provide&#160;a&#160;seamless&#160;view&#160;of&#160;the&#160;TVD&#160;network.</p>
<p style="position:absolute;top:821px;left:166px;white-space:nowrap" class="ft2211">In&#160;this&#160;section,&#160;we&#160;introduce&#160;the&#160;technologies&#160;we&#160;use&#160;to&#160;implement&#160;a&#160;security-</p>
<p style="position:absolute;top:841px;left:141px;white-space:nowrap" class="ft2212">enhanced&#160;VNET&#160;infrastructure&#160;for&#160;TVD&#160;owners.&#160;The&#160;concept&#160;of&#160;virtual&#160;switching<br/>is&#160;central&#160;to&#160;our&#160;architecture,&#160;which&#160;is&#160;then&#160;protected&#160;by&#160;existing&#160;VPN&#160;technologies<br/>that&#160;provide&#160;data&#160;confidentiality&#160;and&#160;integrity&#160;where&#160;needed.&#160;The&#160;VNET&#160;infras-<br/>tructure&#160;acts&#160;as&#160;the&#160;local&#160;enforcer&#160;of&#160;VNET&#160;policies.&#160;As&#160;described&#160;in&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#18">3.1.3,<br/></a>these&#160;policies&#160;are&#160;based&#160;on&#160;the&#160;high-level&#160;TVD&#160;policies&#160;and&#160;translated&#160;into&#160;net-<br/>work&#160;configurations&#160;by&#160;the&#160;TVD&#160;proxy.&#160;The&#160;proxy&#160;then&#160;deploys&#160;the&#160;whole&#160;VNET<br/>infrastructure&#160;with&#160;respect&#160;to&#160;the&#160;translated&#160;configuration.</p>
<p style="position:absolute;top:1007px;left:141px;white-space:nowrap" class="ft2215"><b>Virtual&#160;Switching</b></p>
<p style="position:absolute;top:1038px;left:141px;white-space:nowrap" class="ft2212">The&#160;<i>virtual&#160;switch&#160;</i>(vSwitch)&#160;is&#160;the&#160;central&#160;component&#160;of&#160;the&#160;virtual&#160;networking<br/>infrastructure&#160;and&#160;operates&#160;similarly&#160;to&#160;a&#160;physical&#160;switch.&#160;It&#160;is&#160;responsible&#160;for</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft2216">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 23 -->
<a name="23"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft2365{font-size:8px;font-family:CXOYBI+TTAFFo00;color:#000000;}
	.ft2366{font-size:8px;font-family:PGUGBG+TTB00o00;color:#000000;-moz-transform: matrix(         0,          1,         -1,          0, 0, 0);-webkit-transform: matrix(         0,          1,         -1,          0, 0, 0);-o-transform: matrix(         0,          1,         -1,          0, 0, 0);-ms-transform: matrix(         0,          1,         -1,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft2367{font-size:12px;font-family:TWPWAV+TTB01o00;color:#000000;}
	.ft2368{font-size:8px;font-family:PGUGBG+TTB00o00;color:#ffffff;-moz-transform: matrix(         0,          1,         -1,          0, 0, 0);-webkit-transform: matrix(         0,          1,         -1,          0, 0, 0);-o-transform: matrix(         0,          1,         -1,          0, 0, 0);-ms-transform: matrix(         0,          1,         -1,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft2369{font-size:14px;font-family:ACHYIG+TTB02o00;color:#000000;}
	.ft2370{font-size:9px;font-family:HSAEUE+TTB03o00;color:#000000;}
	.ft2371{font-size:9px;font-family:HSAEUE+TTB03o00;color:#ffffff;}
	.ft2372{font-size:8px;line-height:12px;font-family:PGUGBG+TTB00o00;color:#ffffff;-moz-transform: matrix(         0,          1,         -1,          0, 0, 0);-webkit-transform: matrix(         0,          1,         -1,          0, 0, 0);-o-transform: matrix(         0,          1,         -1,          0, 0, 0);-ms-transform: matrix(         0,          1,         -1,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft2373{font-size:8px;line-height:12px;font-family:PGUGBG+TTB00o00;color:#000000;-moz-transform: matrix(         0,          1,         -1,          0, 0, 0);-webkit-transform: matrix(         0,          1,         -1,          0, 0, 0);-o-transform: matrix(         0,          1,         -1,          0, 0, 0);-ms-transform: matrix(         0,          1,         -1,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
-->
</style>
<div id="page23-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter023.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft2323">CHAPTER&#160;3.&#160;POLICY&#160;ENFORCEMENT&#160;FOR&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft2311">23</p>
<p style="position:absolute;top:221px;left:313px;white-space:nowrap" class="ft2365">VM</p>
<p style="position:absolute;top:219px;left:311px;white-space:nowrap" class="ft2365">VM</p>
<p style="position:absolute;top:312px;left:626px;white-space:nowrap" class="ft2366">Eth</p>
<p style="position:absolute;top:324px;left:626px;white-space:nowrap" class="ft2366">erIP</p>
<p style="position:absolute;top:190px;left:482px;white-space:nowrap" class="ft2367">Host&#160;C</p>
<p style="position:absolute;top:190px;left:602px;white-space:nowrap" class="ft2367">Host&#160;D</p>
<p style="position:absolute;top:190px;left:332px;white-space:nowrap" class="ft2367">Host&#160;A</p>
<p style="position:absolute;top:283px;left:590px;white-space:nowrap" class="ft2368">VPN</p>
<p style="position:absolute;top:417px;left:598px;white-space:nowrap" class="ft2369">WAN</p>
<p style="position:absolute;top:262px;left:312px;white-space:nowrap" class="ft2370">vSwitch</p>
<p style="position:absolute;top:221px;left:337px;white-space:nowrap" class="ft2365">VM</p>
<p style="position:absolute;top:219px;left:335px;white-space:nowrap" class="ft2365">VM</p>
<p style="position:absolute;top:221px;left:581px;white-space:nowrap" class="ft2365">VM</p>
<p style="position:absolute;top:219px;left:579px;white-space:nowrap" class="ft2365">VM</p>
<p style="position:absolute;top:220px;left:619px;white-space:nowrap" class="ft2365">VM</p>
<p style="position:absolute;top:218px;left:617px;white-space:nowrap" class="ft2365">VM&#160;VM</p>
<p style="position:absolute;top:218px;left:639px;white-space:nowrap" class="ft2365">VM</p>
<p style="position:absolute;top:257px;left:577px;white-space:nowrap" class="ft2371">vSwitch</p>
<p style="position:absolute;top:257px;left:621px;white-space:nowrap" class="ft2370">vSwitch</p>
<p style="position:absolute;top:221px;left:370px;white-space:nowrap" class="ft2365">VM</p>
<p style="position:absolute;top:219px;left:369px;white-space:nowrap" class="ft2365">VM</p>
<p style="position:absolute;top:345px;left:373px;white-space:nowrap" class="ft2372">Tag<br/>ge</p>
<p style="position:absolute;top:365px;left:373px;white-space:nowrap" class="ft2368">r</p>
<p style="position:absolute;top:262px;left:363px;white-space:nowrap" class="ft2371">vSwitch</p>
<p style="position:absolute;top:312px;left:589px;white-space:nowrap" class="ft2368">Eth</p>
<p style="position:absolute;top:324px;left:589px;white-space:nowrap" class="ft2368">erIP</p>
<p style="position:absolute;top:444px;left:374px;white-space:nowrap" class="ft2367">VLAN&#160;Switch</p>
<p style="position:absolute;top:189px;left:426px;white-space:nowrap" class="ft2367">Host&#160;B</p>
<p style="position:absolute;top:221px;left:437px;white-space:nowrap" class="ft2365">VM</p>
<p style="position:absolute;top:219px;left:435px;white-space:nowrap" class="ft2365">VM</p>
<p style="position:absolute;top:347px;left:443px;white-space:nowrap" class="ft2373">Tag<br/>ge</p>
<p style="position:absolute;top:368px;left:443px;white-space:nowrap" class="ft2366">r</p>
<p style="position:absolute;top:262px;left:429px;white-space:nowrap" class="ft2370">vSwitch</p>
<p style="position:absolute;top:284px;left:626px;white-space:nowrap" class="ft2366">VPN</p>
<p style="position:absolute;top:315px;left:310px;white-space:nowrap" class="ft2366">VPN</p>
<p style="position:absolute;top:344px;left:323px;white-space:nowrap" class="ft2373">Tag<br/>ge</p>
<p style="position:absolute;top:365px;left:323px;white-space:nowrap" class="ft2366">r</p>
<p style="position:absolute;top:344px;left:307px;white-space:nowrap" class="ft2366">Eth</p>
<p style="position:absolute;top:355px;left:307px;white-space:nowrap" class="ft2366">erIP</p>
<p style="position:absolute;top:346px;left:428px;white-space:nowrap" class="ft2366">Eth</p>
<p style="position:absolute;top:358px;left:428px;white-space:nowrap" class="ft2366">erIP</p>
<p style="position:absolute;top:314px;left:430px;white-space:nowrap" class="ft2366">VPN</p>
<p style="position:absolute;top:344px;left:357px;white-space:nowrap" class="ft2368">Eth</p>
<p style="position:absolute;top:355px;left:357px;white-space:nowrap" class="ft2368">erIP</p>
<p style="position:absolute;top:316px;left:358px;white-space:nowrap" class="ft2368">VPN</p>
<p style="position:absolute;top:488px;left:343px;white-space:nowrap" class="ft2311">Figure&#160;3.3:&#160;General&#160;vSwitch&#160;Architecture.</p>
<p style="position:absolute;top:538px;left:213px;white-space:nowrap" class="ft2312">network&#160;virtualization&#160;and&#160;isolation,&#160;and&#160;enables&#160;a&#160;virtual&#160;network&#160;to&#160;span&#160;multi-<br/>ple&#160;physical&#160;hosts.&#160;To&#160;do&#160;so,&#160;the&#160;vSwitch&#160;uses&#160;EtherIP&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[IET02]&#160;</a>and&#160;VLAN&#160;tag-<br/>ging&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[IEE98]&#160;</a>to&#160;insert&#160;VLAN&#160;membership&#160;information&#160;into&#160;every&#160;network&#160;packet.<br/>The&#160;vSwitch&#160;also&#160;implements&#160;the&#160;necessary&#160;address-mapping&#160;techniques&#160;to&#160;direct<br/>packets&#160;only&#160;to&#160;those&#160;machines&#160;that&#160;host&#160;member&#160;VMs.&#160;Virtual&#160;switches&#160;provide<br/>the&#160;primitives&#160;for&#160;implementing&#160;higher-level&#160;security&#160;policies&#160;for&#160;networking&#160;and<br/>are&#160;configured&#160;by&#160;the&#160;higher-level&#160;TVD&#160;management&#160;layer.</p>
<p style="position:absolute;top:680px;left:238px;white-space:nowrap" class="ft2311">Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#23">3.3&#160;</a>illustrates&#160;an&#160;example&#160;architecture&#160;in&#160;which&#160;physical&#160;machines&#160;host</p>
<p style="position:absolute;top:701px;left:213px;white-space:nowrap" class="ft2312">multiple&#160;VMs&#160;with&#160;different&#160;TVD&#160;memberships&#160;(the&#160;light&#160;and&#160;dark&#160;shades&#160;indicate<br/>different&#160;TVDs).&#160;Hosts&#160;A,&#160;B,&#160;and&#160;D&#160;are&#160;virtualized&#160;machines,&#160;whereas&#160;Host&#160;C&#160;is<br/>non-virtualized.&#160;Furthermore,&#160;Hosts&#160;A,&#160;B,&#160;and&#160;C&#160;reside&#160;on&#160;the&#160;same&#160;LAN,&#160;and&#160;thus<br/>can&#160;communicate&#160;directly&#160;using&#160;the&#160;trusted&#160;physical&#160;infrastructure&#160;without&#160;further<br/>protection&#160;(e.g.,&#160;traffic&#160;encryption).&#160;For&#160;example,&#160;the&#160;<i>light&#160;</i>VMs&#160;hosted&#160;on&#160;Hosts<br/>A&#160;and&#160;B&#160;are&#160;inter-connected&#160;using&#160;the&#160;local&#160;VLAN-enabled&#160;physical&#160;switch.&#160;In<br/>this&#160;case,&#160;the&#160;physical&#160;switch&#160;separates&#160;the&#160;TVD&#160;traffic&#160;from&#160;other&#160;traffic&#160;passing<br/>through&#160;the&#160;switch&#160;using&#160;VLAN&#160;tags.&#160;Similarly,&#160;the&#160;<i>dark&#160;</i>VMs&#160;hosted&#160;on&#160;Host<br/>A&#160;and&#160;the&#160;non-virtualized&#160;Host&#160;C&#160;are&#160;seamlessly&#160;inter-connected&#160;using&#160;the&#160;local<br/>switch.&#160;In&#160;contrast,&#160;connections&#160;that&#160;require&#160;IP&#160;connectivity&#160;are&#160;routed&#160;over&#160;the<br/>WAN&#160;link.&#160;The&#160;WAN&#160;cloud&#160;in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#23">3.3&#160;</a>represents&#160;the&#160;physical&#160;network&#160;in-<br/>frastructure&#160;able&#160;to&#160;deal&#160;with&#160;TVD-enabled&#160;virtual&#160;networks;&#160;it&#160;can&#160;include&#160;LANs<br/>with&#160;devices&#160;capable&#160;of&#160;VLAN&#160;tagging&#160;and&#160;gateways&#160;to&#160;connect&#160;the&#160;LANs&#160;to&#160;each<br/>other&#160;over&#160;(possibly&#160;insecure)&#160;WAN&#160;links.&#160;For&#160;connections&#160;that&#160;traverse&#160;untrusted<br/>medium,&#160;we&#160;employ&#160;EtherIP&#160;encapsulation&#160;to&#160;denote&#160;TVD&#160;membership&#160;and&#160;addi-<br/>tional&#160;security&#160;measures&#160;(such&#160;as&#160;encryption)&#160;to&#160;ensure&#160;compliance&#160;with&#160;the&#160;confi-<br/>dentiality&#160;and&#160;integrity&#160;requirements.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft2316">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 24 -->
<a name="24"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft2474{font-size:9px;font-family:Helvetica;color:#000000;}
	.ft2475{font-size:10px;line-height:11px;font-family:Helvetica;color:#000000;}
-->
</style>
<div id="page24-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter024.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft2411">24</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft2416">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:284px;left:426px;white-space:nowrap" class="ft2449">Consolidation</p>
<p style="position:absolute;top:241px;left:424px;white-space:nowrap" class="ft2435">Access&#160;Control&#160;&amp;&#160;Encryption</p>
<p style="position:absolute;top:264px;left:427px;white-space:nowrap" class="ft2435">TVD&#160;A</p>
<p style="position:absolute;top:264px;left:470px;white-space:nowrap" class="ft2435">TVD&#160;B</p>
<p style="position:absolute;top:264px;left:508px;white-space:nowrap" class="ft2435">TVD&#160;C</p>
<p style="position:absolute;top:303px;left:281px;white-space:nowrap" class="ft2475">Heterogeneous&#160;<br/>Physical&#160;Storage</p>
<p style="position:absolute;top:251px;left:281px;white-space:nowrap" class="ft2475">Per-TVD&#160;<br/>Raw&#160;Storage</p>
<p style="position:absolute;top:208px;left:281px;white-space:nowrap" class="ft2475">Per-TVD&#160;<br/>Virtual&#160;Storage</p>
<p style="position:absolute;top:195px;left:423px;white-space:nowrap" class="ft2474"><b>TVD&#160;A</b></p>
<p style="position:absolute;top:195px;left:466px;white-space:nowrap" class="ft2474"><b>TVD&#160;B</b></p>
<p style="position:absolute;top:195px;left:507px;white-space:nowrap" class="ft2474"><b>TVD&#160;C</b></p>
<p style="position:absolute;top:264px;left:378px;white-space:nowrap" class="ft2435">Metadata</p>
<p style="position:absolute;top:358px;left:221px;white-space:nowrap" class="ft2411">Figure&#160;3.4:&#160;Security&#160;Enforcement&#160;for&#160;Virtualized&#160;Storage.</p>
<p style="position:absolute;top:408px;left:141px;white-space:nowrap" class="ft2415"><b>Virtual&#160;Private&#160;Networking</b></p>
<p style="position:absolute;top:439px;left:141px;white-space:nowrap" class="ft2412">In&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#23">3.3,&#160;</a>VMs&#160;hosted&#160;on&#160;Host&#160;D&#160;are&#160;connected&#160;to&#160;the&#160;other&#160;machines&#160;over&#160;a<br/>WAN&#160;link.&#160;A&#160;practical&#160;setting&#160;in&#160;which&#160;such&#160;a&#160;connection&#160;might&#160;exist&#160;would&#160;be<br/>an&#160;outsourced&#160;remote&#160;resource&#160;connected&#160;to&#160;the&#160;local&#160;data&#160;center&#160;through&#160;the&#160;In-<br/>ternet.&#160;As&#160;an&#160;example,&#160;lightly&#160;shaded&#160;VMs&#160;on&#160;Host&#160;D&#160;connect&#160;to&#160;the&#160;lone&#160;VM&#160;on<br/>Host&#160;B&#160;over&#160;this&#160;untrusted&#160;link.&#160;In&#160;this&#160;setting,&#160;we&#160;use&#160;a&#160;combination&#160;of&#160;EtherIP<br/>encapsulation&#160;and&#160;VPN&#160;technology&#160;to&#160;ensure&#160;the&#160;confidentiality&#160;and&#160;integrity&#160;of<br/>the&#160;communication.&#160;To&#160;do&#160;so,&#160;we&#160;use&#160;point-to-point&#160;VPN&#160;tunnels&#160;with&#160;OpenVPN<br/>that&#160;are&#160;configured&#160;via&#160;the&#160;TVD&#160;proxy&#160;from&#160;the&#160;TVD&#160;policies.&#160;This&#160;enables&#160;re-<br/>configuration&#160;of&#160;the&#160;topology&#160;and&#160;the&#160;involved&#160;VPNs&#160;within&#160;a&#160;TVD&#160;from&#160;a&#160;single<br/>administration&#160;point,&#160;the&#160;TVD&#160;Master.</p>
<p style="position:absolute;top:643px;left:166px;white-space:nowrap" class="ft2411">TVD&#160;policies&#160;distributed&#160;from&#160;the&#160;TVD&#160;master&#160;to&#160;the&#160;TVD&#160;proxy&#160;also&#160;include</p>
<p style="position:absolute;top:663px;left:141px;white-space:nowrap" class="ft2412">the&#160;secret&#160;key&#160;for&#160;the&#160;VPN&#160;along&#160;with&#160;other&#160;VPN-specific&#160;settings.&#160;On&#160;a&#160;physical<br/>host,&#160;the&#160;VPN’s&#160;endpoint&#160;is&#160;represented&#160;as&#160;a&#160;local&#160;virtual&#160;network&#160;interface&#160;(vif)<br/>that&#160;is&#160;plugged&#160;into&#160;the&#160;appropriate&#160;vSwitch&#160;controlled&#160;by&#160;the&#160;TVD&#160;proxy.&#160;The<br/>vSwitch&#160;then&#160;decides&#160;whether&#160;to&#160;tunnel&#160;the&#160;communication&#160;between&#160;VMs,&#160;and&#160;if<br/>so,&#160;uses&#160;the&#160;VPN&#160;module&#160;to&#160;establish&#160;the&#160;tunnel&#160;and&#160;access&#160;the&#160;VPN&#160;secret&#160;for<br/>traffic&#160;encryption&#160;and&#160;decryption.</p>
<p style="position:absolute;top:808px;left:141px;white-space:nowrap" class="ft2414"><b>3.2.3</b></p>
<p style="position:absolute;top:808px;left:195px;white-space:nowrap" class="ft2414"><b>Virtual&#160;Storage&#160;Infrastructure</b></p>
<p style="position:absolute;top:841px;left:141px;white-space:nowrap" class="ft2412">We&#160;focus&#160;on&#160;a&#160;simplified&#160;security&#160;management&#160;of&#160;virtualized&#160;storage.&#160;Broadly<br/>speaking,&#160;storage&#160;virtualization&#160;abstracts&#160;away&#160;the&#160;physical&#160;storage&#160;resource(s).&#160;It<br/>is&#160;desirable&#160;to&#160;allow&#160;a&#160;storage&#160;resource&#160;to&#160;be&#160;shared&#160;by&#160;multiple&#160;host&#160;computers,<br/>and&#160;also&#160;to&#160;provide&#160;a&#160;single&#160;storage&#160;device&#160;abstraction&#160;to&#160;a&#160;computer&#160;irrespective<br/>of&#160;the&#160;underlying&#160;physical&#160;storage,&#160;which&#160;may&#160;be&#160;a&#160;single&#160;hard&#160;disk,&#160;a&#160;set&#160;of&#160;hard<br/>disks,&#160;a&#160;Storage&#160;Area&#160;Network&#160;(SAN),&#160;etc.&#160;To&#160;satisfy&#160;both&#160;requirements,&#160;stor-<br/>age&#160;virtualization&#160;is&#160;typically&#160;done&#160;at&#160;two&#160;levels.&#160;The&#160;first&#160;level&#160;of&#160;virtualization<br/>involves&#160;aggregating&#160;all&#160;the&#160;(potentially&#160;heterogeneous)&#160;physical&#160;storage&#160;devices<br/>into&#160;one&#160;or&#160;more&#160;virtual&#160;storage&#160;pools.&#160;The&#160;aggregation&#160;allows&#160;more&#160;centralized<br/>and&#160;convenient&#160;data&#160;management.&#160;The&#160;second&#160;level&#160;of&#160;virtualization&#160;concerns&#160;the<br/>unified&#160;granularity&#160;(i.e.,&#160;blocks&#160;or&#160;files)&#160;at&#160;which&#160;data&#160;in&#160;each&#160;pool&#160;is&#160;presented&#160;to<br/>the&#160;higher-level&#160;entities&#160;(operating&#160;systems,&#160;applications,&#160;or&#160;VMs).</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft2416">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 25 -->
<a name="25"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page25-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter025.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft2523">CHAPTER&#160;3.&#160;POLICY&#160;ENFORCEMENT&#160;FOR&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft2511">25</p>
<p style="position:absolute;top:196px;left:238px;white-space:nowrap" class="ft2511">Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#24">3.4&#160;</a>shows&#160;our&#160;storage&#160;security&#160;enforcement&#160;architecture,&#160;in&#160;which&#160;exist-</p>
<p style="position:absolute;top:216px;left:213px;white-space:nowrap" class="ft2512">ing&#160;heterogeneous&#160;physical&#160;storage&#160;devices&#160;are&#160;consolidated&#160;into&#160;a&#160;joint&#160;pool.&#160;This<br/>virtual&#160;storage&#160;pool&#160;is&#160;then&#160;subdivided&#160;into&#160;raw&#160;storage&#160;for&#160;each&#160;TVD.&#160;Each&#160;raw<br/>storage&#160;volume&#160;has&#160;an&#160;owner&#160;TVD&#160;(indicated&#160;by&#160;the&#160;labels&#160;TVD&#160;A,&#160;TVD&#160;B,&#160;and<br/>TVD&#160;C&#160;at&#160;the&#160;per-TVD&#160;raw&#160;storage&#160;layer&#160;in&#160;the&#160;figure).&#160;In&#160;addition,&#160;when&#160;a&#160;volume<br/>may&#160;have&#160;to&#160;be&#160;shared&#160;among&#160;multiple&#160;TVDS,&#160;there&#160;is&#160;also&#160;a&#160;set&#160;of&#160;member&#160;TVDs<br/>associated&#160;with&#160;it.&#160;The&#160;access&#160;control&#160;and&#160;encryption&#160;layer&#160;helps&#160;enforce&#160;the&#160;owner<br/>TVD’s&#160;storage-sharing&#160;policies,&#160;e.g.,&#160;enforcing&#160;read,&#160;write,&#160;create,&#160;and&#160;update&#160;ac-<br/>cess&#160;permissions&#160;for&#160;the&#160;member&#160;TVDs.&#160;This&#160;layer&#160;is&#160;a&#160;logical&#160;layer&#160;that&#160;in&#160;reality<br/>consists&#160;of&#160;the&#160;virtual&#160;storage&#160;managers&#160;(part&#160;of&#160;the&#160;security&#160;services)&#160;located&#160;on<br/>each&#160;physical&#160;platform&#160;containing&#160;the&#160;owner&#160;TVD’s&#160;VPEs.&#160;The&#160;owner&#160;TVD’s&#160;vir-<br/>tual&#160;storage&#160;manager&#160;on&#160;each&#160;physical&#160;platform&#160;is&#160;responsible&#160;for&#160;enforcing&#160;the<br/>owner&#160;TVD’s&#160;storage&#160;security&#160;policies&#160;(see&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#19">3.1.3)&#160;</a>on&#160;these&#160;volumes.&#160;If&#160;a<br/>certain&#160;intra-TVD&#160;security&#160;policy&#160;requires&#160;confidentiality&#160;and&#160;does&#160;not&#160;declare&#160;the<br/>medium&#160;as&#160;trusted,&#160;the&#160;disk&#160;is&#160;encrypted&#160;using&#160;a&#160;key&#160;belonging&#160;to&#160;the&#160;owner&#160;TVD<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#25">.</a></p>
<p style="position:absolute;top:477px;left:744px;white-space:nowrap" class="ft2520"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#25">2</a></p>
<p style="position:absolute;top:501px;left:213px;white-space:nowrap" class="ft2512">If&#160;conditions&#160;for&#160;(re-)mounting&#160;a&#160;disk&#160;have&#160;been&#160;defined,&#160;the&#160;disk&#160;is&#160;also&#160;encrypted<br/>and&#160;the&#160;key&#160;is&#160;sealed&#160;against&#160;the&#160;TCB&#160;while&#160;including&#160;these&#160;conditions&#160;into&#160;the&#160;un-<br/>sealing&#160;instructions.&#160;The&#160;policy&#160;and&#160;meta-data&#160;are&#160;held&#160;on&#160;a&#160;separate&#160;raw&#160;volume<br/>that&#160;is&#160;only&#160;accessible&#160;by&#160;the&#160;data-center&#160;infrastructure.</p>
<p style="position:absolute;top:582px;left:238px;white-space:nowrap" class="ft2511">An&#160;administrator&#160;of&#160;a&#160;domain&#160;may&#160;request&#160;that&#160;a&#160;disk&#160;be&#160;mounted&#160;to&#160;a&#160;partic-</p>
<p style="position:absolute;top:602px;left:213px;white-space:nowrap" class="ft2512">ular&#160;VM&#160;in&#160;a&#160;particular&#160;mode&#160;(read/write).&#160;In&#160;Xen,&#160;the&#160;disk&#160;is&#160;usually&#160;mounted&#160;in<br/>the&#160;management&#160;machine&#160;Domain-0&#160;as&#160;a&#160;<i>back-end&#160;device&#160;</i>and&#160;then&#160;accessed&#160;by&#160;a<br/>guest&#160;domain&#160;via&#160;a&#160;<i>front-end&#160;</i>device.&#160;The&#160;virtual&#160;storage&#160;manager&#160;on&#160;the&#160;platform<br/>validates&#160;the&#160;mount&#160;request&#160;against&#160;the&#160;policies&#160;of&#160;both&#160;the&#160;TVD&#160;the&#160;VM&#160;is&#160;part<br/>of&#160;and&#160;the&#160;owner&#160;TVD&#160;for&#160;the&#160;disk.&#160;Once&#160;mounted,&#160;appropriate&#160;read-write&#160;per-<br/>missions&#160;are&#160;granted&#160;based&#160;on&#160;the&#160;flow&#160;control&#160;policy&#160;for&#160;the&#160;two&#160;TVDs,&#160;e.g.,&#160;read<br/>access&#160;is&#160;granted&#160;only&#160;if&#160;the&#160;policies&#160;specified&#160;in&#160;the&#160;disk&#160;policy&#160;matrix&#160;allow&#160;the<br/>VM’s&#160;TVD&#160;such&#160;an&#160;access&#160;to&#160;the&#160;disk&#160;belonging&#160;to&#160;the&#160;owner&#160;TVD.</p>
<p style="position:absolute;top:788px;left:213px;white-space:nowrap" class="ft2514"><b>3.2.4</b></p>
<p style="position:absolute;top:788px;left:266px;white-space:nowrap" class="ft2514"><b>TVD&#160;Admission&#160;Control</b></p>
<p style="position:absolute;top:821px;left:213px;white-space:nowrap" class="ft2512">When&#160;a&#160;VM&#160;is&#160;about&#160;to&#160;join&#160;a&#160;TVD,&#160;different&#160;properties&#160;will&#160;be&#160;verified&#160;by&#160;the<br/>local&#160;TVD&#160;proxy&#160;to&#160;ensure&#160;that&#160;policies&#160;of&#160;all&#160;the&#160;TVDs&#160;that&#160;the&#160;VM&#160;is&#160;currently<br/>a&#160;member&#160;of&#160;as&#160;well&#160;as&#160;of&#160;the&#160;TVD&#160;that&#160;it&#160;wants&#160;to&#160;join&#160;are&#160;not&#160;violated.&#160;If&#160;the<br/>verification&#160;is&#160;successful,&#160;then&#160;the&#160;VM&#160;will&#160;be&#160;connected&#160;to&#160;that&#160;TVD.&#160;The&#160;TVD<br/>admission&#160;control&#160;protocol&#160;is&#160;the&#160;procedure&#160;by&#160;which&#160;the&#160;VM&#160;gets&#160;connected&#160;to&#160;the<br/>TVD.&#160;In&#160;the&#160;case&#160;of&#160;a&#160;VM&#160;joining&#160;multiple&#160;TVDs,&#160;the&#160;admission&#160;control&#160;protocol<br/>is&#160;executed&#160;for&#160;each&#160;of&#160;those&#160;TVDs.&#160;We&#160;now&#160;describe&#160;the&#160;steps&#160;of&#160;the&#160;protocol.</p>
<p style="position:absolute;top:963px;left:238px;white-space:nowrap" class="ft2511">We&#160;assume&#160;that&#160;the&#160;computing&#160;platform&#160;that&#160;executes&#160;the&#160;VM&#160;provides&#160;mech-</p>
<p style="position:absolute;top:983px;left:213px;white-space:nowrap" class="ft2512">anisms&#160;that&#160;allow&#160;remote&#160;parties&#160;to&#160;convince&#160;themselves&#160;about&#160;its&#160;trustworthiness.<br/>Example&#160;mechanisms&#160;include&#160;trusted&#160;(authenticated)&#160;boot&#160;and&#160;the&#160;remote&#160;attesta-<br/>tion&#160;protocol&#160;based&#160;on&#160;TPM&#160;technology.</p>
<p style="position:absolute;top:1053px;left:232px;white-space:nowrap" class="ft2521">2</p>
<p style="position:absolute;top:1056px;left:237px;white-space:nowrap" class="ft2522">For&#160;efficiency&#160;reasons,&#160;we&#160;currently&#160;do&#160;not&#160;provide&#160;integrity&#160;protection.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft2516">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 26 -->
<a name="26"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page26-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter026.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft2611">26</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft2616">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft2615"><b>TVD&#160;Proxy&#160;Initialization&#160;Phase:</b></p>
<p style="position:absolute;top:196px;left:386px;white-space:nowrap" class="ft2611">To&#160;allow&#160;a&#160;VM&#160;to&#160;join&#160;a&#160;TVD,&#160;the&#160;platform</p>
<p style="position:absolute;top:216px;left:141px;white-space:nowrap" class="ft2612">hosting&#160;the&#160;VM&#160;needs&#160;access&#160;to&#160;the&#160;TVD&#160;policy,&#160;and&#160;upon&#160;successful&#160;admission,<br/>to&#160;TVD&#160;secrets,&#160;such&#160;as&#160;the&#160;VPN&#160;key.&#160;For&#160;this&#160;purpose,&#160;TVD&#160;proxy&#160;services&#160;are<br/>started&#160;on&#160;the&#160;platform&#160;for&#160;each&#160;TVD&#160;whose&#160;VPEs&#160;may&#160;be&#160;hosted&#160;.&#160;The&#160;TVD&#160;proxy<br/>can&#160;be&#160;started&#160;at&#160;boot&#160;time&#160;of&#160;the&#160;underlying&#160;hypervisor,&#160;by&#160;a&#160;system&#160;service,&#160;or&#160;by<br/>the&#160;VM&#160;itself,&#160;as&#160;long&#160;as&#160;the&#160;TVD&#160;proxy&#160;is&#160;strongly&#160;isolated&#160;from&#160;the&#160;VM.</p>
<p style="position:absolute;top:340px;left:141px;white-space:nowrap" class="ft2615"><b>Pre-Admission&#160;Phase:</b></p>
<p style="position:absolute;top:340px;left:310px;white-space:nowrap" class="ft2611">When&#160;a&#160;VPE&#160;belonging&#160;to&#160;the&#160;TVD&#160;is&#160;going&#160;to&#160;be&#160;hosted</p>
<p style="position:absolute;top:361px;left:141px;white-space:nowrap" class="ft2612">on&#160;the&#160;platform&#160;for&#160;the&#160;first&#160;time,&#160;the&#160;TVD&#160;master&#160;has&#160;to&#160;establish&#160;a&#160;trust&#160;relation<br/>with&#160;the&#160;platform&#160;running&#160;the&#160;VM,&#160;specifically&#160;with&#160;the&#160;TVD&#160;proxy.&#160;We&#160;call&#160;this<br/>step&#160;the&#160;<i>pre-admission&#160;</i>phase,&#160;and&#160;it&#160;involves&#160;the&#160;establishment&#160;of&#160;a&#160;trusted&#160;channel<br/>between&#160;the&#160;TVD&#160;master&#160;and&#160;the&#160;TVD&#160;proxy.&#160;The&#160;trusted&#160;channel&#160;allows&#160;the&#160;TVD<br/>master&#160;to&#160;verify&#160;the&#160;integrity&#160;of&#160;the&#160;TVD&#160;proxy&#160;and&#160;the&#160;underlying&#160;platform.&#160;After<br/>the&#160;trusted&#160;channel&#160;is&#160;established&#160;and&#160;the&#160;correct&#160;configuration&#160;of&#160;proxy&#160;verified,<br/>the&#160;TVD&#160;master&#160;can&#160;send&#160;the&#160;TVD&#160;policies&#160;and&#160;credentials&#160;(such&#160;as&#160;VPN&#160;key)&#160;to<br/>the&#160;TVD&#160;proxy.</p>
<p style="position:absolute;top:546px;left:141px;white-space:nowrap" class="ft2615"><b>Admission&#160;Control&#160;Phase:</b></p>
<p style="position:absolute;top:546px;left:339px;white-space:nowrap" class="ft2611">The&#160;Compartment&#160;Manager&#160;(part&#160;of&#160;the&#160;platform&#160;se-</p>
<p style="position:absolute;top:566px;left:141px;white-space:nowrap" class="ft2612">curity&#160;services&#160;shown&#160;in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#21">3.2)&#160;</a>is&#160;responsible&#160;for&#160;starting&#160;new&#160;VMs.&#160;The<br/>Compartment&#160;Manager&#160;loads&#160;the&#160;VM&#160;configuration&#160;and&#160;enforces&#160;the&#160;security&#160;di-<br/>rectives&#160;with&#160;the&#160;help&#160;of&#160;the&#160;Integrity&#160;Manager&#160;(also&#160;part&#160;of&#160;the&#160;platform&#160;security<br/>services&#160;shown&#160;in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#21">3.2)</a>.&#160;The&#160;security&#160;directives&#160;may&#160;include&#160;gathering&#160;the<br/>VM&#160;state&#160;information,&#160;such&#160;as&#160;the&#160;VM&#160;configuration,&#160;kernel,&#160;and&#160;disk(s)&#160;that&#160;are<br/>going&#160;to&#160;be&#160;attached&#160;to&#160;the&#160;VM.</p>
<p style="position:absolute;top:688px;left:166px;white-space:nowrap" class="ft2611">If&#160;the&#160;VM&#160;configuration&#160;states&#160;that&#160;the&#160;VM&#160;should&#160;join&#160;one&#160;or&#160;more&#160;TVDs,</p>
<p style="position:absolute;top:709px;left:141px;white-space:nowrap" class="ft2612">then&#160;the&#160;Compartment&#160;Manager&#160;interacts&#160;with&#160;the&#160;corresponding&#160;TVD&#160;proxy&#160;and<br/>invokes&#160;TPM&#160;functions&#160;to&#160;attest&#160;the&#160;state&#160;of&#160;the&#160;VM.&#160;The&#160;TVD&#160;proxy&#160;verifies&#160;cer-<br/>tain&#160;properties&#160;before&#160;allowing&#160;the&#160;VM&#160;to&#160;join&#160;the&#160;TVD.&#160;More&#160;concretely,&#160;the&#160;TVD<br/>proxy&#160;has&#160;to&#160;ensure&#160;that</p>
<p style="position:absolute;top:800px;left:165px;white-space:nowrap" class="ft2655">•</p>
<p style="position:absolute;top:801px;left:182px;white-space:nowrap" class="ft2611">the&#160;VM&#160;fulfills&#160;the&#160;integrity&#160;requirements&#160;of&#160;the&#160;TVD;</p>
<p style="position:absolute;top:832px;left:165px;white-space:nowrap" class="ft2655">•</p>
<p style="position:absolute;top:833px;left:182px;white-space:nowrap" class="ft2612">the&#160;information&#160;flow&#160;policies&#160;of&#160;all&#160;TVDs&#160;the&#160;VM&#160;will&#160;be&#160;a&#160;member&#160;of&#160;will<br/>not&#160;be&#160;violated;</p>
<p style="position:absolute;top:883px;left:165px;white-space:nowrap" class="ft2655">•</p>
<p style="position:absolute;top:884px;left:182px;white-space:nowrap" class="ft2612">the&#160;VM&#160;enforces&#160;specific&#160;information&#160;flow&#160;rules&#160;between&#160;TVDs&#160;if&#160;such&#160;rules<br/>are&#160;required&#160;by&#160;the&#160;TVD&#160;policy,&#160;and&#160;that</p>
<p style="position:absolute;top:935px;left:165px;white-space:nowrap" class="ft2655">•</p>
<p style="position:absolute;top:936px;left:182px;white-space:nowrap" class="ft2612">the&#160;underlying&#160;platform&#160;(e.g.,&#160;the&#160;hypervisor&#160;and&#160;attached&#160;devices)&#160;fulfills<br/>the&#160;security&#160;requirements&#160;of&#160;the&#160;TVD.</p>
<p style="position:absolute;top:988px;left:166px;white-space:nowrap" class="ft2611">Platform&#160;verification&#160;involves&#160;matching&#160;the&#160;security&#160;requirements&#160;with&#160;the&#160;plat-</p>
<p style="position:absolute;top:1008px;left:141px;white-space:nowrap" class="ft2612">form’s&#160;capabilities&#160;and&#160;mechanisms&#160;instantiated&#160;on&#160;top&#160;of&#160;these&#160;capabilities.&#160;For<br/>example,&#160;suppose&#160;that&#160;data&#160;confidentiality&#160;is&#160;a&#160;TVD&#160;requirement.&#160;Then,&#160;if&#160;hard<br/>disks&#160;or&#160;network&#160;connections&#160;are&#160;not&#160;trusted,&#160;additional&#160;mechanisms,&#160;such&#160;as&#160;block<br/>encryption&#160;or&#160;VPN&#160;(respectively),&#160;need&#160;to&#160;be&#160;instantiated&#160;to&#160;satisfy&#160;the&#160;requirement.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft2616">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 27 -->
<a name="27"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page27-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter027.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft2723">CHAPTER&#160;3.&#160;POLICY&#160;ENFORCEMENT&#160;FOR&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft2711">27</p>
<p style="position:absolute;top:196px;left:213px;white-space:nowrap" class="ft2715"><b>TVD&#160;Join&#160;Phase:</b></p>
<p style="position:absolute;top:196px;left:350px;white-space:nowrap" class="ft2711">If&#160;the&#160;VM&#160;and&#160;the&#160;provided&#160;infrastructure&#160;fulfill&#160;all&#160;TVD&#160;re-</p>
<p style="position:absolute;top:216px;left:213px;white-space:nowrap" class="ft2712">quirements,&#160;a&#160;new&#160;network&#160;stack&#160;is&#160;created&#160;and&#160;configured&#160;as&#160;described&#160;in&#160;Sec-<br/>tion&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#22">3.2.2.&#160;</a>Once&#160;the&#160;Compartment&#160;Manager&#160;has&#160;started&#160;the&#160;VM,&#160;it&#160;sends&#160;an&#160;attach<br/>request&#160;to&#160;the&#160;corresponding&#160;TVD&#160;vSwitch.&#160;Once&#160;the&#160;VM&#160;is&#160;connected&#160;to&#160;the<br/>vSwitch,&#160;it&#160;is&#160;a&#160;member&#160;of&#160;the&#160;TVD.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft2716">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 28 -->
<a name="28"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page28-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter028.png" alt="background image"/>
<p style="position:absolute;top:462px;left:365px;white-space:nowrap" class="ft2817"><b>Part&#160;II</b></p>
<p style="position:absolute;top:532px;left:191px;white-space:nowrap" class="ft2813"><b>Building&#160;Blocks&#160;and&#160;Future</b></p>
<p style="position:absolute;top:577px;left:329px;white-space:nowrap" class="ft2813"><b>Directions</b></p>
<p style="position:absolute;top:1114px;left:402px;white-space:nowrap" class="ft2811">28</p>
</div>
<!-- Page 29 -->
<a name="29"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page29-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter029.png" alt="background image"/>
<p style="position:absolute;top:298px;left:213px;white-space:nowrap" class="ft2917"><b>Chapter&#160;4</b></p>
<p style="position:absolute;top:368px;left:213px;white-space:nowrap" class="ft2946"><b>Automated&#160;Provisioning&#160;of<br/>Secure&#160;Virtual&#160;Networks</b></p>
<p style="position:absolute;top:467px;left:338px;white-space:nowrap" class="ft2911">S.&#160;Cabuk,&#160;C.&#160;Dalton&#160;(HPL),&#160;H.&#160;Ramasamy,&#160;M.&#160;Schunter&#160;(IBM)</p>
<p style="position:absolute;top:554px;left:213px;white-space:nowrap" class="ft2918"><b>4.1</b></p>
<p style="position:absolute;top:554px;left:261px;white-space:nowrap" class="ft2918"><b>Introduction&#160;to&#160;Secure&#160;Virtual&#160;Networking</b></p>
<p style="position:absolute;top:595px;left:213px;white-space:nowrap" class="ft2912">Virtualization&#160;allows&#160;the&#160;abstraction&#160;of&#160;the&#160;real&#160;hardware&#160;configuration&#160;of&#160;a&#160;com-<br/>puter&#160;system.&#160;A&#160;particular&#160;challenge&#160;of&#160;virtualization&#160;is&#160;isolation&#160;between&#160;poten-<br/>tially&#160;distrusting&#160;virtual&#160;machines&#160;and&#160;their&#160;resources.&#160;The&#160;machine&#160;virtualization<br/>alone&#160;provides&#160;reasonable&#160;isolation&#160;of&#160;computing&#160;resources&#160;such&#160;as&#160;memory&#160;and<br/>CPU&#160;between&#160;guest&#160;domains.&#160;However,&#160;the&#160;network&#160;remains&#160;to&#160;be&#160;a&#160;shared&#160;re-<br/>source&#160;as&#160;all&#160;traffic&#160;from&#160;guests&#160;eventually&#160;pass&#160;through&#160;a&#160;shared&#160;network&#160;resource<br/>(e.g.,&#160;a&#160;physical&#160;switch)&#160;and&#160;end&#160;up&#160;on&#160;the&#160;shared&#160;physical&#160;medium.&#160;Today’s&#160;VMM<br/>virtual&#160;networking&#160;implementations&#160;provide&#160;simple&#160;mechanisms&#160;to&#160;bridge&#160;all&#160;VM<br/>traffic&#160;through&#160;the&#160;actual&#160;physical&#160;network&#160;card&#160;of&#160;the&#160;physical&#160;machine.&#160;This&#160;level<br/>of&#160;isolation&#160;can&#160;be&#160;sufficient&#160;for&#160;individual&#160;and&#160;small&#160;enterprise&#160;purposes.&#160;How-<br/>ever,&#160;a&#160;large-scale&#160;infrastructure&#160;(e.g.,&#160;a&#160;virtualized&#160;data&#160;center)&#160;that&#160;hosts&#160;services<br/>belonging&#160;to&#160;multiple&#160;customers&#160;require&#160;further&#160;guarantees&#160;on&#160;customer&#160;separation,<br/>e.g.,&#160;to&#160;avoid&#160;accidental&#160;or&#160;malicious&#160;data&#160;leakage.</p>
<p style="position:absolute;top:903px;left:213px;white-space:nowrap" class="ft2915"><b>Outline</b></p>
<p style="position:absolute;top:903px;left:282px;white-space:nowrap" class="ft2911">Our&#160;focus&#160;is&#160;on&#160;security-enhanced&#160;network&#160;virtualization,&#160;which&#160;(1)&#160;al-</p>
<p style="position:absolute;top:924px;left:213px;white-space:nowrap" class="ft2912">lows&#160;groups&#160;of&#160;related&#160;VMs&#160;running&#160;on&#160;separate&#160;physical&#160;machines&#160;to&#160;be&#160;connected<br/>together&#160;as&#160;though&#160;they&#160;were&#160;on&#160;their&#160;own&#160;separate&#160;network&#160;fabric,&#160;and&#160;(2)&#160;enforces<br/>cross-group&#160;security&#160;requirements&#160;such&#160;as&#160;isolation,&#160;authentication,&#160;confidentiality,<br/>integrity,&#160;and&#160;information&#160;flow&#160;control.&#160;The&#160;goal&#160;is&#160;to&#160;group&#160;related&#160;VMs&#160;(e.g.,<br/>VMs&#160;belonging&#160;to&#160;the&#160;same&#160;customer&#160;in&#160;a&#160;data&#160;center)&#160;distributed&#160;across&#160;several<br/>physical&#160;machines&#160;into&#160;<i>virtual&#160;enclave&#160;networks</i>,&#160;so&#160;that&#160;each&#160;group&#160;of&#160;VMs&#160;has<br/>the&#160;same&#160;protection&#160;as&#160;if&#160;the&#160;VMs&#160;were&#160;hosted&#160;on&#160;a&#160;separate&#160;physical&#160;LAN.&#160;Our<br/>solution&#160;for&#160;achieving&#160;this&#160;goal&#160;also&#160;takes&#160;advantage&#160;(whenever&#160;possible)&#160;of&#160;the</p>
<p style="position:absolute;top:1114px;left:473px;white-space:nowrap" class="ft2911">29</p>
</div>
<!-- Page 30 -->
<a name="30"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page30-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter030.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft3011">30</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft3016">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft3012">fact&#160;that&#160;some&#160;VMs&#160;in&#160;a&#160;group&#160;may&#160;be&#160;co-hosted&#160;on&#160;the&#160;same&#160;hardware;&#160;it&#160;is&#160;not<br/>necessary&#160;to&#160;involve&#160;the&#160;physical&#160;network&#160;during&#160;information&#160;flow&#160;between&#160;two<br/>such&#160;VMs.</p>
<p style="position:absolute;top:257px;left:166px;white-space:nowrap" class="ft3011">The&#160;concept&#160;of&#160;Trusted&#160;Virtual&#160;Domains&#160;or&#160;TVDs&#160;was&#160;put&#160;forth&#160;by&#160;Bussani</p>
<p style="position:absolute;top:277px;left:141px;white-space:nowrap" class="ft3011">et&#160;al.&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">[BGJ</a></p>
<p style="position:absolute;top:274px;left:213px;white-space:nowrap" class="ft3028"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">+</a></p>
<p style="position:absolute;top:277px;left:224px;white-space:nowrap" class="ft3011"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">05]&#160;</a>to&#160;provide&#160;quantifiable&#160;security&#160;and&#160;operational&#160;management&#160;for</p>
<p style="position:absolute;top:297px;left:141px;white-space:nowrap" class="ft3012">business&#160;and&#160;IT&#160;services,&#160;and&#160;to&#160;simplify&#160;overall&#160;containment&#160;and&#160;trust&#160;manage-<br/>ment&#160;in&#160;large&#160;distributed&#160;systems.&#160;Informally&#160;speaking,&#160;TVDs&#160;can&#160;be&#160;thought&#160;of<br/>as&#160;security-enhanced&#160;variants&#160;of&#160;virtualized&#160;network&#160;zones,&#160;in&#160;which&#160;specified&#160;se-<br/>curity&#160;policies&#160;can&#160;be&#160;automatically&#160;enforced.&#160;We&#160;describe&#160;the&#160;first&#160;practical&#160;real-<br/>ization&#160;of&#160;TVDs&#160;using&#160;a&#160;secure&#160;network&#160;virtualization&#160;framework&#160;that&#160;guarantees<br/>reliable&#160;isolation&#160;and&#160;flow&#160;control&#160;requirements&#160;between&#160;TVD&#160;boundaries.&#160;The&#160;re-<br/>quirements&#160;are&#160;specified&#160;by&#160;TVD&#160;policies,&#160;which&#160;are&#160;enforced&#160;dynamically&#160;despite<br/>changing&#160;TVD&#160;membership,&#160;policies,&#160;and&#160;properties&#160;of&#160;the&#160;member&#160;VMs.&#160;The<br/>framework&#160;is&#160;based&#160;on&#160;existing&#160;and&#160;well-established&#160;network&#160;virtualization&#160;tech-<br/>nologies&#160;such&#160;as&#160;Ethernet&#160;encapsulation,&#160;VLAN&#160;tagging,&#160;virtual&#160;private&#160;networks<br/>(VPNs),&#160;and&#160;network&#160;access&#160;control&#160;(NAC)&#160;for&#160;configuration&#160;validation.</p>
<p style="position:absolute;top:521px;left:166px;white-space:nowrap" class="ft3011">Our&#160;main&#160;contributions&#160;are&#160;(1)&#160;combining&#160;standard&#160;network&#160;virtualization&#160;tech-</p>
<p style="position:absolute;top:541px;left:141px;white-space:nowrap" class="ft3012">nologies&#160;to&#160;realize&#160;TVDs,&#160;and&#160;(2)&#160;orchestrating&#160;them&#160;through&#160;a&#160;management&#160;frame-<br/>work&#160;that&#160;is&#160;oriented&#160;towards&#160;automation.&#160;In&#160;particular,&#160;our&#160;solution&#160;aims&#160;at&#160;auto-<br/>matically&#160;instantiating&#160;and&#160;deploying&#160;the&#160;appropriate&#160;security&#160;mechanisms&#160;and&#160;net-<br/>work&#160;virtualization&#160;technologies&#160;based&#160;on&#160;an&#160;input&#160;security&#160;model,&#160;which&#160;specifies<br/>the&#160;required&#160;level&#160;of&#160;isolation&#160;and&#160;permitted&#160;network&#160;flows.</p>
<p style="position:absolute;top:643px;left:166px;white-space:nowrap" class="ft3011">The&#160;remainder&#160;of&#160;the&#160;chapter&#160;is&#160;organized&#160;as&#160;follows.&#160;In&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#30">4.2,&#160;</a>we&#160;pro-</p>
<p style="position:absolute;top:663px;left:141px;white-space:nowrap" class="ft3012">vide&#160;an&#160;overview&#160;of&#160;our&#160;security&#160;objectives&#160;and&#160;describe&#160;the&#160;high-level&#160;framework<br/>to&#160;achieve&#160;the&#160;objectives.&#160;We&#160;introduce&#160;the&#160;networking&#160;components&#160;required&#160;for<br/>our&#160;framework&#160;in&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#33">4.3&#160;</a>and&#160;describe&#160;how&#160;they&#160;can&#160;be&#160;orchestrated&#160;to&#160;enforce<br/>TVD&#160;policies.&#160;In&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#40">4.4,&#160;</a>we&#160;present&#160;the&#160;TVD&#160;security&#160;model&#160;and&#160;the&#160;compo-<br/>nents&#160;constituting&#160;the&#160;TVD&#160;infrastructure.&#160;In&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#47">4.5,&#160;</a>we&#160;cover&#160;the&#160;dynamic<br/>aspects&#160;of&#160;TVD&#160;deployment&#160;including&#160;TVD&#160;establishment,&#160;population,&#160;and&#160;admis-<br/>sion&#160;control.&#160;In&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#53">4.6,&#160;</a>we&#160;describe&#160;a&#160;Xen-based&#160;prototype&#160;implementation<br/>of&#160;our&#160;secure&#160;virtual&#160;networking&#160;framework&#160;and&#160;report&#160;our&#160;performance&#160;results&#160;in<br/>Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#57">4.7.&#160;</a>Finally,&#160;we&#160;conclude&#160;and&#160;discuss&#160;future&#160;extensions&#160;in&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#59">4.8.</a></p>
<p style="position:absolute;top:875px;left:141px;white-space:nowrap" class="ft3018"><b>4.2</b></p>
<p style="position:absolute;top:875px;left:189px;white-space:nowrap" class="ft3018"><b>Design&#160;Overview</b></p>
<p style="position:absolute;top:916px;left:141px;white-space:nowrap" class="ft3012">At&#160;a&#160;high&#160;level,&#160;our&#160;secure&#160;network&#160;virtualization&#160;framework&#160;consists&#160;of&#160;a&#160;<i>network-<br/>ing&#160;infrastructure&#160;</i>and&#160;a&#160;<i>TVD&#160;infrastructure</i>.&#160;The&#160;networking&#160;infrastructure&#160;enables<br/>the&#160;mapping&#160;from&#160;physical&#160;to&#160;logical&#160;network&#160;topologies&#160;that&#160;we&#160;use&#160;to&#160;separate<br/>customer&#160;networks.&#160;The&#160;TVD&#160;infrastructure&#160;configures&#160;the&#160;network&#160;devices&#160;and<br/>instantiates&#160;the&#160;appropriate&#160;set&#160;of&#160;mechanisms&#160;to&#160;realize&#160;the&#160;TVD&#160;security&#160;objec-<br/>tives.&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#31">4.1&#160;</a>illustrates&#160;an&#160;example&#160;mapping.&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#31">4.1(a)&#160;</a>shows&#160;the&#160;actual<br/>layout&#160;of&#160;the&#160;physical&#160;infrastructure&#160;that&#160;includes&#160;virtualized&#160;and&#160;non-virtualized<br/>platforms&#160;and&#160;networking&#160;devices.&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#31">4.1(b)&#160;</a>shows&#160;the&#160;logical&#160;layout&#160;as&#160;seen</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft3016">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 31 -->
<a name="31"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page31-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter031.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft3123">CHAPTER&#160;4.&#160;AUTOMATED&#160;PROVISIONING&#160;OF&#160;SECURE&#160;VIRTUAL&#160;NETWORKS</p>
<p style="position:absolute;top:142px;left:786px;white-space:nowrap" class="ft3111">31</p>
<p style="position:absolute;top:332px;left:433px;white-space:nowrap" class="ft3122">(a)&#160;Physical&#160;view.</p>
<p style="position:absolute;top:533px;left:435px;white-space:nowrap" class="ft3122">(b)&#160;Logical&#160;view.</p>
<p style="position:absolute;top:569px;left:213px;white-space:nowrap" class="ft3111">Figure&#160;4.1:&#160;An&#160;example&#160;TVD-based&#160;virtual&#160;network&#160;mapping.</p>
<p style="position:absolute;top:568px;left:636px;white-space:nowrap" class="ft3152">R</p>
<p style="position:absolute;top:569px;left:654px;white-space:nowrap" class="ft3111">and</p>
<p style="position:absolute;top:568px;left:682px;white-space:nowrap" class="ft3152">B</p>
<p style="position:absolute;top:569px;left:701px;white-space:nowrap" class="ft3111">provide</p>
<p style="position:absolute;top:589px;left:213px;white-space:nowrap" class="ft3111">switching&#160;for&#160;<i>red&#160;</i>and&#160;<i>blue&#160;</i>TVDs,&#160;respectively.</p>
<p style="position:absolute;top:588px;left:523px;white-space:nowrap" class="ft3152">G</p>
<p style="position:absolute;top:589px;left:539px;white-space:nowrap" class="ft3111">is&#160;a&#160;virtual&#160;gateway&#160;that&#160;controls</p>
<p style="position:absolute;top:610px;left:213px;white-space:nowrap" class="ft3111">inter-TVD&#160;communication&#160;(not&#160;shown&#160;in&#160;(a)&#160;for&#160;clarity).</p>
<p style="position:absolute;top:658px;left:213px;white-space:nowrap" class="ft3112">by&#160;each&#160;TVD&#160;owner&#160;(i.e.,&#160;red&#160;and&#160;blue).&#160;In&#160;this&#160;section,&#160;we&#160;provide&#160;an&#160;overview<br/>of&#160;the&#160;mechanisms&#160;that&#160;enable&#160;this&#160;mapping&#160;while&#160;enforcing&#160;TVD&#160;policies&#160;within<br/>and&#160;across&#160;domains.</p>
<p style="position:absolute;top:742px;left:213px;white-space:nowrap" class="ft3114"><b>4.2.1</b></p>
<p style="position:absolute;top:742px;left:266px;white-space:nowrap" class="ft3114"><b>High-level&#160;Objectives</b></p>
<p style="position:absolute;top:775px;left:213px;white-space:nowrap" class="ft3112">We&#160;are&#160;specifically&#160;interested&#160;in&#160;virtualized&#160;data&#160;centers&#160;that&#160;host&#160;multiple&#160;cus-<br/>tomers&#160;with&#160;potentially&#160;conflicting&#160;interests.&#160;In&#160;this&#160;setting,&#160;the&#160;TVD-based&#160;net-<br/>working&#160;framework&#160;has&#160;the&#160;following&#160;functional&#160;and&#160;security&#160;objectives:</p>
<p style="position:absolute;top:852px;left:213px;white-space:nowrap" class="ft3115"><b>Virtual&#160;Networking&#160;</b>The&#160;framework&#160;should&#160;support&#160;arbitrary&#160;logical&#160;network</p>
<p style="position:absolute;top:872px;left:253px;white-space:nowrap" class="ft3111">topologies&#160;that&#160;involve&#160;virtualized&#160;and&#160;non-virtualized&#160;platforms&#160;alike.</p>
<p style="position:absolute;top:905px;left:213px;white-space:nowrap" class="ft3115"><b>Customer&#160;Separation&#160;</b>The&#160;framework&#160;should&#160;provide&#160;sufficient&#160;isolation&#160;guaran-</p>
<p style="position:absolute;top:925px;left:253px;white-space:nowrap" class="ft3112">tees&#160;to&#160;customers,&#160;i.e.,&#160;information&#160;leakage&#160;should&#160;be&#160;minimized&#160;between<br/>customer&#160;domain<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#31">s</a></p>
<p style="position:absolute;top:943px;left:373px;white-space:nowrap" class="ft3120"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#31">1</a></p>
<p style="position:absolute;top:946px;left:380px;white-space:nowrap" class="ft3111"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#31">.</a></p>
<p style="position:absolute;top:979px;left:213px;white-space:nowrap" class="ft3115"><b>Unified&#160;Policy&#160;Enforcement&#160;</b>The&#160;framework&#160;should&#160;enforce&#160;domain&#160;policies</p>
<p style="position:absolute;top:999px;left:253px;white-space:nowrap" class="ft3112">within&#160;and&#160;across&#160;domains&#160;in&#160;a&#160;seamless&#160;manner.&#160;The&#160;policies&#160;define&#160;in-<br/>tegrity,&#160;confidentiality,&#160;and&#160;isolation&#160;requirements&#160;for&#160;each&#160;domain,&#160;and&#160;in-<br/>formation&#160;flow&#160;control&#160;requirements&#160;between&#160;any&#160;two&#160;domains.</p>
<p style="position:absolute;top:1069px;left:232px;white-space:nowrap" class="ft3121">1</p>
<p style="position:absolute;top:1071px;left:237px;white-space:nowrap" class="ft3122">In&#160;this&#160;chapter,&#160;we&#160;do&#160;not&#160;address&#160;indirect&#160;communication&#160;channels&#160;(e.g.,&#160;covert&#160;channels).</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft3116">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 32 -->
<a name="32"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page32-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter032.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft3211">32</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft3216">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft3215"><b>Autonomous&#160;Management&#160;</b>The&#160;framework&#160;should&#160;deploy&#160;and&#160;maintain&#160;customer</p>
<p style="position:absolute;top:216px;left:182px;white-space:nowrap" class="ft3212">TVDs&#160;in&#160;an&#160;automated&#160;manner,&#160;and&#160;provide&#160;customers&#160;the&#160;tools&#160;to&#160;manage<br/>their&#160;TVDs&#160;with&#160;no&#160;direct&#160;or&#160;side&#160;effect&#160;on&#160;other&#160;customer&#160;TVDs.</p>
<p style="position:absolute;top:280px;left:141px;white-space:nowrap" class="ft3214"><b>4.2.2</b></p>
<p style="position:absolute;top:280px;left:195px;white-space:nowrap" class="ft3214"><b>Overview&#160;of&#160;Networking&#160;Infrastructure</b></p>
<p style="position:absolute;top:312px;left:141px;white-space:nowrap" class="ft3212">Virtual&#160;network&#160;extensions&#160;enable&#160;groups&#160;of&#160;related&#160;VMs&#160;running&#160;on&#160;separate&#160;phys-<br/>ical&#160;machines&#160;to&#160;be&#160;connected&#160;together&#160;as&#160;though&#160;they&#160;were&#160;on&#160;their&#160;own&#160;separate<br/>network&#160;fabric.&#160;This&#160;allows&#160;the&#160;creation&#160;of&#160;arbitrary&#160;virtual&#160;LAN&#160;(VLAN)&#160;topolo-<br/>gies&#160;independent&#160;of&#160;the&#160;particular&#160;underlying&#160;physical&#160;network&#160;topology.&#160;It&#160;also<br/>provides&#160;a&#160;level&#160;of&#160;isolation&#160;between&#160;VLAN&#160;segments.</p>
<p style="position:absolute;top:414px;left:166px;white-space:nowrap" class="ft3211">A&#160;virtual&#160;network&#160;is&#160;comprised&#160;of&#160;virtual&#160;and&#160;physical&#160;network&#160;entities.&#160;The</p>
<p style="position:absolute;top:434px;left:141px;white-space:nowrap" class="ft3212">central&#160;VLAN&#160;component&#160;is&#160;a&#160;virtual&#160;switch.&#160;There&#160;is&#160;a&#160;single&#160;virtual&#160;switch&#160;per<br/>VLAN&#160;segment.&#160;A&#160;VM&#160;appears&#160;on&#160;a&#160;particular&#160;VLAN&#160;segment&#160;if&#160;one&#160;of&#160;its&#160;virtual<br/>network&#160;interface&#160;cards&#160;(Venice)&#160;is&#160;“plugged”&#160;into&#160;one&#160;of&#160;the&#160;switch&#160;ports&#160;on&#160;the<br/>virtual&#160;switch&#160;forming&#160;that&#160;segment.&#160;The&#160;virtual&#160;switch&#160;behaves&#160;like&#160;a&#160;normal<br/>physical&#160;switch&#160;and&#160;coordinates&#160;traffic&#160;to&#160;and&#160;from&#160;member&#160;VMs.&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#31">4.1(b)<br/></a>shows&#160;two&#160;virtual&#160;switches</p>
<p style="position:absolute;top:535px;left:328px;white-space:nowrap" class="ft3252">R</p>
<p style="position:absolute;top:536px;left:346px;white-space:nowrap" class="ft3211">and</p>
<p style="position:absolute;top:535px;left:375px;white-space:nowrap" class="ft3252">B</p>
<p style="position:absolute;top:536px;left:394px;white-space:nowrap" class="ft3211">that&#160;coordinate&#160;the&#160;traffic&#160;for&#160;<i>red&#160;</i>and&#160;<i>blue</i></p>
<p style="position:absolute;top:556px;left:141px;white-space:nowrap" class="ft3212">segments.&#160;In&#160;the&#160;foregoing&#160;arrangement,&#160;each&#160;virtual&#160;switch&#160;resides&#160;in&#160;a&#160;small&#160;VM<br/>of&#160;its&#160;own&#160;as&#160;shown&#160;in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#31">4.1(a).&#160;</a>Additional&#160;VPN&#160;and&#160;NAC&#160;modules&#160;can&#160;be<br/>employed&#160;to&#160;strengthen&#160;security&#160;properties&#160;on&#160;untrusted&#160;communication&#160;lines&#160;and<br/>to&#160;authenticate&#160;VMs&#160;prior&#160;to&#160;VLAN&#160;admission,&#160;respectively.</p>
<p style="position:absolute;top:661px;left:141px;white-space:nowrap" class="ft3214"><b>4.2.3</b></p>
<p style="position:absolute;top:661px;left:195px;white-space:nowrap" class="ft3214"><b>Overview&#160;of&#160;TVD&#160;Infrastructure</b></p>
<p style="position:absolute;top:693px;left:141px;white-space:nowrap" class="ft3212">A&#160;TVD&#160;is&#160;represented&#160;by&#160;a&#160;set&#160;of&#160;distributed&#160;virtual&#160;processing&#160;elements&#160;(VPE)<br/>(e.g.,&#160;virtual&#160;machines&#160;and&#160;virtual&#160;switches)&#160;and&#160;a&#160;communication&#160;medium&#160;in-<br/>terconnecting&#160;the&#160;VPEs.&#160;The&#160;TVD&#160;provides&#160;a&#160;policy&#160;and&#160;containment&#160;boundary<br/>around&#160;those&#160;VPEs.&#160;At&#160;a&#160;high&#160;level,&#160;the&#160;TVD&#160;policy&#160;has&#160;three&#160;aspects:&#160;(1)&#160;mem-<br/>bership&#160;requirements&#160;for&#160;the&#160;TVD,&#160;(2)&#160;interaction&#160;among&#160;VPEs&#160;of&#160;that&#160;TVD,&#160;and<br/>(3)&#160;interaction&#160;of&#160;the&#160;TVD&#160;with&#160;other&#160;TVDs&#160;and&#160;the&#160;outside&#160;world.&#160;VPEs&#160;within<br/>each&#160;TVD&#160;can&#160;usually&#160;communicate&#160;freely&#160;and&#160;securely&#160;with&#160;each&#160;other.&#160;At&#160;the<br/>same&#160;time,&#160;they&#160;are&#160;sufficiently&#160;isolated&#160;from&#160;outside&#160;VPEs,&#160;including&#160;those&#160;be-<br/>longing&#160;to&#160;other&#160;TVDs.&#160;From&#160;a&#160;networking&#160;perspective,&#160;isolation&#160;loosely&#160;refers&#160;to<br/>the&#160;requirement&#160;that&#160;a&#160;dishonest&#160;VPE&#160;in&#160;one&#160;TVD&#160;cannot&#160;send&#160;messages&#160;to&#160;a&#160;dis-<br/>honest&#160;VPE&#160;in&#160;another&#160;TVD,&#160;unless&#160;the&#160;inter-TVD&#160;policies&#160;explicitly&#160;allow&#160;such<br/>an&#160;information&#160;flow.</p>
<p style="position:absolute;top:937px;left:166px;white-space:nowrap" class="ft3211">Each&#160;TVD&#160;has&#160;an&#160;associated&#160;<i>infrastructure&#160;</i>whose&#160;purpose&#160;is&#160;to&#160;provide&#160;a&#160;uni-</p>
<p style="position:absolute;top:958px;left:141px;white-space:nowrap" class="ft3212">fied&#160;level&#160;of&#160;security&#160;to&#160;member&#160;VPEs,&#160;while&#160;restricting&#160;the&#160;interaction&#160;with&#160;VPEs<br/>outside&#160;the&#160;TVD&#160;to&#160;pre-specified,&#160;well-defined&#160;means&#160;only.&#160;Unified&#160;security&#160;within<br/>a&#160;domain&#160;is&#160;obtained&#160;by&#160;defining&#160;and&#160;enforcing&#160;<i>membership&#160;and&#160;communication<br/>requirements&#160;</i>that&#160;the&#160;VPEs&#160;and&#160;networks&#160;have&#160;to&#160;satisfy&#160;before&#160;being&#160;admitted&#160;to<br/>the&#160;TVD&#160;and&#160;for&#160;retaining&#160;the&#160;membership.&#160;Unified&#160;security&#160;across&#160;domains&#160;is<br/>obtained&#160;by&#160;defining&#160;and&#160;enforcing&#160;<i>flow&#160;requirements&#160;</i>that&#160;the&#160;VPEs&#160;have&#160;to&#160;sat-</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft3216">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 33 -->
<a name="33"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page33-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter033.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft3323">CHAPTER&#160;4.&#160;AUTOMATED&#160;PROVISIONING&#160;OF&#160;SECURE&#160;VIRTUAL&#160;NETWORKS</p>
<p style="position:absolute;top:142px;left:786px;white-space:nowrap" class="ft3311">33</p>
<p style="position:absolute;top:196px;left:213px;white-space:nowrap" class="ft3312">isfy&#160;to&#160;be&#160;able&#160;to&#160;interact&#160;with&#160;VPEs&#160;in&#160;other&#160;TVDs.&#160;To&#160;do&#160;so,&#160;each&#160;TVD&#160;defines<br/>rules&#160;regarding&#160;in-bound&#160;and&#160;out-bound&#160;network&#160;traffic.&#160;Their&#160;purpose&#160;is&#160;to&#160;restrict<br/>communication&#160;with&#160;the&#160;outside&#160;world.</p>
<p style="position:absolute;top:257px;left:238px;white-space:nowrap" class="ft3311">The&#160;central&#160;element&#160;in&#160;the&#160;TVD&#160;infrastructure&#160;is&#160;the&#160;TVD&#160;master&#160;which&#160;keeps</p>
<p style="position:absolute;top:277px;left:213px;white-space:nowrap" class="ft3312">track&#160;of&#160;high-level&#160;TVD&#160;policies&#160;and&#160;secrets.&#160;TVD&#160;masters&#160;maintain&#160;control&#160;over<br/>member&#160;VPEs&#160;using&#160;TVD&#160;proxies.&#160;There&#160;is&#160;a&#160;single&#160;TVD&#160;master&#160;per&#160;TVD&#160;and&#160;a<br/>single&#160;TVD&#160;proxy&#160;per&#160;physical&#160;platform.&#160;A&#160;VPE&#160;appears&#160;on&#160;a&#160;particular&#160;TVD&#160;if<br/>it&#160;complies&#160;with&#160;the&#160;membership&#160;requirements&#160;enforced&#160;by&#160;the&#160;TVD&#160;proxy&#160;con-<br/>trolling&#160;that&#160;domain&#160;on&#160;that&#160;physical&#160;platform.&#160;VPEs&#160;communicate&#160;freely&#160;within<br/>a&#160;TVD.&#160;Communication&#160;across&#160;TVDs&#160;is&#160;controlled&#160;by&#160;entities&#160;configured&#160;by&#160;TVD<br/>proxies.</p>
<p style="position:absolute;top:443px;left:213px;white-space:nowrap" class="ft3314"><b>4.2.4</b></p>
<p style="position:absolute;top:443px;left:266px;white-space:nowrap" class="ft3314"><b>Overview&#160;of&#160;TVD-based&#160;Virtual&#160;Networking</b></p>
<p style="position:absolute;top:475px;left:213px;white-space:nowrap" class="ft3312">Virtual&#160;networking&#160;and&#160;TVD&#160;infrastructures&#160;play&#160;complementary&#160;roles&#160;in&#160;meet-<br/>ing&#160;the&#160;objectives&#160;listed&#160;earlier.&#160;In&#160;essence,&#160;the&#160;VNET&#160;infrastructure&#160;provides&#160;the<br/>tools&#160;and&#160;mechanisms&#160;to&#160;enable&#160;secure&#160;virtual&#160;networking&#160;in&#160;a&#160;data&#160;center.&#160;The<br/>TVD&#160;infrastructure&#160;defines&#160;unified&#160;domain&#160;policies,&#160;and&#160;automatically&#160;configures<br/>and&#160;manages&#160;these&#160;mechanisms&#160;inline&#160;with&#160;the&#160;policy.&#160;It&#160;also&#160;provides&#160;customers<br/>the&#160;necessary&#160;tools&#160;to&#160;manage&#160;their&#160;TVDs.&#160;Any&#160;action&#160;by&#160;the&#160;customer&#160;is&#160;then<br/>seamlessly&#160;reflected&#160;on&#160;the&#160;underlying&#160;networking&#160;infrastructure.&#160;This&#160;two-layer<br/>architecture&#160;has&#160;many&#160;advantages:</p>
<p style="position:absolute;top:655px;left:233px;white-space:nowrap" class="ft3311">1.&#160;The&#160;policy&#160;(TVD)&#160;and&#160;enforcement&#160;(VNET)&#160;layers&#160;are&#160;clearly&#160;separated</p>
<p style="position:absolute;top:675px;left:253px;white-space:nowrap" class="ft3312">from&#160;each&#160;other,&#160;which&#160;yields&#160;a&#160;modular&#160;framework.&#160;As&#160;a&#160;result,&#160;other&#160;tech-<br/>nologies&#160;(e.g.,&#160;VNET)&#160;can&#160;be&#160;easily&#160;deployed&#160;in&#160;place&#160;of&#160;the&#160;current&#160;offering.</p>
<p style="position:absolute;top:729px;left:233px;white-space:nowrap" class="ft3311">2.&#160;The&#160;policy&#160;layer&#160;is&#160;not&#160;restricted&#160;to&#160;network-type&#160;policies.&#160;Thus,&#160;same&#160;poli-</p>
<p style="position:absolute;top:750px;left:253px;white-space:nowrap" class="ft3312">cies&#160;can&#160;be&#160;used&#160;to&#160;configure&#160;and&#160;manage,&#160;for&#160;example,&#160;mechanisms&#160;to&#160;en-<br/>force&#160;storage&#160;isolation.</p>
<p style="position:absolute;top:804px;left:233px;white-space:nowrap" class="ft3311">3.&#160;The&#160;policy&#160;layer&#160;provides&#160;a&#160;high-level&#160;abstraction&#160;to&#160;customers&#160;so&#160;that&#160;they</p>
<p style="position:absolute;top:824px;left:253px;white-space:nowrap" class="ft3312">can&#160;manage&#160;their&#160;TVDs&#160;without&#160;worrying&#160;about&#160;the&#160;specifics&#160;of&#160;the&#160;underly-<br/>ing&#160;enforcement&#160;mechanisms.</p>
<p style="position:absolute;top:878px;left:233px;white-space:nowrap" class="ft3311">4.&#160;Automated&#160;deployment,&#160;configuration,&#160;and&#160;management&#160;of&#160;customer&#160;TVDs</p>
<p style="position:absolute;top:898px;left:253px;white-space:nowrap" class="ft3312">are&#160;desirable&#160;capabilities&#160;in&#160;a&#160;virtualized&#160;data&#160;center&#160;that&#160;can&#160;effectively&#160;re-<br/>duce&#160;operational&#160;costs&#160;and&#160;leverage&#160;virtualization&#160;to&#160;the&#160;fullest&#160;extent.</p>
<p style="position:absolute;top:968px;left:213px;white-space:nowrap" class="ft3318"><b>4.3</b></p>
<p style="position:absolute;top:968px;left:261px;white-space:nowrap" class="ft3318"><b>Networking&#160;Infrastructure</b></p>
<p style="position:absolute;top:1008px;left:213px;white-space:nowrap" class="ft3312">In&#160;this&#160;section,&#160;we&#160;present&#160;the&#160;network&#160;virtualization&#160;layer&#160;that&#160;enables&#160;the&#160;creation<br/>of&#160;arbitrary&#160;virtual&#160;topologies&#160;on&#160;top&#160;of&#160;the&#160;underlying&#160;physical&#160;network.&#160;This<br/>layer&#160;also&#160;provides&#160;the&#160;basic&#160;mechanisms&#160;to&#160;help&#160;enforce&#160;TVD&#160;admission&#160;and&#160;flow<br/>policies&#160;at&#160;a&#160;higher&#160;level.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft3316">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 34 -->
<a name="34"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page34-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter034.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft3411">34</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft3416">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:195px;left:141px;white-space:nowrap" class="ft3414"><b>4.3.1</b></p>
<p style="position:absolute;top:195px;left:195px;white-space:nowrap" class="ft3414"><b>Aims&#160;and&#160;Security&#160;Requirements</b></p>
<p style="position:absolute;top:227px;left:141px;white-space:nowrap" class="ft3412">The&#160;main&#160;aim&#160;of&#160;our&#160;network&#160;virtualization&#160;extensions&#160;is&#160;to&#160;allow&#160;groups&#160;of&#160;related<br/>VMs&#160;running&#160;on&#160;separate&#160;physical&#160;machines&#160;to&#160;be&#160;connected&#160;together&#160;as&#160;though<br/>they&#160;were&#160;on&#160;their&#160;own&#160;separate&#160;network&#160;fabric.&#160;In&#160;particular,&#160;we&#160;would&#160;like&#160;to&#160;cre-<br/>ate&#160;arbitrary&#160;virtual&#160;network&#160;topologies&#160;independently&#160;of&#160;the&#160;underlying&#160;physical<br/>network&#160;topology.&#160;For&#160;example,&#160;a&#160;group&#160;of&#160;related&#160;VMs&#160;may&#160;have&#160;to&#160;be&#160;connected<br/>directly&#160;together&#160;on&#160;the&#160;same&#160;VLAN&#160;segment&#160;even&#160;though,&#160;in&#160;reality,&#160;they&#160;may&#160;be<br/>at&#160;opposite&#160;ends&#160;of&#160;a&#160;WAN&#160;link&#160;separated&#160;by&#160;many&#160;physical&#160;LAN&#160;segments.&#160;Fur-<br/>ther,&#160;multiple&#160;segmented&#160;virtual&#160;networks&#160;may&#160;have&#160;to&#160;be&#160;established&#160;on&#160;a&#160;single<br/>physical&#160;network&#160;segment&#160;to&#160;achieve&#160;improved&#160;security&#160;properties&#160;such&#160;as&#160;network<br/>isolation.&#160;Our&#160;network&#160;virtualization&#160;extensions&#160;are&#160;required&#160;to&#160;inter-operate&#160;with<br/>existing&#160;non-virtualized&#160;entities&#160;(e.g.,&#160;standard&#160;client&#160;machines&#160;on&#160;the&#160;Internet)&#160;and<br/>allow&#160;our&#160;virtual&#160;networks&#160;to&#160;connect&#160;to&#160;real&#160;networks.</p>
<p style="position:absolute;top:471px;left:166px;white-space:nowrap" class="ft3411">Virtual&#160;networking&#160;extensions&#160;must&#160;also&#160;adhere&#160;to&#160;security&#160;requirements&#160;such</p>
<p style="position:absolute;top:491px;left:141px;white-space:nowrap" class="ft3412">as&#160;isolation&#160;and&#160;confidentiality.&#160;In&#160;particular,&#160;our&#160;extensions&#160;must&#160;isolate&#160;the&#160;vir-<br/>tual&#160;resources&#160;used&#160;by&#160;different&#160;VLAN&#160;segments&#160;as&#160;well&#160;as&#160;the&#160;traffic&#160;generated<br/>by&#160;each.&#160;Network&#160;connections&#160;can&#160;be&#160;established&#160;between&#160;VMs&#160;that&#160;belong&#160;to<br/>the&#160;same&#160;VLAN&#160;segment&#160;and&#160;VMs&#160;that&#160;belong&#160;to&#160;different&#160;VLAN&#160;segments&#160;(i.e.,<br/>TVDs).&#160;These&#160;connections&#160;must&#160;be&#160;secured&#160;to&#160;meet&#160;the&#160;security&#160;requirements<br/>whenever&#160;they&#160;are&#160;established&#160;over&#160;untrusted&#160;physical&#160;infrastructures.&#160;Addition-<br/>ally,&#160;all&#160;entities&#160;(virtual&#160;or&#160;physical)&#160;that&#160;seek&#160;membership&#160;to&#160;a&#160;network&#160;segment<br/>must&#160;be&#160;properly&#160;authenticated&#160;prior&#160;to&#160;being&#160;admitted&#160;to&#160;the&#160;network.</p>
<p style="position:absolute;top:677px;left:141px;white-space:nowrap" class="ft3414"><b>4.3.2</b></p>
<p style="position:absolute;top:677px;left:195px;white-space:nowrap" class="ft3414"><b>Network&#160;Virtualization</b></p>
<p style="position:absolute;top:710px;left:141px;white-space:nowrap" class="ft3412">One&#160;option&#160;for&#160;virtual&#160;networking&#160;is&#160;to&#160;virtualize&#160;at&#160;the&#160;IP&#160;level.&#160;However,&#160;to<br/>avoid&#160;problems&#160;regarding&#160;the&#160;support&#160;for&#160;non-IP&#160;protocols&#160;and&#160;IP&#160;support&#160;services<br/>(such&#160;as&#160;ARP)&#160;that&#160;sit&#160;directly&#160;on&#160;top&#160;of&#160;the&#160;Ethernet&#160;protocol,&#160;we&#160;have&#160;chosen&#160;to<br/>virtualize&#160;at&#160;the&#160;Ethernet&#160;level.</p>
<p style="position:absolute;top:791px;left:166px;white-space:nowrap" class="ft3411">Our&#160;network&#160;virtualization&#160;extensions&#160;allow&#160;multiple&#160;VMs&#160;belonging&#160;to&#160;dif-</p>
<p style="position:absolute;top:811px;left:141px;white-space:nowrap" class="ft3412">ferent&#160;VLAN&#160;segments&#160;to&#160;be&#160;securely&#160;hosted&#160;on&#160;one&#160;or&#160;more&#160;physical&#160;machine.<br/>The&#160;framework&#160;provides&#160;isolation&#160;among&#160;various&#160;segments&#160;using&#160;a&#160;combination&#160;of<br/>VLANs&#160;and&#160;virtual&#160;private&#160;networks&#160;(VPNs).&#160;Each&#160;VLAN&#160;segment&#160;is&#160;an&#160;Ethernet<br/>broadcast&#160;domain&#160;and&#160;there&#160;is&#160;one&#160;<i>internal&#160;</i>VLAN&#160;for&#160;each&#160;security&#160;domain&#160;(i.e.,<br/>TVD<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#34">)</a></p>
<p style="position:absolute;top:890px;left:180px;white-space:nowrap" class="ft3420"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#34">2</a></p>
<p style="position:absolute;top:893px;left:187px;white-space:nowrap" class="ft3411"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#34">.&#160;</a>An&#160;<i>external&#160;</i>VLAN&#160;may&#160;be&#160;used&#160;for&#160;communication&#160;with&#160;other&#160;TVDs&#160;and</p>
<p style="position:absolute;top:913px;left:141px;white-space:nowrap" class="ft3412">TVD-external&#160;entities.&#160;In&#160;the&#160;absence&#160;of&#160;a&#160;trusted&#160;physical&#160;network,&#160;each&#160;VLAN<br/>segment&#160;can&#160;employ&#160;an&#160;optional&#160;VPN&#160;layer&#160;to&#160;provide&#160;authentication,&#160;integrity,<br/>and&#160;confidentiality.</p>
<p style="position:absolute;top:974px;left:166px;white-space:nowrap" class="ft3411">The&#160;virtual&#160;networking&#160;framework&#160;is&#160;comprised&#160;of&#160;a&#160;mixture&#160;of&#160;physical&#160;and</p>
<p style="position:absolute;top:994px;left:141px;white-space:nowrap" class="ft3412">virtual&#160;networking&#160;components.&#160;Physical&#160;components&#160;include&#160;physical&#160;hosts&#160;and<br/>standard&#160;physical&#160;networking&#160;devices&#160;such&#160;as&#160;VLAN-enabled&#160;switches&#160;and&#160;routers.<br/>Virtual&#160;entities&#160;include&#160;VMs,&#160;vNICs,&#160;virtual&#160;switches,&#160;virtual&#160;routers,&#160;and&#160;virtual</p>
<p style="position:absolute;top:1063px;left:160px;white-space:nowrap" class="ft3421">2</p>
<p style="position:absolute;top:1066px;left:165px;white-space:nowrap" class="ft3422">In&#160;this&#160;chapter,&#160;we&#160;use&#160;both&#160;<i>VLAN&#160;segment&#160;</i>and&#160;<i>TVD&#160;</i>to&#160;denote&#160;a&#160;security&#160;domain.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft3416">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 35 -->
<a name="35"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page35-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter035.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft3523">CHAPTER&#160;4.&#160;AUTOMATED&#160;PROVISIONING&#160;OF&#160;SECURE&#160;VIRTUAL&#160;NETWORKS</p>
<p style="position:absolute;top:142px;left:786px;white-space:nowrap" class="ft3511">35</p>
<p style="position:absolute;top:196px;left:213px;white-space:nowrap" class="ft3512">gateways.&#160;Each&#160;VM&#160;has&#160;a&#160;number&#160;of&#160;vNICs&#160;where&#160;each&#160;can&#160;be&#160;associated&#160;with<br/>at&#160;most&#160;one&#160;VLAN&#160;segment.&#160;Each&#160;VLAN&#160;segment&#160;is&#160;represented&#160;by&#160;a&#160;virtual<br/>switch&#160;or&#160;a&#160;<i>vSwitch</i>.&#160;A&#160;VM&#160;appears&#160;on&#160;a&#160;particular&#160;VLAN&#160;if&#160;one&#160;of&#160;its&#160;vNICs<br/>is&#160;“plugged”&#160;into&#160;one&#160;of&#160;the&#160;switch&#160;ports&#160;on&#160;the&#160;vSwitch&#160;forming&#160;that&#160;segment.<br/>The&#160;vSwitch&#160;behaves&#160;like&#160;a&#160;normal&#160;physical&#160;switch.&#160;Ethernet&#160;broadcast&#160;traffic<br/>generated&#160;by&#160;a&#160;VM&#160;connected&#160;to&#160;the&#160;vSwitch&#160;is&#160;passed&#160;to&#160;all&#160;VMs&#160;connected&#160;to<br/>that&#160;vSwitch.&#160;Like&#160;a&#160;real&#160;switch,&#160;the&#160;vSwitch&#160;also&#160;builds&#160;up&#160;a&#160;forwarding&#160;table<br/>based&#160;on&#160;observed&#160;traffic&#160;so&#160;that&#160;non-broadcast&#160;Ethernet&#160;traffic&#160;can&#160;be&#160;delivered&#160;in<br/>a&#160;point-to-point&#160;fashion&#160;to&#160;improve&#160;bandwidth&#160;efficiency.</p>
<p style="position:absolute;top:378px;left:238px;white-space:nowrap" class="ft3511">The&#160;vSwitch&#160;is&#160;designed&#160;to&#160;operate&#160;in&#160;a&#160;distributed&#160;fashion.&#160;The&#160;VMM&#160;on&#160;each</p>
<p style="position:absolute;top:399px;left:213px;white-space:nowrap" class="ft3512">physical&#160;machine&#160;hosting&#160;a&#160;VM&#160;connected&#160;to&#160;a&#160;particular&#160;VLAN&#160;segment&#160;hosts&#160;part<br/>of&#160;the&#160;vSwitch&#160;forming&#160;that&#160;VLAN&#160;segment.&#160;A&#160;component&#160;of&#160;the&#160;VMM&#160;captures<br/>the&#160;Ethernet&#160;frames&#160;coming&#160;out&#160;of&#160;a&#160;VM’s&#160;vNIC.&#160;This&#160;component&#160;is&#160;configured<br/>to&#160;know&#160;which&#160;vSwitch&#160;the&#160;VM&#160;is&#160;supposed&#160;to&#160;be&#160;connected&#160;to.&#160;We&#160;describe&#160;the<br/>vSwitch&#160;implementation&#160;in&#160;detail&#160;in&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#53">4.6.</a></p>
<p style="position:absolute;top:501px;left:238px;white-space:nowrap" class="ft3511">To&#160;enable&#160;network&#160;virtualization,&#160;VM&#160;Ethernet&#160;frames&#160;can&#160;be&#160;encapsulated</p>
<p style="position:absolute;top:521px;left:213px;white-space:nowrap" class="ft3512">in&#160;IP&#160;packets&#160;or&#160;tagged&#160;with&#160;VLAN&#160;identifiers&#160;using&#160;EtherIP&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[IET02]&#160;</a>and&#160;IEEE<br/>802.1Q&#160;standards&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[IEE98]</a>,&#160;respectively.&#160;Virtual&#160;switches&#160;employ&#160;both&#160;schemes&#160;to<br/>encapsulate&#160;or&#160;tag&#160;each&#160;outgoing&#160;packet&#160;to&#160;insert&#160;the&#160;corresponding&#160;VLAN&#160;identi-<br/>fier.&#160;The&#160;choice&#160;of&#160;which&#160;scheme&#160;depends&#160;on&#160;the&#160;destination&#160;host&#160;plus&#160;the&#160;configu-<br/>ration&#160;dictated&#160;by&#160;the&#160;higher-level&#160;TVD&#160;management&#160;layer.&#160;The&#160;actual&#160;encapsula-<br/>tion&#160;or&#160;tagging&#160;of&#160;the&#160;packet&#160;is&#160;done&#160;by&#160;an&#160;EtherIP&#160;or&#160;a&#160;VLAN&#160;tagging&#160;module&#160;on<br/>request&#160;by&#160;the&#160;vSwitch.</p>
<p style="position:absolute;top:686px;left:213px;white-space:nowrap" class="ft3514"><b>4.3.3</b></p>
<p style="position:absolute;top:686px;left:266px;white-space:nowrap" class="ft3514"><b>Virtual&#160;Switch&#160;and&#160;EtherIP</b></p>
<p style="position:absolute;top:719px;left:213px;white-space:nowrap" class="ft3512">EtherIP&#160;is&#160;a&#160;standard&#160;protocol&#160;for&#160;tunneling&#160;Ethernet&#160;and&#160;802.3&#160;packets&#160;via&#160;IP&#160;data-<br/>grams&#160;and&#160;can&#160;be&#160;employed&#160;to&#160;expand&#160;a&#160;LAN&#160;over&#160;a&#160;Wide&#160;or&#160;Metropolitan&#160;Area<br/>Network&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[IET02]</a>.&#160;We&#160;employ&#160;EtherIP&#160;encapsulation&#160;as&#160;the&#160;standard&#160;mechanism<br/>to&#160;insert&#160;VLAN&#160;membership&#160;information&#160;into&#160;Ethernet/802.3&#160;frames.&#160;To&#160;do&#160;so,<br/>each&#160;tunnel&#160;endpoint&#160;uses&#160;a&#160;special&#160;network&#160;device&#160;provided&#160;by&#160;the&#160;operating&#160;sys-<br/>tem&#160;that&#160;encapsulates&#160;outgoing&#160;Ethernet/802.3&#160;packets&#160;in&#160;new&#160;IP&#160;packets.&#160;We&#160;insert<br/>VLAN&#160;membership&#160;information&#160;(i.e.,&#160;the&#160;VLAN&#160;identifier)&#160;into&#160;the&#160;EtherIP&#160;header<br/>of&#160;each&#160;encapsulated&#160;packet.&#160;The&#160;encapsulated&#160;packets&#160;are&#160;then&#160;transmitted&#160;to&#160;the<br/>other&#160;side&#160;of&#160;the&#160;tunnel&#160;where&#160;the&#160;embedded&#160;Ethernet/802.3&#160;packets&#160;are&#160;extracted<br/>and&#160;transmitted&#160;to&#160;the&#160;destination&#160;host&#160;that&#160;belongs&#160;to&#160;the&#160;same&#160;VLAN&#160;segment.</p>
<p style="position:absolute;top:946px;left:213px;white-space:nowrap" class="ft3515"><b>Address&#160;Mapping</b></p>
<p style="position:absolute;top:978px;left:213px;white-space:nowrap" class="ft3512">The&#160;virtual&#160;switch&#160;component&#160;on&#160;a&#160;VMM&#160;maps&#160;the&#160;Ethernet&#160;address&#160;of&#160;the&#160;encap-<br/>sulated&#160;Ethernet&#160;frame&#160;to&#160;an&#160;appropriate&#160;IP&#160;address.&#160;This&#160;way,&#160;the&#160;encapsulated<br/>Ethernet&#160;frame&#160;can&#160;be&#160;transmitted&#160;over&#160;the&#160;underlying&#160;physical&#160;network&#160;to&#160;physi-<br/>cal&#160;machines&#160;hosting&#160;other&#160;VMs&#160;connected&#160;to&#160;the&#160;same&#160;LAN&#160;segment&#160;that&#160;would<br/>have&#160;seen&#160;that&#160;Ethernet&#160;traffic&#160;had&#160;the&#160;VMs&#160;actually&#160;been&#160;on&#160;a&#160;real&#160;LAN&#160;together.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft3516">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 36 -->
<a name="36"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page36-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter036.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft3611">36</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft3616">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft3612">The&#160;IP&#160;address&#160;chosen&#160;to&#160;route&#160;the&#160;encapsulated&#160;Ethernet&#160;frames&#160;over&#160;the&#160;underly-<br/>ing&#160;physical&#160;network&#160;depends&#160;upon&#160;whether&#160;the&#160;encapsulated&#160;Ethernet&#160;frame&#160;is&#160;an<br/>Ethernet&#160;broadcast&#160;frame&#160;or&#160;not&#160;and&#160;also&#160;whether&#160;the&#160;virtual&#160;switch&#160;has&#160;built&#160;up&#160;a<br/>table&#160;of&#160;the&#160;locations&#160;of&#160;the&#160;physical&#160;machines&#160;hosting&#160;other&#160;VMs&#160;on&#160;a&#160;particular<br/>LAN&#160;segment&#160;based&#160;on&#160;observing&#160;traffic&#160;on&#160;that&#160;LAN.</p>
<p style="position:absolute;top:297px;left:166px;white-space:nowrap" class="ft3611">IP&#160;packets&#160;encapsulating&#160;broadcast&#160;Ethernet&#160;frames&#160;are&#160;given&#160;a&#160;multicast&#160;IP</p>
<p style="position:absolute;top:317px;left:141px;white-space:nowrap" class="ft3612">address&#160;and&#160;sent&#160;out&#160;over&#160;the&#160;physical&#160;network.&#160;Each&#160;virtual&#160;LAN&#160;segment&#160;has<br/>an&#160;IP&#160;multicast&#160;address&#160;associated&#160;with&#160;it.&#160;All&#160;the&#160;physical&#160;machines&#160;hosting&#160;VMs<br/>on&#160;a&#160;particular&#160;virtual&#160;LAN&#160;segment&#160;are&#160;members&#160;of&#160;the&#160;multicast&#160;group&#160;for&#160;that<br/>virtual&#160;LAN&#160;segment.&#160;This&#160;mechanism&#160;ensures&#160;that&#160;all&#160;VMs&#160;on&#160;a&#160;particular&#160;vir-<br/>tual&#160;LAN&#160;segment&#160;receive&#160;all&#160;broadcast&#160;Ethernet&#160;frames&#160;from&#160;other&#160;VMs&#160;on&#160;that<br/>segment.&#160;Encapsulated&#160;Ethernet&#160;frames&#160;that&#160;contain&#160;a&#160;directed&#160;Ethernet&#160;address<br/>destination&#160;are&#160;either&#160;flooded&#160;to&#160;all&#160;the&#160;VMs&#160;on&#160;a&#160;particular&#160;LAN&#160;segment&#160;(using<br/>the&#160;IP&#160;multicast&#160;address&#160;as&#160;in&#160;the&#160;broadcast&#160;case)&#160;or&#160;sent&#160;to&#160;a&#160;specific&#160;physical&#160;ma-<br/>chine&#160;IP&#160;address.&#160;This&#160;depends&#160;upon&#160;whether&#160;the&#160;virtual&#160;switch&#160;component&#160;on&#160;the<br/>encapsulating&#160;VM&#160;has&#160;learned&#160;the&#160;location&#160;of&#160;the&#160;physical&#160;machine&#160;hosting&#160;the&#160;VM<br/>with&#160;the&#160;given&#160;Ethernet&#160;destination&#160;address&#160;based&#160;on&#160;traffic&#160;observation&#160;through&#160;the<br/>virtual&#160;switch.</p>
<p style="position:absolute;top:585px;left:141px;white-space:nowrap" class="ft3615"><b>Requirements&#160;Revisited</b></p>
<p style="position:absolute;top:617px;left:141px;white-space:nowrap" class="ft3612">EtherIP&#160;can&#160;be&#160;used&#160;over&#160;arbitrary&#160;Layer&#160;3&#160;networks.&#160;The&#160;decision&#160;to&#160;encapsulate<br/>Ethernet&#160;frames&#160;from&#160;VMs&#160;within&#160;IP&#160;packets&#160;allow&#160;us&#160;to&#160;connect&#160;different&#160;VMs&#160;to<br/>the&#160;same&#160;virtual&#160;LAN&#160;segment&#160;as&#160;long&#160;as&#160;the&#160;physical&#160;machines&#160;hosting&#160;those&#160;VMs<br/>have&#160;some&#160;form&#160;of&#160;IP&#160;based&#160;connectivity&#160;between&#160;them,&#160;even&#160;a&#160;WAN&#160;link.&#160;There<br/>are&#160;no&#160;restrictions&#160;on&#160;the&#160;topology&#160;of&#160;that&#160;physical&#160;network.</p>
<p style="position:absolute;top:718px;left:166px;white-space:nowrap" class="ft3611">To&#160;allow&#160;routing&#160;within&#160;virtual&#160;networks,&#160;a&#160;router&#160;within&#160;a&#160;virtual&#160;network&#160;is</p>
<p style="position:absolute;top:739px;left:141px;white-space:nowrap" class="ft3612">provided&#160;by&#160;the&#160;use&#160;of&#160;a&#160;virtual&#160;machine&#160;with&#160;multiple&#160;virtual&#160;network&#160;interface<br/>cards.&#160;The&#160;interface&#160;cards&#160;are&#160;plugged&#160;into&#160;ports&#160;on&#160;the&#160;different&#160;virtual&#160;switches<br/>that&#160;it&#160;is&#160;required&#160;to&#160;route&#160;between.&#160;Standard&#160;routing&#160;software&#160;is&#160;then&#160;configured<br/>and&#160;run&#160;on&#160;the&#160;virtual&#160;machine&#160;to&#160;provide&#160;the&#160;desired&#160;routing&#160;services&#160;between&#160;the<br/>connected&#160;LAN&#160;segments.</p>
<p style="position:absolute;top:840px;left:166px;white-space:nowrap" class="ft3611">To&#160;allow&#160;for&#160;communication&#160;with&#160;systems&#160;that&#160;live&#160;in&#160;the&#160;non-virtualized&#160;world,</p>
<p style="position:absolute;top:861px;left:141px;white-space:nowrap" class="ft3612">we&#160;provide&#160;a&#160;virtual&#160;gateway&#160;that&#160;simply&#160;is&#160;a&#160;virtual&#160;machine&#160;with&#160;two&#160;vNICs.&#160;One<br/>of&#160;the&#160;cards&#160;is&#160;plugged&#160;into&#160;a&#160;port&#160;on&#160;a&#160;virtual&#160;switch.&#160;The&#160;other&#160;virtual&#160;network<br/>card&#160;is&#160;bridged&#160;directly&#160;on&#160;to&#160;the&#160;physical&#160;network.&#160;The&#160;gateway&#160;has&#160;two&#160;main<br/>roles:&#160;(1)&#160;It&#160;advertises&#160;routing&#160;information&#160;about&#160;the&#160;virtual&#160;network&#160;behind&#160;it&#160;so<br/>that&#160;hosts&#160;in&#160;the&#160;non-virtualized&#160;world&#160;can&#160;locate&#160;the&#160;virtual&#160;machines&#160;residing&#160;on<br/>a&#160;virtual&#160;network,&#160;and&#160;(2)&#160;it&#160;converts&#160;packets&#160;to&#160;and&#160;from&#160;the&#160;encapsulated&#160;format<br/>required&#160;of&#160;our&#160;virtual&#160;networks.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft3616">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 37 -->
<a name="37"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page37-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter037.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft3723">CHAPTER&#160;4.&#160;AUTOMATED&#160;PROVISIONING&#160;OF&#160;SECURE&#160;VIRTUAL&#160;NETWORKS</p>
<p style="position:absolute;top:142px;left:786px;white-space:nowrap" class="ft3711">37</p>
<p style="position:absolute;top:195px;left:213px;white-space:nowrap" class="ft3714"><b>4.3.4</b></p>
<p style="position:absolute;top:195px;left:266px;white-space:nowrap" class="ft3714"><b>Virtual&#160;Switch&#160;and&#160;VLAN&#160;Tagging</b></p>
<p style="position:absolute;top:227px;left:213px;white-space:nowrap" class="ft3712">VLAN&#160;tagging&#160;is&#160;a&#160;well-established&#160;network&#160;virtualization&#160;standard&#160;that&#160;provides<br/>isolation&#160;of&#160;VLAN&#160;segments&#160;on&#160;physical&#160;network&#160;equipment&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[IEE98]</a>.&#160;We&#160;employ<br/>VLAN&#160;tagging&#160;as&#160;an&#160;alternative&#160;to&#160;Ethernet&#160;encapsulation&#160;for&#160;efficiency&#160;purposes.<br/>For&#160;example,&#160;in&#160;a&#160;virtualized&#160;datacenter&#160;a&#160;VLAN-enabled&#160;switch&#160;may&#160;be&#160;used&#160;that<br/>yield&#160;increased&#160;performance&#160;over&#160;EtherIP&#160;encapsulation.</p>
<p style="position:absolute;top:329px;left:238px;white-space:nowrap" class="ft3711">Each&#160;VLAN&#160;segment&#160;employs&#160;its&#160;own&#160;VLAN&#160;tagging&#160;module&#160;to&#160;tag&#160;its&#160;Eth-</p>
<p style="position:absolute;top:349px;left:213px;white-space:nowrap" class="ft3712">ernet&#160;frames.&#160;This&#160;module&#160;resides&#160;within&#160;the&#160;host&#160;OS&#160;or&#160;privileged&#160;domain&#160;that<br/>facilitates&#160;the&#160;networking&#160;capabilities,&#160;captures&#160;packets&#160;coming&#160;from&#160;VMs&#160;and&#160;tags<br/>those&#160;with&#160;the&#160;ID&#160;of&#160;the&#160;VM’s&#160;VLAN&#160;before&#160;sending&#160;them&#160;onto&#160;the&#160;physical&#160;wire.<br/>On&#160;the&#160;receiving&#160;side,&#160;the&#160;module&#160;removes&#160;the&#160;VLAN&#160;tag&#160;and&#160;passes&#160;the&#160;packets<br/>untagged&#160;into&#160;the&#160;destination&#160;VM(s).&#160;Packets&#160;are&#160;only&#160;tagged&#160;when&#160;the&#160;have&#160;to&#160;be<br/>transmitted&#160;over&#160;the&#160;physical&#160;network.&#160;VMs&#160;are&#160;unaware&#160;of&#160;the&#160;VLAN&#160;tagging&#160;and<br/>send/receive&#160;packets&#160;without&#160;any&#160;VLAN&#160;information.</p>
<p style="position:absolute;top:491px;left:238px;white-space:nowrap" class="ft3711">To&#160;handle&#160;VLAN&#160;tagged&#160;packets,&#160;the&#160;physical&#160;network&#160;equipment&#160;needs&#160;to</p>
<p style="position:absolute;top:511px;left:213px;white-space:nowrap" class="ft3712">support&#160;IEEE&#160;802.1Q&#160;and&#160;be&#160;configured&#160;accordingly.&#160;As&#160;an&#160;example,&#160;if&#160;a&#160;machine<br/>hosts&#160;a&#160;VM&#160;that&#160;is&#160;part&#160;of&#160;VLAN&#160;42,&#160;then&#160;the&#160;switch&#160;port&#160;that&#160;is&#160;used&#160;by&#160;that&#160;ma-<br/>chine&#160;needs&#160;to&#160;be&#160;assigned&#160;to&#160;that&#160;specific&#160;VLAN&#160;42.&#160;Of&#160;course,&#160;a&#160;machine&#160;might<br/>host&#160;multiple&#160;VMs&#160;which&#160;can&#160;be&#160;on&#160;different&#160;VLANs,&#160;and&#160;therefore&#160;a&#160;switch&#160;port<br/>might&#160;be&#160;assigned&#160;to&#160;multiple&#160;VLANs&#160;(which&#160;creates&#160;a</p>
<p style="position:absolute;top:594px;left:592px;white-space:nowrap" class="ft3738">VLAN&#160;trunk</p>
<p style="position:absolute;top:593px;left:696px;white-space:nowrap" class="ft3711">between</p>
<p style="position:absolute;top:613px;left:213px;white-space:nowrap" class="ft3712">the&#160;host&#160;and&#160;the&#160;switch&#160;port).&#160;Whenever&#160;a&#160;host&#160;deploys&#160;a&#160;new&#160;VM&#160;or&#160;removes&#160;a<br/>VM,&#160;the&#160;switch&#160;port&#160;might&#160;need&#160;to&#160;be&#160;reconfigured.&#160;Ideally,&#160;this&#160;can&#160;be&#160;done&#160;in<br/>a&#160;dynamic&#160;and&#160;automated&#160;fashion,&#160;e.g.,&#160;through&#160;network&#160;management&#160;protocols.<br/>As&#160;the&#160;physical&#160;switches&#160;only&#160;pass&#160;packets&#160;between&#160;machines&#160;within&#160;the&#160;same<br/>VLAN,&#160;those&#160;provide&#160;an&#160;additional&#160;isolation&#160;mechanism&#160;to&#160;our&#160;VLAN-capable<br/>virtual&#160;switch&#160;that&#160;is&#160;deployed&#160;on&#160;all&#160;of&#160;the&#160;hosts.</p>
<p style="position:absolute;top:759px;left:213px;white-space:nowrap" class="ft3715"><b>Address&#160;Mapping</b></p>
<p style="position:absolute;top:790px;left:213px;white-space:nowrap" class="ft3712">VLAN&#160;tagging&#160;does&#160;not&#160;require&#160;any&#160;extra&#160;address&#160;mapping&#160;mechanism.&#160;VMs&#160;dis-<br/>cover&#160;address&#160;information&#160;of&#160;other&#160;VMs&#160;using&#160;standard&#160;discovery&#160;protocols&#160;as&#160;in<br/>a&#160;non-virtualized&#160;environments.&#160;However,&#160;the&#160;virtual&#160;switch&#160;module&#160;that&#160;runs&#160;on<br/>each&#160;physical&#160;machine&#160;learns&#160;Ethernet&#160;addresses&#160;attached&#160;to&#160;the&#160;virtual&#160;switch&#160;ports<br/>by&#160;inspecting&#160;packets&#160;(in&#160;the&#160;same&#160;way&#160;as&#160;physical&#160;switches&#160;do)&#160;and&#160;builds&#160;up<br/>lookup&#160;tables&#160;(one&#160;table&#160;per&#160;virtual&#160;switch&#160;/&#160;VLAN)&#160;that&#160;store&#160;information&#160;about<br/>the&#160;location&#160;of&#160;VMs&#160;based&#160;on&#160;their&#160;Ethernet&#160;addresses.&#160;The&#160;virtual&#160;switch&#160;uses<br/>this&#160;table&#160;to&#160;decide&#160;if&#160;a&#160;packet&#160;has&#160;to&#160;be&#160;passed&#160;to&#160;a&#160;local&#160;VM&#160;or&#160;onto&#160;the&#160;physical<br/>network&#160;to&#160;be&#160;delivered&#160;to&#160;a&#160;remote&#160;machine.</p>
<p style="position:absolute;top:973px;left:238px;white-space:nowrap" class="ft3711">There&#160;is&#160;no&#160;explicit&#160;mapping&#160;of&#160;broadcast&#160;/&#160;multicast&#160;addresses&#160;as&#160;in&#160;the&#160;case&#160;of</p>
<p style="position:absolute;top:994px;left:213px;white-space:nowrap" class="ft3712">EtherIP&#160;encapsulation.&#160;Instead,&#160;physical&#160;switches&#160;that&#160;manage&#160;the&#160;underlying&#160;net-<br/>work&#160;infrastructure&#160;ensure&#160;that&#160;broadcast&#160;and&#160;multicast&#160;traffic&#160;never&#160;crosses&#160;VLAN<br/>boundaries.&#160;Broadcast&#160;and&#160;multicast&#160;packets&#160;that&#160;are&#160;tagged&#160;with&#160;a&#160;VLAN&#160;ID&#160;are<br/>passed&#160;to&#160;all&#160;switch&#160;ports&#160;that&#160;are&#160;associated&#160;with&#160;that&#160;particular&#160;VLAN,&#160;but&#160;no</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft3716">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 38 -->
<a name="38"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page38-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter038.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft3811">38</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft3816">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft3812">other&#160;ports.&#160;When&#160;those&#160;packets&#160;enter&#160;the&#160;physical&#160;machine&#160;that&#160;runs&#160;our&#160;virtual<br/>switch&#160;module,&#160;the&#160;packets&#160;are&#160;only&#160;passed&#160;into&#160;VMs&#160;that&#160;are&#160;attached&#160;to&#160;virtual<br/>switch&#160;ports&#160;that&#160;are&#160;assigned&#160;to&#160;the&#160;VLAN&#160;matching&#160;the&#160;ID&#160;in&#160;the&#160;packets.</p>
<p style="position:absolute;top:281px;left:141px;white-space:nowrap" class="ft3815"><b>Requirements&#160;Revisited</b></p>
<p style="position:absolute;top:312px;left:141px;white-space:nowrap" class="ft3812">VLAN&#160;tagging&#160;can&#160;be&#160;used&#160;over&#160;arbitrary&#160;Layer&#160;3&#160;networks.&#160;However,&#160;unlike<br/>EtherIP,&#160;a&#160;solution&#160;based&#160;on&#160;pure&#160;VLAN&#160;tagging&#160;is&#160;limited&#160;to&#160;a&#160;LAN&#160;environ-<br/>ment&#160;and&#160;cannot&#160;be&#160;deployed&#160;over&#160;WAN&#160;links.&#160;VLAN&#160;tagging&#160;highly&#160;depends&#160;on<br/>support&#160;from&#160;the&#160;physical&#160;network&#160;equipment&#160;that&#160;is&#160;managing&#160;the&#160;underlying&#160;in-<br/>frastructure.&#160;E.g.,&#160;switches&#160;need&#160;to&#160;support&#160;the&#160;VLAN&#160;tagging&#160;standard&#160;that&#160;we&#160;use<br/>when&#160;tagging&#160;our&#160;packets&#160;in&#160;our&#160;virtual&#160;switch&#160;module&#160;(IEEE&#160;802.1Q)&#160;and&#160;need&#160;to<br/>be&#160;configured&#160;to&#160;handle&#160;tagged&#160;packets&#160;in&#160;order&#160;to&#160;provide&#160;appropriate&#160;isolation<br/>between&#160;VLANs.</p>
<p style="position:absolute;top:474px;left:166px;white-space:nowrap" class="ft3811">A&#160;VLAN&#160;is&#160;a&#160;logical&#160;network&#160;segment&#160;and&#160;by&#160;default&#160;network&#160;traffic&#160;such&#160;as</p>
<p style="position:absolute;top:495px;left:141px;white-space:nowrap" class="ft3812">broadcast&#160;messages&#160;or&#160;ARP&#160;communication&#160;is&#160;limited&#160;to&#160;a&#160;single&#160;VLAN.&#160;However,<br/>it&#160;is&#160;also&#160;possible&#160;to&#160;allow&#160;communication&#160;between&#160;(virtual)&#160;machines&#160;of&#160;differ-<br/>ent&#160;VLANs&#160;through</p>
<p style="position:absolute;top:536px;left:281px;white-space:nowrap" class="ft3838">Inter-VLAN&#160;routing</p>
<p style="position:absolute;top:535px;left:458px;white-space:nowrap" class="ft3811">.&#160;There&#160;are&#160;multiple&#160;well-known</p>
<p style="position:absolute;top:556px;left:141px;white-space:nowrap" class="ft3812">and&#160;standardized&#160;solutions&#160;to&#160;allow&#160;this.&#160;For&#160;example,&#160;most&#160;of&#160;today’s&#160;network<br/>switches&#160;facilitate&#160;fast&#160;Layer&#160;3&#160;routing&#160;between&#160;multiple&#160;VLANs.&#160;This&#160;solution<br/>offers&#160;high&#160;performance,&#160;but&#160;requires&#160;that&#160;routing&#160;policies&#160;can&#160;be&#160;configured&#160;on<br/>the&#160;physical&#160;network&#160;devices&#160;–&#160;ideally&#160;in&#160;an&#160;automated&#160;fashion.&#160;As&#160;an&#160;alternative,<br/>we&#160;can&#160;also&#160;deploy&#160;specific&#160;VMs&#160;that&#160;have&#160;multiple&#160;network&#160;interfaces&#160;in&#160;mul-<br/>tiple&#160;VLANs&#160;and&#160;route&#160;packets&#160;between&#160;those&#160;–&#160;as&#160;in&#160;the&#160;EtherIP&#160;encapsulation<br/>approach.</p>
<p style="position:absolute;top:698px;left:166px;white-space:nowrap" class="ft3811">VLAN&#160;tagging&#160;inherently&#160;supports&#160;communciation&#160;with&#160;non-virtualized&#160;sys-</p>
<p style="position:absolute;top:718px;left:141px;white-space:nowrap" class="ft3812">tems.&#160;This&#160;is&#160;because&#160;VLAN&#160;tagging&#160;is&#160;a&#160;widely&#160;used&#160;standard&#160;that&#160;is&#160;deployed<br/>within&#160;infrastructures&#160;where&#160;physical&#160;machines&#160;do&#160;not&#160;run&#160;any&#160;(network)&#160;virtu-<br/>alization&#160;software.&#160;There&#160;is&#160;no&#160;need&#160;for&#160;a&#160;gateway&#160;VM&#160;as&#160;in&#160;the&#160;EtherIP&#160;case.<br/>Instead,&#160;physical&#160;switches&#160;can&#160;be&#160;configured&#160;to&#160;remove&#160;VLAN&#160;tags&#160;from&#160;packets<br/>when&#160;transmitting&#160;on&#160;a&#160;port&#160;where&#160;the&#160;connected&#160;endpoint&#160;is&#160;not&#160;VLAN-capable,<br/>and&#160;add&#160;tags&#160;whenever&#160;packets&#160;are&#160;received&#160;on&#160;that&#160;specific&#160;port.&#160;In&#160;that&#160;case&#160;those<br/>endpoints&#160;are&#160;completely&#160;unaware&#160;of&#160;VLANs,&#160;and&#160;receive&#160;and&#160;transmit&#160;packets<br/>without&#160;any&#160;VLAN&#160;information.</p>
<p style="position:absolute;top:904px;left:141px;white-space:nowrap" class="ft3814"><b>4.3.5</b></p>
<p style="position:absolute;top:904px;left:195px;white-space:nowrap" class="ft3814"><b>Virtual&#160;Switch&#160;and&#160;Secure&#160;Networking</b></p>
<p style="position:absolute;top:937px;left:141px;white-space:nowrap" class="ft3812">In&#160;addition&#160;to&#160;EtherIP&#160;and&#160;VLAN&#160;tagging&#160;modules,&#160;virtual&#160;switches&#160;employ&#160;a&#160;net-<br/>work&#160;access&#160;module&#160;for&#160;admission&#160;control&#160;and&#160;an&#160;optional&#160;VPN&#160;module&#160;for&#160;packet<br/>tunneling.&#160;Network&#160;access&#160;control&#160;or&#160;NAC&#160;is&#160;an&#160;IEEE&#160;802.1X&#160;standard&#160;for&#160;port-<br/>based&#160;access&#160;control&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[IEE04]</a>.&#160;NAC&#160;can&#160;be&#160;implemented&#160;by&#160;various&#160;network&#160;de-<br/>vices&#160;which&#160;in&#160;turn&#160;force&#160;a&#160;host&#160;(supplicant)&#160;go&#160;through&#160;an&#160;authentication&#160;process<br/>prior&#160;to&#160;using&#160;services&#160;provided&#160;by&#160;the&#160;device&#160;(e.g.,&#160;being&#160;admitted&#160;to&#160;the&#160;network).<br/>All&#160;network&#160;traffic&#160;originating&#160;from&#160;the&#160;supplicant&#160;is&#160;blocked&#160;prior&#160;to&#160;admission&#160;ex-</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft3816">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 39 -->
<a name="39"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page39-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter039.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft3923">CHAPTER&#160;4.&#160;AUTOMATED&#160;PROVISIONING&#160;OF&#160;SECURE&#160;VIRTUAL&#160;NETWORKS</p>
<p style="position:absolute;top:142px;left:786px;white-space:nowrap" class="ft3911">39</p>
<p style="position:absolute;top:196px;left:213px;white-space:nowrap" class="ft3912">cept&#160;the&#160;NAC&#160;traffic&#160;itself.&#160;NAC&#160;requests&#160;are&#160;received&#160;by&#160;an&#160;access&#160;point&#160;(authen-<br/>ticator)&#160;and&#160;forwarded&#160;to&#160;an&#160;authentication&#160;server&#160;(AS)&#160;(e.g.,&#160;a&#160;RADIUS&#160;server).<br/>The&#160;AS&#160;runs&#160;a&#160;choice&#160;of&#160;authentication&#160;protocol&#160;specified&#160;by&#160;the&#160;extensible&#160;au-<br/>thentication&#160;protocol&#160;(EAP).&#160;It&#160;returns&#160;the&#160;verdict&#160;to&#160;the&#160;authenticator&#160;with&#160;respect<br/>to&#160;which&#160;access&#160;is&#160;granted&#160;to&#160;the&#160;supplicant&#160;or&#160;denied.&#160;The&#160;NAC&#160;module&#160;is&#160;in-<br/>corporated&#160;into&#160;the&#160;vSwitch&#160;admission&#160;process&#160;during&#160;which&#160;the&#160;requesting&#160;VM&#160;is<br/>authenticated&#160;prior&#160;to&#160;TVD&#160;admission.&#160;The&#160;choice&#160;of&#160;which&#160;authentication&#160;method<br/>depends&#160;is&#160;dictated&#160;by&#160;the&#160;high-level&#160;TVD&#160;policies.</p>
<p style="position:absolute;top:358px;left:238px;white-space:nowrap" class="ft3911">Encapsulation&#160;and&#160;tagging&#160;alone&#160;do&#160;not&#160;provide&#160;any&#160;guarantees&#160;on&#160;the&#160;confi-</p>
<p style="position:absolute;top:378px;left:213px;white-space:nowrap" class="ft3912">dentiality&#160;and&#160;integrity&#160;of&#160;the&#160;packets&#160;/&#160;frames&#160;that&#160;are&#160;transmitted&#160;on&#160;the&#160;wire.<br/>Without&#160;a&#160;proper&#160;VPN&#160;layer,&#160;these&#160;schemes&#160;are&#160;only&#160;suitable&#160;for&#160;routed&#160;and&#160;con-<br/>trolled&#160;networks&#160;in&#160;which&#160;the&#160;underlying&#160;physical&#160;infrastructure&#160;is&#160;trusted,&#160;e.g.,&#160;a<br/>virtualized&#160;data&#160;center.&#160;In&#160;cases&#160;no&#160;such&#160;guarantees&#160;can&#160;be&#160;given&#160;(e.g.,&#160;a&#160;WAN<br/>link),&#160;we&#160;employ&#160;an&#160;implementation&#160;of&#160;IPSec&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#92">[KS05]&#160;</a>to&#160;tunnel&#160;VLAN&#160;communi-<br/>cation&#160;in&#160;a&#160;confidential&#160;and&#160;an&#160;integrity-preserving&#160;way.&#160;To&#160;do&#160;so,&#160;the&#160;VPN&#160;module<br/>employs&#160;the&#160;Encapsulating&#160;Security&#160;Payload&#160;(ESP)&#160;of&#160;IPSec&#160;that&#160;encapsulates&#160;IP<br/>packets&#160;and&#160;applies&#160;block&#160;encryption&#160;to&#160;provide&#160;confidentiality&#160;and&#160;integrity.&#160;This<br/>adds&#160;an&#160;additional&#160;layer&#160;of&#160;packet&#160;encapsulation&#160;on&#160;top&#160;of&#160;EtherIP.&#160;The&#160;optional<br/>VPN&#160;module&#160;is&#160;incorporated&#160;into&#160;the&#160;virtual&#160;switch.&#160;We&#160;provide&#160;further&#160;details&#160;on<br/>NAC&#160;and&#160;VPN&#160;implementations&#160;in&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#53">4.6.</a></p>
<p style="position:absolute;top:625px;left:213px;white-space:nowrap" class="ft3914"><b>4.3.6</b></p>
<p style="position:absolute;top:625px;left:266px;white-space:nowrap" class="ft3914"><b>Composition&#160;of&#160;Secure&#160;Virtual&#160;Networks</b></p>
<p style="position:absolute;top:658px;left:213px;white-space:nowrap" class="ft3912">Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#23">3.3&#160;</a>on&#160;Page&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#23">23&#160;</a>illustrates&#160;how&#160;the&#160;networking&#160;components&#160;can&#160;be&#160;com-<br/>posed&#160;into&#160;a&#160;secure&#160;networking&#160;infrastructure&#160;that&#160;provides&#160;isolation&#160;among&#160;differ-<br/>ent&#160;TVDs,&#160;where&#160;each&#160;TVD&#160;is&#160;represented&#160;by&#160;a&#160;different&#160;color&#160;(red&#160;(solid),&#160;green<br/>(dashed),&#160;or&#160;blue&#160;(double)&#160;line).&#160;A&#160;non-virtualized&#160;physical&#160;host,&#160;such&#160;as&#160;Host-<br/>3,&#160;is&#160;directly&#160;connected&#160;to&#160;a&#160;VLAN-enabled&#160;physical&#160;switch&#160;without&#160;employing&#160;a<br/>vSwitch.&#160;Further,&#160;a&#160;VM&#160;can&#160;be&#160;connected&#160;to&#160;multiple&#160;VLAN&#160;segments&#160;using&#160;a&#160;dif-<br/>ferent&#160;vNIC&#160;for&#160;each&#160;VLAN&#160;segment;&#160;hence,&#160;the&#160;VM&#160;can&#160;be&#160;a&#160;member&#160;of&#160;multiple<br/>TVDs&#160;simultaneously.&#160;For&#160;example,&#160;the&#160;lone&#160;VM&#160;in&#160;Host-2&#160;of&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#23">3.3&#160;</a>is&#160;part&#160;of<br/>two&#160;VLAN&#160;segments,&#160;each&#160;represented&#160;by&#160;a&#160;vSwitch&#160;with&#160;a&#160;different&#160;color;&#160;hence,<br/>the&#160;VM&#160;is&#160;a&#160;member&#160;of&#160;both&#160;the&#160;blue&#160;and&#160;green&#160;TVDs.</p>
<p style="position:absolute;top:861px;left:238px;white-space:nowrap" class="ft3911">Abstractly&#160;speaking,&#160;it&#160;is&#160;as&#160;if&#160;our&#160;secure&#160;virtual&#160;networking&#160;framework&#160;pro-</p>
<p style="position:absolute;top:882px;left:213px;white-space:nowrap" class="ft3912">vides&#160;colored&#160;networks&#160;(in&#160;which&#160;a&#160;different&#160;color&#160;means&#160;a&#160;different&#160;TVD)&#160;with<br/>security&#160;guarantees&#160;(such&#160;as&#160;confidentiality,&#160;integrity,&#160;and&#160;isolation)&#160;to&#160;higher&#160;lay-<br/>ers&#160;of&#160;the&#160;virtual&#160;infrastructure.&#160;Internally,&#160;the&#160;framework&#160;provides&#160;the&#160;security<br/>guarantees&#160;through&#160;admission&#160;control&#160;and&#160;the&#160;appropriate&#160;composition&#160;and&#160;config-<br/>uration&#160;of&#160;VLANs,&#160;VPNs,&#160;gateways,&#160;routers,&#160;and&#160;other&#160;networking&#160;elements.</p>
<p style="position:absolute;top:983px;left:238px;white-space:nowrap" class="ft3911">Ethernet&#160;frames&#160;originating&#160;from&#160;the&#160;source&#160;node&#160;are&#160;handled&#160;differently&#160;de-</p>
<p style="position:absolute;top:1003px;left:213px;white-space:nowrap" class="ft3912">pending&#160;on&#160;whether&#160;the&#160;source&#160;node&#160;is&#160;virtualized&#160;and&#160;whether&#160;the&#160;destination&#160;node<br/>resides&#160;in&#160;the&#160;same&#160;LAN.&#160;We&#160;illustrate&#160;frame-processing&#160;alternatives&#160;for&#160;different<br/>scenarios&#160;in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#23">3.3&#160;</a>on&#160;Page&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#23">23.&#160;</a>For&#160;a&#160;virtualized&#160;domain&#160;(e.g.,&#160;Host-1),&#160;each<br/>frame&#160;is&#160;tagged&#160;using&#160;the&#160;VLAN&#160;tagging&#160;module.&#160;If&#160;the&#160;destination&#160;of&#160;the&#160;Ether-</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft3916">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 40 -->
<a name="40"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page40-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter040.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft4011">40</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft4016">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft4012">net&#160;frame&#160;is&#160;a&#160;VM&#160;on&#160;another&#160;host&#160;that&#160;is&#160;connected&#160;to&#160;the&#160;same&#160;VLAN-capable<br/>switch&#160;(e.g.,&#160;another&#160;physical&#160;domain&#160;in&#160;a&#160;datacenter),&#160;this&#160;tag&#160;indicates&#160;the&#160;VLAN<br/>segment&#160;to&#160;which&#160;the&#160;VM&#160;belongs.&#160;If&#160;the&#160;destination&#160;is&#160;a&#160;host&#160;that&#160;resides&#160;out-<br/>side&#160;the&#160;LAN&#160;domain&#160;(e.g.,&#160;Host-4),&#160;the&#160;VLAN&#160;tag&#160;forces&#160;the&#160;switch&#160;to&#160;bridge<br/>the&#160;connection&#160;to&#160;an&#160;outgoing&#160;WAN&#160;line&#160;(indicated&#160;by&#160;the&#160;black&#160;(thick)&#160;line&#160;in&#160;the<br/>VLAN-enabled&#160;physical&#160;switch&#160;of&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#23">3.3)&#160;</a>that&#160;is&#160;connected&#160;to&#160;a&#160;router&#160;for&#160;fur-<br/>ther&#160;packet&#160;routing.&#160;In&#160;this&#160;case,&#160;the&#160;VM&#160;Ethernet&#160;frames&#160;are&#160;encapsulated&#160;in&#160;IP<br/>packets&#160;to&#160;indicate&#160;the&#160;VLAN&#160;segment&#160;membership.&#160;Lastly,&#160;if&#160;a&#160;non-virtualized<br/>physical&#160;host&#160;is&#160;directly&#160;connected&#160;to&#160;the&#160;VLAN&#160;switch&#160;(e.g.,&#160;Host-3),&#160;no&#160;tagging<br/>is&#160;required&#160;for&#160;the&#160;outgoing&#160;connection&#160;from&#160;the&#160;host’s&#160;domain.&#160;We&#160;provide&#160;more<br/>details&#160;on&#160;each&#160;processing&#160;step&#160;in&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#53">4.6,&#160;</a>where&#160;we&#160;describe&#160;our&#160;Xen-based<br/>prototype&#160;implementation.</p>
<p style="position:absolute;top:468px;left:141px;white-space:nowrap" class="ft4018"><b>4.4</b></p>
<p style="position:absolute;top:468px;left:189px;white-space:nowrap" class="ft4018"><b>TVD&#160;Infrastructure</b></p>
<p style="position:absolute;top:509px;left:141px;white-space:nowrap" class="ft4014"><b>4.4.1</b></p>
<p style="position:absolute;top:509px;left:195px;white-space:nowrap" class="ft4014"><b>Security&#160;Objectives&#160;and&#160;Policies</b></p>
<p style="position:absolute;top:541px;left:141px;white-space:nowrap" class="ft4015"><b>Security&#160;within&#160;a&#160;TVD</b></p>
<p style="position:absolute;top:541px;left:318px;white-space:nowrap" class="ft4011">Within&#160;a&#160;TVD,&#160;all&#160;VPEs&#160;can&#160;freely&#160;communicate&#160;with</p>
<p style="position:absolute;top:561px;left:141px;white-space:nowrap" class="ft4012">each&#160;other&#160;while&#160;observing&#160;TVD-specific&#160;integrity&#160;and&#160;confidentiality&#160;require-<br/>ments.&#160;For&#160;this&#160;purpose,&#160;intra-TVD&#160;communication&#160;may&#160;take&#160;place&#160;only&#160;over&#160;an<br/>authenticated&#160;and&#160;encrypted&#160;channel&#160;(e.g.,&#160;using&#160;IPsec),&#160;or&#160;alternatively,&#160;a&#160;trusted<br/>networ<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#40">k</a></p>
<p style="position:absolute;top:619px;left:194px;white-space:nowrap" class="ft4020"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#40">3</a></p>
<p style="position:absolute;top:622px;left:201px;white-space:nowrap" class="ft4011">.&#160;The&#160;trusted&#160;network&#160;alternative&#160;may&#160;be&#160;reasonable&#160;in&#160;some&#160;situations,</p>
<p style="position:absolute;top:643px;left:141px;white-space:nowrap" class="ft4011">e.g.,&#160;within&#160;a&#160;data&#160;center.</p>
<p style="position:absolute;top:663px;left:166px;white-space:nowrap" class="ft4011">TVD&#160;security&#160;requirements&#160;may&#160;have&#160;multiple&#160;facets:&#160;internal&#160;protection,</p>
<p style="position:absolute;top:683px;left:141px;white-space:nowrap" class="ft4011">membership&#160;requirements,&#160;etc.&#160;Given&#160;a&#160;set</p>
<p style="position:absolute;top:682px;left:448px;white-space:nowrap" class="ft4052">T</p>
<p style="position:absolute;top:683px;left:467px;white-space:nowrap" class="ft4011">of&#160;trusted&#160;virtual&#160;domains,&#160;one</p>
<p style="position:absolute;top:704px;left:141px;white-space:nowrap" class="ft4011">way&#160;of&#160;formalizing&#160;internal&#160;protection&#160;is&#160;to&#160;define&#160;a&#160;domain-protection&#160;function</p>
<p style="position:absolute;top:723px;left:141px;white-space:nowrap" class="ft4052">P</p>
<p style="position:absolute;top:723px;left:158px;white-space:nowrap" class="ft4054">:</p>
<p style="position:absolute;top:723px;left:167px;white-space:nowrap" class="ft4052">T</p>
<p style="position:absolute;top:723px;left:184px;white-space:nowrap" class="ft4055">→</p>
<p style="position:absolute;top:723px;left:205px;white-space:nowrap" class="ft4054">2</p>
<p style="position:absolute;top:720px;left:213px;white-space:nowrap" class="ft4056">{</p>
<p style="position:absolute;top:721px;left:219px;white-space:nowrap" class="ft4053">c,i,s</p>
<p style="position:absolute;top:720px;left:242px;white-space:nowrap" class="ft4056">}</p>
<p style="position:absolute;top:724px;left:249px;white-space:nowrap" class="ft4011">,&#160;which&#160;describes&#160;the&#160;subset&#160;of&#160;security&#160;objectives&#160;(confidentiality,</p>
<p style="position:absolute;top:744px;left:141px;white-space:nowrap" class="ft4012">integrity&#160;protection,&#160;and&#160;isolation)&#160;assigned&#160;to&#160;a&#160;particular&#160;TVD.&#160;Informally,&#160;in-<br/>tegrity&#160;means&#160;that&#160;a&#160;VPE&#160;cannot&#160;inject&#160;“bad”&#160;messages&#160;and&#160;pretend&#160;they&#160;are&#160;from<br/>another&#160;VPE.&#160;Confidentiality&#160;refers&#160;to&#160;the&#160;requirement&#160;that&#160;two&#160;honest&#160;VPEs&#160;(in<br/>the&#160;same&#160;TVD&#160;or&#160;different&#160;TVDs)&#160;can&#160;communicate&#160;with&#160;each&#160;other&#160;without&#160;an<br/>eavesdropper&#160;learning&#160;the&#160;content&#160;of&#160;the&#160;communication.&#160;Lastly,&#160;isolation&#160;refers&#160;to<br/>the&#160;requirement&#160;that&#160;resources&#160;used&#160;by&#160;two&#160;VPEs&#160;are&#160;logically&#160;separated&#160;and&#160;there<br/>is&#160;no&#160;unintended&#160;direct&#160;information&#160;flo<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#40">w</a></p>
<p style="position:absolute;top:863px;left:405px;white-space:nowrap" class="ft4020"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#40">4</a></p>
<p style="position:absolute;top:866px;left:411px;white-space:nowrap" class="ft4011">.</p>
<p style="position:absolute;top:887px;left:166px;white-space:nowrap" class="ft4011">Admission&#160;control&#160;and&#160;membership&#160;management&#160;are&#160;important&#160;aspects&#160;of</p>
<p style="position:absolute;top:907px;left:141px;white-space:nowrap" class="ft4012">TVDs.&#160;A&#160;TVD&#160;should&#160;be&#160;able&#160;to&#160;restrict&#160;its&#160;membership&#160;to&#160;machines&#160;that&#160;sat-<br/>isfy&#160;a&#160;given&#160;set&#160;of&#160;conditions.&#160;For&#160;example,&#160;a&#160;TVD&#160;may&#160;require&#160;certificates&#160;stating<br/>that&#160;the&#160;platform&#160;will&#160;satisfy&#160;certain&#160;properties&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">[SS05]&#160;</a>before&#160;allowing&#160;the&#160;platform<br/>to&#160;join&#160;the&#160;TVD.&#160;One&#160;way&#160;of&#160;formalizing&#160;the&#160;membership&#160;requirements&#160;is&#160;to&#160;define</p>
<p style="position:absolute;top:997px;left:160px;white-space:nowrap" class="ft4021">3</p>
<p style="position:absolute;top:1000px;left:165px;white-space:nowrap" class="ft4022">A&#160;network&#160;is&#160;called&#160;<i>trusted&#160;</i>with&#160;respect&#160;to&#160;a&#160;TVD&#160;security&#160;objective&#160;if&#160;it&#160;is&#160;trusted&#160;to&#160;enforce</p>
<p style="position:absolute;top:1017px;left:141px;white-space:nowrap" class="ft4060">the&#160;given&#160;objective&#160;transparently.&#160;For&#160;example,&#160;a&#160;server-internal&#160;Ethernet&#160;can&#160;often&#160;be&#160;assumed&#160;to<br/>provide&#160;confidentiality&#160;without&#160;any&#160;need&#160;for&#160;encryption.</p>
<p style="position:absolute;top:1047px;left:160px;white-space:nowrap" class="ft4021">4</p>
<p style="position:absolute;top:1050px;left:165px;white-space:nowrap" class="ft4022">Addressing&#160;covert&#160;channels&#160;that&#160;utilise&#160;indirect&#160;information&#160;flow&#160;would&#160;exceed&#160;the&#160;scope&#160;of&#160;this</p>
<p style="position:absolute;top:1066px;left:141px;white-space:nowrap" class="ft4022">report.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft4016">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 41 -->
<a name="41"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page41-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter041.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft4123">CHAPTER&#160;4.&#160;AUTOMATED&#160;PROVISIONING&#160;OF&#160;SECURE&#160;VIRTUAL&#160;NETWORKS</p>
<p style="position:absolute;top:142px;left:786px;white-space:nowrap" class="ft4111">41</p>
<p style="position:absolute;top:205px;left:276px;white-space:nowrap" class="ft4111">Table&#160;4.1:&#160;Example&#160;TVD&#160;Policy&#160;Specification&#160;for&#160;Three&#160;TVDs</p>
<p style="position:absolute;top:225px;left:319px;white-space:nowrap" class="ft4111">Flow&#160;Control</p>
<p style="position:absolute;top:235px;left:498px;white-space:nowrap" class="ft4111">Co-Location</p>
<p style="position:absolute;top:235px;left:596px;white-space:nowrap" class="ft4111">Multi-TVD</p>
<p style="position:absolute;top:245px;left:245px;white-space:nowrap" class="ft4111">from/to</p>
<p style="position:absolute;top:244px;left:309px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:251px;left:348px;white-space:nowrap" class="ft4153">α</p>
<p style="position:absolute;top:244px;left:372px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:251px;left:410px;white-space:nowrap" class="ft4153">β</p>
<p style="position:absolute;top:244px;left:434px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:251px;left:472px;white-space:nowrap" class="ft4153">γ</p>
<p style="position:absolute;top:265px;left:247px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:271px;left:285px;white-space:nowrap" class="ft4153">α</p>
<p style="position:absolute;top:266px;left:325px;white-space:nowrap" class="ft4157">1</p>
<p style="position:absolute;top:263px;left:334px;white-space:nowrap" class="ft4156">∗</p>
<p style="position:absolute;top:266px;left:387px;white-space:nowrap" class="ft4157">0</p>
<p style="position:absolute;top:263px;left:396px;white-space:nowrap" class="ft4156">∗</p>
<p style="position:absolute;top:265px;left:444px;white-space:nowrap" class="ft4152">P</p>
<p style="position:absolute;top:271px;left:454px;white-space:nowrap" class="ft4153">αγ</p>
<p style="position:absolute;top:265px;left:516px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:272px;left:554px;white-space:nowrap" class="ft4153">β</p>
<p style="position:absolute;top:265px;left:610px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:271px;left:649px;white-space:nowrap" class="ft4153">γ</p>
<p style="position:absolute;top:286px;left:247px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:292px;left:286px;white-space:nowrap" class="ft4153">β</p>
<p style="position:absolute;top:286px;left:325px;white-space:nowrap" class="ft4157">0</p>
<p style="position:absolute;top:283px;left:334px;white-space:nowrap" class="ft4156">∗</p>
<p style="position:absolute;top:286px;left:387px;white-space:nowrap" class="ft4157">1</p>
<p style="position:absolute;top:283px;left:396px;white-space:nowrap" class="ft4156">∗</p>
<p style="position:absolute;top:286px;left:452px;white-space:nowrap" class="ft4157">0</p>
<p style="position:absolute;top:286px;left:516px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:292px;left:554px;white-space:nowrap" class="ft4153">α</p>
<p style="position:absolute;top:286px;left:614px;white-space:nowrap" class="ft4157">none</p>
<p style="position:absolute;top:306px;left:248px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:312px;left:286px;white-space:nowrap" class="ft4153">γ</p>
<p style="position:absolute;top:306px;left:319px;white-space:nowrap" class="ft4152">P</p>
<p style="position:absolute;top:312px;left:330px;white-space:nowrap" class="ft4153">γα</p>
<p style="position:absolute;top:306px;left:382px;white-space:nowrap" class="ft4152">P</p>
<p style="position:absolute;top:312px;left:392px;white-space:nowrap" class="ft4153">γβ</p>
<p style="position:absolute;top:307px;left:452px;white-space:nowrap" class="ft4157">1</p>
<p style="position:absolute;top:307px;left:530px;white-space:nowrap" class="ft4157">all</p>
<p style="position:absolute;top:306px;left:610px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:312px;left:648px;white-space:nowrap" class="ft4153">α</p>
<p style="position:absolute;top:360px;left:213px;white-space:nowrap" class="ft4111">a&#160;function</p>
<p style="position:absolute;top:359px;left:285px;white-space:nowrap" class="ft4152">M</p>
<p style="position:absolute;top:359px;left:309px;white-space:nowrap" class="ft4154">:</p>
<p style="position:absolute;top:359px;left:319px;white-space:nowrap" class="ft4152">T</p>
<p style="position:absolute;top:359px;left:337px;white-space:nowrap" class="ft4155">→</p>
<p style="position:absolute;top:359px;left:360px;white-space:nowrap" class="ft4154">2</p>
<p style="position:absolute;top:357px;left:368px;white-space:nowrap" class="ft4153">P</p>
<p style="position:absolute;top:360px;left:379px;white-space:nowrap" class="ft4111">,&#160;where</p>
<p style="position:absolute;top:359px;left:433px;white-space:nowrap" class="ft4154">(</p>
<p style="position:absolute;top:359px;left:440px;white-space:nowrap" class="ft4152">P,</p>
<p style="position:absolute;top:359px;left:458px;white-space:nowrap" class="ft4155">≤</p>
<p style="position:absolute;top:359px;left:471px;white-space:nowrap" class="ft4154">)</p>
<p style="position:absolute;top:360px;left:482px;white-space:nowrap" class="ft4111">is&#160;a&#160;lattice&#160;of&#160;security&#160;properties.&#160;A&#160;ma-</p>
<p style="position:absolute;top:380px;left:213px;white-space:nowrap" class="ft4111">chine</p>
<p style="position:absolute;top:379px;left:253px;white-space:nowrap" class="ft4152">m</p>
<p style="position:absolute;top:380px;left:272px;white-space:nowrap" class="ft4111">with&#160;a&#160;set</p>
<p style="position:absolute;top:379px;left:341px;white-space:nowrap" class="ft4152">p</p>
<p style="position:absolute;top:385px;left:350px;white-space:nowrap" class="ft4153">m</p>
<p style="position:absolute;top:380px;left:367px;white-space:nowrap" class="ft4111">of&#160;security&#160;properties&#160;may&#160;be&#160;permitted&#160;to&#160;join&#160;the&#160;TVD</p>
<p style="position:absolute;top:379px;left:745px;white-space:nowrap" class="ft4152">t</p>
<p style="position:absolute;top:401px;left:213px;white-space:nowrap" class="ft4111">iff</p>
<p style="position:absolute;top:400px;left:232px;white-space:nowrap" class="ft4155">∀</p>
<p style="position:absolute;top:400px;left:241px;white-space:nowrap" class="ft4152">p</p>
<p style="position:absolute;top:400px;left:254px;white-space:nowrap" class="ft4155">∈</p>
<p style="position:absolute;top:400px;left:270px;white-space:nowrap" class="ft4152">M</p>
<p style="position:absolute;top:400px;left:288px;white-space:nowrap" class="ft4154">(</p>
<p style="position:absolute;top:400px;left:294px;white-space:nowrap" class="ft4152">t</p>
<p style="position:absolute;top:400px;left:300px;white-space:nowrap" class="ft4154">)&#160;:</p>
<p style="position:absolute;top:400px;left:321px;white-space:nowrap" class="ft4155">∃</p>
<p style="position:absolute;top:400px;left:330px;white-space:nowrap" class="ft4152">p</p>
<p style="position:absolute;top:397px;left:338px;white-space:nowrap" class="ft4156">′</p>
<p style="position:absolute;top:400px;left:347px;white-space:nowrap" class="ft4155">∈</p>
<p style="position:absolute;top:400px;left:363px;white-space:nowrap" class="ft4152">p</p>
<p style="position:absolute;top:406px;left:371px;white-space:nowrap" class="ft4153">m</p>
<p style="position:absolute;top:401px;left:387px;white-space:nowrap" class="ft4111">such&#160;that</p>
<p style="position:absolute;top:400px;left:450px;white-space:nowrap" class="ft4152">p</p>
<p style="position:absolute;top:397px;left:459px;white-space:nowrap" class="ft4156">′</p>
<p style="position:absolute;top:400px;left:468px;white-space:nowrap" class="ft4155">≥</p>
<p style="position:absolute;top:400px;left:485px;white-space:nowrap" class="ft4152">p</p>
<p style="position:absolute;top:401px;left:494px;white-space:nowrap" class="ft4111">.&#160;In&#160;other&#160;words,</p>
<p style="position:absolute;top:400px;left:607px;white-space:nowrap" class="ft4152">m</p>
<p style="position:absolute;top:401px;left:626px;white-space:nowrap" class="ft4111">is&#160;permitted&#160;to&#160;join</p>
<p style="position:absolute;top:420px;left:213px;white-space:nowrap" class="ft4152">t</p>
<p style="position:absolute;top:421px;left:222px;white-space:nowrap" class="ft4111">iff&#160;there&#160;is&#160;at&#160;least&#160;one&#160;property&#160;of</p>
<p style="position:absolute;top:420px;left:447px;white-space:nowrap" class="ft4152">m</p>
<p style="position:absolute;top:421px;left:466px;white-space:nowrap" class="ft4111">that&#160;satisfies&#160;each&#160;security&#160;requirement&#160;of</p>
<p style="position:absolute;top:420px;left:741px;white-space:nowrap" class="ft4152">t</p>
<p style="position:absolute;top:421px;left:746px;white-space:nowrap" class="ft4111">.</p>
<p style="position:absolute;top:441px;left:238px;white-space:nowrap" class="ft4111">Member&#160;VPEs&#160;may&#160;be&#160;required&#160;to&#160;prove&#160;their&#160;eligibility&#160;on&#160;a&#160;continual&#160;basis</p>
<p style="position:absolute;top:462px;left:213px;white-space:nowrap" class="ft4112">either&#160;periodically&#160;or&#160;on-demand.&#160;For&#160;example,&#160;members&#160;may&#160;be&#160;required&#160;to&#160;pos-<br/>sess&#160;certain&#160;credentials&#160;such&#160;as&#160;certificates&#160;or&#160;may&#160;be&#160;required&#160;to&#160;prove&#160;that&#160;they<br/>satisfy&#160;some&#160;integrity&#160;properties&#160;(property-based&#160;attestation&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">[SS05]</a>).&#160;The&#160;condi-<br/>tions&#160;may&#160;vary&#160;for&#160;different&#160;types&#160;of&#160;VPEs.&#160;For&#160;example,&#160;servers&#160;and&#160;workstations<br/>may&#160;have&#160;different&#160;TVD&#160;membership&#160;requirements.&#160;Some&#160;VPEs&#160;may&#160;be&#160;part&#160;of<br/>more&#160;than&#160;one&#160;TVDs,&#160;in&#160;which&#160;case&#160;they&#160;would&#160;have&#160;to&#160;satisfy&#160;the&#160;membership<br/>requirements&#160;of&#160;all&#160;the&#160;TVDs&#160;they&#160;are&#160;part&#160;of.&#160;For&#160;a&#160;VPE&#160;to&#160;simultaneously&#160;be&#160;a<br/>member&#160;of&#160;multiple&#160;TVDs,&#160;the&#160;individual&#160;TVD&#160;membership&#160;requirements&#160;must&#160;be<br/>conflict-free.</p>
<p style="position:absolute;top:668px;left:213px;white-space:nowrap" class="ft4115"><b>Security&#160;across&#160;TVDs</b></p>
<p style="position:absolute;top:668px;left:378px;white-space:nowrap" class="ft4111">Inter-TVD&#160;security&#160;objectives&#160;are&#160;independently&#160;enforced</p>
<p style="position:absolute;top:689px;left:213px;white-space:nowrap" class="ft4112">by&#160;each&#160;of&#160;the&#160;individual&#160;TVDs&#160;involved.&#160;To&#160;facilitate&#160;such&#160;independent&#160;enforce-<br/>ment,&#160;global&#160;security&#160;objectives&#160;are&#160;decomposed&#160;into&#160;per-TVD&#160;security&#160;policies.<br/>The&#160;advantage&#160;of&#160;such&#160;a&#160;decentralized&#160;enforcement&#160;approach&#160;is&#160;that&#160;each&#160;TVD&#160;is<br/>shielded&#160;from&#160;security&#160;failures&#160;in&#160;other&#160;TVDs.&#160;Security&#160;objectives&#160;may&#160;take&#160;dif-<br/>ferent&#160;forms;&#160;here,&#160;we&#160;focus&#160;on&#160;information&#160;flow&#160;control&#160;among&#160;the&#160;TVDs,&#160;multi-<br/>TVD&#160;memberships,&#160;and&#160;co-hosting&#160;restrictions.</p>
<p style="position:absolute;top:811px;left:238px;white-space:nowrap" class="ft4111">An&#160;information&#160;flow&#160;control&#160;matrix&#160;is&#160;a&#160;simple&#160;way&#160;of&#160;formalizing&#160;the&#160;system-</p>
<p style="position:absolute;top:831px;left:213px;white-space:nowrap" class="ft4111">wide&#160;flow&#160;control&#160;objectives.&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#41">4.1&#160;</a>shows&#160;a&#160;sample&#160;matrix&#160;for&#160;three&#160;TVDs:</p>
<p style="position:absolute;top:850px;left:213px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:856px;left:251px;white-space:nowrap" class="ft4153">α</p>
<p style="position:absolute;top:851px;left:260px;white-space:nowrap" class="ft4111">,</p>
<p style="position:absolute;top:850px;left:269px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:857px;left:308px;white-space:nowrap" class="ft4153">β</p>
<p style="position:absolute;top:851px;left:316px;white-space:nowrap" class="ft4111">,&#160;and</p>
<p style="position:absolute;top:850px;left:354px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:856px;left:392px;white-space:nowrap" class="ft4153">γ</p>
<p style="position:absolute;top:851px;left:400px;white-space:nowrap" class="ft4111">.&#160;Each&#160;matrix&#160;element&#160;represents&#160;a&#160;policy&#160;specifying</p>
<p style="position:absolute;top:872px;left:213px;white-space:nowrap" class="ft4112">both&#160;permitted&#160;inbound&#160;and&#160;outbound&#160;flows&#160;between&#160;a&#160;pair&#160;of&#160;TVDs,&#160;as&#160;enforced<br/>by&#160;one&#160;of&#160;the&#160;TVDs.&#160;The</p>
<p style="position:absolute;top:892px;left:379px;white-space:nowrap" class="ft4157">1</p>
<p style="position:absolute;top:892px;left:392px;white-space:nowrap" class="ft4111">elements&#160;along&#160;the&#160;matrix&#160;diagonal&#160;convey&#160;the&#160;fact&#160;that</p>
<p style="position:absolute;top:912px;left:213px;white-space:nowrap" class="ft4111">there&#160;is&#160;free&#160;information&#160;flow&#160;within&#160;each&#160;TVD.&#160;The</p>
<p style="position:absolute;top:912px;left:564px;white-space:nowrap" class="ft4157">0</p>
<p style="position:absolute;top:912px;left:578px;white-space:nowrap" class="ft4111">elements&#160;in&#160;the&#160;matrix&#160;are</p>
<p style="position:absolute;top:933px;left:213px;white-space:nowrap" class="ft4112">used&#160;to&#160;specify&#160;that&#160;there&#160;should&#160;be&#160;no&#160;information&#160;flow&#160;between&#160;two&#160;TVDs,&#160;e.g.,<br/>between</p>
<p style="position:absolute;top:952px;left:271px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:958px;left:310px;white-space:nowrap" class="ft4153">α</p>
<p style="position:absolute;top:953px;left:323px;white-space:nowrap" class="ft4111">and</p>
<p style="position:absolute;top:952px;left:350px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:958px;left:389px;white-space:nowrap" class="ft4153">β</p>
<p style="position:absolute;top:953px;left:398px;white-space:nowrap" class="ft4111">.</p>
<p style="position:absolute;top:973px;left:238px;white-space:nowrap" class="ft4111">Information&#160;flow&#160;control&#160;from&#160;one&#160;TVD&#160;to&#160;another&#160;is&#160;specified&#160;by&#160;two&#160;policies,</p>
<p style="position:absolute;top:994px;left:213px;white-space:nowrap" class="ft4111">with&#160;each&#160;TVD&#160;independently&#160;enforcing&#160;one.&#160;For&#160;example,</p>
<p style="position:absolute;top:992px;left:605px;white-space:nowrap" class="ft4152">P</p>
<p style="position:absolute;top:999px;left:615px;white-space:nowrap" class="ft4153">αβ</p>
<p style="position:absolute;top:994px;left:632px;white-space:nowrap" class="ft4111">,&#160;which&#160;represents</p>
<p style="position:absolute;top:1014px;left:213px;white-space:nowrap" class="ft4111">the&#160;information&#160;flow&#160;policy&#160;from</p>
<p style="position:absolute;top:1013px;left:442px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:1019px;left:481px;white-space:nowrap" class="ft4153">α</p>
<p style="position:absolute;top:1014px;left:496px;white-space:nowrap" class="ft4111">to</p>
<p style="position:absolute;top:1013px;left:515px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:1019px;left:554px;white-space:nowrap" class="ft4153">β</p>
<p style="position:absolute;top:1014px;left:562px;white-space:nowrap" class="ft4111">,&#160;would&#160;consist&#160;of&#160;two&#160;sub-</p>
<p style="position:absolute;top:1034px;left:213px;white-space:nowrap" class="ft4111">policies:&#160;(1)</p>
<p style="position:absolute;top:1033px;left:301px;white-space:nowrap" class="ft4152">P</p>
<p style="position:absolute;top:1031px;left:314px;white-space:nowrap" class="ft4128">in</p>
<p style="position:absolute;top:1042px;left:312px;white-space:nowrap" class="ft4153">αβ</p>
<p style="position:absolute;top:1034px;left:328px;white-space:nowrap" class="ft4111">,&#160;which&#160;would&#160;be&#160;enforced&#160;by&#160;the&#160;recipient&#160;TVD,</p>
<p style="position:absolute;top:1033px;left:670px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:1040px;left:708px;white-space:nowrap" class="ft4153">β</p>
<p style="position:absolute;top:1034px;left:717px;white-space:nowrap" class="ft4111">,&#160;and</p>
<p style="position:absolute;top:1056px;left:213px;white-space:nowrap" class="ft4111">is&#160;concerned&#160;with&#160;the&#160;integrity&#160;protection&#160;of</p>
<p style="position:absolute;top:1055px;left:513px;white-space:nowrap" class="ft4152">T&#160;V&#160;D</p>
<p style="position:absolute;top:1062px;left:551px;white-space:nowrap" class="ft4153">β</p>
<p style="position:absolute;top:1056px;left:560px;white-space:nowrap" class="ft4111">,&#160;and&#160;(2)</p>
<p style="position:absolute;top:1055px;left:623px;white-space:nowrap" class="ft4152">P</p>
<p style="position:absolute;top:1053px;left:636px;white-space:nowrap" class="ft4128">out</p>
<p style="position:absolute;top:1064px;left:633px;white-space:nowrap" class="ft4153">αβ</p>
<p style="position:absolute;top:1056px;left:655px;white-space:nowrap" class="ft4111">,&#160;which&#160;would</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft4116">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 42 -->
<a name="42"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page42-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter042.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft4211">42</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft4216">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft4211">be&#160;enforced&#160;by&#160;the&#160;sender&#160;TVD,</p>
<p style="position:absolute;top:194px;left:356px;white-space:nowrap" class="ft4252">T&#160;V&#160;D</p>
<p style="position:absolute;top:201px;left:395px;white-space:nowrap" class="ft4253">α</p>
<p style="position:absolute;top:196px;left:404px;white-space:nowrap" class="ft4211">,&#160;and&#160;is&#160;concerned&#160;with&#160;the&#160;confidentiality</p>
<p style="position:absolute;top:216px;left:141px;white-space:nowrap" class="ft4211">protection&#160;of</p>
<p style="position:absolute;top:215px;left:229px;white-space:nowrap" class="ft4252">T&#160;V&#160;D</p>
<p style="position:absolute;top:221px;left:268px;white-space:nowrap" class="ft4253">α</p>
<p style="position:absolute;top:216px;left:276px;white-space:nowrap" class="ft4211">.&#160;The&#160;distribution&#160;of&#160;policy&#160;enforcement&#160;to&#160;both&#160;TVDs&#160;means</p>
<p style="position:absolute;top:236px;left:141px;white-space:nowrap" class="ft4212">that&#160;the&#160;recipient&#160;TVD&#160;does&#160;not&#160;have&#160;to&#160;rely&#160;solely&#160;on&#160;elements&#160;of&#160;the&#160;sender&#160;TVD<br/>to&#160;enforce&#160;rules&#160;regarding&#160;its&#160;inbound&#160;traffic.</p>
<p style="position:absolute;top:277px;left:166px;white-space:nowrap" class="ft4211">Care&#160;must&#160;be&#160;taken&#160;to&#160;ensure&#160;that&#160;the&#160;pair-wise&#160;TVD&#160;policies&#160;specified&#160;in&#160;the</p>
<p style="position:absolute;top:297px;left:141px;white-space:nowrap" class="ft4212">information&#160;flow&#160;control&#160;matrix&#160;do&#160;not&#160;accidentally&#160;contradict&#160;each&#160;other&#160;or&#160;allow<br/>undesired&#160;indirect&#160;flow.&#160;E.g.,&#160;if</p>
<p style="position:absolute;top:316px;left:352px;white-space:nowrap" class="ft4252">P</p>
<p style="position:absolute;top:323px;left:363px;white-space:nowrap" class="ft4253">αβ</p>
<p style="position:absolute;top:316px;left:385px;white-space:nowrap" class="ft4254">=</p>
<p style="position:absolute;top:317px;left:404px;white-space:nowrap" class="ft4257">0</p>
<p style="position:absolute;top:317px;left:418px;white-space:nowrap" class="ft4211">in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#41">4.1,&#160;</a>then</p>
<p style="position:absolute;top:316px;left:545px;white-space:nowrap" class="ft4252">P</p>
<p style="position:absolute;top:323px;left:555px;white-space:nowrap" class="ft4253">αγ</p>
<p style="position:absolute;top:317px;left:576px;white-space:nowrap" class="ft4211">and</p>
<p style="position:absolute;top:316px;left:604px;white-space:nowrap" class="ft4252">P</p>
<p style="position:absolute;top:323px;left:615px;white-space:nowrap" class="ft4253">γβ</p>
<p style="position:absolute;top:317px;left:635px;white-space:nowrap" class="ft4211">should</p>
<p style="position:absolute;top:338px;left:141px;white-space:nowrap" class="ft4211">not&#160;be&#160;inadvertedly</p>
<p style="position:absolute;top:338px;left:269px;white-space:nowrap" class="ft4257">1</p>
<p style="position:absolute;top:338px;left:279px;white-space:nowrap" class="ft4211">.&#160;Otherwise,&#160;indirect&#160;information&#160;flow&#160;from</p>
<p style="position:absolute;top:337px;left:564px;white-space:nowrap" class="ft4252">T&#160;V&#160;D</p>
<p style="position:absolute;top:343px;left:603px;white-space:nowrap" class="ft4253">α</p>
<p style="position:absolute;top:338px;left:616px;white-space:nowrap" class="ft4211">to</p>
<p style="position:absolute;top:337px;left:632px;white-space:nowrap" class="ft4252">T&#160;V&#160;D</p>
<p style="position:absolute;top:343px;left:670px;white-space:nowrap" class="ft4253">β</p>
<p style="position:absolute;top:358px;left:141px;white-space:nowrap" class="ft4211">would&#160;be&#160;unconstrained,&#160;which&#160;would&#160;contradict&#160;with</p>
<p style="position:absolute;top:357px;left:497px;white-space:nowrap" class="ft4252">P</p>
<p style="position:absolute;top:363px;left:507px;white-space:nowrap" class="ft4253">αβ</p>
<p style="position:absolute;top:358px;left:524px;white-space:nowrap" class="ft4211">.</p>
<p style="position:absolute;top:378px;left:166px;white-space:nowrap" class="ft4211">Part&#160;of&#160;the&#160;TVD&#160;policy&#160;is&#160;the&#160;<i>co-location&#160;policy</i>,&#160;which&#160;specifies&#160;which&#160;TVD</p>
<p style="position:absolute;top:399px;left:141px;white-space:nowrap" class="ft4212">VPEs&#160;are&#160;allowed&#160;to&#160;share&#160;the&#160;same&#160;physical&#160;platform.&#160;There&#160;may&#160;be&#160;three&#160;types<br/>of&#160;co-location&#160;policies:</p>
<p style="position:absolute;top:419px;left:306px;white-space:nowrap" class="ft4257">none</p>
<p style="position:absolute;top:419px;left:345px;white-space:nowrap" class="ft4211">,</p>
<p style="position:absolute;top:419px;left:356px;white-space:nowrap" class="ft4257">specific</p>
<p style="position:absolute;top:419px;left:415px;white-space:nowrap" class="ft4211">,&#160;or</p>
<p style="position:absolute;top:419px;left:446px;white-space:nowrap" class="ft4257">all</p>
<p style="position:absolute;top:419px;left:466px;white-space:nowrap" class="ft4211">.&#160;In&#160;the&#160;first&#160;type&#160;(i.e.,</p>
<p style="position:absolute;top:419px;left:630px;white-space:nowrap" class="ft4257">none</p>
<p style="position:absolute;top:419px;left:669px;white-space:nowrap" class="ft4211">),</p>
<p style="position:absolute;top:439px;left:141px;white-space:nowrap" class="ft4212">a&#160;VPE&#160;belonging&#160;to&#160;the&#160;TVD&#160;cannot&#160;be&#160;co-located&#160;on&#160;a&#160;platform&#160;hosting&#160;VPEs<br/>belonging&#160;to&#160;other&#160;TVDs,&#160;e.g.,&#160;a&#160;top&#160;secret&#160;TVD&#160;in&#160;a&#160;MLS&#160;military&#160;infrastructure.<br/>In&#160;the&#160;second&#160;case&#160;(i.e.,</p>
<p style="position:absolute;top:480px;left:310px;white-space:nowrap" class="ft4257">specific</p>
<p style="position:absolute;top:480px;left:369px;white-space:nowrap" class="ft4211">),&#160;the&#160;policy&#160;specifies&#160;a&#160;set&#160;of&#160;<i>allowed&#160;TVDs</i>.</p>
<p style="position:absolute;top:501px;left:141px;white-space:nowrap" class="ft4212">A&#160;VPE&#160;generally&#160;cannot&#160;be&#160;co-located&#160;on&#160;a&#160;platform&#160;hosting&#160;VPEs&#160;belonging&#160;to<br/>other&#160;TVDs,&#160;unless&#160;the&#160;only&#160;TVDs&#160;on&#160;the&#160;platform&#160;are&#160;those&#160;in&#160;the&#160;allowed&#160;set.&#160;For<br/>example,&#160;the&#160;policies&#160;in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#41">4.1&#160;</a>specify&#160;that&#160;the&#160;allowed&#160;set&#160;for</p>
<p style="position:absolute;top:540px;left:573px;white-space:nowrap" class="ft4252">T&#160;V&#160;D</p>
<p style="position:absolute;top:546px;left:612px;white-space:nowrap" class="ft4253">α</p>
<p style="position:absolute;top:541px;left:624px;white-space:nowrap" class="ft4211">includes</p>
<p style="position:absolute;top:560px;left:141px;white-space:nowrap" class="ft4252">T&#160;V&#160;D</p>
<p style="position:absolute;top:567px;left:179px;white-space:nowrap" class="ft4253">β</p>
<p style="position:absolute;top:561px;left:188px;white-space:nowrap" class="ft4211">,&#160;and&#160;vice&#160;versa;&#160;hence,&#160;VPEs&#160;belonging&#160;to</p>
<p style="position:absolute;top:560px;left:478px;white-space:nowrap" class="ft4252">T&#160;V&#160;D</p>
<p style="position:absolute;top:567px;left:516px;white-space:nowrap" class="ft4253">α</p>
<p style="position:absolute;top:561px;left:530px;white-space:nowrap" class="ft4211">and</p>
<p style="position:absolute;top:560px;left:559px;white-space:nowrap" class="ft4252">T&#160;V&#160;D</p>
<p style="position:absolute;top:567px;left:597px;white-space:nowrap" class="ft4253">β</p>
<p style="position:absolute;top:561px;left:610px;white-space:nowrap" class="ft4211">can&#160;be&#160;co-</p>
<p style="position:absolute;top:582px;left:141px;white-space:nowrap" class="ft4211">located.&#160;In&#160;the&#160;third&#160;type&#160;(i.e.,</p>
<p style="position:absolute;top:581px;left:352px;white-space:nowrap" class="ft4257">all</p>
<p style="position:absolute;top:582px;left:372px;white-space:nowrap" class="ft4211">),&#160;there&#160;are&#160;no&#160;co-location&#160;restrictions;&#160;a&#160;VPE</p>
<p style="position:absolute;top:602px;left:141px;white-space:nowrap" class="ft4211">belonging&#160;to&#160;a&#160;TVD&#160;can&#160;be&#160;co-located&#160;with&#160;VPEs&#160;of&#160;any&#160;other&#160;TVD.</p>
<p style="position:absolute;top:622px;left:166px;white-space:nowrap" class="ft4211">The&#160;TVD&#160;policy&#160;also&#160;includes&#160;<i>multi-TVD&#160;membership&#160;policy</i>,&#160;which&#160;specifies</p>
<p style="position:absolute;top:643px;left:141px;white-space:nowrap" class="ft4212">whether&#160;a&#160;VPE&#160;can&#160;hold&#160;multiple&#160;TVD&#160;memberships&#160;simultaneously.&#160;Like&#160;co-<br/>location&#160;policies,&#160;there&#160;may&#160;be&#160;three&#160;types&#160;of&#160;multi-TVD&#160;membership&#160;policies:</p>
<p style="position:absolute;top:683px;left:141px;white-space:nowrap" class="ft4257">none</p>
<p style="position:absolute;top:683px;left:180px;white-space:nowrap" class="ft4211">,</p>
<p style="position:absolute;top:683px;left:188px;white-space:nowrap" class="ft4257">specific</p>
<p style="position:absolute;top:683px;left:247px;white-space:nowrap" class="ft4211">,&#160;or</p>
<p style="position:absolute;top:683px;left:273px;white-space:nowrap" class="ft4257">all</p>
<p style="position:absolute;top:683px;left:292px;white-space:nowrap" class="ft4211">.&#160;In&#160;the&#160;first&#160;type&#160;(i.e.,</p>
<p style="position:absolute;top:683px;left:437px;white-space:nowrap" class="ft4257">none</p>
<p style="position:absolute;top:682px;left:476px;white-space:nowrap" class="ft4254">)</p>
<p style="position:absolute;top:683px;left:482px;white-space:nowrap" class="ft4211">,&#160;a&#160;VPE&#160;belonging&#160;to&#160;the&#160;TVD</p>
<p style="position:absolute;top:704px;left:141px;white-space:nowrap" class="ft4211">cannot&#160;simultaneously&#160;be&#160;a&#160;member&#160;of&#160;any&#160;other&#160;TVD,&#160;e.g.,</p>
<p style="position:absolute;top:703px;left:536px;white-space:nowrap" class="ft4252">T&#160;V&#160;D</p>
<p style="position:absolute;top:709px;left:575px;white-space:nowrap" class="ft4253">α</p>
<p style="position:absolute;top:704px;left:588px;white-space:nowrap" class="ft4211">and</p>
<p style="position:absolute;top:703px;left:615px;white-space:nowrap" class="ft4252">T&#160;V&#160;D</p>
<p style="position:absolute;top:709px;left:654px;white-space:nowrap" class="ft4253">β</p>
<p style="position:absolute;top:704px;left:666px;white-space:nowrap" class="ft4211">in</p>
<p style="position:absolute;top:724px;left:141px;white-space:nowrap" class="ft4211">Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#41">4.1.&#160;</a>In&#160;the&#160;second&#160;type&#160;(i.e.,</p>
<p style="position:absolute;top:724px;left:374px;white-space:nowrap" class="ft4257">specific</p>
<p style="position:absolute;top:724px;left:433px;white-space:nowrap" class="ft4211">),&#160;the&#160;policy&#160;specifies&#160;a&#160;set&#160;of&#160;<i>allowed</i></p>
<p style="position:absolute;top:744px;left:141px;white-space:nowrap" class="ft4212"><i>TVDs</i>.&#160;A&#160;VPE&#160;belonging&#160;to&#160;the&#160;TVD&#160;generally&#160;cannot&#160;simultaneously&#160;be&#160;a&#160;member<br/>of&#160;any&#160;other&#160;TVD,&#160;except&#160;for&#160;TVDs&#160;in&#160;the&#160;allowed&#160;set.&#160;In&#160;the&#160;third&#160;type&#160;(i.e.</p>
<p style="position:absolute;top:764px;left:650px;white-space:nowrap" class="ft4257">all</p>
<p style="position:absolute;top:765px;left:669px;white-space:nowrap" class="ft4211">),</p>
<p style="position:absolute;top:785px;left:141px;white-space:nowrap" class="ft4211">a&#160;VPE&#160;belonging&#160;to&#160;the&#160;TVD&#160;can&#160;simultaneously&#160;be&#160;a&#160;member&#160;of&#160;any&#160;other&#160;TVD.</p>
<p style="position:absolute;top:805px;left:166px;white-space:nowrap" class="ft4211">At&#160;the&#160;time&#160;of&#160;TVD&#160;policy&#160;specification,&#160;it&#160;is&#160;important&#160;to&#160;ensure&#160;that&#160;there</p>
<p style="position:absolute;top:826px;left:141px;white-space:nowrap" class="ft4212">is&#160;no&#160;conflict&#160;between&#160;the&#160;various&#160;policy&#160;forms,&#160;e.g.,&#160;if&#160;the&#160;information&#160;flow&#160;con-<br/>trol&#160;policy&#160;specifies&#160;that&#160;there&#160;should&#160;be&#160;no&#160;information&#160;flow&#160;between</p>
<p style="position:absolute;top:845px;left:603px;white-space:nowrap" class="ft4252">T&#160;V&#160;D</p>
<p style="position:absolute;top:851px;left:642px;white-space:nowrap" class="ft4253">α</p>
<p style="position:absolute;top:846px;left:655px;white-space:nowrap" class="ft4211">and</p>
<p style="position:absolute;top:865px;left:141px;white-space:nowrap" class="ft4252">T&#160;V&#160;D</p>
<p style="position:absolute;top:872px;left:179px;white-space:nowrap" class="ft4253">β</p>
<p style="position:absolute;top:866px;left:188px;white-space:nowrap" class="ft4211">,&#160;then&#160;the&#160;multi-TVD&#160;membership&#160;restrictions&#160;cannot&#160;allow&#160;any&#160;VM&#160;to&#160;si-</p>
<p style="position:absolute;top:887px;left:141px;white-space:nowrap" class="ft4211">multaneously&#160;be&#160;a&#160;member&#160;of</p>
<p style="position:absolute;top:886px;left:339px;white-space:nowrap" class="ft4252">T&#160;V&#160;D</p>
<p style="position:absolute;top:892px;left:378px;white-space:nowrap" class="ft4253">α</p>
<p style="position:absolute;top:887px;left:391px;white-space:nowrap" class="ft4211">and</p>
<p style="position:absolute;top:886px;left:419px;white-space:nowrap" class="ft4252">T&#160;V&#160;D</p>
<p style="position:absolute;top:892px;left:457px;white-space:nowrap" class="ft4253">β</p>
<p style="position:absolute;top:887px;left:466px;white-space:nowrap" class="ft4211">.</p>
<p style="position:absolute;top:930px;left:141px;white-space:nowrap" class="ft4214"><b>4.4.2</b></p>
<p style="position:absolute;top:930px;left:195px;white-space:nowrap" class="ft4214"><b>TVD&#160;Components</b></p>
<p style="position:absolute;top:963px;left:141px;white-space:nowrap" class="ft4212">In&#160;this&#160;section,&#160;we&#160;present&#160;the&#160;components&#160;of&#160;the&#160;TVD&#160;infrastructure,&#160;the&#160;compo-<br/>sition&#160;of&#160;the&#160;components&#160;to&#160;form&#160;TVDs&#160;and&#160;to&#160;enforce&#160;TVD&#160;policies,&#160;and&#160;describe<br/>the&#160;management&#160;of&#160;the&#160;TVD&#160;infrastructure.&#160;Here,&#160;we&#160;focus&#160;on&#160;the&#160;static&#160;behavior<br/>of&#160;a&#160;secure&#160;network&#160;virtualization&#160;framework&#160;that&#160;is&#160;already&#160;up&#160;and&#160;running.&#160;Later,<br/>in&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#47">4.5,&#160;</a>we&#160;focus&#160;on&#160;the&#160;more&#160;dynamic&#160;aspects&#160;of&#160;the&#160;framework,&#160;including<br/>establishment&#160;and&#160;deployment&#160;of&#160;the&#160;secure&#160;virtual&#160;infrastructure.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft4216">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 43 -->
<a name="43"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page43-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter043.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft4323">CHAPTER&#160;4.&#160;AUTOMATED&#160;PROVISIONING&#160;OF&#160;SECURE&#160;VIRTUAL&#160;NETWORKS</p>
<p style="position:absolute;top:142px;left:786px;white-space:nowrap" class="ft4311">43</p>
<p style="position:absolute;top:196px;left:213px;white-space:nowrap" class="ft4315"><b>TVD&#160;networking&#160;master</b></p>
<p style="position:absolute;top:196px;left:407px;white-space:nowrap" class="ft4311">The&#160;TVD&#160;networking&#160;master&#160;(short&#160;TVD&#160;master)</p>
<p style="position:absolute;top:216px;left:213px;white-space:nowrap" class="ft4312">plays&#160;a&#160;central&#160;role&#160;in&#160;the&#160;management&#160;and&#160;auto-deployment&#160;of&#160;TVDs.&#160;There&#160;is<br/>one&#160;TVD&#160;master&#160;per&#160;TVD.&#160;We&#160;refer&#160;to&#160;the&#160;TVD&#160;master&#160;as&#160;a&#160;single&#160;logical&#160;entity,<br/>although&#160;its&#160;implementation&#160;may&#160;be&#160;a&#160;distributed&#160;one.&#160;The&#160;TVD&#160;master&#160;is&#160;trusted<br/>by&#160;the&#160;rest&#160;of&#160;the&#160;TVD&#160;infrastructure&#160;and&#160;the&#160;VPEs&#160;that&#160;are&#160;members&#160;of&#160;the&#160;TVD.<br/>Known&#160;techniques&#160;based&#160;on&#160;Trusted&#160;Computing&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">[Tru03]&#160;</a>can&#160;be&#160;used&#160;to&#160;determine<br/>the&#160;trustworthiness&#160;of&#160;the&#160;TVD&#160;master&#160;by&#160;verifying&#160;its&#160;software&#160;configuration.&#160;The<br/>TVD&#160;master&#160;can&#160;hosted&#160;on&#160;a&#160;physical&#160;machine&#160;or&#160;a&#160;virtual&#160;machine.&#160;In&#160;the&#160;case<br/>of&#160;a&#160;VM&#160;implementation,&#160;the&#160;PEV&#160;architecture&#160;proposed&#160;by&#160;Jansen&#160;et&#160;al.&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[JRS07]<br/></a>can&#160;be&#160;used&#160;to&#160;obtain&#160;policy&#160;enforcement&#160;and&#160;compliance&#160;proofs&#160;for&#160;the&#160;purpose&#160;of<br/>assessing&#160;the&#160;TVD&#160;master’s&#160;trustworthiness.</p>
<p style="position:absolute;top:419px;left:238px;white-space:nowrap" class="ft4311">The&#160;TVD&#160;policy&#160;is&#160;defined&#160;at&#160;the&#160;TVD&#160;master&#160;by&#160;the&#160;system&#160;administrator</p>
<p style="position:absolute;top:439px;left:213px;white-space:nowrap" class="ft4312">(e.g.,&#160;the&#160;administrator&#160;of&#160;a&#160;data&#160;center&#160;hosting&#160;multiple&#160;TVDs,&#160;each&#160;belonging&#160;to<br/>a&#160;different&#160;customer).&#160;The&#160;TVD&#160;master&#160;has&#160;the&#160;following&#160;main&#160;responsibilities:</p>
<p style="position:absolute;top:498px;left:233px;white-space:nowrap" class="ft4311">1.&#160;distributing&#160;the&#160;TVD&#160;policy&#160;and&#160;other&#160;TVD&#160;credentials&#160;(such&#160;as&#160;VPN&#160;key)</p>
<p style="position:absolute;top:518px;left:253px;white-space:nowrap" class="ft4311">to&#160;the&#160;TVD&#160;proxies&#160;and&#160;informing&#160;them&#160;of&#160;any&#160;updates,</p>
<p style="position:absolute;top:552px;left:233px;white-space:nowrap" class="ft4311">2.&#160;determining&#160;the&#160;suitability&#160;of&#160;a&#160;platform&#160;to&#160;host&#160;a&#160;TVD&#160;proxy&#160;(described</p>
<p style="position:absolute;top:573px;left:253px;white-space:nowrap" class="ft4312">below),&#160;and&#160;thereafter,&#160;periodically&#160;assessing&#160;the&#160;platform’s&#160;continued&#160;suit-<br/>ability&#160;to&#160;host&#160;VPEs&#160;belonging&#160;to&#160;the&#160;TVD.</p>
<p style="position:absolute;top:627px;left:233px;white-space:nowrap" class="ft4311">3.&#160;maintaining&#160;an&#160;up-to-date&#160;view&#160;of&#160;the&#160;TVD&#160;membership,&#160;which&#160;includes&#160;a</p>
<p style="position:absolute;top:647px;left:253px;white-space:nowrap" class="ft4311">list&#160;of&#160;TVD&#160;proxies&#160;and&#160;the&#160;VPEs&#160;hosted&#160;on&#160;their&#160;respective&#160;platforms.</p>
<p style="position:absolute;top:691px;left:213px;white-space:nowrap" class="ft4315"><b>TVD&#160;networking&#160;proxy</b></p>
<p style="position:absolute;top:691px;left:390px;white-space:nowrap" class="ft4311">On&#160;every&#160;host&#160;that&#160;may&#160;potentially&#160;host&#160;a&#160;VM&#160;belonging</p>
<p style="position:absolute;top:711px;left:213px;white-space:nowrap" class="ft4312">to&#160;the&#160;TVD,&#160;there&#160;is&#160;a&#160;local&#160;delegate&#160;of&#160;the&#160;TVD&#160;master,&#160;called&#160;the&#160;<i>TVD&#160;networking<br/>proxy&#160;</i>(short&#160;TVD&#160;proxy).&#160;Like&#160;the&#160;TVD&#160;master,&#160;the&#160;TVD&#160;proxy&#160;is&#160;also&#160;trusted.&#160;The<br/>TVD&#160;proxy&#160;is&#160;the&#160;local&#160;enforcer&#160;of&#160;the&#160;TVD&#160;policies&#160;on&#160;a&#160;given&#160;physical&#160;platform.<br/>At&#160;the&#160;time&#160;of&#160;its&#160;creation,&#160;the&#160;TVD&#160;proxy&#160;receives&#160;the&#160;TVD&#160;policy&#160;from&#160;the&#160;TVD<br/>master.&#160;Upon&#160;an&#160;update&#160;to&#160;the&#160;TVD&#160;policy&#160;(by&#160;a&#160;system&#160;administrator),&#160;renewal<br/>of&#160;TVD&#160;credentials,&#160;or&#160;refresh&#160;of&#160;TVD&#160;VPN&#160;keys&#160;at&#160;the&#160;TVD&#160;master,&#160;the&#160;master<br/>conveys&#160;the&#160;update&#160;to&#160;the&#160;TVD&#160;proxies.</p>
<p style="position:absolute;top:854px;left:238px;white-space:nowrap" class="ft4311">The&#160;TVD&#160;proxies&#160;on&#160;a&#160;given&#160;platform&#160;are&#160;independent.&#160;Although&#160;TVD&#160;proxies</p>
<p style="position:absolute;top:874px;left:213px;white-space:nowrap" class="ft4312">are&#160;trusted,&#160;TVD&#160;proxies&#160;on&#160;the&#160;same&#160;platform&#160;should&#160;be&#160;sufficiently&#160;isolated&#160;from<br/>each&#160;other.&#160;For&#160;example,&#160;a&#160;TVD&#160;proxy&#160;should&#160;not&#160;be&#160;able&#160;to&#160;access&#160;private&#160;TVD&#160;in-<br/>formation&#160;(such&#160;as&#160;policies,&#160;certificates,&#160;and&#160;VPN&#160;keys)&#160;belonging&#160;to&#160;another&#160;TVD<br/>proxy.&#160;For&#160;improved&#160;isolation,&#160;each&#160;TVD&#160;proxy&#160;on&#160;the&#160;platform&#160;may&#160;be&#160;hosted&#160;in<br/>a&#160;separate&#160;<i>infrastructure&#160;</i>VM,&#160;which&#160;is&#160;different&#160;from&#160;a&#160;VM&#160;hosting&#160;regular&#160;ser-<br/>vices,&#160;called&#160;<i>production&#160;</i>VM.&#160;On&#160;a&#160;platform&#160;with&#160;the&#160;Trusted&#160;Platform&#160;Module&#160;or<br/>TPM&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">[Tru03]</a>,&#160;isolation&#160;can&#160;further&#160;be&#160;improved&#160;by&#160;TPM&#160;virtualization&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">[BCG</a></p>
<p style="position:absolute;top:993px;left:714px;white-space:nowrap" class="ft4328"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">+</a></p>
<p style="position:absolute;top:996px;left:725px;white-space:nowrap" class="ft4311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">06]</a>,</p>
<p style="position:absolute;top:1016px;left:213px;white-space:nowrap" class="ft4312">assigning&#160;a&#160;separate&#160;virtual&#160;TPM&#160;to&#160;each&#160;infrastructure&#160;VM,&#160;and&#160;using&#160;the&#160;virtual<br/>TPM&#160;as&#160;the&#160;basis&#160;for&#160;storing&#160;private&#160;TVD&#160;information.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft4316">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 44 -->
<a name="44"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page44-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter044.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft4411">44</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft4416">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:166px;white-space:nowrap" class="ft4411">A&#160;TVD&#160;proxy&#160;must&#160;only&#160;be&#160;able&#160;to&#160;interact&#160;with&#160;VMs&#160;hosted&#160;on&#160;the&#160;platform</p>
<p style="position:absolute;top:216px;left:141px;white-space:nowrap" class="ft4412">belonging&#160;to&#160;the&#160;same&#160;TVD.&#160;As&#160;we&#160;describe&#160;below,&#160;that&#160;requirement&#160;is&#160;enforced<br/>by&#160;the&#160;LCTC.</p>
<p style="position:absolute;top:257px;left:166px;white-space:nowrap" class="ft4411">The&#160;main&#160;responsibilities&#160;of&#160;the&#160;TVD&#160;proxy&#160;are:</p>
<p style="position:absolute;top:290px;left:141px;white-space:nowrap" class="ft4415"><b>Configuration&#160;of&#160;the&#160;Local&#160;TVD&#160;vSwitch&#160;</b>The&#160;TVD&#160;proxy&#160;configures&#160;the&#160;local</p>
<p style="position:absolute;top:311px;left:182px;white-space:nowrap" class="ft4412">TVD&#160;vSwitch&#160;based&#160;on&#160;TVD&#160;policy.&#160;For&#160;example,&#160;if&#160;the&#160;TVD&#160;policy&#160;spec-<br/>ifies&#160;that&#160;information&#160;confidentiality&#160;is&#160;an&#160;objective,&#160;then&#160;the&#160;TVD&#160;proxy<br/>enables&#160;all&#160;traffic&#160;through&#160;the&#160;vSwitch&#160;to&#160;pass&#160;through&#160;the&#160;VPN&#160;module&#160;and<br/>provides&#160;the&#160;VPN&#160;key&#160;to&#160;the&#160;module.</p>
<p style="position:absolute;top:405px;left:141px;white-space:nowrap" class="ft4415"><b>Maintenance&#160;of&#160;Private&#160;TVD&#160;Information&#160;</b>The&#160;TVD&#160;proxy&#160;maintains&#160;private</p>
<p style="position:absolute;top:426px;left:182px;white-space:nowrap" class="ft4411">TVD&#160;information&#160;such&#160;as&#160;policies,&#160;certificates,&#160;and&#160;VPN&#160;keys.</p>
<p style="position:absolute;top:459px;left:141px;white-space:nowrap" class="ft4415"><b>Status&#160;Reports&#160;to&#160;the&#160;TVD&#160;Master&#160;</b>Upon&#160;request&#160;or&#160;periodically,&#160;the&#160;TVD&#160;proxy</p>
<p style="position:absolute;top:480px;left:182px;white-space:nowrap" class="ft4412">provides&#160;a&#160;platform&#160;status&#160;report&#160;to&#160;the&#160;TVD&#160;master.&#160;The&#160;report&#160;includes<br/>information&#160;such&#160;as&#160;the&#160;number&#160;of&#160;VMs&#160;belonging&#160;to&#160;the&#160;TVD&#160;and&#160;their<br/>unique&#160;addressable&#160;identifiers&#160;and&#160;the&#160;current&#160;vSwitch&#160;configuration.&#160;The<br/>status&#160;report&#160;also&#160;serves&#160;as&#160;an&#160;“I&#160;am&#160;alive”&#160;message&#160;to&#160;the&#160;TVD&#160;master,<br/>and&#160;helps&#160;the&#160;TVD&#160;master&#160;to&#160;keep&#160;an&#160;updated&#160;list&#160;of&#160;TVD&#160;proxies&#160;that&#160;are<br/>connected&#160;to&#160;it.</p>
<p style="position:absolute;top:615px;left:141px;white-space:nowrap" class="ft4415"><b>Enforcement&#160;of&#160;Admission&#160;Requirements&#160;for&#160;VMs&#160;into&#160;the&#160;TVD&#160;</b>A&#160;VM’s&#160;vir-</p>
<p style="position:absolute;top:636px;left:182px;white-space:nowrap" class="ft4412">tual&#160;NIC&#160;is&#160;attached&#160;to&#160;a&#160;vSwitch&#160;only&#160;after&#160;the&#160;TVD&#160;proxy&#160;checks&#160;that&#160;the<br/>VM&#160;satisfies&#160;TVD&#160;membership&#160;requirements.</p>
<p style="position:absolute;top:690px;left:141px;white-space:nowrap" class="ft4415"><b>Enforcement&#160;of&#160;Co-Location&#160;Restrictions&#160;</b>The&#160;LCTC&#160;checks&#160;with&#160;each&#160;TVD</p>
<p style="position:absolute;top:710px;left:182px;white-space:nowrap" class="ft4412">proxy&#160;already&#160;existing&#160;on&#160;the&#160;platform&#160;for&#160;co-location&#160;compatibility&#160;before<br/>instantiating&#160;a&#160;new&#160;TVD&#160;proxy.</p>
<p style="position:absolute;top:764px;left:141px;white-space:nowrap" class="ft4415"><b>Enforcement&#160;of&#160;Multi-TVD&#160;Membership&#160;Restrictions&#160;</b>A&#160;VM&#160;may&#160;belong&#160;to</p>
<p style="position:absolute;top:784px;left:182px;white-space:nowrap" class="ft4412">multiple&#160;TVDs&#160;simultaneously.&#160;However,&#160;approval&#160;from&#160;TVD&#160;proxies&#160;corre-<br/>sponding&#160;to&#160;the&#160;TVDs&#160;in&#160;which&#160;the&#160;VM&#160;holds&#160;membership&#160;is&#160;needed&#160;before<br/>the&#160;VM&#160;can&#160;join&#160;a&#160;new&#160;TVD.</p>
<p style="position:absolute;top:859px;left:141px;white-space:nowrap" class="ft4415"><b>Continuous&#160;Enforcement&#160;of&#160;TVD&#160;Policy&#160;</b>The&#160;TVD&#160;proxy&#160;is&#160;responsible&#160;for&#160;con-</p>
<p style="position:absolute;top:879px;left:182px;white-space:nowrap" class="ft4412">tinuous&#160;enforcement&#160;of&#160;TVD&#160;policy&#160;despite&#160;updates&#160;to&#160;the&#160;policy&#160;and&#160;chang-<br/>ing&#160;configuration&#160;of&#160;the&#160;platform&#160;and&#160;member&#160;VMs.&#160;Upon&#160;receiving&#160;an<br/>update&#160;to&#160;the&#160;TVD&#160;policy&#160;from&#160;the&#160;TVD&#160;master,&#160;the&#160;TVD&#160;proxy&#160;may&#160;re-<br/>configure&#160;the&#160;vSwitch,&#160;and&#160;re-assess&#160;member&#160;VMs’&#160;membership&#160;to&#160;reflect<br/>the&#160;updated&#160;policy.&#160;Even&#160;without&#160;any&#160;policy&#160;update,&#160;the&#160;TVD&#160;proxy&#160;may<br/>be&#160;required&#160;by&#160;TVD&#160;policy&#160;to&#160;periodically&#160;do&#160;such&#160;re-configuration&#160;and&#160;re-<br/>assessment.</p>
<p style="position:absolute;top:1045px;left:141px;white-space:nowrap" class="ft4415"><b>Local&#160;Common&#160;TVD&#160;Coordinator&#160;(LCTC)</b></p>
<p style="position:absolute;top:1045px;left:455px;white-space:nowrap" class="ft4411">The&#160;Local&#160;Common&#160;TVD&#160;Coordi-</p>
<p style="position:absolute;top:1066px;left:141px;white-space:nowrap" class="ft4411">nator&#160;or&#160;LCTC&#160;is&#160;present&#160;on&#160;every&#160;platform&#160;(hence,&#160;the&#160;word&#160;<i>local&#160;</i>in&#160;the&#160;name)</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft4416">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 45 -->
<a name="45"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page45-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter045.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft4523">CHAPTER&#160;4.&#160;AUTOMATED&#160;PROVISIONING&#160;OF&#160;SECURE&#160;VIRTUAL&#160;NETWORKS</p>
<p style="position:absolute;top:142px;left:786px;white-space:nowrap" class="ft4511">45</p>
<p style="position:absolute;top:196px;left:213px;white-space:nowrap" class="ft4512">on&#160;which&#160;a&#160;TVD&#160;element&#160;has&#160;to&#160;be&#160;hosted.&#160;The&#160;LCTC&#160;itself&#160;does&#160;not&#160;belong&#160;to<br/>any&#160;single&#160;TVD&#160;(hence,&#160;the&#160;word&#160;<i>common&#160;</i>in&#160;the&#160;name).&#160;The&#160;LCTC&#160;is&#160;part&#160;of&#160;the<br/>minimal&#160;TC<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#45">B</a></p>
<p style="position:absolute;top:233px;left:303px;white-space:nowrap" class="ft4520"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#45">5</a></p>
<p style="position:absolute;top:236px;left:314px;white-space:nowrap" class="ft4511">on&#160;every&#160;TVD-enabled&#160;platform.</p>
<p style="position:absolute;top:257px;left:238px;white-space:nowrap" class="ft4511">The&#160;LCTC&#160;is&#160;the&#160;entity&#160;that&#160;a&#160;TVD&#160;master&#160;or&#160;a&#160;system&#160;administrator&#160;contacts</p>
<p style="position:absolute;top:277px;left:213px;white-space:nowrap" class="ft4512">to&#160;create&#160;a&#160;new&#160;TVD&#160;proxy&#160;on&#160;the&#160;platform.&#160;For&#160;this&#160;purpose,&#160;the&#160;LCTC&#160;must&#160;be<br/>made&#160;publicly&#160;addressable&#160;and&#160;knowledgeable&#160;about&#160;the&#160;identities&#160;of&#160;the&#160;entities<br/>that&#160;may&#160;potentially&#160;request&#160;the&#160;creation.</p>
<p style="position:absolute;top:338px;left:238px;white-space:nowrap" class="ft4511">The&#160;LCTC&#160;has&#160;three&#160;main&#160;responsibilities,&#160;namely&#160;(1)&#160;creation&#160;of&#160;new&#160;TVD</p>
<p style="position:absolute;top:358px;left:213px;white-space:nowrap" class="ft4512">proxies&#160;on&#160;the&#160;local&#160;platform,&#160;(2)&#160;determining&#160;whether&#160;a&#160;new&#160;TVD&#160;proxy&#160;can&#160;be&#160;co-<br/>hosted&#160;along&#160;with&#160;TVD&#160;proxies&#160;already&#160;existing&#160;on&#160;the&#160;platform,&#160;and&#160;(3)&#160;restricting<br/>access&#160;of&#160;TVD&#160;proxies&#160;only&#160;to&#160;VMs&#160;belonging&#160;to&#160;their&#160;respective&#160;TVDs.&#160;The<br/>LCTC&#160;maintains&#160;a&#160;list&#160;of&#160;VMs&#160;currently&#160;hosted&#160;on&#160;the&#160;platform,&#160;a&#160;list&#160;of&#160;TVD<br/>proxies&#160;currently&#160;hosted&#160;on&#160;the&#160;platform,&#160;and&#160;a&#160;mapping&#160;between&#160;the&#160;VMs&#160;and&#160;the<br/>TVDs&#160;they&#160;belong&#160;to.</p>
<p style="position:absolute;top:480px;left:238px;white-space:nowrap" class="ft4511">The&#160;actual&#160;creation&#160;of&#160;the&#160;TVD&#160;proxy&#160;is&#160;preceded&#160;by&#160;a&#160;<i>prepare&#160;phase</i>,&#160;which</p>
<p style="position:absolute;top:501px;left:213px;white-space:nowrap" class="ft4511">involves</p>
<p style="position:absolute;top:533px;left:233px;white-space:nowrap" class="ft4511">1.&#160;Mutual&#160;authentication&#160;and&#160;authorization&#160;between&#160;the&#160;LCTC&#160;and&#160;the&#160;entity</p>
<p style="position:absolute;top:554px;left:253px;white-space:nowrap" class="ft4512">(e.g.,&#160;the&#160;TVD&#160;master&#160;or&#160;system&#160;administrator)&#160;requesting&#160;the&#160;creation&#160;of&#160;the<br/>TVD&#160;proxy,</p>
<p style="position:absolute;top:607px;left:233px;white-space:nowrap" class="ft4511">2.&#160;Determining&#160;the&#160;suitability&#160;of&#160;the&#160;platform&#160;for&#160;hosting&#160;the&#160;new&#160;TVD&#160;proxy,</p>
<p style="position:absolute;top:628px;left:253px;white-space:nowrap" class="ft4512">from&#160;the&#160;point&#160;of&#160;view&#160;of&#160;both&#160;the&#160;requesting&#160;TVD&#160;master&#160;and&#160;the&#160;TVDs<br/>already&#160;hosted&#160;on&#160;the&#160;platform.</p>
<p style="position:absolute;top:681px;left:238px;white-space:nowrap" class="ft4511">The&#160;second&#160;step&#160;above&#160;involves&#160;determining&#160;whether&#160;a&#160;new&#160;TVD&#160;proxy&#160;can&#160;be</p>
<p style="position:absolute;top:701px;left:213px;white-space:nowrap" class="ft4512">co-hosted&#160;along&#160;with&#160;TVD&#160;proxies&#160;already&#160;existing&#160;on&#160;the&#160;platform.&#160;The&#160;LCTC<br/>is&#160;a&#160;thin&#160;implementation;&#160;it&#160;simply&#160;asks&#160;each&#160;TVD&#160;proxy&#160;whether&#160;a&#160;new&#160;TVD<br/>proxy&#160;can&#160;be&#160;co-hosted&#160;on&#160;the&#160;platform.&#160;Based&#160;on&#160;their&#160;internal&#160;security&#160;policies,<br/>the&#160;individual&#160;TVD&#160;proxies&#160;simply&#160;return&#160;a&#160;“yes”&#160;or&#160;“no”&#160;answer.&#160;The&#160;LCTC<br/>replies&#160;positively&#160;to&#160;the&#160;requesting&#160;TVD&#160;master&#160;only&#160;if&#160;all&#160;TVD&#160;proxies&#160;said&#160;“yes”;<br/>otherwise,&#160;it&#160;returns&#160;a&#160;negative&#160;reply&#160;to&#160;the&#160;requesting&#160;TVD&#160;master.&#160;The&#160;LCTC<br/>includes&#160;a&#160;list&#160;of&#160;existing&#160;TVD&#160;proxies&#160;with&#160;a&#160;positive&#160;response.&#160;Additionally,<br/>if&#160;required,&#160;the&#160;LCTC&#160;may&#160;include&#160;the&#160;attestation&#160;of&#160;the&#160;platform&#160;characteristics<br/>along&#160;with&#160;a&#160;positive&#160;response.&#160;The&#160;prepare&#160;phase&#160;concludes&#160;with&#160;the&#160;response<br/>from&#160;the&#160;LCTC.&#160;Based&#160;on&#160;the&#160;response,&#160;the&#160;requesting&#160;TVD&#160;master&#160;can&#160;determine<br/>whether&#160;its&#160;own&#160;policies&#160;allow&#160;co-hosting&#160;with&#160;the&#160;list&#160;of&#160;existing&#160;TVD&#160;proxies<br/>on&#160;the&#160;platform&#160;and&#160;whether&#160;the&#160;platform&#160;configuration&#160;is&#160;in&#160;accordance&#160;with&#160;the<br/>TVD&#160;requirements.&#160;If&#160;that&#160;is&#160;the&#160;case,&#160;then&#160;the&#160;TVD&#160;master&#160;sends&#160;a&#160;request&#160;to&#160;the<br/>LCTC&#160;to&#160;start&#160;the&#160;TVD&#160;proxy&#160;along&#160;with&#160;its&#160;own&#160;URL.&#160;In&#160;this&#160;way,&#160;the&#160;conflict<br/>manager&#160;helps&#160;ensure&#160;that&#160;a&#160;new&#160;TVD&#160;proxy&#160;is&#160;hosted&#160;on&#160;the&#160;platform&#160;only&#160;if&#160;it<br/>is&#160;compatible&#160;with&#160;the&#160;policies&#160;of&#160;TVDs&#160;already&#160;hosted&#160;on&#160;the&#160;platform&#160;as&#160;well&#160;as<br/>with&#160;those&#160;of&#160;the&#160;new&#160;TVD.</p>
<p style="position:absolute;top:1052px;left:232px;white-space:nowrap" class="ft4521">5</p>
<p style="position:absolute;top:1055px;left:237px;white-space:nowrap" class="ft4522">On&#160;a&#160;Xen-based&#160;platform,&#160;the&#160;minimal&#160;TCB&#160;consists&#160;of&#160;the&#160;LCTC,&#160;Xen&#160;Dom0,&#160;the&#160;Xen&#160;hyper-</p>
<p style="position:absolute;top:1071px;left:213px;white-space:nowrap" class="ft4522">visor,&#160;and&#160;the&#160;underlying&#160;hardware.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft4516">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 46 -->
<a name="46"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page46-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter046.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft4611">46</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft4616">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:166px;white-space:nowrap" class="ft4611">The&#160;LCTC&#160;does&#160;the&#160;actual&#160;creation&#160;of&#160;the&#160;TVD&#160;proxy,&#160;and&#160;initializes&#160;the&#160;proxy</p>
<p style="position:absolute;top:216px;left:141px;white-space:nowrap" class="ft4612">with&#160;the&#160;TVD&#160;master’s&#160;URL.&#160;Thereafter,&#160;the&#160;TVD&#160;proxy&#160;contacts&#160;the&#160;TVD&#160;mas-<br/>ter&#160;and&#160;establishes&#160;a&#160;direct&#160;secure,&#160;authenticated&#160;communication&#160;channel&#160;(using<br/>standard&#160;techniques)&#160;with&#160;the&#160;TVD&#160;master&#160;bypassing&#160;the&#160;LCTC.&#160;The&#160;TVD&#160;proxy<br/>obtains&#160;the&#160;TVD&#160;policy&#160;and&#160;other&#160;credentials&#160;from&#160;the&#160;TVD&#160;master&#160;through&#160;the<br/>channel,&#160;and&#160;configures&#160;the&#160;networking&#160;components&#160;according&#160;to&#160;TVD&#160;policy.</p>
<p style="position:absolute;top:341px;left:141px;white-space:nowrap" class="ft4614"><b>4.4.3</b></p>
<p style="position:absolute;top:341px;left:195px;white-space:nowrap" class="ft4614"><b>Establishment&#160;of&#160;the&#160;TVD&#160;Infrastructure</b></p>
<p style="position:absolute;top:373px;left:141px;white-space:nowrap" class="ft4615"><b>Overview</b></p>
<p style="position:absolute;top:405px;left:141px;white-space:nowrap" class="ft4612">When&#160;the&#160;set&#160;of&#160;TVDs&#160;have&#160;been&#160;identified,&#160;the&#160;next&#160;step&#160;is&#160;to&#160;actually&#160;establish<br/>them.&#160;The&#160;initial&#160;step&#160;for&#160;establishing&#160;a&#160;TVD&#160;is&#160;to&#160;create&#160;the&#160;TVD&#160;master&#160;(step&#160;0<br/>in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#52">4.4)&#160;</a>and&#160;initialize&#160;the&#160;master&#160;with&#160;the&#160;TVD&#160;requirements&#160;(as&#160;formalized<br/>above)&#160;and&#160;the&#160;policy&#160;model.&#160;The&#160;step&#160;involves&#160;the&#160;derivation&#160;of&#160;a&#160;comprehensive<br/>set&#160;of&#160;TVD&#160;policies,&#160;which&#160;are&#160;maintained&#160;at&#160;the&#160;TVD&#160;master.&#160;The&#160;output&#160;of<br/>the&#160;step&#160;is&#160;a&#160;TVD&#160;object&#160;that&#160;contains&#160;the&#160;TVD’s&#160;unique&#160;identifier,&#160;i.e.,&#160;the&#160;TVD<br/>master’s&#160;URL.</p>
<p style="position:absolute;top:547px;left:166px;white-space:nowrap" class="ft4611">Once&#160;the&#160;TVD&#160;master&#160;has&#160;been&#160;initialized,&#160;the&#160;TVD&#160;is&#160;ready&#160;for&#160;being&#160;popu-</p>
<p style="position:absolute;top:567px;left:141px;white-space:nowrap" class="ft4612">lated&#160;with&#160;member&#160;entities,&#160;such&#160;as&#160;VMs.&#160;A&#160;VM&#160;becomes&#160;admitted&#160;to&#160;a&#160;TVD&#160;after<br/>the&#160;successful&#160;completion&#160;of&#160;a&#160;multi-step&#160;protocol&#160;(steps&#160;1&#160;and&#160;2&#160;in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#52">4.4)</a>.</p>
<p style="position:absolute;top:626px;left:161px;white-space:nowrap" class="ft4611">1.&#160;A&#160;local&#160;representative&#160;of&#160;the&#160;TVD,&#160;called&#160;<i>TVD&#160;proxy</i>,&#160;is&#160;created&#160;by&#160;the&#160;LCTC</p>
<p style="position:absolute;top:646px;left:182px;white-space:nowrap" class="ft4611">and&#160;initialized&#160;with&#160;the&#160;URL&#160;of&#160;the&#160;TVD&#160;master.</p>
<p style="position:absolute;top:680px;left:161px;white-space:nowrap" class="ft4611">2.&#160;The&#160;TVD&#160;proxy&#160;sets&#160;up&#160;a&#160;secure,&#160;authenticated&#160;channel&#160;with&#160;the&#160;TVD&#160;master</p>
<p style="position:absolute;top:700px;left:182px;white-space:nowrap" class="ft4611">using&#160;standard&#160;techniques.</p>
<p style="position:absolute;top:734px;left:161px;white-space:nowrap" class="ft4611">3.&#160;The&#160;TVD&#160;proxy&#160;indicates&#160;the&#160;security&#160;and&#160;functional&#160;capabilities&#160;of&#160;the&#160;phys-</p>
<p style="position:absolute;top:754px;left:182px;white-space:nowrap" class="ft4612">ical&#160;machine.&#160;Using&#160;the&#160;capability&#160;model,&#160;the&#160;TVD&#160;master&#160;determines&#160;which<br/>additional&#160;mechanisms&#160;must&#160;be&#160;provided&#160;at&#160;the&#160;level&#160;of&#160;the&#160;virtual&#160;infrastruc-<br/>ture.&#160;For&#160;example,&#160;if&#160;a&#160;TVD&#160;requirements&#160;specification&#160;includes&#160;isolation<br/>and&#160;the&#160;physical&#160;infrastructure&#160;does&#160;not&#160;have&#160;that&#160;capability,&#160;then&#160;special<br/>(VLAN&#160;tagging&#160;or&#160;VPN)&#160;modules&#160;must&#160;be&#160;instantiated&#160;within&#160;the&#160;Dom0&#160;of<br/>physical&#160;machines&#160;hosting&#160;VMs&#160;that&#160;are&#160;part&#160;of&#160;the&#160;TVD.</p>
<p style="position:absolute;top:890px;left:161px;white-space:nowrap" class="ft4611">4.&#160;The&#160;TVD&#160;master&#160;then&#160;replies&#160;to&#160;the&#160;TVD&#160;proxy&#160;with&#160;the&#160;TVD&#160;security&#160;policy</p>
<p style="position:absolute;top:910px;left:182px;white-space:nowrap" class="ft4612">(such&#160;as&#160;flow&#160;control&#160;policies&#160;between&#160;VMs&#160;belonging&#160;to&#160;different&#160;TVDs<br/>hosted&#160;on&#160;the&#160;same&#160;physical&#160;machine)&#160;and&#160;additional&#160;mechanisms&#160;that&#160;must<br/>be&#160;provided&#160;at&#160;the&#160;virtualization&#160;level.</p>
<p style="position:absolute;top:985px;left:161px;white-space:nowrap" class="ft4611">5.&#160;The&#160;TVD&#160;proxy&#160;then&#160;instantiates&#160;and&#160;configures&#160;the&#160;required&#160;TVD-specific</p>
<p style="position:absolute;top:1005px;left:182px;white-space:nowrap" class="ft4612">modules&#160;(e.g.,&#160;vSwitch,&#160;VLAN&#160;tagging&#160;module,&#160;encapsulation&#160;module,&#160;VPN<br/>module,&#160;policy&#160;engine,&#160;etc.)&#160;according&#160;to&#160;the&#160;TVD&#160;policy.&#160;After&#160;this&#160;step,<br/>the&#160;physical&#160;machine&#160;is&#160;ready&#160;to&#160;host&#160;a&#160;VM&#160;belonging&#160;to&#160;the&#160;TVD.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft4616">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 47 -->
<a name="47"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft4776{font-size:15px;line-height:17px;font-family:Helvetica;color:#000000;}
-->
</style>
<div id="page47-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter047.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft4723">CHAPTER&#160;4.&#160;AUTOMATED&#160;PROVISIONING&#160;OF&#160;SECURE&#160;VIRTUAL&#160;NETWORKS</p>
<p style="position:absolute;top:142px;left:786px;white-space:nowrap" class="ft4711">47</p>
<p style="position:absolute;top:267px;left:289px;white-space:nowrap" class="ft4748">vSwitch</p>
<p style="position:absolute;top:285px;left:299px;white-space:nowrap" class="ft4748">Fabric</p>
<p style="position:absolute;top:198px;left:269px;white-space:nowrap" class="ft4748">vMachines</p>
<p style="position:absolute;top:217px;left:284px;white-space:nowrap" class="ft4748">&amp;&#160;vPorts</p>
<p style="position:absolute;top:201px;left:386px;white-space:nowrap" class="ft4748">FW</p>
<p style="position:absolute;top:201px;left:439px;white-space:nowrap" class="ft4748">FW</p>
<p style="position:absolute;top:201px;left:491px;white-space:nowrap" class="ft4748">FW</p>
<p style="position:absolute;top:207px;left:573px;white-space:nowrap" class="ft4776">Interconnect&#160;<br/>(Blue)</p>
<p style="position:absolute;top:292px;left:578px;white-space:nowrap" class="ft4776">Internal&#160;<br/>(Blue)</p>
<p style="position:absolute;top:357px;left:274px;white-space:nowrap" class="ft4711">Figure&#160;4.2:&#160;Internal-&#160;and&#160;Inter-connections&#160;for&#160;each&#160;TVD&#160;Type.</p>
<p style="position:absolute;top:424px;left:233px;white-space:nowrap" class="ft4711">6.&#160;As&#160;shown&#160;by&#160;step&#160;2&#160;in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#52">4.4,&#160;</a>a&#160;command&#160;is&#160;issued&#160;at&#160;the&#160;VM&#160;to&#160;join</p>
<p style="position:absolute;top:445px;left:253px;white-space:nowrap" class="ft4711">the&#160;TVD&#160;(active&#160;membership&#160;mode<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#47">l</a></p>
<p style="position:absolute;top:442px;left:496px;white-space:nowrap" class="ft4720"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#47">6</a></p>
<p style="position:absolute;top:445px;left:503px;white-space:nowrap" class="ft4711"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#47">)</a>.&#160;This&#160;results&#160;in&#160;the&#160;VM&#160;contacting</p>
<p style="position:absolute;top:465px;left:253px;white-space:nowrap" class="ft4712">the&#160;TVD&#160;proxy.&#160;Based&#160;on&#160;the&#160;TVD&#160;security&#160;policies,&#160;the&#160;TVD&#160;proxy&#160;may<br/>carry&#160;out&#160;an&#160;assurance&#160;assessment&#160;of&#160;the&#160;VM&#160;(e.g.,&#160;whether&#160;the&#160;VM&#160;has&#160;all<br/>required&#160;software&#160;properly&#160;configured).&#160;Once&#160;the&#160;required&#160;verification&#160;of&#160;the<br/>VM&#160;is&#160;successful,&#160;the&#160;TVD&#160;proxy&#160;may&#160;connect&#160;the&#160;vNICs&#160;of&#160;the&#160;VM&#160;to&#160;the<br/>appropriate&#160;TVD&#160;vSwitch.&#160;At&#160;this&#160;point,&#160;the&#160;VM&#160;is&#160;part&#160;of&#160;the&#160;TVD.</p>
<p style="position:absolute;top:613px;left:213px;white-space:nowrap" class="ft4718"><b>4.5</b></p>
<p style="position:absolute;top:613px;left:261px;white-space:nowrap" class="ft4718"><b>Auto-deployment&#160;of&#160;Trusted&#160;Virtual&#160;Domains)</b></p>
<p style="position:absolute;top:654px;left:213px;white-space:nowrap" class="ft4712">Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#50">4.3&#160;</a>shows&#160;the&#160;steps&#160;involved&#160;in&#160;automatic&#160;deployment&#160;of&#160;secure&#160;virtual&#160;in-<br/>frastructures&#160;as&#160;TVD&#160;configurations.&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#52">4.4&#160;</a>shows&#160;the&#160;steps&#160;involved&#160;in&#160;the<br/>establishment&#160;and&#160;management&#160;of&#160;a&#160;single&#160;TVD.</p>
<p style="position:absolute;top:715px;left:238px;white-space:nowrap" class="ft4711">First,&#160;the&#160;virtual&#160;infrastructure&#160;topology&#160;must&#160;be&#160;decomposed&#160;into&#160;constituent</p>
<p style="position:absolute;top:736px;left:213px;white-space:nowrap" class="ft4712">TVDs,&#160;along&#160;with&#160;associated&#160;security&#160;requirements&#160;and&#160;policy&#160;model.&#160;Second,<br/>a&#160;<i>capability&#160;model&#160;</i>of&#160;the&#160;physical&#160;infrastructure&#160;must&#160;be&#160;developed.&#160;Capability<br/>modeling&#160;is&#160;essentially&#160;the&#160;step&#160;of&#160;taking&#160;stock&#160;of&#160;existing&#160;mechanisms&#160;that&#160;can&#160;be<br/>directly&#160;used&#160;to&#160;satisfy&#160;the&#160;TVD&#160;security&#160;requirements.&#160;In&#160;this&#160;chapter,&#160;we&#160;consider<br/>the&#160;case&#160;where&#160;both&#160;steps&#160;are&#160;done&#160;manually&#160;in&#160;an&#160;offline&#160;manner;&#160;future&#160;extensions<br/>will&#160;focus&#160;on&#160;automating&#160;them&#160;and&#160;on&#160;dynamically&#160;changing&#160;the&#160;capability&#160;models<br/>based&#160;on&#160;actual&#160;changes&#160;to&#160;the&#160;capabilities.</p>
<p style="position:absolute;top:901px;left:213px;white-space:nowrap" class="ft4714"><b>4.5.1</b></p>
<p style="position:absolute;top:901px;left:266px;white-space:nowrap" class="ft4714"><b>Capability&#160;Modeling&#160;of&#160;the&#160;Physical&#160;Infrastructure</b></p>
<p style="position:absolute;top:934px;left:213px;white-space:nowrap" class="ft4712">Capability&#160;modeling&#160;of&#160;the&#160;physical&#160;infrastructure&#160;considers&#160;both&#160;functional&#160;and<br/>security&#160;capabilities.&#160;The&#160;functional&#160;capabilities&#160;of&#160;a&#160;host&#160;may&#160;be&#160;modeled&#160;using<br/>a&#160;function</p>
<p style="position:absolute;top:973px;left:286px;white-space:nowrap" class="ft4752">C</p>
<p style="position:absolute;top:973px;left:307px;white-space:nowrap" class="ft4754">:</p>
<p style="position:absolute;top:973px;left:319px;white-space:nowrap" class="ft4752">H</p>
<p style="position:absolute;top:973px;left:341px;white-space:nowrap" class="ft4755">→&#160;{</p>
<p style="position:absolute;top:973px;left:373px;white-space:nowrap" class="ft4752">V&#160;LAN,&#160;Ethernet,&#160;IP</p>
<p style="position:absolute;top:973px;left:527px;white-space:nowrap" class="ft4755">}</p>
<p style="position:absolute;top:974px;left:535px;white-space:nowrap" class="ft4711">,&#160;to&#160;describe&#160;whether&#160;a&#160;host&#160;has</p>
<p style="position:absolute;top:995px;left:213px;white-space:nowrap" class="ft4711">VLAN,&#160;Ethernet,&#160;or&#160;IP&#160;support.&#160;Modeling&#160;of&#160;security&#160;capabilities&#160;includes&#160;two</p>
<p style="position:absolute;top:1024px;left:232px;white-space:nowrap" class="ft4721">6</p>
<p style="position:absolute;top:1027px;left:237px;white-space:nowrap" class="ft4722">Alternatively,&#160;if&#160;the&#160;passive&#160;membership&#160;model&#160;(Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#51">4.5.4)&#160;</a>is&#160;used,&#160;the&#160;command&#160;to&#160;join&#160;the</p>
<p style="position:absolute;top:1043px;left:213px;white-space:nowrap" class="ft4722">TVD&#160;can&#160;be&#160;issued&#160;by&#160;the&#160;VM&#160;manager&#160;component&#160;that&#160;instantiates&#160;the&#160;VM.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft4716">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 48 -->
<a name="48"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page48-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter048.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft4811">48</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft4816">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft4812">orthogonal&#160;aspects:&#160;the&#160;set&#160;of&#160;security&#160;properties&#160;and&#160;the&#160;assurance&#160;that&#160;these&#160;prop-<br/>erties&#160;are&#160;actually&#160;provided.&#160;Table&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#54">4.2&#160;</a>lists&#160;some&#160;examples&#160;of&#160;security&#160;properties<br/>and&#160;Table&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#55">4.3&#160;</a>gives&#160;examples&#160;of&#160;the&#160;types&#160;of&#160;evidence&#160;that&#160;can&#160;be&#160;used&#160;to&#160;support<br/>security&#160;property&#160;claims.</p>
<p style="position:absolute;top:300px;left:141px;white-space:nowrap" class="ft4814"><b>4.5.2</b></p>
<p style="position:absolute;top:300px;left:195px;white-space:nowrap" class="ft4814"><b>Instantiation&#160;of&#160;the&#160;Right&#160;Networking&#160;Modules</b></p>
<p style="position:absolute;top:333px;left:141px;white-space:nowrap" class="ft4812">The&#160;TVD&#160;proxy&#160;uses&#160;the&#160;instructions&#160;given&#160;to&#160;it&#160;by&#160;the&#160;TVD&#160;master&#160;to&#160;determine<br/>the&#160;right&#160;protection&#160;mechanisms&#160;to&#160;instantiate&#160;on&#160;the&#160;local&#160;platform&#160;for&#160;the&#160;TVD<br/>network&#160;traffic,&#160;and&#160;accordingly&#160;configures&#160;the&#160;local&#160;TVD&#160;vSwitch.</p>
<p style="position:absolute;top:394px;left:166px;white-space:nowrap" class="ft4811">Suppose&#160;that&#160;isolation&#160;of&#160;TVD&#160;traffic&#160;is&#160;a&#160;requirement.&#160;Then,&#160;VLAN&#160;tag-</p>
<p style="position:absolute;top:414px;left:141px;white-space:nowrap" class="ft4812">ging&#160;alone&#160;would&#160;suffice&#160;provided&#160;the&#160;TVD&#160;spans&#160;only&#160;the&#160;LAN&#160;and&#160;the&#160;physical<br/>switches&#160;on&#160;the&#160;LAN&#160;are&#160;VLAN-enabled&#160;(i.e.,&#160;it&#160;must&#160;support&#160;IEEE&#160;802.1Q&#160;and<br/>must&#160;be&#160;appropriately&#160;configured);&#160;in&#160;that&#160;case,&#160;a&#160;VLAN&#160;tagging&#160;module&#160;would<br/>be&#160;created&#160;and&#160;connected&#160;to&#160;the&#160;vSwitch.&#160;If&#160;the&#160;TVD&#160;spans&#160;beyond&#160;a&#160;LAN,&#160;then<br/>VLAN&#160;tagging&#160;must&#160;be&#160;used&#160;in&#160;conjunction&#160;with&#160;EtherIP&#160;encapsulation.&#160;In&#160;this<br/>case,&#160;the&#160;VLAN&#160;tagged&#160;packet&#160;is&#160;encapsulated&#160;in&#160;a&#160;new&#160;IP&#160;packet&#160;and&#160;tunneled&#160;to<br/>the&#160;other&#160;side,&#160;where&#160;the&#160;original&#160;VLAN&#160;tagged&#160;packet&#160;is&#160;extracted&#160;and&#160;transmit-<br/>ted&#160;on&#160;the&#160;VLAN.&#160;If&#160;VLAN-enabled&#160;switches&#160;are&#160;not&#160;available,&#160;then&#160;EtherIP&#160;alone<br/>would&#160;suffice&#160;for&#160;isolation.</p>
<p style="position:absolute;top:597px;left:166px;white-space:nowrap" class="ft4811">By&#160;itself,&#160;EtherIP&#160;does&#160;not&#160;provide&#160;integrity&#160;or&#160;confidentiality&#160;of&#160;the&#160;packets.</p>
<p style="position:absolute;top:617px;left:141px;white-space:nowrap" class="ft4812">Hence,&#160;when&#160;those&#160;properties&#160;are&#160;required,&#160;EtherIP&#160;is&#160;suitable&#160;only&#160;on&#160;routed&#160;and<br/>trusted&#160;networks,&#160;e.g.,&#160;EtherIP&#160;would&#160;be&#160;suitable&#160;for&#160;traffic&#160;between&#160;two&#160;vSwitches<br/>hosted&#160;on&#160;different&#160;physical&#160;platforms&#160;that&#160;are&#160;not&#160;connected&#160;to&#160;the&#160;same&#160;VLAN<br/>switch&#160;in&#160;a&#160;datacenter&#160;or&#160;corporate&#160;environment.</p>
<p style="position:absolute;top:699px;left:166px;white-space:nowrap" class="ft4811">If&#160;integrity&#160;or&#160;confidentiality&#160;are&#160;required&#160;properties&#160;and&#160;the&#160;underlying&#160;net-</p>
<p style="position:absolute;top:719px;left:141px;white-space:nowrap" class="ft4812">work&#160;is&#160;not&#160;trusted,&#160;then&#160;IPsec&#160;is&#160;used&#160;in&#160;conjunction&#160;with&#160;EtherIP&#160;and&#160;VLAN.&#160;In<br/>that&#160;case,&#160;the&#160;TVD&#160;proxy&#160;will&#160;create&#160;the&#160;VPN&#160;module,&#160;initialize&#160;it&#160;with&#160;the&#160;VPN<br/>key&#160;obtained&#160;from&#160;the&#160;master,&#160;and&#160;connect&#160;it&#160;to&#160;the&#160;vSwitch.&#160;Since&#160;IPsec&#160;only<br/>operates&#160;on&#160;IP&#160;packets&#160;and&#160;not&#160;Ethernet&#160;or&#160;VLAN&#160;ones,&#160;double&#160;encapsulation&#160;is<br/>needed:&#160;EtherIP&#160;is&#160;used&#160;to&#160;first&#160;encapsulate&#160;the&#160;Ethernet&#160;or&#160;VLAN&#160;packets,&#160;fol-<br/>lowed&#160;by&#160;IPsec&#160;encapsulation&#160;and&#160;encryption&#160;(using&#160;the&#160;VPN&#160;key).</p>
<p style="position:absolute;top:864px;left:141px;white-space:nowrap" class="ft4814"><b>4.5.3</b></p>
<p style="position:absolute;top:864px;left:195px;white-space:nowrap" class="ft4814"><b>Inter-TVD&#160;Management</b></p>
<p style="position:absolute;top:897px;left:141px;white-space:nowrap" class="ft4812">Separation&#160;of&#160;flow&#160;control&#160;and&#160;transport.&#160;Transport&#160;part&#160;is&#160;based&#160;on&#160;today’s&#160;con-<br/>nection&#160;between&#160;autonomous&#160;systems&#160;based&#160;on&#160;BGP.&#160;Flow&#160;control&#160;is&#160;based&#160;on&#160;fire-<br/>walls.&#160;Flow&#160;control&#160;part&#160;figures&#160;out&#160;whether&#160;a&#160;packet&#160;can&#160;get&#160;out&#160;to&#160;the&#160;other&#160;TVD<br/>and&#160;what&#160;protection&#160;mechanism&#160;is&#160;needed&#160;(e.g.,&#160;encryption).&#160;After&#160;flow&#160;control,<br/>border&#160;gateway&#160;takes&#160;care&#160;of&#160;routing&#160;the&#160;packet&#160;to&#160;the&#160;border&#160;gateway&#160;at&#160;other&#160;end.<br/>Contact&#160;master&#160;for&#160;obtaining&#160;capability&#160;of&#160;the&#160;other&#160;side&#160;gateway.&#160;Master-master<br/>communication&#160;for&#160;generating&#160;shared&#160;key&#160;for&#160;encryption&#160;for&#160;inter-TVD&#160;traffic.</p>
<p style="position:absolute;top:1039px;left:166px;white-space:nowrap" class="ft4811">One&#160;firewall&#160;for&#160;each&#160;other&#160;TVD,&#160;or&#160;new&#160;rules&#160;for&#160;another&#160;new&#160;TVD&#160;on&#160;the</p>
<p style="position:absolute;top:1059px;left:141px;white-space:nowrap" class="ft4811">same&#160;firewall?</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft4816">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 49 -->
<a name="49"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page49-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter049.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft4923">CHAPTER&#160;4.&#160;AUTOMATED&#160;PROVISIONING&#160;OF&#160;SECURE&#160;VIRTUAL&#160;NETWORKS</p>
<p style="position:absolute;top:142px;left:786px;white-space:nowrap" class="ft4911">49</p>
<p style="position:absolute;top:196px;left:238px;white-space:nowrap" class="ft4911">Inter-TVD&#160;management&#160;deals&#160;with&#160;the&#160;<i>interchange&#160;fabric&#160;</i>for&#160;communication</p>
<p style="position:absolute;top:216px;left:213px;white-space:nowrap" class="ft4912">between&#160;TVDs,&#160;enforcement&#160;of&#160;inter-TVD&#160;flow&#160;control&#160;policies,&#160;external&#160;zones&#160;(IP<br/>versus&#160;Ethernet),&#160;approval&#160;of&#160;admission&#160;requests&#160;by&#160;TVD-external&#160;entities&#160;(such&#160;as<br/>a&#160;new&#160;VM)&#160;to&#160;join&#160;the&#160;TVD,&#160;and&#160;linking&#160;such&#160;entities&#160;with&#160;the&#160;appropriate&#160;TVD<br/>master.</p>
<p style="position:absolute;top:297px;left:238px;white-space:nowrap" class="ft4911">Information&#160;flow&#160;control&#160;between&#160;TVDs&#160;has&#160;two&#160;aspects:&#160;physical&#160;topology</p>
<p style="position:absolute;top:317px;left:213px;white-space:nowrap" class="ft4912">and&#160;policies.&#160;Physically,&#160;each&#160;TVD&#160;is&#160;implemented&#160;by&#160;at&#160;least&#160;two&#160;VLANs&#160;(Fig-<br/>ure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#47">4.2)</a>:&#160;an&#160;external&#160;VLAN&#160;and&#160;an&#160;internal&#160;VLAN.&#160;The&#160;external&#160;VLAN&#160;(shown&#160;in<br/>Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#47">4.2&#160;</a>by&#160;thin&#160;lines)&#160;serves&#160;as&#160;a&#160;backbone&#160;to&#160;send/receive&#160;information&#160;to/from<br/>other&#160;TVDs.&#160;It&#160;is&#160;through&#160;the&#160;external&#160;VLAN&#160;that&#160;a&#160;TVD&#160;proxy&#160;communicates<br/>with&#160;the&#160;TVD&#160;master&#160;before&#160;becoming&#160;a&#160;member&#160;of&#160;the&#160;TVD.&#160;The&#160;internal&#160;VLAN<br/>(shown&#160;in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#47">4.2&#160;</a>by&#160;thick&#160;lines)&#160;connects&#160;machines&#160;that&#160;are&#160;part&#160;of&#160;a&#160;TVD.<br/>Inter-TVD&#160;policies&#160;specify&#160;conditions&#160;under&#160;which&#160;VLANs&#160;belonging&#160;to&#160;differ-<br/>ent&#160;TVDs&#160;are&#160;allowed&#160;to&#160;exchange&#160;information.&#160;The&#160;policies&#160;may&#160;be&#160;conveniently<br/>represented&#160;by&#160;information&#160;flow&#160;control&#160;matrices,&#160;such&#160;as&#160;the&#160;one&#160;shown&#160;in&#160;Fig-<br/>ure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#41">4.1.&#160;</a>For&#160;a&#160;given&#160;TVD,&#160;the&#160;policies&#160;are&#160;stored&#160;at&#160;the&#160;TVD&#160;master,&#160;which&#160;then<br/>enforces&#160;them&#160;in&#160;a&#160;distributed&#160;fashion&#160;through&#160;admission&#160;control&#160;and&#160;appropriate<br/>configuration&#160;of&#160;firewalls&#160;and&#160;TVD&#160;proxies.</p>
<p style="position:absolute;top:561px;left:238px;white-space:nowrap" class="ft4911">Having&#160;separate&#160;VLANs&#160;for&#160;TVD-internal&#160;and&#160;TVD-external&#160;communication</p>
<p style="position:absolute;top:582px;left:213px;white-space:nowrap" class="ft4912">facilitates&#160;unrestricted&#160;communication&#160;within&#160;a&#160;TVD&#160;and&#160;the&#160;complete&#160;isolation&#160;of<br/>a&#160;TVD&#160;from&#160;another&#160;TVD&#160;if&#160;the&#160;inter-TVD&#160;policy&#160;specified&#160;allows&#160;no&#160;information<br/>flow&#160;between&#160;the&#160;TVDs.&#160;Such&#160;is&#160;the&#160;case&#160;for</p>
<p style="position:absolute;top:621px;left:510px;white-space:nowrap" class="ft4952">T&#160;V&#160;D</p>
<p style="position:absolute;top:628px;left:548px;white-space:nowrap" class="ft4953">α</p>
<p style="position:absolute;top:622px;left:562px;white-space:nowrap" class="ft4911">and</p>
<p style="position:absolute;top:621px;left:589px;white-space:nowrap" class="ft4952">T&#160;V&#160;D</p>
<p style="position:absolute;top:628px;left:628px;white-space:nowrap" class="ft4953">β</p>
<p style="position:absolute;top:622px;left:636px;white-space:nowrap" class="ft4911">,&#160;according&#160;to&#160;the</p>
<p style="position:absolute;top:643px;left:213px;white-space:nowrap" class="ft4911">flow&#160;control&#160;matrix&#160;shown&#160;in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#41">4.1.</a></p>
<p style="position:absolute;top:663px;left:238px;white-space:nowrap" class="ft4911">A&#160;cheaper&#160;alternative&#160;to&#160;the&#160;dual&#160;VLAN&#160;solution&#160;would&#160;be&#160;to&#160;rely&#160;solely&#160;on</p>
<p style="position:absolute;top:683px;left:213px;white-space:nowrap" class="ft4912">trusted&#160;boundary&#160;elements&#160;such&#160;as&#160;firewalls&#160;to&#160;enforce&#160;isolation.&#160;The&#160;resulting<br/>assurance&#160;may&#160;be&#160;somewhat&#160;lower&#160;than&#160;that&#160;of&#160;the&#160;dual&#160;VLAN&#160;solution,&#160;because<br/>of&#160;the&#160;possibility&#160;of&#160;mis-configuring&#160;the&#160;boundary&#160;elements.</p>
<p style="position:absolute;top:744px;left:238px;white-space:nowrap" class="ft4911">As&#160;shown&#160;in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#41">4.1,&#160;</a>inter-TVD&#160;communication&#160;can&#160;be&#160;broadly&#160;classified</p>
<p style="position:absolute;top:765px;left:213px;white-space:nowrap" class="ft4912">into&#160;three&#160;types:&#160;(1)&#160;<i>controlled&#160;</i>connections,&#160;represented&#160;by&#160;policy&#160;entries&#160;in&#160;the<br/>matrix,&#160;(2)&#160;<i>open&#160;</i>or&#160;unrestricted&#160;connections,&#160;represented&#160;by</p>
<p style="position:absolute;top:785px;left:608px;white-space:nowrap" class="ft4957">1</p>
<p style="position:absolute;top:785px;left:622px;white-space:nowrap" class="ft4911">elements&#160;in&#160;the&#160;ma-</p>
<p style="position:absolute;top:805px;left:213px;white-space:nowrap" class="ft4911">trix,&#160;and&#160;(3)&#160;<i>closed&#160;</i>connections,&#160;represented&#160;by</p>
<p style="position:absolute;top:805px;left:527px;white-space:nowrap" class="ft4957">0</p>
<p style="position:absolute;top:805px;left:541px;white-space:nowrap" class="ft4911">elements&#160;in&#160;the&#160;matrix.</p>
<p style="position:absolute;top:826px;left:238px;white-space:nowrap" class="ft4911">Controlled&#160;connections&#160;restrict&#160;the&#160;flow&#160;between&#160;TVDs&#160;based&#160;on&#160;specified&#160;poli-</p>
<p style="position:absolute;top:846px;left:213px;white-space:nowrap" class="ft4912">cies.&#160;The&#160;policies&#160;are&#160;enforced&#160;at&#160;TVD&#160;boundaries&#160;(at&#160;both&#160;TVDs)&#160;by&#160;appropriately<br/>configured&#160;firewalls&#160;(represented&#160;in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#47">4.2&#160;</a>by&#160;entities&#160;marked&#160;FW).&#160;The&#160;TVD<br/>master&#160;may&#160;push&#160;pre-checked&#160;configurations&#160;(derived&#160;from&#160;TVD&#160;policies)&#160;into&#160;the<br/>firewalls&#160;during&#160;the&#160;establishment&#160;of&#160;the&#160;TVD&#160;topology.&#160;If&#160;available,&#160;a&#160;management<br/>console&#160;at&#160;the&#160;TVD&#160;master&#160;may&#160;be&#160;used&#160;to&#160;manually&#160;set&#160;up&#160;and/or&#160;alter&#160;the&#160;con-<br/>figurations&#160;of&#160;the&#160;firewalls.&#160;A&#160;TVD&#160;firewall&#160;has&#160;multiple&#160;virtual&#160;network&#160;interface<br/>cards,&#160;one&#160;card&#160;for&#160;the&#160;internal&#160;VLAN&#160;that&#160;the&#160;firewall&#160;protects&#160;and&#160;one&#160;additional<br/>card&#160;for&#160;each&#160;TVD&#160;that&#160;the&#160;members&#160;of&#160;the&#160;protected&#160;TVD&#160;want&#160;to&#160;communicate<br/>with.</p>
<p style="position:absolute;top:1029px;left:238px;white-space:nowrap" class="ft4911">Open&#160;connection&#160;between&#160;two&#160;TVDs&#160;means&#160;that&#160;any&#160;two&#160;machines&#160;in&#160;either</p>
<p style="position:absolute;top:1049px;left:213px;white-space:nowrap" class="ft4912">TVD&#160;can&#160;communicate&#160;freely.&#160;In&#160;such&#160;a&#160;case,&#160;the&#160;firewalls&#160;at&#160;both&#160;TVDs&#160;would<br/>have&#160;virtual&#160;network&#160;cards&#160;for&#160;the&#160;peer&#160;domain&#160;and&#160;simply&#160;serve&#160;as&#160;bridges&#160;be-</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft4916">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 50 -->
<a name="50"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft5077{font-size:11px;line-height:13px;font-family:Helvetica;color:#000000;}
-->
</style>
<div id="page50-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter050.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft5011">50</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft5016">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:234px;left:411px;white-space:nowrap" class="ft5033">Security&#160;</p>
<p style="position:absolute;top:248px;left:416px;white-space:nowrap" class="ft5033">Policy</p>
<p style="position:absolute;top:303px;left:410px;white-space:nowrap" class="ft5033">Per-host&#160;</p>
<p style="position:absolute;top:317px;left:403px;white-space:nowrap" class="ft5033">Extensions</p>
<p style="position:absolute;top:372px;left:414px;white-space:nowrap" class="ft5033">Global&#160;</p>
<p style="position:absolute;top:385px;left:397px;white-space:nowrap" class="ft5033">Configuration</p>
<p style="position:absolute;top:197px;left:436px;white-space:nowrap" class="ft5077">TVD&#160;<br/>Requirements</p>
<p style="position:absolute;top:269px;left:436px;white-space:nowrap" class="ft5077">Mechanisms<br/>Required</p>
<p style="position:absolute;top:338px;left:436px;white-space:nowrap" class="ft5077">Deployment&#160;Planning&#160;<br/>&amp;&#160;Management</p>
<p style="position:absolute;top:233px;left:325px;white-space:nowrap" class="ft5033">TVD&#160;Policy</p>
<p style="position:absolute;top:247px;left:338px;white-space:nowrap" class="ft5033">Model</p>
<p style="position:absolute;top:302px;left:332px;white-space:nowrap" class="ft5033">Capability</p>
<p style="position:absolute;top:316px;left:342px;white-space:nowrap" class="ft5033">Model</p>
<p style="position:absolute;top:409px;left:302px;white-space:nowrap" class="ft5077">Revised&#160;Requirements,&#160;<br/>Policies,&#160;or&#160;Capabilities</p>
<p style="position:absolute;top:458px;left:251px;white-space:nowrap" class="ft5011">Figure&#160;4.3:&#160;Steps&#160;in&#160;Auto-Deployment&#160;of&#160;TVDs.</p>
<p style="position:absolute;top:553px;left:141px;white-space:nowrap" class="ft5012">tween&#160;the&#160;domains.&#160;For&#160;example,&#160;different&#160;zones&#160;in&#160;a&#160;given&#160;enterprise&#160;may&#160;form<br/>different&#160;TVDs,&#160;but&#160;may&#160;communicate&#160;freely.&#160;As&#160;another&#160;example,&#160;two&#160;TVDs<br/>may&#160;have&#160;different&#160;membership&#160;requirements,&#160;but&#160;may&#160;have&#160;an&#160;open&#160;connection<br/>between&#160;their&#160;elements.&#160;Open&#160;connection&#160;between&#160;two&#160;domains&#160;may&#160;be&#160;imple-<br/>mented&#160;using&#160;an&#160;unlimited&#160;number&#160;of&#160;virtual&#160;routers.&#160;In&#160;a&#160;physical&#160;machine&#160;that&#160;is<br/>hosting&#160;two&#160;VMs&#160;belonging&#160;to&#160;different&#160;TVDs&#160;with&#160;an&#160;open&#160;connection,&#160;the&#160;cor-<br/>responding&#160;vSwitches&#160;may&#160;be&#160;directly&#160;connected.&#160;Communication&#160;between&#160;two<br/>TVDs,&#160;while&#160;open,&#160;may&#160;be&#160;subject&#160;to&#160;some&#160;constraints&#160;and&#160;monitoring.&#160;For&#160;ex-<br/>ample,&#160;a&#160;TVD&#160;master&#160;may&#160;permit&#160;the&#160;creation&#160;of&#160;only&#160;a&#160;few&#160;virtual&#160;routers&#160;on<br/>certain&#160;high-assurance&#160;physical&#160;machines&#160;for&#160;information&#160;flow&#160;between&#160;the&#160;TVD<br/>and&#160;another&#160;TVD&#160;with&#160;which&#160;the&#160;former&#160;has&#160;an&#160;open&#160;connection.</p>
<p style="position:absolute;top:777px;left:166px;white-space:nowrap" class="ft5011">A&#160;closed&#160;connection&#160;between&#160;two&#160;TVDs&#160;can&#160;be&#160;seen&#160;as&#160;a&#160;special&#160;case&#160;of&#160;a</p>
<p style="position:absolute;top:797px;left:141px;white-space:nowrap" class="ft5012">controlled&#160;connection&#160;in&#160;which&#160;the&#160;firewall&#160;does&#160;not&#160;have&#160;virtual&#160;network&#160;card&#160;for<br/>the&#160;peer&#160;TVD.&#160;In&#160;addition&#160;to&#160;the&#160;firewall&#160;filtering&#160;rules,&#160;the&#160;absence&#160;of&#160;the&#160;card&#160;will<br/>prevent&#160;any&#160;communication&#160;with&#160;the&#160;peer&#160;TVD.</p>
<p style="position:absolute;top:858px;left:166px;white-space:nowrap" class="ft5011">Special&#160;VMs&#160;(e.g.,&#160;gateways)&#160;may&#160;have&#160;membership&#160;in&#160;two&#160;or&#160;more&#160;open</p>
<p style="position:absolute;top:878px;left:141px;white-space:nowrap" class="ft5011">TVDs&#160;simultaneously.&#160;Consider&#160;a&#160;VM&#160;that&#160;is&#160;first&#160;a&#160;member&#160;of&#160;TVD</p>
<p style="position:absolute;top:877px;left:627px;white-space:nowrap" class="ft5052">α</p>
<p style="position:absolute;top:878px;left:637px;white-space:nowrap" class="ft5011">.&#160;The</p>
<p style="position:absolute;top:899px;left:141px;white-space:nowrap" class="ft5011">VM&#160;has&#160;one&#160;virtual&#160;NIC&#160;that&#160;is&#160;connected&#160;to&#160;the&#160;vSwitch&#160;of&#160;TVD</p>
<p style="position:absolute;top:898px;left:568px;white-space:nowrap" class="ft5052">α</p>
<p style="position:absolute;top:899px;left:579px;white-space:nowrap" class="ft5011">.&#160;Now,&#160;suppose</p>
<p style="position:absolute;top:919px;left:141px;white-space:nowrap" class="ft5011">that&#160;the&#160;VM&#160;needs&#160;to&#160;be&#160;a&#160;member&#160;of&#160;both&#160;TVD</p>
<p style="position:absolute;top:918px;left:456px;white-space:nowrap" class="ft5052">α</p>
<p style="position:absolute;top:919px;left:471px;white-space:nowrap" class="ft5011">and&#160;TVD</p>
<p style="position:absolute;top:918px;left:535px;white-space:nowrap" class="ft5052">β</p>
<p style="position:absolute;top:919px;left:549px;white-space:nowrap" class="ft5011">simultaneously.&#160;For</p>
<p style="position:absolute;top:939px;left:141px;white-space:nowrap" class="ft5012">this&#160;purpose,&#160;the&#160;VM&#160;needs&#160;to&#160;have&#160;two&#160;virtual&#160;NICs,&#160;one&#160;connected&#160;to&#160;the&#160;vSwitch<br/>of&#160;TVD</p>
<p style="position:absolute;top:958px;left:197px;white-space:nowrap" class="ft5052">α</p>
<p style="position:absolute;top:960px;left:212px;white-space:nowrap" class="ft5011">and&#160;the&#160;other&#160;connected&#160;to&#160;that&#160;of&#160;TVD</p>
<p style="position:absolute;top:958px;left:476px;white-space:nowrap" class="ft5052">β</p>
<p style="position:absolute;top:960px;left:486px;white-space:nowrap" class="ft5011">.&#160;Any&#160;VM&#160;request&#160;to&#160;create&#160;a</p>
<p style="position:absolute;top:980px;left:141px;white-space:nowrap" class="ft5012">new&#160;virtual&#160;NIC&#160;has&#160;to&#160;be&#160;approved&#160;by&#160;the&#160;TVD&#160;proxy,&#160;which&#160;grants&#160;the&#160;approval<br/>only&#160;if&#160;TVD</p>
<p style="position:absolute;top:999px;left:227px;white-space:nowrap" class="ft5052">α</p>
<p style="position:absolute;top:1000px;left:242px;white-space:nowrap" class="ft5011">is&#160;an&#160;open&#160;TVD&#160;and&#160;TVD</p>
<p style="position:absolute;top:999px;left:419px;white-space:nowrap" class="ft5052">α</p>
<p style="position:absolute;top:1000px;left:429px;white-space:nowrap" class="ft5011">’s&#160;policies&#160;allow&#160;such&#160;a&#160;dual&#160;member-</p>
<p style="position:absolute;top:1021px;left:141px;white-space:nowrap" class="ft5012">ship.&#160;Initially,&#160;the&#160;new&#160;virtual&#160;NIC&#160;is&#160;connected&#160;to&#160;the&#160;default&#160;network,&#160;and&#160;the<br/>VM&#160;sends&#160;a&#160;membership&#160;request&#160;for&#160;TVD</p>
<p style="position:absolute;top:1040px;left:419px;white-space:nowrap" class="ft5052">β</p>
<p style="position:absolute;top:1041px;left:433px;white-space:nowrap" class="ft5011">to&#160;the&#160;local&#160;TVD&#160;proxy&#160;(if&#160;present)&#160;or</p>
<p style="position:absolute;top:1061px;left:141px;white-space:nowrap" class="ft5011">a&#160;remote&#160;TVD&#160;master.&#160;If&#160;TVD</p>
<p style="position:absolute;top:1060px;left:348px;white-space:nowrap" class="ft5052">β</p>
<p style="position:absolute;top:1061px;left:358px;white-space:nowrap" class="ft5011">’s&#160;policies&#160;allow&#160;for&#160;dual&#160;membership&#160;with&#160;TVD</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft5016">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 51 -->
<a name="51"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page51-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter051.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft5123">CHAPTER&#160;4.&#160;AUTOMATED&#160;PROVISIONING&#160;OF&#160;SECURE&#160;VIRTUAL&#160;NETWORKS</p>
<p style="position:absolute;top:142px;left:786px;white-space:nowrap" class="ft5111">51</p>
<p style="position:absolute;top:194px;left:213px;white-space:nowrap" class="ft5152">α</p>
<p style="position:absolute;top:196px;left:228px;white-space:nowrap" class="ft5111">and&#160;the&#160;VM&#160;satisfies&#160;other&#160;admission&#160;requirements&#160;for&#160;TVD</p>
<p style="position:absolute;top:194px;left:635px;white-space:nowrap" class="ft5152">β</p>
<p style="position:absolute;top:196px;left:645px;white-space:nowrap" class="ft5111">,&#160;then&#160;proxy&#160;for</p>
<p style="position:absolute;top:216px;left:213px;white-space:nowrap" class="ft5111">TVD</p>
<p style="position:absolute;top:215px;left:251px;white-space:nowrap" class="ft5152">β</p>
<p style="position:absolute;top:216px;left:265px;white-space:nowrap" class="ft5111">will&#160;connect&#160;the&#160;new&#160;virtual&#160;NIC&#160;to&#160;the&#160;vSwitch&#160;of&#160;TVD</p>
<p style="position:absolute;top:215px;left:643px;white-space:nowrap" class="ft5152">β</p>
<p style="position:absolute;top:216px;left:653px;white-space:nowrap" class="ft5111">.&#160;At&#160;this&#160;point,</p>
<p style="position:absolute;top:236px;left:213px;white-space:nowrap" class="ft5111">the&#160;VM&#160;is&#160;connected&#160;to&#160;the&#160;VLANs&#160;of&#160;both&#160;TVDs.</p>
<p style="position:absolute;top:280px;left:213px;white-space:nowrap" class="ft5114"><b>4.5.4</b></p>
<p style="position:absolute;top:280px;left:266px;white-space:nowrap" class="ft5114"><b>Intra-TVD&#160;Management</b></p>
<p style="position:absolute;top:312px;left:213px;white-space:nowrap" class="ft5112">Intra-TVD&#160;management&#160;is&#160;concerned&#160;with&#160;TVD&#160;membership&#160;(including&#160;mutual<br/>authentication),&#160;communication&#160;within&#160;a&#160;TVD,&#160;and&#160;the&#160;network&#160;fabric&#160;(i.e.,&#160;inter-<br/>nal&#160;topology)&#160;of&#160;a&#160;TVD.&#160;Prior&#160;to&#160;membership&#160;negotiation,&#160;mutual&#160;authentication<br/>requires&#160;both&#160;the&#160;TVD&#160;infrastructure&#160;(TVD&#160;proxy&#160;or&#160;the&#160;master&#160;in&#160;the&#160;absence&#160;of<br/>a&#160;proxy)&#160;and&#160;the&#160;client&#160;(i.e.,&#160;the&#160;prospective&#160;member&#160;VM)&#160;to&#160;authenticate&#160;itself&#160;to<br/>each&#160;other.&#160;For&#160;TVD&#160;authentication,&#160;we&#160;employ&#160;TVD&#160;certificates&#160;that&#160;are&#160;issued<br/>and&#160;distributed&#160;for&#160;each&#160;TVD.&#160;For&#160;client&#160;authentication,&#160;we&#160;use&#160;the&#160;IEEE&#160;802.1X<br/>standard&#160;for&#160;network&#160;access&#160;control&#160;(NAC).&#160;The&#160;latter&#160;employs&#160;a&#160;port-based&#160;au-<br/>thentication&#160;scheme&#160;and&#160;a&#160;third-party&#160;authenticator&#160;(e.g.,&#160;a&#160;RADIUS&#160;server)&#160;to&#160;au-<br/>thenticate&#160;the&#160;VM.&#160;In&#160;this&#160;setting,&#160;the&#160;TVD&#160;proxy&#160;acts&#160;as&#160;the&#160;<i>authenticator&#160;</i>that<br/>forwards&#160;the&#160;request&#160;to&#160;the&#160;<i>authentication&#160;server&#160;</i>and&#160;interprets&#160;the&#160;result.&#160;We&#160;de-<br/>scribe&#160;client&#160;authentication&#160;in&#160;detail&#160;in&#160;Sections&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#47">4.5&#160;</a>and&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#53">4.6.</a></p>
<p style="position:absolute;top:556px;left:238px;white-space:nowrap" class="ft5119"><i>Intra-TVD&#160;policies&#160;</i>specify&#160;the&#160;membership&#160;requirements&#160;for&#160;each&#160;TVD,&#160;i.e.,</p>
<p style="position:absolute;top:577px;left:213px;white-space:nowrap" class="ft5112">the&#160;conditions&#160;under&#160;which&#160;a&#160;VM&#160;is&#160;allowed&#160;to&#160;join&#160;the&#160;TVD.&#160;At&#160;a&#160;physical&#160;machine<br/>hosting&#160;the&#160;VM,&#160;the&#160;requirements&#160;are&#160;enforced&#160;by&#160;the&#160;machine’s&#160;TVD&#160;proxy&#160;in<br/>collaboration&#160;with&#160;networking&#160;elements&#160;(such&#160;as&#160;vSwitches)&#160;based&#160;on&#160;the&#160;policies<br/>given&#160;to&#160;the&#160;TVD&#160;proxy&#160;by&#160;the&#160;TVD&#160;master.&#160;We&#160;describe&#160;TVD&#160;admission&#160;control<br/>in&#160;detail&#160;in&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#47">4.5.</a></p>
<p style="position:absolute;top:678px;left:238px;white-space:nowrap" class="ft5111">A&#160;VLAN&#160;can&#160;be&#160;part&#160;of&#160;at&#160;most&#160;one&#160;TVD.&#160;For&#160;completeness,&#160;each&#160;VLAN&#160;that</p>
<p style="position:absolute;top:699px;left:213px;white-space:nowrap" class="ft5111">is&#160;not&#160;explicitly&#160;part&#160;of&#160;some&#160;TVD&#160;is&#160;assumed&#160;to&#160;be&#160;a&#160;member&#160;of&#160;a&#160;<i>dummy&#160;</i>TVD,</p>
<p style="position:absolute;top:718px;left:213px;white-space:nowrap" class="ft5152">T&#160;V&#160;D</p>
<p style="position:absolute;top:724px;left:251px;white-space:nowrap" class="ft5128">∆</p>
<p style="position:absolute;top:719px;left:262px;white-space:nowrap" class="ft5111">.&#160;Although&#160;a&#160;VLAN&#160;that&#160;is&#160;part&#160;of</p>
<p style="position:absolute;top:718px;left:492px;white-space:nowrap" class="ft5152">T&#160;V&#160;D</p>
<p style="position:absolute;top:724px;left:531px;white-space:nowrap" class="ft5128">∆</p>
<p style="position:absolute;top:719px;left:546px;white-space:nowrap" class="ft5111">may&#160;employ&#160;its&#160;own&#160;protection</p>
<p style="position:absolute;top:739px;left:213px;white-space:nowrap" class="ft5112">mechanisms,&#160;the&#160;TVD&#160;itself&#160;does&#160;not&#160;enforce&#160;any&#160;flow&#160;control&#160;policy&#160;and&#160;has&#160;open<br/>or&#160;unrestricted&#160;connections&#160;with&#160;other&#160;TVDs.&#160;Thus,&#160;in&#160;the&#160;information&#160;flow&#160;control<br/>matrix&#160;representation,&#160;the&#160;entries&#160;for&#160;policies,</p>
<p style="position:absolute;top:779px;left:511px;white-space:nowrap" class="ft5152">P</p>
<p style="position:absolute;top:785px;left:521px;white-space:nowrap" class="ft5128">∆</p>
<p style="position:absolute;top:785px;left:532px;white-space:nowrap" class="ft5153">α</p>
<p style="position:absolute;top:780px;left:544px;white-space:nowrap" class="ft5111">and</p>
<p style="position:absolute;top:779px;left:571px;white-space:nowrap" class="ft5152">P</p>
<p style="position:absolute;top:785px;left:582px;white-space:nowrap" class="ft5153">α</p>
<p style="position:absolute;top:785px;left:590px;white-space:nowrap" class="ft5128">∆</p>
<p style="position:absolute;top:780px;left:601px;white-space:nowrap" class="ft5111">,&#160;would&#160;all&#160;be</p>
<p style="position:absolute;top:780px;left:692px;white-space:nowrap" class="ft5157">1</p>
<p style="position:absolute;top:780px;left:705px;white-space:nowrap" class="ft5111">for&#160;any</p>
<p style="position:absolute;top:799px;left:213px;white-space:nowrap" class="ft5152">T&#160;V&#160;D</p>
<p style="position:absolute;top:805px;left:251px;white-space:nowrap" class="ft5153">α</p>
<p style="position:absolute;top:800px;left:260px;white-space:nowrap" class="ft5111">.</p>
<p style="position:absolute;top:821px;left:238px;white-space:nowrap" class="ft5111">A&#160;VM&#160;that&#160;is&#160;connected&#160;to&#160;a&#160;particular&#160;VLAN&#160;segment&#160;automatically&#160;inherits</p>
<p style="position:absolute;top:841px;left:213px;white-space:nowrap" class="ft5112">the&#160;segment’s&#160;TVD&#160;membership.&#160;The&#160;VM&#160;gets&#160;connected&#160;to&#160;the&#160;VLAN&#160;segment<br/>only&#160;after&#160;the&#160;TVD&#160;proxy&#160;on&#160;the&#160;VM’s&#160;physical&#160;machine&#160;has&#160;checked&#160;whether&#160;the<br/>VM&#160;satisfies&#160;the&#160;TVD&#160;membership&#160;requirements.&#160;Once&#160;it&#160;has&#160;become&#160;a&#160;member,<br/>the&#160;VM&#160;can&#160;exchange&#160;information&#160;freely&#160;with&#160;all&#160;other&#160;VMs&#160;in&#160;the&#160;same&#160;VLAN<br/>segment&#160;and&#160;TVD&#160;(intra-TVD&#160;communication&#160;is&#160;typically&#160;open&#160;or&#160;unrestricted).<br/>As&#160;mentioned&#160;before,&#160;a&#160;VM&#160;can&#160;be&#160;connected&#160;to&#160;more&#160;than&#160;one&#160;VLAN&#160;(and&#160;hence,<br/>be&#160;a&#160;member&#160;of&#160;more&#160;than&#160;one&#160;TVD)&#160;through&#160;a&#160;separate&#160;vNIC&#160;for&#160;each&#160;VLAN.</p>
<p style="position:absolute;top:983px;left:238px;white-space:nowrap" class="ft5111">A&#160;VM&#160;can&#160;become&#160;a&#160;TVD&#160;member&#160;either&#160;in&#160;an&#160;active&#160;or&#160;in&#160;a&#160;passive&#160;fashion.</p>
<p style="position:absolute;top:1003px;left:213px;white-space:nowrap" class="ft5164">In&#160;the&#160;<i>passive&#160;membership&#160;model</i>,&#160;a&#160;VM&#160;can&#160;be&#160;(passively)&#160;assigned&#160;a&#160;TVD&#160;mem-<br/>bership&#160;at&#160;the&#160;time&#160;of&#160;its&#160;creation&#160;by&#160;specifying&#160;in&#160;the&#160;VM’s&#160;start-up&#160;configuration<br/>files&#160;which&#160;VLAN(s)&#160;the&#160;VM&#160;should&#160;be&#160;connected&#160;to.&#160;Alternatively,&#160;in&#160;the&#160;<i>active<br/>membership&#160;model</i>,&#160;a&#160;VM&#160;can&#160;actively&#160;request&#160;TVD&#160;membership&#160;at&#160;a&#160;later&#160;stage</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft5116">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 52 -->
<a name="52"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft5278{font-size:18px;font-family:Helvetica;color:#000000;}
	.ft5279{font-size:12px;font-family:Helvetica;color:#000000;}
	.ft5280{font-size:18px;font-family:Helvetica;color:#000000;}
	.ft5281{font-size:16px;font-family:KPSHBO+TT9CE8o00;color:#000000;}
-->
</style>
<div id="page52-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter052.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft5211">52</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft5216">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:234px;left:484px;white-space:nowrap" class="ft5278">TVD&#160;Master</p>
<p style="position:absolute;top:211px;left:334px;white-space:nowrap" class="ft5278">DomU</p>
<p style="position:absolute;top:211px;left:247px;white-space:nowrap" class="ft5278">Dom0</p>
<p style="position:absolute;top:353px;left:240px;white-space:nowrap" class="ft5279"><b>TVD&#160;proxy</b></p>
<p style="position:absolute;top:277px;left:235px;white-space:nowrap" class="ft5279"><b>TVD-specific</b></p>
<p style="position:absolute;top:291px;left:247px;white-space:nowrap" class="ft5279"><b>Modules</b></p>
<p style="position:absolute;top:248px;left:230px;white-space:nowrap" class="ft5279"><b>EtherIP&#160;VLAN</b></p>
<p style="position:absolute;top:316px;left:280px;white-space:nowrap" class="ft5280"><b>…..</b></p>
<p style="position:absolute;top:312px;left:231px;white-space:nowrap" class="ft5279"><b>Policy&#160;</b></p>
<p style="position:absolute;top:326px;left:230px;white-space:nowrap" class="ft5279"><b>Engine</b></p>
<p style="position:absolute;top:277px;left:235px;white-space:nowrap" class="ft5279"><b>TVD-specific</b></p>
<p style="position:absolute;top:291px;left:247px;white-space:nowrap" class="ft5279"><b>Modules</b></p>
<p style="position:absolute;top:248px;left:230px;white-space:nowrap" class="ft5279"><b>EtherIP&#160;VLAN</b></p>
<p style="position:absolute;top:316px;left:280px;white-space:nowrap" class="ft5280"><b>…..</b></p>
<p style="position:absolute;top:312px;left:231px;white-space:nowrap" class="ft5279"><b>Policy&#160;</b></p>
<p style="position:absolute;top:326px;left:230px;white-space:nowrap" class="ft5279"><b>Engine</b></p>
<p style="position:absolute;top:361px;left:339px;white-space:nowrap" class="ft5279"><b>vNICs</b></p>
<p style="position:absolute;top:371px;left:350px;white-space:nowrap" class="ft5280"><b>…</b></p>
<p style="position:absolute;top:436px;left:250px;white-space:nowrap" class="ft5279"><b>0</b></p>
<p style="position:absolute;top:436px;left:269px;white-space:nowrap" class="ft5279"><b>TVD&#160;object&#160;</b></p>
<p style="position:absolute;top:430px;left:333px;white-space:nowrap" class="ft5281">←</p>
<p style="position:absolute;top:436px;left:352px;white-space:nowrap" class="ft5279"><b>create&#160;TVD&#160;(TVD&#160;requirements,&#160;policy&#160;model)</b></p>
<p style="position:absolute;top:457px;left:269px;white-space:nowrap" class="ft5279"><b>create&#160;TVD&#160;Proxy&#160;(Master&#160;URL)</b></p>
<p style="position:absolute;top:459px;left:250px;white-space:nowrap" class="ft5279"><b>1</b></p>
<p style="position:absolute;top:360px;left:531px;white-space:nowrap" class="ft5279"><b>0</b></p>
<p style="position:absolute;top:483px;left:250px;white-space:nowrap" class="ft5279"><b>2</b></p>
<p style="position:absolute;top:481px;left:269px;white-space:nowrap" class="ft5279"><b>connect&#160;VM&#160;to&#160;TVD&#160;(TVD&#160;object)</b></p>
<p style="position:absolute;top:371px;left:303px;white-space:nowrap" class="ft5279"><b>1</b></p>
<p style="position:absolute;top:395px;left:437px;white-space:nowrap" class="ft5279"><b>1</b></p>
<p style="position:absolute;top:319px;left:355px;white-space:nowrap" class="ft5279"><b>2</b></p>
<p style="position:absolute;top:521px;left:281px;white-space:nowrap" class="ft5211">Figure&#160;4.4:&#160;Steps&#160;in&#160;Populating&#160;a&#160;TVD.</p>
<p style="position:absolute;top:589px;left:141px;white-space:nowrap" class="ft5212">through&#160;the&#160;corresponding&#160;TVD&#160;proxy&#160;interface&#160;or&#160;by&#160;directly&#160;contacting&#160;the&#160;TVD<br/>master&#160;if&#160;a&#160;TVD&#160;proxy&#160;is&#160;not&#160;present&#160;on&#160;the&#160;local&#160;platform.&#160;When&#160;a&#160;VM&#160;is&#160;created,<br/>it&#160;can&#160;use&#160;its&#160;default&#160;network&#160;connection&#160;to&#160;communicate&#160;with&#160;the&#160;outside&#160;world,<br/>particularly&#160;the&#160;local&#160;TVD&#160;proxy&#160;(if&#160;present)&#160;or&#160;a&#160;remote&#160;TVD&#160;master&#160;to&#160;request<br/>TVD&#160;membership.&#160;In&#160;either&#160;case,&#160;the&#160;IP&#160;address&#160;of&#160;the&#160;TVD&#160;authority&#160;must&#160;be<br/>made&#160;available&#160;to&#160;the&#160;VM.</p>
<p style="position:absolute;top:711px;left:166px;white-space:nowrap" class="ft5211">A&#160;<i>closed&#160;TVD&#160;</i>is&#160;a&#160;special&#160;TVD&#160;that&#160;has&#160;closed&#160;connections&#160;with&#160;all&#160;other</p>
<p style="position:absolute;top:731px;left:141px;white-space:nowrap" class="ft5212">TVDs.&#160;For&#160;example,&#160;in&#160;a&#160;multi-level&#160;secure&#160;(MLS)&#160;military&#160;infrastructure,&#160;a&#160;top<br/>secret&#160;military&#160;domain&#160;would&#160;be&#160;a&#160;good&#160;candidate&#160;for&#160;a&#160;closed&#160;TVD.&#160;A&#160;closed&#160;TVD<br/>is&#160;shut&#160;off&#160;from&#160;the&#160;outside&#160;world,&#160;and&#160;a&#160;VM&#160;that&#160;does&#160;not&#160;belong&#160;to&#160;the&#160;TVD&#160;is<br/>part&#160;of&#160;that&#160;outside&#160;world.&#160;Hence,&#160;the&#160;active&#160;membership&#160;model&#160;is&#160;not&#160;applicable<br/>for&#160;closed&#160;TVDs.&#160;The&#160;TVD&#160;master&#160;for&#160;closed&#160;domains&#160;maintains&#160;a&#160;list&#160;of&#160;pre-<br/>approved&#160;platforms&#160;and&#160;will&#160;create&#160;TVD&#160;proxies&#160;only&#160;on&#160;those&#160;platforms.&#160;Only&#160;the<br/>system&#160;administrator&#160;or&#160;the&#160;TVD&#160;administrator&#160;can&#160;modify&#160;the&#160;list&#160;directly&#160;at&#160;the<br/>TVD&#160;master.</p>
<p style="position:absolute;top:894px;left:166px;white-space:nowrap" class="ft5211">Open&#160;TVDs&#160;are&#160;those&#160;that&#160;are&#160;not&#160;closed.&#160;Both&#160;active&#160;and&#160;passive&#160;membership</p>
<p style="position:absolute;top:914px;left:141px;white-space:nowrap" class="ft5212">is&#160;possible&#160;in&#160;open&#160;TVDs.&#160;If&#160;the&#160;TVD&#160;master&#160;is&#160;directly&#160;contacted&#160;by&#160;the&#160;VM,&#160;the<br/>master&#160;checks&#160;whether&#160;a&#160;TVD&#160;proxy&#160;is&#160;already&#160;present&#160;on&#160;the&#160;VM’s&#160;platform.&#160;If<br/>so,&#160;the&#160;master&#160;instructs&#160;the&#160;proxy&#160;to&#160;initiate&#160;the&#160;admission&#160;protocol&#160;for&#160;the&#160;VM.&#160;If<br/>the&#160;TVD&#160;proxy&#160;is&#160;not&#160;present,&#160;then&#160;the&#160;TVD&#160;master&#160;initiates&#160;the&#160;protocol&#160;with&#160;the<br/>LCTC&#160;on&#160;the&#160;platform&#160;to&#160;create&#160;a&#160;TVD&#160;proxy.</p>
<p style="position:absolute;top:1016px;left:166px;white-space:nowrap" class="ft5211">TVD&#160;membership&#160;requirements&#160;may&#160;be&#160;checked&#160;and&#160;enforced&#160;on&#160;a&#160;one-time</p>
<p style="position:absolute;top:1036px;left:141px;white-space:nowrap" class="ft5212">or&#160;on&#160;a&#160;continual&#160;basis.&#160;Membership&#160;can&#160;be&#160;a&#160;one-time&#160;operation&#160;in&#160;which&#160;the<br/>requirements&#160;are&#160;checked&#160;once&#160;and&#160;for&#160;all,&#160;and&#160;thereafter,&#160;the&#160;VM&#160;holds&#160;the&#160;TVD</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft5216">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 53 -->
<a name="53"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page53-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter053.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft5323">CHAPTER&#160;4.&#160;AUTOMATED&#160;PROVISIONING&#160;OF&#160;SECURE&#160;VIRTUAL&#160;NETWORKS</p>
<p style="position:absolute;top:142px;left:786px;white-space:nowrap" class="ft5311">53</p>
<p style="position:absolute;top:196px;left:213px;white-space:nowrap" class="ft5312">membership&#160;for&#160;the&#160;duration&#160;of&#160;its&#160;life-cycle.&#160;Alternatively,&#160;membership&#160;require-<br/>ments&#160;can&#160;be&#160;re-evaluated&#160;in&#160;an&#160;online&#160;fashion.&#160;The&#160;TVD&#160;proxy&#160;may&#160;regularly<br/>check&#160;whether&#160;a&#160;VM&#160;satisfies&#160;the&#160;requirements.&#160;A&#160;session-based&#160;scheme&#160;may&#160;be<br/>employed&#160;in&#160;which&#160;a&#160;VM&#160;is&#160;allowed&#160;open&#160;communication&#160;with&#160;other&#160;TVD&#160;mem-<br/>bers&#160;only&#160;until&#160;the&#160;next&#160;check&#160;(i.e.,&#160;end&#160;of&#160;the&#160;session).</p>
<p style="position:absolute;top:297px;left:238px;white-space:nowrap" class="ft5311">Policy&#160;updates&#160;at&#160;the&#160;TVD&#160;master&#160;or&#160;updates&#160;to&#160;a&#160;platform&#160;configuration&#160;may</p>
<p style="position:absolute;top:317px;left:213px;white-space:nowrap" class="ft5312">result&#160;in&#160;a&#160;platform&#160;becoming&#160;ineligible&#160;to&#160;any&#160;longer&#160;host&#160;member&#160;VPEs.&#160;In&#160;that<br/>case,&#160;the&#160;TVD&#160;master&#160;contacts&#160;the&#160;LCTC&#160;and&#160;requests&#160;it&#160;to&#160;destroy&#160;the&#160;TVD&#160;proxy.<br/>If&#160;the&#160;TVD&#160;is&#160;a&#160;closed&#160;TVD,&#160;prior&#160;to&#160;the&#160;actual&#160;destruction&#160;of&#160;the&#160;TVD&#160;proxy,&#160;mem-<br/>bers&#160;VMs&#160;are&#160;either&#160;migrated&#160;to&#160;another&#160;platform&#160;with&#160;a&#160;TVD&#160;proxy&#160;or&#160;destroyed.<br/>If&#160;the&#160;TVD&#160;is&#160;a&#160;open&#160;TVD,&#160;the&#160;VMs&#160;connected&#160;to&#160;the&#160;vSwitch&#160;are&#160;detached&#160;and<br/>re-connected&#160;to&#160;the&#160;default&#160;network&#160;connection.&#160;The&#160;LCTC&#160;sends&#160;an&#160;acknowledg-<br/>ment&#160;to&#160;the&#160;TVD&#160;master&#160;after&#160;the&#160;destruction&#160;of&#160;the&#160;TVD&#160;proxy.&#160;The&#160;TVD&#160;master<br/>may&#160;also&#160;rekey&#160;the&#160;TVD&#160;VPN&#160;key&#160;and&#160;distribute&#160;the&#160;new&#160;VPN&#160;key&#160;to&#160;the&#160;TVD<br/>proxies&#160;as&#160;a&#160;further&#160;security&#160;measure.</p>
<p style="position:absolute;top:501px;left:238px;white-space:nowrap" class="ft5311">When&#160;a&#160;platform&#160;goes&#160;offline&#160;(e.g.,&#160;due&#160;to&#160;maintenance&#160;or&#160;network&#160;partition),</p>
<p style="position:absolute;top:521px;left:213px;white-space:nowrap" class="ft5312">the&#160;TVD&#160;proxy&#160;gets&#160;disconnected&#160;from&#160;the&#160;TVD&#160;master.&#160;In&#160;such&#160;cases,&#160;the&#160;discon-<br/>nected&#160;TVD&#160;proxy&#160;still&#160;continues&#160;to&#160;act&#160;as&#160;the&#160;local&#160;TVD&#160;authority&#160;for&#160;the&#160;VMs<br/>belonging&#160;to&#160;the&#160;TVD.&#160;However,&#160;the&#160;TVD&#160;VPEs&#160;on&#160;the&#160;platform&#160;are&#160;disconnected<br/>from&#160;the&#160;rest&#160;of&#160;the&#160;TVD.&#160;The&#160;absence&#160;of&#160;a&#160;threshold&#160;number&#160;of&#160;status&#160;reports&#160;from<br/>the&#160;TVD&#160;proxy&#160;causes&#160;the&#160;TVD&#160;master&#160;to&#160;update&#160;its&#160;list&#160;of&#160;TVD&#160;proxies.&#160;There-<br/>after,&#160;when&#160;the&#160;platform&#160;comes&#160;online&#160;again,&#160;the&#160;LCTC&#160;on&#160;the&#160;platform&#160;contacts<br/>the&#160;TVD&#160;master&#160;indicating&#160;that&#160;the&#160;disconnected&#160;platform&#160;is&#160;online&#160;again&#160;and&#160;con-<br/>tains&#160;TVD&#160;VPEs&#160;that&#160;wish&#160;to&#160;re-connect&#160;to&#160;the&#160;rest&#160;of&#160;the&#160;TVD.&#160;That&#160;is&#160;followed<br/>by&#160;a&#160;prepare&#160;phase,&#160;similar&#160;to&#160;the&#160;one&#160;that&#160;happens&#160;prior&#160;to&#160;the&#160;creation&#160;of&#160;the&#160;TVD<br/>proxy&#160;(Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#42">4.4.2)</a>.&#160;It&#160;is&#160;necessary&#160;to&#160;re-assess&#160;the&#160;suitability&#160;of&#160;the&#160;platform&#160;for<br/>still&#160;hosting&#160;the&#160;TVD&#160;proxy&#160;through&#160;the&#160;prepare&#160;phase,&#160;because&#160;the&#160;TVD&#160;policy&#160;and<br/>the&#160;platform&#160;state&#160;may&#160;have&#160;changed&#160;in&#160;the&#160;duration&#160;when&#160;the&#160;platform&#160;was&#160;offline.<br/>After&#160;the&#160;successful&#160;completion&#160;of&#160;the&#160;prepare&#160;phase,&#160;the&#160;TVD&#160;proxy&#160;re-establishes<br/>the&#160;secure,&#160;authenticated&#160;communication&#160;channel&#160;with&#160;the&#160;TVD&#160;master.&#160;The&#160;TVD<br/>proxy&#160;obtains&#160;the&#160;updated&#160;TVD&#160;policy&#160;and&#160;other&#160;credentials&#160;from&#160;the&#160;TVD&#160;master<br/>through&#160;the&#160;channel,&#160;and&#160;re-configures&#160;the&#160;networking&#160;components&#160;according&#160;to<br/>TVD&#160;policy.</p>
<p style="position:absolute;top:895px;left:213px;white-space:nowrap" class="ft5318"><b>4.6</b></p>
<p style="position:absolute;top:895px;left:261px;white-space:nowrap" class="ft5318"><b>Implementation&#160;in&#160;Xen</b></p>
<p style="position:absolute;top:936px;left:213px;white-space:nowrap" class="ft5311">In&#160;this&#160;section,&#160;we&#160;describe&#160;a&#160;Xen-based&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">[BDF</a></p>
<p style="position:absolute;top:933px;left:524px;white-space:nowrap" class="ft5328"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">+</a></p>
<p style="position:absolute;top:936px;left:535px;white-space:nowrap" class="ft5311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">03]&#160;</a>prototype&#160;implementation&#160;of</p>
<p style="position:absolute;top:956px;left:213px;white-space:nowrap" class="ft5312">our&#160;secure&#160;virtual&#160;networking&#160;framework.&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#56">4.5&#160;</a>shows&#160;the&#160;implementation&#160;of<br/>two&#160;TVDs,</p>
<p style="position:absolute;top:976px;left:291px;white-space:nowrap" class="ft5352">T&#160;V&#160;D</p>
<p style="position:absolute;top:982px;left:330px;white-space:nowrap" class="ft5353">α</p>
<p style="position:absolute;top:977px;left:343px;white-space:nowrap" class="ft5311">and</p>
<p style="position:absolute;top:976px;left:372px;white-space:nowrap" class="ft5352">T&#160;V&#160;D</p>
<p style="position:absolute;top:982px;left:411px;white-space:nowrap" class="ft5353">β</p>
<p style="position:absolute;top:977px;left:419px;white-space:nowrap" class="ft5311">.&#160;The&#160;policy&#160;engine,&#160;also&#160;shown&#160;in&#160;the&#160;figure,&#160;im-</p>
<p style="position:absolute;top:997px;left:213px;white-space:nowrap" class="ft5312">plements&#160;the&#160;policies&#160;corresponding&#160;to&#160;the&#160;TVDs&#160;specified&#160;in&#160;the&#160;information&#160;flow<br/>control&#160;matrix&#160;of&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#41">4.1,&#160;</a>i.e.,&#160;open&#160;connection&#160;within&#160;each&#160;TVD&#160;and&#160;closed<br/>connection&#160;between</p>
<p style="position:absolute;top:1036px;left:347px;white-space:nowrap" class="ft5352">T&#160;V&#160;D</p>
<p style="position:absolute;top:1043px;left:386px;white-space:nowrap" class="ft5353">α</p>
<p style="position:absolute;top:1037px;left:399px;white-space:nowrap" class="ft5311">and</p>
<p style="position:absolute;top:1036px;left:426px;white-space:nowrap" class="ft5352">T&#160;V&#160;D</p>
<p style="position:absolute;top:1043px;left:465px;white-space:nowrap" class="ft5353">β</p>
<p style="position:absolute;top:1037px;left:473px;white-space:nowrap" class="ft5311">.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft5316">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 54 -->
<a name="54"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft5482{font-size:15px;font-family:Times;color:#000000;}
-->
</style>
<div id="page54-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter054.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft5411">54</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft5416">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:205px;left:172px;white-space:nowrap" class="ft5411">Table&#160;4.2:&#160;Examples&#160;of&#160;Security&#160;Properties&#160;used&#160;in&#160;Capability&#160;Modeling.</p>
<p style="position:absolute;top:228px;left:152px;white-space:nowrap" class="ft5415"><b>Property</b></p>
<p style="position:absolute;top:228px;left:275px;white-space:nowrap" class="ft5415"><b>Description</b></p>
<p style="position:absolute;top:250px;left:152px;white-space:nowrap" class="ft5482">TVD&#160;Isolation</p>
<p style="position:absolute;top:250px;left:275px;white-space:nowrap" class="ft5482">Flow&#160;control&#160;policies&#160;in&#160;place&#160;for&#160;a&#160;TVD.</p>
<p style="position:absolute;top:271px;left:152px;white-space:nowrap" class="ft5482">Network</p>
<p style="position:absolute;top:271px;left:275px;white-space:nowrap" class="ft5482">The&#160;actual&#160;topology&#160;of&#160;a&#160;virtual&#160;network&#160;in&#160;a&#160;physical&#160;machine.</p>
<p style="position:absolute;top:292px;left:152px;white-space:nowrap" class="ft5482">Network&#160;Policy</p>
<p style="position:absolute;top:292px;left:275px;white-space:nowrap" class="ft5482">Security&#160;policies&#160;for&#160;the&#160;network,&#160;such&#160;as&#160;firewall&#160;rules&#160;and&#160;isola-</p>
<p style="position:absolute;top:312px;left:275px;white-space:nowrap" class="ft5482">tion&#160;rules&#160;stating&#160;which&#160;subnets&#160;can&#160;be&#160;connected.</p>
<p style="position:absolute;top:333px;left:152px;white-space:nowrap" class="ft5482">Storage&#160;Policy</p>
<p style="position:absolute;top:333px;left:275px;white-space:nowrap" class="ft5482">Policies&#160;for&#160;storage&#160;security,&#160;such&#160;as&#160;whether&#160;the&#160;disks&#160;are&#160;en-</p>
<p style="position:absolute;top:353px;left:275px;white-space:nowrap" class="ft5482">crypted&#160;and&#160;what&#160;VMs&#160;have&#160;permission&#160;to&#160;mount&#160;a&#160;particular</p>
<p style="position:absolute;top:374px;left:275px;white-space:nowrap" class="ft5482">disk.</p>
<p style="position:absolute;top:395px;left:152px;white-space:nowrap" class="ft5482">Virtual&#160;Machines</p>
<p style="position:absolute;top:395px;left:275px;white-space:nowrap" class="ft5482">The&#160;life-cycle&#160;protection&#160;mechanisms&#160;of&#160;the&#160;individual&#160;VMs,&#160;e.g.,</p>
<p style="position:absolute;top:415px;left:275px;white-space:nowrap" class="ft5482">pre-conditions&#160;for&#160;execution&#160;of&#160;a&#160;VM.</p>
<p style="position:absolute;top:436px;left:152px;white-space:nowrap" class="ft5482">Hypervisor</p>
<p style="position:absolute;top:436px;left:275px;white-space:nowrap" class="ft5482">Binary&#160;integrity&#160;of&#160;the&#160;hypervisor.</p>
<p style="position:absolute;top:457px;left:152px;white-space:nowrap" class="ft5482">Users</p>
<p style="position:absolute;top:457px;left:275px;white-space:nowrap" class="ft5482">The&#160;roles&#160;and&#160;associated&#160;users&#160;of&#160;a&#160;machine,&#160;e.g.,&#160;who&#160;can&#160;assume</p>
<p style="position:absolute;top:477px;left:275px;white-space:nowrap" class="ft5482">the&#160;role&#160;of&#160;administrator&#160;of&#160;the&#160;TVD&#160;master.</p>
<p style="position:absolute;top:528px;left:141px;white-space:nowrap" class="ft5414"><b>4.6.1</b></p>
<p style="position:absolute;top:528px;left:195px;white-space:nowrap" class="ft5414"><b>Implementation&#160;Details</b></p>
<p style="position:absolute;top:560px;left:141px;white-space:nowrap" class="ft5412">Our&#160;implementation&#160;is&#160;based&#160;on&#160;Xen-unstable&#160;3.0.4,&#160;a&#160;VMM&#160;for&#160;the&#160;IA32&#160;plat-<br/>form,&#160;with&#160;the&#160;VMs&#160;running&#160;the&#160;Linux&#160;2.6.18&#160;operating&#160;system.&#160;Our&#160;networking<br/>extensions&#160;are&#160;implemented&#160;as&#160;kernel&#160;modules&#160;in&#160;Dom0,&#160;which&#160;also&#160;acts&#160;as&#160;driver<br/>domain&#160;for&#160;the&#160;physical&#160;NIC(s)&#160;of&#160;each&#160;physical&#160;host.&#160;A&#160;driver&#160;domain&#160;is&#160;special<br/>in&#160;the&#160;sense&#160;that&#160;it&#160;has&#160;access&#160;to&#160;portions&#160;of&#160;the&#160;host’s&#160;physical&#160;hardware,&#160;such&#160;as&#160;a<br/>physical&#160;NIC.</p>
<p style="position:absolute;top:682px;left:166px;white-space:nowrap" class="ft5411">The&#160;virtual&#160;network&#160;interface&#160;organization&#160;of&#160;Xen&#160;splits&#160;a&#160;NIC&#160;driver&#160;into&#160;two</p>
<p style="position:absolute;top:703px;left:141px;white-space:nowrap" class="ft5412">parts:&#160;a&#160;front-end&#160;driver&#160;and&#160;a&#160;back-end&#160;driver.&#160;A&#160;front-end&#160;driver&#160;is&#160;a&#160;special&#160;NIC<br/>driver&#160;that&#160;resides&#160;within&#160;the&#160;kernel&#160;of&#160;the&#160;guest&#160;OS.&#160;It&#160;is&#160;responsible&#160;for&#160;allocating<br/>a&#160;network&#160;device&#160;within&#160;the&#160;guest&#160;kernel&#160;(eth0&#160;in&#160;Dom1&#160;and&#160;Dom2&#160;of&#160;hosts&#160;A&#160;and<br/>B,&#160;shown&#160;in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#56">4.5)</a>.&#160;The&#160;guest&#160;kernel&#160;layers&#160;its&#160;IP&#160;stack&#160;on&#160;top&#160;of&#160;that&#160;device<br/>as&#160;if&#160;it&#160;had&#160;a&#160;real&#160;Ethernet&#160;device&#160;driver&#160;to&#160;talk&#160;to.&#160;The&#160;back-end&#160;portion&#160;of&#160;the<br/>network&#160;driver&#160;resides&#160;within&#160;the&#160;kernel&#160;of&#160;a&#160;separate&#160;driver&#160;domain&#160;(Dom0&#160;in&#160;our<br/>implementation)&#160;and&#160;creates&#160;a&#160;network&#160;device&#160;within&#160;the&#160;driver&#160;domain&#160;for&#160;every<br/>front-end&#160;device&#160;in&#160;a&#160;guest&#160;domain&#160;that&#160;gets&#160;created.&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#56">4.5&#160;</a>shows&#160;two&#160;of&#160;these<br/>back-end&#160;devices,&#160;vif1.0&#160;and&#160;vif2.0,&#160;in&#160;each&#160;of&#160;the&#160;two&#160;hosts&#160;A&#160;and&#160;B.&#160;These&#160;back-<br/>end&#160;devices&#160;correspond&#160;to&#160;the&#160;eth0&#160;devices&#160;in&#160;Dom1&#160;and&#160;Dom2,&#160;respectively,&#160;in<br/>each&#160;host.</p>
<p style="position:absolute;top:926px;left:166px;white-space:nowrap" class="ft5411">Conceptually,&#160;the&#160;pair&#160;of&#160;front-end&#160;and&#160;back-end&#160;devices&#160;behaves&#160;as&#160;follows.</p>
<p style="position:absolute;top:947px;left:141px;white-space:nowrap" class="ft5412">Packets&#160;sent&#160;out&#160;by&#160;the&#160;network&#160;stack&#160;running&#160;on&#160;top&#160;of&#160;the&#160;front-end&#160;network&#160;de-<br/>vice&#160;in&#160;the&#160;guest&#160;domain&#160;appear&#160;as&#160;packets&#160;received&#160;by&#160;the&#160;back-end&#160;network&#160;device<br/>in&#160;the&#160;driver&#160;domain.&#160;Similarly,&#160;packets&#160;sent&#160;out&#160;by&#160;the&#160;back-end&#160;network-device<br/>by&#160;the&#160;driver&#160;domain&#160;appear&#160;to&#160;the&#160;network&#160;stack&#160;running&#160;within&#160;a&#160;guest&#160;domain<br/>as&#160;packets&#160;received&#160;by&#160;the&#160;front-end&#160;network&#160;device.&#160;In&#160;its&#160;standard&#160;configuration,<br/>Xen&#160;is&#160;configured&#160;to&#160;simply&#160;bridge&#160;the&#160;driver&#160;domain&#160;back-end&#160;devices&#160;onto&#160;the<br/>real&#160;physical&#160;NIC.&#160;By&#160;this&#160;mechanism,&#160;packets&#160;generated&#160;by&#160;a&#160;guest&#160;domain&#160;find</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft5416">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 55 -->
<a name="55"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page55-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter055.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft5523">CHAPTER&#160;4.&#160;AUTOMATED&#160;PROVISIONING&#160;OF&#160;SECURE&#160;VIRTUAL&#160;NETWORKS</p>
<p style="position:absolute;top:142px;left:786px;white-space:nowrap" class="ft5511">55</p>
<p style="position:absolute;top:205px;left:213px;white-space:nowrap" class="ft5512">Table&#160;4.3:&#160;Assurance&#160;for&#160;Past,&#160;Present,&#160;and&#160;Future&#160;States&#160;used&#160;in&#160;Capability&#160;Mod-<br/>eling.</p>
<p style="position:absolute;top:248px;left:224px;white-space:nowrap" class="ft5515"><b>Past&#160;State</b></p>
<p style="position:absolute;top:248px;left:346px;white-space:nowrap" class="ft5515"><b>Description</b></p>
<p style="position:absolute;top:270px;left:224px;white-space:nowrap" class="ft5582">Trust</p>
<p style="position:absolute;top:270px;left:346px;white-space:nowrap" class="ft5582">A&#160;user&#160;believes&#160;that&#160;an&#160;entity&#160;has&#160;certain&#160;security&#160;properties.</p>
<p style="position:absolute;top:291px;left:224px;white-space:nowrap" class="ft5582">Mutable&#160;Log</p>
<p style="position:absolute;top:291px;left:346px;white-space:nowrap" class="ft5582">The&#160;entity&#160;provides&#160;log-file&#160;evidence&#160;(e.g.,&#160;audits)&#160;that&#160;indicates</p>
<p style="position:absolute;top:311px;left:346px;white-space:nowrap" class="ft5582">that&#160;the&#160;platform&#160;provides&#160;certain&#160;properties.</p>
<p style="position:absolute;top:331px;left:224px;white-space:nowrap" class="ft5582">Immutable&#160;Logs</p>
<p style="position:absolute;top:331px;left:346px;white-space:nowrap" class="ft5582">The&#160;entity&#160;has&#160;immutable&#160;logging&#160;systems&#160;(e.g.,&#160;a&#160;TPM-</p>
<p style="position:absolute;top:352px;left:346px;white-space:nowrap" class="ft5582">quote&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">[Tru03]</a>)&#160;for&#160;providing&#160;evidence.&#160;Since&#160;the&#160;log&#160;cannot&#160;mod-</p>
<p style="position:absolute;top:372px;left:346px;white-space:nowrap" class="ft5582">ified&#160;by&#160;the&#160;entity&#160;itself,&#160;the&#160;resulting&#160;assurance&#160;is&#160;stronger&#160;than</p>
<p style="position:absolute;top:392px;left:346px;white-space:nowrap" class="ft5582">when&#160;mutable&#160;logs&#160;are&#160;used.</p>
<p style="position:absolute;top:415px;left:224px;white-space:nowrap" class="ft5515"><b>Present&#160;State</b></p>
<p style="position:absolute;top:415px;left:346px;white-space:nowrap" class="ft5515"><b>Description</b></p>
<p style="position:absolute;top:437px;left:224px;white-space:nowrap" class="ft5582">Evaluations</p>
<p style="position:absolute;top:437px;left:346px;white-space:nowrap" class="ft5582">Evaluation&#160;of&#160;a&#160;given&#160;state,&#160;e.g.,&#160;Common&#160;Criteria&#160;evalua-</p>
<p style="position:absolute;top:457px;left:346px;white-space:nowrap" class="ft5582">tions&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">[Com98]</a>.</p>
<p style="position:absolute;top:478px;left:224px;white-space:nowrap" class="ft5582">Introspection</p>
<p style="position:absolute;top:478px;left:346px;white-space:nowrap" class="ft5582">Introspection&#160;of&#160;a&#160;system&#160;by&#160;executing&#160;security&#160;tests,&#160;e.g.,&#160;virus</p>
<p style="position:absolute;top:498px;left:346px;white-space:nowrap" class="ft5582">scanner.</p>
<p style="position:absolute;top:521px;left:224px;white-space:nowrap" class="ft5515"><b>Future&#160;State</b></p>
<p style="position:absolute;top:521px;left:346px;white-space:nowrap" class="ft5515"><b>Description</b></p>
<p style="position:absolute;top:543px;left:224px;white-space:nowrap" class="ft5582">Policies</p>
<p style="position:absolute;top:543px;left:346px;white-space:nowrap" class="ft5582">By&#160;providing&#160;policies&#160;and&#160;evidence&#160;of&#160;their&#160;enforcement,&#160;a&#160;system</p>
<p style="position:absolute;top:563px;left:346px;white-space:nowrap" class="ft5582">can&#160;justify&#160;claims&#160;about&#160;its&#160;future&#160;behavior.&#160;e.g.,&#160;DRM&#160;policies</p>
<p style="position:absolute;top:584px;left:346px;white-space:nowrap" class="ft5582">and&#160;VM&#160;life-cycle&#160;protection&#160;policy.</p>
<p style="position:absolute;top:604px;left:224px;white-space:nowrap" class="ft5582">Audit</p>
<p style="position:absolute;top:604px;left:346px;white-space:nowrap" class="ft5582">By&#160;guaranteeing&#160;regular&#160;audits,&#160;organizations&#160;can&#160;claim&#160;that&#160;cer-</p>
<p style="position:absolute;top:624px;left:346px;white-space:nowrap" class="ft5582">tain&#160;policies&#160;will&#160;be&#160;enforced&#160;in&#160;the&#160;future.</p>
<p style="position:absolute;top:676px;left:213px;white-space:nowrap" class="ft5512">their&#160;way&#160;onto&#160;the&#160;physical&#160;network&#160;and&#160;packets&#160;on&#160;the&#160;physical&#160;network&#160;can&#160;be<br/>received&#160;by&#160;the&#160;guest&#160;domain.</p>
<p style="position:absolute;top:717px;left:238px;white-space:nowrap" class="ft5511">The&#160;Xen&#160;configuration&#160;file&#160;is&#160;used&#160;to&#160;specify&#160;the&#160;particular&#160;vSwitch&#160;and&#160;the</p>
<p style="position:absolute;top:737px;left:213px;white-space:nowrap" class="ft5512">particular&#160;port&#160;in&#160;the&#160;vSwitch&#160;to&#160;which&#160;a&#160;Xen&#160;back-end&#160;device&#160;is&#160;attached.&#160;We<br/>use&#160;additional&#160;scripts&#160;to&#160;specify&#160;whether&#160;a&#160;particular&#160;vSwitch&#160;should&#160;use&#160;one&#160;or<br/>both&#160;of&#160;VLAN&#160;tagging&#160;and&#160;encapsulation&#160;mechanisms&#160;for&#160;isolating&#160;separate&#160;virtual<br/>networks.</p>
<p style="position:absolute;top:818px;left:238px;white-space:nowrap" class="ft5511">The&#160;vSwitches&#160;for</p>
<p style="position:absolute;top:817px;left:366px;white-space:nowrap" class="ft5552">T&#160;V&#160;D</p>
<p style="position:absolute;top:824px;left:404px;white-space:nowrap" class="ft5553">α</p>
<p style="position:absolute;top:818px;left:418px;white-space:nowrap" class="ft5511">and</p>
<p style="position:absolute;top:817px;left:447px;white-space:nowrap" class="ft5552">T&#160;V&#160;D</p>
<p style="position:absolute;top:824px;left:486px;white-space:nowrap" class="ft5553">β</p>
<p style="position:absolute;top:818px;left:499px;white-space:nowrap" class="ft5511">are&#160;each&#160;implemented&#160;in&#160;a&#160;distributed</p>
<p style="position:absolute;top:839px;left:213px;white-space:nowrap" class="ft5512">fashion&#160;(i.e.,&#160;spread&#160;across&#160;hosts&#160;A&#160;and&#160;B)&#160;by&#160;a&#160;kernel&#160;module&#160;in&#160;Dom0,&#160;which<br/>maintains&#160;a&#160;table&#160;mapping&#160;virtual&#160;network&#160;devices&#160;to&#160;ports&#160;on&#160;a&#160;particular&#160;vSwitch.<br/>Essentially,&#160;the&#160;kernel&#160;module&#160;implements&#160;EtherIP&#160;processing&#160;for&#160;packets&#160;coming<br/>out&#160;of&#160;and&#160;destined&#160;for&#160;the&#160;VMs.&#160;Each&#160;virtual&#160;switch&#160;(and&#160;hence&#160;VLAN&#160;segment)<br/>has&#160;a&#160;number&#160;identifier&#160;associated&#160;with&#160;it.&#160;The&#160;Ethernet&#160;packets&#160;sent&#160;by&#160;a&#160;VM<br/>are&#160;captured&#160;by&#160;the&#160;kernel&#160;module&#160;implementing&#160;part&#160;of&#160;the&#160;vSwitch&#160;as&#160;they&#160;are<br/>received&#160;on&#160;the&#160;corresponding&#160;back-end&#160;device&#160;in&#160;Dom0.&#160;The&#160;packets&#160;are&#160;encap-<br/>sulated&#160;using&#160;EtherIP&#160;with&#160;the&#160;network&#160;identifier&#160;field&#160;set&#160;to&#160;match&#160;the&#160;identifier<br/>of&#160;the&#160;vSwitch&#160;that&#160;the&#160;VM&#160;is&#160;supposed&#160;to&#160;be&#160;plugged&#160;into.&#160;The&#160;EtherIP&#160;packet<br/>is&#160;given&#160;either&#160;a&#160;multicast&#160;or&#160;unicast&#160;IP&#160;address&#160;and&#160;simply&#160;fed&#160;into&#160;the&#160;Dom0<br/>IP&#160;stack&#160;for&#160;routing&#160;onto&#160;the&#160;physical&#160;network.&#160;The&#160;kernel&#160;module&#160;also&#160;receives<br/>EtherIP&#160;packets&#160;destined&#160;for&#160;the&#160;physical&#160;host.&#160;The&#160;module&#160;un-encapsulates&#160;the</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft5516">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 56 -->
<a name="56"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft5683{font-size:12px;font-family:KPSHBO+TT10D5Do00;color:#000000;}
	.ft5684{font-size:9px;font-family:KPSHBO+TT10D5Eo00;color:#000000;}
	.ft5685{font-size:6px;line-height:7px;font-family:Helvetica;color:#000000;}
-->
</style>
<div id="page56-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter056.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft5611">56</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft5616">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:195px;left:262px;white-space:nowrap" class="ft5663"><b>Host&#160;A</b></p>
<p style="position:absolute;top:214px;left:330px;white-space:nowrap" class="ft5663"><b>Dom&#160;1</b></p>
<p style="position:absolute;top:214px;left:223px;white-space:nowrap" class="ft5663"><b>Dom&#160;0</b></p>
<p style="position:absolute;top:260px;left:252px;white-space:nowrap" class="ft5683">α</p>
<p style="position:absolute;top:262px;left:213px;white-space:nowrap" class="ft5663"><b>encap.</b></p>
<p style="position:absolute;top:270px;left:212px;white-space:nowrap" class="ft5663"><b>module</b></p>
<p style="position:absolute;top:260px;left:172px;white-space:nowrap" class="ft5663"><b>VLAN&#160;</b></p>
<p style="position:absolute;top:268px;left:170px;white-space:nowrap" class="ft5685"><b>tagging<br/>module</b></p>
<p style="position:absolute;top:231px;left:268px;white-space:nowrap" class="ft5663"><b>Policy</b></p>
<p style="position:absolute;top:239px;left:266px;white-space:nowrap" class="ft5663"><b>Engine</b></p>
<p style="position:absolute;top:250px;left:261px;white-space:nowrap" class="ft5663"><b>vSwitches</b></p>
<p style="position:absolute;top:333px;left:343px;white-space:nowrap" class="ft5663"><b>eth0</b></p>
<p style="position:absolute;top:333px;left:385px;white-space:nowrap" class="ft5663"><b>eth0</b></p>
<p style="position:absolute;top:333px;left:300px;white-space:nowrap" class="ft5663"><b>vif2.0</b></p>
<p style="position:absolute;top:334px;left:261px;white-space:nowrap" class="ft5663"><b>vif1.0</b></p>
<p style="position:absolute;top:333px;left:227px;white-space:nowrap" class="ft5663"><b>eth0</b></p>
<p style="position:absolute;top:318px;left:335px;white-space:nowrap" class="ft5663"><b>front-end&#160;devices</b></p>
<p style="position:absolute;top:309px;left:258px;white-space:nowrap" class="ft5663"><b>back-end&#160;</b></p>
<p style="position:absolute;top:317px;left:261px;white-space:nowrap" class="ft5663"><b>devices</b></p>
<p style="position:absolute;top:313px;left:226px;white-space:nowrap" class="ft5685"><b>physical<br/>NIC</b></p>
<p style="position:absolute;top:394px;left:367px;white-space:nowrap" class="ft5663"><b>VLAN-capable</b></p>
<p style="position:absolute;top:401px;left:366px;white-space:nowrap" class="ft5663"><b>physical&#160;switch</b></p>
<p style="position:absolute;top:195px;left:537px;white-space:nowrap" class="ft5663"><b>Host&#160;B</b></p>
<p style="position:absolute;top:214px;left:605px;white-space:nowrap" class="ft5663"><b>Dom&#160;1</b></p>
<p style="position:absolute;top:214px;left:498px;white-space:nowrap" class="ft5663"><b>Dom&#160;0</b></p>
<p style="position:absolute;top:260px;left:527px;white-space:nowrap" class="ft5683">α</p>
<p style="position:absolute;top:262px;left:488px;white-space:nowrap" class="ft5663"><b>encap.</b></p>
<p style="position:absolute;top:270px;left:487px;white-space:nowrap" class="ft5663"><b>module</b></p>
<p style="position:absolute;top:260px;left:447px;white-space:nowrap" class="ft5663"><b>VLAN&#160;</b></p>
<p style="position:absolute;top:268px;left:445px;white-space:nowrap" class="ft5685"><b>tagging<br/>module</b></p>
<p style="position:absolute;top:231px;left:543px;white-space:nowrap" class="ft5663"><b>Policy</b></p>
<p style="position:absolute;top:239px;left:541px;white-space:nowrap" class="ft5663"><b>Engine</b></p>
<p style="position:absolute;top:250px;left:536px;white-space:nowrap" class="ft5663"><b>vSwitches</b></p>
<p style="position:absolute;top:333px;left:618px;white-space:nowrap" class="ft5663"><b>eth0</b></p>
<p style="position:absolute;top:333px;left:660px;white-space:nowrap" class="ft5663"><b>eth0</b></p>
<p style="position:absolute;top:333px;left:575px;white-space:nowrap" class="ft5663"><b>vif2.0</b></p>
<p style="position:absolute;top:334px;left:536px;white-space:nowrap" class="ft5663"><b>vif1.0</b></p>
<p style="position:absolute;top:333px;left:502px;white-space:nowrap" class="ft5663"><b>eth0</b></p>
<p style="position:absolute;top:318px;left:610px;white-space:nowrap" class="ft5663"><b>front-end&#160;devices</b></p>
<p style="position:absolute;top:309px;left:533px;white-space:nowrap" class="ft5663"><b>back-end&#160;</b></p>
<p style="position:absolute;top:317px;left:536px;white-space:nowrap" class="ft5663"><b>devices</b></p>
<p style="position:absolute;top:313px;left:501px;white-space:nowrap" class="ft5685"><b>physical<br/>NIC</b></p>
<p style="position:absolute;top:423px;left:213px;white-space:nowrap" class="ft5663"><b>Host&#160;C</b></p>
<p style="position:absolute;top:468px;left:227px;white-space:nowrap" class="ft5663"><b>eth0</b></p>
<p style="position:absolute;top:443px;left:207px;white-space:nowrap" class="ft5663"><b>physical&#160;NIC</b></p>
<p style="position:absolute;top:451px;left:201px;white-space:nowrap" class="ft5663"><b>(VLAN&#160;un-aware)</b></p>
<p style="position:absolute;top:407px;left:298px;white-space:nowrap" class="ft5663"><b>C</b></p>
<p style="position:absolute;top:407px;left:287px;white-space:nowrap" class="ft5663"><b>A1</b></p>
<p style="position:absolute;top:407px;left:442px;white-space:nowrap" class="ft5663"><b>C</b></p>
<p style="position:absolute;top:407px;left:431px;white-space:nowrap" class="ft5663"><b>B1</b></p>
<p style="position:absolute;top:486px;left:279px;white-space:nowrap" class="ft5663"><b>C</b></p>
<p style="position:absolute;top:486px;left:268px;white-space:nowrap" class="ft5663"><b>A1</b></p>
<p style="position:absolute;top:486px;left:340px;white-space:nowrap" class="ft5663"><b>C</b></p>
<p style="position:absolute;top:486px;left:329px;white-space:nowrap" class="ft5663"><b>B1</b></p>
<p style="position:absolute;top:384px;left:296px;white-space:nowrap" class="ft5663"><b>A1</b></p>
<p style="position:absolute;top:384px;left:289px;white-space:nowrap" class="ft5663"><b>C</b></p>
<p style="position:absolute;top:384px;left:441px;white-space:nowrap" class="ft5663"><b>B1</b></p>
<p style="position:absolute;top:384px;left:433px;white-space:nowrap" class="ft5663"><b>C</b></p>
<p style="position:absolute;top:463px;left:278px;white-space:nowrap" class="ft5663"><b>A1</b></p>
<p style="position:absolute;top:463px;left:270px;white-space:nowrap" class="ft5663"><b>C</b></p>
<p style="position:absolute;top:463px;left:338px;white-space:nowrap" class="ft5663"><b>B1</b></p>
<p style="position:absolute;top:463px;left:331px;white-space:nowrap" class="ft5663"><b>C</b></p>
<p style="position:absolute;top:215px;left:647px;white-space:nowrap" class="ft5663"><b>Dom&#160;2</b></p>
<p style="position:absolute;top:215px;left:372px;white-space:nowrap" class="ft5663"><b>Dom&#160;2</b></p>
<p style="position:absolute;top:262px;left:290px;white-space:nowrap" class="ft5684">β</p>
<p style="position:absolute;top:262px;left:565px;white-space:nowrap" class="ft5684">β</p>
<p style="position:absolute;top:526px;left:253px;white-space:nowrap" class="ft5611">Figure&#160;4.5:&#160;Prototype&#160;Implementation&#160;of&#160;TVDs.</p>
<p style="position:absolute;top:594px;left:141px;white-space:nowrap" class="ft5612">Ethernet&#160;frames&#160;contained&#160;in&#160;the&#160;encapsulated&#160;EtherIP&#160;packets&#160;and&#160;transmits&#160;the<br/>raw&#160;frame&#160;over&#160;the&#160;appropriate&#160;virtual&#160;network&#160;interface&#160;so&#160;that&#160;it&#160;is&#160;received&#160;by<br/>the&#160;intended&#160;guest&#160;vNIC.</p>
<p style="position:absolute;top:654px;left:166px;white-space:nowrap" class="ft5611">In&#160;addition&#160;to&#160;the&#160;kernel&#160;module&#160;for&#160;EtherIP&#160;processing,&#160;we&#160;have&#160;also&#160;imple-</p>
<p style="position:absolute;top:675px;left:141px;white-space:nowrap" class="ft5612">mented&#160;a&#160;kernel&#160;module&#160;for&#160;VLAN&#160;tagging&#160;in&#160;Dom0&#160;of&#160;each&#160;virtualized&#160;host.&#160;Eth-<br/>ernet&#160;packets&#160;sent&#160;by&#160;a&#160;VM&#160;are&#160;grabbed&#160;at&#160;the&#160;same&#160;point&#160;in&#160;the&#160;Dom0&#160;network<br/>stack&#160;as&#160;in&#160;the&#160;case&#160;of&#160;EtherIP&#160;processing.&#160;However,&#160;instead&#160;of&#160;wrapping&#160;the&#160;Eth-<br/>ernet&#160;packets&#160;in&#160;an&#160;IP&#160;packet,&#160;the&#160;VLAN&#160;tagging&#160;module&#160;re-transmits&#160;the&#160;packets<br/>unmodified&#160;into&#160;a&#160;pre-configured&#160;Linux&#160;VLAN&#160;device&#160;(eth0.</p>
<p style="position:absolute;top:755px;left:538px;white-space:nowrap" class="ft5652">α</p>
<p style="position:absolute;top:756px;left:553px;white-space:nowrap" class="ft5611">and&#160;eth0.</p>
<p style="position:absolute;top:755px;left:613px;white-space:nowrap" class="ft5652">β</p>
<p style="position:absolute;top:756px;left:627px;white-space:nowrap" class="ft5611">of&#160;hosts</p>
<p style="position:absolute;top:776px;left:141px;white-space:nowrap" class="ft5612">A&#160;and&#160;B,&#160;shown&#160;in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#56">4.5)&#160;</a>matching&#160;the&#160;VLAN&#160;that&#160;the&#160;VM’s&#160;vNIC&#160;is&#160;sup-<br/>posed&#160;to&#160;be&#160;connected&#160;to.&#160;The&#160;VLAN&#160;devic<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#56">e</a></p>
<p style="position:absolute;top:794px;left:448px;white-space:nowrap" class="ft5620"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#56">7</a></p>
<p style="position:absolute;top:797px;left:461px;white-space:nowrap" class="ft5611">(provided&#160;by&#160;the&#160;standard&#160;Linux</p>
<p style="position:absolute;top:817px;left:141px;white-space:nowrap" class="ft5612">kernel&#160;VLAN&#160;support)&#160;applies&#160;the&#160;right&#160;VLAN&#160;tag&#160;to&#160;the&#160;packet&#160;before&#160;sending&#160;it<br/>out&#160;onto&#160;the&#160;physical&#160;wire&#160;through&#160;the&#160;physical&#160;NIC.&#160;The&#160;VLAN&#160;tagging&#160;module<br/>also&#160;intercepts&#160;VLAN&#160;packets&#160;arriving&#160;on&#160;the&#160;physical&#160;wire&#160;destined&#160;for&#160;a&#160;VM.<br/>The&#160;module&#160;uses&#160;the&#160;standard&#160;Linux&#160;VLAN&#160;Ethernet&#160;packet&#160;handler&#160;provided&#160;by<br/>the&#160;8021q.ko&#160;kernel&#160;module&#160;with&#160;a&#160;slight&#160;modification:&#160;the&#160;handler&#160;removes&#160;the<br/>VLAN&#160;tags&#160;and,&#160;based&#160;on&#160;the&#160;tag,&#160;maps&#160;packets&#160;to&#160;the&#160;appropriate&#160;vSwitch&#160;(</p>
<p style="position:absolute;top:918px;left:668px;white-space:nowrap" class="ft5652">α</p>
<p style="position:absolute;top:939px;left:141px;white-space:nowrap" class="ft5611">or</p>
<p style="position:absolute;top:938px;left:160px;white-space:nowrap" class="ft5652">β</p>
<p style="position:absolute;top:939px;left:170px;white-space:nowrap" class="ft5611">)&#160;which,&#160;in&#160;turn,&#160;maps&#160;them&#160;to&#160;the&#160;corresponding&#160;back-end&#160;device&#160;(vif1.0&#160;or</p>
<p style="position:absolute;top:959px;left:141px;white-space:nowrap" class="ft5612">vif2.0)&#160;in&#160;Dom0.&#160;The&#160;packets&#160;eventually&#160;arrive&#160;at&#160;the&#160;corresponding&#160;front-end&#160;de-<br/>vice&#160;(eth0&#160;in&#160;Dom1&#160;or&#160;Dom2)&#160;as&#160;plain&#160;Ethernet&#160;packets.</p>
<p style="position:absolute;top:1009px;left:160px;white-space:nowrap" class="ft5621">7</p>
<p style="position:absolute;top:1012px;left:165px;white-space:nowrap" class="ft5622">An&#160;alternative&#160;approach,&#160;which&#160;we&#160;will&#160;implement&#160;in&#160;the&#160;future,&#160;is&#160;to&#160;directly&#160;tag&#160;the&#160;packet&#160;and</p>
<p style="position:absolute;top:1028px;left:141px;white-space:nowrap" class="ft5660">send&#160;the&#160;tagged&#160;packet&#160;straight&#160;out&#160;of&#160;the&#160;physical&#160;NIC&#160;without&#160;relying&#160;on&#160;the&#160;standard&#160;Linux&#160;VLAN<br/>devices.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft5616">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 57 -->
<a name="57"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page57-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter057.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft5723">CHAPTER&#160;4.&#160;AUTOMATED&#160;PROVISIONING&#160;OF&#160;SECURE&#160;VIRTUAL&#160;NETWORKS</p>
<p style="position:absolute;top:142px;left:786px;white-space:nowrap" class="ft5711">57</p>
<p style="position:absolute;top:195px;left:213px;white-space:nowrap" class="ft5714"><b>4.6.2</b></p>
<p style="position:absolute;top:195px;left:266px;white-space:nowrap" class="ft5714"><b>Implementation&#160;Issues</b></p>
<p style="position:absolute;top:227px;left:213px;white-space:nowrap" class="ft5712">Below&#160;are&#160;some&#160;implementation&#160;issues&#160;we&#160;had&#160;to&#160;tackle&#160;in&#160;realizing&#160;the&#160;VLAN&#160;and<br/>encapsulation&#160;approaches.</p>
<p style="position:absolute;top:268px;left:238px;white-space:nowrap" class="ft5711">(1)&#160;Some&#160;Ethernet&#160;cards&#160;offer&#160;VLAN&#160;tag&#160;filtering&#160;and&#160;tag&#160;removal/offload&#160;capa-</p>
<p style="position:absolute;top:288px;left:213px;white-space:nowrap" class="ft5712">bilities.&#160;Such&#160;capabilities&#160;are&#160;useful&#160;when&#160;running&#160;just&#160;a&#160;single&#160;kernel&#160;on&#160;a&#160;physical<br/>platform,&#160;in&#160;which&#160;case&#160;there&#160;is&#160;no&#160;need&#160;to&#160;maintain&#160;the&#160;tags&#160;for&#160;making&#160;propa-<br/>gation&#160;decisions.&#160;However,&#160;for&#160;our&#160;virtual&#160;networking&#160;extensions,&#160;the&#160;hardware<br/>device&#160;should&#160;not&#160;strip&#160;the&#160;tags&#160;from&#160;packets&#160;on&#160;reception&#160;over&#160;the&#160;physical&#160;wire;<br/>instead,&#160;the&#160;kernel&#160;modules&#160;we&#160;have&#160;implemented&#160;should&#160;decide&#160;to&#160;which&#160;VM<br/>the&#160;packets&#160;should&#160;be&#160;forwarded.&#160;For&#160;this&#160;purpose,&#160;we&#160;modified&#160;the&#160;Linux&#160;kernel<br/>tg3.ko&#160;and&#160;forcedeth.ko&#160;network&#160;drivers&#160;so&#160;as&#160;to&#160;disable&#160;VLAN&#160;offloading.</p>
<p style="position:absolute;top:430px;left:238px;white-space:nowrap" class="ft5711">(2)&#160;For&#160;efficiency&#160;reasons,&#160;the&#160;Xen&#160;front-end&#160;and&#160;back-end&#160;driver&#160;implementa-</p>
<p style="position:absolute;top:450px;left:213px;white-space:nowrap" class="ft5712">tions&#160;avoid&#160;computing&#160;checksums&#160;between&#160;them&#160;for&#160;TCP/IP&#160;and&#160;UDP/IP&#160;packets.<br/>We&#160;modified&#160;the&#160;Xen&#160;code&#160;to&#160;also&#160;handle&#160;our&#160;EtherIP-encapsulated&#160;IP&#160;packets&#160;in&#160;a<br/>similar&#160;manner.</p>
<p style="position:absolute;top:511px;left:238px;white-space:nowrap" class="ft5711">(3)&#160;The&#160;EtherIP&#160;encapsulation&#160;approach&#160;relies&#160;on&#160;mapping&#160;a&#160;virtual&#160;Ethernet</p>
<p style="position:absolute;top:532px;left:213px;white-space:nowrap" class="ft5712">broadcast&#160;domain&#160;to&#160;a&#160;IP&#160;multicast&#160;domain.&#160;While&#160;this&#160;works&#160;in&#160;a&#160;LAN&#160;environ-<br/>ment,&#160;we&#160;encountered&#160;problems&#160;when&#160;creating&#160;VLAN&#160;segments&#160;that&#160;span&#160;WAN-<br/>separated&#160;physical&#160;machines.&#160;We&#160;resolved&#160;this&#160;issue&#160;by&#160;building&#160;uni-directional<br/>multicast&#160;tunnels&#160;between&#160;successive&#160;LAN&#160;segments.</p>
<p style="position:absolute;top:642px;left:213px;white-space:nowrap" class="ft5718"><b>4.7</b></p>
<p style="position:absolute;top:642px;left:261px;white-space:nowrap" class="ft5718"><b>Performance&#160;Results</b></p>
<p style="position:absolute;top:683px;left:213px;white-space:nowrap" class="ft5712">We&#160;now&#160;describe&#160;performance&#160;results&#160;for&#160;the&#160;prototype&#160;implementation&#160;of&#160;our&#160;se-<br/>cure&#160;virtual&#160;networking&#160;framework.&#160;We&#160;compare&#160;our&#160;results&#160;to&#160;Xen&#160;standard&#160;net-<br/>working&#160;in&#160;bridging&#160;mode&#160;and&#160;also&#160;to&#160;non-virtualized&#160;systems.</p>
<p style="position:absolute;top:767px;left:213px;white-space:nowrap" class="ft5714"><b>4.7.1</b></p>
<p style="position:absolute;top:767px;left:266px;white-space:nowrap" class="ft5714"><b>Setup&#160;and&#160;Configuration</b></p>
<p style="position:absolute;top:799px;left:213px;white-space:nowrap" class="ft5712">Our&#160;test&#160;systems&#160;run&#160;Xen&#160;3.0.4&#160;(release&#160;version)&#160;with&#160;a&#160;2.6.18&#160;Linux&#160;kernel&#160;in&#160;Do-<br/>main&#160;0.&#160;We&#160;used&#160;HP&#160;ProLiant&#160;BL25p&#160;G2&#160;blade&#160;servers&#160;each&#160;fitted&#160;with&#160;two&#160;AMD<br/>Opteron&#160;processors&#160;running&#160;at&#160;2&#160;GHz,&#160;8GB&#160;system&#160;memory&#160;and&#160;a&#160;Gigabit&#160;Ethernet<br/>card.&#160;We&#160;obtained&#160;the&#160;throughput&#160;results&#160;using&#160;the</p>
<p style="position:absolute;top:861px;left:547px;white-space:nowrap" class="ft5738">NetPerf</p>
<p style="position:absolute;top:861px;left:620px;white-space:nowrap" class="ft5711">network&#160;benchmark</p>
<p style="position:absolute;top:881px;left:213px;white-space:nowrap" class="ft5711">and&#160;the&#160;latency&#160;results&#160;using&#160;the</p>
<p style="position:absolute;top:882px;left:423px;white-space:nowrap" class="ft5738">ping</p>
<p style="position:absolute;top:881px;left:466px;white-space:nowrap" class="ft5711">tool.&#160;Using&#160;the&#160;former&#160;benchmark,&#160;we&#160;mea-</p>
<p style="position:absolute;top:901px;left:213px;white-space:nowrap" class="ft5712">sured&#160;the&#160;Tx&#160;(outgoing)&#160;and&#160;Rx&#160;(incoming)&#160;throughput&#160;for&#160;traffic&#160;from&#160;one&#160;guest<br/>VM&#160;to&#160;another&#160;guest&#160;VM&#160;on&#160;the&#160;same&#160;physical&#160;host.&#160;To&#160;do&#160;so,&#160;we&#160;ran&#160;one&#160;instance<br/>of&#160;the&#160;benchmark&#160;on&#160;one&#160;guest&#160;VM&#160;as&#160;a&#160;server&#160;process&#160;and&#160;another&#160;instance&#160;on&#160;the<br/>second&#160;guest&#160;VM&#160;to&#160;do&#160;the&#160;actual&#160;benchmark.</p>
<p style="position:absolute;top:1006px;left:213px;white-space:nowrap" class="ft5714"><b>4.7.2</b></p>
<p style="position:absolute;top:1006px;left:266px;white-space:nowrap" class="ft5714"><b>Analysis</b></p>
<p style="position:absolute;top:1038px;left:213px;white-space:nowrap" class="ft5712">We&#160;report&#160;the&#160;throughput&#160;results&#160;for&#160;different&#160;networking&#160;schemes&#160;in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#58">4.6(a).<br/></a>The&#160;graphs&#160;show&#160;that&#160;the&#160;throughput&#160;results&#160;for&#160;both&#160;VLAN&#160;tagging&#160;and&#160;EtherIP</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft5716">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 58 -->
<a name="58"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft5886{font-size:4px;font-family:Helvetica;color:#000000;}
	.ft5887{font-size:6px;font-family:Helvetica;color:#000000;-moz-transform: matrix(         0,         -1, 0.9999100081,          0, 0, 0);-webkit-transform: matrix(         0,         -1, 0.9999100081,          0, 0, 0);-o-transform: matrix(         0,         -1, 0.9999100081,          0, 0, 0);-ms-transform: matrix(         0,         -1, 0.9999100081,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft5888{font-size:5px;font-family:Helvetica;color:#000000;}
	.ft5889{font-size:3px;font-family:Helvetica;color:#000000;}
	.ft5890{font-size:5px;font-family:Helvetica;color:#000000;}
-->
</style>
<div id="page58-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter058.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft5811">58</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft5816">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:354px;left:161px;white-space:nowrap" class="ft5886">800</p>
<p style="position:absolute;top:335px;left:161px;white-space:nowrap" class="ft5886">820</p>
<p style="position:absolute;top:316px;left:161px;white-space:nowrap" class="ft5886">840</p>
<p style="position:absolute;top:297px;left:161px;white-space:nowrap" class="ft5886">860</p>
<p style="position:absolute;top:278px;left:161px;white-space:nowrap" class="ft5886">880</p>
<p style="position:absolute;top:259px;left:161px;white-space:nowrap" class="ft5886">900</p>
<p style="position:absolute;top:240px;left:161px;white-space:nowrap" class="ft5886">920</p>
<p style="position:absolute;top:221px;left:161px;white-space:nowrap" class="ft5886">940</p>
<p style="position:absolute;top:359px;left:273px;white-space:nowrap" class="ft5886">1</p>
<p style="position:absolute;top:311px;left:158px;white-space:nowrap" class="ft5887"><b>T</b></p>
<p style="position:absolute;top:307px;left:158px;white-space:nowrap" class="ft5887"><b>h</b></p>
<p style="position:absolute;top:304px;left:158px;white-space:nowrap" class="ft5887"><b>ro</b></p>
<p style="position:absolute;top:298px;left:158px;white-space:nowrap" class="ft5887"><b>u</b></p>
<p style="position:absolute;top:295px;left:158px;white-space:nowrap" class="ft5887"><b>g</b></p>
<p style="position:absolute;top:291px;left:158px;white-space:nowrap" class="ft5887"><b>h</b></p>
<p style="position:absolute;top:288px;left:158px;white-space:nowrap" class="ft5887"><b>p</b></p>
<p style="position:absolute;top:285px;left:158px;white-space:nowrap" class="ft5887"><b>u</b></p>
<p style="position:absolute;top:281px;left:158px;white-space:nowrap" class="ft5887"><b>t&#160;</b></p>
<p style="position:absolute;top:278px;left:158px;white-space:nowrap" class="ft5887"><b>(M</b></p>
<p style="position:absolute;top:271px;left:158px;white-space:nowrap" class="ft5887"><b>b</b></p>
<p style="position:absolute;top:268px;left:158px;white-space:nowrap" class="ft5887"><b>p</b></p>
<p style="position:absolute;top:264px;left:158px;white-space:nowrap" class="ft5887"><b>s</b></p>
<p style="position:absolute;top:261px;left:158px;white-space:nowrap" class="ft5887"><b>)</b></p>
<p style="position:absolute;top:367px;left:182px;white-space:nowrap" class="ft5886">LINUX&#160;TX</p>
<p style="position:absolute;top:367px;left:206px;white-space:nowrap" class="ft5886">LINUX&#160;RX</p>
<p style="position:absolute;top:367px;left:231px;white-space:nowrap" class="ft5886">VLAN&#160;TX</p>
<p style="position:absolute;top:367px;left:255px;white-space:nowrap" class="ft5886">VLAN&#160;RX</p>
<p style="position:absolute;top:367px;left:278px;white-space:nowrap" class="ft5886">BRG&#160;TX</p>
<p style="position:absolute;top:367px;left:300px;white-space:nowrap" class="ft5886">BRG&#160;RX</p>
<p style="position:absolute;top:367px;left:322px;white-space:nowrap" class="ft5886">EtherIP&#160;TX</p>
<p style="position:absolute;top:367px;left:348px;white-space:nowrap" class="ft5886">EtherIP&#160;RX</p>
<p style="position:absolute;top:386px;left:163px;white-space:nowrap" class="ft5822">(a)&#160;TX/RX&#160;throughput&#160;benchmark&#160;results.</p>
<p style="position:absolute;top:214px;left:480px;white-space:nowrap" class="ft5888"><b>100.00</b></p>
<p style="position:absolute;top:273px;left:550px;white-space:nowrap" class="ft5888"><b>55.98</b></p>
<p style="position:absolute;top:275px;left:585px;white-space:nowrap" class="ft5888"><b>54.69</b></p>
<p style="position:absolute;top:272px;left:516px;white-space:nowrap" class="ft5888"><b>56.79</b></p>
<p style="position:absolute;top:352px;left:432px;white-space:nowrap" class="ft5886">0.00</p>
<p style="position:absolute;top:339px;left:430px;white-space:nowrap" class="ft5886">10.00</p>
<p style="position:absolute;top:326px;left:430px;white-space:nowrap" class="ft5886">20.00</p>
<p style="position:absolute;top:312px;left:430px;white-space:nowrap" class="ft5886">30.00</p>
<p style="position:absolute;top:299px;left:430px;white-space:nowrap" class="ft5886">40.00</p>
<p style="position:absolute;top:286px;left:430px;white-space:nowrap" class="ft5886">50.00</p>
<p style="position:absolute;top:272px;left:430px;white-space:nowrap" class="ft5886">60.00</p>
<p style="position:absolute;top:259px;left:430px;white-space:nowrap" class="ft5886">70.00</p>
<p style="position:absolute;top:245px;left:430px;white-space:nowrap" class="ft5886">80.00</p>
<p style="position:absolute;top:232px;left:430px;white-space:nowrap" class="ft5886">90.00</p>
<p style="position:absolute;top:219px;left:428px;white-space:nowrap" class="ft5886">100.00</p>
<p style="position:absolute;top:358px;left:538px;white-space:nowrap" class="ft5889">1</p>
<p style="position:absolute;top:305px;left:425px;white-space:nowrap" class="ft5887"><b>T</b></p>
<p style="position:absolute;top:302px;left:425px;white-space:nowrap" class="ft5887"><b>h</b></p>
<p style="position:absolute;top:298px;left:425px;white-space:nowrap" class="ft5887"><b>ro</b></p>
<p style="position:absolute;top:292px;left:425px;white-space:nowrap" class="ft5887"><b>u</b></p>
<p style="position:absolute;top:288px;left:425px;white-space:nowrap" class="ft5887"><b>g</b></p>
<p style="position:absolute;top:284px;left:425px;white-space:nowrap" class="ft5887"><b>h</b></p>
<p style="position:absolute;top:281px;left:425px;white-space:nowrap" class="ft5887"><b>p</b></p>
<p style="position:absolute;top:277px;left:425px;white-space:nowrap" class="ft5887"><b>u</b></p>
<p style="position:absolute;top:273px;left:425px;white-space:nowrap" class="ft5887"><b>t&#160;</b></p>
<p style="position:absolute;top:270px;left:425px;white-space:nowrap" class="ft5887"><b>(%</b></p>
<p style="position:absolute;top:262px;left:425px;white-space:nowrap" class="ft5887"><b>)</b></p>
<p style="position:absolute;top:366px;left:491px;white-space:nowrap" class="ft5890">Linux</p>
<p style="position:absolute;top:366px;left:507px;white-space:nowrap" class="ft5890">VLAN&#160;Tagging</p>
<p style="position:absolute;top:366px;left:543px;white-space:nowrap" class="ft5890">Xen&#160;Bridging</p>
<p style="position:absolute;top:366px;left:575px;white-space:nowrap" class="ft5890">EtherIP</p>
<p style="position:absolute;top:386px;left:460px;white-space:nowrap" class="ft5822">(b)&#160;Overhead&#160;of&#160;virtualization.</p>
<p style="position:absolute;top:432px;left:180px;white-space:nowrap" class="ft5811">Figure&#160;4.6:&#160;NetPerf&#160;Benchmark:&#160;Guest&#160;VM&#160;to&#160;Guest&#160;VM&#160;Throughput.</p>
<p style="position:absolute;top:482px;left:141px;white-space:nowrap" class="ft5812">schemes&#160;are&#160;comparable&#160;to&#160;that&#160;of&#160;the&#160;standard&#160;Xen&#160;(bridge)&#160;configuration.&#160;Further,<br/>VLAN&#160;tagging&#160;yields&#160;the&#160;best&#160;throughput&#160;in&#160;a&#160;virtualized&#160;system&#160;that&#160;outperforms<br/>the&#160;standard&#160;Xen&#160;configuration.&#160;Both&#160;Xen&#160;bridging&#160;and&#160;VLAN&#160;tagging&#160;perform<br/>better&#160;on&#160;the&#160;<b>Tx&#160;path</b>.&#160;For&#160;EtherIP,&#160;the&#160;major&#160;cost&#160;in&#160;the&#160;Tx&#160;path&#160;is&#160;having&#160;to<br/>allocate&#160;a&#160;fresh&#160;socket&#160;buffer&#160;(</p>
<p style="position:absolute;top:565px;left:338px;white-space:nowrap" class="ft5838">skb</p>
<p style="position:absolute;top:564px;left:367px;white-space:nowrap" class="ft5811">)&#160;and&#160;copy&#160;the&#160;original&#160;buffer&#160;data&#160;into&#160;the&#160;fresh</p>
<p style="position:absolute;top:585px;left:141px;white-space:nowrap" class="ft5838">skb</p>
<p style="position:absolute;top:584px;left:171px;white-space:nowrap" class="ft5811">.&#160;When&#160;first&#160;allocating&#160;a</p>
<p style="position:absolute;top:585px;left:328px;white-space:nowrap" class="ft5838">skb</p>
<p style="position:absolute;top:584px;left:358px;white-space:nowrap" class="ft5811">,&#160;the&#160;Linux&#160;network&#160;stack&#160;allocates&#160;a&#160;fixed&#160;amount</p>
<p style="position:absolute;top:604px;left:141px;white-space:nowrap" class="ft5812">of&#160;headroom&#160;for&#160;the&#160;expected&#160;headers&#160;that&#160;will&#160;be&#160;added&#160;to&#160;the&#160;packet&#160;as&#160;it&#160;goes<br/>down&#160;the&#160;stack.&#160;Unfortunately,&#160;not&#160;enough&#160;space&#160;is&#160;allocated&#160;upfront&#160;to&#160;allow&#160;us<br/>to&#160;fit&#160;in&#160;the&#160;EtherIP&#160;header;&#160;so,&#160;we&#160;have&#160;to&#160;copy&#160;the&#160;data&#160;around,&#160;which&#160;is&#160;very<br/>costly.&#160;However,&#160;there&#160;is&#160;<i>some&#160;</i>spare&#160;headroom&#160;space,&#160;which&#160;is&#160;enough&#160;for&#160;the<br/>extra&#160;VLAN&#160;tag.&#160;As&#160;a&#160;result,&#160;the&#160;VLAN&#160;tagging&#160;method&#160;does&#160;not&#160;suffer&#160;from&#160;the<br/>packet&#160;copying&#160;overhead.&#160;The&#160;cost&#160;of&#160;copying&#160;data&#160;in&#160;the&#160;EtherIP&#160;case&#160;is&#160;greater<br/>than&#160;the&#160;cost&#160;of&#160;traversing&#160;two&#160;network&#160;devices&#160;(the&#160;physical&#160;Ethernet&#160;device&#160;and<br/>the&#160;Linux-provided&#160;VLAN&#160;device)&#160;for&#160;the&#160;VLAN&#160;packets.&#160;That&#160;is&#160;why&#160;the&#160;VLAN<br/>method&#160;is&#160;more&#160;efficient&#160;than&#160;the&#160;EtherIP&#160;approach&#160;for&#160;the&#160;Tx&#160;path.&#160;In&#160;a&#160;future<br/>version&#160;of&#160;our&#160;prototype,&#160;we&#160;will&#160;add&#160;a&#160;simple&#160;fix&#160;to&#160;the&#160;kernel&#160;to&#160;ensure&#160;that&#160;the<br/>initial</p>
<p style="position:absolute;top:808px;left:183px;white-space:nowrap" class="ft5838">skb</p>
<p style="position:absolute;top:808px;left:213px;white-space:nowrap" class="ft5811">s&#160;have&#160;enough&#160;headroom&#160;upfront&#160;for&#160;the&#160;EtherIP&#160;header.</p>
<p style="position:absolute;top:828px;left:166px;white-space:nowrap" class="ft5811">In&#160;the&#160;Rx&#160;path,&#160;there&#160;is&#160;no&#160;packet-copying&#160;overhead&#160;for&#160;the&#160;EtherIP&#160;approach;</p>
<p style="position:absolute;top:848px;left:141px;white-space:nowrap" class="ft5812">the&#160;extra&#160;EtherIP&#160;header&#160;merely&#160;has&#160;to&#160;be&#160;removed&#160;before&#160;the&#160;packet&#160;is&#160;sent&#160;to&#160;a<br/>VM.&#160;As&#160;compared&#160;to&#160;VLAN&#160;tagging,&#160;in&#160;which&#160;packets&#160;are&#160;grabbed&#160;from&#160;the&#160;Linux<br/>network&#160;stack,&#160;EtherIP&#160;requires&#160;that&#160;packets&#160;are&#160;passed&#160;to&#160;and&#160;processed&#160;by&#160;the<br/>host&#160;OS&#160;IP&#160;stack&#160;before&#160;they&#160;are&#160;handed&#160;over&#160;to&#160;the&#160;EtherIP&#160;packet&#160;handler&#160;of&#160;the<br/>vSwitch&#160;code.</p>
<p style="position:absolute;top:950px;left:166px;white-space:nowrap" class="ft5811">Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#58">4.6(b)&#160;</a>illustrates&#160;the&#160;overhead&#160;of&#160;virtualization&#160;technology&#160;on&#160;network</p>
<p style="position:absolute;top:970px;left:141px;white-space:nowrap" class="ft5812">performance.&#160;Table&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#59">4.4&#160;</a>shows&#160;the&#160;round-trip&#160;times&#160;between&#160;two&#160;guest&#160;VMs&#160;on&#160;a<br/>physical&#160;host&#160;for&#160;the&#160;bridged,&#160;VLAN,&#160;and&#160;EtherIP&#160;encapsulation&#160;cases&#160;obtained<br/>using&#160;the</p>
<p style="position:absolute;top:1012px;left:205px;white-space:nowrap" class="ft5838">ping&#160;-c&#160;1000&#160;host</p>
<p style="position:absolute;top:1011px;left:377px;white-space:nowrap" class="ft5811">command,&#160;i.e.,&#160;1000&#160;packets&#160;sent.&#160;The&#160;results</p>
<p style="position:absolute;top:1031px;left:141px;white-space:nowrap" class="ft5812">show&#160;that&#160;the&#160;average&#160;round-trip&#160;times&#160;for&#160;VLAN&#160;and&#160;EtherIP&#160;encapsulation&#160;are<br/>17.8%&#160;and&#160;36.7%&#160;higher&#160;than&#160;that&#160;of&#160;the&#160;standard&#160;Xen&#160;bridged&#160;configuration.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft5816">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 59 -->
<a name="59"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page59-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter059.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft5923">CHAPTER&#160;4.&#160;AUTOMATED&#160;PROVISIONING&#160;OF&#160;SECURE&#160;VIRTUAL&#160;NETWORKS</p>
<p style="position:absolute;top:142px;left:786px;white-space:nowrap" class="ft5911">59</p>
<p style="position:absolute;top:205px;left:350px;white-space:nowrap" class="ft5911">Table&#160;4.4:&#160;Round-trip&#160;Times&#160;using&#160;Ping.</p>
<p style="position:absolute;top:225px;left:361px;white-space:nowrap" class="ft5911">Minimum</p>
<p style="position:absolute;top:225px;left:444px;white-space:nowrap" class="ft5911">Average</p>
<p style="position:absolute;top:225px;left:516px;white-space:nowrap" class="ft5911">Maximum</p>
<p style="position:absolute;top:225px;left:602px;white-space:nowrap" class="ft5912">Mean<br/>Deviation</p>
<p style="position:absolute;top:266px;left:290px;white-space:nowrap" class="ft5911">Bridged</p>
<p style="position:absolute;top:266px;left:375px;white-space:nowrap" class="ft5911">0.136</p>
<p style="position:absolute;top:266px;left:453px;white-space:nowrap" class="ft5911">0.180</p>
<p style="position:absolute;top:266px;left:532px;white-space:nowrap" class="ft5911">0.294</p>
<p style="position:absolute;top:266px;left:602px;white-space:nowrap" class="ft5911">0.024</p>
<p style="position:absolute;top:287px;left:294px;white-space:nowrap" class="ft5911">VLAN</p>
<p style="position:absolute;top:287px;left:375px;white-space:nowrap" class="ft5911">0.140</p>
<p style="position:absolute;top:287px;left:453px;white-space:nowrap" class="ft5911">0.212</p>
<p style="position:absolute;top:287px;left:532px;white-space:nowrap" class="ft5911">0.357</p>
<p style="position:absolute;top:287px;left:602px;white-space:nowrap" class="ft5911">0.030</p>
<p style="position:absolute;top:307px;left:291px;white-space:nowrap" class="ft5911">EtherIP</p>
<p style="position:absolute;top:307px;left:375px;white-space:nowrap" class="ft5911">0.151</p>
<p style="position:absolute;top:307px;left:453px;white-space:nowrap" class="ft5911">0.246</p>
<p style="position:absolute;top:307px;left:532px;white-space:nowrap" class="ft5911">0.378</p>
<p style="position:absolute;top:307px;left:602px;white-space:nowrap" class="ft5911">0.034</p>
<p style="position:absolute;top:373px;left:213px;white-space:nowrap" class="ft5918"><b>4.8</b></p>
<p style="position:absolute;top:373px;left:261px;white-space:nowrap" class="ft5918"><b>Discussion</b></p>
<p style="position:absolute;top:413px;left:213px;white-space:nowrap" class="ft5912">In&#160;this&#160;chapter,&#160;we&#160;introduced&#160;a&#160;secure&#160;virtual&#160;networking&#160;model&#160;and&#160;a&#160;framework<br/>for&#160;efficient&#160;and&#160;security-enhanced&#160;network&#160;virtualization.&#160;The&#160;key&#160;drivers&#160;of&#160;our<br/>framework&#160;design&#160;were&#160;the&#160;security&#160;and&#160;management&#160;objectives&#160;of&#160;virtualized&#160;data<br/>centers,&#160;which&#160;are&#160;meant&#160;to&#160;co-host&#160;IT&#160;infrastructures&#160;belonging&#160;to&#160;multiple&#160;de-<br/>partments&#160;of&#160;an&#160;organization&#160;or&#160;even&#160;multiple&#160;organizations.</p>
<p style="position:absolute;top:515px;left:238px;white-space:nowrap" class="ft5911">Our&#160;framework&#160;utilizes&#160;a&#160;combination&#160;of&#160;existing&#160;networking&#160;technologies</p>
<p style="position:absolute;top:535px;left:213px;white-space:nowrap" class="ft5912">(such&#160;as&#160;Ethernet&#160;encapsulation,&#160;VLAN&#160;tagging,&#160;VPN,&#160;and&#160;NAC)&#160;and&#160;security<br/>policy&#160;enforcement&#160;to&#160;concretely&#160;realize&#160;the&#160;abstraction&#160;of&#160;Trusted&#160;Virtual&#160;Do-<br/>mains,&#160;which&#160;can&#160;be&#160;thought&#160;of&#160;as&#160;security-enhanced&#160;variants&#160;of&#160;virtualized&#160;net-<br/>work&#160;zones.&#160;Policies&#160;are&#160;specified&#160;and&#160;enforced&#160;at&#160;the&#160;intra-TVD&#160;level&#160;(e.g.,&#160;mem-<br/>bership&#160;requirements)&#160;and&#160;inter-TVD&#160;level&#160;(e.g.,&#160;information&#160;flow&#160;control).</p>
<p style="position:absolute;top:637px;left:238px;white-space:nowrap" class="ft5911">Observing&#160;that&#160;manual&#160;configuration&#160;of&#160;virtual&#160;networks&#160;is&#160;usually&#160;error-prone,</p>
<p style="position:absolute;top:657px;left:213px;white-space:nowrap" class="ft5912">our&#160;design&#160;is&#160;oriented&#160;towards&#160;automation.&#160;To&#160;orchestrate&#160;the&#160;TVD&#160;configuration<br/>and&#160;deployment&#160;process,&#160;we&#160;introduced&#160;management&#160;entities&#160;called&#160;TVD&#160;masters.<br/>Based&#160;on&#160;the&#160;capability&#160;models&#160;of&#160;the&#160;physical&#160;infrastructure&#160;that&#160;are&#160;given&#160;as&#160;input<br/>to&#160;them,&#160;the&#160;TVD&#160;masters&#160;coordinate&#160;the&#160;set-up&#160;and&#160;population&#160;of&#160;TVDs&#160;using&#160;a<br/>well-defined&#160;protocol.</p>
<p style="position:absolute;top:759px;left:238px;white-space:nowrap" class="ft5911">We&#160;described&#160;a&#160;Xen-based&#160;prototype&#160;that&#160;implements&#160;a&#160;subset&#160;of&#160;our&#160;secure</p>
<p style="position:absolute;top:779px;left:213px;white-space:nowrap" class="ft5912">network&#160;virtualization&#160;framework&#160;design.&#160;The&#160;performance&#160;of&#160;our&#160;virtual&#160;network-<br/>ing&#160;extensions&#160;is&#160;comparable&#160;to&#160;the&#160;standard&#160;Xen&#160;(bridge)&#160;configuration.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft5916">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 60 -->
<a name="60"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page60-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter060.png" alt="background image"/>
<p style="position:absolute;top:298px;left:141px;white-space:nowrap" class="ft6017"><b>Chapter&#160;5</b></p>
<p style="position:absolute;top:368px;left:141px;white-space:nowrap" class="ft6046"><b>Dependable&#160;and&#160;Secure&#160;Virtual<br/>Datacenters</b></p>
<p style="position:absolute;top:467px;left:196px;white-space:nowrap" class="ft6011">Bernhard&#160;Jansen,&#160;HariGovind&#160;V.&#160;Ramasamy,&#160;Matthias&#160;Schunter,&#160;and&#160;Axel</p>
<p style="position:absolute;top:487px;left:588px;white-space:nowrap" class="ft6011">Tanner&#160;(IBM)</p>
<p style="position:absolute;top:574px;left:141px;white-space:nowrap" class="ft6018"><b>5.1</b></p>
<p style="position:absolute;top:574px;left:189px;white-space:nowrap" class="ft6018"><b>Introduction&#160;to&#160;Dependable&#160;Virtualization</b></p>
<p style="position:absolute;top:615px;left:141px;white-space:nowrap" class="ft6012">In&#160;this&#160;chapter,&#160;we&#160;explore&#160;opportunities&#160;for&#160;dependability&#160;and&#160;security&#160;made&#160;avail-<br/>able&#160;by&#160;virtualization,&#160;and&#160;provide&#160;detailed&#160;information&#160;on&#160;how&#160;virtualization&#160;af-<br/>fects&#160;system&#160;reliability.&#160;We&#160;make&#160;four&#160;contributions:&#160;(1)&#160;a&#160;survey&#160;of&#160;dependability<br/>and&#160;security&#160;enhancements&#160;enabled&#160;by&#160;virtualization,&#160;(2)&#160;a&#160;prototype&#160;demonstrat-<br/>ing&#160;the&#160;effectiveness&#160;of&#160;hypervisor-based&#160;intrusion&#160;detection,&#160;(3)&#160;reliability&#160;models<br/>and&#160;analysis&#160;of&#160;the&#160;effects&#160;of&#160;virtualization,&#160;and&#160;(4)&#160;an&#160;architecture&#160;for&#160;a&#160;reliability-<br/>enhanced&#160;Xen&#160;VMM&#160;that&#160;leverages&#160;a&#160;subset&#160;of&#160;the&#160;enhancements.</p>
<p style="position:absolute;top:757px;left:166px;white-space:nowrap" class="ft6011">We&#160;describe&#160;ways&#160;of&#160;leveraging&#160;virtualization&#160;for&#160;dependability&#160;and&#160;security</p>
<p style="position:absolute;top:778px;left:141px;white-space:nowrap" class="ft6012">enhancements,&#160;such&#160;as&#160;response&#160;to&#160;load-induced&#160;failures,&#160;administration&#160;of&#160;patches<br/>in&#160;an&#160;availability-preserving&#160;manner,&#160;enforcement&#160;of&#160;fail-safe&#160;behavior,&#160;proactive<br/>software&#160;rejuvenation,&#160;and&#160;intrusion&#160;detection&#160;and&#160;protection.&#160;We&#160;describe&#160;in&#160;detail<br/>a&#160;Xen-based&#160;implementation&#160;of&#160;a&#160;subset&#160;of&#160;these&#160;enhancements,&#160;particularly,&#160;intru-<br/>sion&#160;detection&#160;and&#160;protection.&#160;The&#160;intrusion&#160;detector,&#160;called&#160;X-Spy,&#160;uses&#160;a&#160;privi-<br/>leged&#160;Xen&#160;VM&#160;to&#160;monitor&#160;and&#160;analyze&#160;the&#160;complete&#160;state&#160;of&#160;other&#160;VMs&#160;co-located<br/>on&#160;the&#160;same&#160;physical&#160;platform.&#160;X-Spy&#160;is&#160;close&#160;enough&#160;to&#160;the&#160;target&#160;monitored&#160;to<br/>have&#160;a&#160;high&#160;degree&#160;of&#160;visibility&#160;into&#160;the&#160;innards&#160;of&#160;the&#160;target&#160;(like&#160;host-based&#160;in-<br/>trusion&#160;detection&#160;schemes).&#160;At&#160;the&#160;same&#160;time,&#160;thanks&#160;to&#160;the&#160;isolation&#160;provided&#160;by<br/>the&#160;VMM,&#160;X-Spy&#160;is&#160;far&#160;enough&#160;from&#160;the&#160;target&#160;to&#160;be&#160;unaffected&#160;even&#160;if&#160;the&#160;target<br/>becomes&#160;compromised&#160;(like&#160;network-based&#160;intrusion&#160;detection&#160;schemes).&#160;A&#160;key<br/>challenge&#160;in&#160;implementing&#160;X-Spy&#160;was&#160;the&#160;<i>semantic&#160;gap</i>,&#160;i.e.,&#160;the&#160;proper&#160;interpre-<br/>tation&#160;of&#160;process&#160;information&#160;gathered&#160;from&#160;the&#160;VMs&#160;monitored&#160;in&#160;a&#160;completely<br/>different&#160;VM.</p>
<p style="position:absolute;top:1114px;left:402px;white-space:nowrap" class="ft6011">60</p>
</div>
<!-- Page 61 -->
<a name="61"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page61-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter061.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft6123">CHAPTER&#160;5.&#160;DEPENDABLE&#160;AND&#160;SECURE&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft6111">61</p>
<p style="position:absolute;top:196px;left:238px;white-space:nowrap" class="ft6111">We&#160;provide&#160;detailed&#160;information&#160;on&#160;how&#160;virtualization&#160;affects&#160;an&#160;important</p>
<p style="position:absolute;top:216px;left:213px;white-space:nowrap" class="ft6112">dependability&#160;attribute,&#160;namely&#160;reliability.&#160;The&#160;VMM&#160;is&#160;increasingly&#160;seen&#160;as&#160;a<br/>convenient&#160;layer&#160;for&#160;implementing&#160;many&#160;services&#160;such&#160;as&#160;networking&#160;and&#160;secu-<br/>rity&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[GR05]&#160;</a>that&#160;were&#160;traditionally&#160;provided&#160;by&#160;the&#160;operating&#160;system.&#160;We&#160;show<br/>why&#160;such&#160;designs&#160;should&#160;be&#160;viewed&#160;with&#160;more&#160;caution.&#160;We&#160;use&#160;combinatorial<br/>modeling&#160;to&#160;analyze&#160;multiple&#160;design&#160;choices&#160;when&#160;a&#160;single&#160;physical&#160;server&#160;is&#160;used<br/>to&#160;host&#160;multiple&#160;virtual&#160;servers&#160;and&#160;to&#160;quantify&#160;the&#160;reliability&#160;impact&#160;of&#160;virtualiza-<br/>tion.&#160;In&#160;light&#160;of&#160;the&#160;prevailing&#160;trend&#160;to&#160;shift&#160;services&#160;out&#160;of&#160;the&#160;guest&#160;OS&#160;into&#160;the<br/>virtualization&#160;layer,&#160;we&#160;show&#160;that&#160;this&#160;shift,&#160;if&#160;not&#160;done&#160;carefully,&#160;could&#160;adversely<br/>affect&#160;system&#160;reliability.</p>
<p style="position:absolute;top:399px;left:238px;white-space:nowrap" class="ft6111">We&#160;describe&#160;a&#160;reliability-enhanced&#160;Xen&#160;VMM&#160;architecture,&#160;called&#160;<i>R-Xen</i>,&#160;that</p>
<p style="position:absolute;top:419px;left:213px;white-space:nowrap" class="ft6112">combines&#160;replication,&#160;intrusion&#160;detection,&#160;and&#160;rejuvenation.&#160;Normally,&#160;the&#160;Xen<br/>VMM&#160;consists&#160;of&#160;a&#160;relatively&#160;small&#160;hypervisor&#160;core&#160;and&#160;a&#160;full-fledged&#160;privileged<br/>VM&#160;called&#160;<i>Dom0&#160;</i>that&#160;runs&#160;a&#160;guest&#160;OS&#160;(Linux).&#160;Regular&#160;VMs&#160;running&#160;on&#160;the<br/>Xen&#160;VMM&#160;are&#160;called&#160;<i>user&#160;domains&#160;</i>or&#160;<i>DomUs</i>.&#160;Because&#160;of&#160;its&#160;size&#160;and&#160;complex-<br/>ity,&#160;Dom0&#160;is&#160;the&#160;weak&#160;point&#160;in&#160;the&#160;reliability&#160;of&#160;the&#160;Xen&#160;VMM.&#160;R-Xen&#160;focuses<br/>on&#160;improving&#160;Dom0&#160;reliability&#160;(and&#160;thereby&#160;improving&#160;the&#160;Xen&#160;VMM&#160;reliability)<br/>through&#160;three-fold&#160;replication.&#160;The&#160;three&#160;Dom0&#160;replicas&#160;each&#160;contain&#160;X-Spy&#160;im-<br/>plementations&#160;to&#160;mutually&#160;monitor&#160;each&#160;other&#160;and&#160;thus&#160;detect&#160;the&#160;presence&#160;of&#160;faults<br/>and/or&#160;intrusions&#160;in&#160;the&#160;other&#160;two.&#160;If&#160;two&#160;replicas&#160;report&#160;to&#160;the&#160;hypervisor&#160;that&#160;the<br/>third&#160;is&#160;corrupted,&#160;the&#160;hypervisor&#160;terminates&#160;and&#160;rejuvenates&#160;the&#160;corrupt&#160;replica.&#160;If<br/>the&#160;replica&#160;terminated&#160;happens&#160;to&#160;be&#160;the&#160;<i>primary&#160;</i>replica&#160;that&#160;provides&#160;device&#160;virtu-<br/>alization&#160;for&#160;user&#160;domains,&#160;then&#160;one&#160;of&#160;the&#160;two&#160;backups&#160;becomes&#160;the&#160;new&#160;primary.</p>
<p style="position:absolute;top:663px;left:238px;white-space:nowrap" class="ft6111">The&#160;remainder&#160;of&#160;the&#160;chapter&#160;is&#160;organized&#160;as&#160;follows.&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#61">5.2&#160;</a>describes</p>
<p style="position:absolute;top:683px;left:213px;white-space:nowrap" class="ft6112">related&#160;work&#160;in&#160;the&#160;area&#160;of&#160;virtualization-based&#160;dependability&#160;and&#160;virtualization-<br/>based&#160;intrusion&#160;detection.&#160;In&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#64">5.3,&#160;</a>we&#160;describe&#160;at&#160;a&#160;high-level&#160;several&#160;de-<br/>pendability&#160;and&#160;security&#160;enhancements&#160;(including&#160;intrusion&#160;detection&#160;and&#160;protec-<br/>tion)&#160;that&#160;are&#160;made&#160;possible&#160;by&#160;virtualization.&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#67">5.4&#160;</a>describes&#160;X-Spy,&#160;our<br/>Xen-based&#160;prototype&#160;implementation&#160;of&#160;intrusion&#160;detection&#160;and&#160;protection.&#160;Sec-<br/>tion&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#78">5.5&#160;</a>analysis&#160;the&#160;reliability&#160;impact&#160;of&#160;virtualization&#160;and&#160;highlights&#160;the&#160;impor-<br/>tance&#160;of&#160;VMM&#160;reliability&#160;to&#160;the&#160;overall&#160;reliability&#160;of&#160;a&#160;virtualized&#160;physical&#160;node.<br/>Motivated&#160;by&#160;the&#160;conclusions&#160;of&#160;our&#160;reliability&#160;analysis&#160;and&#160;leveraging&#160;our&#160;X-<br/>Spy&#160;implementation,&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#83">5.6&#160;</a>describes&#160;an&#160;architecture&#160;for&#160;a&#160;more&#160;reliable&#160;Xen<br/>VMM.</p>
<p style="position:absolute;top:936px;left:213px;white-space:nowrap" class="ft6118"><b>5.2</b></p>
<p style="position:absolute;top:936px;left:261px;white-space:nowrap" class="ft6118"><b>Related&#160;Work</b></p>
<p style="position:absolute;top:977px;left:213px;white-space:nowrap" class="ft6112">We&#160;now&#160;provide&#160;a&#160;sampling&#160;of&#160;related&#160;work&#160;in&#160;the&#160;area&#160;of&#160;using&#160;VMs&#160;for&#160;improv-<br/>ing&#160;dependability.&#160;We&#160;also&#160;compare&#160;our&#160;X-Spy&#160;intrusion&#160;detection&#160;framework&#160;with<br/>previous&#160;hypervisor-based&#160;intrusion&#160;detection&#160;systems.&#160;Many&#160;of&#160;these&#160;works,&#160;in-<br/>cluding&#160;ours,&#160;implicitly&#160;trust&#160;the&#160;virtualization&#160;layer&#160;to&#160;function&#160;properly,&#160;to&#160;isolate<br/>the&#160;VMs&#160;from&#160;each&#160;other,&#160;and&#160;to&#160;control&#160;the&#160;privileged&#160;access&#160;of&#160;certain&#160;VMs&#160;to</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft6116">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 62 -->
<a name="62"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page62-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter062.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft6211">62</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft6216">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft6212">other&#160;VMs.&#160;Such&#160;a&#160;trust&#160;can&#160;be&#160;justified&#160;by&#160;the&#160;observation&#160;that&#160;a&#160;typical&#160;hyper-<br/>visor&#160;consists&#160;of&#160;some&#160;tens&#160;of&#160;thousands&#160;lines-of-code&#160;(LOC),&#160;whereas&#160;a&#160;typical<br/>operating&#160;system&#160;today&#160;is&#160;on&#160;the&#160;order&#160;of&#160;millions&#160;LOC&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">[GR03]</a>.&#160;This&#160;allows&#160;a<br/>much&#160;higher&#160;assurance&#160;for&#160;the&#160;code&#160;of&#160;a&#160;hypervisor.</p>
<p style="position:absolute;top:277px;left:166px;white-space:nowrap" class="ft6211">Bressoud&#160;and&#160;Schneider&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">[BS96]&#160;</a>implemented&#160;a&#160;primary-backup&#160;replication</p>
<p style="position:absolute;top:297px;left:141px;white-space:nowrap" class="ft6212">protocol&#160;tolerant&#160;to&#160;benign&#160;faults&#160;at&#160;the&#160;VMM&#160;level.&#160;The&#160;protocol&#160;resolves&#160;non-<br/>determinism&#160;by&#160;logging&#160;the&#160;results&#160;of&#160;all&#160;non-deterministic&#160;actions&#160;taken&#160;by&#160;the<br/>primary&#160;and&#160;then&#160;applying&#160;the&#160;same&#160;results&#160;at&#160;the&#160;backups&#160;to&#160;maintain&#160;state&#160;consis-<br/>tency.</p>
<p style="position:absolute;top:378px;left:166px;white-space:nowrap" class="ft6211">Double-Take&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">[VMw]&#160;</a>uses&#160;hardware-based&#160;real-time&#160;synchronous&#160;replication</p>
<p style="position:absolute;top:399px;left:141px;white-space:nowrap" class="ft6212">to&#160;replicate&#160;application&#160;data&#160;from&#160;multiple&#160;VMs&#160;to&#160;a&#160;single&#160;physical&#160;machine&#160;so<br/>that&#160;the&#160;application&#160;can&#160;automatically&#160;fail&#160;over&#160;to&#160;a&#160;spare&#160;machine&#160;by&#160;importing&#160;the<br/>replicated&#160;data&#160;in&#160;case&#160;of&#160;an&#160;outage.&#160;As&#160;the&#160;replication&#160;is&#160;done&#160;at&#160;the&#160;file&#160;system<br/>level&#160;below&#160;the&#160;VM,&#160;the&#160;technique&#160;is&#160;guest-OS-agnostic.&#160;Such&#160;a&#160;design&#160;could&#160;pro-<br/>vide&#160;the&#160;basis&#160;for&#160;a&#160;business&#160;model&#160;in&#160;which&#160;multiple&#160;client&#160;companies&#160;outsource<br/>their&#160;disaster&#160;recovery&#160;capability&#160;to&#160;a&#160;disaster&#160;recovery&#160;hot-site&#160;that&#160;houses&#160;multiple<br/>physical&#160;backup&#160;machines,&#160;one&#160;for&#160;each&#160;client.</p>
<p style="position:absolute;top:541px;left:166px;white-space:nowrap" class="ft6211">Douceur&#160;and&#160;Howell&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">[DH05]&#160;</a>describe&#160;how&#160;VMMs&#160;can&#160;be&#160;used&#160;to&#160;ensure&#160;that</p>
<p style="position:absolute;top:561px;left:141px;white-space:nowrap" class="ft6212">VMs&#160;satisfy&#160;determinism&#160;and&#160;thereby&#160;enable&#160;state&#160;machine&#160;replication&#160;at&#160;the&#160;VM<br/>level&#160;rather&#160;than&#160;the&#160;application&#160;level.&#160;Specifically,&#160;they&#160;describe&#160;how&#160;a&#160;VM’s&#160;vir-<br/>tual&#160;disk&#160;and&#160;clock&#160;can&#160;be&#160;made&#160;deterministic&#160;with&#160;respect&#160;to&#160;the&#160;VM’s&#160;execution.<br/>The&#160;design&#160;relieves&#160;the&#160;application&#160;programmer&#160;of&#160;the&#160;burden&#160;of&#160;structuring&#160;the<br/>application&#160;as&#160;a&#160;deterministic&#160;state&#160;machine.&#160;Their&#160;work&#160;is&#160;similar&#160;to&#160;Bressoud&#160;and<br/>Schneider’s&#160;approach&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">[BS96]&#160;</a>of&#160;using&#160;a&#160;VMM&#160;to&#160;resolve&#160;non-determinism.&#160;How-<br/>ever,&#160;the&#160;difference&#160;lies&#160;in&#160;the&#160;fact&#160;that&#160;whereas&#160;Bressoud&#160;and&#160;Schneider’s&#160;approach<br/>resolves&#160;non-determinism&#160;using&#160;the&#160;results&#160;of&#160;the&#160;primary&#160;machine’s&#160;computation,<br/>Douceur&#160;and&#160;Howell’s&#160;design&#160;resolves&#160;non-determinism&#160;<i>a&#160;priori&#160;</i>by&#160;constraining<br/>the&#160;behavior&#160;of&#160;the&#160;computation.</p>
<p style="position:absolute;top:765px;left:166px;white-space:nowrap" class="ft6211">Dunlap&#160;<i>et&#160;al.&#160;</i>describe&#160;ReVirt&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">[DKC</a></p>
<p style="position:absolute;top:761px;left:407px;white-space:nowrap" class="ft6228"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">+</a></p>
<p style="position:absolute;top:765px;left:417px;white-space:nowrap" class="ft6211"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">02]&#160;</a>for&#160;VM&#160;logging&#160;and&#160;replay.&#160;ReVirt</p>
<p style="position:absolute;top:785px;left:141px;white-space:nowrap" class="ft6212">encapsulates&#160;the&#160;OS&#160;as&#160;a&#160;VM,&#160;logs&#160;non-deterministic&#160;events&#160;that&#160;affect&#160;the&#160;VM’s<br/>execution,&#160;and&#160;uses&#160;the&#160;logged&#160;data&#160;to&#160;replay&#160;the&#160;VM’s&#160;execution&#160;later.&#160;Such&#160;a<br/>capability&#160;is&#160;useful&#160;to&#160;recreate&#160;the&#160;effects&#160;of&#160;non-deterministic&#160;attacks,&#160;as&#160;they&#160;show<br/>later&#160;in&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[JKDC05]</a>.&#160;Their&#160;replay&#160;technique&#160;is&#160;to&#160;start&#160;from&#160;a&#160;checkpoint&#160;state&#160;and<br/>then&#160;roll&#160;forward&#160;using&#160;the&#160;log&#160;to&#160;reach&#160;the&#160;desired&#160;state.</p>
<p style="position:absolute;top:887px;left:166px;white-space:nowrap" class="ft6211">Joshi&#160;<i>et&#160;al.&#160;</i><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[JKDC05]&#160;</a>combine&#160;VM&#160;introspection&#160;with&#160;VM&#160;replay&#160;to&#160;analyze</p>
<p style="position:absolute;top:907px;left:141px;white-space:nowrap" class="ft6212">whether&#160;a&#160;vulnerability&#160;was&#160;activated&#160;in&#160;a&#160;VM&#160;before&#160;a&#160;patch&#160;was&#160;applied.&#160;The<br/>analysis&#160;is&#160;based&#160;on&#160;vulnerability-specific&#160;predicates&#160;provided&#160;by&#160;the&#160;patch&#160;writer.<br/>After&#160;the&#160;patch&#160;has&#160;been&#160;applied,&#160;the&#160;same&#160;predicates&#160;can&#160;be&#160;used&#160;during&#160;the&#160;VM’s<br/>normal&#160;execution&#160;to&#160;detect&#160;and&#160;respond&#160;to&#160;attacks.</p>
<p style="position:absolute;top:988px;left:166px;white-space:nowrap" class="ft6211">Backtracker&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[KC03]&#160;</a>can&#160;be&#160;used&#160;to&#160;identify&#160;which&#160;application&#160;running&#160;inside</p>
<p style="position:absolute;top:1008px;left:141px;white-space:nowrap" class="ft6212">a&#160;VM&#160;was&#160;exploited&#160;on&#160;a&#160;given&#160;host.&#160;Backtracker&#160;consists&#160;of&#160;an&#160;online&#160;component<br/>that&#160;records&#160;OS&#160;objects&#160;(such&#160;as&#160;processes&#160;and&#160;files)&#160;and&#160;events&#160;(such&#160;as&#160;read,&#160;write,<br/>and&#160;fork),&#160;and&#160;an&#160;offline&#160;component&#160;that&#160;generates&#160;graphs&#160;depicting&#160;the&#160;possible<br/>chain&#160;of&#160;events&#160;between&#160;the&#160;point&#160;at&#160;which&#160;the&#160;exploit&#160;occurred&#160;and&#160;the&#160;point&#160;at</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft6216">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 63 -->
<a name="63"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page63-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter063.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft6323">CHAPTER&#160;5.&#160;DEPENDABLE&#160;AND&#160;SECURE&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft6311">63</p>
<p style="position:absolute;top:196px;left:213px;white-space:nowrap" class="ft6311">which&#160;the&#160;exploit&#160;was&#160;detected.</p>
<p style="position:absolute;top:216px;left:238px;white-space:nowrap" class="ft6311">An&#160;extension&#160;of&#160;Backtracker&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[KMLC05]&#160;</a>has&#160;been&#160;used&#160;to&#160;track&#160;attacks&#160;from&#160;a</p>
<p style="position:absolute;top:236px;left:213px;white-space:nowrap" class="ft6312">single&#160;host&#160;at&#160;which&#160;an&#160;infection&#160;has&#160;been&#160;detected&#160;to&#160;the&#160;originator&#160;of&#160;the&#160;attack<br/>and&#160;to&#160;other&#160;hosts&#160;that&#160;were&#160;compromised&#160;from&#160;that&#160;host.&#160;The&#160;extension&#160;is&#160;based<br/>on&#160;identifying&#160;causal&#160;relationships,&#160;and&#160;has&#160;also&#160;been&#160;used&#160;for&#160;correlating&#160;alerts<br/>from&#160;multiple&#160;intrusion&#160;detection&#160;systems.</p>
<p style="position:absolute;top:317px;left:238px;white-space:nowrap" class="ft6311">King&#160;<i>et&#160;al.&#160;</i><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[KDC05]&#160;</a>describe&#160;the&#160;concept&#160;of&#160;time-traveling&#160;virtual&#160;machines</p>
<p style="position:absolute;top:338px;left:213px;white-space:nowrap" class="ft6312">(TTVMs),&#160;in&#160;which&#160;VM&#160;replay&#160;is&#160;used&#160;for&#160;low-overhead&#160;reverse&#160;debugging&#160;of<br/>operating&#160;systems&#160;and&#160;for&#160;providing&#160;debugging&#160;operations&#160;such&#160;as&#160;reverse&#160;break<br/>point,&#160;reverse&#160;watch&#160;point,&#160;and&#160;reverse&#160;single&#160;step.&#160;Combining&#160;efficient&#160;check-<br/>pointing&#160;techniques&#160;with&#160;ReVirt,&#160;TTVMs&#160;can&#160;be&#160;used&#160;by&#160;programmers&#160;to&#160;go&#160;to&#160;a<br/>particular&#160;point&#160;in&#160;the&#160;execution&#160;history&#160;of&#160;a&#160;given&#160;run&#160;of&#160;the&#160;OS.&#160;To&#160;recreate&#160;all<br/>relevant&#160;state&#160;for&#160;that&#160;point,&#160;TTVMs&#160;log&#160;all&#160;sources&#160;of&#160;non-determinism.</p>
<p style="position:absolute;top:460px;left:238px;white-space:nowrap" class="ft6311">Garfinkel&#160;and&#160;Rosenblum&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">[GR03]&#160;</a>introduced&#160;the&#160;idea&#160;of&#160;hypervisor-based&#160;in-</p>
<p style="position:absolute;top:480px;left:213px;white-space:nowrap" class="ft6312">trusion&#160;detection,&#160;and&#160;pointed&#160;out&#160;the&#160;advantages&#160;of&#160;this&#160;approach&#160;and&#160;its&#160;applica-<br/>bility&#160;not&#160;only&#160;for&#160;detection,&#160;but&#160;also&#160;for&#160;protection.&#160;Their&#160;Livewire&#160;system&#160;uses<br/>a&#160;modified&#160;VMware&#160;workstation&#160;as&#160;hypervisor&#160;and&#160;implements&#160;various&#160;polling-<br/>based&#160;and&#160;event-driven&#160;sensors.&#160;Compared&#160;with&#160;Livewire,&#160;our&#160;X-Spy&#160;system&#160;em-<br/>ploys&#160;more&#160;extensive&#160;detection&#160;techniques&#160;(e.g.,&#160;by&#160;checking&#160;not&#160;only&#160;processes,<br/>but&#160;also&#160;kernel&#160;modules&#160;and&#160;file&#160;systems)&#160;and&#160;protection&#160;techniques&#160;(such&#160;as&#160;pre-<br/>checking&#160;and&#160;white-listing&#160;of&#160;binaries,&#160;and&#160;kernel&#160;sealing)&#160;with&#160;an&#160;explicit&#160;focus<br/>on&#160;rootkit&#160;detection.&#160;In&#160;addition,&#160;X-Spy&#160;enables&#160;easy&#160;forensic&#160;analysis.</p>
<p style="position:absolute;top:643px;left:238px;white-space:nowrap" class="ft6311">Zhang&#160;<i>et&#160;al.&#160;</i><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">[ZvDJ</a></p>
<p style="position:absolute;top:639px;left:366px;white-space:nowrap" class="ft6328"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">+</a></p>
<p style="position:absolute;top:643px;left:376px;white-space:nowrap" class="ft6311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">02]&#160;</a>and&#160;Petroni&#160;<i>et&#160;al.&#160;</i><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#92">[NLPFMA04]&#160;</a>use&#160;a&#160;secure&#160;copro-</p>
<p style="position:absolute;top:663px;left:213px;white-space:nowrap" class="ft6312">cessor&#160;as&#160;the&#160;basis&#160;for&#160;checking&#160;the&#160;integrity&#160;of&#160;the&#160;OS&#160;kernel&#160;running&#160;on&#160;the&#160;main<br/>processor.&#160;However,&#160;as&#160;the&#160;coprocessor&#160;can&#160;only&#160;read&#160;the&#160;memory&#160;of&#160;the&#160;machine<br/>monitored,&#160;only&#160;polling-based&#160;intrusion&#160;detection&#160;is&#160;possible.&#160;In&#160;contrast,&#160;X-Spy<br/>can&#160;perform&#160;both&#160;polling-based&#160;and&#160;event-driven&#160;intrusion&#160;detection.&#160;Specifically,<br/>it&#160;can&#160;intercept&#160;and&#160;deny&#160;certain&#160;requested&#160;actions&#160;(such&#160;as&#160;suspicious&#160;system&#160;calls),<br/>and&#160;therefore&#160;has&#160;the&#160;capability&#160;to&#160;not&#160;only&#160;detect&#160;but&#160;also&#160;protect.</p>
<p style="position:absolute;top:785px;left:238px;white-space:nowrap" class="ft6311">Laureano&#160;<i>et&#160;al.&#160;</i><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#92">[LMJ04]&#160;</a>employ&#160;behavior-based&#160;detection&#160;of&#160;anomalous&#160;sys-</p>
<p style="position:absolute;top:805px;left:213px;white-space:nowrap" class="ft6312">tem&#160;call&#160;sequences&#160;after&#160;a&#160;learning&#160;phase&#160;in&#160;which&#160;“normal”&#160;system&#160;calls&#160;are&#160;iden-<br/>tified.&#160;Processes&#160;with&#160;anomalous&#160;system&#160;call&#160;sequences&#160;are&#160;labeled&#160;suspicious.<br/>For&#160;these&#160;processes,&#160;certain&#160;dangerous&#160;system&#160;calls&#160;will&#160;in&#160;turn&#160;be&#160;blocked.&#160;The<br/>authors&#160;describe&#160;a&#160;prototype&#160;based&#160;on&#160;a&#160;type-II&#160;hypervisor,&#160;namely,&#160;User-Mode<br/>Linux&#160;(UML)&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">[Dik00]</a>.</p>
<p style="position:absolute;top:907px;left:238px;white-space:nowrap" class="ft6311">The&#160;ISIS&#160;system&#160;of&#160;Litty&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#92">[Lit05]&#160;</a>is&#160;also&#160;based&#160;on&#160;UML.&#160;ISIS&#160;runs&#160;as&#160;a&#160;process</p>
<p style="position:absolute;top:927px;left:213px;white-space:nowrap" class="ft6312">in&#160;the&#160;host&#160;operating&#160;system&#160;and&#160;detects&#160;intrusions&#160;in&#160;the&#160;guest&#160;operating&#160;system<br/>by&#160;using&#160;the</p>
<p style="position:absolute;top:949px;left:296px;white-space:nowrap" class="ft6338">ptrace</p>
<p style="position:absolute;top:948px;left:359px;white-space:nowrap" class="ft6311">system&#160;call&#160;for&#160;instrumenting&#160;the&#160;guest&#160;UML&#160;kernel.&#160;Unlike</p>
<p style="position:absolute;top:968px;left:213px;white-space:nowrap" class="ft6311">X-Spy,&#160;ISIS&#160;focuses&#160;mostly&#160;on&#160;intrusion&#160;detection&#160;and&#160;not&#160;protection.</p>
<p style="position:absolute;top:988px;left:238px;white-space:nowrap" class="ft6311">Jiang&#160;<i>et&#160;al.&#160;</i><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[JWX07]&#160;</a>describe&#160;the&#160;<i>VMwatcher&#160;</i>system,&#160;in&#160;which&#160;host-based&#160;anti-</p>
<p style="position:absolute;top:1008px;left:213px;white-space:nowrap" class="ft6312">malware&#160;software&#160;is&#160;used&#160;to&#160;monitor&#160;a&#160;VM&#160;from&#160;within&#160;a&#160;different&#160;VM.&#160;X-Spy&#160;and<br/>VMwatcher&#160;are&#160;similar&#160;in&#160;that&#160;both&#160;use&#160;the&#160;hypervisor&#160;as&#160;a&#160;bridge&#160;for&#160;cross-VM<br/>inspection,&#160;and&#160;both&#160;tackle&#160;the&#160;semantic&#160;gap&#160;problem.&#160;While&#160;their&#160;work&#160;focuses&#160;on<br/>bridging&#160;the&#160;semantic&#160;gap&#160;on&#160;a&#160;multitude&#160;of&#160;platforms&#160;(hypervisors&#160;and&#160;operating</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft6316">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 64 -->
<a name="64"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page64-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter064.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft6411">64</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft6416">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft6412">systems),&#160;our&#160;work&#160;focuses&#160;on&#160;employing&#160;more&#160;extensive&#160;detection&#160;mechanisms<br/>(such&#160;as&#160;checking&#160;not&#160;only&#160;processes,&#160;but&#160;also&#160;kernel&#160;modules,&#160;network&#160;connec-<br/>tions,&#160;and&#160;file&#160;systems)&#160;on&#160;a&#160;single&#160;hypervisor.&#160;In&#160;contrast&#160;to&#160;X-Spy,&#160;VMwatcher<br/>does&#160;not&#160;include&#160;event-driven&#160;detection&#160;methods&#160;or&#160;protection&#160;techniques.</p>
<p style="position:absolute;top:277px;left:166px;white-space:nowrap" class="ft6411">The&#160;Strider&#160;GhostBuster&#160;system&#160;by&#160;Beck&#160;<i>et&#160;al.&#160;</i><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">[BVV05]&#160;</a>is&#160;similar&#160;to&#160;X-Spy</p>
<p style="position:absolute;top:297px;left:141px;white-space:nowrap" class="ft6412">in&#160;that&#160;both&#160;use&#160;a&#160;differential&#160;view&#160;of&#160;system&#160;resources.&#160;Strider&#160;GhostBuster&#160;com-<br/>pares&#160;high-level&#160;information&#160;(such&#160;as&#160;information&#160;obtained&#160;by&#160;an&#160;OS&#160;command)<br/>with&#160;low-level&#160;information&#160;(e.g.,&#160;kernel&#160;information)&#160;to&#160;detect&#160;malicious&#160;software<br/>trying&#160;to&#160;hide&#160;system&#160;resources&#160;from&#160;the&#160;user&#160;and&#160;administrator.&#160;However,&#160;such&#160;a<br/>comparison&#160;has&#160;limited&#160;effectiveness&#160;as&#160;detection&#160;takes&#160;place&#160;in&#160;the&#160;same&#160;(poten-<br/>tially&#160;compromised)&#160;OS&#160;environment.&#160;Beck&#160;<i>et&#160;al.&#160;</i>also&#160;compare&#160;the&#160;file&#160;system<br/>view&#160;obtained&#160;from&#160;a&#160;potentially&#160;compromised&#160;OS&#160;with&#160;the&#160;view&#160;obtained&#160;from&#160;an<br/>OS&#160;booted&#160;from&#160;a&#160;clean&#160;media.&#160;The&#160;disadvantage&#160;of&#160;such&#160;an&#160;approach&#160;is&#160;that&#160;it<br/>requires&#160;multiple&#160;reboots&#160;and&#160;is&#160;limited&#160;to&#160;checking&#160;only&#160;persistent&#160;data&#160;(such&#160;as<br/>file&#160;system)&#160;and&#160;not&#160;run-time&#160;data.</p>
<p style="position:absolute;top:550px;left:141px;white-space:nowrap" class="ft6418"><b>5.3</b></p>
<p style="position:absolute;top:550px;left:189px;white-space:nowrap" class="ft6418"><b>Using&#160;Virtualization&#160;for&#160;Dependability&#160;and&#160;Security</b></p>
<p style="position:absolute;top:590px;left:141px;white-space:nowrap" class="ft6412">Commodity&#160;operating&#160;systems&#160;provide&#160;a&#160;level&#160;of&#160;dependability&#160;and&#160;security&#160;that&#160;is<br/>much&#160;lower&#160;than&#160;what&#160;is&#160;desired.&#160;This&#160;situation&#160;has&#160;not&#160;changed&#160;much&#160;in&#160;the&#160;past<br/>decade.&#160;Hence,&#160;the&#160;focus&#160;has&#160;shifted&#160;to&#160;designing&#160;dependable&#160;and&#160;secure&#160;systems<br/>around&#160;the&#160;OS&#160;problems.&#160;Thanks&#160;to&#160;the&#160;flexible&#160;manner&#160;in&#160;which&#160;VM&#160;state&#160;can&#160;be<br/>manipulated,&#160;virtualization&#160;can&#160;enable&#160;such&#160;designs.&#160;In&#160;particular,&#160;VM&#160;state,&#160;much<br/>like&#160;files,&#160;can&#160;be&#160;read,&#160;copied,&#160;modified,&#160;saved,&#160;migrated,&#160;and&#160;restored&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[GR05]</a>.&#160;In<br/>this&#160;section,&#160;we&#160;give&#160;several&#160;examples&#160;of&#160;dependability&#160;and&#160;security&#160;enhancements<br/>made&#160;possible&#160;by&#160;virtualization.</p>
<p style="position:absolute;top:753px;left:166px;white-space:nowrap" class="ft6415"><b>Coping&#160;with&#160;Load-Induced&#160;Failures:&#160;</b>Deploying&#160;services&#160;on&#160;VMs&#160;instead&#160;of</p>
<p style="position:absolute;top:773px;left:141px;white-space:nowrap" class="ft6412">physical&#160;machines&#160;enables&#160;a&#160;higher&#160;and&#160;more&#160;flexible&#160;resilience&#160;to&#160;load-induced<br/>failures&#160;without&#160;requiring&#160;additional&#160;hardware.&#160;Under&#160;load&#160;conditions,&#160;the&#160;VMs<br/>can&#160;be&#160;seamlessly&#160;migrated&#160;(using&#160;live&#160;migration&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">[CFH</a></p>
<p style="position:absolute;top:811px;left:513px;white-space:nowrap" class="ft6428"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">+</a></p>
<p style="position:absolute;top:814px;left:523px;white-space:nowrap" class="ft6411"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">05]</a>)&#160;to&#160;a&#160;lightly&#160;loaded</p>
<p style="position:absolute;top:834px;left:141px;white-space:nowrap" class="ft6412">or&#160;a&#160;more&#160;powerful&#160;physical&#160;machine.&#160;VM&#160;creation&#160;is&#160;simple&#160;and&#160;cheap,&#160;much<br/>like&#160;copying&#160;a&#160;file.&#160;In&#160;response&#160;to&#160;high-load&#160;conditions,&#160;it&#160;is&#160;much&#160;easier&#160;to&#160;dy-<br/>namically&#160;provision&#160;additional&#160;VMs&#160;on&#160;under-utilized&#160;physical&#160;machines&#160;than&#160;to<br/>provision&#160;additional&#160;physical&#160;machines.&#160;This&#160;flexibility&#160;usually&#160;compensates&#160;for<br/>the&#160;additional&#160;resources&#160;(mainly&#160;memory)&#160;needed&#160;by&#160;the&#160;hypervisor.</p>
<p style="position:absolute;top:936px;left:166px;white-space:nowrap" class="ft6415"><b>Patch&#160;Application&#160;for&#160;High-Availability&#160;Services:&#160;</b>Typically,&#160;patch&#160;applica-</p>
<p style="position:absolute;top:956px;left:141px;white-space:nowrap" class="ft6412">tion&#160;involves&#160;a&#160;system&#160;restart,&#160;and&#160;thus&#160;negatively&#160;affects&#160;service&#160;availability.&#160;Con-<br/>sider&#160;a&#160;service&#160;running&#160;inside&#160;a&#160;VM.&#160;Virtualization&#160;provides&#160;a&#160;way&#160;of&#160;removing<br/>faults&#160;and&#160;vulnerabilities&#160;at&#160;run-time&#160;without&#160;affecting&#160;system&#160;availability.&#160;For&#160;this<br/>purpose,&#160;a&#160;copy&#160;of&#160;the&#160;VM&#160;is&#160;instantiated,&#160;and&#160;the&#160;patch&#160;(be&#160;it&#160;OS-level&#160;or&#160;service-<br/>level)&#160;is&#160;applied&#160;on&#160;the&#160;copy&#160;rather&#160;than&#160;on&#160;the&#160;original&#160;VM.&#160;Then,&#160;the&#160;copy&#160;is<br/>restarted&#160;for&#160;the&#160;patch&#160;to&#160;take&#160;effect,&#160;after&#160;which&#160;the&#160;original&#160;VM&#160;is&#160;gracefully&#160;shut</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft6416">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 65 -->
<a name="65"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page65-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter065.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft6523">CHAPTER&#160;5.&#160;DEPENDABLE&#160;AND&#160;SECURE&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft6511">65</p>
<p style="position:absolute;top:196px;left:213px;white-space:nowrap" class="ft6512">down&#160;and&#160;future&#160;service&#160;requests&#160;are&#160;directed&#160;to&#160;the&#160;copy&#160;VM.&#160;To&#160;ensure&#160;that&#160;there<br/>are&#160;no&#160;undesirable&#160;side&#160;effects&#160;due&#160;to&#160;the&#160;patch&#160;application,&#160;the&#160;copy&#160;VM&#160;may&#160;be<br/>placed&#160;under&#160;special&#160;watch&#160;for&#160;a&#160;sufficiently&#160;long&#160;time&#160;while&#160;its&#160;post-patch&#160;behav-<br/>ior&#160;is&#160;being&#160;observed&#160;before&#160;the&#160;original&#160;VM&#160;is&#160;shut&#160;down.&#160;If&#160;the&#160;service&#160;running<br/>inside&#160;the&#160;VM&#160;is&#160;stateful,&#160;then&#160;additional&#160;techniques&#160;based&#160;on&#160;a&#160;combination&#160;of<br/>VM&#160;checkpointing&#160;(e.g.,&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">[AF02]</a>)&#160;and&#160;VM&#160;live&#160;migration&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">[CFH</a></p>
<p style="position:absolute;top:294px;left:631px;white-space:nowrap" class="ft6528"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">+</a></p>
<p style="position:absolute;top:297px;left:641px;white-space:nowrap" class="ft6511"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">05]&#160;</a>may&#160;be&#160;used</p>
<p style="position:absolute;top:317px;left:213px;white-space:nowrap" class="ft6512">to&#160;retain&#160;network&#160;connections&#160;of&#160;the&#160;original&#160;VM&#160;and&#160;to&#160;bring&#160;the&#160;copy&#160;up-to-date<br/>with&#160;the&#160;last&#160;correct&#160;checkpoint.</p>
<p style="position:absolute;top:358px;left:238px;white-space:nowrap" class="ft6515"><b>Enforcing&#160;Fail-Safe&#160;Behavior&#160;and&#160;Virtual&#160;Patches:&#160;</b>The&#160;average&#160;time&#160;be-</p>
<p style="position:absolute;top:378px;left:213px;white-space:nowrap" class="ft6512">tween&#160;the&#160;point&#160;in&#160;time&#160;when&#160;a&#160;vulnerability&#160;is&#160;made&#160;public&#160;and&#160;a&#160;patch&#160;is&#160;available<br/>is&#160;still&#160;measured&#160;in&#160;months.&#160;In&#160;2005,&#160;Microsoft&#160;took&#160;an&#160;average&#160;time&#160;of&#160;134.5&#160;days<br/>for&#160;issuing&#160;critical&#160;patches&#160;for&#160;Windows&#160;security&#160;problems&#160;reported&#160;to&#160;the&#160;com-<br/>pany&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">[Was06]</a>.&#160;Developing&#160;patches&#160;for&#160;a&#160;software&#160;component&#160;is&#160;a&#160;time-consuming<br/>process&#160;because&#160;of&#160;the&#160;need&#160;to&#160;ensure&#160;that&#160;the&#160;patch&#160;does&#160;not&#160;introduce&#160;new&#160;flaws<br/>or&#160;affect&#160;the&#160;dependencies&#160;between&#160;the&#160;component&#160;involved&#160;and&#160;other&#160;components<br/>in&#160;the&#160;system.&#160;In&#160;many&#160;cases,&#160;a&#160;service&#160;administrator&#160;simply&#160;does&#160;not&#160;have&#160;the&#160;lux-<br/>ury&#160;of&#160;suspending&#160;a&#160;service&#160;immediately&#160;after&#160;a&#160;critical&#160;flaw&#160;(in&#160;the&#160;OS&#160;running&#160;the<br/>service&#160;or&#160;the&#160;service&#160;itself)&#160;becomes&#160;publicized&#160;until&#160;the&#160;patch&#160;becomes&#160;available.</p>
<p style="position:absolute;top:561px;left:238px;white-space:nowrap" class="ft6511">Virtualization&#160;can&#160;be&#160;used&#160;to&#160;prolong&#160;the&#160;availability&#160;of&#160;the&#160;service&#160;as&#160;much&#160;as</p>
<p style="position:absolute;top:582px;left:213px;white-space:nowrap" class="ft6512">possible&#160;while&#160;at&#160;the&#160;same&#160;time&#160;ensuring&#160;that&#160;the&#160;service&#160;is&#160;fail-safe.&#160;We&#160;leverage<br/>the&#160;observation&#160;that&#160;publicizing&#160;a&#160;flaw&#160;is&#160;usually&#160;accompanied&#160;by&#160;details&#160;of&#160;possible<br/>attacks&#160;exploiting&#160;the&#160;flaw&#160;and/or&#160;symptoms&#160;of&#160;an&#160;exploited&#160;flaw.&#160;Developing&#160;an<br/>external&#160;monitor&#160;to&#160;identify&#160;attack&#160;signatures&#160;or&#160;symptoms&#160;of&#160;an&#160;exploited&#160;flaw&#160;may<br/>be&#160;done&#160;independently&#160;of&#160;patch&#160;development.&#160;The&#160;monitor&#160;may&#160;also&#160;be&#160;developed<br/>much&#160;faster&#160;than&#160;the&#160;patch&#160;itself,&#160;because&#160;the&#160;monitor&#160;may&#160;not&#160;be&#160;subject&#160;to&#160;the<br/>same&#160;stringent&#160;testing&#160;and&#160;validation&#160;requirements.</p>
<p style="position:absolute;top:724px;left:238px;white-space:nowrap" class="ft6511">Consider&#160;a&#160;service&#160;running&#160;inside&#160;a&#160;VM&#160;rather&#160;than&#160;directly&#160;on&#160;a&#160;physical&#160;ma-</p>
<p style="position:absolute;top:744px;left:213px;white-space:nowrap" class="ft6512">chine.&#160;Then,&#160;a&#160;VM-external&#160;monitor,&#160;running&#160;in&#160;parallel&#160;to&#160;the&#160;VM,&#160;can&#160;be&#160;used&#160;to<br/>watch&#160;for&#160;these&#160;attack&#160;signatures&#160;or&#160;detect&#160;the&#160;symptoms&#160;of&#160;exploitation&#160;of&#160;the&#160;flaw.<br/>If&#160;attack&#160;signatures&#160;are&#160;known,&#160;the&#160;VM-external&#160;monitor&#160;can&#160;be&#160;used&#160;to&#160;block&#160;the<br/>attack,&#160;e.g.&#160;by&#160;filtering&#160;the&#160;incoming&#160;network&#160;stream,&#160;to&#160;terminate&#160;interaction&#160;with<br/>the&#160;attack&#160;source,&#160;or&#160;to&#160;protect&#160;targeted&#160;structures&#160;inside&#160;the&#160;VM,&#160;e.g.&#160;the&#160;system<br/>call&#160;table.&#160;If&#160;only&#160;symptoms&#160;of&#160;exploitation&#160;are&#160;known,&#160;detection&#160;of&#160;a&#160;compro-<br/>mise&#160;can&#160;be&#160;used&#160;to&#160;immediately&#160;halt&#160;the&#160;VM.&#160;The&#160;monitor&#160;could&#160;be&#160;implemented<br/>at&#160;the&#160;VMM&#160;level&#160;or&#160;in&#160;a&#160;privileged&#160;VM&#160;(such&#160;as&#160;Dom0&#160;in&#160;Xen&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">[BDF</a></p>
<p style="position:absolute;top:883px;left:688px;white-space:nowrap" class="ft6528"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">+</a></p>
<p style="position:absolute;top:887px;left:699px;white-space:nowrap" class="ft6511"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">03]</a>).&#160;If</p>
<p style="position:absolute;top:907px;left:213px;white-space:nowrap" class="ft6512">it&#160;is&#160;important&#160;to&#160;revert&#160;the&#160;service&#160;to&#160;its&#160;last&#160;correct&#160;state&#160;when&#160;a&#160;patch&#160;becomes<br/>available,&#160;then&#160;the&#160;above&#160;technique&#160;can&#160;be&#160;augmented&#160;with&#160;a&#160;checkpointing&#160;mech-<br/>anism&#160;that&#160;periodically&#160;checkpoints&#160;the&#160;state&#160;of&#160;the&#160;service&#160;with&#160;respect&#160;to&#160;the&#160;VM<br/>(e.g.,&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">[AF02]</a>).</p>
<p style="position:absolute;top:988px;left:238px;white-space:nowrap" class="ft6515"><b>Proactive&#160;Software&#160;Rejuvenation:&#160;</b>Rebooting&#160;a&#160;machine&#160;is&#160;an&#160;easy&#160;way&#160;of</p>
<p style="position:absolute;top:1008px;left:213px;white-space:nowrap" class="ft6512">rejuvenating&#160;software.&#160;The&#160;downside&#160;of&#160;machine&#160;reboot&#160;is&#160;that&#160;the&#160;service&#160;is&#160;un-<br/>available&#160;during&#160;the&#160;reboot&#160;process.&#160;The&#160;VMM&#160;is&#160;a&#160;convenient&#160;layer&#160;for&#160;introducing<br/>hooks&#160;to&#160;proactively&#160;rejuvenate&#160;the&#160;guest&#160;OS&#160;and&#160;services&#160;running&#160;inside&#160;a&#160;VM&#160;in&#160;a<br/>performance-&#160;and&#160;availability-preserving&#160;way&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">[RK07]</a>.&#160;Periodically,&#160;the&#160;VMM&#160;can</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft6516">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 66 -->
<a name="66"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page66-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter066.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft6611">66</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft6616">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft6612">be&#160;made&#160;to&#160;instantiate&#160;a&#160;<i>reincarnation&#160;VM&#160;</i>from&#160;a&#160;clean&#160;VM&#160;image.&#160;The&#160;booting&#160;of<br/>the&#160;reincarnation&#160;VM&#160;is&#160;done&#160;while&#160;the&#160;original&#160;VM&#160;continues&#160;regular&#160;operation,<br/>thereby&#160;maintaining&#160;service&#160;availability.&#160;One&#160;can&#160;view&#160;this&#160;technique&#160;as&#160;a&#160;general-<br/>ization&#160;of&#160;the&#160;proactive&#160;recovery&#160;technique&#160;for&#160;fault-tolerant&#160;replication&#160;proposed<br/>by&#160;Reiser&#160;and&#160;Kapitza&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">[RK07]</a>.</p>
<p style="position:absolute;top:297px;left:166px;white-space:nowrap" class="ft6611">As&#160;mentioned&#160;above&#160;in&#160;the&#160;context&#160;of&#160;patch&#160;application,&#160;techniques&#160;based&#160;on</p>
<p style="position:absolute;top:317px;left:141px;white-space:nowrap" class="ft6612">VM&#160;checkpointing&#160;and&#160;live&#160;migration&#160;may&#160;be&#160;used&#160;to&#160;seamlessly&#160;transfer&#160;network<br/>connections&#160;and&#160;the&#160;service&#160;state&#160;of&#160;the&#160;original&#160;VM&#160;to&#160;the&#160;reincarnation&#160;VM.&#160;It<br/>is&#160;possible&#160;to&#160;adjust&#160;the&#160;performance&#160;impact&#160;of&#160;the&#160;rejuvenation&#160;procedure&#160;on&#160;the<br/>original&#160;VM’s&#160;performance.&#160;To&#160;lower&#160;the&#160;impact,&#160;the&#160;VMM&#160;can&#160;restrict&#160;the&#160;amount<br/>of&#160;resources&#160;devoted&#160;to&#160;the&#160;booting&#160;of&#160;a&#160;reincarnation&#160;VM&#160;and&#160;compensate&#160;for&#160;the<br/>restriction&#160;in&#160;resources&#160;by&#160;allowing&#160;more&#160;time&#160;for&#160;the&#160;reboot&#160;to&#160;complete.</p>
<p style="position:absolute;top:439px;left:166px;white-space:nowrap" class="ft6611">One&#160;can&#160;view&#160;the&#160;above&#160;type&#160;of&#160;rejuvenation&#160;as&#160;a&#160;<i>memory-scrubbing&#160;</i>technique</p>
<p style="position:absolute;top:460px;left:141px;white-space:nowrap" class="ft6612">for&#160;reclaiming&#160;leaked&#160;memory&#160;and&#160;recovering&#160;from&#160;memory&#160;errors&#160;of&#160;the&#160;original<br/>VM.&#160;More&#160;importantly,&#160;such&#160;a&#160;periodic&#160;rejuvenation&#160;offers&#160;a&#160;way&#160;to&#160;proactively&#160;re-<br/>cover&#160;from&#160;errors&#160;without&#160;requiring&#160;failure&#160;detection&#160;mechanisms&#160;(which&#160;are&#160;often<br/>unreliable)&#160;to&#160;trigger&#160;the&#160;recovery.</p>
<p style="position:absolute;top:541px;left:166px;white-space:nowrap" class="ft6615"><b>Intrusion&#160;Detection&#160;and&#160;Response:&#160;</b>Based&#160;on&#160;the&#160;location&#160;of&#160;the&#160;intrusion</p>
<p style="position:absolute;top:561px;left:141px;white-space:nowrap" class="ft6612">detection&#160;sensors,&#160;intrusion&#160;detection&#160;system&#160;(IDS)&#160;implementations&#160;are&#160;broadly<br/>classified&#160;into&#160;host-based&#160;IDS&#160;(HIDS)&#160;and&#160;network-based&#160;IDS&#160;(NIDS)&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[HDW00]</a>.<br/>A&#160;NIDS&#160;monitors&#160;network&#160;traffic&#160;from&#160;and&#160;to&#160;the&#160;target,&#160;and&#160;analyzes&#160;the&#160;individual<br/>packets&#160;for&#160;signs&#160;of&#160;intrusion.&#160;Because&#160;of&#160;its&#160;isolation&#160;from&#160;the&#160;target&#160;monitored,&#160;a<br/>NIDS&#160;decreases&#160;its&#160;susceptibility&#160;to&#160;attacks&#160;and&#160;is&#160;largely&#160;unaffected&#160;by&#160;a&#160;compro-<br/>mised&#160;target.&#160;However,&#160;as&#160;network&#160;traffic&#160;becomes&#160;increasingly&#160;encrypted&#160;and&#160;as<br/>the&#160;NIDS&#160;has&#160;no&#160;direct&#160;knowledge&#160;of&#160;the&#160;effects&#160;or&#160;properties&#160;of&#160;the&#160;attack&#160;targets,<br/>the&#160;usefulness&#160;of&#160;NIDS&#160;is&#160;decreased.&#160;The&#160;fact&#160;that&#160;not&#160;all&#160;intrusions&#160;may&#160;mani-<br/>fest&#160;their&#160;effects&#160;in&#160;the&#160;form&#160;of&#160;malicious&#160;traffic&#160;also&#160;lowers&#160;the&#160;utility&#160;of&#160;NIDS.<br/>The&#160;sensors&#160;of&#160;a&#160;HIDS&#160;are&#160;placed&#160;on&#160;the&#160;target&#160;machine&#160;itself,&#160;giving&#160;them&#160;a&#160;high<br/>degree&#160;of&#160;visibility&#160;into&#160;the&#160;internals&#160;of&#160;the&#160;target,&#160;enabling&#160;closer&#160;monitoring&#160;and<br/>analysis&#160;of&#160;the&#160;target&#160;than&#160;NIDS&#160;does.&#160;However,&#160;the&#160;location&#160;of&#160;HIDS&#160;on&#160;the&#160;same<br/>“trust&#160;compartment”&#160;as&#160;the&#160;target&#160;is&#160;also&#160;a&#160;disadvantage:&#160;after&#160;an&#160;intrusion&#160;into&#160;the<br/>target,&#160;the&#160;HIDS&#160;may&#160;no&#160;longer&#160;be&#160;trusted.</p>
<p style="position:absolute;top:846px;left:166px;white-space:nowrap" class="ft6611">Virtualization&#160;provides&#160;a&#160;way&#160;of&#160;removing&#160;the&#160;disadvantages&#160;of&#160;HIDS&#160;and</p>
<p style="position:absolute;top:866px;left:141px;white-space:nowrap" class="ft6612">NIDS,&#160;while&#160;retaining&#160;their&#160;advantages.&#160;In&#160;our&#160;approach,&#160;the&#160;sensors&#160;are&#160;placed<br/>in&#160;a&#160;special&#160;privileged&#160;VM&#160;(called&#160;the&#160;<i>secure&#160;service&#160;VM&#160;</i>or&#160;SSVM)&#160;used&#160;for&#160;mon-<br/>itoring&#160;other&#160;VMs&#160;hosting&#160;regular&#160;production&#160;services&#160;(called&#160;<i>production&#160;VMs&#160;</i>or<br/>PVMs).&#160;The&#160;placement&#160;of&#160;the&#160;sensors&#160;on&#160;the&#160;same&#160;physical&#160;machine&#160;but&#160;in&#160;a&#160;dif-<br/>ferent&#160;VM&#160;allows&#160;monitoring&#160;and&#160;analysis&#160;of&#160;the&#160;complete&#160;state&#160;of&#160;other&#160;VMs&#160;via<br/>the&#160;VMM,&#160;and&#160;at&#160;the&#160;same&#160;time,&#160;keeps&#160;the&#160;sensor&#160;out&#160;of&#160;reach&#160;of&#160;a&#160;potentially<br/>compromised&#160;VM&#160;and&#160;in&#160;a&#160;secure&#160;vantage&#160;position.</p>
<p style="position:absolute;top:1008px;left:166px;white-space:nowrap" class="ft6611">The&#160;twin&#160;characteristics&#160;of&#160;proximity&#160;to&#160;the&#160;target&#160;and&#160;isolation&#160;from&#160;the&#160;target</p>
<p style="position:absolute;top:1029px;left:141px;white-space:nowrap" class="ft6612">also&#160;make&#160;the&#160;SSVM&#160;a&#160;convenient&#160;location&#160;for&#160;implementing&#160;intrusion&#160;response<br/>mechanisms.&#160;The&#160;secure&#160;vantage&#160;point&#160;of&#160;the&#160;SSVM&#160;allows&#160;one&#160;to&#160;implement<br/>otherwise&#160;difficult&#160;responses,&#160;e.g.,&#160;even&#160;a&#160;simple&#160;response&#160;like&#160;‘shutdown&#160;a&#160;com-</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft6616">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 67 -->
<a name="67"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft6791{font-size:22px;line-height:26px;font-family:Times;color:#000000;}
-->
</style>
<div id="page67-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter067.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft6723">CHAPTER&#160;5.&#160;DEPENDABLE&#160;AND&#160;SECURE&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft6711">67</p>
<p style="position:absolute;top:196px;left:213px;white-space:nowrap" class="ft6712">promised&#160;system’&#160;may&#160;not&#160;be&#160;effectively&#160;triggered&#160;from&#160;inside&#160;the&#160;compromised<br/>system.&#160;On&#160;the&#160;other&#160;hand,&#160;it&#160;is&#160;easy&#160;and&#160;effective&#160;to&#160;suspend&#160;the&#160;operations&#160;of&#160;a<br/>compromised&#160;PVM&#160;from&#160;the&#160;SSVM.&#160;In&#160;addition,&#160;the&#160;SSVM&#160;can&#160;instruct&#160;the&#160;VMM<br/>to&#160;provision&#160;a&#160;healthy&#160;replacement&#160;PVM&#160;or&#160;block&#160;suspicious&#160;system&#160;calls&#160;that&#160;may<br/>potentially&#160;tamper&#160;with&#160;the&#160;integrity&#160;of&#160;the&#160;kernel.</p>
<p style="position:absolute;top:297px;left:238px;white-space:nowrap" class="ft6711">For&#160;effective&#160;rejuvenation&#160;of&#160;a&#160;compromised&#160;PVM&#160;by&#160;re-provisioning&#160;a&#160;new</p>
<p style="position:absolute;top:317px;left:213px;white-space:nowrap" class="ft6712">PVM,&#160;it&#160;is&#160;not&#160;sufficient&#160;to&#160;merely&#160;boot&#160;the&#160;new&#160;PVM&#160;from&#160;a&#160;clean&#160;state.&#160;The&#160;new<br/>PVM&#160;might&#160;still&#160;possess&#160;all&#160;the&#160;vulnerabilities&#160;of&#160;the&#160;compromised&#160;one.&#160;Hence,&#160;it<br/>is&#160;important&#160;to&#160;perform&#160;a&#160;forensic&#160;analysis&#160;of&#160;the&#160;compromised&#160;PVM’s&#160;state&#160;to&#160;re-<br/>move&#160;as&#160;many&#160;vulnerabilities&#160;as&#160;possible.&#160;Such&#160;an&#160;analysis&#160;is&#160;facilitated&#160;by&#160;the&#160;vir-<br/>tualized&#160;environment&#160;hosting&#160;the&#160;SSVM.&#160;The&#160;SSVM&#160;can&#160;obtain&#160;not&#160;only&#160;modified<br/>files&#160;of&#160;a&#160;suspended&#160;PVM,&#160;but&#160;also&#160;its&#160;complete&#160;run-time&#160;state&#160;from&#160;the&#160;memory<br/>dump&#160;created&#160;at&#160;the&#160;time&#160;of&#160;suspension.&#160;The&#160;memory&#160;dump&#160;can&#160;be&#160;examined&#160;using<br/>the&#160;same&#160;techniques&#160;as&#160;the&#160;one&#160;used&#160;to&#160;observe&#160;the&#160;state&#160;of&#160;a&#160;running&#160;PVM&#160;from<br/>the&#160;SSVM&#160;for&#160;the&#160;purpose&#160;of&#160;intrusion&#160;detection.</p>
<p style="position:absolute;top:550px;left:213px;white-space:nowrap" class="ft6718"><b>5.4</b></p>
<p style="position:absolute;top:550px;left:261px;white-space:nowrap" class="ft6791"><b>Xen-based&#160;Implementation&#160;of&#160;Intrusion&#160;Detection<br/>and&#160;Protection</b></p>
<p style="position:absolute;top:617px;left:213px;white-space:nowrap" class="ft6712">In&#160;this&#160;section,&#160;we&#160;describe&#160;the&#160;prototype&#160;implementation&#160;of&#160;a&#160;subset&#160;of&#160;the&#160;secu-<br/>rity&#160;enhancements&#160;mentioned&#160;above,&#160;namely,&#160;intrusion&#160;detection&#160;and&#160;protection&#160;for<br/>VMs.&#160;Later,&#160;in&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#83">5.6,&#160;</a>we&#160;leverage&#160;the&#160;implementation&#160;for&#160;enforcing&#160;fail-safe<br/>behavior&#160;and&#160;for&#160;triggering&#160;software&#160;rejuvenation&#160;in&#160;our&#160;construction&#160;of&#160;R-Xen.</p>
<p style="position:absolute;top:742px;left:213px;white-space:nowrap" class="ft6714"><b>5.4.1</b></p>
<p style="position:absolute;top:742px;left:266px;white-space:nowrap" class="ft6714"><b>Intrusion&#160;Detection&#160;and&#160;Protection&#160;for&#160;Xen&#160;Virtual&#160;Machines</b></p>
<p style="position:absolute;top:775px;left:213px;white-space:nowrap" class="ft6712">We&#160;have&#160;implemented&#160;an&#160;intrusion&#160;detection&#160;and&#160;protection&#160;framework&#160;called&#160;<i>X-<br/>Spy</i>.&#160;The&#160;core&#160;idea&#160;is&#160;to&#160;use&#160;a&#160;secure&#160;service&#160;VM&#160;(SSVM)&#160;that&#160;monitors&#160;one&#160;or<br/>more&#160;production&#160;VMs&#160;(PVM).&#160;The&#160;SSVM&#160;performs&#160;the&#160;following&#160;functions:</p>
<p style="position:absolute;top:849px;left:213px;white-space:nowrap" class="ft6715"><b>Lie&#160;Detection&#160;</b>The&#160;SSVM&#160;accesses&#160;the&#160;memory&#160;of&#160;the&#160;PVM&#160;and&#160;compares&#160;actual</p>
<p style="position:absolute;top:870px;left:253px;white-space:nowrap" class="ft6712">critical&#160;system&#160;data&#160;(processes,&#160;mounts,&#160;etc.)&#160;against&#160;data&#160;obtained&#160;by&#160;ex-<br/>ecuting&#160;normal&#160;Unix&#160;commands&#160;inside&#160;the&#160;PVM.&#160;If&#160;the&#160;comparison&#160;yields<br/>discrepancies,&#160;then&#160;that&#160;is&#160;indicative&#160;of&#160;a&#160;compromised&#160;PVM.&#160;In&#160;contrast&#160;to<br/>earlier&#160;hypervisor-based&#160;intrusion&#160;detection&#160;work,&#160;X-Spy’s&#160;detection&#160;mech-<br/>anisms&#160;are&#160;more&#160;comprehensive&#160;and&#160;include&#160;lie&#160;detection&#160;at&#160;the&#160;level&#160;of&#160;pro-<br/>cesses,&#160;network&#160;connections,&#160;modules,&#160;and&#160;file&#160;system&#160;mounts.</p>
<p style="position:absolute;top:1005px;left:213px;white-space:nowrap" class="ft6715"><b>Protection&#160;</b>We&#160;have&#160;added&#160;a&#160;system&#160;call&#160;inspector&#160;to&#160;Xen&#160;that&#160;allows&#160;the&#160;monitor-</p>
<p style="position:absolute;top:1025px;left:253px;white-space:nowrap" class="ft6712">ing&#160;of&#160;the&#160;system&#160;calls&#160;within&#160;the&#160;PVM&#160;for&#160;the&#160;purpose&#160;of&#160;protecting&#160;relevant<br/>forensic&#160;information&#160;(like&#160;log&#160;files)&#160;and&#160;the&#160;integrity&#160;of&#160;the&#160;kernel&#160;(kernel<br/>structures,&#160;modules,&#160;and&#160;memory).</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft6716">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 68 -->
<a name="68"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page68-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter068.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft6811">68</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft6816">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:166px;white-space:nowrap" class="ft6811">X-Spy&#160;uses&#160;the&#160;Xen&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">[BDF</a></p>
<p style="position:absolute;top:192px;left:336px;white-space:nowrap" class="ft6828"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">+</a></p>
<p style="position:absolute;top:196px;left:347px;white-space:nowrap" class="ft6811"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">03]&#160;</a>VMM&#160;developed&#160;by&#160;Cambridge&#160;University&#160;and</p>
<p style="position:absolute;top:216px;left:141px;white-space:nowrap" class="ft6812">guest&#160;VMs&#160;running&#160;the&#160;Linux&#160;2.6&#160;operating&#160;system.&#160;Nevertheless,&#160;the&#160;concepts<br/>such&#160;as&#160;system&#160;call&#160;analysis&#160;and&#160;lie&#160;detection&#160;can&#160;be&#160;applied&#160;to&#160;other&#160;operating<br/>systems&#160;such&#160;as&#160;Microsoft&#160;Windows.&#160;All&#160;X-Spy&#160;components&#160;are&#160;implemented<br/>either&#160;in&#160;the&#160;Xen&#160;hypervisor&#160;or&#160;in&#160;the&#160;SSVM.&#160;While&#160;their&#160;implementation&#160;logic<br/>depends&#160;on&#160;the&#160;guest&#160;OS,&#160;X-Spy&#160;does&#160;not&#160;require&#160;any&#160;modification&#160;to&#160;the&#160;guest&#160;OS<br/>of&#160;the&#160;PVM.</p>
<p style="position:absolute;top:382px;left:141px;white-space:nowrap" class="ft6815"><b>Limitations</b></p>
<p style="position:absolute;top:413px;left:141px;white-space:nowrap" class="ft6812">To&#160;overcome&#160;the&#160;semantic&#160;gap,&#160;we&#160;assume&#160;some&#160;knowledge&#160;of&#160;the&#160;kernel&#160;structures<br/>of&#160;the&#160;guest&#160;operating&#160;system&#160;(specifically,&#160;Linux&#160;kernel&#160;2.6)&#160;so&#160;that&#160;X-Spy&#160;com-<br/>ponents&#160;can&#160;be&#160;appropriately&#160;coded.&#160;If&#160;the&#160;guest&#160;operating&#160;system&#160;is&#160;upgraded&#160;to&#160;a<br/>newer&#160;version&#160;in&#160;which&#160;kernel&#160;structures&#160;are&#160;different,&#160;then&#160;the&#160;X-Spy&#160;components<br/>need&#160;to&#160;be&#160;re-coded&#160;appropriately.&#160;That&#160;fact&#160;may&#160;be&#160;an&#160;impediment&#160;to&#160;commer-<br/>cializing&#160;X-Spy,&#160;as&#160;it&#160;implies&#160;an&#160;ongoing&#160;commitment&#160;to&#160;develop&#160;and&#160;patch&#160;X-Spy<br/>components&#160;to&#160;keep&#160;pace&#160;with&#160;upgrades&#160;to&#160;the&#160;guest&#160;operating&#160;system.</p>
<p style="position:absolute;top:556px;left:166px;white-space:nowrap" class="ft6811">For&#160;detecting&#160;hidden&#160;processes,&#160;X-Spy&#160;requires&#160;that&#160;the&#160;scheduler&#160;of&#160;the&#160;PVM’s</p>
<p style="position:absolute;top:576px;left:141px;white-space:nowrap" class="ft6812">guest&#160;OS&#160;keep&#160;a&#160;list&#160;of&#160;processes&#160;that&#160;need&#160;to&#160;be&#160;scheduled&#160;in&#160;a&#160;standard&#160;place<br/>within&#160;a&#160;known&#160;memory&#160;structure.&#160;If&#160;an&#160;attacker&#160;is&#160;able&#160;to&#160;replace&#160;the&#160;scheduler<br/>with&#160;her&#160;own&#160;one&#160;having&#160;a&#160;different&#160;list&#160;of&#160;processes,&#160;the&#160;detection&#160;approach&#160;would<br/>be&#160;subverted.&#160;That&#160;is&#160;why&#160;it&#160;is&#160;important&#160;to&#160;protect&#160;the&#160;integrity&#160;of&#160;the&#160;kernel&#160;code<br/>(for&#160;example,&#160;using&#160;mechanisms&#160;that&#160;we&#160;describe&#160;in&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#73">5.4.4)</a>.</p>
<p style="position:absolute;top:678px;left:166px;white-space:nowrap" class="ft6811">The&#160;SSVM&#160;needs&#160;read&#160;access&#160;to&#160;the&#160;memory&#160;of&#160;the&#160;PVMs&#160;for&#160;the&#160;purpose</p>
<p style="position:absolute;top:698px;left:141px;white-space:nowrap" class="ft6812">of&#160;monitoring&#160;them.&#160;In&#160;addition,&#160;it&#160;must&#160;be&#160;possible&#160;to&#160;do&#160;an&#160;SSH&#160;login&#160;to&#160;the<br/>PVM&#160;from&#160;the&#160;SSVM&#160;and&#160;execute&#160;normal&#160;Unix&#160;commands.&#160;These&#160;requirements<br/>are&#160;contrary&#160;to&#160;the&#160;isolation&#160;guarantees&#160;of&#160;the&#160;hypervisor.&#160;The&#160;SSVM&#160;itself&#160;could<br/>become&#160;a&#160;high-value&#160;attack&#160;target,&#160;and&#160;accordingly,&#160;needs&#160;stronger&#160;protection.&#160;Sev-<br/>eral&#160;measures&#160;can&#160;be&#160;taken&#160;to&#160;strongly&#160;reduce&#160;the&#160;potential&#160;of&#160;the&#160;SSVM&#160;getting<br/>compromised.&#160;For&#160;example,&#160;as&#160;the&#160;SSVM&#160;is&#160;a&#160;special-purpose&#160;VM&#160;(in&#160;contrast&#160;to<br/>PVMs),&#160;it&#160;can&#160;be&#160;hardened,&#160;its&#160;functionality&#160;reduced&#160;solely&#160;to&#160;that&#160;of&#160;monitoring<br/>the&#160;PVMs,&#160;and&#160;its&#160;access&#160;restricted&#160;through&#160;a&#160;specific&#160;administrative&#160;interface.</p>
<p style="position:absolute;top:904px;left:141px;white-space:nowrap" class="ft6814"><b>5.4.2</b></p>
<p style="position:absolute;top:904px;left:195px;white-space:nowrap" class="ft6814"><b>Architecture&#160;of&#160;X-Spy</b></p>
<p style="position:absolute;top:937px;left:141px;white-space:nowrap" class="ft6812">The&#160;architecture&#160;of&#160;the&#160;X-Spy&#160;intrusion&#160;detection&#160;framework&#160;is&#160;shown&#160;in&#160;Fig-<br/>ure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#69">5.1.&#160;</a>Our&#160;architecture&#160;consists&#160;of&#160;a&#160;PVM&#160;and&#160;a&#160;SSVM&#160;running&#160;on&#160;top&#160;of&#160;the<br/>same&#160;hardware&#160;and&#160;Xen&#160;hypervisor.&#160;In&#160;our&#160;implementation,&#160;both&#160;the&#160;SSVM&#160;and<br/>the&#160;PVM&#160;run&#160;Linux&#160;kernel&#160;2.6.&#160;The&#160;SSVM&#160;obtains&#160;the&#160;run-time&#160;state&#160;of&#160;the&#160;PVM<br/>through&#160;the&#160;Xen&#160;hypervisor,&#160;which&#160;is&#160;at&#160;a&#160;lower&#160;level&#160;of&#160;abstraction&#160;than&#160;both&#160;the<br/>SSVM&#160;and&#160;the&#160;PVM.&#160;The&#160;SSVM&#160;has&#160;access&#160;to&#160;the&#160;raw&#160;devices&#160;of&#160;the&#160;PVMs&#160;(mem-<br/>ory,&#160;disk,&#160;network);&#160;however,&#160;the&#160;difficulty&#160;lies&#160;in&#160;the&#160;SSVM&#160;properly&#160;interpreting</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft6816">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 69 -->
<a name="69"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft6992{font-size:10px;font-family:Helvetica;color:#000000;}
	.ft6993{font-size:10px;font-family:Helvetica;color:#000000;-moz-transform: matrix(         0,          1, -1.0000270007,          0, 0, 0);-webkit-transform: matrix(         0,          1, -1.0000270007,          0, 0, 0);-o-transform: matrix(         0,          1, -1.0000270007,          0, 0, 0);-ms-transform: matrix(         0,          1, -1.0000270007,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft6994{font-size:8px;font-family:Helvetica;color:#000000;}
-->
</style>
<div id="page69-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter069.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft6923">CHAPTER&#160;5.&#160;DEPENDABLE&#160;AND&#160;SECURE&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft6911">69</p>
<p style="position:absolute;top:196px;left:373px;white-space:nowrap" class="ft6992"><i><b>SSVM</b></i></p>
<p style="position:absolute;top:196px;left:564px;white-space:nowrap" class="ft6992"><i><b>PVM</b></i></p>
<p style="position:absolute;top:256px;left:406px;white-space:nowrap" class="ft6993">N</p>
<p style="position:absolute;top:263px;left:406px;white-space:nowrap" class="ft6993">C</p>
<p style="position:absolute;top:270px;left:406px;white-space:nowrap" class="ft6993">R</p>
<p style="position:absolute;top:278px;left:406px;white-space:nowrap" class="ft6993">L</p>
<p style="position:absolute;top:256px;left:392px;white-space:nowrap" class="ft6993">P</p>
<p style="position:absolute;top:262px;left:392px;white-space:nowrap" class="ft6993">L</p>
<p style="position:absolute;top:268px;left:392px;white-space:nowrap" class="ft6993">L</p>
<p style="position:absolute;top:256px;left:419px;white-space:nowrap" class="ft6993">M</p>
<p style="position:absolute;top:264px;left:419px;white-space:nowrap" class="ft6993">L</p>
<p style="position:absolute;top:270px;left:419px;white-space:nowrap" class="ft6993">L</p>
<p style="position:absolute;top:256px;left:433px;white-space:nowrap" class="ft6993">M</p>
<p style="position:absolute;top:264px;left:433px;white-space:nowrap" class="ft6993">o</p>
<p style="position:absolute;top:270px;left:433px;white-space:nowrap" class="ft6993">L</p>
<p style="position:absolute;top:275px;left:433px;white-space:nowrap" class="ft6993">L</p>
<p style="position:absolute;top:317px;left:436px;white-space:nowrap" class="ft6935">PMT</p>
<p style="position:absolute;top:321px;left:395px;white-space:nowrap" class="ft6949">GDMAL</p>
<p style="position:absolute;top:256px;left:481px;white-space:nowrap" class="ft6993">n</p>
<p style="position:absolute;top:261px;left:481px;white-space:nowrap" class="ft6993">e</p>
<p style="position:absolute;top:267px;left:481px;white-space:nowrap" class="ft6993">ts</p>
<p style="position:absolute;top:275px;left:481px;white-space:nowrap" class="ft6993">ta</p>
<p style="position:absolute;top:283px;left:481px;white-space:nowrap" class="ft6993">t</p>
<p style="position:absolute;top:256px;left:467px;white-space:nowrap" class="ft6993">p</p>
<p style="position:absolute;top:261px;left:467px;white-space:nowrap" class="ft6993">s</p>
<p style="position:absolute;top:256px;left:494px;white-space:nowrap" class="ft6993">ls</p>
<p style="position:absolute;top:263px;left:494px;white-space:nowrap" class="ft6993">m</p>
<p style="position:absolute;top:271px;left:494px;white-space:nowrap" class="ft6993">o</p>
<p style="position:absolute;top:277px;left:494px;white-space:nowrap" class="ft6993">d</p>
<p style="position:absolute;top:256px;left:508px;white-space:nowrap" class="ft6993">m</p>
<p style="position:absolute;top:264px;left:508px;white-space:nowrap" class="ft6993">o</p>
<p style="position:absolute;top:270px;left:508px;white-space:nowrap" class="ft6993">u</p>
<p style="position:absolute;top:275px;left:508px;white-space:nowrap" class="ft6993">n</p>
<p style="position:absolute;top:281px;left:508px;white-space:nowrap" class="ft6993">t</p>
<p style="position:absolute;top:303px;left:483px;white-space:nowrap" class="ft6949">ssh</p>
<p style="position:absolute;top:303px;left:483px;white-space:nowrap" class="ft6949">ssh</p>
<p style="position:absolute;top:233px;left:417px;white-space:nowrap" class="ft6949">Lie&#160;-&#160;Detector</p>
<p style="position:absolute;top:357px;left:425px;white-space:nowrap" class="ft6949">MTI</p>
<p style="position:absolute;top:341px;left:476px;white-space:nowrap" class="ft6935">TCP/IP</p>
<p style="position:absolute;top:341px;left:476px;white-space:nowrap" class="ft6935">TCP/IP</p>
<p style="position:absolute;top:341px;left:546px;white-space:nowrap" class="ft6935">TCP/IP</p>
<p style="position:absolute;top:341px;left:546px;white-space:nowrap" class="ft6935">TCP/IP</p>
<p style="position:absolute;top:248px;left:420px;white-space:nowrap" class="ft6949">Normalizer</p>
<p style="position:absolute;top:341px;left:373px;white-space:nowrap" class="ft6994"><b>Kernel</b></p>
<p style="position:absolute;top:365px;left:373px;white-space:nowrap" class="ft6994"><b>Xen</b></p>
<p style="position:absolute;top:212px;left:373px;white-space:nowrap" class="ft6994"><b>User&#160;Space</b></p>
<p style="position:absolute;top:392px;left:373px;white-space:nowrap" class="ft6994"><b>Hardware</b></p>
<p style="position:absolute;top:206px;left:440px;white-space:nowrap" class="ft6949">Event&#160;Handling</p>
<p style="position:absolute;top:420px;left:271px;white-space:nowrap" class="ft6911">Figure&#160;5.1:&#160;Architecture&#160;of&#160;the&#160;X-Spy&#160;Lie-Detector&#160;components.</p>
<p style="position:absolute;top:466px;left:213px;white-space:nowrap" class="ft6912">the&#160;data&#160;because&#160;of&#160;a&#160;semantic&#160;gap&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#90">[CN01]</a>.&#160;For&#160;example,&#160;the&#160;physical&#160;memory&#160;of<br/>the&#160;host&#160;system&#160;will&#160;be&#160;made&#160;available&#160;in&#160;chunks&#160;as&#160;<i>pseudo-physical&#160;</i>memory&#160;to<br/>the&#160;VMs.&#160;In&#160;addition,&#160;the&#160;(possibly&#160;different)&#160;operating&#160;systems&#160;of&#160;the&#160;VMs&#160;use<br/>a&#160;virtual&#160;address&#160;space&#160;on&#160;top&#160;of&#160;the&#160;physical&#160;memory,&#160;leading&#160;to&#160;the&#160;problem&#160;of<br/>properly&#160;interpreting&#160;raw&#160;memory&#160;locations&#160;in&#160;a&#160;different&#160;context.</p>
<p style="position:absolute;top:610px;left:213px;white-space:nowrap" class="ft6914"><b>5.4.3</b></p>
<p style="position:absolute;top:610px;left:266px;white-space:nowrap" class="ft6914"><b>Intrusion&#160;Detection&#160;by&#160;means&#160;of&#160;a&#160;Lie-Detector</b></p>
<p style="position:absolute;top:643px;left:213px;white-space:nowrap" class="ft6912">The&#160;basic&#160;idea&#160;of&#160;the&#160;Lie-Detector&#160;is&#160;to&#160;compare&#160;the&#160;insider&#160;and&#160;outsider&#160;views<br/>of&#160;the&#160;system&#160;to&#160;identify&#160;objects&#160;(processes,&#160;files&#160;etc.)&#160;that&#160;try&#160;to&#160;hide&#160;themselves<br/>from&#160;the&#160;operating&#160;system&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">[BVV05]</a>.&#160;Such&#160;behavior&#160;is&#160;typical&#160;of&#160;<i>rootkits</i>,&#160;which<br/>are&#160;then&#160;used&#160;to&#160;hide&#160;other&#160;(typically&#160;malicious)&#160;software,&#160;but&#160;is&#160;also&#160;sometimes<br/>characteristic&#160;of&#160;DRM&#160;functionality&#160;(e.g.&#160;the&#160;XCP&#160;content&#160;protection&#160;technology<br/>by&#160;Sony&#160;BMG&#160;in&#160;2005).&#160;The&#160;Lie-Detector&#160;(Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#69">5.1)&#160;</a>consists&#160;of&#160;three&#160;major<br/>functionalities:</p>
<p style="position:absolute;top:814px;left:233px;white-space:nowrap" class="ft6911">1.&#160;PVM&#160;Information&#160;Collection:&#160;The&#160;Lie-Detector&#160;collects&#160;information&#160;about</p>
<p style="position:absolute;top:834px;left:253px;white-space:nowrap" class="ft6964">the&#160;PVM&#160;by&#160;two&#160;different&#160;means:&#160;the&#160;<i>native&#160;</i>interface&#160;and&#160;the&#160;<i>frontDoor<br/></i>interface.</p>
<p style="position:absolute;top:887px;left:233px;white-space:nowrap" class="ft6911">2.&#160;PVM&#160;Information&#160;Normalization:&#160;The&#160;PVM&#160;information&#160;collected&#160;via&#160;the</p>
<p style="position:absolute;top:907px;left:253px;white-space:nowrap" class="ft6912">native&#160;interface&#160;is&#160;normalized&#160;to&#160;a&#160;format&#160;equivalent&#160;to&#160;that&#160;of&#160;commands<br/>executed&#160;through&#160;the&#160;frontDoor&#160;interface.</p>
<p style="position:absolute;top:959px;left:233px;white-space:nowrap" class="ft6911">3.&#160;Analyze-and-Compare:&#160;The&#160;normalized&#160;information&#160;from&#160;the&#160;native&#160;and</p>
<p style="position:absolute;top:979px;left:253px;white-space:nowrap" class="ft6912"><i>frontDoor&#160;</i>interfaces&#160;is&#160;then&#160;compared&#160;to&#160;identify&#160;differences&#160;that&#160;are&#160;indica-<br/>tive&#160;of&#160;maliciously&#160;hidden&#160;system&#160;resources&#160;and&#160;to&#160;minimize&#160;false&#160;positives.<br/>Any&#160;findings&#160;will&#160;be&#160;reported&#160;through&#160;the&#160;<i>Event&#160;Handling&#160;</i>component.</p>
<p style="position:absolute;top:1049px;left:213px;white-space:nowrap" class="ft6911">We&#160;describe&#160;the&#160;above&#160;functionalities&#160;in&#160;detail&#160;below.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft6916">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 70 -->
<a name="70"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page70-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter070.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft7011">70</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft7016">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft7015"><b>Memory&#160;Translation&#160;Interface&#160;(MTI)</b></p>
<p style="position:absolute;top:196px;left:420px;white-space:nowrap" class="ft7011">One&#160;of&#160;the&#160;main&#160;components&#160;of&#160;X-Spy</p>
<p style="position:absolute;top:216px;left:141px;white-space:nowrap" class="ft7012">is&#160;a&#160;Memory&#160;Translation&#160;Interface&#160;(MTI)&#160;that&#160;allows&#160;the&#160;SSVM&#160;full&#160;access&#160;to&#160;a<br/>PVM’s&#160;pseudo-physical&#160;and&#160;virtual&#160;memory&#160;in&#160;a&#160;convenient&#160;fashion.&#160;The&#160;MTI&#160;has<br/>two&#160;parts:</p>
<p style="position:absolute;top:290px;left:161px;white-space:nowrap" class="ft7011">1.&#160;An&#160;extension&#160;to&#160;the&#160;Xen&#160;hypervisor,&#160;which&#160;performs&#160;address&#160;translation&#160;and</p>
<p style="position:absolute;top:311px;left:182px;white-space:nowrap" class="ft7011">traversal&#160;of&#160;the&#160;page&#160;tables.</p>
<p style="position:absolute;top:344px;left:161px;white-space:nowrap" class="ft7011">2.&#160;A&#160;Linux&#160;kernel&#160;device&#160;driver&#160;that&#160;runs&#160;in&#160;the&#160;SSVM&#160;kernel&#160;and&#160;provides&#160;two</p>
<p style="position:absolute;top:365px;left:182px;white-space:nowrap" class="ft7011">interfaces,&#160;namely,</p>
<p style="position:absolute;top:366px;left:310px;white-space:nowrap" class="ft7038">/dev/mem_domX</p>
<p style="position:absolute;top:365px;left:442px;white-space:nowrap" class="ft7011">and</p>
<p style="position:absolute;top:366px;left:471px;white-space:nowrap" class="ft7038">/dev/kmem_domX</p>
<p style="position:absolute;top:365px;left:609px;white-space:nowrap" class="ft7011">.&#160;These&#160;in-</p>
<p style="position:absolute;top:385px;left:182px;white-space:nowrap" class="ft7011">terfaces&#160;are&#160;functionally&#160;equivalent&#160;to&#160;the</p>
<p style="position:absolute;top:386px;left:456px;white-space:nowrap" class="ft7038">/dev/mem</p>
<p style="position:absolute;top:385px;left:539px;white-space:nowrap" class="ft7011">and&#160;the</p>
<p style="position:absolute;top:386px;left:591px;white-space:nowrap" class="ft7038">/dev/kmem</p>
<p style="position:absolute;top:405px;left:182px;white-space:nowrap" class="ft7012">device&#160;files,&#160;respectively,&#160;and&#160;allow&#160;the&#160;root&#160;user&#160;in&#160;the&#160;SSVM&#160;kernel&#160;access<br/>to&#160;the&#160;PVM’s&#160;physical&#160;memory&#160;and&#160;kernel&#160;memory&#160;contents,&#160;respectively.</p>
<p style="position:absolute;top:459px;left:141px;white-space:nowrap" class="ft7012">One&#160;challenge&#160;to&#160;overcome&#160;when&#160;implementing&#160;the&#160;MTI&#160;was&#160;that&#160;the&#160;SSVM&#160;can-<br/>not&#160;access&#160;a&#160;PVM’s&#160;foreign&#160;memory&#160;as&#160;it&#160;corresponds&#160;to&#160;a&#160;different&#160;context.&#160;There-<br/>fore,&#160;the&#160;MTI&#160;has&#160;to&#160;emulate&#160;the&#160;memory&#160;management&#160;unit&#160;by&#160;translating&#160;the&#160;ad-<br/>dress&#160;to&#160;the&#160;right&#160;format&#160;and&#160;re-mapping&#160;it&#160;from&#160;the&#160;PVM&#160;memory&#160;space&#160;onto&#160;the<br/>memory&#160;space&#160;of&#160;the&#160;Lie-Detector&#160;process&#160;running&#160;in&#160;the&#160;SSVM.&#160;For&#160;this&#160;purpose,<br/>we&#160;have&#160;developed&#160;two&#160;user-space&#160;libraries&#160;that&#160;the&#160;MTI&#160;uses:&#160;the&#160;<i>Guest&#160;Domain<br/>Memory&#160;Access&#160;Library&#160;</i>or&#160;GDMAL&#160;and&#160;the&#160;<i>Process&#160;Memory&#160;Translator&#160;</i>or&#160;PMT.<br/>The&#160;GDMAL&#160;provides&#160;read-write&#160;access&#160;to&#160;the&#160;PVM’s&#160;memory.&#160;Within&#160;the&#160;PVM’s<br/>memory,&#160;the&#160;PMT&#160;allows&#160;access&#160;to&#160;the&#160;virtual&#160;address&#160;space&#160;of&#160;PVM&#160;processes.<br/>In&#160;addition,&#160;the&#160;PMT&#160;provides&#160;some&#160;helper&#160;functions&#160;to&#160;facilitate&#160;the&#160;use&#160;of&#160;the</p>
<p style="position:absolute;top:664px;left:141px;white-space:nowrap" class="ft7038">/dev/mem_domX</p>
<p style="position:absolute;top:663px;left:274px;white-space:nowrap" class="ft7011">and</p>
<p style="position:absolute;top:664px;left:303px;white-space:nowrap" class="ft7038">/dev/kmem_domX</p>
<p style="position:absolute;top:663px;left:447px;white-space:nowrap" class="ft7011">interfaces.&#160;The&#160;PMT&#160;performs&#160;the</p>
<p style="position:absolute;top:683px;left:141px;white-space:nowrap" class="ft7012">process&#160;address&#160;translation&#160;by&#160;extracting&#160;the&#160;memory&#160;management&#160;information&#160;for<br/>the&#160;process&#160;from&#160;the&#160;OS-specific&#160;task&#160;(process)&#160;description&#160;data&#160;structure.&#160;When<br/>the&#160;guest&#160;OS&#160;is&#160;Linux,&#160;as&#160;in&#160;our&#160;case,&#160;the&#160;PMT&#160;extracts&#160;the</p>
<p style="position:absolute;top:725px;left:557px;white-space:nowrap" class="ft7038">mm_struct</p>
<p style="position:absolute;top:724px;left:652px;white-space:nowrap" class="ft7011">data</p>
<p style="position:absolute;top:744px;left:141px;white-space:nowrap" class="ft7011">structure&#160;from&#160;the</p>
<p style="position:absolute;top:745px;left:262px;white-space:nowrap" class="ft7038">task_struct</p>
<p style="position:absolute;top:744px;left:374px;white-space:nowrap" class="ft7011">data&#160;structure.</p>
<p style="position:absolute;top:764px;left:166px;white-space:nowrap" class="ft7011">The&#160;<i>native&#160;interface&#160;</i>is&#160;used&#160;to&#160;collect&#160;PVM&#160;information&#160;“from&#160;the&#160;outside”</p>
<p style="position:absolute;top:785px;left:141px;white-space:nowrap" class="ft7012">through&#160;the&#160;raw&#160;access&#160;made&#160;available&#160;by&#160;the&#160;Xen&#160;hypervisor,&#160;e.g.&#160;by&#160;accessing&#160;the<br/>PVM’s&#160;memory&#160;via&#160;the&#160;MTI,&#160;and&#160;to&#160;collect&#160;host-specific&#160;data&#160;via&#160;special&#160;user-space<br/>libraries&#160;that&#160;we&#160;have&#160;developed,&#160;namely&#160;the&#160;process&#160;list&#160;library&#160;(PLL),&#160;the&#160;network<br/>connection&#160;and&#160;routing&#160;library&#160;(NCRL),&#160;and&#160;the&#160;module&#160;list&#160;library&#160;(MLL).</p>
<p style="position:absolute;top:866px;left:166px;white-space:nowrap" class="ft7011">The&#160;second&#160;interface,&#160;called&#160;the&#160;<i>frontDoor&#160;interface</i>,&#160;is&#160;used&#160;to&#160;obtain&#160;PVM</p>
<p style="position:absolute;top:886px;left:141px;white-space:nowrap" class="ft7012">information&#160;by&#160;doing&#160;an&#160;SSH&#160;login&#160;to&#160;the&#160;PVM&#160;and&#160;executing&#160;normal&#160;Unix&#160;com-<br/>mands.&#160;The&#160;Lie-Detector&#160;normalizes&#160;the&#160;information&#160;collected&#160;from&#160;both&#160;inter-<br/>faces,&#160;and&#160;then&#160;compares&#160;them.&#160;If&#160;the&#160;comparison&#160;yields&#160;discrepancies&#160;in&#160;the&#160;infor-<br/>mation&#160;collected&#160;from&#160;those&#160;two&#160;sources,&#160;this&#160;is&#160;strongly&#160;indicative&#160;of&#160;an&#160;intrusion.<br/>Obviously,&#160;it&#160;is&#160;not&#160;possible&#160;to&#160;obtain&#160;information&#160;through&#160;the&#160;frontDoor&#160;interface<br/>and&#160;the&#160;native&#160;interface&#160;at&#160;exactly&#160;the&#160;same&#160;time.&#160;This&#160;timing&#160;difference&#160;may&#160;lead<br/>to&#160;false&#160;positives,&#160;and&#160;we&#160;explain&#160;below&#160;how&#160;to&#160;overcome&#160;this&#160;problem.&#160;We&#160;im-<br/>plement&#160;comparison&#160;methods&#160;for&#160;processes,&#160;network&#160;connections,&#160;kernel&#160;modules,<br/>file&#160;system&#160;mounts&#160;and&#160;files.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft7016">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 71 -->
<a name="71"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page71-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter071.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft7123">CHAPTER&#160;5.&#160;DEPENDABLE&#160;AND&#160;SECURE&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft7111">71</p>
<p style="position:absolute;top:196px;left:238px;white-space:nowrap" class="ft7111">The&#160;MTI&#160;provides&#160;access&#160;to&#160;the&#160;PVM’s&#160;raw&#160;kernel&#160;virtual&#160;memory&#160;but&#160;lacks</p>
<p style="position:absolute;top:216px;left:213px;white-space:nowrap" class="ft7164">any&#160;semantic&#160;context.&#160;To&#160;fix&#160;this&#160;shortcoming,&#160;we&#160;manually&#160;created&#160;a&#160;<i>memory<br/>offset&#160;file&#160;</i>for&#160;each&#160;librar<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#71">y</a></p>
<p style="position:absolute;top:233px;left:377px;white-space:nowrap" class="ft7120"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#71">1</a></p>
<p style="position:absolute;top:236px;left:384px;white-space:nowrap" class="ft7111"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#71">.&#160;</a>Based&#160;on&#160;these&#160;files,&#160;the&#160;libraries&#160;such&#160;as&#160;PLL,&#160;NCRL,</p>
<p style="position:absolute;top:257px;left:213px;white-space:nowrap" class="ft7112">and&#160;MLL,&#160;implement&#160;the&#160;logic&#160;to&#160;extract&#160;all&#160;data&#160;values&#160;of&#160;interest&#160;from&#160;the&#160;raw<br/>kernel&#160;virtual&#160;memory.&#160;Each&#160;offset&#160;file&#160;stores&#160;the&#160;offset&#160;values&#160;of&#160;the&#160;start&#160;of&#160;each<br/>data&#160;item&#160;of&#160;interest&#160;from&#160;the&#160;beginning&#160;of&#160;the&#160;containing&#160;structure.</p>
<p style="position:absolute;top:341px;left:213px;white-space:nowrap" class="ft7115"><b>Process&#160;List</b></p>
<p style="position:absolute;top:341px;left:313px;white-space:nowrap" class="ft7111">The&#160;PLL&#160;acts&#160;on&#160;information&#160;provided&#160;by&#160;the&#160;MTI&#160;to&#160;generate&#160;out-</p>
<p style="position:absolute;top:362px;left:213px;white-space:nowrap" class="ft7111">put&#160;similar&#160;to&#160;that&#160;of&#160;the</p>
<p style="position:absolute;top:363px;left:374px;white-space:nowrap" class="ft7138">ps</p>
<p style="position:absolute;top:362px;left:397px;white-space:nowrap" class="ft7111">command.&#160;This&#160;is&#160;done&#160;by&#160;accessing&#160;and&#160;then&#160;travers-</p>
<p style="position:absolute;top:382px;left:213px;white-space:nowrap" class="ft7111">ing&#160;the&#160;doubly-linked&#160;circular&#160;task&#160;list&#160;via&#160;the&#160;MTI.</p>
<p style="position:absolute;top:402px;left:238px;white-space:nowrap" class="ft7111">Our&#160;comparison&#160;is&#160;based&#160;on&#160;the&#160;multitude&#160;of&#160;information&#160;extractable&#160;from&#160;this</p>
<p style="position:absolute;top:424px;left:213px;white-space:nowrap" class="ft7138">task_struct</p>
<p style="position:absolute;top:423px;left:327px;white-space:nowrap" class="ft7111">data&#160;structure,&#160;such&#160;as&#160;PID,&#160;state,&#160;parent,&#160;open&#160;files,&#160;registers,</p>
<p style="position:absolute;top:443px;left:213px;white-space:nowrap" class="ft7112">priorities,&#160;locks,&#160;and&#160;memory&#160;management&#160;information.&#160;However,&#160;not&#160;all&#160;fields&#160;in<br/>the&#160;data&#160;structure&#160;are&#160;used.&#160;For&#160;example,&#160;the&#160;running&#160;time&#160;of&#160;a&#160;process&#160;as&#160;seen&#160;by<br/>the&#160;native&#160;interface&#160;query&#160;and&#160;the&#160;frontDoor&#160;interface&#160;query&#160;are&#160;bound&#160;to&#160;slightly<br/>differ,&#160;owing&#160;to&#160;the&#160;difference&#160;in&#160;the&#160;time&#160;of&#160;query.</p>
<p style="position:absolute;top:524px;left:238px;white-space:nowrap" class="ft7111">This&#160;comparison&#160;will&#160;detect&#160;processes&#160;in&#160;the&#160;PVM&#160;that&#160;actively&#160;try&#160;to&#160;hide&#160;their</p>
<p style="position:absolute;top:545px;left:213px;white-space:nowrap" class="ft7112">presence&#160;or&#160;change&#160;their&#160;appearance&#160;(e.g.&#160;the&#160;owner)&#160;from&#160;queries&#160;made&#160;from<br/>within&#160;the&#160;PVM.&#160;This&#160;will&#160;identify&#160;rootkit-like&#160;behavior,&#160;as&#160;non-hiding&#160;processes<br/>can&#160;be&#160;identified&#160;by&#160;more&#160;conventional&#160;(non-hypervisor-based)&#160;malware&#160;detection<br/>tools.</p>
<p style="position:absolute;top:626px;left:238px;white-space:nowrap" class="ft7111">Note&#160;that&#160;simply&#160;comparing&#160;the&#160;process&#160;information&#160;from&#160;the&#160;native&#160;and&#160;front-</p>
<p style="position:absolute;top:646px;left:213px;white-space:nowrap" class="ft7112">Door&#160;interfaces&#160;results&#160;in&#160;false&#160;positives&#160;because&#160;of&#160;frequent&#160;changes&#160;to&#160;the&#160;process<br/>table.&#160;We&#160;fix&#160;this&#160;by&#160;executing&#160;a&#160;native&#160;access&#160;(outsider&#160;view)&#160;before&#160;and&#160;after&#160;the<br/>frontDoor&#160;query&#160;(insider&#160;view).&#160;If&#160;a&#160;given&#160;process&#160;disappeared&#160;in&#160;the&#160;second&#160;query<br/>but&#160;is&#160;again&#160;visible&#160;in&#160;the&#160;third,&#160;we&#160;consider&#160;it&#160;to&#160;be&#160;an&#160;intrusion.&#160;If&#160;it&#160;does&#160;not<br/>reappear,&#160;we&#160;assume&#160;that&#160;the&#160;process&#160;merely&#160;terminated.</p>
<p style="position:absolute;top:772px;left:213px;white-space:nowrap" class="ft7115"><b>Network&#160;Connections&#160;and&#160;Routing</b></p>
<p style="position:absolute;top:772px;left:471px;white-space:nowrap" class="ft7111">We&#160;obtain&#160;information&#160;about&#160;IPv4&#160;connec-</p>
<p style="position:absolute;top:792px;left:213px;white-space:nowrap" class="ft7112">tions,&#160;Unix&#160;socket&#160;connections,&#160;and&#160;IPv4&#160;routing&#160;through&#160;the&#160;native&#160;and&#160;frontDoor<br/>interfaces.&#160;For&#160;the&#160;native&#160;interface&#160;queries,&#160;we&#160;have&#160;developed&#160;the&#160;NCRL&#160;library,<br/>which&#160;uses&#160;the&#160;MTI&#160;to&#160;collect&#160;information&#160;equivalent&#160;to&#160;that&#160;obtained&#160;from&#160;three<br/>commands:&#160;‘</p>
<p style="position:absolute;top:854px;left:304px;white-space:nowrap" class="ft7138">netstat&#160;-an&#160;-inet</p>
<p style="position:absolute;top:853px;left:472px;white-space:nowrap" class="ft7111">’&#160;for&#160;IPv4&#160;connections,&#160;‘</p>
<p style="position:absolute;top:854px;left:643px;white-space:nowrap" class="ft7138">netstat&#160;-an</p>
<p style="position:absolute;top:874px;left:213px;white-space:nowrap" class="ft7138">-unix</p>
<p style="position:absolute;top:873px;left:262px;white-space:nowrap" class="ft7111">’&#160;for&#160;Unix&#160;Socket&#160;connections,&#160;and&#160;‘</p>
<p style="position:absolute;top:874px;left:516px;white-space:nowrap" class="ft7138">netstat&#160;-rn</p>
<p style="position:absolute;top:873px;left:624px;white-space:nowrap" class="ft7111">’&#160;for&#160;IPv4&#160;routing.</p>
<p style="position:absolute;top:894px;left:213px;white-space:nowrap" class="ft7111">This&#160;information&#160;can&#160;then&#160;be&#160;used&#160;to&#160;discover&#160;hidden&#160;network&#160;connections.</p>
<p style="position:absolute;top:914px;left:238px;white-space:nowrap" class="ft7111">Similar&#160;to&#160;the&#160;timing&#160;problem&#160;in&#160;the&#160;Lie-Detector&#160;comparison&#160;of&#160;process&#160;in-</p>
<p style="position:absolute;top:934px;left:213px;white-space:nowrap" class="ft7112">formation,&#160;we&#160;face&#160;a&#160;timing&#160;problem&#160;in&#160;the&#160;comparison&#160;of&#160;network&#160;connection<br/>information&#160;because&#160;of&#160;network&#160;connections&#160;that&#160;were&#160;terminated&#160;or&#160;started&#160;in&#160;the<br/>time&#160;interval&#160;between&#160;the&#160;native&#160;interface&#160;query&#160;and&#160;the&#160;frontDoor&#160;interface&#160;query.<br/>The&#160;solution&#160;here&#160;is&#160;again&#160;to&#160;reduce&#160;false&#160;positives&#160;by&#160;using&#160;three&#160;querie<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#71">s</a></p>
<p style="position:absolute;top:993px;left:690px;white-space:nowrap" class="ft7120"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#71">2</a></p>
<p style="position:absolute;top:996px;left:697px;white-space:nowrap" class="ft7111"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#71">.</a></p>
<p style="position:absolute;top:1025px;left:232px;white-space:nowrap" class="ft7121">1</p>
<p style="position:absolute;top:1028px;left:237px;white-space:nowrap" class="ft7122">With&#160;some&#160;effort,&#160;it&#160;is&#160;possible&#160;to&#160;generate&#160;the&#160;offset&#160;files&#160;automatically&#160;at&#160;kernel&#160;compilation</p>
<p style="position:absolute;top:1044px;left:213px;white-space:nowrap" class="ft7122">time.</p>
<p style="position:absolute;top:1058px;left:232px;white-space:nowrap" class="ft7121">2</p>
<p style="position:absolute;top:1061px;left:237px;white-space:nowrap" class="ft7122">Note&#160;that&#160;the&#160;frontDoor&#160;query&#160;is&#160;made&#160;through&#160;an&#160;SSH&#160;connection,&#160;which&#160;will&#160;show&#160;up&#160;only&#160;in</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft7116">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 72 -->
<a name="72"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page72-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter072.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft7211">72</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft7216">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft7215"><b>Module&#160;List</b></p>
<p style="position:absolute;top:196px;left:244px;white-space:nowrap" class="ft7211">To&#160;obtain&#160;information&#160;about&#160;the&#160;PVM’s&#160;kernel&#160;modules&#160;we&#160;have</p>
<p style="position:absolute;top:216px;left:141px;white-space:nowrap" class="ft7212">developed&#160;another&#160;user-space&#160;library&#160;called&#160;the&#160;MLL&#160;for&#160;collecting&#160;information<br/>from&#160;the&#160;native&#160;interface&#160;query.&#160;The&#160;frontDoor&#160;interface&#160;query&#160;uses&#160;the</p>
<p style="position:absolute;top:237px;left:630px;white-space:nowrap" class="ft7238">lsmod</p>
<p style="position:absolute;top:257px;left:141px;white-space:nowrap" class="ft7211">command,&#160;which&#160;outputs&#160;the&#160;contents&#160;of</p>
<p style="position:absolute;top:257px;left:410px;white-space:nowrap" class="ft7238">/proc/modules</p>
<p style="position:absolute;top:257px;left:542px;white-space:nowrap" class="ft7211">displaying&#160;the&#160;kernel</p>
<p style="position:absolute;top:277px;left:141px;white-space:nowrap" class="ft7212">modules&#160;currently&#160;loaded.&#160;In&#160;addition&#160;to&#160;the&#160;native&#160;interface&#160;and&#160;frontDoor&#160;inter-<br/>face&#160;queries,&#160;the&#160;MLL&#160;also&#160;queries&#160;a&#160;third&#160;Xen&#160;interface&#160;for&#160;detecting&#160;hidden&#160;Linux<br/>loadable&#160;kernel&#160;modules&#160;(LKMs).&#160;LKMs&#160;are&#160;a&#160;way&#160;to&#160;link&#160;object&#160;code&#160;without&#160;in-<br/>terruption&#160;to&#160;the&#160;Linux&#160;kernel&#160;while&#160;it&#160;is&#160;running.&#160;Such&#160;LKMs&#160;are&#160;automatically<br/>registered&#160;at&#160;loading&#160;time,&#160;but&#160;it&#160;is&#160;possible&#160;for&#160;an&#160;LKM&#160;to&#160;un-register&#160;itself&#160;af-<br/>ter&#160;loading.&#160;In&#160;such&#160;a&#160;case,&#160;the&#160;LKM&#160;can&#160;hide&#160;even&#160;from&#160;a&#160;native&#160;interface&#160;query<br/>(as&#160;the&#160;adore-ng&#160;rootkit&#160;indeed&#160;does;&#160;see&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#76">5.4.5)</a>.&#160;To&#160;address&#160;this&#160;issue,<br/>we&#160;established&#160;a&#160;<i>shadow&#160;module&#160;list&#160;</i>in&#160;the&#160;hypervisor.&#160;The&#160;hypervisor&#160;traps&#160;the</p>
<p style="position:absolute;top:440px;left:141px;white-space:nowrap" class="ft7238">init_module</p>
<p style="position:absolute;top:439px;left:253px;white-space:nowrap" class="ft7211">system&#160;call&#160;and&#160;analyzes&#160;the&#160;ELF&#160;header&#160;section&#160;of&#160;the&#160;object&#160;file</p>
<p style="position:absolute;top:460px;left:141px;white-space:nowrap" class="ft7212">to&#160;get&#160;the&#160;module&#160;name&#160;and&#160;stores&#160;the&#160;name&#160;in&#160;the&#160;shadow&#160;module&#160;list.&#160;The&#160;hy-<br/>pervisor&#160;also&#160;traps&#160;the</p>
<p style="position:absolute;top:481px;left:292px;white-space:nowrap" class="ft7238">delete_module</p>
<p style="position:absolute;top:480px;left:424px;white-space:nowrap" class="ft7211">system&#160;call&#160;to&#160;remove&#160;entries&#160;from&#160;the</p>
<p style="position:absolute;top:501px;left:141px;white-space:nowrap" class="ft7212">shadow&#160;module&#160;list.&#160;As&#160;the&#160;hypervisor&#160;address&#160;space&#160;cannot&#160;be&#160;accessed&#160;by&#160;the<br/>PVM,&#160;the&#160;shadow&#160;module&#160;list&#160;cannot&#160;be&#160;altered&#160;by&#160;an&#160;intruder.&#160;The&#160;Xen&#160;interface<br/>query&#160;shows&#160;the&#160;contents&#160;of&#160;the&#160;shadow&#160;module&#160;list&#160;and&#160;is&#160;taken&#160;as&#160;reference&#160;for<br/>comparison&#160;with&#160;the&#160;results&#160;of&#160;the&#160;native&#160;interface&#160;and&#160;frontDoor&#160;interface&#160;queries.<br/>If&#160;the&#160;results&#160;from&#160;the&#160;native&#160;interface&#160;and/or&#160;the&#160;frontDoor&#160;interface&#160;queries&#160;do&#160;not<br/>list&#160;an&#160;entry&#160;from&#160;the&#160;shadow&#160;module&#160;list,&#160;we&#160;conclude&#160;that&#160;the&#160;module&#160;in&#160;question<br/>is&#160;hidden.</p>
<p style="position:absolute;top:667px;left:141px;white-space:nowrap" class="ft7215"><b>Mounts</b></p>
<p style="position:absolute;top:667px;left:211px;white-space:nowrap" class="ft7211">The&#160;frontDoor&#160;interface&#160;uses&#160;the</p>
<p style="position:absolute;top:668px;left:445px;white-space:nowrap" class="ft7238">cat&#160;/proc/mounts</p>
<p style="position:absolute;top:667px;left:610px;white-space:nowrap" class="ft7211">command,</p>
<p style="position:absolute;top:687px;left:141px;white-space:nowrap" class="ft7212">which&#160;provides&#160;a&#160;list&#160;of&#160;all&#160;mounted&#160;file&#160;systems&#160;in&#160;the&#160;PVM.&#160;An&#160;obvious&#160;alter-<br/>native&#160;would&#160;have&#160;been&#160;to&#160;use&#160;the&#160;output&#160;of&#160;the</p>
<p style="position:absolute;top:708px;left:465px;white-space:nowrap" class="ft7238">mount</p>
<p style="position:absolute;top:707px;left:519px;white-space:nowrap" class="ft7211">command;&#160;however&#160;that</p>
<p style="position:absolute;top:728px;left:141px;white-space:nowrap" class="ft7212">alternative&#160;is&#160;less&#160;useful&#160;and&#160;secure&#160;because&#160;the&#160;command&#160;merely&#160;outputs&#160;the&#160;con-<br/>tents&#160;of&#160;the</p>
<p style="position:absolute;top:749px;left:217px;white-space:nowrap" class="ft7238">/etc/mtab</p>
<p style="position:absolute;top:748px;left:309px;white-space:nowrap" class="ft7211">file,&#160;and&#160;it&#160;is&#160;easy&#160;to&#160;mount&#160;a&#160;file&#160;system&#160;without&#160;an&#160;entry</p>
<p style="position:absolute;top:768px;left:141px;white-space:nowrap" class="ft7211">showing&#160;up&#160;in&#160;the</p>
<p style="position:absolute;top:769px;left:261px;white-space:nowrap" class="ft7238">/etc/mtab</p>
<p style="position:absolute;top:768px;left:354px;white-space:nowrap" class="ft7211">file&#160;by&#160;using&#160;the</p>
<p style="position:absolute;top:769px;left:463px;white-space:nowrap" class="ft7238">mount&#160;-n</p>
<p style="position:absolute;top:768px;left:546px;white-space:nowrap" class="ft7211">command.</p>
<p style="position:absolute;top:789px;left:166px;white-space:nowrap" class="ft7211">The&#160;mount&#160;list&#160;library&#160;(MoL<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#72">L</a></p>
<p style="position:absolute;top:786px;left:378px;white-space:nowrap" class="ft7220"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#72">3</a></p>
<p style="position:absolute;top:789px;left:385px;white-space:nowrap" class="ft7211"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#72">)&#160;</a>operates&#160;on&#160;the&#160;PVM&#160;information&#160;about</p>
<p style="position:absolute;top:809px;left:141px;white-space:nowrap" class="ft7212">mounted&#160;file&#160;systems&#160;collected&#160;via&#160;the&#160;native&#160;interface&#160;query.&#160;The&#160;starting&#160;sym-<br/>bol&#160;for&#160;obtaining&#160;the&#160;information&#160;is&#160;the</p>
<p style="position:absolute;top:830px;left:405px;white-space:nowrap" class="ft7238">task_struct</p>
<p style="position:absolute;top:829px;left:518px;white-space:nowrap" class="ft7211">structure&#160;of&#160;the&#160;idle&#160;task</p>
<p style="position:absolute;top:850px;left:141px;white-space:nowrap" class="ft7212">(however,&#160;the&#160;entry&#160;for&#160;any&#160;task&#160;would&#160;be&#160;adequate),&#160;from&#160;where&#160;the&#160;MoLL&#160;gains<br/>access&#160;to&#160;the</p>
<p style="position:absolute;top:871px;left:230px;white-space:nowrap" class="ft7238">vfsmnt</p>
<p style="position:absolute;top:870px;left:294px;white-space:nowrap" class="ft7211">circular&#160;list.&#160;The&#160;list&#160;provides&#160;complete&#160;information&#160;about</p>
<p style="position:absolute;top:890px;left:141px;white-space:nowrap" class="ft7211">all&#160;file&#160;systems&#160;currently&#160;mounted.</p>
<p style="position:absolute;top:911px;left:166px;white-space:nowrap" class="ft7211">The&#160;mount&#160;information&#160;gathered&#160;from&#160;the&#160;native&#160;interface&#160;query&#160;is&#160;used&#160;as&#160;the</p>
<p style="position:absolute;top:931px;left:141px;white-space:nowrap" class="ft7212">reference&#160;against&#160;which&#160;the&#160;information&#160;from&#160;the&#160;frontDoor&#160;interface&#160;is&#160;compared.<br/>If&#160;there&#160;are&#160;mounted&#160;file&#160;systems&#160;that&#160;appear&#160;in&#160;the&#160;former&#160;but&#160;not&#160;in&#160;the&#160;latter,&#160;we<br/>take&#160;this&#160;as&#160;an&#160;indication&#160;of&#160;a&#160;hidden&#160;malicious&#160;process&#160;because&#160;mount&#160;information<br/>is&#160;relatively&#160;static,&#160;and&#160;hence&#160;false&#160;positives&#160;are&#160;not&#160;a&#160;big&#160;concern.</p>
<p style="position:absolute;top:1024px;left:141px;white-space:nowrap" class="ft7222">the&#160;frontDoor&#160;query&#160;but&#160;in&#160;neither&#160;of&#160;the&#160;interface&#160;queries.</p>
<p style="position:absolute;top:1038px;left:160px;white-space:nowrap" class="ft7221">3</p>
<p style="position:absolute;top:1041px;left:165px;white-space:nowrap" class="ft7222">The&#160;MoLL&#160;should&#160;not&#160;be&#160;confused&#160;with&#160;MLL,&#160;the&#160;module&#160;list&#160;library.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft7216">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 73 -->
<a name="73"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft7395{font-size:8px;line-height:9px;font-family:Helvetica;color:#000000;}
	.ft7396{font-size:18px;line-height:20px;font-family:Times;color:#000000;}
-->
</style>
<div id="page73-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter073.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft7323">CHAPTER&#160;5.&#160;DEPENDABLE&#160;AND&#160;SECURE&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft7311">73</p>
<p style="position:absolute;top:196px;left:367px;white-space:nowrap" class="ft7392"><i><b>SSVM</b></i></p>
<p style="position:absolute;top:196px;left:557px;white-space:nowrap" class="ft7392"><i><b>PVM</b></i></p>
<p style="position:absolute;top:345px;left:474px;white-space:nowrap" class="ft7349">EHKM</p>
<p style="position:absolute;top:341px;left:367px;white-space:nowrap" class="ft7394"><b>Kernel</b></p>
<p style="position:absolute;top:365px;left:367px;white-space:nowrap" class="ft7394"><b>Xen</b></p>
<p style="position:absolute;top:212px;left:367px;white-space:nowrap" class="ft7394"><b>User&#160;Space</b></p>
<p style="position:absolute;top:392px;left:367px;white-space:nowrap" class="ft7394"><b>Hardware</b></p>
<p style="position:absolute;top:206px;left:434px;white-space:nowrap" class="ft7349">Event&#160;Handling</p>
<p style="position:absolute;top:271px;left:421px;white-space:nowrap" class="ft7349">Rules</p>
<p style="position:absolute;top:288px;left:530px;white-space:nowrap" class="ft7349">Application</p>
<p style="position:absolute;top:393px;left:544px;white-space:nowrap" class="ft7349">CPU</p>
<p style="position:absolute;top:371px;left:501px;white-space:nowrap" class="ft7349">SCI</p>
<p style="position:absolute;top:371px;left:453px;white-space:nowrap" class="ft7350">Rules</p>
<p style="position:absolute;top:315px;left:426px;white-space:nowrap" class="ft7349">PIT</p>
<p style="position:absolute;top:314px;left:557px;white-space:nowrap" class="ft7395">system<br/>calls</p>
<p style="position:absolute;top:441px;left:213px;white-space:nowrap" class="ft7315"><b>File&#160;system</b></p>
<p style="position:absolute;top:441px;left:307px;white-space:nowrap" class="ft7311">In&#160;the&#160;case&#160;of&#160;the&#160;file&#160;system,&#160;bridging&#160;the&#160;semantic&#160;gap&#160;in&#160;general</p>
<p style="position:absolute;top:462px;left:213px;white-space:nowrap" class="ft7312">implies&#160;the&#160;use&#160;of&#160;raw&#160;access&#160;to&#160;the&#160;physical&#160;disk&#160;and&#160;the&#160;related&#160;traffic&#160;to&#160;rebuild<br/>the&#160;file&#160;system&#160;structures&#160;of&#160;the&#160;guest&#160;operating&#160;system&#160;of&#160;the&#160;PVM&#160;in&#160;the&#160;context&#160;of<br/>the&#160;SSVM.&#160;Accessing&#160;file&#160;systems&#160;mounted&#160;by&#160;another&#160;operating&#160;system&#160;is&#160;feasible<br/>even&#160;for&#160;disparate&#160;operating&#160;systems,&#160;e.g.&#160;Microsoft&#160;Windows&#160;and&#160;Linux,&#160;as&#160;for<br/>example&#160;shown&#160;in&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[JWX07]</a>.&#160;Xen&#160;can&#160;use&#160;a&#160;Linux&#160;file&#160;system&#160;existing&#160;on&#160;the<br/>Xen/Dom0&#160;level&#160;to&#160;boot&#160;and&#160;launch&#160;guest&#160;domains.&#160;This&#160;same&#160;file&#160;system&#160;can&#160;then<br/>be&#160;mounted&#160;read-only&#160;by&#160;the&#160;SSVM.&#160;We&#160;then&#160;retrieve&#160;the&#160;file&#160;information&#160;via&#160;the<br/>frontDoor&#160;and&#160;compare&#160;it&#160;with&#160;the&#160;information&#160;of&#160;the&#160;file&#160;system&#160;mounted&#160;by&#160;the<br/>SSVM.</p>
<p style="position:absolute;top:645px;left:238px;white-space:nowrap" class="ft7311">For&#160;efficiency&#160;and&#160;simplified&#160;forensic&#160;recording,&#160;we&#160;use&#160;a&#160;basic&#160;read-only&#160;file</p>
<p style="position:absolute;top:665px;left:213px;white-space:nowrap" class="ft7311">system&#160;and&#160;add&#160;the&#160;CoWNFS&#160;<i>copy-on-write&#160;</i>file&#160;system&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#92">[KMP</a></p>
<p style="position:absolute;top:662px;left:627px;white-space:nowrap" class="ft7328"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#92">+</a></p>
<p style="position:absolute;top:665px;left:638px;white-space:nowrap" class="ft7311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#92">04,&#160;</a><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">Ros08]</a>.&#160;This</p>
<p style="position:absolute;top:685px;left:213px;white-space:nowrap" class="ft7312">allows&#160;us&#160;to&#160;store&#160;the&#160;changes&#160;for&#160;multiple&#160;runs&#160;for&#160;later&#160;forensic&#160;analysis&#160;and<br/>protects&#160;the&#160;original&#160;state&#160;of&#160;the&#160;system&#160;from&#160;any&#160;(potentially&#160;malicious)&#160;changes.<br/>This&#160;combined&#160;file&#160;system&#160;was&#160;then&#160;used&#160;as&#160;an&#160;NFS&#160;mountable&#160;file&#160;system&#160;for<br/>booting&#160;the&#160;PVM.</p>
<p style="position:absolute;top:790px;left:213px;white-space:nowrap" class="ft7314"><b>5.4.4</b></p>
<p style="position:absolute;top:790px;left:266px;white-space:nowrap" class="ft7396"><b>Protection&#160;of&#160;System&#160;Integrity&#160;and&#160;Forensic&#160;Information&#160;by<br/>means&#160;of&#160;System&#160;Call&#160;Inspection</b></p>
<p style="position:absolute;top:843px;left:213px;white-space:nowrap" class="ft7312">We&#160;now&#160;outline&#160;how&#160;X-Spy’s&#160;System&#160;Call&#160;Inspection&#160;component&#160;is&#160;used&#160;to&#160;protect<br/>the&#160;system&#160;against&#160;intrusions.</p>
<p style="position:absolute;top:908px;left:213px;white-space:nowrap" class="ft7315"><b>Protection&#160;of&#160;Forensic&#160;Information</b></p>
<p style="position:absolute;top:939px;left:213px;white-space:nowrap" class="ft7312">In&#160;case&#160;of&#160;a&#160;successful&#160;intrusion&#160;it&#160;is&#160;highly&#160;desirable&#160;to&#160;protect&#160;as&#160;much&#160;foren-<br/>sic&#160;information&#160;as&#160;possible.</p>
<p style="position:absolute;top:960px;left:420px;white-space:nowrap" class="ft7311">A&#160;smart&#160;intruder&#160;would&#160;want&#160;to&#160;hide&#160;all&#160;traces</p>
<p style="position:absolute;top:980px;left:213px;white-space:nowrap" class="ft7311">of&#160;the&#160;intrusion,&#160;e.g.,&#160;by&#160;altering&#160;log-file<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#73">s</a></p>
<p style="position:absolute;top:977px;left:503px;white-space:nowrap" class="ft7320"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#73">4</a></p>
<p style="position:absolute;top:980px;left:517px;white-space:nowrap" class="ft7311">such&#160;as&#160;the</p>
<p style="position:absolute;top:981px;left:604px;white-space:nowrap" class="ft7338">wtmp/utmp</p>
<p style="position:absolute;top:980px;left:699px;white-space:nowrap" class="ft7311">and&#160;the</p>
<p style="position:absolute;top:1001px;left:213px;white-space:nowrap" class="ft7338">/var/log/messages</p>
<p style="position:absolute;top:1000px;left:386px;white-space:nowrap" class="ft7311">files.&#160;While&#160;these&#160;files&#160;cannot&#160;be&#160;modified&#160;by&#160;normal</p>
<p style="position:absolute;top:1021px;left:213px;white-space:nowrap" class="ft7311">users,&#160;intruders&#160;with&#160;root&#160;access&#160;can.&#160;One&#160;way&#160;to&#160;address&#160;this&#160;issue&#160;would&#160;be&#160;to</p>
<p style="position:absolute;top:1050px;left:232px;white-space:nowrap" class="ft7321">4</p>
<p style="position:absolute;top:1053px;left:237px;white-space:nowrap" class="ft7322">Note&#160;that&#160;the&#160;above&#160;protection&#160;scheme&#160;for&#160;log&#160;files&#160;can&#160;easily&#160;be&#160;extended&#160;to&#160;protect&#160;other&#160;im-</p>
<p style="position:absolute;top:1069px;left:213px;white-space:nowrap" class="ft7322">portant&#160;files,&#160;such&#160;as&#160;Xen&#160;VM&#160;configuration&#160;files,&#160;through&#160;additional&#160;rules&#160;in&#160;the&#160;rule&#160;set.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft7316">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 74 -->
<a name="74"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page74-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter074.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft7411">74</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft7416">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft7412">use&#160;a&#160;hardened&#160;system&#160;(e.g.,&#160;SELinux).&#160;However,&#160;this&#160;protects&#160;only&#160;if&#160;the&#160;superuser<br/>is&#160;not&#160;allowed&#160;to&#160;change&#160;the&#160;SELinux&#160;rules&#160;in&#160;a&#160;running&#160;System.</p>
<p style="position:absolute;top:236px;left:166px;white-space:nowrap" class="ft7411">In&#160;a&#160;virtualized&#160;environment&#160;as&#160;considered&#160;here,&#160;we&#160;have&#160;the&#160;possibility&#160;to</p>
<p style="position:absolute;top:257px;left:141px;white-space:nowrap" class="ft7412">protect&#160;important&#160;files&#160;by&#160;intercepting&#160;the&#160;system&#160;call&#160;sequence&#160;in&#160;the&#160;PVM&#160;through<br/>the&#160;Xen&#160;hypervisor.&#160;For&#160;this&#160;purpose,&#160;we&#160;added&#160;a&#160;module&#160;to&#160;the&#160;Xen&#160;hypervisor,<br/>the&#160;<i>System&#160;Call&#160;Inspector&#160;</i>(SCI),&#160;which&#160;can&#160;inspect&#160;al<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#74">l</a></p>
<p style="position:absolute;top:294px;left:501px;white-space:nowrap" class="ft7420"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#74">5</a></p>
<p style="position:absolute;top:297px;left:513px;white-space:nowrap" class="ft7411">system&#160;calls&#160;occurring&#160;in</p>
<p style="position:absolute;top:317px;left:141px;white-space:nowrap" class="ft7412">the&#160;PVM&#160;and&#160;either&#160;block&#160;or&#160;accept&#160;calls&#160;depending&#160;on&#160;a&#160;set&#160;of&#160;<i>rules</i>.&#160;These&#160;rules<br/>are&#160;stored&#160;and&#160;edited&#160;in&#160;the&#160;SSVM&#160;(and&#160;therefore&#160;out&#160;of&#160;reach&#160;of&#160;any&#160;activity&#160;in&#160;the<br/>PVM),&#160;and&#160;can&#160;be&#160;loaded&#160;into&#160;the&#160;SCI&#160;(in&#160;binary&#160;form)&#160;via&#160;the&#160;Policy&#160;Installation<br/>Tool&#160;(PIT).</p>
<p style="position:absolute;top:399px;left:166px;white-space:nowrap" class="ft7411">X-Spy&#160;implements&#160;a&#160;functionality&#160;for&#160;checking&#160;and&#160;fine-tuning&#160;system&#160;calls</p>
<p style="position:absolute;top:419px;left:141px;white-space:nowrap" class="ft7411">by&#160;instrumenting&#160;the&#160;system&#160;call&#160;handling&#160;chain.&#160;An</p>
<p style="position:absolute;top:420px;left:507px;white-space:nowrap" class="ft7438">int&#160;0x80</p>
<p style="position:absolute;top:419px;left:592px;white-space:nowrap" class="ft7411">instruction&#160;is</p>
<p style="position:absolute;top:439px;left:141px;white-space:nowrap" class="ft7412">intercepted&#160;by&#160;an&#160;interrupt&#160;handler&#160;located&#160;in&#160;the&#160;Xen&#160;context&#160;where&#160;checks&#160;against<br/>the&#160;previously&#160;introduced&#160;rule&#160;set&#160;are&#160;done.&#160;Only&#160;after&#160;passing&#160;the&#160;checks&#160;is&#160;the&#160;call<br/>redirected&#160;to&#160;the&#160;PVM&#160;Kernel,&#160;where&#160;the&#160;normal&#160;system&#160;call&#160;handler&#160;is&#160;invoked;<br/>otherwise,&#160;the&#160;call&#160;returns&#160;without&#160;any&#160;action&#160;being&#160;taken.&#160;In&#160;certain&#160;cases,&#160;the<br/>system&#160;call&#160;is&#160;allowed&#160;after&#160;some&#160;fine-tuning,&#160;e.g.,&#160;a&#160;modification&#160;of&#160;the&#160;parameters<br/>so&#160;that&#160;the&#160;call&#160;conforms&#160;to&#160;the&#160;rule&#160;set&#160;specified.&#160;The&#160;amount&#160;of&#160;performance<br/>overhead&#160;depends&#160;on&#160;the&#160;type&#160;of&#160;checks&#160;and&#160;fine-tuning&#160;being&#160;done&#160;for&#160;a&#160;particular<br/>system&#160;call.</p>
<p style="position:absolute;top:602px;left:166px;white-space:nowrap" class="ft7411">As&#160;the&#160;interception&#160;of&#160;the&#160;system&#160;call&#160;happens&#160;in&#160;the&#160;Xen&#160;context,&#160;the&#160;prob-</p>
<p style="position:absolute;top:622px;left:141px;white-space:nowrap" class="ft7412">lem&#160;of&#160;semantic&#160;gap&#160;has&#160;to&#160;be&#160;overcome&#160;to&#160;determine&#160;which&#160;system&#160;calls&#160;actually<br/>merit&#160;additional&#160;checks.&#160;For&#160;our&#160;aim&#160;of&#160;protecting&#160;forensic&#160;information,&#160;system<br/>calls&#160;performing&#160;file&#160;operations&#160;are&#160;essential.&#160;We&#160;protect&#160;forensic&#160;information&#160;by<br/>preventing&#160;calls&#160;that&#160;rename,&#160;link,&#160;unlink,&#160;or&#160;delete&#160;log&#160;files.&#160;Furthermore,&#160;we&#160;limit<br/>access&#160;to&#160;log&#160;files&#160;by&#160;permitting&#160;only&#160;the&#160;append&#160;operation&#160;on&#160;them.&#160;To&#160;ensure&#160;that<br/>a&#160;malicious&#160;process&#160;cannot&#160;bypass&#160;the&#160;checking,&#160;we&#160;normalized&#160;the&#160;paths.</p>
<p style="position:absolute;top:744px;left:166px;white-space:nowrap" class="ft7411">If&#160;the&#160;SCI&#160;finds&#160;that&#160;an&#160;application&#160;in&#160;the&#160;PVM&#160;tries&#160;to&#160;initiate&#160;a&#160;system&#160;call&#160;that</p>
<p style="position:absolute;top:765px;left:141px;white-space:nowrap" class="ft7412">is&#160;not&#160;allowed&#160;according&#160;to&#160;the&#160;rule&#160;set,&#160;it&#160;will&#160;block&#160;or&#160;modify&#160;it&#160;and&#160;send&#160;a&#160;corre-<br/>sponding&#160;event&#160;through&#160;an&#160;<i>event&#160;handling&#160;kernel&#160;module&#160;</i>(EHKM)&#160;in&#160;the&#160;SSVM&#160;to<br/>the&#160;high-level&#160;event&#160;handling&#160;component&#160;with&#160;information&#160;about&#160;the&#160;violated&#160;rule<br/>and&#160;the&#160;corresponding&#160;process&#160;in&#160;the&#160;PVM.</p>
<p style="position:absolute;top:870px;left:141px;white-space:nowrap" class="ft7415"><b>Protection&#160;of&#160;Binaries&#160;against&#160;User-Space&#160;Rootkits</b></p>
<p style="position:absolute;top:901px;left:141px;white-space:nowrap" class="ft7412">The&#160;mechanism&#160;used&#160;for&#160;protecting&#160;forensic&#160;information&#160;can&#160;also&#160;be&#160;used&#160;to&#160;protect<br/>binaries&#160;from&#160;being&#160;altered&#160;by&#160;an&#160;intruder.&#160;Many&#160;user-space&#160;rootkits&#160;try&#160;to&#160;alter</p>
<p style="position:absolute;top:922px;left:659px;white-space:nowrap" class="ft7438">ps</p>
<p style="position:absolute;top:942px;left:141px;white-space:nowrap" class="ft7411">or</p>
<p style="position:absolute;top:943px;left:161px;white-space:nowrap" class="ft7438">netstat</p>
<p style="position:absolute;top:942px;left:236px;white-space:nowrap" class="ft7411">to&#160;hide&#160;their&#160;presence&#160;or&#160;to&#160;install&#160;a&#160;back&#160;door&#160;by&#160;modifying&#160;the</p>
<p style="position:absolute;top:963px;left:141px;white-space:nowrap" class="ft7438">openssh</p>
<p style="position:absolute;top:962px;left:215px;white-space:nowrap" class="ft7411">binary.&#160;While&#160;earlier&#160;tools,&#160;such&#160;as&#160;Tripwire,&#160;can&#160;<i>detect&#160;</i>the&#160;alteration</p>
<p style="position:absolute;top:983px;left:141px;white-space:nowrap" class="ft7412">of&#160;a&#160;binary&#160;or&#160;a&#160;library,&#160;our&#160;event-driven&#160;approach&#160;to&#160;check&#160;system&#160;calls&#160;and&#160;their<br/>arguments&#160;can&#160;actually&#160;<i>prevent&#160;</i>their&#160;alteration.</p>
<p style="position:absolute;top:1032px;left:160px;white-space:nowrap" class="ft7421">5</p>
<p style="position:absolute;top:1035px;left:165px;white-space:nowrap" class="ft7422">Note&#160;that&#160;Xen&#160;implements&#160;a&#160;“fast&#160;trap”&#160;mechanism&#160;to&#160;enhance&#160;performance.&#160;If&#160;Xen&#160;calls&#160;are&#160;to</p>
<p style="position:absolute;top:1051px;left:141px;white-space:nowrap" class="ft7422">be&#160;monitored&#160;as&#160;well,&#160;then&#160;this&#160;mechanism&#160;need&#160;to&#160;be&#160;disabled.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft7416">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 75 -->
<a name="75"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page75-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter075.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft7523">CHAPTER&#160;5.&#160;DEPENDABLE&#160;AND&#160;SECURE&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft7511">75</p>
<p style="position:absolute;top:196px;left:238px;white-space:nowrap" class="ft7511">In&#160;addition,&#160;it&#160;is&#160;possible&#160;to&#160;restrict&#160;read/write&#160;access&#160;to&#160;an&#160;executable,&#160;but&#160;still</p>
<p style="position:absolute;top:216px;left:213px;white-space:nowrap" class="ft7512">allow&#160;its&#160;execution.&#160;Based&#160;on&#160;the&#160;corresponding&#160;rule&#160;set,&#160;the&#160;module&#160;we&#160;have&#160;im-<br/>plemented&#160;in&#160;the&#160;Xen&#160;hypervisor&#160;checks&#160;whether&#160;a&#160;system&#160;call&#160;is&#160;trying&#160;to&#160;change,<br/>delete,&#160;link,&#160;or&#160;rename&#160;a&#160;binary,&#160;and&#160;if&#160;so,&#160;the&#160;call&#160;is&#160;denied.&#160;As&#160;execution&#160;of&#160;a&#160;bi-<br/>nary&#160;normally&#160;happens&#160;through&#160;the</p>
<p style="position:absolute;top:278px;left:447px;white-space:nowrap" class="ft7538">execve</p>
<p style="position:absolute;top:277px;left:510px;white-space:nowrap" class="ft7511">system&#160;call&#160;without&#160;actually&#160;opening</p>
<p style="position:absolute;top:297px;left:213px;white-space:nowrap" class="ft7512">the&#160;binary&#160;file,&#160;it&#160;is&#160;even&#160;possible&#160;to&#160;add&#160;a&#160;rule&#160;that&#160;forbids&#160;the&#160;opening&#160;of&#160;certain<br/>binaries&#160;completely&#160;without&#160;disallowing&#160;their&#160;execution.</p>
<p style="position:absolute;top:362px;left:213px;white-space:nowrap" class="ft7515"><b>Kernel&#160;Sealing</b></p>
<p style="position:absolute;top:393px;left:213px;white-space:nowrap" class="ft7512">X-Spy&#160;also&#160;implements&#160;<i>kernel&#160;sealing</i>,&#160;a&#160;well-known&#160;method&#160;to&#160;protect&#160;a&#160;system<br/>or&#160;prevent&#160;intrusions.&#160;The&#160;kernel&#160;memory&#160;can&#160;be&#160;accessed&#160;directly&#160;by&#160;reading<br/>or,&#160;more&#160;dangerously,&#160;by&#160;writing&#160;to&#160;the</p>
<p style="position:absolute;top:435px;left:477px;white-space:nowrap" class="ft7538">/dev/mem</p>
<p style="position:absolute;top:434px;left:560px;white-space:nowrap" class="ft7511">or</p>
<p style="position:absolute;top:435px;left:579px;white-space:nowrap" class="ft7538">/dev/kmem</p>
<p style="position:absolute;top:434px;left:672px;white-space:nowrap" class="ft7511">device&#160;files.</p>
<p style="position:absolute;top:454px;left:213px;white-space:nowrap" class="ft7512">The&#160;rule&#160;set&#160;of&#160;the&#160;X-Spy&#160;event-driven&#160;module&#160;in&#160;the&#160;Xen&#160;hypervisor&#160;was&#160;updated<br/>to&#160;restrict&#160;access&#160;to&#160;those&#160;files,&#160;so&#160;that&#160;only&#160;read&#160;requests&#160;are&#160;allowed&#160;and&#160;write<br/>requests&#160;return&#160;an&#160;error&#160;result&#160;without&#160;performing&#160;the&#160;write&#160;operation.</p>
<p style="position:absolute;top:515px;left:238px;white-space:nowrap" class="ft7511">Accessing&#160;the&#160;kernel&#160;memory&#160;by&#160;loading&#160;a&#160;kernel&#160;module&#160;or&#160;writing&#160;directly</p>
<p style="position:absolute;top:535px;left:213px;white-space:nowrap" class="ft7512">to&#160;/dev/(k)mem&#160;is&#160;potentially&#160;dangerous&#160;because&#160;it&#160;allows&#160;an&#160;intruder&#160;to&#160;establish<br/>its&#160;own&#160;interface&#160;to&#160;the&#160;kernel;&#160;thereafter,&#160;the&#160;intruder&#160;can&#160;easily&#160;place&#160;malicious<br/>code&#160;in&#160;the&#160;kernel&#160;and&#160;have&#160;full&#160;access&#160;to&#160;the&#160;file&#160;system&#160;and&#160;other&#160;kernel&#160;internals.<br/>X-Spy&#160;uses&#160;a&#160;technique&#160;called&#160;<i>white-listing&#160;</i>by&#160;which&#160;all&#160;kernel&#160;modules&#160;allowed<br/>to&#160;be&#160;loaded&#160;are&#160;explicitly&#160;specified&#160;along&#160;with&#160;their&#160;respective&#160;SHA-1&#160;hash&#160;values.<br/>If&#160;the&#160;module&#160;to&#160;be&#160;loaded&#160;at&#160;run-time&#160;is&#160;not&#160;specified&#160;in&#160;the&#160;white-list&#160;or&#160;if&#160;it<br/>has&#160;an&#160;incorrect&#160;hash&#160;value,&#160;X-Spy&#160;prevents&#160;the&#160;module&#160;from&#160;being&#160;loaded&#160;by<br/>preventing&#160;the&#160;system&#160;call&#160;from&#160;reaching&#160;the&#160;PVM&#160;kernel&#160;space.&#160;Note&#160;that&#160;our&#160;X-<br/>Spy&#160;implementation&#160;does&#160;not&#160;offer&#160;protection&#160;against&#160;buffer&#160;overflows&#160;on&#160;systems<br/>calls.</p>
<p style="position:absolute;top:763px;left:213px;white-space:nowrap" class="ft7515"><b>Pre-Checking&#160;of&#160;Binaries</b></p>
<p style="position:absolute;top:794px;left:213px;white-space:nowrap" class="ft7512">An&#160;effective&#160;way&#160;of&#160;protecting&#160;a&#160;PVM&#160;from&#160;user-space&#160;rootkits&#160;or&#160;other&#160;malicious<br/>software&#160;is&#160;to&#160;check&#160;the&#160;hash&#160;of&#160;every&#160;binary,&#160;prior&#160;to&#160;its&#160;execution,&#160;against&#160;a&#160;white-<br/>list&#160;of&#160;pre-calculated&#160;hashes&#160;and&#160;to&#160;allow&#160;its&#160;execution&#160;only&#160;if&#160;there&#160;is&#160;a&#160;match.<br/>Computing&#160;the&#160;hash&#160;of&#160;the&#160;binary&#160;has&#160;to&#160;be&#160;done&#160;out&#160;of&#160;the&#160;reach&#160;of&#160;a&#160;potential<br/>intruder&#160;in&#160;the&#160;PVM&#160;and&#160;should&#160;also&#160;not&#160;require&#160;modification&#160;of&#160;the&#160;PVM’s&#160;OS.<br/>To&#160;meet&#160;these&#160;conditions,&#160;X-Spy&#160;computes&#160;the&#160;hash&#160;of&#160;the&#160;binary&#160;in&#160;the&#160;SSVM.<br/>To&#160;enable&#160;such&#160;a&#160;computation,&#160;it&#160;is&#160;necessary&#160;that&#160;the&#160;SSVM&#160;has&#160;all&#160;partitions<br/>of&#160;the&#160;PVM&#160;mounted;&#160;furthermore,&#160;the&#160;binary&#160;should&#160;not&#160;be&#160;on&#160;a&#160;RAM&#160;disk,&#160;on<br/>network&#160;file&#160;system,&#160;or&#160;on&#160;an&#160;encrypted&#160;file&#160;system&#160;that&#160;the&#160;SSVM&#160;cannot&#160;access.<br/>An&#160;alternative&#160;would&#160;be&#160;to&#160;do&#160;the&#160;computation&#160;in&#160;the&#160;hypervisor,&#160;which&#160;would<br/>require&#160;overcoming&#160;the&#160;semantic&#160;gap&#160;problem.</p>
<p style="position:absolute;top:1017px;left:238px;white-space:nowrap" class="ft7511">For&#160;computing&#160;the&#160;hash&#160;of&#160;the&#160;binary&#160;in&#160;the&#160;SSVM,&#160;we&#160;use&#160;a&#160;technique&#160;called</p>
<p style="position:absolute;top:1038px;left:213px;white-space:nowrap" class="ft7519"><i>memory&#160;scanning</i>,&#160;which&#160;involves&#160;loading&#160;the&#160;complete</p>
<p style="position:absolute;top:1039px;left:587px;white-space:nowrap" class="ft7538">.text</p>
<p style="position:absolute;top:1038px;left:642px;white-space:nowrap" class="ft7511">and</p>
<p style="position:absolute;top:1039px;left:670px;white-space:nowrap" class="ft7538">.data</p>
<p style="position:absolute;top:1038px;left:724px;white-space:nowrap" class="ft7511">sec-</p>
<p style="position:absolute;top:1058px;left:213px;white-space:nowrap" class="ft7511">tions&#160;of&#160;an&#160;ELF&#160;binary&#160;into&#160;memory&#160;by&#160;setting&#160;the&#160;program&#160;counter&#160;to&#160;the&#160;next</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft7516">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 76 -->
<a name="76"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page76-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter076.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft7611">76</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft7616">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft7612">page,&#160;asking&#160;the&#160;PVM&#160;kernel&#160;to&#160;load&#160;the&#160;page,&#160;and&#160;then&#160;hashing&#160;it&#160;while&#160;handling<br/>the&#160;page&#160;fault.</p>
<p style="position:absolute;top:236px;left:166px;white-space:nowrap" class="ft7611">If&#160;the&#160;hash&#160;cannot&#160;be&#160;verified&#160;the&#160;hypervisor&#160;invalidates&#160;all&#160;of&#160;the&#160;memory&#160;and</p>
<p style="position:absolute;top:257px;left:141px;white-space:nowrap" class="ft7611">returns&#160;the&#160;control&#160;back&#160;to&#160;the&#160;guest&#160;domain.&#160;Because&#160;of&#160;the&#160;invalid</p>
<p style="position:absolute;top:257px;left:580px;white-space:nowrap" class="ft7638">.text</p>
<p style="position:absolute;top:257px;left:633px;white-space:nowrap" class="ft7611">section</p>
<p style="position:absolute;top:277px;left:141px;white-space:nowrap" class="ft7612">to&#160;which&#160;the&#160;PC&#160;points,&#160;the&#160;process&#160;will&#160;crash.&#160;Note&#160;that&#160;relying&#160;on&#160;support&#160;from<br/>the&#160;PVM’s&#160;guest&#160;OS&#160;does&#160;not&#160;necessarily&#160;constitute&#160;a&#160;security&#160;gap,&#160;because&#160;a&#160;non-<br/>cooperative&#160;PVM&#160;kernel&#160;would&#160;lead&#160;to&#160;a&#160;wrong&#160;hash&#160;value&#160;and&#160;in&#160;this&#160;case,&#160;as&#160;seen<br/>above,&#160;the&#160;process&#160;will&#160;be&#160;forced&#160;to&#160;quit.</p>
<p style="position:absolute;top:382px;left:141px;white-space:nowrap" class="ft7614"><b>5.4.5</b></p>
<p style="position:absolute;top:382px;left:195px;white-space:nowrap" class="ft7614"><b>Evaluation</b></p>
<p style="position:absolute;top:414px;left:141px;white-space:nowrap" class="ft7612">While&#160;the&#160;conceptual&#160;limitations&#160;have&#160;been&#160;discussed&#160;in&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#68">5.4.1,&#160;</a>we&#160;will&#160;now<br/>evaluate&#160;the&#160;effectiveness&#160;and&#160;efficiency&#160;of&#160;our&#160;implementation.</p>
<p style="position:absolute;top:479px;left:141px;white-space:nowrap" class="ft7615"><b>Functional&#160;Evaluation</b></p>
<p style="position:absolute;top:510px;left:141px;white-space:nowrap" class="ft7612">The&#160;goal&#160;of&#160;the&#160;Lie-Detector&#160;is&#160;to&#160;expose&#160;malicious&#160;code.&#160;Once&#160;all&#160;information&#160;is<br/>visible,&#160;we&#160;no&#160;longer&#160;focus&#160;on&#160;whether&#160;a&#160;particular&#160;LKM&#160;or&#160;process&#160;is&#160;hostile.</p>
<p style="position:absolute;top:551px;left:166px;white-space:nowrap" class="ft7611">We&#160;first&#160;evaluated&#160;our&#160;implementation&#160;using&#160;a&#160;set&#160;of&#160;functional&#160;tests&#160;that&#160;im-</p>
<p style="position:absolute;top:571px;left:141px;white-space:nowrap" class="ft7612">plement&#160;typical&#160;rootkit&#160;functionality,&#160;such&#160;as&#160;hiding&#160;processes,&#160;kernel&#160;modules,<br/>mounts,&#160;or&#160;network&#160;connections.&#160;Our&#160;Lie-Detector&#160;correctly&#160;exposed&#160;all&#160;attempts<br/>to&#160;hide&#160;such&#160;critical&#160;information.</p>
<p style="position:absolute;top:632px;left:166px;white-space:nowrap" class="ft7611">We&#160;then&#160;tested&#160;the&#160;system&#160;using&#160;the&#160;adore-ng&#160;rootkit&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#93">[ste01]</a>.&#160;Adore-ng&#160;is&#160;an</p>
<p style="position:absolute;top:652px;left:141px;white-space:nowrap" class="ft7612">LKM-based&#160;rootkit&#160;for&#160;Linux&#160;kernels&#160;which&#160;allows&#160;one&#160;to&#160;hide&#160;files&#160;and&#160;directo-<br/>ries,&#160;processes,&#160;and&#160;network&#160;connections.&#160;The&#160;basic&#160;rootkit&#160;consists&#160;of&#160;the&#160;kernel<br/>module&#160;and&#160;a&#160;user-space&#160;control&#160;program.&#160;While&#160;currently&#160;this&#160;is&#160;the&#160;only&#160;widely<br/>available&#160;rootkit&#160;for&#160;the&#160;Linux&#160;kernel&#160;2.6,&#160;other&#160;similar&#160;rootkits&#160;exist&#160;for&#160;earlier<br/>kernel&#160;versions&#160;and&#160;may&#160;be&#160;ported&#160;to&#160;the&#160;2.6&#160;kernel.</p>
<p style="position:absolute;top:754px;left:166px;white-space:nowrap" class="ft7611">In&#160;a&#160;fully&#160;protected&#160;X-Spy&#160;system,&#160;the&#160;rootkit&#160;cannot&#160;even&#160;be&#160;installed&#160;as&#160;the</p>
<p style="position:absolute;top:774px;left:141px;white-space:nowrap" class="ft7612">insertion&#160;of&#160;modules&#160;is&#160;restricted&#160;through&#160;the&#160;SCI&#160;interception&#160;of&#160;the&#160;respective&#160;sys-<br/>tem&#160;calls&#160;and&#160;the&#160;white-listing&#160;of&#160;allowed&#160;modules.&#160;After&#160;explicitly&#160;allowing&#160;the<br/>rootkit&#160;to&#160;insert&#160;itself&#160;into&#160;the&#160;kernel,&#160;we&#160;used&#160;its&#160;control&#160;program&#160;to&#160;hide&#160;processes,<br/>files,&#160;and&#160;network&#160;connections.&#160;The&#160;X-Spy&#160;Lie-Detector&#160;component&#160;reported&#160;these<br/>hidden&#160;resources&#160;faithfully&#160;by&#160;comparing&#160;the&#160;responses&#160;from&#160;the&#160;native&#160;and&#160;front-<br/>Door&#160;interfaces&#160;as&#160;described&#160;in&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#69">5.4.3.&#160;</a>Although&#160;the&#160;adore-ng&#160;kernel&#160;mod-<br/>ule&#160;will&#160;remove&#160;itself&#160;from&#160;the&#160;list&#160;of&#160;modules&#160;visible&#160;with</p>
<p style="position:absolute;top:897px;left:541px;white-space:nowrap" class="ft7638">lsmod</p>
<p style="position:absolute;top:896px;left:590px;white-space:nowrap" class="ft7611">,&#160;detection&#160;of</p>
<p style="position:absolute;top:916px;left:141px;white-space:nowrap" class="ft7612">the&#160;module&#160;by&#160;the&#160;Lie-Detector&#160;is&#160;possible&#160;with&#160;the&#160;help&#160;of&#160;the&#160;shadow&#160;module&#160;list<br/>(see&#160;discussion&#160;in&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#73">5.4.4)</a>.</p>
<p style="position:absolute;top:957px;left:166px;white-space:nowrap" class="ft7611">The&#160;rule&#160;set&#160;used&#160;in&#160;X-Spy’s&#160;event-driven&#160;protection&#160;mechanism&#160;con-</p>
<p style="position:absolute;top:978px;left:141px;white-space:nowrap" class="ft7611">tained&#160;about&#160;110&#160;rules,&#160;e.g.</p>
<p style="position:absolute;top:978px;left:377px;white-space:nowrap" class="ft7611">to&#160;protect&#160;forensically&#160;relevant&#160;files&#160;(e.g.</p>
<p style="position:absolute;top:999px;left:141px;white-space:nowrap" class="ft7638">/var/log/messages</p>
<p style="position:absolute;top:998px;left:322px;white-space:nowrap" class="ft7611">and</p>
<p style="position:absolute;top:999px;left:361px;white-space:nowrap" class="ft7638">/var/log/wtmp</p>
<p style="position:absolute;top:998px;left:489px;white-space:nowrap" class="ft7611">)&#160;and</p>
<p style="position:absolute;top:998px;left:547px;white-space:nowrap" class="ft7611">to&#160;prevent</p>
<p style="position:absolute;top:998px;left:637px;white-space:nowrap" class="ft7611">access</p>
<p style="position:absolute;top:1018px;left:141px;white-space:nowrap" class="ft7611">to&#160;raw&#160;memory&#160;(</p>
<p style="position:absolute;top:1019px;left:280px;white-space:nowrap" class="ft7638">/dev/(k)mem)</p>
<p style="position:absolute;top:1018px;left:399px;white-space:nowrap" class="ft7611">,</p>
<p style="position:absolute;top:1018px;left:418px;white-space:nowrap" class="ft7611">security&#160;relevant&#160;configuration&#160;files</p>
<p style="position:absolute;top:1038px;left:141px;white-space:nowrap" class="ft7611">(</p>
<p style="position:absolute;top:1039px;left:146px;white-space:nowrap" class="ft7638">/etc/ssh.config</p>
<p style="position:absolute;top:1038px;left:295px;white-space:nowrap" class="ft7611">),&#160;and&#160;operating&#160;system&#160;tools&#160;(</p>
<p style="position:absolute;top:1039px;left:494px;white-space:nowrap" class="ft7638">/bin/ls</p>
<p style="position:absolute;top:1038px;left:564px;white-space:nowrap" class="ft7611">).&#160;In&#160;addition,&#160;we</p>
<p style="position:absolute;top:1059px;left:141px;white-space:nowrap" class="ft7611">specified&#160;an&#160;explicit&#160;list&#160;of&#160;allowed&#160;kernel&#160;modules&#160;(module&#160;white-listing).&#160;Once</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft7616">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 77 -->
<a name="77"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft7797{font-size:6px;font-family:Helvetica;color:#000000;}
-->
</style>
<div id="page77-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter077.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft7723">CHAPTER&#160;5.&#160;DEPENDABLE&#160;AND&#160;SECURE&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft7711">77</p>
<p style="position:absolute;top:341px;left:257px;white-space:nowrap" class="ft7797">0</p>
<p style="position:absolute;top:325px;left:251px;white-space:nowrap" class="ft7797">100</p>
<p style="position:absolute;top:309px;left:251px;white-space:nowrap" class="ft7797">200</p>
<p style="position:absolute;top:294px;left:251px;white-space:nowrap" class="ft7797">300</p>
<p style="position:absolute;top:278px;left:251px;white-space:nowrap" class="ft7797">400</p>
<p style="position:absolute;top:263px;left:251px;white-space:nowrap" class="ft7797">500</p>
<p style="position:absolute;top:247px;left:251px;white-space:nowrap" class="ft7797">600</p>
<p style="position:absolute;top:231px;left:251px;white-space:nowrap" class="ft7797">700</p>
<p style="position:absolute;top:215px;left:251px;white-space:nowrap" class="ft7797">800</p>
<p style="position:absolute;top:200px;left:251px;white-space:nowrap" class="ft7797">900</p>
<p style="position:absolute;top:350px;left:267px;white-space:nowrap" class="ft7797">No&#160;Lie&#160;Detection</p>
<p style="position:absolute;top:350px;left:317px;white-space:nowrap" class="ft7797">Lie&#160;Detection</p>
<p style="position:absolute;top:358px;left:321px;white-space:nowrap" class="ft7797">every&#160;30s</p>
<p style="position:absolute;top:350px;left:364px;white-space:nowrap" class="ft7797">Lie&#160;Detection</p>
<p style="position:absolute;top:358px;left:368px;white-space:nowrap" class="ft7797">every&#160;10s</p>
<p style="position:absolute;top:350px;left:410px;white-space:nowrap" class="ft7797">Lie&#160;Detection</p>
<p style="position:absolute;top:358px;left:413px;white-space:nowrap" class="ft7797">continously</p>
<p style="position:absolute;top:286px;left:245px;white-space:nowrap" class="ft7787"><b>R</b></p>
<p style="position:absolute;top:282px;left:245px;white-space:nowrap" class="ft7787"><b>e</b></p>
<p style="position:absolute;top:279px;left:245px;white-space:nowrap" class="ft7787"><b>q</b></p>
<p style="position:absolute;top:275px;left:245px;white-space:nowrap" class="ft7787"><b>u</b></p>
<p style="position:absolute;top:271px;left:245px;white-space:nowrap" class="ft7787"><b>e</b></p>
<p style="position:absolute;top:268px;left:245px;white-space:nowrap" class="ft7787"><b>s</b></p>
<p style="position:absolute;top:264px;left:245px;white-space:nowrap" class="ft7787"><b>ts</b></p>
<p style="position:absolute;top:259px;left:245px;white-space:nowrap" class="ft7787"><b>/s</b></p>
<p style="position:absolute;top:391px;left:273px;white-space:nowrap" class="ft7722">(a)&#160;Impact&#160;of&#160;Lie-Detector</p>
<p style="position:absolute;top:341px;left:508px;white-space:nowrap" class="ft7797">0</p>
<p style="position:absolute;top:323px;left:501px;white-space:nowrap" class="ft7797">100</p>
<p style="position:absolute;top:306px;left:501px;white-space:nowrap" class="ft7797">200</p>
<p style="position:absolute;top:288px;left:501px;white-space:nowrap" class="ft7797">300</p>
<p style="position:absolute;top:270px;left:501px;white-space:nowrap" class="ft7797">400</p>
<p style="position:absolute;top:253px;left:501px;white-space:nowrap" class="ft7797">500</p>
<p style="position:absolute;top:235px;left:501px;white-space:nowrap" class="ft7797">600</p>
<p style="position:absolute;top:217px;left:501px;white-space:nowrap" class="ft7797">700</p>
<p style="position:absolute;top:199px;left:501px;white-space:nowrap" class="ft7797">800</p>
<p style="position:absolute;top:350px;left:528px;white-space:nowrap" class="ft7797">Linux&#160;Native</p>
<p style="position:absolute;top:350px;left:574px;white-space:nowrap" class="ft7797">Linux&#160;Xen&#160;Unmodified</p>
<p style="position:absolute;top:350px;left:637px;white-space:nowrap" class="ft7797">Linux&#160;Xen&#160;w&#160;ith</p>
<p style="position:absolute;top:358px;left:640px;white-space:nowrap" class="ft7797">Event-Driven</p>
<p style="position:absolute;top:366px;left:645px;white-space:nowrap" class="ft7797">Detection</p>
<p style="position:absolute;top:286px;left:496px;white-space:nowrap" class="ft7787"><b>R</b></p>
<p style="position:absolute;top:282px;left:496px;white-space:nowrap" class="ft7787"><b>e</b></p>
<p style="position:absolute;top:278px;left:496px;white-space:nowrap" class="ft7787"><b>q</b></p>
<p style="position:absolute;top:275px;left:496px;white-space:nowrap" class="ft7787"><b>u</b></p>
<p style="position:absolute;top:271px;left:496px;white-space:nowrap" class="ft7787"><b>e</b></p>
<p style="position:absolute;top:268px;left:496px;white-space:nowrap" class="ft7787"><b>s</b></p>
<p style="position:absolute;top:264px;left:496px;white-space:nowrap" class="ft7787"><b>ts</b></p>
<p style="position:absolute;top:259px;left:496px;white-space:nowrap" class="ft7787"><b>/s</b></p>
<p style="position:absolute;top:391px;left:493px;white-space:nowrap" class="ft7722">(b)&#160;Impact&#160;of&#160;protective&#160;measures</p>
<p style="position:absolute;top:444px;left:213px;white-space:nowrap" class="ft7712">Figure&#160;5.2:&#160;Performance&#160;impact&#160;of&#160;X-Spy&#160;components:&#160;number&#160;of&#160;fulfilled&#160;re-<br/>quests&#160;per&#160;second&#160;in&#160;the&#160;HTTP&#160;benchmark.</p>
<p style="position:absolute;top:515px;left:213px;white-space:nowrap" class="ft7712">the&#160;rule&#160;set&#160;was&#160;active,&#160;it&#160;either&#160;generated&#160;security&#160;events&#160;with&#160;information&#160;about<br/>the&#160;offending&#160;processes&#160;in&#160;the&#160;PVM&#160;or&#160;successfully&#160;prevented&#160;the&#160;deletion&#160;or&#160;trun-<br/>cation&#160;of&#160;log-files&#160;and&#160;the&#160;modification&#160;of&#160;configuration&#160;and&#160;utility&#160;files.</p>
<p style="position:absolute;top:599px;left:213px;white-space:nowrap" class="ft7715"><b>Performance&#160;Impact</b></p>
<p style="position:absolute;top:631px;left:213px;white-space:nowrap" class="ft7764">To&#160;measure&#160;the&#160;performance&#160;impact&#160;of&#160;the&#160;Lie-Detector&#160;and&#160;the&#160;event-driven&#160;ap-<br/>proach,&#160;we&#160;used&#160;a&#160;single&#160;machine&#160;implementing&#160;a&#160;web&#160;server&#160;scenario.&#160;The&#160;PVM<br/>hosted&#160;an&#160;Apache&#160;web&#160;server,&#160;and&#160;multiple&#160;clients&#160;were&#160;simulated&#160;using&#160;the&#160;<i>ab<br/></i>performance&#160;benchmarking&#160;tool&#160;(see</p>
<p style="position:absolute;top:693px;left:466px;white-space:nowrap" class="ft7738"><a href="http://httpd.apache.org/docs/2.0/programs/ab.html">http://httpd.apache.org/docs/</a></p>
<p style="position:absolute;top:713px;left:213px;white-space:nowrap" class="ft7738"><a href="http://httpd.apache.org/docs/2.0/programs/ab.html">2.0/programs/ab.html</a></p>
<p style="position:absolute;top:712px;left:409px;white-space:nowrap" class="ft7711"><a href="http://httpd.apache.org/docs/2.0/programs/ab.html">)</a>.&#160;The&#160;networks&#160;were&#160;virtual&#160;and&#160;internal&#160;to&#160;this&#160;ma-</p>
<p style="position:absolute;top:732px;left:213px;white-space:nowrap" class="ft7711">chine.</p>
<p style="position:absolute;top:753px;left:238px;white-space:nowrap" class="ft7711">Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#77">5.2(a)&#160;</a>shows&#160;that&#160;the&#160;performance&#160;impact&#160;of&#160;the&#160;Lie-Detector&#160;depends</p>
<p style="position:absolute;top:773px;left:213px;white-space:nowrap" class="ft7712">on&#160;how&#160;often&#160;it&#160;is&#160;run.&#160;The&#160;overhead&#160;is&#160;roughly&#160;31%&#160;when&#160;it&#160;is&#160;running&#160;continu-<br/>ously,&#160;20%&#160;when&#160;it&#160;is&#160;run&#160;every&#160;10&#160;sec,&#160;and&#160;4%&#160;when&#160;it&#160;is&#160;run&#160;every&#160;30&#160;sec.</p>
<p style="position:absolute;top:814px;left:238px;white-space:nowrap" class="ft7711">Most&#160;practical&#160;applications&#160;will&#160;run&#160;infrequent&#160;scans.&#160;In&#160;this&#160;case,&#160;the&#160;perfor-</p>
<p style="position:absolute;top:834px;left:213px;white-space:nowrap" class="ft7712">mance&#160;impact&#160;of&#160;X-Spy&#160;is&#160;negligible,&#160;particularly&#160;when&#160;compared&#160;with&#160;the&#160;perfor-<br/>mance&#160;reduction&#160;of&#160;moving&#160;Linux&#160;into&#160;a&#160;VM.</p>
<p style="position:absolute;top:875px;left:238px;white-space:nowrap" class="ft7711">In&#160;a&#160;real-world&#160;setting,&#160;the&#160;frequency&#160;of&#160;“Lie&#160;Detection”&#160;should&#160;be&#160;chosen</p>
<p style="position:absolute;top:895px;left:213px;white-space:nowrap" class="ft7712">based&#160;on&#160;the&#160;expected&#160;time&#160;until&#160;an&#160;intrusion&#160;occurs&#160;and&#160;the&#160;expected&#160;time&#160;until<br/>such&#160;an&#160;intrusion&#160;is&#160;detected.&#160;The&#160;latter&#160;is&#160;an&#160;important&#160;factor&#160;because&#160;it&#160;denotes<br/>the&#160;critical&#160;time&#160;window&#160;between&#160;the&#160;intrusion&#160;and&#160;its&#160;detection&#160;when&#160;the&#160;PVM&#160;is<br/>at&#160;the&#160;mercy&#160;of&#160;the&#160;intruder,&#160;who&#160;can&#160;take&#160;arbitrary&#160;actions&#160;(such&#160;as&#160;installing&#160;a<br/>fake&#160;website&#160;or&#160;copying&#160;private&#160;information&#160;onto&#160;a&#160;different&#160;system).&#160;If&#160;the&#160;PVM<br/>runs&#160;a&#160;critical&#160;service&#160;in&#160;which&#160;the&#160;critical&#160;time&#160;window&#160;should&#160;be&#160;minimized,&#160;then<br/>the&#160;Lie-Detector&#160;should&#160;be&#160;run&#160;continuously.</p>
<p style="position:absolute;top:1037px;left:238px;white-space:nowrap" class="ft7711">As&#160;seen&#160;in&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#77">5.2(b),&#160;</a>the&#160;event-driven&#160;method&#160;results&#160;in&#160;a&#160;performance</p>
<p style="position:absolute;top:1058px;left:213px;white-space:nowrap" class="ft7711">loss&#160;of&#160;about&#160;4%.&#160;Compared&#160;with&#160;the&#160;34%&#160;overhead&#160;incurred&#160;by&#160;changing&#160;from</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft7716">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 78 -->
<a name="78"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft7898{font-size:16px;font-family:SVDGWY+CMEX10;color:#000000;}
	.ft7899{font-size:9px;font-family:ENVBCY+CMMI6;color:#000000;}
	.ft78100{font-size:12px;line-height:12px;font-family:QDAWOY+CMMI8;color:#000000;}
-->
</style>
<div id="page78-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter078.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft7811">78</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft7816">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft7812">a&#160;service&#160;running&#160;on&#160;a&#160;non-virtualized&#160;platform&#160;to&#160;that&#160;running&#160;on&#160;a&#160;Xen-based<br/>PVM,&#160;the&#160;loss&#160;incurred&#160;by&#160;the&#160;event-driven&#160;approach&#160;is&#160;minor.</p>
<p style="position:absolute;top:265px;left:141px;white-space:nowrap" class="ft7818"><b>5.5</b></p>
<p style="position:absolute;top:265px;left:189px;white-space:nowrap" class="ft7891"><b>Quantifying&#160;the&#160;Impact&#160;of&#160;Virtualization&#160;on&#160;Node&#160;Re-<br/>liability</b></p>
<p style="position:absolute;top:333px;left:141px;white-space:nowrap" class="ft7812">In&#160;this&#160;section,&#160;we&#160;use&#160;combinatorial&#160;modeling&#160;to&#160;perform&#160;a&#160;reliability&#160;analysis<br/>of&#160;redundant&#160;fault-tolerant&#160;designs&#160;involving&#160;virtualization&#160;on&#160;a&#160;single&#160;physical<br/>node&#160;and&#160;compare&#160;them&#160;with&#160;the&#160;non-virtualized&#160;case.&#160;The&#160;results&#160;of&#160;the&#160;analysis<br/>highlight&#160;the&#160;importance&#160;of&#160;improving&#160;the&#160;reliability&#160;of&#160;the&#160;hypervisor.</p>
<p style="position:absolute;top:414px;left:166px;white-space:nowrap" class="ft7811">We&#160;consider&#160;a&#160;model&#160;in&#160;which&#160;multiple&#160;VMs&#160;run&#160;concurrently&#160;on&#160;the&#160;same</p>
<p style="position:absolute;top:434px;left:141px;white-space:nowrap" class="ft7812">node&#160;and&#160;offer&#160;identical&#160;service.&#160;We&#160;derive&#160;lower&#160;bounds&#160;on&#160;the&#160;VMM&#160;reliability<br/>and&#160;the&#160;number&#160;of&#160;VMs&#160;required&#160;for&#160;the&#160;virtualized&#160;node&#160;in&#160;order&#160;to&#160;have&#160;better<br/>reliability&#160;than&#160;in&#160;the&#160;non-virtualized&#160;case.&#160;We&#160;also&#160;analyze&#160;the&#160;reliability&#160;impact<br/>of&#160;moving&#160;a&#160;functionality&#160;common&#160;to&#160;all&#160;VMs&#160;out&#160;of&#160;the&#160;VMs&#160;and&#160;into&#160;the&#160;VMM.<br/>In&#160;addition,&#160;we&#160;analyze&#160;the&#160;reliability&#160;of&#160;a&#160;redundant&#160;execution&#160;scheme&#160;that&#160;can<br/>tolerate&#160;the&#160;corruption&#160;of&#160;one&#160;out&#160;of&#160;three&#160;VMs&#160;running&#160;on&#160;the&#160;same&#160;physical&#160;host,<br/>and&#160;compare&#160;it&#160;with&#160;the&#160;non-virtualized&#160;case.&#160;Our&#160;results&#160;point&#160;to&#160;the&#160;need&#160;for<br/>careful&#160;modeling&#160;and&#160;analysis&#160;before&#160;a&#160;design&#160;based&#160;on&#160;virtualization&#160;is&#160;used.</p>
<p style="position:absolute;top:597px;left:166px;white-space:nowrap" class="ft7811">Combinatorial&#160;modeling&#160;and&#160;Markov&#160;modeling&#160;are&#160;the&#160;two&#160;main&#160;methods&#160;used</p>
<p style="position:absolute;top:617px;left:141px;white-space:nowrap" class="ft7812">for&#160;reliability&#160;assessment&#160;of&#160;fault-tolerant&#160;designs&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[Joh89]</a>.&#160;We&#160;chose&#160;combinatorial<br/>modeling&#160;because&#160;its&#160;simplicity&#160;enables&#160;easy&#160;elimination&#160;of&#160;“hopeless”&#160;choices&#160;in<br/>the&#160;early&#160;stage&#160;of&#160;the&#160;design&#160;process.&#160;In&#160;combinatorial&#160;modeling,&#160;a&#160;system&#160;consists<br/>of&#160;series&#160;and&#160;parallel&#160;combinations&#160;of&#160;modules.&#160;The&#160;assumption&#160;is&#160;that&#160;module<br/>failures&#160;are&#160;independent.&#160;In&#160;a&#160;real-world&#160;setting,&#160;where&#160;module&#160;failures&#160;may&#160;not&#160;be<br/>independent,&#160;the&#160;reliability&#160;value&#160;obtained&#160;using&#160;combinatorial&#160;modeling&#160;should&#160;be<br/>taken&#160;as&#160;an&#160;upper&#160;bound&#160;on&#160;the&#160;system&#160;reliability.</p>
<p style="position:absolute;top:760px;left:166px;white-space:nowrap" class="ft7815"><b>Non-Virtualized&#160;(NV)&#160;Node:&#160;</b>For&#160;our&#160;reliability&#160;assessment,&#160;we&#160;consider&#160;a</p>
<p style="position:absolute;top:780px;left:141px;white-space:nowrap" class="ft7812">non-virtualized&#160;single&#160;physical&#160;node&#160;as&#160;the&#160;base&#160;case.&#160;We&#160;model&#160;the&#160;node&#160;us-<br/>ing&#160;two&#160;modules:&#160;hardware&#160;(</p>
<p style="position:absolute;top:799px;left:334px;white-space:nowrap" class="ft7852">H</p>
<p style="position:absolute;top:800px;left:349px;white-space:nowrap" class="ft7811">)&#160;and&#160;the&#160;software&#160;machine&#160;(</p>
<p style="position:absolute;top:799px;left:541px;white-space:nowrap" class="ft7852">M</p>
<p style="position:absolute;top:800px;left:558px;white-space:nowrap" class="ft7811">)&#160;consisting&#160;of&#160;the</p>
<p style="position:absolute;top:821px;left:141px;white-space:nowrap" class="ft7812">operating&#160;system,&#160;middleware,&#160;and&#160;applications&#160;(Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#79">5.3(</a>a))&#160;.&#160;Thus,&#160;the&#160;node<br/>is&#160;a&#160;simple&#160;serial&#160;system&#160;consisting&#160;of</p>
<p style="position:absolute;top:840px;left:407px;white-space:nowrap" class="ft7852">H</p>
<p style="position:absolute;top:841px;left:428px;white-space:nowrap" class="ft7811">and</p>
<p style="position:absolute;top:840px;left:457px;white-space:nowrap" class="ft7852">M</p>
<p style="position:absolute;top:841px;left:475px;white-space:nowrap" class="ft7811">,&#160;whose&#160;reliability&#160;is&#160;given&#160;by</p>
<p style="position:absolute;top:860px;left:141px;white-space:nowrap" class="ft7852">R</p>
<p style="position:absolute;top:858px;left:154px;white-space:nowrap" class="ft7853">N&#160;V</p>
<p style="position:absolute;top:868px;left:153px;white-space:nowrap" class="ft7853">sys</p>
<p style="position:absolute;top:860px;left:180px;white-space:nowrap" class="ft7854">=</p>
<p style="position:absolute;top:860px;left:198px;white-space:nowrap" class="ft7852">R</p>
<p style="position:absolute;top:866px;left:210px;white-space:nowrap" class="ft7853">H</p>
<p style="position:absolute;top:860px;left:222px;white-space:nowrap" class="ft7852">R</p>
<p style="position:absolute;top:866px;left:235px;white-space:nowrap" class="ft7853">M</p>
<p style="position:absolute;top:861px;left:249px;white-space:nowrap" class="ft7811">,&#160;where</p>
<p style="position:absolute;top:860px;left:301px;white-space:nowrap" class="ft7852">R</p>
<p style="position:absolute;top:866px;left:313px;white-space:nowrap" class="ft7853">X</p>
<p style="position:absolute;top:861px;left:330px;white-space:nowrap" class="ft7811">denotes&#160;the&#160;reliability&#160;of&#160;module</p>
<p style="position:absolute;top:860px;left:546px;white-space:nowrap" class="ft7852">X</p>
<p style="position:absolute;top:861px;left:565px;white-space:nowrap" class="ft7811">(Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#79">5.3(</a>b)).</p>
<p style="position:absolute;top:881px;left:166px;white-space:nowrap" class="ft7815"><b>Virtualized&#160;Node&#160;with</b></p>
<p style="position:absolute;top:880px;left:325px;white-space:nowrap" class="ft7852">n</p>
<p style="position:absolute;top:881px;left:340px;white-space:nowrap" class="ft7815"><b>Independent,&#160;Identical&#160;VMs:&#160;</b>Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#79">5.4(</a>a)&#160;shows</p>
<p style="position:absolute;top:902px;left:141px;white-space:nowrap" class="ft7811">a&#160;physical&#160;node&#160;consisting&#160;of</p>
<p style="position:absolute;top:901px;left:347px;white-space:nowrap" class="ft7852">H</p>
<p style="position:absolute;top:902px;left:362px;white-space:nowrap" class="ft7811">,&#160;a&#160;type-1&#160;VMM&#160;(</p>
<p style="position:absolute;top:901px;left:488px;white-space:nowrap" class="ft7852">V</p>
<p style="position:absolute;top:902px;left:502px;white-space:nowrap" class="ft7811">)&#160;that&#160;runs&#160;directly&#160;on&#160;the</p>
<p style="position:absolute;top:922px;left:141px;white-space:nowrap" class="ft7812">hardware&#160;(such&#160;a&#160;VMM&#160;is&#160;referred&#160;to&#160;as&#160;a&#160;<i>hypervisor</i>),&#160;and&#160;one&#160;or&#160;more&#160;VMs<br/>(</p>
<p style="position:absolute;top:941px;left:146px;white-space:nowrap" class="ft7855">{</p>
<p style="position:absolute;top:941px;left:154px;white-space:nowrap" class="ft7852">M</p>
<p style="position:absolute;top:948px;left:170px;white-space:nowrap" class="ft7853">i</p>
<p style="position:absolute;top:941px;left:175px;white-space:nowrap" class="ft7855">}</p>
<p style="position:absolute;top:941px;left:184px;white-space:nowrap" class="ft7852">,&#160;i</p>
<p style="position:absolute;top:941px;left:201px;white-space:nowrap" class="ft7855">≥</p>
<p style="position:absolute;top:941px;left:218px;white-space:nowrap" class="ft7854">1</p>
<p style="position:absolute;top:942px;left:226px;white-space:nowrap" class="ft7811">).&#160;The&#160;VMs&#160;provide&#160;identical&#160;service&#160;concurrently&#160;and&#160;independently</p>
<p style="position:absolute;top:963px;left:141px;white-space:nowrap" class="ft7812">(i.e.,&#160;without&#160;the&#160;need&#160;for&#160;strong&#160;synchronization).&#160;For&#160;example,&#160;each&#160;VM&#160;could&#160;be<br/>a&#160;virtual&#160;server&#160;answering&#160;client&#160;requests&#160;for&#160;static&#160;web&#160;content.&#160;Thus,&#160;the&#160;node&#160;is&#160;a<br/>series-parallel&#160;system&#160;(Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#79">5.4(</a>b))&#160;whose&#160;overall&#160;reliability&#160;is&#160;given&#160;by</p>
<p style="position:absolute;top:1002px;left:629px;white-space:nowrap" class="ft7852">R</p>
<p style="position:absolute;top:1000px;left:642px;white-space:nowrap" class="ft7853">n</p>
<p style="position:absolute;top:1010px;left:642px;white-space:nowrap" class="ft7853">sys</p>
<p style="position:absolute;top:1002px;left:666px;white-space:nowrap" class="ft7854">=</p>
<p style="position:absolute;top:1023px;left:141px;white-space:nowrap" class="ft7852">R</p>
<p style="position:absolute;top:1029px;left:153px;white-space:nowrap" class="ft7853">H</p>
<p style="position:absolute;top:1023px;left:165px;white-space:nowrap" class="ft7852">R</p>
<p style="position:absolute;top:1029px;left:178px;white-space:nowrap" class="ft7853">V</p>
<p style="position:absolute;top:1023px;left:189px;white-space:nowrap" class="ft7854">[1</p>
<p style="position:absolute;top:1023px;left:202px;white-space:nowrap" class="ft7855">−</p>
<p style="position:absolute;top:1022px;left:216px;white-space:nowrap" class="ft7898">Q</p>
<p style="position:absolute;top:1019px;left:231px;white-space:nowrap" class="ft78100">n<br/>i</p>
<p style="position:absolute;top:1031px;left:236px;white-space:nowrap" class="ft7828">=0</p>
<p style="position:absolute;top:1023px;left:253px;white-space:nowrap" class="ft7854">(1</p>
<p style="position:absolute;top:1023px;left:268px;white-space:nowrap" class="ft7855">−</p>
<p style="position:absolute;top:1023px;left:282px;white-space:nowrap" class="ft7852">R</p>
<p style="position:absolute;top:1029px;left:294px;white-space:nowrap" class="ft7853">M</p>
<p style="position:absolute;top:1033px;left:307px;white-space:nowrap" class="ft7899">i</p>
<p style="position:absolute;top:1023px;left:312px;white-space:nowrap" class="ft7854">)]</p>
<p style="position:absolute;top:1024px;left:323px;white-space:nowrap" class="ft7811">.&#160;Here,&#160;we&#160;consider&#160;the&#160;reliability&#160;of&#160;the&#160;hardware&#160;to&#160;be</p>
<p style="position:absolute;top:1044px;left:141px;white-space:nowrap" class="ft7812">the&#160;same&#160;as&#160;that&#160;in&#160;the&#160;non-virtualized&#160;case&#160;because&#160;the&#160;underlying&#160;hardware&#160;is&#160;the<br/>same&#160;in&#160;both&#160;cases.&#160;An&#160;obvious&#160;concern&#160;is&#160;whether&#160;the&#160;hardware&#160;in&#160;the&#160;virtualized</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft7816">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 79 -->
<a name="79"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft79101{font-size:11px;font-family:Times;color:#000000;}
	.ft79102{font-size:13px;font-family:Times;color:#000000;}
	.ft79103{font-size:9px;font-family:Times;color:#000000;}
	.ft79104{font-size:6px;font-family:Times;color:#000000;}
-->
</style>
<div id="page79-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter079.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft7923">CHAPTER&#160;5.&#160;DEPENDABLE&#160;AND&#160;SECURE&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft7911">79</p>
<p style="position:absolute;top:280px;left:240px;white-space:nowrap" class="ft79101"><b>Hardware H</b></p>
<p style="position:absolute;top:208px;left:231px;white-space:nowrap" class="ft79101"><b>OS + Application</b></p>
<p style="position:absolute;top:232px;left:263px;white-space:nowrap" class="ft79101"><b>M</b></p>
<p style="position:absolute;top:315px;left:227px;white-space:nowrap" class="ft7922">(a)&#160;Architecture</p>
<p style="position:absolute;top:286px;left:378px;white-space:nowrap" class="ft79102"><b>H</b></p>
<p style="position:absolute;top:286px;left:429px;white-space:nowrap" class="ft79102"><b>M</b></p>
<p style="position:absolute;top:315px;left:340px;white-space:nowrap" class="ft7922">(b)&#160;Combinatorial&#160;Model</p>
<p style="position:absolute;top:351px;left:239px;white-space:nowrap" class="ft7911">Figure&#160;5.3:&#160;Non-virtualized&#160;node</p>
<p style="position:absolute;top:214px;left:540px;white-space:nowrap" class="ft79103"><b>. . .&#160;</b></p>
<p style="position:absolute;top:287px;left:522px;white-space:nowrap" class="ft79103"><b>Hardware H</b></p>
<p style="position:absolute;top:199px;left:559px;white-space:nowrap" class="ft79103"><b>Virtual</b></p>
<p style="position:absolute;top:214px;left:556px;white-space:nowrap" class="ft79103"><b>Machine</b></p>
<p style="position:absolute;top:228px;left:567px;white-space:nowrap" class="ft79103"><b>M</b></p>
<p style="position:absolute;top:230px;left:576px;white-space:nowrap" class="ft79104"><b>n</b></p>
<p style="position:absolute;top:199px;left:504px;white-space:nowrap" class="ft79103"><b>Virtual</b></p>
<p style="position:absolute;top:214px;left:500px;white-space:nowrap" class="ft79103"><b>Machine</b></p>
<p style="position:absolute;top:228px;left:511px;white-space:nowrap" class="ft79103"><b>M</b></p>
<p style="position:absolute;top:230px;left:520px;white-space:nowrap" class="ft79104"><b>1</b></p>
<p style="position:absolute;top:250px;left:516px;white-space:nowrap" class="ft79103"><b>Virtual Machine</b></p>
<p style="position:absolute;top:260px;left:525px;white-space:nowrap" class="ft79103"><b>Monitor V</b></p>
<p style="position:absolute;top:317px;left:501px;white-space:nowrap" class="ft7922">(a)&#160;Architecture</p>
<p style="position:absolute;top:297px;left:712px;white-space:nowrap" class="ft79104"><b>n</b></p>
<p style="position:absolute;top:293px;left:702px;white-space:nowrap" class="ft79103"><b>M</b></p>
<p style="position:absolute;top:253px;left:702px;white-space:nowrap" class="ft79103"><b>M</b></p>
<p style="position:absolute;top:264px;left:705px;white-space:nowrap" class="ft79103"><b>.</b></p>
<p style="position:absolute;top:270px;left:705px;white-space:nowrap" class="ft79103"><b>.</b></p>
<p style="position:absolute;top:276px;left:705px;white-space:nowrap" class="ft79103"><b>.</b></p>
<p style="position:absolute;top:273px;left:630px;white-space:nowrap" class="ft79103"><b>H</b></p>
<p style="position:absolute;top:273px;left:667px;white-space:nowrap" class="ft79103"><b>V</b></p>
<p style="position:absolute;top:257px;left:712px;white-space:nowrap" class="ft79104"><b>1</b></p>
<p style="position:absolute;top:317px;left:602px;white-space:nowrap" class="ft7922">(b)&#160;Combinatorial&#160;Model</p>
<p style="position:absolute;top:353px;left:521px;white-space:nowrap" class="ft7911">Figure&#160;5.4:&#160;Node&#160;with</p>
<p style="position:absolute;top:351px;left:671px;white-space:nowrap" class="ft7952">n</p>
<p style="position:absolute;top:353px;left:685px;white-space:nowrap" class="ft7911">VMs</p>
<p style="position:absolute;top:402px;left:213px;white-space:nowrap" class="ft7912">node&#160;will&#160;register&#160;a&#160;significant&#160;drop&#160;in&#160;reliability&#160;due&#160;to&#160;load/stress&#160;compared&#160;with<br/>the&#160;non-virtualized&#160;node.&#160;However,&#160;this&#160;concern&#160;does&#160;not&#160;apply&#160;to&#160;our&#160;context&#160;of<br/>application&#160;servers&#160;in&#160;a&#160;data&#160;center,&#160;in&#160;which&#160;typical&#160;hardware&#160;utilization&#160;in&#160;a&#160;non-<br/>virtualized&#160;node&#160;is&#160;abysmally&#160;low&#160;(less&#160;than&#160;5%)&#160;and</p>
<p style="position:absolute;top:462px;left:564px;white-space:nowrap" class="ft7952">n</p>
<p style="position:absolute;top:463px;left:578px;white-space:nowrap" class="ft7911">is&#160;typically&#160;in&#160;the&#160;low&#160;tens</p>
<p style="position:absolute;top:484px;left:213px;white-space:nowrap" class="ft7911">of&#160;VMs.</p>
<p style="position:absolute;top:504px;left:238px;white-space:nowrap" class="ft7911">The&#160;condition&#160;for&#160;the</p>
<p style="position:absolute;top:503px;left:388px;white-space:nowrap" class="ft7952">n</p>
<p style="position:absolute;top:504px;left:398px;white-space:nowrap" class="ft7911">-replicated&#160;service&#160;to&#160;be&#160;more&#160;reliable&#160;than&#160;the&#160;non-</p>
<p style="position:absolute;top:524px;left:213px;white-space:nowrap" class="ft7911">virtualized&#160;service&#160;is&#160;given&#160;by</p>
<p style="position:absolute;top:523px;left:413px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:521px;left:426px;white-space:nowrap" class="ft7953">n</p>
<p style="position:absolute;top:531px;left:426px;white-space:nowrap" class="ft7953">sys</p>
<p style="position:absolute;top:523px;left:449px;white-space:nowrap" class="ft7952">&gt;&#160;R</p>
<p style="position:absolute;top:521px;left:480px;white-space:nowrap" class="ft7953">N&#160;V</p>
<p style="position:absolute;top:531px;left:479px;white-space:nowrap" class="ft7953">sys</p>
<p style="position:absolute;top:524px;left:502px;white-space:nowrap" class="ft7911">.&#160;i.e.,</p>
<p style="position:absolute;top:523px;left:540px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:530px;left:552px;white-space:nowrap" class="ft7953">H</p>
<p style="position:absolute;top:523px;left:564px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:530px;left:577px;white-space:nowrap" class="ft7953">V</p>
<p style="position:absolute;top:523px;left:588px;white-space:nowrap" class="ft7954">[1</p>
<p style="position:absolute;top:523px;left:604px;white-space:nowrap" class="ft7955">−</p>
<p style="position:absolute;top:523px;left:621px;white-space:nowrap" class="ft7998">Q</p>
<p style="position:absolute;top:520px;left:636px;white-space:nowrap" class="ft79100">n<br/>i</p>
<p style="position:absolute;top:532px;left:640px;white-space:nowrap" class="ft7928">=0</p>
<p style="position:absolute;top:523px;left:657px;white-space:nowrap" class="ft7954">(1</p>
<p style="position:absolute;top:523px;left:676px;white-space:nowrap" class="ft7955">−</p>
<p style="position:absolute;top:523px;left:692px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:530px;left:705px;white-space:nowrap" class="ft7953">M</p>
<p style="position:absolute;top:534px;left:717px;white-space:nowrap" class="ft7999">i</p>
<p style="position:absolute;top:523px;left:722px;white-space:nowrap" class="ft7954">)]</p>
<p style="position:absolute;top:523px;left:738px;white-space:nowrap" class="ft7952">&gt;</p>
<p style="position:absolute;top:544px;left:213px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:550px;left:225px;white-space:nowrap" class="ft7953">H</p>
<p style="position:absolute;top:544px;left:237px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:550px;left:249px;white-space:nowrap" class="ft7953">M</p>
<p style="position:absolute;top:545px;left:264px;white-space:nowrap" class="ft7911">.&#160;For&#160;simplicity,&#160;let</p>
<p style="position:absolute;top:544px;left:399px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:550px;left:411px;white-space:nowrap" class="ft7953">M</p>
<p style="position:absolute;top:554px;left:423px;white-space:nowrap" class="ft7999">i</p>
<p style="position:absolute;top:544px;left:435px;white-space:nowrap" class="ft7954">=</p>
<p style="position:absolute;top:544px;left:454px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:550px;left:467px;white-space:nowrap" class="ft7953">M</p>
<p style="position:absolute;top:545px;left:486px;white-space:nowrap" class="ft7911">for&#160;all</p>
<p style="position:absolute;top:544px;left:532px;white-space:nowrap" class="ft7954">1</p>
<p style="position:absolute;top:544px;left:546px;white-space:nowrap" class="ft7955">≤</p>
<p style="position:absolute;top:544px;left:565px;white-space:nowrap" class="ft7952">i</p>
<p style="position:absolute;top:544px;left:577px;white-space:nowrap" class="ft7955">≤</p>
<p style="position:absolute;top:544px;left:596px;white-space:nowrap" class="ft7952">n</p>
<p style="position:absolute;top:545px;left:606px;white-space:nowrap" class="ft7911">.&#160;This&#160;is&#160;a&#160;reasonable</p>
<p style="position:absolute;top:565px;left:213px;white-space:nowrap" class="ft7911">assumption,&#160;as&#160;each&#160;VM&#160;has&#160;the&#160;same&#160;functionality&#160;as&#160;the&#160;software&#160;machine</p>
<p style="position:absolute;top:564px;left:716px;white-space:nowrap" class="ft7952">M</p>
<p style="position:absolute;top:565px;left:738px;white-space:nowrap" class="ft7911">in</p>
<p style="position:absolute;top:585px;left:213px;white-space:nowrap" class="ft7911">the&#160;non-virtualized&#160;case.&#160;Then,&#160;the&#160;above&#160;condition&#160;becomes</p>
<p style="position:absolute;top:625px;left:387px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:631px;left:399px;white-space:nowrap" class="ft7953">V</p>
<p style="position:absolute;top:625px;left:410px;white-space:nowrap" class="ft7954">[1</p>
<p style="position:absolute;top:625px;left:427px;white-space:nowrap" class="ft7955">−</p>
<p style="position:absolute;top:625px;left:443px;white-space:nowrap" class="ft7954">(1</p>
<p style="position:absolute;top:625px;left:461px;white-space:nowrap" class="ft7955">−</p>
<p style="position:absolute;top:625px;left:477px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:631px;left:490px;white-space:nowrap" class="ft7953">M</p>
<p style="position:absolute;top:625px;left:504px;white-space:nowrap" class="ft7954">)</p>
<p style="position:absolute;top:622px;left:510px;white-space:nowrap" class="ft7953">n</p>
<p style="position:absolute;top:625px;left:519px;white-space:nowrap" class="ft7954">]</p>
<p style="position:absolute;top:625px;left:528px;white-space:nowrap" class="ft7952">&gt;&#160;R</p>
<p style="position:absolute;top:631px;left:558px;white-space:nowrap" class="ft7953">M</p>
<p style="position:absolute;top:625px;left:572px;white-space:nowrap" class="ft7952">.</p>
<p style="position:absolute;top:626px;left:719px;white-space:nowrap" class="ft7911">(5.1)</p>
<p style="position:absolute;top:656px;left:238px;white-space:nowrap" class="ft7911">Inequality&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#79">(5.1)&#160;</a>immediately&#160;yields&#160;two&#160;conclusions.&#160;First,&#160;if</p>
<p style="position:absolute;top:655px;left:636px;white-space:nowrap" class="ft7952">n</p>
<p style="position:absolute;top:655px;left:650px;white-space:nowrap" class="ft7954">=&#160;1</p>
<p style="position:absolute;top:656px;left:676px;white-space:nowrap" class="ft7911">,&#160;then&#160;again</p>
<p style="position:absolute;top:676px;left:213px;white-space:nowrap" class="ft7911">the&#160;above&#160;condition&#160;does&#160;not&#160;hold&#160;(</p>
<p style="position:absolute;top:675px;left:439px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:682px;left:451px;white-space:nowrap" class="ft7953">V</p>
<p style="position:absolute;top:675px;left:467px;white-space:nowrap" class="ft7952">&lt;</p>
<p style="position:absolute;top:675px;left:484px;white-space:nowrap" class="ft7954">1</p>
<p style="position:absolute;top:676px;left:492px;white-space:nowrap" class="ft7911">).&#160;What&#160;this&#160;means&#160;is&#160;that&#160;it&#160;is&#160;necessary</p>
<p style="position:absolute;top:697px;left:213px;white-space:nowrap" class="ft7912">to&#160;have&#160;some&#160;additional&#160;coordination&#160;mechanism&#160;or&#160;protocol&#160;built&#160;into&#160;the&#160;system<br/>to&#160;compensate&#160;for&#160;the&#160;reliability&#160;lost&#160;by&#160;the&#160;introduction&#160;of&#160;the&#160;hypervisor.&#160;In&#160;the<br/>absence&#160;of&#160;such&#160;a&#160;mechanism/protocol,&#160;simply&#160;adding&#160;a&#160;hypervisor&#160;layer&#160;to&#160;a&#160;node<br/>will&#160;only&#160;decrease&#160;node&#160;reliability.&#160;Second,&#160;if</p>
<p style="position:absolute;top:757px;left:522px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:763px;left:534px;white-space:nowrap" class="ft7953">V</p>
<p style="position:absolute;top:757px;left:552px;white-space:nowrap" class="ft7954">=</p>
<p style="position:absolute;top:757px;left:570px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:763px;left:583px;white-space:nowrap" class="ft7953">M</p>
<p style="position:absolute;top:758px;left:597px;white-space:nowrap" class="ft7911">,&#160;then&#160;it&#160;is&#160;obvious&#160;that</p>
<p style="position:absolute;top:778px;left:213px;white-space:nowrap" class="ft7911">above&#160;condition&#160;does&#160;not&#160;hold.</p>
<p style="position:absolute;top:798px;left:238px;white-space:nowrap" class="ft7911">It&#160;is&#160;clear&#160;that&#160;the&#160;<i>hypervisor&#160;has&#160;to&#160;be&#160;more&#160;reliable&#160;than&#160;the&#160;individual&#160;VMs</i>.</p>
<p style="position:absolute;top:819px;left:213px;white-space:nowrap" class="ft7912">The&#160;interesting&#160;question&#160;is&#160;how&#160;much&#160;more&#160;reliable.&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#80">5.5&#160;</a>shows&#160;that&#160;for<br/>a&#160;fixed</p>
<p style="position:absolute;top:838px;left:263px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:844px;left:276px;white-space:nowrap" class="ft7953">M</p>
<p style="position:absolute;top:839px;left:296px;white-space:nowrap" class="ft7911">value,&#160;the&#160;hypervisor&#160;has&#160;to&#160;be&#160;more&#160;reliable&#160;when&#160;deploying&#160;fewer</p>
<p style="position:absolute;top:859px;left:213px;white-space:nowrap" class="ft7911">VMs.&#160;The&#160;graph&#160;also&#160;shows&#160;that,&#160;for&#160;fixed&#160;values&#160;of</p>
<p style="position:absolute;top:858px;left:570px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:864px;left:582px;white-space:nowrap" class="ft7953">M</p>
<p style="position:absolute;top:859px;left:601px;white-space:nowrap" class="ft7911">and</p>
<p style="position:absolute;top:858px;left:630px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:864px;left:643px;white-space:nowrap" class="ft7953">V</p>
<p style="position:absolute;top:859px;left:654px;white-space:nowrap" class="ft7911">,&#160;there&#160;exists&#160;a</p>
<p style="position:absolute;top:880px;left:213px;white-space:nowrap" class="ft7911">lower&#160;bound&#160;on</p>
<p style="position:absolute;top:878px;left:323px;white-space:nowrap" class="ft7952">n</p>
<p style="position:absolute;top:880px;left:339px;white-space:nowrap" class="ft7911">below&#160;which&#160;the&#160;virtualized&#160;node&#160;reliability&#160;will&#160;definitely&#160;be</p>
<p style="position:absolute;top:900px;left:213px;white-space:nowrap" class="ft7911">lower&#160;than&#160;that&#160;of&#160;a&#160;non-virtualized&#160;node.&#160;For&#160;example,&#160;when</p>
<p style="position:absolute;top:899px;left:628px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:905px;left:640px;white-space:nowrap" class="ft7953">M</p>
<p style="position:absolute;top:900px;left:659px;white-space:nowrap" class="ft7911">=&#160;0.1&#160;and</p>
<p style="position:absolute;top:899px;left:727px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:905px;left:740px;white-space:nowrap" class="ft7953">V</p>
<p style="position:absolute;top:920px;left:213px;white-space:nowrap" class="ft7912">=&#160;0.3,&#160;deploying&#160;fewer&#160;than&#160;4&#160;VMs&#160;would&#160;only&#160;lower&#160;the&#160;node&#160;reliability.&#160;This<br/>is&#160;a&#160;useful&#160;result,&#160;as&#160;in&#160;many&#160;practical&#160;settings,</p>
<p style="position:absolute;top:940px;left:527px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:946px;left:539px;white-space:nowrap" class="ft7953">M</p>
<p style="position:absolute;top:941px;left:558px;white-space:nowrap" class="ft7911">and</p>
<p style="position:absolute;top:940px;left:587px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:946px;left:599px;white-space:nowrap" class="ft7953">V</p>
<p style="position:absolute;top:941px;left:615px;white-space:nowrap" class="ft7911">values&#160;may&#160;be&#160;fixed,</p>
<p style="position:absolute;top:961px;left:213px;white-space:nowrap" class="ft7912">e.g.,&#160;when&#160;the&#160;hypervisor,&#160;guest&#160;OS,&#160;and&#160;application&#160;are&#160;commercial&#160;off-the-shelf<br/>(COTS)&#160;components&#160;with&#160;no&#160;source-code&#160;access.</p>
<p style="position:absolute;top:1001px;left:238px;white-space:nowrap" class="ft7911">The&#160;equation&#160;for</p>
<p style="position:absolute;top:1000px;left:356px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:998px;left:369px;white-space:nowrap" class="ft7953">n</p>
<p style="position:absolute;top:1008px;left:369px;white-space:nowrap" class="ft7953">sys</p>
<p style="position:absolute;top:1001px;left:394px;white-space:nowrap" class="ft7911">also&#160;suggests&#160;that&#160;by&#160;increasing&#160;the&#160;number&#160;of&#160;VMs,</p>
<p style="position:absolute;top:1022px;left:213px;white-space:nowrap" class="ft7912">the&#160;node&#160;reliability&#160;can&#160;be&#160;made&#160;as&#160;close&#160;to&#160;the&#160;hypervisor&#160;reliability&#160;as&#160;desired.<br/>Suppose&#160;we&#160;desire&#160;the&#160;node&#160;reliability&#160;to&#160;be</p>
<p style="position:absolute;top:1041px;left:520px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:1042px;left:533px;white-space:nowrap" class="ft7911">,&#160;where</p>
<p style="position:absolute;top:1041px;left:590px;white-space:nowrap" class="ft7952">R&#160;&lt;&#160;R</p>
<p style="position:absolute;top:1047px;left:645px;white-space:nowrap" class="ft7953">V</p>
<p style="position:absolute;top:1042px;left:656px;white-space:nowrap" class="ft7911">.&#160;Then,</p>
<p style="position:absolute;top:1041px;left:717px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:1041px;left:738px;white-space:nowrap" class="ft7954">=</p>
<p style="position:absolute;top:1061px;left:213px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:1068px;left:225px;white-space:nowrap" class="ft7953">H</p>
<p style="position:absolute;top:1061px;left:237px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:1068px;left:249px;white-space:nowrap" class="ft7953">V</p>
<p style="position:absolute;top:1061px;left:260px;white-space:nowrap" class="ft7954">[1</p>
<p style="position:absolute;top:1061px;left:275px;white-space:nowrap" class="ft7955">−</p>
<p style="position:absolute;top:1061px;left:289px;white-space:nowrap" class="ft7954">(1</p>
<p style="position:absolute;top:1061px;left:306px;white-space:nowrap" class="ft7955">−</p>
<p style="position:absolute;top:1061px;left:320px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:1068px;left:333px;white-space:nowrap" class="ft7953">M</p>
<p style="position:absolute;top:1061px;left:347px;white-space:nowrap" class="ft7954">)</p>
<p style="position:absolute;top:1059px;left:353px;white-space:nowrap" class="ft7953">n</p>
<p style="position:absolute;top:1061px;left:362px;white-space:nowrap" class="ft7954">]</p>
<p style="position:absolute;top:1062px;left:366px;white-space:nowrap" class="ft7911">.&#160;Assume&#160;that&#160;the&#160;hardware&#160;is&#160;highly&#160;reliable,&#160;i.e.,</p>
<p style="position:absolute;top:1061px;left:692px;white-space:nowrap" class="ft7952">R</p>
<p style="position:absolute;top:1068px;left:704px;white-space:nowrap" class="ft7953">H</p>
<p style="position:absolute;top:1061px;left:721px;white-space:nowrap" class="ft7955">≃</p>
<p style="position:absolute;top:1061px;left:738px;white-space:nowrap" class="ft7954">1</p>
<p style="position:absolute;top:1062px;left:746px;white-space:nowrap" class="ft7911">.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft7916">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 80 -->
<a name="80"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft80105{font-size:8px;font-family:Helvetica;color:#000000;-moz-transform: matrix(         0,         -1,          1,          0, 0, 0);-webkit-transform: matrix(         0,         -1,          1,          0, 0, 0);-o-transform: matrix(         0,         -1,          1,          0, 0, 0);-ms-transform: matrix(         0,         -1,          1,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft80106{font-size:6px;font-family:Helvetica;color:#000000;-moz-transform: matrix(         0,         -1,          1,          0, 0, 0);-webkit-transform: matrix(         0,         -1,          1,          0, 0, 0);-o-transform: matrix(         0,         -1,          1,          0, 0, 0);-ms-transform: matrix(         0,         -1,          1,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft80107{font-size:9px;font-family:CNTUYP+CMSY6;color:#000000;}
	.ft80108{font-size:8px;line-height:8px;font-family:Helvetica;color:#000000;}
-->
</style>
<div id="page80-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter080.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft8011">80</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft8016">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:344px;left:172px;white-space:nowrap" class="ft8050">&#160;0.1</p>
<p style="position:absolute;top:329px;left:172px;white-space:nowrap" class="ft8050">&#160;0.2</p>
<p style="position:absolute;top:314px;left:172px;white-space:nowrap" class="ft8050">&#160;0.3</p>
<p style="position:absolute;top:299px;left:172px;white-space:nowrap" class="ft8050">&#160;0.4</p>
<p style="position:absolute;top:284px;left:172px;white-space:nowrap" class="ft8050">&#160;0.5</p>
<p style="position:absolute;top:269px;left:172px;white-space:nowrap" class="ft8050">&#160;0.6</p>
<p style="position:absolute;top:253px;left:172px;white-space:nowrap" class="ft8050">&#160;0.7</p>
<p style="position:absolute;top:238px;left:172px;white-space:nowrap" class="ft8050">&#160;0.8</p>
<p style="position:absolute;top:223px;left:172px;white-space:nowrap" class="ft8050">&#160;0.9</p>
<p style="position:absolute;top:208px;left:179px;white-space:nowrap" class="ft8050">&#160;1</p>
<p style="position:absolute;top:352px;left:183px;white-space:nowrap" class="ft8050">&#160;0.1&#160;&#160;0.2&#160;&#160;0.3&#160;&#160;0.4&#160;&#160;0.5&#160;&#160;0.6&#160;&#160;0.7&#160;&#160;0.8&#160;&#160;0.9</p>
<p style="position:absolute;top:352px;left:366px;white-space:nowrap" class="ft8050">&#160;1</p>
<p style="position:absolute;top:322px;left:152px;white-space:nowrap" class="ft80105">Lower Bound on Reliability&#160;</p>
<p style="position:absolute;top:307px;left:159px;white-space:nowrap" class="ft80105">&#160;of Hypervisor (R</p>
<p style="position:absolute;top:248px;left:161px;white-space:nowrap" class="ft80106">V</p>
<p style="position:absolute;top:242px;left:159px;white-space:nowrap" class="ft80105">)</p>
<p style="position:absolute;top:363px;left:220px;white-space:nowrap" class="ft8050">Reliability of Virtual Machine (R</p>
<p style="position:absolute;top:367px;left:332px;white-space:nowrap" class="ft8097">M</p>
<p style="position:absolute;top:363px;left:337px;white-space:nowrap" class="ft8050">)</p>
<p style="position:absolute;top:214px;left:201px;white-space:nowrap" class="ft80108">n=2<br/>n=3<br/>n=4<br/>n=8</p>
<p style="position:absolute;top:247px;left:196px;white-space:nowrap" class="ft80108">n=16<br/>n=32</p>
<p style="position:absolute;top:395px;left:141px;white-space:nowrap" class="ft8011">Figure&#160;5.5:</p>
<p style="position:absolute;top:395px;left:234px;white-space:nowrap" class="ft8011">Lower&#160;bound&#160;on&#160;the</p>
<p style="position:absolute;top:416px;left:141px;white-space:nowrap" class="ft8012">hypervisor&#160;reliability&#160;for&#160;a&#160;physical<br/>node&#160;with</p>
<p style="position:absolute;top:435px;left:217px;white-space:nowrap" class="ft8052">n</p>
<p style="position:absolute;top:436px;left:235px;white-space:nowrap" class="ft8011">independent&#160;and&#160;con-</p>
<p style="position:absolute;top:456px;left:141px;white-space:nowrap" class="ft8012">currently&#160;operating&#160;VMs&#160;providing<br/>identical&#160;service.</p>
<p style="position:absolute;top:332px;left:461px;white-space:nowrap" class="ft8050">&#160;0</p>
<p style="position:absolute;top:313px;left:457px;white-space:nowrap" class="ft8050">&#160;10</p>
<p style="position:absolute;top:294px;left:457px;white-space:nowrap" class="ft8050">&#160;20</p>
<p style="position:absolute;top:274px;left:457px;white-space:nowrap" class="ft8050">&#160;30</p>
<p style="position:absolute;top:255px;left:457px;white-space:nowrap" class="ft8050">&#160;40</p>
<p style="position:absolute;top:236px;left:457px;white-space:nowrap" class="ft8050">&#160;50</p>
<p style="position:absolute;top:216px;left:457px;white-space:nowrap" class="ft8050">&#160;60</p>
<p style="position:absolute;top:197px;left:457px;white-space:nowrap" class="ft8050">&#160;70</p>
<p style="position:absolute;top:341px;left:466px;white-space:nowrap" class="ft8050">&#160;0.1</p>
<p style="position:absolute;top:341px;left:488px;white-space:nowrap" class="ft8050">&#160;0.2</p>
<p style="position:absolute;top:341px;left:509px;white-space:nowrap" class="ft8050">&#160;0.3</p>
<p style="position:absolute;top:341px;left:530px;white-space:nowrap" class="ft8050">&#160;0.4</p>
<p style="position:absolute;top:341px;left:552px;white-space:nowrap" class="ft8050">&#160;0.5</p>
<p style="position:absolute;top:341px;left:573px;white-space:nowrap" class="ft8050">&#160;0.6</p>
<p style="position:absolute;top:341px;left:594px;white-space:nowrap" class="ft8050">&#160;0.7</p>
<p style="position:absolute;top:341px;left:616px;white-space:nowrap" class="ft8050">&#160;0.8</p>
<p style="position:absolute;top:341px;left:637px;white-space:nowrap" class="ft8050">&#160;0.9</p>
<p style="position:absolute;top:341px;left:662px;white-space:nowrap" class="ft8050">&#160;1</p>
<p style="position:absolute;top:327px;left:447px;white-space:nowrap" class="ft80105">Lower Bound on Number of VMs (n)</p>
<p style="position:absolute;top:352px;left:509px;white-space:nowrap" class="ft8050">Reliability of Virtual Machine (R</p>
<p style="position:absolute;top:355px;left:621px;white-space:nowrap" class="ft8097">M</p>
<p style="position:absolute;top:352px;left:626px;white-space:nowrap" class="ft8050">)</p>
<p style="position:absolute;top:203px;left:598px;white-space:nowrap" class="ft8050">R = 0.98</p>
<p style="position:absolute;top:211px;left:594px;white-space:nowrap" class="ft8050">R = 0.998</p>
<p style="position:absolute;top:384px;left:437px;white-space:nowrap" class="ft8012">Figure&#160;5.6:&#160;Lower&#160;bound&#160;on&#160;the&#160;num-<br/>ber&#160;of&#160;VMs&#160;to&#160;achieve&#160;desired&#160;relia-<br/>bility</p>
<p style="position:absolute;top:423px;left:478px;white-space:nowrap" class="ft8052">R</p>
<p style="position:absolute;top:425px;left:496px;white-space:nowrap" class="ft8011">for&#160;a&#160;physical&#160;node&#160;with</p>
<p style="position:absolute;top:423px;left:669px;white-space:nowrap" class="ft8052">n</p>
<p style="position:absolute;top:445px;left:437px;white-space:nowrap" class="ft8012">independent&#160;and&#160;concurrently&#160;operat-<br/>ing&#160;VMs&#160;providing&#160;identical&#160;service<br/>when</p>
<p style="position:absolute;top:484px;left:476px;white-space:nowrap" class="ft8052">R</p>
<p style="position:absolute;top:491px;left:489px;white-space:nowrap" class="ft8053">V</p>
<p style="position:absolute;top:484px;left:504px;white-space:nowrap" class="ft8054">=&#160;0</p>
<p style="position:absolute;top:484px;left:530px;white-space:nowrap" class="ft8052">.</p>
<p style="position:absolute;top:484px;left:534px;white-space:nowrap" class="ft8054">999</p>
<p style="position:absolute;top:486px;left:558px;white-space:nowrap" class="ft8011">.</p>
<p style="position:absolute;top:532px;left:141px;white-space:nowrap" class="ft8011">Then,&#160;the&#160;above&#160;equation&#160;becomes&#160;the&#160;inequality,</p>
<p style="position:absolute;top:552px;left:166px;white-space:nowrap" class="ft8052">R&#160;&lt;&#160;R</p>
<p style="position:absolute;top:558px;left:213px;white-space:nowrap" class="ft8053">V</p>
<p style="position:absolute;top:552px;left:224px;white-space:nowrap" class="ft8054">[1</p>
<p style="position:absolute;top:552px;left:240px;white-space:nowrap" class="ft8055">−</p>
<p style="position:absolute;top:552px;left:257px;white-space:nowrap" class="ft8054">(1</p>
<p style="position:absolute;top:552px;left:275px;white-space:nowrap" class="ft8055">−</p>
<p style="position:absolute;top:552px;left:291px;white-space:nowrap" class="ft8052">R</p>
<p style="position:absolute;top:558px;left:304px;white-space:nowrap" class="ft8053">M</p>
<p style="position:absolute;top:552px;left:318px;white-space:nowrap" class="ft8054">)</p>
<p style="position:absolute;top:549px;left:324px;white-space:nowrap" class="ft8053">n</p>
<p style="position:absolute;top:552px;left:333px;white-space:nowrap" class="ft8054">]</p>
<p style="position:absolute;top:572px;left:141px;white-space:nowrap" class="ft8054">=</p>
<p style="position:absolute;top:572px;left:151px;white-space:nowrap" class="ft8055">⇒</p>
<p style="position:absolute;top:572px;left:171px;white-space:nowrap" class="ft8054">(1</p>
<p style="position:absolute;top:572px;left:190px;white-space:nowrap" class="ft8055">−</p>
<p style="position:absolute;top:572px;left:206px;white-space:nowrap" class="ft8052">R</p>
<p style="position:absolute;top:578px;left:218px;white-space:nowrap" class="ft8053">M</p>
<p style="position:absolute;top:572px;left:233px;white-space:nowrap" class="ft8054">)</p>
<p style="position:absolute;top:570px;left:239px;white-space:nowrap" class="ft8053">n</p>
<p style="position:absolute;top:572px;left:252px;white-space:nowrap" class="ft8052">&lt;</p>
<p style="position:absolute;top:572px;left:269px;white-space:nowrap" class="ft8054">1</p>
<p style="position:absolute;top:572px;left:281px;white-space:nowrap" class="ft8055">−</p>
<p style="position:absolute;top:569px;left:304px;white-space:nowrap" class="ft8053">R</p>
<p style="position:absolute;top:581px;left:299px;white-space:nowrap" class="ft8053">R</p>
<p style="position:absolute;top:586px;left:309px;white-space:nowrap" class="ft8099">V</p>
<p style="position:absolute;top:596px;left:141px;white-space:nowrap" class="ft8054">=</p>
<p style="position:absolute;top:596px;left:151px;white-space:nowrap" class="ft8055">⇒</p>
<p style="position:absolute;top:596px;left:172px;white-space:nowrap" class="ft8052">n.</p>
<p style="position:absolute;top:596px;left:189px;white-space:nowrap" class="ft8054">log(1</p>
<p style="position:absolute;top:596px;left:228px;white-space:nowrap" class="ft8055">−</p>
<p style="position:absolute;top:596px;left:245px;white-space:nowrap" class="ft8052">R</p>
<p style="position:absolute;top:602px;left:257px;white-space:nowrap" class="ft8053">M</p>
<p style="position:absolute;top:596px;left:271px;white-space:nowrap" class="ft8054">)</p>
<p style="position:absolute;top:596px;left:282px;white-space:nowrap" class="ft8052">&lt;</p>
<p style="position:absolute;top:596px;left:299px;white-space:nowrap" class="ft8054">log(1</p>
<p style="position:absolute;top:596px;left:339px;white-space:nowrap" class="ft8055">−</p>
<p style="position:absolute;top:593px;left:362px;white-space:nowrap" class="ft8053">R</p>
<p style="position:absolute;top:605px;left:357px;white-space:nowrap" class="ft8053">R</p>
<p style="position:absolute;top:609px;left:366px;white-space:nowrap" class="ft8099">V</p>
<p style="position:absolute;top:596px;left:378px;white-space:nowrap" class="ft8054">)</p>
<p style="position:absolute;top:617px;left:141px;white-space:nowrap" class="ft8011">Dividing&#160;by</p>
<p style="position:absolute;top:616px;left:223px;white-space:nowrap" class="ft8054">log(1</p>
<p style="position:absolute;top:616px;left:262px;white-space:nowrap" class="ft8055">−</p>
<p style="position:absolute;top:616px;left:279px;white-space:nowrap" class="ft8052">R</p>
<p style="position:absolute;top:622px;left:291px;white-space:nowrap" class="ft8053">M</p>
<p style="position:absolute;top:616px;left:305px;white-space:nowrap" class="ft8054">)</p>
<p style="position:absolute;top:617px;left:312px;white-space:nowrap" class="ft8011">,&#160;a&#160;negative&#160;number,&#160;we&#160;obtain,</p>
<p style="position:absolute;top:666px;left:346px;white-space:nowrap" class="ft8052">n&#160;&gt;</p>
<p style="position:absolute;top:652px;left:381px;white-space:nowrap" class="ft8054">log(1</p>
<p style="position:absolute;top:652px;left:420px;white-space:nowrap" class="ft8055">−</p>
<p style="position:absolute;top:650px;left:443px;white-space:nowrap" class="ft8053">R</p>
<p style="position:absolute;top:662px;left:438px;white-space:nowrap" class="ft8053">R</p>
<p style="position:absolute;top:666px;left:448px;white-space:nowrap" class="ft8099">V</p>
<p style="position:absolute;top:652px;left:460px;white-space:nowrap" class="ft8054">)</p>
<p style="position:absolute;top:678px;left:379px;white-space:nowrap" class="ft8054">log(1</p>
<p style="position:absolute;top:678px;left:418px;white-space:nowrap" class="ft8055">−</p>
<p style="position:absolute;top:678px;left:435px;white-space:nowrap" class="ft8052">R</p>
<p style="position:absolute;top:684px;left:447px;white-space:nowrap" class="ft8053">M</p>
<p style="position:absolute;top:678px;left:461px;white-space:nowrap" class="ft8054">)</p>
<p style="position:absolute;top:666px;left:470px;white-space:nowrap" class="ft8052">.</p>
<p style="position:absolute;top:668px;left:647px;white-space:nowrap" class="ft8011">(5.2)</p>
<p style="position:absolute;top:704px;left:166px;white-space:nowrap" class="ft8011">Inequality&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#80">(5.2)&#160;</a>gives&#160;a&#160;lower&#160;bound&#160;on&#160;the&#160;number&#160;of&#160;VMs&#160;required&#160;for&#160;a</p>
<p style="position:absolute;top:724px;left:141px;white-space:nowrap" class="ft8012">virtualized&#160;physical&#160;node&#160;to&#160;meet&#160;a&#160;given&#160;reliability&#160;requirement.&#160;In&#160;practice,&#160;the<br/>number&#160;of&#160;VMs&#160;that&#160;can&#160;be&#160;hosted&#160;on&#160;a&#160;physical&#160;node&#160;is&#160;ultimately&#160;limited&#160;by&#160;the<br/>resources&#160;available&#160;on&#160;that&#160;node.&#160;Comparing&#160;the&#160;lower&#160;bound&#160;with&#160;the&#160;number&#160;of<br/>VMs&#160;that&#160;can&#160;possibly&#160;be&#160;co-hosted&#160;provides&#160;an&#160;easy&#160;way&#160;of&#160;eliminating&#160;certain<br/>choices&#160;early&#160;in&#160;the&#160;design&#160;process.</p>
<p style="position:absolute;top:826px;left:166px;white-space:nowrap" class="ft8011">Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#80">5.6&#160;</a>shows&#160;the&#160;lower&#160;bound&#160;for</p>
<p style="position:absolute;top:824px;left:422px;white-space:nowrap" class="ft8052">n</p>
<p style="position:absolute;top:826px;left:437px;white-space:nowrap" class="ft8011">for&#160;two&#160;different</p>
<p style="position:absolute;top:824px;left:552px;white-space:nowrap" class="ft8052">R</p>
<p style="position:absolute;top:826px;left:570px;white-space:nowrap" class="ft8011">values&#160;(0.98&#160;and</p>
<p style="position:absolute;top:846px;left:141px;white-space:nowrap" class="ft8011">0.998)&#160;as&#160;the&#160;VM&#160;reliability&#160;(</p>
<p style="position:absolute;top:845px;left:338px;white-space:nowrap" class="ft8052">R</p>
<p style="position:absolute;top:851px;left:350px;white-space:nowrap" class="ft8053">M</p>
<p style="position:absolute;top:846px;left:365px;white-space:nowrap" class="ft8011">)&#160;is&#160;increased&#160;from&#160;roughly&#160;0.1&#160;to&#160;1.0,&#160;with&#160;the</p>
<p style="position:absolute;top:866px;left:141px;white-space:nowrap" class="ft8011">hypervisor&#160;reliability&#160;fixed&#160;at</p>
<p style="position:absolute;top:865px;left:338px;white-space:nowrap" class="ft8054">0</p>
<p style="position:absolute;top:865px;left:346px;white-space:nowrap" class="ft8052">.</p>
<p style="position:absolute;top:865px;left:350px;white-space:nowrap" class="ft8054">999</p>
<p style="position:absolute;top:866px;left:375px;white-space:nowrap" class="ft8011">.&#160;The&#160;figure&#160;shows&#160;that&#160;for&#160;fixed</p>
<p style="position:absolute;top:865px;left:596px;white-space:nowrap" class="ft8052">R</p>
<p style="position:absolute;top:871px;left:608px;white-space:nowrap" class="ft8053">V</p>
<p style="position:absolute;top:866px;left:624px;white-space:nowrap" class="ft8011">and</p>
<p style="position:absolute;top:865px;left:652px;white-space:nowrap" class="ft8052">R</p>
<p style="position:absolute;top:871px;left:665px;white-space:nowrap" class="ft8053">M</p>
<p style="position:absolute;top:887px;left:141px;white-space:nowrap" class="ft8011">values,&#160;a&#160;higher&#160;system&#160;reliability&#160;(up&#160;to</p>
<p style="position:absolute;top:886px;left:418px;white-space:nowrap" class="ft8052">R</p>
<p style="position:absolute;top:892px;left:431px;white-space:nowrap" class="ft8053">V</p>
<p style="position:absolute;top:887px;left:442px;white-space:nowrap" class="ft8011">)&#160;can&#160;be&#160;obtained&#160;by&#160;increasing&#160;the</p>
<p style="position:absolute;top:907px;left:141px;white-space:nowrap" class="ft8011">number&#160;of&#160;VMs&#160;hosted.&#160;However,&#160;when</p>
<p style="position:absolute;top:906px;left:411px;white-space:nowrap" class="ft8052">n</p>
<p style="position:absolute;top:907px;left:425px;white-space:nowrap" class="ft8011">is&#160;large,&#160;one&#160;is&#160;faced&#160;with&#160;the&#160;practical</p>
<p style="position:absolute;top:927px;left:141px;white-space:nowrap" class="ft8012">difficulty&#160;of&#160;obtaining&#160;sufficient&#160;diversity&#160;to&#160;ensure&#160;that&#160;VM&#160;failures&#160;are&#160;indepen-<br/>dent.</p>
<p style="position:absolute;top:968px;left:166px;white-space:nowrap" class="ft8015"><b>Moving&#160;Functionality&#160;out&#160;of&#160;the&#160;VMs&#160;into&#160;the&#160;Hypervisor:&#160;</b>We&#160;now&#160;ana-</p>
<p style="position:absolute;top:988px;left:141px;white-space:nowrap" class="ft8012">lyze&#160;the&#160;reliability&#160;impact&#160;of&#160;moving&#160;a&#160;functionality&#160;out&#160;of&#160;the&#160;VMs&#160;and&#160;into&#160;the<br/>hypervisor.&#160;As&#160;before,&#160;our&#160;system&#160;model&#160;is&#160;one&#160;in&#160;which&#160;a&#160;physical&#160;node&#160;has</p>
<p style="position:absolute;top:1028px;left:141px;white-space:nowrap" class="ft8052">n</p>
<p style="position:absolute;top:1028px;left:157px;white-space:nowrap" class="ft8055">≥</p>
<p style="position:absolute;top:1028px;left:177px;white-space:nowrap" class="ft8054">1</p>
<p style="position:absolute;top:1029px;left:191px;white-space:nowrap" class="ft8011">independent&#160;and&#160;concurrently&#160;operating&#160;VMs&#160;providing&#160;identical&#160;service.</p>
<p style="position:absolute;top:1049px;left:141px;white-space:nowrap" class="ft8011">Consider&#160;a&#160;functionality</p>
<p style="position:absolute;top:1048px;left:305px;white-space:nowrap" class="ft8052">f</p>
<p style="position:absolute;top:1049px;left:319px;white-space:nowrap" class="ft8011">implemented&#160;inside&#160;each&#160;VM.&#160;Then,&#160;each&#160;VM</p>
<p style="position:absolute;top:1048px;left:631px;white-space:nowrap" class="ft8052">M</p>
<p style="position:absolute;top:1054px;left:646px;white-space:nowrap" class="ft8053">i</p>
<p style="position:absolute;top:1049px;left:656px;white-space:nowrap" class="ft8011">can</p>
<p style="position:absolute;top:1069px;left:141px;white-space:nowrap" class="ft8011">be&#160;divided&#160;into&#160;two&#160;components,</p>
<p style="position:absolute;top:1068px;left:361px;white-space:nowrap" class="ft8052">f</p>
<p style="position:absolute;top:1069px;left:375px;white-space:nowrap" class="ft8011">and</p>
<p style="position:absolute;top:1068px;left:404px;white-space:nowrap" class="ft8052">M</p>
<p style="position:absolute;top:1066px;left:421px;white-space:nowrap" class="ft80107">′</p>
<p style="position:absolute;top:1077px;left:419px;white-space:nowrap" class="ft8053">i</p>
<p style="position:absolute;top:1069px;left:426px;white-space:nowrap" class="ft8011">,&#160;the&#160;latter&#160;representing&#160;the&#160;rest&#160;of</p>
<p style="position:absolute;top:1068px;left:654px;white-space:nowrap" class="ft8052">M</p>
<p style="position:absolute;top:1075px;left:670px;white-space:nowrap" class="ft8053">i</p>
<p style="position:absolute;top:1069px;left:675px;white-space:nowrap" class="ft8011">.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft8016">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 81 -->
<a name="81"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft81109{font-size:8px;font-family:Times;color:#000000;}
	.ft81110{font-size:12px;font-family:Times;color:#000000;}
	.ft81111{font-size:13px;font-family:KVKECV+CMMI9;color:#000000;}
	.ft81112{font-size:9px;font-family:IQOCZL+CMR6;color:#000000;}
-->
</style>
<div id="page81-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter081.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft8123">CHAPTER&#160;5.&#160;DEPENDABLE&#160;AND&#160;SECURE&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft8111">81</p>
<p style="position:absolute;top:197px;left:428px;white-space:nowrap" class="ft81109"><b>’</b></p>
<p style="position:absolute;top:201px;left:416px;white-space:nowrap" class="ft81110"><b>M</b></p>
<p style="position:absolute;top:206px;left:428px;white-space:nowrap" class="ft81109"><b>1</b></p>
<p style="position:absolute;top:215px;left:404px;white-space:nowrap" class="ft81110"><b>.</b></p>
<p style="position:absolute;top:221px;left:404px;white-space:nowrap" class="ft81110"><b>.</b></p>
<p style="position:absolute;top:228px;left:404px;white-space:nowrap" class="ft81110"><b>.</b></p>
<p style="position:absolute;top:228px;left:286px;white-space:nowrap" class="ft81110"><b>H</b></p>
<p style="position:absolute;top:228px;left:336px;white-space:nowrap" class="ft81110"><b>V</b></p>
<p style="position:absolute;top:254px;left:387px;white-space:nowrap" class="ft81110"><b>f</b></p>
<p style="position:absolute;top:201px;left:387px;white-space:nowrap" class="ft81110"><b>f</b></p>
<p style="position:absolute;top:254px;left:416px;white-space:nowrap" class="ft81110"><b>M</b></p>
<p style="position:absolute;top:259px;left:428px;white-space:nowrap" class="ft81109"><b>n</b></p>
<p style="position:absolute;top:251px;left:428px;white-space:nowrap" class="ft81109"><b>’</b></p>
<p style="position:absolute;top:283px;left:241px;white-space:nowrap" class="ft8122">(a)&#160;Configuration</p>
<p style="position:absolute;top:282px;left:345px;white-space:nowrap" class="ft81111">C</p>
<p style="position:absolute;top:287px;left:355px;white-space:nowrap" class="ft81112">1</p>
<p style="position:absolute;top:283px;left:361px;white-space:nowrap" class="ft8122">:&#160;Functionality</p>
<p style="position:absolute;top:282px;left:456px;white-space:nowrap" class="ft81111">f</p>
<p style="position:absolute;top:299px;left:241px;white-space:nowrap" class="ft8122">implemented&#160;within&#160;each&#160;VM</p>
<p style="position:absolute;top:197px;left:687px;white-space:nowrap" class="ft81109"><b>’</b></p>
<p style="position:absolute;top:201px;left:675px;white-space:nowrap" class="ft81110"><b>M</b></p>
<p style="position:absolute;top:206px;left:687px;white-space:nowrap" class="ft81109"><b>1</b></p>
<p style="position:absolute;top:215px;left:679px;white-space:nowrap" class="ft81110"><b>.</b></p>
<p style="position:absolute;top:221px;left:679px;white-space:nowrap" class="ft81110"><b>.</b></p>
<p style="position:absolute;top:228px;left:679px;white-space:nowrap" class="ft81110"><b>.</b></p>
<p style="position:absolute;top:228px;left:545px;white-space:nowrap" class="ft81110"><b>H</b></p>
<p style="position:absolute;top:228px;left:594px;white-space:nowrap" class="ft81110"><b>V</b></p>
<p style="position:absolute;top:254px;left:675px;white-space:nowrap" class="ft81110"><b>M</b></p>
<p style="position:absolute;top:259px;left:687px;white-space:nowrap" class="ft81109"><b>n</b></p>
<p style="position:absolute;top:228px;left:629px;white-space:nowrap" class="ft81110"><b>F</b></p>
<p style="position:absolute;top:251px;left:687px;white-space:nowrap" class="ft81109"><b>’</b></p>
<p style="position:absolute;top:283px;left:499px;white-space:nowrap" class="ft8122">(b)&#160;Configuration</p>
<p style="position:absolute;top:282px;left:603px;white-space:nowrap" class="ft81111">C</p>
<p style="position:absolute;top:287px;left:613px;white-space:nowrap" class="ft81112">2</p>
<p style="position:absolute;top:283px;left:619px;white-space:nowrap" class="ft8122">:&#160;Functionality</p>
<p style="position:absolute;top:282px;left:712px;white-space:nowrap" class="ft81111">F</p>
<p style="position:absolute;top:299px;left:499px;white-space:nowrap" class="ft8122">implemented&#160;as&#160;part&#160;of&#160;Hypervisor</p>
<p style="position:absolute;top:335px;left:258px;white-space:nowrap" class="ft8111">Figure&#160;5.7:&#160;Moving&#160;functionality&#160;out&#160;of&#160;the&#160;VMs&#160;into&#160;the&#160;hypervisor</p>
<p style="position:absolute;top:385px;left:213px;white-space:nowrap" class="ft8111">Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#81">5.7(</a>a)&#160;shows&#160;the&#160;reliability&#160;model&#160;for&#160;a&#160;node&#160;containing</p>
<p style="position:absolute;top:384px;left:635px;white-space:nowrap" class="ft8152">n</p>
<p style="position:absolute;top:385px;left:650px;white-space:nowrap" class="ft8111">such&#160;VMs.&#160;Let</p>
<p style="position:absolute;top:405px;left:213px;white-space:nowrap" class="ft8111">us&#160;call&#160;this&#160;node&#160;configuration</p>
<p style="position:absolute;top:404px;left:425px;white-space:nowrap" class="ft8152">C</p>
<p style="position:absolute;top:410px;left:436px;white-space:nowrap" class="ft8128">1</p>
<p style="position:absolute;top:405px;left:444px;white-space:nowrap" class="ft8111">.&#160;Further,&#160;suppose&#160;that&#160;the&#160;functionality</p>
<p style="position:absolute;top:404px;left:724px;white-space:nowrap" class="ft8152">f</p>
<p style="position:absolute;top:405px;left:740px;white-space:nowrap" class="ft8111">is</p>
<p style="position:absolute;top:425px;left:213px;white-space:nowrap" class="ft8111">moved&#160;out&#160;of&#160;the&#160;VMs&#160;and&#160;substituted&#160;by&#160;component</p>
<p style="position:absolute;top:424px;left:577px;white-space:nowrap" class="ft8152">F</p>
<p style="position:absolute;top:425px;left:596px;white-space:nowrap" class="ft8111">implemented&#160;as&#160;part&#160;of</p>
<p style="position:absolute;top:446px;left:213px;white-space:nowrap" class="ft8111">the&#160;hypervisor.&#160;Now,&#160;the&#160;new&#160;hypervisor&#160;consists&#160;of&#160;two&#160;components</p>
<p style="position:absolute;top:445px;left:683px;white-space:nowrap" class="ft8152">F</p>
<p style="position:absolute;top:446px;left:702px;white-space:nowrap" class="ft8111">and&#160;the</p>
<p style="position:absolute;top:466px;left:213px;white-space:nowrap" class="ft8111">old&#160;hypervisor</p>
<p style="position:absolute;top:465px;left:314px;white-space:nowrap" class="ft8152">V</p>
<p style="position:absolute;top:466px;left:328px;white-space:nowrap" class="ft8111">.&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#81">5.7(</a>b)&#160;shows&#160;the&#160;reliability&#160;model&#160;for&#160;a&#160;node&#160;with&#160;the</p>
<p style="position:absolute;top:486px;left:213px;white-space:nowrap" class="ft8111">modified&#160;hypervisor.&#160;Let&#160;us&#160;call&#160;this&#160;node&#160;configuration</p>
<p style="position:absolute;top:485px;left:580px;white-space:nowrap" class="ft8152">C</p>
<p style="position:absolute;top:491px;left:592px;white-space:nowrap" class="ft8128">2</p>
<p style="position:absolute;top:486px;left:599px;white-space:nowrap" class="ft8111">.</p>
<p style="position:absolute;top:507px;left:238px;white-space:nowrap" class="ft8111">We&#160;now&#160;derive&#160;the&#160;condition&#160;for</p>
<p style="position:absolute;top:506px;left:450px;white-space:nowrap" class="ft8152">C</p>
<p style="position:absolute;top:512px;left:461px;white-space:nowrap" class="ft8128">2</p>
<p style="position:absolute;top:507px;left:472px;white-space:nowrap" class="ft8111">to&#160;be&#160;at&#160;least&#160;as&#160;reliable&#160;as</p>
<p style="position:absolute;top:506px;left:643px;white-space:nowrap" class="ft8152">C</p>
<p style="position:absolute;top:512px;left:655px;white-space:nowrap" class="ft8128">1</p>
<p style="position:absolute;top:507px;left:662px;white-space:nowrap" class="ft8111">.&#160;For&#160;simplic-</p>
<p style="position:absolute;top:527px;left:213px;white-space:nowrap" class="ft8111">ity,&#160;let&#160;us&#160;assume&#160;that</p>
<p style="position:absolute;top:526px;left:358px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:536px;left:371px;white-space:nowrap" class="ft8153">M</p>
<p style="position:absolute;top:533px;left:384px;white-space:nowrap" class="ft81107">′</p>
<p style="position:absolute;top:542px;left:383px;white-space:nowrap" class="ft8199">i</p>
<p style="position:absolute;top:526px;left:395px;white-space:nowrap" class="ft8154">=</p>
<p style="position:absolute;top:526px;left:413px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:532px;left:425px;white-space:nowrap" class="ft8153">M</p>
<p style="position:absolute;top:532px;left:438px;white-space:nowrap" class="ft81107">′</p>
<p style="position:absolute;top:527px;left:447px;white-space:nowrap" class="ft8111">for&#160;all</p>
<p style="position:absolute;top:526px;left:492px;white-space:nowrap" class="ft8154">1</p>
<p style="position:absolute;top:526px;left:505px;white-space:nowrap" class="ft8155">≤</p>
<p style="position:absolute;top:526px;left:523px;white-space:nowrap" class="ft8152">i</p>
<p style="position:absolute;top:526px;left:533px;white-space:nowrap" class="ft8155">≤</p>
<p style="position:absolute;top:526px;left:551px;white-space:nowrap" class="ft8152">n</p>
<p style="position:absolute;top:527px;left:561px;white-space:nowrap" class="ft8111">.&#160;Then,&#160;the&#160;desired&#160;condition</p>
<p style="position:absolute;top:549px;left:213px;white-space:nowrap" class="ft8111">is</p>
<p style="position:absolute;top:569px;left:213px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:567px;left:225px;white-space:nowrap" class="ft8153">C</p>
<p style="position:absolute;top:571px;left:234px;white-space:nowrap" class="ft81112">2</p>
<p style="position:absolute;top:577px;left:225px;white-space:nowrap" class="ft8153">sys</p>
<p style="position:absolute;top:569px;left:249px;white-space:nowrap" class="ft8155">≥</p>
<p style="position:absolute;top:569px;left:266px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:567px;left:279px;white-space:nowrap" class="ft8153">C</p>
<p style="position:absolute;top:571px;left:288px;white-space:nowrap" class="ft81112">1</p>
<p style="position:absolute;top:577px;left:278px;white-space:nowrap" class="ft8153">sys</p>
<p style="position:absolute;top:609px;left:213px;white-space:nowrap" class="ft8154">=</p>
<p style="position:absolute;top:609px;left:223px;white-space:nowrap" class="ft8155">⇒</p>
<p style="position:absolute;top:609px;left:244px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:616px;left:256px;white-space:nowrap" class="ft8153">H</p>
<p style="position:absolute;top:609px;left:268px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:616px;left:280px;white-space:nowrap" class="ft8153">V</p>
<p style="position:absolute;top:609px;left:291px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:616px;left:304px;white-space:nowrap" class="ft8153">F</p>
<p style="position:absolute;top:609px;left:314px;white-space:nowrap" class="ft8154">[1</p>
<p style="position:absolute;top:609px;left:331px;white-space:nowrap" class="ft8155">−</p>
<p style="position:absolute;top:609px;left:347px;white-space:nowrap" class="ft8154">(1</p>
<p style="position:absolute;top:609px;left:365px;white-space:nowrap" class="ft8155">−</p>
<p style="position:absolute;top:609px;left:382px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:616px;left:394px;white-space:nowrap" class="ft8153">M</p>
<p style="position:absolute;top:616px;left:408px;white-space:nowrap" class="ft81107">′</p>
<p style="position:absolute;top:609px;left:412px;white-space:nowrap" class="ft8154">)</p>
<p style="position:absolute;top:607px;left:419px;white-space:nowrap" class="ft8153">n</p>
<p style="position:absolute;top:609px;left:427px;white-space:nowrap" class="ft8154">]</p>
<p style="position:absolute;top:609px;left:436px;white-space:nowrap" class="ft8155">≥</p>
<p style="position:absolute;top:609px;left:454px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:616px;left:466px;white-space:nowrap" class="ft8153">H</p>
<p style="position:absolute;top:609px;left:478px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:616px;left:490px;white-space:nowrap" class="ft8153">V</p>
<p style="position:absolute;top:609px;left:501px;white-space:nowrap" class="ft8154">[1</p>
<p style="position:absolute;top:609px;left:518px;white-space:nowrap" class="ft8155">−</p>
<p style="position:absolute;top:609px;left:534px;white-space:nowrap" class="ft8154">(1</p>
<p style="position:absolute;top:609px;left:552px;white-space:nowrap" class="ft8155">−</p>
<p style="position:absolute;top:609px;left:569px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:616px;left:581px;white-space:nowrap" class="ft8153">f</p>
<p style="position:absolute;top:609px;left:589px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:616px;left:602px;white-space:nowrap" class="ft8153">M</p>
<p style="position:absolute;top:616px;left:615px;white-space:nowrap" class="ft81107">′</p>
<p style="position:absolute;top:609px;left:620px;white-space:nowrap" class="ft8154">)</p>
<p style="position:absolute;top:607px;left:626px;white-space:nowrap" class="ft8153">n</p>
<p style="position:absolute;top:609px;left:635px;white-space:nowrap" class="ft8154">]</p>
<p style="position:absolute;top:655px;left:371px;white-space:nowrap" class="ft8154">=</p>
<p style="position:absolute;top:655px;left:381px;white-space:nowrap" class="ft8155">⇒</p>
<p style="position:absolute;top:655px;left:402px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:661px;left:414px;white-space:nowrap" class="ft8153">F</p>
<p style="position:absolute;top:655px;left:429px;white-space:nowrap" class="ft8155">≥</p>
<p style="position:absolute;top:644px;left:448px;white-space:nowrap" class="ft8154">[1</p>
<p style="position:absolute;top:644px;left:465px;white-space:nowrap" class="ft8155">−</p>
<p style="position:absolute;top:644px;left:481px;white-space:nowrap" class="ft8154">(1</p>
<p style="position:absolute;top:644px;left:499px;white-space:nowrap" class="ft8155">−</p>
<p style="position:absolute;top:644px;left:516px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:650px;left:528px;white-space:nowrap" class="ft8153">f</p>
<p style="position:absolute;top:644px;left:536px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:650px;left:548px;white-space:nowrap" class="ft8153">M</p>
<p style="position:absolute;top:650px;left:562px;white-space:nowrap" class="ft81107">′</p>
<p style="position:absolute;top:644px;left:567px;white-space:nowrap" class="ft8154">)</p>
<p style="position:absolute;top:641px;left:573px;white-space:nowrap" class="ft8153">n</p>
<p style="position:absolute;top:644px;left:582px;white-space:nowrap" class="ft8154">]</p>
<p style="position:absolute;top:666px;left:458px;white-space:nowrap" class="ft8154">[1</p>
<p style="position:absolute;top:666px;left:475px;white-space:nowrap" class="ft8155">−</p>
<p style="position:absolute;top:666px;left:491px;white-space:nowrap" class="ft8154">(1</p>
<p style="position:absolute;top:666px;left:509px;white-space:nowrap" class="ft8155">−</p>
<p style="position:absolute;top:666px;left:526px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:673px;left:538px;white-space:nowrap" class="ft8153">M</p>
<p style="position:absolute;top:673px;left:552px;white-space:nowrap" class="ft81107">′</p>
<p style="position:absolute;top:666px;left:556px;white-space:nowrap" class="ft8154">)</p>
<p style="position:absolute;top:665px;left:563px;white-space:nowrap" class="ft8153">n</p>
<p style="position:absolute;top:666px;left:571px;white-space:nowrap" class="ft8154">]</p>
<p style="position:absolute;top:655px;left:588px;white-space:nowrap" class="ft8152">.</p>
<p style="position:absolute;top:656px;left:719px;white-space:nowrap" class="ft8111">(5.3)</p>
<p style="position:absolute;top:694px;left:238px;white-space:nowrap" class="ft8111">It&#160;is&#160;easy&#160;to&#160;see&#160;from&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#81">5.7&#160;</a>that&#160;if&#160;there&#160;is&#160;only&#160;one&#160;VM,&#160;it&#160;does&#160;not&#160;matter</p>
<p style="position:absolute;top:714px;left:213px;white-space:nowrap" class="ft8112">whether&#160;the&#160;functionality&#160;is&#160;implemented&#160;in&#160;the&#160;hypervisor&#160;or&#160;in&#160;the&#160;VM.&#160;We&#160;can<br/>also&#160;confirm&#160;this&#160;observation&#160;by&#160;substituting</p>
<p style="position:absolute;top:733px;left:507px;white-space:nowrap" class="ft8152">n</p>
<p style="position:absolute;top:733px;left:521px;white-space:nowrap" class="ft8154">=&#160;1</p>
<p style="position:absolute;top:734px;left:551px;white-space:nowrap" class="ft8111">in&#160;inequality&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#81">(5.3)</a>.</p>
<p style="position:absolute;top:754px;left:238px;white-space:nowrap" class="ft8111">Figures&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#82">5.8(</a>a)&#160;and&#160;(b)&#160;illustrate&#160;how</p>
<p style="position:absolute;top:753px;left:481px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:760px;left:493px;white-space:nowrap" class="ft8153">F</p>
<p style="position:absolute;top:754px;left:508px;white-space:nowrap" class="ft8111">varies&#160;as</p>
<p style="position:absolute;top:753px;left:570px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:760px;left:582px;white-space:nowrap" class="ft8153">f</p>
<p style="position:absolute;top:754px;left:595px;white-space:nowrap" class="ft8111">is&#160;increased&#160;from&#160;0.1&#160;to</p>
<p style="position:absolute;top:775px;left:213px;white-space:nowrap" class="ft8111">1.&#160;The&#160;graphs&#160;show&#160;that&#160;for&#160;configuration</p>
<p style="position:absolute;top:774px;left:487px;white-space:nowrap" class="ft8152">C</p>
<p style="position:absolute;top:780px;left:499px;white-space:nowrap" class="ft8128">2</p>
<p style="position:absolute;top:775px;left:510px;white-space:nowrap" class="ft8111">to&#160;be&#160;more&#160;reliable&#160;than</p>
<p style="position:absolute;top:774px;left:669px;white-space:nowrap" class="ft8152">C</p>
<p style="position:absolute;top:780px;left:680px;white-space:nowrap" class="ft8128">1</p>
<p style="position:absolute;top:775px;left:687px;white-space:nowrap" class="ft8111">,</p>
<p style="position:absolute;top:774px;left:696px;white-space:nowrap" class="ft8152">F</p>
<p style="position:absolute;top:775px;left:712px;white-space:nowrap" class="ft8111">has&#160;to</p>
<p style="position:absolute;top:795px;left:213px;white-space:nowrap" class="ft8111">be&#160;more&#160;reliable&#160;than</p>
<p style="position:absolute;top:794px;left:357px;white-space:nowrap" class="ft8152">f</p>
<p style="position:absolute;top:795px;left:366px;white-space:nowrap" class="ft8111">.&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#82">5.8(</a>a)&#160;shows&#160;that&#160;as</p>
<p style="position:absolute;top:794px;left:558px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:801px;left:571px;white-space:nowrap" class="ft8153">M</p>
<p style="position:absolute;top:801px;left:584px;white-space:nowrap" class="ft81107">′</p>
<p style="position:absolute;top:795px;left:593px;white-space:nowrap" class="ft8111">increases,&#160;the&#160;degree&#160;by</p>
<p style="position:absolute;top:816px;left:213px;white-space:nowrap" class="ft8111">which</p>
<p style="position:absolute;top:814px;left:258px;white-space:nowrap" class="ft8152">F</p>
<p style="position:absolute;top:816px;left:275px;white-space:nowrap" class="ft8111">should&#160;be&#160;more&#160;reliable&#160;than</p>
<p style="position:absolute;top:814px;left:470px;white-space:nowrap" class="ft8152">f</p>
<p style="position:absolute;top:816px;left:485px;white-space:nowrap" class="ft8111">also&#160;increases.&#160;Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#82">5.8(</a>b)&#160;shows&#160;that</p>
<p style="position:absolute;top:836px;left:213px;white-space:nowrap" class="ft8112">the&#160;degree&#160;is&#160;also&#160;considerably&#160;higher&#160;when&#160;more&#160;VMs&#160;are&#160;co-hosted&#160;on&#160;the&#160;same<br/>physical&#160;host.&#160;For&#160;example,&#160;even&#160;with&#160;modest</p>
<p style="position:absolute;top:855px;left:521px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:862px;left:534px;white-space:nowrap" class="ft8153">M</p>
<p style="position:absolute;top:862px;left:547px;white-space:nowrap" class="ft81107">′</p>
<p style="position:absolute;top:856px;left:556px;white-space:nowrap" class="ft8111">and</p>
<p style="position:absolute;top:855px;left:584px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:862px;left:597px;white-space:nowrap" class="ft8153">f</p>
<p style="position:absolute;top:856px;left:610px;white-space:nowrap" class="ft8111">values&#160;of&#160;0.75,</p>
<p style="position:absolute;top:855px;left:711px;white-space:nowrap" class="ft8152">F</p>
<p style="position:absolute;top:856px;left:729px;white-space:nowrap" class="ft8111">has</p>
<p style="position:absolute;top:877px;left:213px;white-space:nowrap" class="ft8111">to&#160;be&#160;ultra-reliable:</p>
<p style="position:absolute;top:875px;left:342px;white-space:nowrap" class="ft8152">R</p>
<p style="position:absolute;top:882px;left:354px;white-space:nowrap" class="ft8153">F</p>
<p style="position:absolute;top:877px;left:368px;white-space:nowrap" class="ft8111">has&#160;to&#160;be&#160;more&#160;than&#160;0.9932&#160;and&#160;0.9994&#160;if</p>
<p style="position:absolute;top:875px;left:636px;white-space:nowrap" class="ft8152">n</p>
<p style="position:absolute;top:875px;left:650px;white-space:nowrap" class="ft8154">=&#160;6</p>
<p style="position:absolute;top:877px;left:679px;white-space:nowrap" class="ft8111">and</p>
<p style="position:absolute;top:875px;left:707px;white-space:nowrap" class="ft8152">n</p>
<p style="position:absolute;top:875px;left:721px;white-space:nowrap" class="ft8154">=&#160;9</p>
<p style="position:absolute;top:877px;left:746px;white-space:nowrap" class="ft8111">,</p>
<p style="position:absolute;top:897px;left:213px;white-space:nowrap" class="ft8112">respectively.&#160;Thus,&#160;when&#160;more&#160;than&#160;a&#160;handful&#160;of&#160;VMs&#160;are&#160;co-hosted&#160;on&#160;the&#160;same<br/>physical&#160;node,&#160;a&#160;better&#160;system&#160;reliability&#160;is&#160;more&#160;likely&#160;to&#160;be&#160;obtained&#160;by&#160;retaining<br/>a&#160;poorly&#160;reliable&#160;functionality&#160;in&#160;the&#160;VM&#160;rather&#160;than&#160;by&#160;moving&#160;the&#160;functionality<br/>into&#160;the&#160;hypervisor.</p>
<p style="position:absolute;top:978px;left:238px;white-space:nowrap" class="ft8115"><b>Virtualized&#160;Node&#160;with&#160;VMM-level&#160;Voting:&#160;</b>Consider&#160;a&#160;fault-tolerant&#160;2-out-</p>
<p style="position:absolute;top:998px;left:213px;white-space:nowrap" class="ft8112">of-3&#160;replication&#160;scheme&#160;in&#160;which&#160;three&#160;VMs&#160;providing&#160;identical&#160;service&#160;are&#160;co-<br/>hosted&#160;on&#160;a&#160;single&#160;physical&#160;node.&#160;The&#160;VMM&#160;layer&#160;receives&#160;client&#160;requests&#160;and<br/>forwards&#160;them&#160;to&#160;all&#160;three&#160;VMs&#160;in&#160;the&#160;same&#160;order.&#160;Assume&#160;that&#160;the&#160;service&#160;is&#160;a<br/>deterministic&#160;state&#160;machine;&#160;thus,&#160;the&#160;VM&#160;replicas&#160;yield&#160;the&#160;same&#160;result&#160;for&#160;the</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft8116">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 82 -->
<a name="82"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft82113{font-size:9px;font-family:Helvetica;color:#000000;-moz-transform: matrix(         0,         -1,          1,          0, 0, 0);-webkit-transform: matrix(         0,         -1,          1,          0, 0, 0);-o-transform: matrix(         0,         -1,          1,          0, 0, 0);-ms-transform: matrix(         0,         -1,          1,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft82114{font-size:7px;font-family:Helvetica;color:#000000;-moz-transform: matrix(         0,         -1,          1,          0, 0, 0);-webkit-transform: matrix(         0,         -1,          1,          0, 0, 0);-o-transform: matrix(         0,         -1,          1,          0, 0, 0);-ms-transform: matrix(         0,         -1,          1,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft82115{font-size:7px;font-family:CNTUYP+CMSY5;color:#000000;}
	.ft82116{font-size:16px;line-height:22px;font-family:FZJSYF+CMR10;color:#000000;}
-->
</style>
<div id="page82-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter082.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft8211">82</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft8216">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:343px;left:190px;white-space:nowrap" class="ft8235">&#160;0.2</p>
<p style="position:absolute;top:324px;left:190px;white-space:nowrap" class="ft8235">&#160;0.3</p>
<p style="position:absolute;top:306px;left:190px;white-space:nowrap" class="ft8235">&#160;0.4</p>
<p style="position:absolute;top:288px;left:190px;white-space:nowrap" class="ft8235">&#160;0.5</p>
<p style="position:absolute;top:270px;left:190px;white-space:nowrap" class="ft8235">&#160;0.6</p>
<p style="position:absolute;top:252px;left:190px;white-space:nowrap" class="ft8235">&#160;0.7</p>
<p style="position:absolute;top:234px;left:190px;white-space:nowrap" class="ft8235">&#160;0.8</p>
<p style="position:absolute;top:216px;left:190px;white-space:nowrap" class="ft8235">&#160;0.9</p>
<p style="position:absolute;top:198px;left:198px;white-space:nowrap" class="ft8235">&#160;1</p>
<p style="position:absolute;top:351px;left:203px;white-space:nowrap" class="ft8235">&#160;0.1&#160;&#160;0.2&#160;&#160;0.3&#160;&#160;0.4&#160;&#160;0.5&#160;&#160;0.6&#160;&#160;0.7&#160;&#160;0.8&#160;&#160;0.9</p>
<p style="position:absolute;top:351px;left:389px;white-space:nowrap" class="ft8235">&#160;1</p>
<p style="position:absolute;top:319px;left:160px;white-space:nowrap" class="ft82113">Lower Bound on Reliability&#160;</p>
<p style="position:absolute;top:310px;left:169px;white-space:nowrap" class="ft82113">&#160;of Functionality when&#160;</p>
<p style="position:absolute;top:317px;left:177px;white-space:nowrap" class="ft82113">&#160;Moved to Hypervisor (R</p>
<p style="position:absolute;top:225px;left:179px;white-space:nowrap" class="ft82114">F</p>
<p style="position:absolute;top:220px;left:177px;white-space:nowrap" class="ft82113">)</p>
<p style="position:absolute;top:363px;left:206px;white-space:nowrap" class="ft8235">Reliability of Functionality Implemented in VM (R</p>
<p style="position:absolute;top:367px;left:392px;white-space:nowrap" class="ft8262">f</p>
<p style="position:absolute;top:363px;left:394px;white-space:nowrap" class="ft8235">)</p>
<p style="position:absolute;top:309px;left:290px;white-space:nowrap" class="ft8235">R</p>
<p style="position:absolute;top:313px;left:296px;white-space:nowrap" class="ft8262">M’</p>
<p style="position:absolute;top:309px;left:304px;white-space:nowrap" class="ft8235">&#160;= 0.75, n = 3</p>
<p style="position:absolute;top:318px;left:290px;white-space:nowrap" class="ft8235">R</p>
<p style="position:absolute;top:322px;left:296px;white-space:nowrap" class="ft8262">M’</p>
<p style="position:absolute;top:318px;left:304px;white-space:nowrap" class="ft8235">&#160;= 0.90, n = 3</p>
<p style="position:absolute;top:327px;left:290px;white-space:nowrap" class="ft8235">R</p>
<p style="position:absolute;top:330px;left:296px;white-space:nowrap" class="ft8262">M’</p>
<p style="position:absolute;top:327px;left:304px;white-space:nowrap" class="ft8235">&#160;= 0.95, n = 3</p>
<p style="position:absolute;top:335px;left:290px;white-space:nowrap" class="ft8235">R</p>
<p style="position:absolute;top:339px;left:296px;white-space:nowrap" class="ft8262">M’</p>
<p style="position:absolute;top:335px;left:304px;white-space:nowrap" class="ft8235">&#160;= 0.99, n = 3</p>
<p style="position:absolute;top:383px;left:208px;white-space:nowrap" class="ft8222">(a)&#160;Fixed</p>
<p style="position:absolute;top:383px;left:262px;white-space:nowrap" class="ft82111">n</p>
<p style="position:absolute;top:383px;left:271px;white-space:nowrap" class="ft8222">,&#160;varying</p>
<p style="position:absolute;top:383px;left:321px;white-space:nowrap" class="ft82111">R</p>
<p style="position:absolute;top:388px;left:332px;white-space:nowrap" class="ft8299">M</p>
<p style="position:absolute;top:388px;left:343px;white-space:nowrap" class="ft82115">′</p>
<p style="position:absolute;top:343px;left:454px;white-space:nowrap" class="ft8235">&#160;0.2</p>
<p style="position:absolute;top:324px;left:454px;white-space:nowrap" class="ft8235">&#160;0.3</p>
<p style="position:absolute;top:306px;left:454px;white-space:nowrap" class="ft8235">&#160;0.4</p>
<p style="position:absolute;top:288px;left:454px;white-space:nowrap" class="ft8235">&#160;0.5</p>
<p style="position:absolute;top:270px;left:454px;white-space:nowrap" class="ft8235">&#160;0.6</p>
<p style="position:absolute;top:252px;left:454px;white-space:nowrap" class="ft8235">&#160;0.7</p>
<p style="position:absolute;top:234px;left:454px;white-space:nowrap" class="ft8235">&#160;0.8</p>
<p style="position:absolute;top:216px;left:454px;white-space:nowrap" class="ft8235">&#160;0.9</p>
<p style="position:absolute;top:198px;left:461px;white-space:nowrap" class="ft8235">&#160;1</p>
<p style="position:absolute;top:351px;left:466px;white-space:nowrap" class="ft8235">&#160;0.1&#160;&#160;0.2&#160;&#160;0.3&#160;&#160;0.4&#160;&#160;0.5&#160;&#160;0.6&#160;&#160;0.7&#160;&#160;0.8&#160;&#160;0.9</p>
<p style="position:absolute;top:351px;left:653px;white-space:nowrap" class="ft8235">&#160;1</p>
<p style="position:absolute;top:319px;left:423px;white-space:nowrap" class="ft82113">Lower Bound on Reliability&#160;</p>
<p style="position:absolute;top:310px;left:432px;white-space:nowrap" class="ft82113">&#160;of Functionality when&#160;</p>
<p style="position:absolute;top:317px;left:440px;white-space:nowrap" class="ft82113">&#160;Moved to Hypervisor (R</p>
<p style="position:absolute;top:225px;left:442px;white-space:nowrap" class="ft82114">F</p>
<p style="position:absolute;top:220px;left:440px;white-space:nowrap" class="ft82113">)</p>
<p style="position:absolute;top:363px;left:469px;white-space:nowrap" class="ft8235">Reliability of Functionality Implemented in VM (R</p>
<p style="position:absolute;top:367px;left:655px;white-space:nowrap" class="ft8262">f</p>
<p style="position:absolute;top:363px;left:657px;white-space:nowrap" class="ft8235">)</p>
<p style="position:absolute;top:318px;left:553px;white-space:nowrap" class="ft8235">R</p>
<p style="position:absolute;top:322px;left:560px;white-space:nowrap" class="ft8262">M’</p>
<p style="position:absolute;top:318px;left:567px;white-space:nowrap" class="ft8235">&#160;= 0.75, n = 3</p>
<p style="position:absolute;top:327px;left:553px;white-space:nowrap" class="ft8235">R</p>
<p style="position:absolute;top:330px;left:560px;white-space:nowrap" class="ft8262">M’</p>
<p style="position:absolute;top:327px;left:567px;white-space:nowrap" class="ft8235">&#160;= 0.75, n = 6</p>
<p style="position:absolute;top:335px;left:553px;white-space:nowrap" class="ft8235">R</p>
<p style="position:absolute;top:339px;left:560px;white-space:nowrap" class="ft8262">M’</p>
<p style="position:absolute;top:335px;left:567px;white-space:nowrap" class="ft8235">&#160;= 0.75, n = 9</p>
<p style="position:absolute;top:383px;left:471px;white-space:nowrap" class="ft8222">(b)&#160;Fixed</p>
<p style="position:absolute;top:383px;left:526px;white-space:nowrap" class="ft82111">R</p>
<p style="position:absolute;top:388px;left:537px;white-space:nowrap" class="ft8299">M</p>
<p style="position:absolute;top:388px;left:548px;white-space:nowrap" class="ft82115">′</p>
<p style="position:absolute;top:383px;left:553px;white-space:nowrap" class="ft8222">,&#160;varying</p>
<p style="position:absolute;top:383px;left:604px;white-space:nowrap" class="ft82111">n</p>
<p style="position:absolute;top:431px;left:254px;white-space:nowrap" class="ft8211">Figure&#160;5.8:&#160;Plot&#160;of</p>
<p style="position:absolute;top:430px;left:379px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:437px;left:392px;white-space:nowrap" class="ft8253">F</p>
<p style="position:absolute;top:430px;left:407px;white-space:nowrap" class="ft8255">≥</p>
<p style="position:absolute;top:419px;left:426px;white-space:nowrap" class="ft8254">[1</p>
<p style="position:absolute;top:419px;left:442px;white-space:nowrap" class="ft8255">−</p>
<p style="position:absolute;top:419px;left:459px;white-space:nowrap" class="ft8254">(1</p>
<p style="position:absolute;top:419px;left:477px;white-space:nowrap" class="ft8255">−</p>
<p style="position:absolute;top:419px;left:493px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:425px;left:506px;white-space:nowrap" class="ft8253">f</p>
<p style="position:absolute;top:419px;left:514px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:425px;left:526px;white-space:nowrap" class="ft8253">M</p>
<p style="position:absolute;top:425px;left:540px;white-space:nowrap" class="ft82107">′</p>
<p style="position:absolute;top:419px;left:544px;white-space:nowrap" class="ft8254">)</p>
<p style="position:absolute;top:417px;left:551px;white-space:nowrap" class="ft8253">n</p>
<p style="position:absolute;top:419px;left:559px;white-space:nowrap" class="ft8254">]</p>
<p style="position:absolute;top:441px;left:436px;white-space:nowrap" class="ft8254">[1</p>
<p style="position:absolute;top:441px;left:453px;white-space:nowrap" class="ft8255">−</p>
<p style="position:absolute;top:441px;left:469px;white-space:nowrap" class="ft8254">(1</p>
<p style="position:absolute;top:441px;left:487px;white-space:nowrap" class="ft8255">−</p>
<p style="position:absolute;top:441px;left:503px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:448px;left:516px;white-space:nowrap" class="ft8253">M</p>
<p style="position:absolute;top:448px;left:529px;white-space:nowrap" class="ft82107">′</p>
<p style="position:absolute;top:441px;left:534px;white-space:nowrap" class="ft8254">)</p>
<p style="position:absolute;top:441px;left:540px;white-space:nowrap" class="ft8253">n</p>
<p style="position:absolute;top:441px;left:549px;white-space:nowrap" class="ft8254">]</p>
<p style="position:absolute;top:493px;left:141px;white-space:nowrap" class="ft8212">same&#160;request.&#160;The&#160;VMM&#160;receives&#160;the&#160;results&#160;from&#160;the&#160;VM&#160;replicas.&#160;Once&#160;the<br/>VMM&#160;has&#160;obtained&#160;replies&#160;from&#160;two&#160;replicas&#160;with&#160;identical&#160;result&#160;values&#160;for&#160;a<br/>given&#160;client&#160;request,&#160;it&#160;forwards&#160;the&#160;result&#160;value&#160;to&#160;the&#160;corresponding&#160;client.&#160;Such&#160;a<br/>scheme&#160;can&#160;tolerate&#160;the&#160;arbitrary&#160;failure&#160;of&#160;one&#160;VM&#160;replica,&#160;and&#160;is&#160;similar&#160;to&#160;the&#160;one<br/>suggested&#160;in&#160;the&#160;RESH&#160;architecture&#160;for&#160;fault-tolerant&#160;replication&#160;using&#160;virtualiza-<br/>tion&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#92">[RHKSP06]</a>.&#160;Assuming&#160;that&#160;the&#160;VMs&#160;fail&#160;independently,&#160;the&#160;system&#160;reliability<br/>is&#160;given&#160;by</p>
<p style="position:absolute;top:642px;left:166px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:640px;left:179px;white-space:nowrap" class="ft8228">2</p>
<p style="position:absolute;top:640px;left:185px;white-space:nowrap" class="ft8256">−</p>
<p style="position:absolute;top:640px;left:195px;white-space:nowrap" class="ft8228">of</p>
<p style="position:absolute;top:640px;left:206px;white-space:nowrap" class="ft8256">−</p>
<p style="position:absolute;top:640px;left:216px;white-space:nowrap" class="ft8228">3</p>
<p style="position:absolute;top:650px;left:179px;white-space:nowrap" class="ft8253">sys</p>
<p style="position:absolute;top:642px;left:228px;white-space:nowrap" class="ft8254">=</p>
<p style="position:absolute;top:642px;left:245px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:649px;left:257px;white-space:nowrap" class="ft8253">H</p>
<p style="position:absolute;top:642px;left:270px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:649px;left:282px;white-space:nowrap" class="ft8253">V</p>
<p style="position:absolute;top:642px;left:293px;white-space:nowrap" class="ft8254">[</p>
<p style="position:absolute;top:642px;left:298px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:640px;left:310px;white-space:nowrap" class="ft8228">3</p>
<p style="position:absolute;top:651px;left:310px;white-space:nowrap" class="ft8253">M</p>
<p style="position:absolute;top:642px;left:328px;white-space:nowrap" class="ft8254">+</p>
<p style="position:absolute;top:631px;left:344px;white-space:nowrap" class="ft8298"></p>
<p style="position:absolute;top:631px;left:356px;white-space:nowrap" class="ft82116">3<br/>2</p>
<p style="position:absolute;top:631px;left:364px;white-space:nowrap" class="ft8298"></p>
<p style="position:absolute;top:642px;left:376px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:640px;left:389px;white-space:nowrap" class="ft8228">2</p>
<p style="position:absolute;top:651px;left:389px;white-space:nowrap" class="ft8253">M</p>
<p style="position:absolute;top:642px;left:403px;white-space:nowrap" class="ft8254">(1</p>
<p style="position:absolute;top:642px;left:421px;white-space:nowrap" class="ft8255">−</p>
<p style="position:absolute;top:642px;left:438px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:649px;left:450px;white-space:nowrap" class="ft8253">M</p>
<p style="position:absolute;top:642px;left:464px;white-space:nowrap" class="ft8254">)]</p>
<p style="position:absolute;top:642px;left:475px;white-space:nowrap" class="ft8252">.</p>
<p style="position:absolute;top:675px;left:141px;white-space:nowrap" class="ft8211">Then,</p>
<p style="position:absolute;top:673px;left:184px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:671px;left:196px;white-space:nowrap" class="ft8228">2</p>
<p style="position:absolute;top:671px;left:202px;white-space:nowrap" class="ft8256">−</p>
<p style="position:absolute;top:671px;left:212px;white-space:nowrap" class="ft8228">of</p>
<p style="position:absolute;top:671px;left:224px;white-space:nowrap" class="ft8256">−</p>
<p style="position:absolute;top:671px;left:233px;white-space:nowrap" class="ft8228">3</p>
<p style="position:absolute;top:681px;left:196px;white-space:nowrap" class="ft8253">sys</p>
<p style="position:absolute;top:673px;left:246px;white-space:nowrap" class="ft8252">&gt;&#160;R</p>
<p style="position:absolute;top:671px;left:277px;white-space:nowrap" class="ft8253">N&#160;V</p>
<p style="position:absolute;top:681px;left:277px;white-space:nowrap" class="ft8253">sys</p>
<p style="position:absolute;top:675px;left:304px;white-space:nowrap" class="ft8211">gives&#160;the&#160;condition&#160;for&#160;the&#160;2-out-of-3&#160;replication&#160;scheme</p>
<p style="position:absolute;top:695px;left:141px;white-space:nowrap" class="ft8211">to&#160;be&#160;more&#160;reliable&#160;than&#160;the&#160;non-virtualized&#160;service.&#160;Thus,&#160;we&#160;obtain</p>
<p style="position:absolute;top:722px;left:166px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:728px;left:179px;white-space:nowrap" class="ft8253">H</p>
<p style="position:absolute;top:722px;left:191px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:728px;left:203px;white-space:nowrap" class="ft8253">V</p>
<p style="position:absolute;top:722px;left:214px;white-space:nowrap" class="ft8254">[</p>
<p style="position:absolute;top:722px;left:219px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:719px;left:231px;white-space:nowrap" class="ft8228">3</p>
<p style="position:absolute;top:730px;left:231px;white-space:nowrap" class="ft8253">M</p>
<p style="position:absolute;top:722px;left:249px;white-space:nowrap" class="ft8254">+</p>
<p style="position:absolute;top:710px;left:265px;white-space:nowrap" class="ft8298"></p>
<p style="position:absolute;top:710px;left:277px;white-space:nowrap" class="ft82116">3<br/>2</p>
<p style="position:absolute;top:710px;left:286px;white-space:nowrap" class="ft8298"></p>
<p style="position:absolute;top:722px;left:298px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:719px;left:310px;white-space:nowrap" class="ft8228">2</p>
<p style="position:absolute;top:730px;left:310px;white-space:nowrap" class="ft8253">M</p>
<p style="position:absolute;top:722px;left:324px;white-space:nowrap" class="ft8254">(1</p>
<p style="position:absolute;top:722px;left:343px;white-space:nowrap" class="ft8255">−</p>
<p style="position:absolute;top:722px;left:359px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:728px;left:371px;white-space:nowrap" class="ft8253">M</p>
<p style="position:absolute;top:722px;left:386px;white-space:nowrap" class="ft8254">)]</p>
<p style="position:absolute;top:722px;left:401px;white-space:nowrap" class="ft8252">&gt;&#160;R</p>
<p style="position:absolute;top:728px;left:431px;white-space:nowrap" class="ft8253">H</p>
<p style="position:absolute;top:722px;left:443px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:728px;left:455px;white-space:nowrap" class="ft8253">M</p>
<p style="position:absolute;top:776px;left:323px;white-space:nowrap" class="ft8254">=</p>
<p style="position:absolute;top:776px;left:333px;white-space:nowrap" class="ft8255">⇒</p>
<p style="position:absolute;top:776px;left:354px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:782px;left:366px;white-space:nowrap" class="ft8253">V</p>
<p style="position:absolute;top:776px;left:382px;white-space:nowrap" class="ft8252">&gt;</p>
<p style="position:absolute;top:765px;left:442px;white-space:nowrap" class="ft8254">1</p>
<p style="position:absolute;top:788px;left:401px;white-space:nowrap" class="ft8254">3</p>
<p style="position:absolute;top:788px;left:409px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:794px;left:421px;white-space:nowrap" class="ft8253">M</p>
<p style="position:absolute;top:788px;left:439px;white-space:nowrap" class="ft8255">−</p>
<p style="position:absolute;top:788px;left:456px;white-space:nowrap" class="ft8254">2</p>
<p style="position:absolute;top:788px;left:464px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:786px;left:476px;white-space:nowrap" class="ft8228">2</p>
<p style="position:absolute;top:796px;left:476px;white-space:nowrap" class="ft8253">M</p>
<p style="position:absolute;top:776px;left:492px;white-space:nowrap" class="ft8252">.</p>
<p style="position:absolute;top:777px;left:647px;white-space:nowrap" class="ft8211">(5.4)</p>
<p style="position:absolute;top:822px;left:166px;white-space:nowrap" class="ft8211">Inequality&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#82">(5.4)&#160;</a>gives&#160;a&#160;lower&#160;bound&#160;on&#160;the&#160;hypervisor&#160;reliability&#160;for&#160;the&#160;2-</p>
<p style="position:absolute;top:843px;left:141px;white-space:nowrap" class="ft8212">out-of-3&#160;replication&#160;scheme&#160;to&#160;have&#160;better&#160;reliability&#160;than&#160;the&#160;non-virtualized&#160;case.<br/>Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#83">5.9&#160;</a>shows&#160;a&#160;plot&#160;of</p>
<p style="position:absolute;top:859px;left:360px;white-space:nowrap" class="ft8228">1</p>
<p style="position:absolute;top:872px;left:330px;white-space:nowrap" class="ft8228">3</p>
<p style="position:absolute;top:872px;left:337px;white-space:nowrap" class="ft8253">R</p>
<p style="position:absolute;top:877px;left:346px;white-space:nowrap" class="ft8299">M</p>
<p style="position:absolute;top:872px;left:359px;white-space:nowrap" class="ft8256">−</p>
<p style="position:absolute;top:872px;left:368px;white-space:nowrap" class="ft8228">2</p>
<p style="position:absolute;top:872px;left:375px;white-space:nowrap" class="ft8253">R</p>
<p style="position:absolute;top:871px;left:384px;white-space:nowrap" class="ft82112">2</p>
<p style="position:absolute;top:879px;left:384px;white-space:nowrap" class="ft8299">M</p>
<p style="position:absolute;top:862px;left:407px;white-space:nowrap" class="ft8252">&lt;&#160;R</p>
<p style="position:absolute;top:868px;left:441px;white-space:nowrap" class="ft8253">V</p>
<p style="position:absolute;top:862px;left:460px;white-space:nowrap" class="ft8252">&lt;</p>
<p style="position:absolute;top:862px;left:482px;white-space:nowrap" class="ft8254">1</p>
<p style="position:absolute;top:863px;left:490px;white-space:nowrap" class="ft8211">.&#160;It&#160;is&#160;clear&#160;from&#160;the&#160;graph</p>
<p style="position:absolute;top:887px;left:141px;white-space:nowrap" class="ft8211">that&#160;there&#160;exists&#160;no</p>
<p style="position:absolute;top:886px;left:269px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:892px;left:281px;white-space:nowrap" class="ft8253">V</p>
<p style="position:absolute;top:887px;left:296px;white-space:nowrap" class="ft8211">value&#160;that&#160;satisfies&#160;inequality&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#82">(5.4)&#160;</a>and&#160;is&#160;less&#160;than&#160;1&#160;when</p>
<p style="position:absolute;top:906px;left:141px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:912px;left:153px;white-space:nowrap" class="ft8253">M</p>
<p style="position:absolute;top:906px;left:172px;white-space:nowrap" class="ft8255">≤</p>
<p style="position:absolute;top:906px;left:189px;white-space:nowrap" class="ft8254">0</p>
<p style="position:absolute;top:906px;left:197px;white-space:nowrap" class="ft8252">.</p>
<p style="position:absolute;top:906px;left:202px;white-space:nowrap" class="ft8254">5</p>
<p style="position:absolute;top:907px;left:210px;white-space:nowrap" class="ft8211">.&#160;In&#160;other&#160;words,&#160;if&#160;the&#160;VM&#160;reliability&#160;(i.e.,&#160;the&#160;operating&#160;system&#160;and&#160;ser-</p>
<p style="position:absolute;top:927px;left:141px;white-space:nowrap" class="ft8212">vice&#160;reliability)&#160;is&#160;poor&#160;to&#160;begin&#160;with,&#160;then&#160;the&#160;2-out-of-3&#160;replication&#160;scheme&#160;will<br/>only&#160;make&#160;the&#160;node&#160;reliability&#160;worse&#160;even&#160;if&#160;the&#160;hypervisor&#160;is&#160;ultra-reliable.&#160;This<br/>result&#160;concurs&#160;with&#160;the&#160;well-known&#160;fact&#160;that&#160;any&#160;form&#160;of&#160;redundancy&#160;with&#160;majority<br/>voting&#160;is&#160;not&#160;helpful&#160;for&#160;improving&#160;overall&#160;system&#160;reliability&#160;when&#160;the&#160;overall&#160;sys-<br/>tem&#160;is&#160;composed&#160;of&#160;modules&#160;with&#160;individual&#160;reliabilities&#160;of&#160;less&#160;than</p>
<p style="position:absolute;top:1007px;left:599px;white-space:nowrap" class="ft8254">0</p>
<p style="position:absolute;top:1007px;left:607px;white-space:nowrap" class="ft8252">.</p>
<p style="position:absolute;top:1007px;left:612px;white-space:nowrap" class="ft8254">5</p>
<p style="position:absolute;top:1008px;left:625px;white-space:nowrap" class="ft8211"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#91">[Joh89]</a>.</p>
<p style="position:absolute;top:1029px;left:141px;white-space:nowrap" class="ft8212">The&#160;graph&#160;also&#160;shows&#160;that&#160;the&#160;higher&#160;the&#160;hypervisor&#160;reliability,&#160;the&#160;larger&#160;the&#160;range<br/>of&#160;VM&#160;reliability&#160;values&#160;for&#160;which&#160;the&#160;2-out-of-3&#160;replication&#160;scheme&#160;has&#160;better&#160;re-<br/>liability&#160;than&#160;the&#160;non-virtualized&#160;case.&#160;For&#160;example,&#160;when</p>
<p style="position:absolute;top:1068px;left:531px;white-space:nowrap" class="ft8252">R</p>
<p style="position:absolute;top:1075px;left:544px;white-space:nowrap" class="ft8253">V</p>
<p style="position:absolute;top:1068px;left:561px;white-space:nowrap" class="ft8254">=&#160;0</p>
<p style="position:absolute;top:1068px;left:588px;white-space:nowrap" class="ft8252">.</p>
<p style="position:absolute;top:1068px;left:592px;white-space:nowrap" class="ft8254">98</p>
<p style="position:absolute;top:1069px;left:608px;white-space:nowrap" class="ft8211">,&#160;the&#160;range</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft8216">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 83 -->
<a name="83"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page83-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter083.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft8323">CHAPTER&#160;5.&#160;DEPENDABLE&#160;AND&#160;SECURE&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft8311">83</p>
<p style="position:absolute;top:326px;left:396px;white-space:nowrap" class="ft8350">&#160;0.88</p>
<p style="position:absolute;top:305px;left:400px;white-space:nowrap" class="ft8350">&#160;0.9</p>
<p style="position:absolute;top:283px;left:396px;white-space:nowrap" class="ft8350">&#160;0.92</p>
<p style="position:absolute;top:261px;left:396px;white-space:nowrap" class="ft8350">&#160;0.94</p>
<p style="position:absolute;top:240px;left:396px;white-space:nowrap" class="ft8350">&#160;0.96</p>
<p style="position:absolute;top:218px;left:396px;white-space:nowrap" class="ft8350">&#160;0.98</p>
<p style="position:absolute;top:197px;left:407px;white-space:nowrap" class="ft8350">&#160;1</p>
<p style="position:absolute;top:334px;left:411px;white-space:nowrap" class="ft8350">&#160;0.1&#160;&#160;0.2&#160;&#160;0.3&#160;&#160;0.4&#160;&#160;0.5&#160;&#160;0.6&#160;&#160;0.7&#160;&#160;0.8&#160;&#160;0.9</p>
<p style="position:absolute;top:334px;left:581px;white-space:nowrap" class="ft8350">&#160;1</p>
<p style="position:absolute;top:306px;left:376px;white-space:nowrap" class="ft83105">Lower Bound on Reliability&#160;</p>
<p style="position:absolute;top:291px;left:383px;white-space:nowrap" class="ft83105">&#160;of Hypervisor (R</p>
<p style="position:absolute;top:234px;left:385px;white-space:nowrap" class="ft83106">V</p>
<p style="position:absolute;top:229px;left:383px;white-space:nowrap" class="ft83105">)</p>
<p style="position:absolute;top:345px;left:444px;white-space:nowrap" class="ft8350">Reliability of Virtual Machine (R</p>
<p style="position:absolute;top:348px;left:551px;white-space:nowrap" class="ft8397">M</p>
<p style="position:absolute;top:345px;left:556px;white-space:nowrap" class="ft8350">)</p>
<p style="position:absolute;top:376px;left:322px;white-space:nowrap" class="ft8311">Figure&#160;5.9:&#160;Plot&#160;of</p>
<p style="position:absolute;top:375px;left:447px;white-space:nowrap" class="ft8354">(3</p>
<p style="position:absolute;top:375px;left:461px;white-space:nowrap" class="ft8352">R</p>
<p style="position:absolute;top:382px;left:474px;white-space:nowrap" class="ft8353">M</p>
<p style="position:absolute;top:375px;left:492px;white-space:nowrap" class="ft8355">−</p>
<p style="position:absolute;top:375px;left:508px;white-space:nowrap" class="ft8354">2</p>
<p style="position:absolute;top:375px;left:516px;white-space:nowrap" class="ft8352">R</p>
<p style="position:absolute;top:373px;left:529px;white-space:nowrap" class="ft8328">2</p>
<p style="position:absolute;top:384px;left:528px;white-space:nowrap" class="ft8353">M</p>
<p style="position:absolute;top:375px;left:543px;white-space:nowrap" class="ft8354">)</p>
<p style="position:absolute;top:373px;left:549px;white-space:nowrap" class="ft8356">−</p>
<p style="position:absolute;top:373px;left:559px;white-space:nowrap" class="ft8328">1</p>
<p style="position:absolute;top:375px;left:571px;white-space:nowrap" class="ft8352">&lt;&#160;R</p>
<p style="position:absolute;top:382px;left:600px;white-space:nowrap" class="ft8353">V</p>
<p style="position:absolute;top:375px;left:616px;white-space:nowrap" class="ft8352">&lt;</p>
<p style="position:absolute;top:375px;left:633px;white-space:nowrap" class="ft8354">1</p>
<p style="position:absolute;top:428px;left:213px;white-space:nowrap" class="ft8311">of&#160;VM&#160;reliability&#160;values&#160;that&#160;can&#160;be&#160;accommodated&#160;is&#160;greater&#160;than&#160;the&#160;range&#160;when</p>
<p style="position:absolute;top:447px;left:213px;white-space:nowrap" class="ft8352">R</p>
<p style="position:absolute;top:453px;left:225px;white-space:nowrap" class="ft8353">V</p>
<p style="position:absolute;top:447px;left:240px;white-space:nowrap" class="ft8354">=&#160;0</p>
<p style="position:absolute;top:447px;left:266px;white-space:nowrap" class="ft8352">.</p>
<p style="position:absolute;top:447px;left:270px;white-space:nowrap" class="ft8354">9</p>
<p style="position:absolute;top:448px;left:278px;white-space:nowrap" class="ft8311">.</p>
<p style="position:absolute;top:497px;left:213px;white-space:nowrap" class="ft8318"><b>5.6</b></p>
<p style="position:absolute;top:497px;left:261px;white-space:nowrap" class="ft8318"><b>An&#160;Architecture&#160;for&#160;a&#160;More&#160;Reliable&#160;Xen&#160;VMM</b></p>
<p style="position:absolute;top:538px;left:213px;white-space:nowrap" class="ft8312">As&#160;shown&#160;by&#160;the&#160;model-based&#160;analysis&#160;in&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#78">5.5,&#160;</a>it&#160;is&#160;highly&#160;desirable&#160;to<br/>make&#160;the&#160;VMM&#160;as&#160;reliable&#160;as&#160;possible&#160;to&#160;improve&#160;the&#160;overall&#160;reliability&#160;of&#160;a&#160;virtu-<br/>alized&#160;node.&#160;In&#160;this&#160;section,&#160;we&#160;leverage&#160;our&#160;X-Spy&#160;implementation&#160;to&#160;propose&#160;a<br/>reliability-enhanced&#160;design&#160;of&#160;the&#160;popular&#160;Xen&#160;open-source&#160;VMM&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">[BDF</a></p>
<p style="position:absolute;top:595px;left:688px;white-space:nowrap" class="ft8328"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">+</a></p>
<p style="position:absolute;top:599px;left:699px;white-space:nowrap" class="ft8311"><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">03]</a>.</p>
<p style="position:absolute;top:619px;left:238px;white-space:nowrap" class="ft8311">The&#160;Xen&#160;VMM&#160;(Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#84">5.10(</a>a))&#160;consists&#160;of&#160;a&#160;hypervisor&#160;core&#160;and&#160;a&#160;privileged</p>
<p style="position:absolute;top:639px;left:213px;white-space:nowrap" class="ft8312">domain&#160;(or&#160;VM)&#160;called&#160;Dom0&#160;or&#160;domain&#160;zero.&#160;The&#160;hypervisor&#160;core&#160;is&#160;small&#160;in&#160;size<br/>and&#160;concerned&#160;with&#160;virtualizing&#160;the&#160;memory&#160;and&#160;CPU.&#160;Dom0&#160;is&#160;a&#160;full-fledged&#160;VM<br/>running&#160;a&#160;guest&#160;OS&#160;(Linux)&#160;and&#160;virtualizes&#160;other&#160;hardware&#160;devices&#160;(such&#160;as&#160;disks<br/>and&#160;network&#160;interfaces).&#160;Dom0&#160;is&#160;the&#160;first&#160;domain&#160;that&#160;is&#160;created,&#160;and&#160;controls<br/>all&#160;other&#160;domains,&#160;called&#160;user&#160;domains&#160;or&#160;DomUs.&#160;For&#160;any&#160;given&#160;physical&#160;device<br/>in&#160;Xen,&#160;the&#160;native&#160;device&#160;driver&#160;is&#160;part&#160;of&#160;at&#160;most&#160;one&#160;VM.&#160;If&#160;the&#160;device&#160;is&#160;to<br/>be&#160;shared&#160;with&#160;other&#160;VMs,&#160;then&#160;the&#160;VM&#160;with&#160;the&#160;native&#160;device&#160;driver&#160;makes&#160;the<br/>device&#160;available&#160;through&#160;a&#160;<i>back-end&#160;driver</i>.&#160;Any&#160;VM&#160;that&#160;wants&#160;to&#160;share&#160;the&#160;device<br/>exports&#160;a&#160;virtual&#160;device&#160;driver&#160;called&#160;the&#160;<i>front-end&#160;driver&#160;</i>to&#160;the&#160;back-end&#160;driver.<br/>Every&#160;front-end&#160;virtual&#160;device&#160;has&#160;to&#160;be&#160;connected&#160;to&#160;a&#160;corresponding&#160;back-end<br/>virtual&#160;device;&#160;only&#160;then&#160;does&#160;the&#160;front-end&#160;device&#160;become&#160;active.&#160;The&#160;mapping&#160;is<br/>one-to-one,&#160;i.e.,&#160;each&#160;front-end&#160;virtual&#160;device&#160;from&#160;each&#160;user&#160;domain&#160;is&#160;mapped&#160;to&#160;a<br/>corresponding&#160;back-end&#160;virtual&#160;device.&#160;The&#160;communication&#160;between&#160;the&#160;back-end<br/>and&#160;front-end&#160;drivers&#160;takes&#160;places&#160;through&#160;shared&#160;memory&#160;and&#160;event&#160;channels.&#160;The<br/>event&#160;channel&#160;is&#160;used&#160;for&#160;sending&#160;simple&#160;lightweight&#160;notifications&#160;and&#160;the&#160;shared<br/>memory&#160;is&#160;used&#160;for&#160;sending&#160;requests&#160;and&#160;data.</p>
<p style="position:absolute;top:965px;left:238px;white-space:nowrap" class="ft8311">As&#160;Dom0&#160;is&#160;relatively&#160;large,&#160;we&#160;expect&#160;its&#160;reliability&#160;to&#160;be&#160;lower&#160;than&#160;that&#160;of&#160;the</p>
<p style="position:absolute;top:985px;left:213px;white-space:nowrap" class="ft8312">hypervisor&#160;core.&#160;Thus,&#160;improving&#160;the&#160;reliability&#160;of&#160;Dom0&#160;is&#160;crucial&#160;to&#160;improving<br/>the&#160;reliability&#160;of&#160;the&#160;Xen&#160;VMM&#160;as&#160;a&#160;whole.&#160;We&#160;combine&#160;some&#160;of&#160;the&#160;technologies<br/>described&#160;in&#160;Section&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#64">5.3,&#160;</a>namely,&#160;intrusion&#160;detection,&#160;enforcing&#160;fail-stop&#160;behavior,<br/>and&#160;intrusion&#160;response&#160;in&#160;form&#160;of&#160;software&#160;rejuvenation,&#160;to&#160;architect&#160;a&#160;more&#160;reliable<br/>Xen&#160;VMM,&#160;which&#160;we&#160;call&#160;<i>R-Xen</i>.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft8316">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 84 -->
<a name="84"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft84117{font-size:6px;line-height:7px;font-family:Helvetica;color:#000000;}
-->
</style>
<div id="page84-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter084.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft8411">84</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft8416">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:308px;left:192px;white-space:nowrap" class="ft8474"><b>Physical&#160;Hardware</b></p>
<p style="position:absolute;top:222px;left:161px;white-space:nowrap" class="ft8474"><b>Management&#160;</b></p>
<p style="position:absolute;top:233px;left:172px;white-space:nowrap" class="ft8474"><b>of&#160;VMs,&#160;</b></p>
<p style="position:absolute;top:243px;left:160px;white-space:nowrap" class="ft8474"><b>Virt.&#160;Devices,&#160;</b></p>
<p style="position:absolute;top:254px;left:162px;white-space:nowrap" class="ft8474"><b>and&#160;security</b></p>
<p style="position:absolute;top:195px;left:173px;white-space:nowrap" class="ft8474"><b>Dom0</b></p>
<p style="position:absolute;top:287px;left:199px;white-space:nowrap" class="ft8474"><b>Xen&#160;Hypervisor</b></p>
<p style="position:absolute;top:195px;left:230px;white-space:nowrap" class="ft8474"><b>User&#160;domains</b></p>
<p style="position:absolute;top:331px;left:154px;white-space:nowrap" class="ft8422">(a)&#160;Normal&#160;Xen&#160;Architecture</p>
<p style="position:absolute;top:308px;left:459px;white-space:nowrap" class="ft8474"><b>Physical&#160;Hardware</b></p>
<p style="position:absolute;top:195px;left:435px;white-space:nowrap" class="ft8474"><b>R-Dom0</b></p>
<p style="position:absolute;top:195px;left:570px;white-space:nowrap" class="ft8474"><b>User&#160;domains</b></p>
<p style="position:absolute;top:288px;left:605px;white-space:nowrap" class="ft8474"><b>Xen&#160;Core</b></p>
<p style="position:absolute;top:240px;left:368px;white-space:nowrap" class="ft8474"><b>Dom0.A</b></p>
<p style="position:absolute;top:240px;left:435px;white-space:nowrap" class="ft8474"><b>Dom0.B</b></p>
<p style="position:absolute;top:240px;left:502px;white-space:nowrap" class="ft8474"><b>Dom0.C</b></p>
<p style="position:absolute;top:207px;left:350px;white-space:nowrap" class="ft84117">mutual&#160;intrusion<br/>monitoring</p>
<p style="position:absolute;top:274px;left:422px;white-space:nowrap" class="ft8497">periodic&#160;intrusion&#160;reports</p>
<p style="position:absolute;top:288px;left:413px;white-space:nowrap" class="ft8497">Leader&#160;Selection,&#160;Trust&#160;Vote,</p>
<p style="position:absolute;top:295px;left:411px;white-space:nowrap" class="ft8497">Termination,&#160;and&#160;Rejuvenation</p>
<p style="position:absolute;top:331px;left:433px;white-space:nowrap" class="ft8422">(b)&#160;R-Xen&#160;Architecture</p>
<p style="position:absolute;top:366px;left:225px;white-space:nowrap" class="ft8411">Figure&#160;5.10:&#160;Enhancing&#160;the&#160;Reliability&#160;of&#160;the&#160;Xen&#160;VMM</p>
<p style="position:absolute;top:416px;left:166px;white-space:nowrap" class="ft8411">In&#160;R-Xen,&#160;we&#160;enhance&#160;the&#160;reliability&#160;of&#160;Dom0&#160;by&#160;replication&#160;(Figure&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#84">5.10(</a>b)).</p>
<p style="position:absolute;top:437px;left:141px;white-space:nowrap" class="ft8412">Dom0&#160;is&#160;a&#160;single&#160;logical&#160;entity&#160;that&#160;actually&#160;consists&#160;of&#160;three&#160;privileged&#160;domains,<br/><i>Dom0.A</i>,&#160;<i>Dom0.B</i>,&#160;and&#160;<i>Dom0.C</i>,&#160;with&#160;identical&#160;privilege&#160;levels.&#160;The&#160;three&#160;replicas<br/>mutually&#160;monitor&#160;each&#160;other&#160;using&#160;the&#160;techniques&#160;we&#160;described&#160;above&#160;in&#160;our&#160;X-Spy<br/>implementation.&#160;Specifically,&#160;each&#160;Dom0&#160;replica&#160;is&#160;simultaneously&#160;the&#160;PVM&#160;and<br/>the&#160;SSVM&#160;for&#160;the&#160;other&#160;two&#160;Dom0s.&#160;Periodically,&#160;the&#160;Dom0&#160;replicas&#160;submit&#160;a&#160;fault<br/>detection&#160;vote&#160;to&#160;the&#160;hypervisor&#160;core&#160;that&#160;indicates&#160;whether&#160;one&#160;of&#160;its&#160;two&#160;peers&#160;is<br/>thought&#160;to&#160;be&#160;compromised.&#160;If&#160;any&#160;given&#160;Dom0&#160;replica&#160;is&#160;labeled&#160;as&#160;being&#160;faulty<br/>by&#160;its&#160;two&#160;peer&#160;SSVMs,&#160;then&#160;the&#160;replica&#160;will&#160;be&#160;terminated&#160;and&#160;rejuvenated&#160;by&#160;the<br/>hypervisor.&#160;In&#160;this&#160;way,&#160;we&#160;enforce&#160;fail-stop&#160;behavior&#160;of&#160;the&#160;replica&#160;despite&#160;the<br/>presence&#160;of&#160;a&#160;more&#160;severe&#160;kind&#160;of&#160;fault&#160;in&#160;the&#160;replica.&#160;The&#160;hypervisor&#160;core&#160;then<br/>starts&#160;a&#160;new&#160;Dom0&#160;replica&#160;as&#160;a&#160;replacement&#160;of&#160;the&#160;terminated&#160;one.</p>
<p style="position:absolute;top:660px;left:166px;white-space:nowrap" class="ft8411">One&#160;of&#160;the&#160;Dom0&#160;replicas&#160;is&#160;designated&#160;as&#160;<i>active&#160;</i>by&#160;the&#160;hypervisor&#160;core,&#160;and&#160;it</p>
<p style="position:absolute;top:681px;left:141px;white-space:nowrap" class="ft8412">is&#160;this&#160;active&#160;replica&#160;that&#160;provides&#160;the&#160;back-end&#160;drivers&#160;for&#160;the&#160;devices&#160;of&#160;the&#160;user<br/>domains.&#160;The&#160;other&#160;two&#160;replicas&#160;are&#160;designated&#160;as&#160;<i>passive</i>,&#160;and&#160;do&#160;not&#160;provide&#160;any<br/>back-end&#160;devices.&#160;As&#160;mentioned&#160;above,&#160;each&#160;of&#160;the&#160;three&#160;Dom0&#160;replicas&#160;monitors<br/>and&#160;is&#160;being&#160;monitored&#160;by&#160;the&#160;other&#160;two.&#160;If&#160;the&#160;hypervisor&#160;gets&#160;reports&#160;from&#160;two<br/>independent&#160;replicas&#160;labeling&#160;the&#160;third&#160;replica&#160;as&#160;faulty,&#160;then&#160;the&#160;hypervisor&#160;termi-<br/>nates&#160;that&#160;replica&#160;and&#160;replaces&#160;it&#160;with&#160;a&#160;new&#160;Dom0&#160;replica.&#160;If&#160;the&#160;terminated&#160;replica<br/>is&#160;a&#160;primary,&#160;then&#160;the&#160;hypervisor&#160;designates&#160;one&#160;of&#160;the&#160;backups&#160;as&#160;the&#160;new&#160;primary<br/>replica&#160;by&#160;re-connecting&#160;the&#160;front-end&#160;devices&#160;of&#160;the&#160;user&#160;domain(s)&#160;to&#160;the&#160;replica’s<br/>back-end&#160;devices.&#160;The&#160;disconnection&#160;and&#160;reconnection&#160;of&#160;the&#160;user&#160;domain(s)&#160;to&#160;a<br/>different&#160;Dom0&#160;has&#160;already&#160;been&#160;implemented&#160;in&#160;Xen&#160;and&#160;is&#160;used&#160;for&#160;live&#160;migra-<br/>tion&#160;of&#160;domains.&#160;Therefore,&#160;the&#160;code&#160;can&#160;be&#160;reused.&#160;The&#160;hypervisor&#160;itself&#160;has&#160;to<br/>actively&#160;give&#160;permissions&#160;for&#160;doing&#160;the&#160;reconnection&#160;and&#160;re-routing&#160;the&#160;data&#160;from<br/>the&#160;old&#160;Dom0&#160;to&#160;the&#160;new&#160;one.&#160;It&#160;also&#160;has&#160;to&#160;shutdown&#160;the&#160;old&#160;Dom0&#160;after&#160;the&#160;recon-<br/>nection&#160;process&#160;has&#160;been&#160;completed.&#160;Using&#160;a&#160;previously&#160;started&#160;backup&#160;as&#160;the&#160;new<br/>primary&#160;results&#160;in&#160;less&#160;interruption&#160;to&#160;the&#160;user&#160;domain&#160;than&#160;using&#160;the&#160;replacement<br/>replica&#160;(which&#160;has&#160;to&#160;be&#160;booted&#160;from&#160;scratch)&#160;as&#160;the&#160;new&#160;primary.&#160;It&#160;also&#160;enables<br/>the&#160;booting&#160;of&#160;the&#160;replacement&#160;replica&#160;to&#160;occur&#160;concurrently&#160;to&#160;the&#160;re-connection<br/>of&#160;the&#160;front-end&#160;devices.&#160;Like&#160;other&#160;fault-detection-based&#160;techniques,&#160;there&#160;is&#160;the<br/>drawback&#160;of&#160;<i>detection&#160;latency</i>,&#160;i.e.,&#160;a&#160;time&#160;delay&#160;between&#160;the&#160;actual&#160;occurrence<br/>of&#160;the&#160;fault&#160;and&#160;its&#160;detection.&#160;I/O&#160;requests&#160;sent&#160;by&#160;the&#160;user&#160;domain(s)&#160;during&#160;this</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft8416">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 85 -->
<a name="85"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page85-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter085.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft8523">CHAPTER&#160;5.&#160;DEPENDABLE&#160;AND&#160;SECURE&#160;VIRTUAL&#160;DATACENTERS</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft8511">85</p>
<p style="position:absolute;top:196px;left:213px;white-space:nowrap" class="ft8512">latency&#160;period&#160;may&#160;have&#160;to&#160;be&#160;re-issued.&#160;On&#160;the&#160;positive&#160;side,&#160;our&#160;technique&#160;can<br/>be&#160;implemented&#160;in&#160;a&#160;manner&#160;that&#160;is&#160;completely&#160;transparent&#160;to&#160;the&#160;user&#160;domain(s).<br/>In&#160;other&#160;words,&#160;a&#160;DomU&#160;running&#160;on&#160;normal&#160;Xen&#160;should&#160;be&#160;able&#160;to&#160;run&#160;without<br/>modification&#160;on&#160;this&#160;type&#160;of&#160;R-Xen&#160;as&#160;well.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft8516">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 86 -->
<a name="86"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page86-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter086.png" alt="background image"/>
<p style="position:absolute;top:477px;left:359px;white-space:nowrap" class="ft8617"><b>Part&#160;III</b></p>
<p style="position:absolute;top:547px;left:321px;white-space:nowrap" class="ft8613"><b>Conclusion</b></p>
<p style="position:absolute;top:1114px;left:402px;white-space:nowrap" class="ft8611">86</p>
</div>
<!-- Page 87 -->
<a name="87"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page87-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter087.png" alt="background image"/>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft8711">87</p>
<p style="position:absolute;top:196px;left:238px;white-space:nowrap" class="ft8711">In&#160;this&#160;report,&#160;we&#160;have&#160;described&#160;the&#160;OpenTC&#160;approach&#160;towards&#160;a&#160;Trusted&#160;Vir-</p>
<p style="position:absolute;top:216px;left:213px;white-space:nowrap" class="ft8712">tual&#160;Datacenter.&#160;The&#160;core&#160;idea&#160;is&#160;to&#160;build&#160;a&#160;datacenter&#160;that&#160;allows&#160;for&#160;and&#160;isolates<br/>multiple&#160;customers&#160;while&#160;satisfying&#160;the&#160;security&#160;requirements&#160;of&#160;each&#160;customer.</p>
<p style="position:absolute;top:257px;left:238px;white-space:nowrap" class="ft8711">Securing&#160;the&#160;access&#160;to&#160;data&#160;on&#160;persistent&#160;media&#160;and&#160;during&#160;transfer&#160;over&#160;the</p>
<p style="position:absolute;top:277px;left:213px;white-space:nowrap" class="ft8712">network&#160;is&#160;a&#160;serious&#160;problem&#160;in&#160;distributed&#160;virtual&#160;data-center&#160;and&#160;cloud&#160;computing<br/>scenarios.&#160;We&#160;described&#160;a&#160;framework&#160;based&#160;on&#160;TVDs&#160;and&#160;Trusted&#160;Computing&#160;for<br/>secure&#160;network&#160;and&#160;storage&#160;virtualization&#160;that&#160;includes&#160;mechanisms&#160;for&#160;verifying<br/>the&#160;integrity&#160;of&#160;the&#160;hypervisor,&#160;VMs,&#160;and&#160;security&#160;policy&#160;enforcement&#160;points.</p>
<p style="position:absolute;top:358px;left:238px;white-space:nowrap" class="ft8711">This&#160;is&#160;achieved&#160;by&#160;means&#160;of&#160;so-called&#160;Trusted&#160;Virtual&#160;Domains&#160;that&#160;provide&#160;a</p>
<p style="position:absolute;top:378px;left:213px;white-space:nowrap" class="ft8712">virtual&#160;environment&#160;for&#160;each&#160;customer.&#160;Each&#160;trusted&#160;virtual&#160;domain&#160;exposes&#160;a&#160;stan-<br/>dardized&#160;management&#160;interface&#160;that&#160;allows&#160;customers&#160;to&#160;run&#160;existing&#160;management<br/>software&#160;to&#160;manage&#160;their&#160;respective&#160;domains.&#160;The&#160;concept&#160;of&#160;TVDs&#160;is&#160;rigid&#160;enough<br/>to&#160;allow&#160;consistent&#160;policy&#160;enforcement&#160;across&#160;a&#160;group&#160;of&#160;domain&#160;elements,&#160;while<br/>being&#160;flexible&#160;enough&#160;to&#160;support&#160;policy-controlled&#160;interactions&#160;between&#160;different<br/>TVDs.&#160;TVD&#160;policies&#160;and&#160;configurations&#160;are&#160;‘backward-compatible’&#160;in&#160;support-<br/>ing&#160;options&#160;that&#160;could&#160;be&#160;taken&#160;for&#160;granted&#160;in&#160;non-virtualized&#160;data&#160;centers.&#160;For<br/>example,&#160;co-hosting&#160;of&#160;specific&#160;customer&#160;services&#160;with&#160;those&#160;of&#160;other&#160;data-center<br/>customers&#160;on&#160;the&#160;same&#160;physical&#160;platform&#160;could&#160;be&#160;inhibited&#160;if&#160;so&#160;desired.&#160;By&#160;incor-<br/>porating&#160;hardware-based&#160;Trusted&#160;Computing&#160;technology,&#160;our&#160;framework&#160;allows&#160;the<br/>creation&#160;of&#160;policy&#160;domains&#160;with&#160;attestable&#160;trust&#160;properties&#160;for&#160;each&#160;of&#160;the&#160;domain<br/>nodes.</p>
<p style="position:absolute;top:622px;left:238px;white-space:nowrap" class="ft8711">In&#160;order&#160;to&#160;enforce&#160;the&#160;given&#160;security&#160;requirements,&#160;we&#160;deploy&#160;the&#160;security&#160;ser-</p>
<p style="position:absolute;top:643px;left:213px;white-space:nowrap" class="ft8712">vices&#160;described&#160;in&#160;Deliverable&#160;D05.4&#160;<a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#92">[Ope08b]&#160;</a>that&#160;allow&#160;verifiable&#160;security&#160;within<br/>each&#160;domain.&#160;This&#160;includes&#160;validation&#160;of&#160;the&#160;trusted&#160;computing&#160;base&#160;as&#160;well&#160;as&#160;ver-<br/>ifiable&#160;enforcement&#160;of&#160;given&#160;per-domain&#160;policies.&#160;The&#160;inclusion&#160;of&#160;integrity&#160;mea-<br/>surement&#160;and&#160;management&#160;mechanisms&#160;as&#160;part&#160;of&#160;the&#160;physical&#160;platform’s&#160;TCBs<br/>provides&#160;both&#160;data-center&#160;customers&#160;and&#160;administrators&#160;with&#160;a&#160;much&#160;needed&#160;view<br/>of&#160;the&#160;elements&#160;(hypervisors,&#160;VMs,&#160;etc.)&#160;that&#160;are&#160;part&#160;of&#160;their&#160;virtual&#160;infrastructure<br/>as&#160;well&#160;as&#160;information&#160;on&#160;the&#160;configurations&#160;of&#160;those&#160;elements.&#160;Our&#160;framework&#160;can<br/>be&#160;used&#160;to&#160;obtain&#160;information&#160;about&#160;the&#160;elements&#160;on&#160;a&#160;‘need-to-know’&#160;basis&#160;with-<br/>out&#160;having&#160;to&#160;introduce&#160;all-powerful&#160;roles&#160;of&#160;administrators&#160;with&#160;access&#160;to&#160;every<br/>aspect&#160;of&#160;a&#160;platform.</p>
<p style="position:absolute;top:846px;left:238px;white-space:nowrap" class="ft8711">Another&#160;insight&#160;was&#160;that&#160;building&#160;a&#160;security&#160;API&#160;that&#160;is&#160;at&#160;the&#160;same&#160;time&#160;flexi-</p>
<p style="position:absolute;top:866px;left:213px;white-space:nowrap" class="ft8712">ble,&#160;usable,&#160;and&#160;manageable&#160;has&#160;proved&#160;to&#160;be&#160;more&#160;difficult&#160;than&#160;expected.&#160;A&#160;key<br/>reason&#160;for&#160;this&#160;difficulty&#160;is&#160;the&#160;requirement&#160;that&#160;the&#160;API&#160;should&#160;be&#160;easily&#160;adaptable<br/>to&#160;other&#160;hypervisor&#160;architectures&#160;and&#160;to&#160;workstation&#160;scenarios&#160;with&#160;GUI&#160;interfaces.<br/>While&#160;addressing&#160;each&#160;of&#160;these&#160;requirements&#160;separately&#160;is&#160;feasible,&#160;their&#160;combina-<br/>tion&#160;comes&#160;with&#160;many&#160;trade-offs.</p>
<p style="position:absolute;top:968px;left:238px;white-space:nowrap" class="ft8711">Yet&#160;another&#160;type&#160;of&#160;trade-off&#160;concerns&#160;our&#160;aim&#160;of&#160;decomposing&#160;the&#160;Xen&#160;archi-</p>
<p style="position:absolute;top:988px;left:213px;white-space:nowrap" class="ft8712">tecture&#160;into&#160;multiple,&#160;dedicated&#160;security&#160;services&#160;while&#160;reducing&#160;the&#160;reliance&#160;on&#160;the<br/>management&#160;domain.&#160;While&#160;such&#160;decomposition&#160;is&#160;advantageous&#160;from&#160;a&#160;security<br/>perspective,&#160;it&#160;tends&#160;to&#160;reduce&#160;flexibility.&#160;The&#160;availability&#160;of&#160;a&#160;full-fledged&#160;Linux<br/>management&#160;domain&#160;with&#160;access&#160;to&#160;all&#160;systems&#160;enables&#160;easy&#160;extensibility&#160;and&#160;rapid<br/>prototyping&#160;(scripting,&#160;adding&#160;devices,&#160;firewalls,&#160;VPNs&#160;etc),&#160;and&#160;also&#160;corresponds</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft8716">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 88 -->
<a name="88"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page88-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter088.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft8811">88</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft8816">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft8812">to&#160;the&#160;expectations&#160;of&#160;many&#160;Xen&#160;users.&#160;In&#160;general,&#160;however,&#160;considerations&#160;of&#160;us-<br/>ability&#160;tend&#160;to&#160;favor&#160;design&#160;decisions&#160;that&#160;are&#160;sub-optimal&#160;from&#160;a&#160;strict&#160;security<br/>perspective.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft8816">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 89 -->
<a name="89"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft89118{font-size:16px;line-height:20px;font-family:Times;color:#000000;}
-->
</style>
<div id="page89-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter089.png" alt="background image"/>
<p style="position:absolute;top:301px;left:213px;white-space:nowrap" class="ft8913"><b>Bibliography</b></p>
<p style="position:absolute;top:395px;left:213px;white-space:nowrap" class="ft8911">[AF02]</p>
<p style="position:absolute;top:395px;left:314px;white-space:nowrap" class="ft89118">A.&#160;Agbaria&#160;and&#160;R.&#160;Friedman,&#160;<i>Virtual&#160;Machine&#160;Based&#160;Hetero-<br/>geneous&#160;Checkpointing</i>,&#160;Software:&#160;Practice&#160;and&#160;Experience&#160;<b>32<br/></b>(2002),&#160;no.&#160;1,&#160;1–19.</p>
<p style="position:absolute;top:470px;left:213px;white-space:nowrap" class="ft8911">[BCG</p>
<p style="position:absolute;top:466px;left:252px;white-space:nowrap" class="ft8928">+</p>
<p style="position:absolute;top:470px;left:262px;white-space:nowrap" class="ft8911">06]</p>
<p style="position:absolute;top:470px;left:314px;white-space:nowrap" class="ft8912">Stefan&#160;Berger,&#160;Ramon&#160;Cáceres,&#160;Kenneth&#160;Goldman,&#160;Ron&#160;Perez,<br/>Rainer&#160;Sailer,&#160;and&#160;Leender&#160;van&#160;Doorn,&#160;<i>vTPM:&#160;Virtualizing&#160;the<br/>Trusted&#160;Platform&#160;Module</i>,&#160;Proc.&#160;15th&#160;USENIX&#160;Security&#160;Sympo-<br/>sium,&#160;August&#160;2006,&#160;pp.&#160;21–21.</p>
<p style="position:absolute;top:564px;left:213px;white-space:nowrap" class="ft8911">[BDF</p>
<p style="position:absolute;top:561px;left:250px;white-space:nowrap" class="ft8928">+</p>
<p style="position:absolute;top:564px;left:260px;white-space:nowrap" class="ft8911">03]</p>
<p style="position:absolute;top:564px;left:314px;white-space:nowrap" class="ft8912">P.&#160;T.&#160;Barham,&#160;B.&#160;Dragovic,&#160;K.&#160;Fraser,&#160;S.&#160;Hand,&#160;T.&#160;L.&#160;Harris,&#160;A.&#160;Ho,<br/>R.&#160;Neugebauer,&#160;I.&#160;Pratt,&#160;and&#160;A.&#160;Warfield,&#160;<i>Xen&#160;and&#160;the&#160;Art&#160;of&#160;Virtu-<br/>alization</i>,&#160;Proc.&#160;19th&#160;ACM&#160;Symposium&#160;on&#160;Operating&#160;Systems&#160;Prin-<br/>ciples&#160;(SOSP-2003),&#160;October&#160;2003,&#160;pp.&#160;164–177.</p>
<p style="position:absolute;top:659px;left:213px;white-space:nowrap" class="ft8911">[BGJ</p>
<p style="position:absolute;top:656px;left:247px;white-space:nowrap" class="ft8928">+</p>
<p style="position:absolute;top:659px;left:258px;white-space:nowrap" class="ft8911">05]</p>
<p style="position:absolute;top:659px;left:314px;white-space:nowrap" class="ft8912">A.&#160;Bussani,&#160;J.&#160;L.&#160;Griffin,&#160;B.&#160;Jansen,&#160;K.&#160;Julisch,&#160;G.&#160;Karjoth,<br/>H.&#160;Maruyama,&#160;M.&#160;Nakamura,&#160;R.&#160;Perez,&#160;M.&#160;Schunter,&#160;A.&#160;Tanner,<br/>L.&#160;van&#160;Doorn,&#160;E.&#160;V.&#160;Herreweghen,&#160;M.&#160;Waidner,&#160;and&#160;S.&#160;Yoshihama,<br/><i>Trusted&#160;Virtual&#160;Domains:&#160;Secure&#160;foundation&#160;for&#160;business&#160;and&#160;IT<br/>services</i>,&#160;Research&#160;Report&#160;RC&#160;23792,&#160;IBM&#160;Research,&#160;November<br/>2005.</p>
<p style="position:absolute;top:794px;left:213px;white-space:nowrap" class="ft8911">[BS96]</p>
<p style="position:absolute;top:794px;left:314px;white-space:nowrap" class="ft8964">T.&#160;C.&#160;Bressoud&#160;and&#160;F.&#160;B.&#160;Schneider,&#160;<i>Hypervisor-Based&#160;Fault&#160;Toler-<br/>ance</i>,&#160;ACM&#160;Trans.&#160;Comput.&#160;Syst.&#160;<b>14&#160;</b>(1996),&#160;no.&#160;1,&#160;80–107.</p>
<p style="position:absolute;top:849px;left:213px;white-space:nowrap" class="ft8911">[BVV05]</p>
<p style="position:absolute;top:849px;left:314px;white-space:nowrap" class="ft8912">Doug&#160;Beck,&#160;Binh&#160;Vo,&#160;and&#160;Chad&#160;Verbowski,&#160;<i>Detecting&#160;Stealth&#160;Soft-<br/>ware&#160;with&#160;Strider&#160;GhostBuster</i>,&#160;DSN&#160;’05:&#160;Proceedings&#160;of&#160;the&#160;2005<br/>International&#160;Conference&#160;on&#160;Dependable&#160;Systems&#160;and&#160;Networks<br/>(DSN’05)&#160;(Washington,&#160;DC,&#160;USA),&#160;IEEE&#160;Computer&#160;Society,&#160;2005,<br/>pp.&#160;368–377.</p>
<p style="position:absolute;top:964px;left:213px;white-space:nowrap" class="ft8911">[CBL07]</p>
<p style="position:absolute;top:964px;left:314px;white-space:nowrap" class="ft8912">A.&#160;Cappadonia&#160;C.&#160;Basile&#160;and&#160;A.&#160;Lioy,&#160;<i>Algebraic&#160;models&#160;to&#160;de-<br/>tect&#160;and&#160;solve&#160;policy&#160;conflicts</i>,&#160;MMM-ACNS&#160;2007&#160;(I.&#160;Kotenko<br/>V.&#160;Gorodetsky&#160;and&#160;V.A.&#160;Skormin,&#160;eds.),&#160;CCIS,&#160;vol.&#160;1,&#160;Springer-<br/>Verlag,&#160;2007,&#160;pp.&#160;242–247.</p>
<p style="position:absolute;top:1114px;left:473px;white-space:nowrap" class="ft8911">89</p>
</div>
<!-- Page 90 -->
<a name="90"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page90-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter090.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft9011">90</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft9016">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft9011">[CDRS07]</p>
<p style="position:absolute;top:196px;left:243px;white-space:nowrap" class="ft9012">Serdar&#160;Cabuk,&#160;Chris&#160;Dalton,&#160;HariGovind&#160;V.&#160;Ramasamy,&#160;and<br/>Matthias&#160;Schunter,&#160;<i>Towards&#160;automated&#160;provisioning&#160;of&#160;secure&#160;vir-<br/>tualized&#160;networks</i>,&#160;Proc.&#160;14th&#160;ACM&#160;Conference&#160;on&#160;Computer&#160;and<br/>Communications&#160;Security&#160;(CCS-2007),&#160;October&#160;2007,&#160;pp.&#160;235–<br/>245.</p>
<p style="position:absolute;top:311px;left:141px;white-space:nowrap" class="ft9011">[CFH</p>
<p style="position:absolute;top:307px;left:178px;white-space:nowrap" class="ft9028">+</p>
<p style="position:absolute;top:311px;left:189px;white-space:nowrap" class="ft9011">05]</p>
<p style="position:absolute;top:311px;left:243px;white-space:nowrap" class="ft9012">C.&#160;Clark,&#160;K.&#160;Fraser,&#160;S.&#160;Hand,&#160;J.&#160;G.&#160;Hansen,&#160;E.&#160;Jul,&#160;C.&#160;Limpach,<br/>I.&#160;Pratt,&#160;and&#160;A.&#160;Warfield,&#160;<i>Live&#160;Migration&#160;of&#160;Virtual&#160;Machines</i>,&#160;Proc.<br/>2nd&#160;Symposium&#160;on&#160;Networked&#160;Systems&#160;Design&#160;and&#160;Implementa-<br/>tion&#160;(NSDI-2005),&#160;May&#160;2005,&#160;pp.&#160;273–286.</p>
<p style="position:absolute;top:405px;left:141px;white-space:nowrap" class="ft9011">[CN01]</p>
<p style="position:absolute;top:405px;left:243px;white-space:nowrap" class="ft9012">P.&#160;M.&#160;Chen&#160;and&#160;B.&#160;D.&#160;Noble,&#160;<i>When&#160;Virtual&#160;is&#160;Better&#160;than&#160;Real</i>,&#160;Pro-<br/>ceedings&#160;of&#160;HotOS-VIII:&#160;8th&#160;Workshop&#160;on&#160;Hot&#160;Topics&#160;in&#160;Operating<br/>Systems,&#160;May&#160;2001,&#160;pp.&#160;133–138.</p>
<p style="position:absolute;top:480px;left:141px;white-space:nowrap" class="ft9011">[Com98]</p>
<p style="position:absolute;top:480px;left:243px;white-space:nowrap" class="ft9012">Common&#160;Criteria&#160;Project&#160;Sponsoring&#160;Organisations,&#160;<i>Common&#160;Cri-<br/>teria&#160;for&#160;Information&#160;Technology&#160;Security&#160;Evaluation&#160;(version&#160;2.0)</i>,<br/>dopted&#160;by&#160;ISO/IEC&#160;as&#160;Draft&#160;International&#160;Standard&#160;DIS&#160;15408&#160;1-3,<br/>May&#160;1998.</p>
<p style="position:absolute;top:574px;left:141px;white-space:nowrap" class="ft9011">[DH05]</p>
<p style="position:absolute;top:574px;left:243px;white-space:nowrap" class="ft9012">J.&#160;R.&#160;Douceur&#160;and&#160;J.&#160;Howell,&#160;<i>Replicated&#160;Virtual&#160;Machines</i>,&#160;Tech.<br/>Report&#160;MSR&#160;TR-2005-119,&#160;Microsoft&#160;Research,&#160;September&#160;2005.</p>
<p style="position:absolute;top:629px;left:141px;white-space:nowrap" class="ft9011">[Dik00]</p>
<p style="position:absolute;top:629px;left:243px;white-space:nowrap" class="ft9012">Jeff&#160;Dike,&#160;<i>A&#160;User-Mode&#160;Port&#160;of&#160;the&#160;Linux&#160;Kernel</i>,&#160;ALS’00:&#160;Pro-<br/>ceedings&#160;of&#160;the&#160;4th&#160;conference&#160;on&#160;4th&#160;Annual&#160;Linux&#160;Showcase&#160;&amp;<br/>Conference,&#160;Atlanta&#160;(Berkeley,&#160;CA,&#160;USA),&#160;USENIX&#160;Association,<br/>2000,&#160;pp.&#160;7–7.</p>
<p style="position:absolute;top:723px;left:141px;white-space:nowrap" class="ft9011">[DKC</p>
<p style="position:absolute;top:720px;left:181px;white-space:nowrap" class="ft9028">+</p>
<p style="position:absolute;top:723px;left:192px;white-space:nowrap" class="ft9011">02]</p>
<p style="position:absolute;top:723px;left:243px;white-space:nowrap" class="ft9012">G.&#160;W.&#160;Dunlap,&#160;S.&#160;T.&#160;King,&#160;S.&#160;Cinar,&#160;M.&#160;A.&#160;Basrai,&#160;and&#160;P.&#160;M.&#160;Chen,<br/><i>ReVirt:&#160;Enabling&#160;Intrusion&#160;Analysis&#160;through&#160;Virtual-Machine&#160;Log-<br/>ging&#160;and&#160;Replay</i>,&#160;SIGOPS&#160;Operating&#160;System&#160;Review&#160;<b>36&#160;</b>(2002),<br/>no.&#160;SI,&#160;211–224.</p>
<p style="position:absolute;top:818px;left:141px;white-space:nowrap" class="ft9011">[EASH05]</p>
<p style="position:absolute;top:818px;left:243px;white-space:nowrap" class="ft9012">H.&#160;Hamed&#160;E.&#160;Al-Shaer,&#160;R.&#160;Boutaba&#160;and&#160;M.&#160;Hasan,&#160;<i>Conflict&#160;classifi-<br/>cation&#160;and&#160;analysis&#160;of&#160;distributed&#160;firewall&#160;policies</i>,&#160;IEEE&#160;Journal&#160;on<br/>Selected&#160;Areas&#160;in&#160;Communications,&#160;IEEE&#160;<b>23&#160;</b>(Oct.&#160;2005),&#160;no.&#160;10,<br/>2069–2084.</p>
<p style="position:absolute;top:913px;left:141px;white-space:nowrap" class="ft9011">[FWH</p>
<p style="position:absolute;top:910px;left:183px;white-space:nowrap" class="ft9028">+</p>
<p style="position:absolute;top:913px;left:193px;white-space:nowrap" class="ft9011">01]</p>
<p style="position:absolute;top:913px;left:243px;white-space:nowrap" class="ft9064">Zhi&#160;Fu,&#160;Shyhtsun&#160;Felix&#160;Wu,&#160;He&#160;Huang,&#160;Kung&#160;Loh,&#160;Fengmin&#160;Gong,<br/>Ilia&#160;Baldine,&#160;and&#160;Chong&#160;Xu,&#160;<i>IPSec/VPN&#160;security&#160;policy:&#160;Correct-<br/>ness,&#160;conflict&#160;detection,&#160;and&#160;resolution</i>,&#160;POLICY,&#160;2001,&#160;pp.&#160;39–56.</p>
<p style="position:absolute;top:987px;left:141px;white-space:nowrap" class="ft9011">[GR03]</p>
<p style="position:absolute;top:987px;left:243px;white-space:nowrap" class="ft9012">Tal&#160;Garfinkel&#160;and&#160;Mendel&#160;Rosenblum,&#160;<i>A&#160;Virtual&#160;Machine&#160;Intro-<br/>spection&#160;Based&#160;Architecture&#160;for&#160;Intrusion&#160;Detection</i>,&#160;Proc.&#160;Network<br/>and&#160;Distributed&#160;Systems&#160;Security&#160;Symposium,&#160;February&#160;2003.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft9016">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 91 -->
<a name="91"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page91-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter091.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft9123">BIBLIOGRAPHY</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft9111">91</p>
<p style="position:absolute;top:196px;left:213px;white-space:nowrap" class="ft9111">[GR05]</p>
<p style="position:absolute;top:196px;left:314px;white-space:nowrap" class="ft9112">T.&#160;Garfinkel&#160;and&#160;M.&#160;Rosenblum,&#160;<i>When&#160;Virtual&#160;is&#160;Harder&#160;than&#160;Real:<br/>Security&#160;Challenges&#160;in&#160;Virtual&#160;Machine&#160;Based&#160;Computing&#160;Environ-<br/>ments</i>,&#160;Proc.&#160;10th&#160;Workshop&#160;on&#160;Hot&#160;Topics&#160;in&#160;Operating&#160;Systems<br/>(HotOS-X),&#160;May&#160;2005.</p>
<p style="position:absolute;top:288px;left:213px;white-space:nowrap" class="ft9111">[HDW00]</p>
<p style="position:absolute;top:288px;left:314px;white-space:nowrap" class="ft91118">M.&#160;Dacier&#160;H.&#160;Debar&#160;and&#160;A.&#160;Wespi,&#160;<i>A&#160;Revised&#160;Taxonomy&#160;of<br/>Intrusion-Detection&#160;Systems</i>,&#160;Annales&#160;des&#160;Telecommunications&#160;<b>55<br/></b>(2000),&#160;no.&#160;(7-8),&#160;83–100.</p>
<p style="position:absolute;top:360px;left:213px;white-space:nowrap" class="ft9111">[IEE98]</p>
<p style="position:absolute;top:360px;left:314px;white-space:nowrap" class="ft9112">IEEE,&#160;<i>Standards&#160;for&#160;local&#160;and&#160;metropolitan&#160;area&#160;networks:&#160;Virtual<br/>bridged&#160;local&#160;area&#160;networks</i>,&#160;Tech.&#160;Report&#160;ISBN&#160;0-7381-3662-X,<br/>IEEE,&#160;1998.</p>
<p style="position:absolute;top:432px;left:213px;white-space:nowrap" class="ft9111">[IEE04]</p>
<p style="position:absolute;top:432px;left:366px;white-space:nowrap" class="ft9111">,&#160;<i>802.1x:&#160;IEEE&#160;standard&#160;for&#160;local&#160;and&#160;metropolitan&#160;net-</i></p>
<p style="position:absolute;top:452px;left:314px;white-space:nowrap" class="ft9112"><i>works&#160;—&#160;port-based&#160;network&#160;access&#160;control</i>,&#160;IEEE&#160;Standards,<br/>2004,&#160;Revision&#160;of&#160;802.1X-2001.</p>
<p style="position:absolute;top:504px;left:213px;white-space:nowrap" class="ft9111">[IET02]</p>
<p style="position:absolute;top:504px;left:314px;white-space:nowrap" class="ft9112">IETF,&#160;<i>EtherIP:&#160;Tunneling&#160;Ethernet&#160;Frames&#160;in&#160;IP&#160;Datagrams</i>,&#160;2002,<br/>RFC&#160;3378.</p>
<p style="position:absolute;top:556px;left:213px;white-space:nowrap" class="ft9111">[JKDC05]</p>
<p style="position:absolute;top:556px;left:314px;white-space:nowrap" class="ft9112">A.&#160;Joshi,&#160;S&#160;.T.&#160;King,&#160;G.&#160;W.&#160;Dunlap,&#160;and&#160;P.&#160;M.&#160;Chen,&#160;<i>Detecting<br/>Past&#160;and&#160;Present&#160;Intrusions&#160;through&#160;Vulnerability-Specific&#160;Predi-<br/>cates</i>,&#160;Proc.&#160;20th&#160;ACM&#160;Symposium&#160;on&#160;Operating&#160;Systems&#160;Princi-<br/>ples&#160;(SOSP-2005),&#160;2005,&#160;pp.&#160;91–104.</p>
<p style="position:absolute;top:648px;left:213px;white-space:nowrap" class="ft9111">[Joh89]</p>
<p style="position:absolute;top:648px;left:314px;white-space:nowrap" class="ft9164">B.&#160;W.&#160;Johnson,&#160;<i>Design&#160;and&#160;Analysis&#160;of&#160;Fault-Tolerant&#160;Digital&#160;Sys-<br/>tems</i>,&#160;Addison-Wesley,&#160;1989.</p>
<p style="position:absolute;top:700px;left:213px;white-space:nowrap" class="ft9111">[JRS07]</p>
<p style="position:absolute;top:700px;left:314px;white-space:nowrap" class="ft9164">Bernhard&#160;Jansen,&#160;HariGovind&#160;Ramasamy,&#160;and&#160;Matthias&#160;Schunter,<br/><i>Compliance&#160;proofs&#160;and&#160;policy&#160;enforcement&#160;for&#160;xen&#160;virtual&#160;ma-<br/>chines</i>,&#160;Submitted&#160;for&#160;Publication,&#160;2007.</p>
<p style="position:absolute;top:772px;left:213px;white-space:nowrap" class="ft9111">[JWX07]</p>
<p style="position:absolute;top:772px;left:314px;white-space:nowrap" class="ft9112">Xuxian&#160;Jiang,&#160;Xinyuan&#160;Wang,&#160;and&#160;Dongyan&#160;Xu,&#160;<i>Stealthy&#160;malware<br/>detection&#160;through&#160;vmm-based&#160;&#34;out-of-the-box&#34;&#160;semantic&#160;view&#160;re-<br/>construction</i>,&#160;CCS&#160;’07:&#160;Proceedings&#160;of&#160;the&#160;14th&#160;ACM&#160;conference<br/>on&#160;Computer&#160;and&#160;communications&#160;security&#160;(New&#160;York,&#160;NY,&#160;USA),<br/>ACM,&#160;2007,&#160;pp.&#160;128–138.</p>
<p style="position:absolute;top:885px;left:213px;white-space:nowrap" class="ft9111">[KC03]</p>
<p style="position:absolute;top:885px;left:314px;white-space:nowrap" class="ft9112">S.&#160;T.&#160;King&#160;and&#160;P.&#160;M.&#160;Chen,&#160;<i>Backtracking&#160;Intrusions</i>,&#160;Proc.&#160;19th<br/>ACM&#160;Symposium&#160;on&#160;Operating&#160;Systems&#160;Principles&#160;(SOSP-2003),<br/>2003,&#160;pp.&#160;223–236.</p>
<p style="position:absolute;top:957px;left:213px;white-space:nowrap" class="ft9111">[KDC05]</p>
<p style="position:absolute;top:957px;left:314px;white-space:nowrap" class="ft9112">S.&#160;T.&#160;King,&#160;G.&#160;W.&#160;Dunlap,&#160;and&#160;P.&#160;M.&#160;Chen,&#160;<i>Debugging&#160;Operating<br/>Systems&#160;with&#160;Time-Traveling&#160;Virtual&#160;Machines</i>,&#160;Proc.&#160;2005&#160;Annual<br/>USENIX&#160;Technical&#160;Conference,&#160;April&#160;2005,&#160;pp.&#160;1–15.</p>
<p style="position:absolute;top:1029px;left:213px;white-space:nowrap" class="ft9111">[KMLC05]</p>
<p style="position:absolute;top:1029px;left:314px;white-space:nowrap" class="ft9112">S.&#160;T.&#160;King,&#160;Z.&#160;M.&#160;Mao,&#160;D.&#160;G.&#160;Lucchetti,&#160;and&#160;P.&#160;M.&#160;Chen,&#160;<i>Enriching<br/>Intrusion&#160;Alerts&#160;through&#160;Multi-Host&#160;Causality</i>,&#160;Proc.&#160;Network&#160;and<br/>Distributed&#160;System&#160;Security&#160;Symposium&#160;(NDSS-2005),&#160;2005.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft9116">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 92 -->
<a name="92"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page92-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter092.png" alt="background image"/>
<p style="position:absolute;top:142px;left:141px;white-space:nowrap" class="ft9211">92</p>
<p style="position:absolute;top:141px;left:176px;white-space:nowrap" class="ft9216">OpenTC&#160;D05.5&#160;–&#160;Design&#160;and&#160;Concept&#160;of&#160;a&#160;Trusted&#160;Virtual&#160;Datacenter</p>
<p style="position:absolute;top:196px;left:141px;white-space:nowrap" class="ft9211">[KMP</p>
<p style="position:absolute;top:192px;left:182px;white-space:nowrap" class="ft9228">+</p>
<p style="position:absolute;top:196px;left:192px;white-space:nowrap" class="ft9211">04]</p>
<p style="position:absolute;top:196px;left:243px;white-space:nowrap" class="ft9212">Evangelos&#160;Kotsovinos,&#160;Tim&#160;Moreton,&#160;Ian&#160;Pratt,&#160;Russ&#160;Ross,&#160;Kier<br/>Fraser,&#160;Steven&#160;Hand,&#160;and&#160;Tim&#160;Harris,&#160;<i>Global-scale&#160;Service&#160;Deploy-<br/>ment&#160;in&#160;the&#160;XenoServer&#160;Platform</i>,&#160;Proceedings&#160;of&#160;the&#160;1st&#160;USENIX<br/>Workshop&#160;on&#160;Real,&#160;Large&#160;Distributed&#160;Systems&#160;(WORLDS&#160;’04)<br/>(San&#160;Francisco,&#160;CA),&#160;December&#160;2004.</p>
<p style="position:absolute;top:311px;left:141px;white-space:nowrap" class="ft9211">[KS05]</p>
<p style="position:absolute;top:311px;left:243px;white-space:nowrap" class="ft9264">S.&#160;Kent&#160;and&#160;K.&#160;Seo,&#160;<i>Security&#160;Architecture&#160;for&#160;the&#160;Internet&#160;Pro-<br/>tocol</i>,&#160;Internet&#160;Engineering&#160;Task&#160;Force:</p>
<p style="position:absolute;top:332px;left:522px;white-space:nowrap" class="ft9238"><a href="http://www.ietf.org/rfc/rfc4301.txt">http://www.ietf.</a></p>
<p style="position:absolute;top:352px;left:243px;white-space:nowrap" class="ft9238"><a href="http://www.ietf.org/rfc/rfc4301.txt">org/rfc/rfc4301.txt</a></p>
<p style="position:absolute;top:351px;left:429px;white-space:nowrap" class="ft9211"><a href="http://www.ietf.org/rfc/rfc4301.txt">,&#160;</a>December&#160;2005,&#160;Network&#160;Working</p>
<p style="position:absolute;top:372px;left:243px;white-space:nowrap" class="ft9211">Group&#160;RFC&#160;4346.&#160;Obsoletes:&#160;RCF2401.</p>
<p style="position:absolute;top:405px;left:141px;white-space:nowrap" class="ft9211">[Lit05]</p>
<p style="position:absolute;top:405px;left:243px;white-space:nowrap" class="ft9212">L.&#160;Litty,&#160;<i>Hypervisor-Based&#160;Intrusion&#160;Detection</i>,&#160;Ph.D.&#160;thesis,&#160;Uni-<br/>versity&#160;of&#160;Toronto,&#160;2005.</p>
<p style="position:absolute;top:459px;left:141px;white-space:nowrap" class="ft9211">[LMJ04]</p>
<p style="position:absolute;top:459px;left:243px;white-space:nowrap" class="ft9212">Marcos&#160;Laureano,&#160;Carlos&#160;Maziero,&#160;and&#160;Edgard&#160;Jamhour,&#160;<i>Intrusion<br/>Detection&#160;in&#160;Virtual&#160;Machine&#160;Environments</i>,&#160;EUROMICRO&#160;’04:<br/>Proceedings&#160;of&#160;the&#160;30th&#160;EUROMICRO&#160;Conference&#160;(EUROMI-<br/>CRO’04)&#160;(Washington,&#160;DC,&#160;USA),&#160;IEEE&#160;Computer&#160;Society,&#160;2004,<br/>pp.&#160;520–525.</p>
<p style="position:absolute;top:574px;left:141px;white-space:nowrap" class="ft9211">[LS99]</p>
<p style="position:absolute;top:574px;left:243px;white-space:nowrap" class="ft9212">Emil&#160;Lupu&#160;and&#160;Morris&#160;Sloman,&#160;<i>Conflicts&#160;in&#160;policy-based&#160;dis-<br/>tributed&#160;system&#160;management</i>,&#160;IEEE&#160;Transaction&#160;on&#160;Software&#160;En-<br/>gineering&#160;<b>25&#160;</b>(1999),&#160;no.&#160;6,&#160;852–869.</p>
<p style="position:absolute;top:649px;left:141px;white-space:nowrap" class="ft9211">[N.&#160;01]</p>
<p style="position:absolute;top:649px;left:243px;white-space:nowrap" class="ft9212">N.&#160;Dunlop,&#160;J.&#160;Indulska,&#160;K.&#160;A.&#160;Raymond,&#160;<i>A&#160;formal&#160;specification<br/>of&#160;conflicts&#160;in&#160;dynamic&#160;policy-based&#160;management&#160;systems</i>,&#160;DSTC<br/>Technical&#160;Report,&#160;CRC&#160;for&#160;Enterprise&#160;Distributed&#160;Systems,&#160;Uni-<br/>versity&#160;of&#160;Queensland,&#160;Australia,&#160;August&#160;2001.</p>
<p style="position:absolute;top:744px;left:141px;white-space:nowrap" class="ft9211">[NLPFMA04]&#160;Jr.&#160;Nick&#160;L.&#160;Petroni,&#160;Timothy&#160;Fraser,&#160;Jesus&#160;Molina,&#160;and&#160;William&#160;A.</p>
<p style="position:absolute;top:764px;left:243px;white-space:nowrap" class="ft9212">Arbaugh,&#160;<i>Copilot&#160;-&#160;A&#160;Coprocessor-based&#160;Kernel&#160;Runtime&#160;In-<br/>tegrity&#160;Monitor</i>,&#160;SSYM’04:&#160;Proceedings&#160;of&#160;the&#160;13th&#160;conference&#160;on<br/>USENIX&#160;Security&#160;Symposium&#160;(Berkeley,&#160;CA,&#160;USA),&#160;USENIX&#160;As-<br/>sociation,&#160;2004,&#160;pp.&#160;13–13.</p>
<p style="position:absolute;top:859px;left:141px;white-space:nowrap" class="ft9211">[Ope08a]</p>
<p style="position:absolute;top:859px;left:243px;white-space:nowrap" class="ft9264">Open&#160;Trusted&#160;Computing&#160;(OpenTC)&#160;Project,&#160;<i>The&#160;OpenTC&#160;Project<br/>Homepage</i>,&#160;2008,</p>
<p style="position:absolute;top:880px;left:362px;white-space:nowrap" class="ft9238"><a href="http://www.opentc.net/">http://www.opentc.net/</a></p>
<p style="position:absolute;top:879px;left:578px;white-space:nowrap" class="ft9211"><a href="http://www.opentc.net/">.</a></p>
<p style="position:absolute;top:913px;left:141px;white-space:nowrap" class="ft9211">[Ope08b]</p>
<p style="position:absolute;top:913px;left:243px;white-space:nowrap" class="ft9264">OpenTC&#160;Workpackage&#160;05,&#160;<i>Design&#160;of&#160;the&#160;cross-domain&#160;security<br/>services</i>,&#160;Deliverable,&#160;The&#160;OpenTC&#160;Project</p>
<p style="position:absolute;top:934px;left:537px;white-space:nowrap" class="ft9238"><a href="http://www.opentc.net">www.opentc.net</a></p>
<p style="position:absolute;top:933px;left:675px;white-space:nowrap" class="ft9211"><a href="http://www.opentc.net">,</a></p>
<p style="position:absolute;top:954px;left:243px;white-space:nowrap" class="ft9211">05/26/2008.</p>
<p style="position:absolute;top:987px;left:141px;white-space:nowrap" class="ft9211">[RHKSP06]</p>
<p style="position:absolute;top:987px;left:243px;white-space:nowrap" class="ft9212">H.&#160;P.&#160;Reiser,&#160;F.&#160;J.&#160;Hauck,&#160;R.&#160;Kapitza,&#160;and&#160;W.&#160;Schröder-Preikschat,<br/><i>Hypervisor-Based&#160;Redundant&#160;Execution&#160;on&#160;a&#160;Single&#160;Physical&#160;Host</i>,<br/>Proc.&#160;6th&#160;European&#160;Dependable&#160;Computing&#160;Conference&#160;(EDCC-<br/>2006),&#160;October&#160;2006,&#160;p.&#160;S.2.</p>
<p style="position:absolute;top:1114px;left:141px;white-space:nowrap" class="ft9216">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<!-- Page 93 -->
<a name="93"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page93-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="OpenTC_D05.5_Trusted_Virtual_Datacenter093.png" alt="background image"/>
<p style="position:absolute;top:142px;left:213px;white-space:nowrap" class="ft9323">BIBLIOGRAPHY</p>
<p style="position:absolute;top:142px;left:734px;white-space:nowrap" class="ft9311">93</p>
<p style="position:absolute;top:196px;left:213px;white-space:nowrap" class="ft9311">[RK07]</p>
<p style="position:absolute;top:196px;left:314px;white-space:nowrap" class="ft9312">Hans&#160;P.&#160;Reiser&#160;and&#160;Rudiger&#160;Kapitza,&#160;<i>Hypervisor-Based&#160;Efficient<br/>Proactive&#160;Recovery</i>,&#160;SRDS&#160;’07:&#160;Proc.&#160;26th&#160;IEEE&#160;International<br/>Symposium&#160;on&#160;Reliable&#160;Distributed&#160;Systems,&#160;IEEE&#160;Computer&#160;So-<br/>ciety,&#160;Washington,&#160;DC,&#160;USA,&#160;2007,&#160;pp.&#160;83–92.</p>
<p style="position:absolute;top:290px;left:213px;white-space:nowrap" class="ft9311">[Ros08]</p>
<p style="position:absolute;top:290px;left:314px;white-space:nowrap" class="ft9312">Russ&#160;Ross,&#160;<i>CoWNFS</i>,&#160;http://www.russross.com/CoWNFS.html,<br/>2008.</p>
<p style="position:absolute;top:344px;left:213px;white-space:nowrap" class="ft9311">[RYG00]</p>
<p style="position:absolute;top:344px;left:314px;white-space:nowrap" class="ft9364">D.&#160;Pendarakis&#160;R.&#160;Yavatkar&#160;and&#160;R.&#160;Guerin,&#160;<i>A&#160;framework&#160;for&#160;policy-<br/>based&#160;admission&#160;control</i>,&#160;RFC&#160;2753,&#160;January&#160;2000.</p>
<p style="position:absolute;top:398px;left:213px;white-space:nowrap" class="ft9311">[SS05]</p>
<p style="position:absolute;top:398px;left:314px;white-space:nowrap" class="ft9312">A-R.&#160;Sadeghi&#160;and&#160;C.&#160;Stüble,&#160;<i>Property-based&#160;Attestation&#160;for&#160;Com-<br/>puting&#160;Platforms:&#160;Caring&#160;about&#160;Properties,&#160;not&#160;Mechanisms</i>,&#160;Proc.<br/>2004&#160;Workshop&#160;on&#160;New&#160;Security&#160;Paradigms&#160;(NSPW-2004)&#160;(New<br/>York,&#160;NY,&#160;USA),&#160;ACM&#160;Press,&#160;2005,&#160;pp.&#160;67–77.</p>
<p style="position:absolute;top:493px;left:213px;white-space:nowrap" class="ft9311">[ste01]</p>
<p style="position:absolute;top:493px;left:314px;white-space:nowrap" class="ft9311">stealth,&#160;<i>Adore-ng&#160;v0.42</i>,&#160;http://packetstormsecurity.org/,&#160;2001.</p>
<p style="position:absolute;top:527px;left:213px;white-space:nowrap" class="ft9311">[Tru03]</p>
<p style="position:absolute;top:527px;left:314px;white-space:nowrap" class="ft9312">Trusted&#160;Computing&#160;Group,&#160;<i>TPM&#160;Main&#160;Specification&#160;v1.2</i>,&#160;Novem-<br/>ber&#160;2003,</p>
<p style="position:absolute;top:548px;left:380px;white-space:nowrap" class="ft9338"><a href="https://www.trustedcomputinggroup.org">https://www.trustedcomputinggroup.org</a></p>
<p style="position:absolute;top:547px;left:744px;white-space:nowrap" class="ft9311"><a href="https://www.trustedcomputinggroup.org">.</a></p>
<p style="position:absolute;top:581px;left:213px;white-space:nowrap" class="ft9311">[VMw]</p>
<p style="position:absolute;top:581px;left:314px;white-space:nowrap" class="ft9311">VMware,&#160;<i>VMware&#160;Double-Take</i>,</p>
<p style="position:absolute;top:582px;left:535px;white-space:nowrap" class="ft9338"><a href="http://www.vmware.com/pdf/vmware_doubletake.pdf">http://www.vmware.com/</a></p>
<p style="position:absolute;top:602px;left:314px;white-space:nowrap" class="ft9338"><a href="http://www.vmware.com/pdf/vmware_doubletake.pdf">pdf/vmware_doubletake.pdf</a></p>
<p style="position:absolute;top:601px;left:560px;white-space:nowrap" class="ft9311"><a href="http://www.vmware.com/pdf/vmware_doubletake.pdf">.</a></p>
<p style="position:absolute;top:635px;left:213px;white-space:nowrap" class="ft9311">[Was06]</p>
<p style="position:absolute;top:635px;left:314px;white-space:nowrap" class="ft9311">Washington&#160;Post,&#160;<i>A&#160;Time&#160;to&#160;Patch</i>,&#160;2006,</p>
<p style="position:absolute;top:636px;left:633px;white-space:nowrap" class="ft9338"><a href="http://blog.washingtonpost.com/securityfix/2006/01/a_time_to_patch.html">http://blog.</a></p>
<p style="position:absolute;top:656px;left:314px;white-space:nowrap" class="ft9338"><a href="http://blog.washingtonpost.com/securityfix/2006/01/a_time_to_patch.html">washingtonpost.com/securityfix/2006/01/a_</a></p>
<p style="position:absolute;top:677px;left:314px;white-space:nowrap" class="ft9338"><a href="http://blog.washingtonpost.com/securityfix/2006/01/a_time_to_patch.html">time_to_patch.html</a></p>
<p style="position:absolute;top:676px;left:491px;white-space:nowrap" class="ft9311"><a href="http://blog.washingtonpost.com/securityfix/2006/01/a_time_to_patch.html">.</a></p>
<p style="position:absolute;top:710px;left:213px;white-space:nowrap" class="ft9311">[Wes01]</p>
<p style="position:absolute;top:710px;left:314px;white-space:nowrap" class="ft9312">Andrea&#160;Westerinen,&#160;<i>Terminology&#160;for&#160;policy-based&#160;management</i>,<br/>RFC&#160;3198,&#160;November&#160;2001.</p>
<p style="position:absolute;top:764px;left:213px;white-space:nowrap" class="ft9311">[ZvDJ</p>
<p style="position:absolute;top:760px;left:254px;white-space:nowrap" class="ft9328">+</p>
<p style="position:absolute;top:764px;left:265px;white-space:nowrap" class="ft9311">02]</p>
<p style="position:absolute;top:764px;left:314px;white-space:nowrap" class="ft9312">Xiaolan&#160;Zhang,&#160;Leendert&#160;van&#160;Doorn,&#160;Trent&#160;Jaeger,&#160;Ronald&#160;Perez,<br/>and&#160;Reiner&#160;Sailer,&#160;<i>Secure&#160;coprocessor-based&#160;intrusion&#160;detection</i>,<br/>EW10:&#160;Proceedings&#160;of&#160;the&#160;10th&#160;workshop&#160;on&#160;ACM&#160;SIGOPS&#160;Euro-<br/>pean&#160;workshop&#160;(New&#160;York,&#160;NY,&#160;USA),&#160;ACM,&#160;2002,&#160;pp.&#160;239–242.</p>
<p style="position:absolute;top:1114px;left:213px;white-space:nowrap" class="ft9316">OpenTC&#160;Document&#160;D05.5/V01&#160;–&#160;Final&#160;R7343/2008/11/11/OpenTC&#160;Public&#160;(PU)</p>
</div>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li>OpenTC_D05.5_Trusted_Virtual_Datacenter_FINAL.pdf
<ul>
<li>OpenTC_D05.5_Trusted_Virtual_Datacenter_FINAL.pdf
<ul>
<li>otcD05.5-v01-VirtualDatacenter.pdf
<ul>
<li>otcD05.5-v01-VirtualDatacenter.pdf
<ul>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#5">I Main Concepts of the OpenTC Trusted Virtual Datacenter</a>
<ul>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#6">Introduction and Outline</a>
<ul>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#6">Introduction</a></li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#8">Outline of this Report</a></li>
</ul>
</li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#9">Secure Virtualized Datacenters</a>
<ul>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#9">Objectives &amp; Proof-of-concept Scenario</a></li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#10">High-level Architecture</a></li>
</ul>
</li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#13">Policy Enforcement for Virtual Datacenters</a>
<ul>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#13">Security Policies for Virtual Data Centers</a></li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#20">Unified Policy Enforcement for Virtual Data Centers</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#28">II Building Blocks and Future Directions</a>
<ul>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#29">Automated Provisioning of Secure Virtual Networks</a>
<ul>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#29">Introduction to Secure Virtual Networking</a></li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#30">Design Overview</a></li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#33">Networking Infrastructure</a></li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#40">TVD Infrastructure</a></li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#47">Auto-deployment of Trusted Virtual Domains)</a></li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#53">Implementation in Xen</a></li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#57">Performance Results</a></li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#59">Discussion</a></li>
</ul>
</li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#60">Dependable and Secure Virtual Datacenters</a>
<ul>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#60">Introduction to Dependable Virtualization</a></li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#61">Related Work</a></li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#64">Using Virtualization for Dependability and Security</a></li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#67">Xen-based Implementation of Intrusion Detection and Protection</a></li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#78">Quantifying the Impact of Virtualization on Node Reliability</a></li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#83">An Architecture for a More Reliable Xen VMM</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#86">III Conclusion</a>
<ul>
<li><a href="OpenTC_D05.5_Trusted_Virtual_Datacenter.html#89">Bibliography</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</body>
</html>
